"use strict";(self.webpackChunkgame_apps=self.webpackChunkgame_apps||[]).push([[179],{2011:(Ce,V,C)=>{C.d(V,{Dh:()=>D,GT:()=>M,cc:()=>B,hO:()=>j,on:()=>I,pX:()=>H,xv:()=>k});var o=C(4650),$=C(1274),L=C(7171);Ce=C.hmd(Ce);const X=["ngOnDestroy"],H=(ne,E,G,K={})=>new Proxy(ne,{get:(te,se)=>G.runOutsideAngular(()=>{var ie;if(ne[se])return!(null===(ie=K?.spy)||void 0===ie)&&ie.get&&K.spy.get(se,ne[se]),ne[se];if(X.indexOf(se)>-1)return()=>{};const me=E.toPromise().then(ue=>{const J=ue&&ue[se];return"function"==typeof J?J.bind(ue):J&&J.then?J.then(he=>G.run(()=>he)):G.run(()=>J)});return new Proxy(()=>{},{get:(ue,J)=>me[J],apply:(ue,J,he)=>me.then(xe=>{var Re;const z=xe&&xe(...he);return!(null===(Re=K?.spy)||void 0===Re)&&Re.apply&&K.spy.apply(se,he,z),z})})})}),M=(ne,E)=>{E.forEach(G=>{Object.getOwnPropertyNames(G.prototype||G).forEach(K=>{Object.defineProperty(ne.prototype,K,Object.getOwnPropertyDescriptor(G.prototype||G,K))})})};class R{constructor(E){return E}}const D=new o.OlP("angularfire2.app.options"),k=new o.OlP("angularfire2.app.name");function I(ne,E,G){const te="object"==typeof G&&G||{};te.name=te.name||"string"==typeof G&&G||"[DEFAULT]";const ie=$.Z.apps.filter(me=>me&&me.name===te.name)[0]||E.runOutsideAngular(()=>$.Z.initializeApp(ne,te));try{JSON.stringify(ne)!==JSON.stringify(ie.options)&&A("error",`${ie.name} Firebase App already initialized with different options${Ce.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new R(ie)}const A=(ne,...E)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ne](...E)},O={provide:R,useFactory:I,deps:[D,o.R0b,[new o.FiY,k]]};let j=(()=>{class ne{constructor(G){$.Z.registerVersion("angularfire",L.q4.full,"core"),$.Z.registerVersion("angularfire",L.q4.full,"app-compat"),$.Z.registerVersion("angular",o.q4F.full,G.toString())}static initializeApp(G,K){return{ngModule:ne,providers:[{provide:D,useValue:G},{provide:k,useValue:K}]}}}return ne.\u0275fac=function(G){return new(G||ne)(o.LFG(o.Lbi))},ne.\u0275mod=o.oAB({type:ne}),ne.\u0275inj=o.cJS({providers:[O]}),ne})();function B(ne,E,G,K,te){const[,se,ie]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===ne)||[];if(se)return function U(ne,E){try{return ne.toString()===E.toString()}catch{return ne===E}}(te,ie)||(W("error",`${E} was already initialized on the ${G} Firebase App with different settings.${Y?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:te,was:ie})),se;{const me=K();return globalThis.\u0275AngularfireInstanceCache.push([ne,me,te]),me}}const Y=!!Ce.hot,W=(ne,...E)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ne](...E)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7171:(Ce,V,C)=>{C.d(V,{q4:()=>cf,iC:()=>hf,fc:()=>uf,HU:()=>df,vb:()=>O_,JM:()=>yp});var o=C(4650),$=C(8140),L=C(5861),H=(C(7212),C(5578));function pu(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,L.Z)(function*(){if(!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}function ap(){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,L.Z)(function*(){try{yield(0,H.eu)()}catch{return!1}return typeof window<"u"&&(0,H.hl)()&&(0,H.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Go(){return zo.apply(this,arguments)}function zo(){return(zo=(0,L.Z)(function*(){if((0,H.ru)()||!(0,H.zI)()||!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}C(1617),C(1877);var Pu=C(233),k_=C(4986),dd=C(8505),tc=C(5363),_p=C(9468);const cf=new o.GfV("7.6.1"),ud="__angularfire_symbol__analyticsIsSupportedValue",hd="__angularfire_symbol__analyticsIsSupported",fd="__angularfire_symbol__remoteConfigIsSupportedValue",dl="__angularfire_symbol__remoteConfigIsSupported",nc="__angularfire_symbol__messagingIsSupportedValue",ul="__angularfire_symbol__messagingIsSupported";function yp(S,N,ee){if(N){if(1===N.length)return N[0];const Ue=N.filter(Qe=>Qe.app===ee);if(1===Ue.length)return Ue[0]}return ee.container.getProvider(S).getImmediate({optional:!0})}globalThis[hd]||(globalThis[hd]=Go().then(S=>globalThis[ud]=S).catch(()=>globalThis[ud]=!1)),globalThis[ul]||(globalThis[ul]=ap().then(S=>globalThis[nc]=S).catch(()=>globalThis[nc]=!1)),globalThis[dl]||(globalThis[dl]=pu().then(S=>globalThis[fd]=S).catch(()=>globalThis[fd]=!1));const O_=(S,N)=>{const ee=N?[N]:(0,$.C6)(),_e=[];return ee.forEach(Ae=>{Ae.container.getProvider(S).instances.forEach(Qe=>{_e.includes(Qe)||_e.push(Qe)})}),_e};function hl(){}class Nu{constructor(N,ee=Pu.N){this.zone=N,this.delegate=ee}now(){return this.delegate.now()}schedule(N,ee,_e){const Ae=this.zone;return this.delegate.schedule(function(Qe){Ae.runGuarded(()=>{N.apply(this,[Qe])})},ee,_e)}}class vp{constructor(N){this.zone=N,this.task=null}call(N,ee){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),ee.pipe((0,dd.b)({next:_e,complete:_e,error:_e})).subscribe(N).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let df=(()=>{class S{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Nu(Zone.current)),this.insideAngular=ee.run(()=>new Nu(Zone.current,k_.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(ee){return new(ee||S)(o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Eo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function uf(S){return S.pipe((0,tc.Q)(Eo().outsideAngular))}function hf(S){return Eo(),function fl(S){return function(ee){return(ee=ee.lift(new vp(S.ngZone))).pipe((0,_p.R)(S.outsideAngular),(0,tc.Q)(S.insideAngular))}}(Eo())(S)}},5578:(Ce,V,C)=>{C.d(V,{$s:()=>ts,BH:()=>se,DV:()=>on,Dv:()=>Ln,G6:()=>Fe,GJ:()=>gn,L:()=>k,LL:()=>Te,Pz:()=>te,Sg:()=>ie,UG:()=>J,UI:()=>Ht,US:()=>M,Wj:()=>Xn,Wl:()=>Xe,Yr:()=>be,ZB:()=>O,ZR:()=>ge,aH:()=>K,b$:()=>Re,cI:()=>Oe,dS:()=>Pi,eu:()=>tt,g5:()=>L,gK:()=>Hn,gQ:()=>Zt,h$:()=>D,hl:()=>Le,hu:()=>$,jU:()=>he,lb:()=>an,m9:()=>Dr,ne:()=>cn,p$:()=>A,pd:()=>oi,r3:()=>bt,ru:()=>xe,tV:()=>I,uI:()=>ue,ug:()=>_n,vZ:()=>xt,w1:()=>re,w9:()=>Tt,xO:()=>di,xb:()=>bn,z$:()=>me,zI:()=>ye,zd:()=>hn});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(Me,Se){if(!Me)throw L(Se)},L=function(Me){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Me)},X=function(Me){const Se=[];let Pe=0;for(let nt=0;nt<Me.length;nt++){let je=Me.charCodeAt(nt);je<128?Se[Pe++]=je:je<2048?(Se[Pe++]=je>>6|192,Se[Pe++]=63&je|128):55296==(64512&je)&&nt+1<Me.length&&56320==(64512&Me.charCodeAt(nt+1))?(je=65536+((1023&je)<<10)+(1023&Me.charCodeAt(++nt)),Se[Pe++]=je>>18|240,Se[Pe++]=je>>12&63|128,Se[Pe++]=je>>6&63|128,Se[Pe++]=63&je|128):(Se[Pe++]=je>>12|224,Se[Pe++]=je>>6&63|128,Se[Pe++]=63&je|128)}return Se},M={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Se){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,nt=[];for(let je=0;je<Me.length;je+=3){const ut=Me[je],qt=je+1<Me.length,In=qt?Me[je+1]:0,Ci=je+2<Me.length,ai=Ci?Me[je+2]:0;let lr=(15&In)<<2|ai>>6,ns=63&ai;Ci||(ns=64,qt||(lr=64)),nt.push(Pe[ut>>2],Pe[(3&ut)<<4|In>>4],Pe[lr],Pe[ns])}return nt.join("")},encodeString(Me,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(Me):this.encodeByteArray(X(Me),Se)},decodeString(Me,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(Me):function(Me){const Se=[];let Pe=0,nt=0;for(;Pe<Me.length;){const je=Me[Pe++];if(je<128)Se[nt++]=String.fromCharCode(je);else if(je>191&&je<224){const ut=Me[Pe++];Se[nt++]=String.fromCharCode((31&je)<<6|63&ut)}else if(je>239&&je<365){const Ci=((7&je)<<18|(63&Me[Pe++])<<12|(63&Me[Pe++])<<6|63&Me[Pe++])-65536;Se[nt++]=String.fromCharCode(55296+(Ci>>10)),Se[nt++]=String.fromCharCode(56320+(1023&Ci))}else{const ut=Me[Pe++],qt=Me[Pe++];Se[nt++]=String.fromCharCode((15&je)<<12|(63&ut)<<6|63&qt)}}return Se.join("")}(this.decodeStringToByteArray(Me,Se))},decodeStringToByteArray(Me,Se){this.init_();const Pe=Se?this.charToByteMapWebSafe_:this.charToByteMap_,nt=[];for(let je=0;je<Me.length;){const ut=Pe[Me.charAt(je++)],In=je<Me.length?Pe[Me.charAt(je)]:0;++je;const ai=je<Me.length?Pe[Me.charAt(je)]:64;++je;const En=je<Me.length?Pe[Me.charAt(je)]:64;if(++je,null==ut||null==In||null==ai||null==En)throw new R;nt.push(ut<<2|In>>4),64!==ai&&(nt.push(In<<4&240|ai>>2),64!==En&&nt.push(ai<<6&192|En))}return nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D=function(Me){const Se=X(Me);return M.encodeByteArray(Se,!0)},k=function(Me){return D(Me).replace(/\./g,"")},I=function(Me){try{return M.decodeString(Me,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function A(Me){return O(void 0,Me)}function O(Me,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Se}for(const Pe in Se)!Se.hasOwnProperty(Pe)||!j(Pe)||(Me[Pe]=O(Me[Pe],Se[Pe]));return Me}function j(Me){return"__proto__"!==Me}const ne=()=>{try{return function B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Se=Me&&I(Me[1]);return Se&&JSON.parse(Se)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},K=()=>{var Me;return null===(Me=ne())||void 0===Me?void 0:Me.config},te=Me=>{var Se;return null===(Se=ne())||void 0===Se?void 0:Se[`_${Me}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,Pe)=>{this.resolve=Se,this.reject=Pe})}wrapCallback(Se){return(Pe,nt)=>{Pe?this.reject(Pe):this.resolve(nt),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(Pe):Se(Pe,nt))}}}function ie(Me,Se){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const nt=Se||"demo-project",je=Me.iat||0,ut=Me.sub||Me.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${nt}`,aud:nt,iat:je,exp:je+3600,auth_time:je,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[k(JSON.stringify({alg:"none",type:"JWT"})),k(JSON.stringify(qt)),""].join(".")}function me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function J(){var Me;const Se=null===(Me=ne())||void 0===Me?void 0:Me.forceEnvironment;if("node"===Se)return!0;if("browser"===Se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function xe(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function re(){const Me=me();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function be(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function Fe(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function tt(){return new Promise((Me,Se)=>{try{let Pe=!0;const nt="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(nt);je.onsuccess=()=>{je.result.close(),Pe||self.indexedDB.deleteDatabase(nt),Me(!0)},je.onupgradeneeded=()=>{Pe=!1},je.onerror=()=>{var ut;Se((null===(ut=je.error)||void 0===ut?void 0:ut.message)||"")}}catch(Pe){Se(Pe)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ge extends Error{constructor(Se,Pe,nt){super(Pe),this.code=Se,this.customData=nt,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(Se,Pe,nt){this.service=Se,this.serviceName=Pe,this.errors=nt}create(Se,...Pe){const nt=Pe[0]||{},je=`${this.service}/${Se}`,ut=this.errors[Se],qt=ut?function Be(Me,Se){return Me.replace(ce,(Pe,nt)=>{const je=Se[nt];return null!=je?String(je):`<${nt}?>`})}(ut,nt):"Error";return new ge(je,`${this.serviceName}: ${qt} (${je}).`,nt)}}const ce=/\{\$([^}]+)}/g;function Oe(Me){return JSON.parse(Me)}function Xe(Me){return JSON.stringify(Me)}const wt=function(Me){let Se={},Pe={},nt={},je="";try{const ut=Me.split(".");Se=Oe(I(ut[0])||""),Pe=Oe(I(ut[1])||""),je=ut[2],nt=Pe.d||{},delete Pe.d}catch{}return{header:Se,claims:Pe,data:nt,signature:je}},Tt=function(Me){const Pe=wt(Me).claims;return!!Pe&&"object"==typeof Pe&&Pe.hasOwnProperty("iat")},gn=function(Me){const Se=wt(Me).claims;return"object"==typeof Se&&!0===Se.admin};function bt(Me,Se){return Object.prototype.hasOwnProperty.call(Me,Se)}function on(Me,Se){if(Object.prototype.hasOwnProperty.call(Me,Se))return Me[Se]}function bn(Me){for(const Se in Me)if(Object.prototype.hasOwnProperty.call(Me,Se))return!1;return!0}function Ht(Me,Se,Pe){const nt={};for(const je in Me)Object.prototype.hasOwnProperty.call(Me,je)&&(nt[je]=Se.call(Pe,Me[je],je,Me));return nt}function xt(Me,Se){if(Me===Se)return!0;const Pe=Object.keys(Me),nt=Object.keys(Se);for(const je of Pe){if(!nt.includes(je))return!1;const ut=Me[je],qt=Se[je];if(pi(ut)&&pi(qt)){if(!xt(ut,qt))return!1}else if(ut!==qt)return!1}for(const je of nt)if(!Pe.includes(je))return!1;return!0}function pi(Me){return null!==Me&&"object"==typeof Me}function di(Me){const Se=[];for(const[Pe,nt]of Object.entries(Me))Array.isArray(nt)?nt.forEach(je=>{Se.push(encodeURIComponent(Pe)+"="+encodeURIComponent(je))}):Se.push(encodeURIComponent(Pe)+"="+encodeURIComponent(nt));return Se.length?"&"+Se.join("&"):""}function hn(Me){const Se={};return Me.replace(/^\?/,"").split("&").forEach(nt=>{if(nt){const[je,ut]=nt.split("=");Se[decodeURIComponent(je)]=decodeURIComponent(ut)}}),Se}function oi(Me){const Se=Me.indexOf("?");if(!Se)return"";const Pe=Me.indexOf("#",Se);return Me.substring(Se,Pe>0?Pe:void 0)}class Zt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Se=1;Se<this.blockSize;++Se)this.pad_[Se]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Se,Pe){Pe||(Pe=0);const nt=this.W_;if("string"==typeof Se)for(let En=0;En<16;En++)nt[En]=Se.charCodeAt(Pe)<<24|Se.charCodeAt(Pe+1)<<16|Se.charCodeAt(Pe+2)<<8|Se.charCodeAt(Pe+3),Pe+=4;else for(let En=0;En<16;En++)nt[En]=Se[Pe]<<24|Se[Pe+1]<<16|Se[Pe+2]<<8|Se[Pe+3],Pe+=4;for(let En=16;En<80;En++){const lr=nt[En-3]^nt[En-8]^nt[En-14]^nt[En-16];nt[En]=4294967295&(lr<<1|lr>>>31)}let ai,Bn,je=this.chain_[0],ut=this.chain_[1],qt=this.chain_[2],In=this.chain_[3],Ci=this.chain_[4];for(let En=0;En<80;En++){En<40?En<20?(ai=In^ut&(qt^In),Bn=1518500249):(ai=ut^qt^In,Bn=1859775393):En<60?(ai=ut&qt|In&(ut|qt),Bn=2400959708):(ai=ut^qt^In,Bn=3395469782);const lr=(je<<5|je>>>27)+ai+Ci+Bn+nt[En]&4294967295;Ci=In,In=qt,qt=4294967295&(ut<<30|ut>>>2),ut=je,je=lr}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+qt&4294967295,this.chain_[3]=this.chain_[3]+In&4294967295,this.chain_[4]=this.chain_[4]+Ci&4294967295}update(Se,Pe){if(null==Se)return;void 0===Pe&&(Pe=Se.length);const nt=Pe-this.blockSize;let je=0;const ut=this.buf_;let qt=this.inbuf_;for(;je<Pe;){if(0===qt)for(;je<=nt;)this.compress_(Se,je),je+=this.blockSize;if("string"==typeof Se){for(;je<Pe;)if(ut[qt]=Se.charCodeAt(je),++qt,++je,qt===this.blockSize){this.compress_(ut),qt=0;break}}else for(;je<Pe;)if(ut[qt]=Se[je],++qt,++je,qt===this.blockSize){this.compress_(ut),qt=0;break}}this.inbuf_=qt,this.total_+=Pe}digest(){const Se=[];let Pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let je=this.blockSize-1;je>=56;je--)this.buf_[je]=255&Pe,Pe/=256;this.compress_(this.buf_);let nt=0;for(let je=0;je<5;je++)for(let ut=24;ut>=0;ut-=8)Se[nt]=this.chain_[je]>>ut&255,++nt;return Se}}function cn(Me,Se){const Pe=new Et(Me,Se);return Pe.subscribe.bind(Pe)}class Et{constructor(Se,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{Se(this)}).catch(nt=>{this.error(nt)})}next(Se){this.forEachObserver(Pe=>{Pe.next(Se)})}error(Se){this.forEachObserver(Pe=>{Pe.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,Pe,nt){let je;if(void 0===Se&&void 0===Pe&&void 0===nt)throw new Error("Missing Observer.");je=function Vn(Me,Se){if("object"!=typeof Me||null===Me)return!1;for(const Pe of Se)if(Pe in Me&&"function"==typeof Me[Pe])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:Pe,complete:nt},void 0===je.next&&(je.next=Ii),void 0===je.error&&(je.error=Ii),void 0===je.complete&&(je.complete=Ii);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),ut}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,Se)}sendOne(Se,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{Pe(this.observers[Se])}catch(nt){typeof console<"u"&&console.error&&console.error(nt)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ii(){}const Ln=function(Me,Se,Pe,nt){let je;if(nt<Se?je="at least "+Se:nt>Pe&&(je=0===Pe?"none":"no more than "+Pe),je)throw new Error(Me+" failed: Was called with "+nt+(1===nt?" argument.":" arguments.")+" Expects "+je+".")};function Hn(Me,Se){return`${Me} failed: ${Se} argument `}function Xn(Me,Se,Pe,nt){if((!nt||Pe)&&"function"!=typeof Pe)throw new Error(Hn(Me,Se)+"must be a valid function.")}function an(Me,Se,Pe,nt){if((!nt||Pe)&&("object"!=typeof Pe||null===Pe))throw new Error(Hn(Me,Se)+"must be a valid context object.")}const Pi=function(Me){const Se=[];let Pe=0;for(let nt=0;nt<Me.length;nt++){let je=Me.charCodeAt(nt);if(je>=55296&&je<=56319){const ut=je-55296;nt++,$(nt<Me.length,"Surrogate pair missing trail surrogate."),je=65536+(ut<<10)+(Me.charCodeAt(nt)-56320)}je<128?Se[Pe++]=je:je<2048?(Se[Pe++]=je>>6|192,Se[Pe++]=63&je|128):je<65536?(Se[Pe++]=je>>12|224,Se[Pe++]=je>>6&63|128,Se[Pe++]=63&je|128):(Se[Pe++]=je>>18|240,Se[Pe++]=je>>12&63|128,Se[Pe++]=je>>6&63|128,Se[Pe++]=63&je|128)}return Se},_n=function(Me){let Se=0;for(let Pe=0;Pe<Me.length;Pe++){const nt=Me.charCodeAt(Pe);nt<128?Se++:nt<2048?Se+=2:nt>=55296&&nt<=56319?(Se+=4,Pe++):Se+=3}return Se},Rn=1e3,Lr=2,ui=144e5,gi=.5;function ts(Me,Se=Rn,Pe=Lr){const nt=Se*Math.pow(Pe,Me),je=Math.round(gi*nt*(Math.random()-.5)*2);return Math.min(ui,nt+je)}function Dr(Me){return Me&&Me._delegate?Me._delegate:Me}},1601:(Ce,V,C)=>{var o=C(4650);let $=null;function L(){return $}class H{}const M=new o.OlP("DocumentToken");let R=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function D(){return(0,o.LFG)(I)}()},providedIn:"platform"}),n})();const k=new o.OlP("Location Initialized");let I=(()=>{class n extends R{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){A()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){A()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function O(){return new I((0,o.LFG)(M))}()},providedIn:"platform"}),n})();function A(){return!!window.history.pushState}function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function B(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function U(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ne)},providedIn:"root"}),n})();const W=new o.OlP("appBaseHref");let ne=(()=>{class n extends Y{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(M).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return j(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+U(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+U(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+U(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(R),o.LFG(W,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E=(()=>{class n extends Y{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=j(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+U(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+U(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(R),o.LFG(W,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),G=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function ie(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(B(se(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+U(i))}normalize(t){return n.stripTrailingSlash(function te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=U,n.joinWithSlash=j,n.stripTrailingSlash=B,n.\u0275fac=function(t){return new(t||n)(o.LFG(Y))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function K(){return new G((0,o.LFG)(Y))}()},providedIn:"root"}),n})();function se(n){return n.replace(/\/index.html$/,"")}const Ur=/\s+/,St=[];let Jt=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=St,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ur):St}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ur):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ur).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Si{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ms=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Si(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,l),_i(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{_i(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _i(n,e){n.context.$implicit=e.item}let Ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Po("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Po("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function Po(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class As{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Hr=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ks=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new As(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Hr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),yi=(()=>{class n{constructor(t,i,r){r._addDefault(new As(t,i))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Hr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),We=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})(),ii=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const tp="browser",Lh="server";function mo(n){return n===Lh}let Ol=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Uh((0,o.LFG)(M),window)}),n})();class Uh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function No(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gu(this.window.history)||gu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xh extends H{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xu extends Xh{static makeCurrent(){!function X(n){$||($=n)}(new xu)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function il(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}();return null==t?null:function I_(n){vo=vo||document.createElement("a"),vo.setAttribute("href",n);const e=vo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vo,nl=null;const op=new o.OlP("TRANSITION_ID"),kv=[{provide:o.ip1,useFactory:function Wc(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[op,M,o.zs3],multi:!0}];let ha=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=new o.OlP("EventManagerPlugins");let qc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(fa),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class rl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Eu=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ma=(()=>{class n extends Eu{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const pa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kc=/%COMP%/g,$l=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Jh(n,e){return e.flat(100).map(t=>t.replace(Kc,n))}function ya(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _s=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new bo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof tf?r.applyToHost(t):r instanceof Jn&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(i.encapsulation){case o.ifc.Emulated:s=new tf(l,u,i,this.appId,m);break;case o.ifc.ShadowDom:return new ef(l,u,t,i);default:s=new Jn(l,u,i,m)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(qc),o.LFG(ma),o.LFG(o.AFp),o.LFG($l))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ol(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ol(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=pa[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=pa[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ya(i)):this.eventManager.addEventListener(e,t,ya(i))}}function ol(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ef extends bo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Jh(r.id,r.styles);for(const l of s){const u=document.createElement("style");u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jn extends bo{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Jh(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class tf extends Jn{constructor(e,t,i,r,s){const l=r+"-"+i.id;super(e,t,i,s,l),this.contentAttr=function ap(n){return"_ngcontent-%COMP%".replace(Kc,n)}(l),this.hostAttr=function Zc(n){return"_nghost-%COMP%".replace(Kc,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Xc=(()=>{class n extends rl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Su=["alt","control","meta","shift"],Qc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qi=(()=>{class n extends rl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Su.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),l+=y+".")}),l+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(t,i){let r=Qc[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Su.forEach(l=>{l!==r&&(0,Jc[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:tp},{provide:o.g9A,useValue:function wo(){xu.makeCurrent()},multi:!0},{provide:M,useFactory:function ed(){return(0,o.RDi)(document),document},deps:[]}]),Kl=new o.OlP(""),al=[{provide:o.rWj,useClass:class zl{addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const u=function(m){l=l||m,s--,0==s&&i(l)};r.forEach(function(m){m.whenStable(u)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ho=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function lp(){return new o.qLn},deps:[]},{provide:fa,useClass:Xc,multi:!0,deps:[M,o.R0b,o.Lbi]},{provide:fa,useClass:Qi,multi:!0,deps:[M]},{provide:_s,useClass:_s,deps:[qc,ma,o.AFp,$l]},{provide:o.FYo,useExisting:_s},{provide:Eu,useExisting:ma},{provide:ma,useClass:ma,deps:[M]},{provide:qc,useClass:qc,deps:[fa,o.R0b]},{provide:class Rc{},useClass:ha,deps:[]},[]];let wa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:op,useExisting:o.AFp},kv]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Kl,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ho,...al],imports:[ii,o.hGG]}),n})(),dp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ea(){return new dp((0,o.LFG)(M))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let rd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):o.LFG(Ql),i},providedIn:"root"}),n})(),Ql=(()=>{class n extends rd{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${o.JZr})`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function sd(n){return new Ql(n.get(M))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();class ll{}class jo{}const $r="*";function vr(n,e){return{type:7,name:n,definitions:e,options:{}}}function bi(n,e=null){return{type:4,styles:e,timings:n}}function ku(n,e=null){return{type:2,steps:n,options:e}}function hi(n){return{type:6,styles:n,offset:null}}function kr(n,e,t){return{type:0,name:n,styles:e,options:t}}function fi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ec(n=null){return{type:9,options:n}}function ad(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function ld(n){Promise.resolve().then(n)}class Go{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ld(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zo{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?ld(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const xo="!";function cd(n){return new o.vHH(3e3,!1)}function hf(){return typeof window<"u"&&typeof window.document<"u"}function fl(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $o(n){switch(n.length){case 0:return new Go;case 1:return n[0];default:return new zo(n)}}function ff(n,e,t,i,r=new Map,s=new Map){const l=[],u=[];let m=-1,y=null;if(i.forEach(w=>{const P=w.get("offset"),Q=P==m,le=Q&&y||new Map;w.forEach((pe,Ie)=>{let ke=Ie,rt=pe;if("offset"!==Ie)switch(ke=e.normalizePropertyName(ke,l),rt){case xo:rt=r.get(Ie);break;case $r:rt=s.get(Ie);break;default:rt=e.normalizeStyleValue(Ie,ke,rt,l)}le.set(ke,rt)}),Q||u.push(le),y=le,m=P}),l.length)throw function Fu(n){return new o.vHH(3502,!1)}();return u}function S(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&N(t,"start",n)));break;case"done":n.onDone(()=>i(t&&N(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&N(t,"destroy",n)))}}function N(n,e,t){const s=ee(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function ee(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function _e(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Ae(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ue=(n,e)=>!1,Qe=(n,e,t)=>[],pt=null;function _t(n){const e=n.parentNode||n.host;return e===pt?null:e}(fl()||typeof Element<"u")&&(hf()?(pt=(()=>document.documentElement)(),Ue=(n,e)=>{for(;e;){if(e===n)return!0;e=_t(e)}return!1}):Ue=(n,e)=>n.contains(e),Qe=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ft=null,er=!1;const Da=Ue,ys=Qe;let ic=(()=>{class n{validateStyleProperty(t){return function tr(n){Ft||(Ft=function Lu(){return typeof document<"u"?document.body:null}()||{},er=!!Ft.style&&"WebkitAppearance"in Ft.style);let e=!0;return Ft.style&&!function Xt(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ft.style,!e&&er&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ft.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Da(t,i)}getParentElement(t){return _t(t)}query(t,i,r){return ys(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,u=[],m){return new Go(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n{}return n.NOOP=new ic,n})();const bp=1e3,Bu="ng-enter",_d="ng-leave",ml="ng-trigger",wp=".ng-trigger",gf="ng-animating",yd=".ng-animating";function vs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Uu(parseFloat(e[1]),e[2])}function Uu(n,e){return"s"===e?n*bp:n}function Wo(n,e,t){return n.hasOwnProperty("duration")?n:function xp(n,e,t){let r,s=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(cd()),{duration:0,delay:0,easing:""};r=Uu(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(s=Uu(parseFloat(m),u[4]));const y=u[5];y&&(l=y)}else r=n;if(!t){let u=!1,m=e.length;r<0&&(e.push(function sf(){return new o.vHH(3100,!1)}()),u=!0),s<0&&(e.push(function Ta(){return new o.vHH(3101,!1)}()),u=!0),u&&e.splice(m,0,cd())}return{duration:r,delay:s,easing:l}}(n,e,t)}function vd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function F_(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ma(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function L_(n,e,t){return t?e+":"+t+";":""}function Nv(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=L_(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=L_(0,sc(t),n.style[t]));n.setAttribute("style",e)}function Wr(n,e,t){n.style&&(e.forEach((i,r)=>{const s=bf(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),fl()&&Nv(n))}function rc(n,e){n.style&&(e.forEach((t,i)=>{const r=bf(i);n.style[r]=""}),fl()&&Nv(n))}function bd(n){return Array.isArray(n)?1==n.length?n[0]:ku(n):n}const _f=new RegExp("{{\\s*(.+?)\\s*}}","g");function wd(n){let e=[];if("string"==typeof n){let t;for(;t=_f.exec(n);)e.push(t[1]);_f.lastIndex=0}return e}function Hu(n,e,t){const i=n.toString(),r=i.replace(_f,(s,l)=>{let u=e[l];return null==u&&(t.push(function A_(n){return new o.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function yf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vf=/-+([a-z0-9])/g;function bf(n){return n.replace(vf,(...e)=>e[1].toUpperCase())}function sc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ps(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function af(n){return new o.vHH(3004,!1)}()}}function Lv(n,e){return window.getComputedStyle(n)[e]}const Aa="*";function Cf(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function H_(n,e,t){if(":"==n[0]){const m=function xd(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function nc(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function dl(n){return new o.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(Sd(r,l));"<"==s[0]&&!(r==Aa&&l==Aa)&&e.push(Sd(l,r))}(i,t,e)):t.push(n),t}const Ed=new Set(["true","1"]),Cd=new Set(["false","0"]);function Sd(n,e){const t=Ed.has(n)||Cd.has(n),i=Ed.has(e)||Cd.has(e);return(r,s)=>{let l=n==Aa||n==r,u=e==Aa||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?Ed.has(n):Cd.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?Ed.has(e):Cd.has(e)),l&&u}}const j_=new RegExp("s*:selfs*,?","g");function Ip(n,e,t,i){return new Bv(n).build(e,t,i)}class Bv{constructor(e){this._driver=e}build(e,t,i){const r=new ju(t);return this._resetContextStyleTimingState(r),Ps(this,bd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ou(){return new o.vHH(3006,!1)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const m=u,y=m.name;y.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,s.push(this.visitState(m,t))}),m.name=y}else if(1==u.type){const m=this.visitTransition(u,t);i+=m.queryCount,r+=m.depCount,l.push(m)}else t.errors.push(function pp(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{wd(m).forEach(y=>{l.hasOwnProperty(y)||s.add(y)})})}),s.size&&(yf(s.values()),t.errors.push(function gp(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ps(this,bd(e.animation),t);return{type:1,matchers:Cf(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ac(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ps(this,i,t)),options:ac(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const u=Ps(this,l,t);return r=Math.max(r,t.currentTime),u});return t.currentTime=r,{type:3,steps:s,options:ac(e.options)}}visitAnimate(e,t){const i=function Id(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Mp(Wo(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Mp(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Wo(t,e);return Mp(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:hi({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,u=!1;if(!l){u=!0;const y={};i.easing&&(y.easing=i.easing),l=hi(y)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,t);m.isEmptyStep=u,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let u of r)"string"==typeof u?u===$r?i.push(u):t.errors.push(new o.vHH(3002,!1)):i.push(F_(u));let s=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!s))for(let m of u.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,m)=>{const y=t.collectedStyles.get(t.currentQuerySelector),w=y.get(m);let P=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(t.errors.push(function dd(n,e,t,i,r){return new o.vHH(3010,!1)}()),P=!1),s=w.startTime),P&&y.set(m,{startTime:s,endTime:r}),t.options&&function Vu(n,e,t){const i=e.params||{},r=wd(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function cl(n){return new o.vHH(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tc(){return new o.vHH(3011,!1)}()),i;let s=0;const l=[];let u=!1,m=!1,y=0;const w=e.steps.map(rt=>{const ht=this._makeStyleAst(rt,t);let mt=null!=ht.offset?ht.offset:function Dp(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ht.styles),Ct=0;return null!=mt&&(s++,Ct=ht.offset=mt),m=m||Ct<0||Ct>1,u=u||Ct<y,y=Ct,l.push(Ct),ht});m&&t.errors.push(function _p(){return new o.vHH(3012,!1)}()),u&&t.errors.push(function cf(){return new o.vHH(3200,!1)}());const P=e.steps.length;let Q=0;s>0&&s<P?t.errors.push(function ud(){return new o.vHH(3202,!1)}()):0==s&&(Q=1/(P-1));const le=P-1,pe=t.currentTime,Ie=t.currentAnimateTimings,ke=Ie.duration;return w.forEach((rt,ht)=>{const mt=Q>0?ht==le?1:Q*ht:l[ht],Ct=mt*ke;t.currentTime=pe+Ie.delay+Ct,Ie.duration=Ct,this._validateStyleAst(rt,t),rt.offset=mt,i.styles.push(rt)}),i}visitReference(e,t){return{type:8,animation:Ps(this,bd(e.animation),t),options:ac(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ac(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ac(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function Td(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(j_,"")),n=n.replace(/@\*/g,wp).replace(/@\w+/g,t=>wp+"-"+t.slice(1)).replace(/:animating/g,yd),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,_e(t.collectedStyles,t.currentQuerySelector,new Map);const u=Ps(this,bd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:e.selector,options:ac(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hd(){return new o.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wo(e.timings,t.errors,!0);return{type:12,animation:Ps(this,bd(e.animation),t),timings:i,options:null}}}class ju{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ac(n){return n?(n=vd(n)).params&&(n.params=function z_(n){return n?vd(n):null}(n.params)):n={},n}function Mp(n,e,t){return{duration:n,delay:e,easing:t}}function Ap(n,e,t,i,r,s,l=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:u}}class Dd{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const W_=new RegExp(":enter","g"),kp=new RegExp(":leave","g");function qr(n,e,t,i,r,s=new Map,l=new Map,u,m,y=[]){return(new Ad).buildKeyframes(n,e,t,i,r,s,l,u,m,y)}class Ad{buildKeyframes(e,t,i,r,s,l,u,m,y,w=[]){y=y||new Dd;const P=new ka(e,t,y,r,s,w,[]);P.options=m;const Q=m.delay?vs(m.delay):0;P.currentTimeline.delayNextStep(Q),P.currentTimeline.setStyles([l],null,P.errors,m),Ps(this,i,P);const le=P.timelines.filter(pe=>pe.containsAnimation());if(le.length&&u.size){let pe;for(let Ie=le.length-1;Ie>=0;Ie--){const ke=le[Ie];if(ke.element===t){pe=ke;break}}pe&&!pe.allowOnlyTimelineStyles()&&pe.setStyles([u],null,P.errors,m)}return le.length?le.map(pe=>pe.buildKeyframes()):[Ap(t,[],[],[],0,Q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:vs(Hu(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?vs(i.duration):null,u=null!=i.delay?vs(i.delay):null;return 0!==l&&e.forEach(m=>{const y=t.appendInstructionToTimeline(m,l,u);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ps(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kd);const l=vs(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ps(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?vs(e.options.delay):0;e.steps.forEach(l=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),Ps(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Wo(t.params?Hu(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(m=>{u.forwardTime((m.offset||0)*s),u.setStyles(m.styles,m.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?vs(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kd);let l=i;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=u.length;let m=null;u.forEach((y,w)=>{t.currentQueryIndex=w;const P=t.createSubContext(e.options,y);s&&P.delayNextStep(s),y===t.element&&(m=P.currentTimeline),Ps(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),u=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=u-m;break;case"full":m=i.currentStaggerTime}const w=t.currentTimeline;m&&w.delayNextStep(m);const P=w.currentTime;Ps(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-P+(r.startTime-i.currentTimeline.startTime)}}const kd={};class ka{constructor(e,t,i,r,s,l,u,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Rd(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=vs(i.duration)),null!=i.delay&&(r.delay=vs(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!l.hasOwnProperty(u))&&(l[u]=Hu(s[u],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new ka(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=kd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Rp(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let u=[];if(r&&u.push(this.element),e.length>0){e=(e=e.replace(W_,"."+this._enterClassName)).replace(kp,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),u.push(...y)}return!s&&0==u.length&&l.push(function fd(n){return new o.vHH(3014,!1)}()),u}}class Rd{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Rd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||$r),this._currentKeyframe.set(t,$r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function K_(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,$r)}else Ma(r,t)}),t}(e,this._globalTimelineStyles);for(let[u,m]of l){const y=Hu(m,s,i);this._pendingStyles.set(u,y),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??$r),this._updateStyle(u,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,m)=>{const y=Ma(u,new Map,this._backFill);y.forEach((w,P)=>{w===xo?e.add(P):w===$r&&t.add(P)}),i||y.set("offset",m/this.duration),r.push(y)});const s=e.size?yf(e.values()):[],l=t.size?yf(t.values()):[];if(i){const u=r[0],m=new Map(u);u.set("offset",0),m.set("offset",1),r=[u,m]}return Ap(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class Rp extends Rd{constructor(e,t,i,r,s,l,u=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,u=t/l,m=Ma(e[0]);m.set("offset",0),s.push(m);const y=Ma(e[0]);y.set("offset",q_(u)),s.push(y);const w=e.length-1;for(let P=1;P<=w;P++){let Q=Ma(e[P]);const le=Q.get("offset");Q.set("offset",q_((t+le*i)/l)),s.push(Q)}i=l,t=0,r="",e=s}return Ap(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function q_(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class br{}const Uv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vv extends br{normalizePropertyName(e,t){return bf(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(Uv.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function lf(n,e){return new o.vHH(3005,!1)}())}return l+s}}function Y_(n,e,t,i,r,s,l,u,m,y,w,P,Q){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:u,queriedElements:m,preStyleProps:y,postStyleProps:w,totalTime:P,errors:Q}}const Sf={};class is{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Tf(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,u,m,y,w){const P=[],Q=this.ast.options&&this.ast.options.params||Sf,pe=this.buildStyles(i,u&&u.params||Sf,P),Ie=m&&m.params||Sf,ke=this.buildStyles(r,Ie,P),rt=new Set,ht=new Map,mt=new Map,Ct="void"===r,Kt={params:Hv(Ie,Q),delay:this.ast.options?.delay},nn=w?[]:qr(e,t,this.ast.animation,s,l,pe,ke,Kt,y,P);let zn=0;if(nn.forEach(uo=>{zn=Math.max(uo.duration+uo.delay,zn)}),P.length)return Y_(t,this._triggerName,i,r,Ct,pe,ke,[],[],ht,mt,zn,P);nn.forEach(uo=>{const Oh=uo.element,Tj=_e(ht,Oh,new Set);uo.preStyleProps.forEach(y_=>Tj.add(y_));const FE=_e(mt,Oh,new Set);uo.postStyleProps.forEach(y_=>FE.add(y_)),Oh!==t&&rt.add(Oh)});const mr=yf(rt.values());return Y_(t,this._triggerName,i,r,Ct,pe,ke,nn,mr,ht,mt,zn)}}function Hv(n,e){const t=vd(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Ra{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=vd(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,u)=>{l&&(l=Hu(l,r,t));const m=this.normalizer.normalizePropertyName(u,t);l=this.normalizer.normalizeStyleValue(u,m,l,t),i.set(u,l)})}),i}}class X_{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Ra(r.style,r.options&&r.options.params||{},i))}),qo(this.states,"true","1"),qo(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new is(e,r,this.states))}),this.fallbackTransition=function $u(n,e,t){return new is(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function qo(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const lc=new Dd;class Q_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=Ip(this._driver,t,i,r);if(i.length)throw function R_(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=ff(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const u=new Map;if(s?(l=qr(this._driver,t,s,Bu,_d,new Map,new Map,i,lc,r),l.forEach(w=>{const P=_e(u,w.element,new Map);w.postStyleProps.forEach(Q=>P.set(Q,null))})):(r.push(function yp(){return new o.vHH(3300,!1)}()),l=[]),r.length)throw function O_(n){return new o.vHH(3504,!1)}();u.forEach((w,P)=>{w.forEach((Q,le)=>{w.set(le,this._driver.computeStyle(P,le,$r))})});const y=$o(l.map(w=>{const P=u.get(w.element);return this._buildPlayer(w,new Map,P)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function hl(n){return new o.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=ee(t,"","","");return S(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Op="ng-animate-queued",ey="ng-animate-disabled",x=[],q={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},De="__ng_removed";class He{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Pd(n){return n??null}(i?e.value:e),i){const s=vd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const ot="void",yt=new He(ot);class Rt{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Nu(n,e){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function vp(n){return new o.vHH(3303,!1)}();if(!function Ai(n){return"start"==n||"done"==n}(i))throw function df(n,e){return new o.vHH(3400,!1)}();const s=_e(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const u=_e(this._engine.statesByElement,e,new Map);return u.has(t)||(bs(e,ml),bs(e,ml+"-"+t),u.set(t,yt)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers.has(t)||u.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Eo(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new ri(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(bs(e,ml),bs(e,ml+"-"+t),this._engine.statesByElement.set(e,u=new Map));let m=u.get(t);const y=new He(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),u.set(t,y),m||(m=yt),y.value!==ot&&m.value===y.value){if(!function If(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,y.params)){const Ie=[],ke=s.matchStyles(m.value,m.params,Ie),rt=s.matchStyles(y.value,y.params,Ie);Ie.length?this._engine.reportError(Ie):this._engine.afterFlush(()=>{rc(e,ke),Wr(e,rt)})}return}const Q=_e(this._engine.playersByElement,e,[]);Q.forEach(Ie=>{Ie.namespaceId==this.id&&Ie.triggerName==t&&Ie.queued&&Ie.destroy()});let le=s.matchTransition(m.value,y.value,e,y.params),pe=!1;if(!le){if(!r)return;le=s.fallbackTransition,pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:le,fromState:m,toState:y,player:l,isFallbackTransition:pe}),pe||(bs(e,Op),l.onStart(()=>{cc(e,Op)})),l.onDone(()=>{let Ie=this.players.indexOf(l);Ie>=0&&this.players.splice(Ie,1);const ke=this._engine.playersByElement.get(e);if(ke){let rt=ke.indexOf(l);rt>=0&&ke.splice(rt,1)}}),this.players.push(l),Q.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,wp,!0);i.forEach(r=>{if(r[De])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const u=[];if(s.forEach((m,y)=>{if(l.set(y,m.value),this._triggers.has(y)){const w=this.trigger(e,y,ot,r);w&&u.push(w)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&$o(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,y=i.get(l)||yt,w=new He(ot),P=new ri(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:y,toState:w,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[De];(!s||s===q)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(u=>{if(u.name==i.triggerName){const m=ee(s,i.triggerName,i.fromState.value,i.toState.value);m._data=e,S(i.player,u.phase,m,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Pt{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Rt(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(t);for(;u;){const m=r.get(u);if(m){const y=i.indexOf(m);i.splice(y+1,0,e),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Wu(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Wu(t))return;const s=t[De];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bs(e,ey)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cc(e,ey))}removeNode(e,t,i,r){if(Wu(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[De]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Wu(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,wp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,yd,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $o(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[De];if(t&&t.setForRemoval){if(e[De]=q,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ey)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$o(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function pd(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Dd,r=[],s=new Map,l=[],u=new Map,m=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(Gt=>{w.add(Gt);const rn=this.driver.query(Gt,".ng-animate-queued",!0);for(let pn=0;pn<rn.length;pn++)w.add(rn[pn])});const P=this.bodyNode,Q=Array.from(this.statesByElement.keys()),le=qu(Q,this.collectedEnterElements),pe=new Map;let Ie=0;le.forEach((Gt,rn)=>{const pn=Bu+Ie++;pe.set(rn,pn),Gt.forEach(ei=>bs(ei,pn))});const ke=[],rt=new Set,ht=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const rn=this.collectedLeaveElements[Gt],pn=rn[De];pn&&pn.setForRemoval&&(ke.push(rn),rt.add(rn),pn.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach(ei=>rt.add(ei)):ht.add(rn))}const mt=new Map,Ct=qu(Q,Array.from(rt));Ct.forEach((Gt,rn)=>{const pn=_d+Ie++;mt.set(rn,pn),Gt.forEach(ei=>bs(ei,pn))}),e.push(()=>{le.forEach((Gt,rn)=>{const pn=pe.get(rn);Gt.forEach(ei=>cc(ei,pn))}),Ct.forEach((Gt,rn)=>{const pn=mt.get(rn);Gt.forEach(ei=>cc(ei,pn))}),ke.forEach(Gt=>{this.processLeaveNode(Gt)})});const Kt=[],nn=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(t).forEach(pn=>{const ei=pn.player,Ds=pn.element;if(Kt.push(ei),this.collectedEnterElements.length){const ho=Ds[De];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(pn.triggerName)){const v_=ho.previousTriggersValues.get(pn.triggerName),kl=this.statesByElement.get(pn.element);if(kl&&kl.has(pn.triggerName)){const zD=kl.get(pn.triggerName);zD.value=v_,kl.set(pn.triggerName,zD)}}return void ei.destroy()}}const uu=!P||!this.driver.containsElement(P,Ds),qa=mt.get(Ds),Jm=pe.get(Ds),pr=this._buildInstruction(pn,i,Jm,qa,uu);if(pr.errors&&pr.errors.length)return void nn.push(pr);if(uu)return ei.onStart(()=>rc(Ds,pr.fromStyles)),ei.onDestroy(()=>Wr(Ds,pr.toStyles)),void r.push(ei);if(pn.isFallbackTransition)return ei.onStart(()=>rc(Ds,pr.fromStyles)),ei.onDestroy(()=>Wr(Ds,pr.toStyles)),void r.push(ei);const Mj=[];pr.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||Mj.push(ho)}),pr.timelines=Mj,i.append(Ds,pr.timelines),l.push({instruction:pr,player:ei,element:Ds}),pr.queriedElements.forEach(ho=>_e(u,ho,[]).push(ei)),pr.preStyleProps.forEach((ho,v_)=>{if(ho.size){let kl=m.get(v_);kl||m.set(v_,kl=new Set),ho.forEach((zD,tL)=>kl.add(tL))}}),pr.postStyleProps.forEach((ho,v_)=>{let kl=y.get(v_);kl||y.set(v_,kl=new Set),ho.forEach((zD,tL)=>kl.add(tL))})});if(nn.length){const Gt=[];nn.forEach(rn=>{Gt.push(function uf(n,e){return new o.vHH(3505,!1)}())}),Kt.forEach(rn=>rn.destroy()),this.reportError(Gt)}const zn=new Map,mr=new Map;l.forEach(Gt=>{const rn=Gt.element;i.has(rn)&&(mr.set(rn,rn),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,zn))}),r.forEach(Gt=>{const rn=Gt.element;this._getPreviousPlayers(rn,!1,Gt.namespaceId,Gt.triggerName,null).forEach(ei=>{_e(zn,rn,[]).push(ei),ei.destroy()})});const uo=ke.filter(Gt=>jv(Gt,m,y)),Oh=new Map;Fp(Oh,this.driver,ht,y,$r).forEach(Gt=>{jv(Gt,m,y)&&uo.push(Gt)});const FE=new Map;le.forEach((Gt,rn)=>{Fp(FE,this.driver,new Set(Gt),m,xo)}),uo.forEach(Gt=>{const rn=Oh.get(Gt),pn=FE.get(Gt);Oh.set(Gt,new Map([...Array.from(rn?.entries()??[]),...Array.from(pn?.entries()??[])]))});const y_=[],Ij=[],Dj={};l.forEach(Gt=>{const{element:rn,player:pn,instruction:ei}=Gt;if(i.has(rn)){if(w.has(rn))return pn.onDestroy(()=>Wr(rn,ei.toStyles)),pn.disabled=!0,pn.overrideTotalTime(ei.totalTime),void r.push(pn);let Ds=Dj;if(mr.size>1){let qa=rn;const Jm=[];for(;qa=qa.parentNode;){const pr=mr.get(qa);if(pr){Ds=pr;break}Jm.push(qa)}Jm.forEach(pr=>mr.set(pr,Ds))}const uu=this._buildAnimation(pn.namespaceId,ei,zn,s,FE,Oh);if(pn.setRealPlayer(uu),Ds===Dj)y_.push(pn);else{const qa=this.playersByElement.get(Ds);qa&&qa.length&&(pn.parentPlayer=$o(qa)),r.push(pn)}}else rc(rn,ei.fromStyles),pn.onDestroy(()=>Wr(rn,ei.toStyles)),Ij.push(pn),w.has(rn)&&r.push(pn)}),Ij.forEach(Gt=>{const rn=s.get(Gt.element);if(rn&&rn.length){const pn=$o(rn);Gt.setRealPlayer(pn)}}),r.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<ke.length;Gt++){const rn=ke[Gt],pn=rn[De];if(cc(rn,_d),pn&&pn.hasAnimation)continue;let ei=[];if(u.size){let uu=u.get(rn);uu&&uu.length&&ei.push(...uu);let qa=this.driver.query(rn,yd,!0);for(let Jm=0;Jm<qa.length;Jm++){let pr=u.get(qa[Jm]);pr&&pr.length&&ei.push(...pr)}}const Ds=ei.filter(uu=>!uu.destroyed);Ds.length?Np(this,rn,Ds):this.processLeaveNode(rn)}return ke.length=0,y_.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const rn=this.players.indexOf(Gt);this.players.splice(rn,1)}),Gt.play()}),y_}elementContainsData(e,t){let i=!1;const r=t[De];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(l=u)}else{const u=this.playersByElement.get(e);if(u){const m=!s||s==ot;u.forEach(y=>{y.queued||!m&&y.triggerName!=r||l.push(y)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const y=m.element,w=y!==s,P=_e(i,y,[]);this._getPreviousPlayers(y,w,l,u,t.toState).forEach(le=>{const pe=le.getRealPlayer();pe.beforeDestroy&&pe.beforeDestroy(),le.destroy(),P.push(le)})}rc(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const u=t.triggerName,m=t.element,y=[],w=new Set,P=new Set,Q=t.timelines.map(pe=>{const Ie=pe.element;w.add(Ie);const ke=Ie[De];if(ke&&ke.removedBeforeQueried)return new Go(pe.duration,pe.delay);const rt=Ie!==m,ht=function ty(n){const e=[];return ny(n,e),e}((i.get(Ie)||x).map(zn=>zn.getRealPlayer())).filter(zn=>!!zn.element&&zn.element===Ie),mt=s.get(Ie),Ct=l.get(Ie),Kt=ff(0,this._normalizer,0,pe.keyframes,mt,Ct),nn=this._buildPlayer(pe,Kt,ht);if(pe.subTimeline&&r&&P.add(Ie),rt){const zn=new ri(e,u,Ie);zn.setRealPlayer(nn),y.push(zn)}return nn});y.forEach(pe=>{_e(this.playersByQueriedElement,pe.element,[]).push(pe),pe.onDone(()=>function Js(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,pe.element,pe))}),w.forEach(pe=>bs(pe,gf));const le=$o(Q);return le.onDestroy(()=>{w.forEach(pe=>cc(pe,gf)),Wr(m,t.toStyles)}),P.forEach(pe=>{_e(r,pe,[]).push(le)}),le}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Go(e.duration,e.delay)}}class ri{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Go,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>S(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_e(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wu(n){return n&&1===n.nodeType}function Pp(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Fp(n,e,t,i,r){const s=[];t.forEach(m=>s.push(Pp(m)));const l=[];i.forEach((m,y)=>{const w=new Map;m.forEach(P=>{const Q=e.computeStyle(y,P,r);w.set(P,Q),(!Q||0==Q.length)&&(y[De]=oe,l.push(y))}),n.set(y,w)});let u=0;return t.forEach(m=>Pp(m,s[u++])),l}function qu(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function l(u){if(!u)return i;let m=s.get(u);if(m)return m;const y=u.parentNode;return m=t.has(y)?y:r.has(y)?i:l(y),s.set(u,m),m}return e.forEach(u=>{const m=l(u);m!==i&&t.get(m).push(u)}),t}function bs(n,e){n.classList?.add(e)}function cc(n,e){n.classList?.remove(e)}function Np(n,e,t){$o(t).onDone(()=>n.processLeaveNode(e))}function ny(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof zo?ny(i.players,e):e.push(i)}}function jv(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Gv{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Pt(e,t,i),this._timelineEngine=new Q_(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let u=this._triggerCache[l];if(!u){const m=[],y=[],w=Ip(this._driver,s,m,y);if(m.length)throw function Fv(n,e){return new o.vHH(3404,!1)}();u=function zu(n,e,t){return new X_(n,e,t)}(r,w,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(t,r,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=Ae(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,u]=Ae(i);return this._timelineEngine.listen(l,t,u,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zv=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wr(this._element,this._initialStyles),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rc(this._element,this._endStyles),this._endStyles=null),Wr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iy(n){let e=null;return n.forEach((t,i)=>{(function LE(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class $v{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Lv(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class $D{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Da(e,t)}getParentElement(e){return _t(e)}query(e,t,i){return ys(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const y=new Map,w=l.filter(le=>le instanceof $v);(function wf(n,e){return 0===n||0===e})(i,r)&&w.forEach(le=>{le.currentSnapshot.forEach((pe,Ie)=>y.set(Ie,pe))});let P=function Ep(n){return n.length?n[0]instanceof Map?n:n.map(e=>F_(e)):[]}(t).map(le=>Ma(le));P=function B_(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(u=>l.set(u,Lv(n,u)))}}return e}(e,P,y);const Q=function Lp(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=iy(e[0]),e.length>1&&(i=iy(e[e.length-1]))):e instanceof Map&&(t=iy(e)),t||i?new zv(n,t,i):null}(e,P);return new $v(e,P,m,Q)}}let WD=(()=>{class n extends ll{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ku(t):t;return ry(this._renderer,null,i,"register",[r]),new BE(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class BE extends jo{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new UE(this._id,e,t||{},this._renderer)}}class UE{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ry(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ry(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const sy="@.disabled";let qD=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const u=l?.parentNode(s);u&&l.removeChild(u,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new oy("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,w)),w}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(l,u,t,w.name,w)};return i.data.animation.forEach(m),new VE(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,u]=s;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(Gv),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class oy{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==sy?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class VE extends oy{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sy?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function HE(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Ku(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(e,t,i)}}let KD=(()=>{class n extends Gv{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M),o.LFG(mf),o.LFG(br),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jE=[{provide:ll,useClass:WD},{provide:br,useFactory:function qv(){return new Vv}},{provide:Gv,useClass:KD},{provide:o.FYo,useFactory:function ay(n,e,t){return new qD(n,e,t)},deps:[_s,Gv,o.R0b]}],Bp=[{provide:mf,useFactory:()=>new $D},{provide:o.QbO,useValue:"BrowserAnimations"},...jE],Up=[{provide:mf,useClass:ic},{provide:o.QbO,useValue:"NoopAnimations"},...jE];let Yu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Up:Bp}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Bp,imports:[wa]}),n})();var li=C(8996),nr=C(9751);const{isArray:Df}=Array,{getPrototypeOf:ZD,prototype:XD,keys:QD}=Object;function ly(n){if(1===n.length){const e=n[0];if(Df(e))return{args:e,keys:null};if(function JD(n){return n&&"object"==typeof n&&ZD(n)===XD}(e)){const t=QD(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Fd=C(8421),Vp=C(3269),wr=C(5403),Ot=C(4004);const{isArray:eM}=Array;function Kv(n){return(0,Ot.U)(e=>function Hp(n,e){return eM(e)?n(...e):n(e)}(n,e))}function Zu(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Mf(...n){const e=(0,Vp.jO)(n),{args:t,keys:i}=ly(n),r=new nr.y(s=>{const{length:l}=t;if(!l)return void s.complete();const u=new Array(l);let m=l,y=l;for(let w=0;w<l;w++){let P=!1;(0,Fd.Xf)(t[w]).subscribe((0,wr.x)(s,Q=>{P||(P=!0,y--),u[w]=Q},()=>m--,void 0,()=>{(!m||!P)&&(y||s.next(i?Zu(i,u):u),s.complete())}))}});return e?r.pipe(Kv(e)):r}let zE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Nd=(()=>{class n extends zE{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const eo=new o.OlP("NgValueAccessor"),WE={provide:eo,useExisting:(0,o.Gpc)(()=>pl),multi:!0},Yv=new o.OlP("CompositionEventMode");let pl=(()=>{class n extends zE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qE(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Yv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([WE]),o.qOj]}),n})();const nM=!1;function gl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Af(n){return null!=n&&"number"==typeof n.length}const rs=new o.OlP("NgValidators"),Ld=new o.OlP("NgAsyncValidators"),iM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ko{static min(e){return function Zv(n){return e=>{if(gl(e.value)||gl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function KE(n){return e=>{if(gl(e.value)||gl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return YE(e)}static requiredTrue(e){return function Xu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function _l(n){return gl(n.value)||iM.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ZE(n){return e=>gl(e.value)||!Af(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function XE(n){return e=>Af(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rM(n){if(!n)return Xv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(gl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return QE(e)}static composeAsync(e){return Yo(e)}}function YE(n){return gl(n.value)?{required:!0}:null}function Xv(n){return null}function Qv(n){return null!=n}function sM(n){const e=(0,o.QGY)(n)?(0,li.D)(n):n;if(nM&&!(0,o.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,t)}return e}function Jv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function eb(n,e){return e.map(t=>t(n))}function tb(n){return n.map(e=>function oM(n){return!n.validate}(e)?e:t=>e.validate(t))}function QE(n){if(!n)return null;const e=n.filter(Qv);return 0==e.length?null:function(t){return Jv(eb(t,e))}}function nb(n){return null!=n?QE(tb(n)):null}function Yo(n){if(!n)return null;const e=n.filter(Qv);return 0==e.length?null:function(t){return Mf(eb(t,e).map(sM)).pipe((0,Ot.U)(Jv))}}function ib(n){return null!=n?Yo(tb(n)):null}function rb(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JE(n){return n._rawValidators}function eC(n){return n._rawAsyncValidators}function sb(n){return n?Array.isArray(n)?n:[n]:[]}function cy(n,e){return Array.isArray(n)?n.includes(e):n===e}function ob(n,e){const t=sb(e);return sb(n).forEach(r=>{cy(t,r)||t.push(r)}),t}function tC(n,e){return sb(e).filter(t=>!cy(n,t))}class nC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ib(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fs extends nC{get formDirective(){return null}get path(){return null}}class Yt extends nC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ab{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kf=(()=>{class n extends ab{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Yt,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),dy=(()=>{class n extends ab{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fs,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();function fM(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const fy=!1,my="VALID",py="INVALID",Oa="PENDING",jp="DISABLED";function gy(n){return(yy(n)?n.validators:n)||null}function cb(n,e){return(yy(e)?e.asyncValidators:n)||null}function yy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function aC(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,fy?function rL(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new o.vHH(1001,fy?function sL(n,e){return`Cannot find form control ${fM(n,e)}`}(e,t):"")}function lC(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,fy?function mM(n,e){return`Must supply a value for form control ${fM(n,e)}`}(e,r):"")})}class vy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===my}get invalid(){return this.status===py}get pending(){return this.status==Oa}get disabled(){return this.status===jp}get enabled(){return this.status!==jp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ob(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ob(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tC(e,this._rawAsyncValidators))}hasValidator(e){return cy(this._rawValidators,e)}hasAsyncValidator(e){return cy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=my,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===my||this.status===Oa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jp:my}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;const t=sM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?jp:this.errors?py:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(py)?py:my}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function _y(n){return Array.isArray(n)?nb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oC(n){return Array.isArray(n)?ib(n):n||null}(this._rawAsyncValidators)}}class Gp extends vy{constructor(e,t,i){super(gy(t),cb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lC(this,!0,e),Object.keys(e).forEach(i=>{aC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class db extends Gp{}const dc=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>by}),by="always";function Of(n,e){return[...e.path,n]}function zp(n,e,t=by){hb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function _M(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wp(n,e)})}(n,e),function Pf(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cC(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ub(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),$p(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function uc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hb(n,e){const t=JE(n);null!==e.validator?n.setValidators(rb(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=eC(n);null!==e.asyncValidator?n.setAsyncValidators(rb(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();uc(e._rawValidators,r),uc(e._rawAsyncValidators,r)}function $p(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=JE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=eC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return uc(e._rawValidators,i),uc(e._rawAsyncValidators,i),t}function Wp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wy(n,e){hb(n,e)}function Kp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Cy(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fb(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===pl?t=s:function fC(n){return Object.getPrototypeOf(n.constructor)===Nd}(s)?i=s:r=s}),r||i||t||null}const wM={provide:Fs,useExisting:(0,o.Gpc)(()=>Nf)},Ff=(()=>Promise.resolve())();let Nf=(()=>{class n extends Fs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Gp({},nb(t),ib(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ff.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),zp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ff.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ff.then(()=>{const i=this._findContainer(t.path),r=new Gp({});wy(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ff.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ff.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Cy(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(rs,10),o.Y36(Ld,10),o.Y36(dc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([wM]),o.qOj]}),n})();function mC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ss=class extends vy{constructor(e=null,t,i){super(gy(t),cb(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},TM={provide:Yt,useExisting:(0,o.Gpc)(()=>Lf)},_C=(()=>Promise.resolve())();let Lf=(()=>{class n extends Yt{constructor(t,i,r,s,l,u){super(),this._changeDetectorRef=l,this.callSetDisabledState=u,this.control=new ss,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fb(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Kp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_C.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);_C.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Of(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fs,9),o.Y36(rs,10),o.Y36(Ld,10),o.Y36(eo,10),o.Y36(o.sBO,8),o.Y36(dc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([TM]),o.qOj,o.TTD]}),n})(),Sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const _b=new o.OlP("NgModelWithFormControlWarning"),yb={provide:Fs,useExisting:(0,o.Gpc)(()=>Bd)};let Bd=(()=>{class n extends Fs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return zp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ub(t.control||null,t,!1),function vM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Cy(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ub(i||null,t),(n=>n instanceof ss)(r)&&(zp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);wy(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function qp(n,e){return $p(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hb(this.form,this),this._oldForm&&$p(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(rs,10),o.Y36(Ld,10),o.Y36(dc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([yb]),o.qOj,o.TTD]}),n})();const vb={provide:Yt,useExisting:(0,o.Gpc)(()=>Iy)};let Iy=(()=>{class n extends Yt{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fb(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Kp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Of(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(Fs,13),o.Y36(rs,10),o.Y36(Ld,10),o.Y36(eo,10),o.Y36(_b,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([vb]),o.qOj,o.TTD]}),n})(),Qu=(()=>{class n{constructor(){this._validator=Xv}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Xv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const OM={provide:rs,useExisting:(0,o.Gpc)(()=>Vf),multi:!0};let Vf=(()=>{class n extends Qu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=t=>YE}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([OM]),o.qOj]}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Pa]}),n})();class kC extends vy{constructor(e,t,i){super(gy(t),cb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lC(this,!1,e),e.forEach((i,r)=>{aC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function RC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let OC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return RC(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Gp(r,s)}record(t,i=null){const r=this._reduceControls(t);return new db(r,i)}control(t,i,r){let s={};return this.useNonNullable?(RC(i)?s=i:(s.validators=i,s.asyncValidators=r),new ss(t,{...s,nonNullable:!0})):new ss(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new kC(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof ss||t instanceof vy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dc,useValue:t.callSetDisabledState??by}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[AC]}),n})(),PC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_b,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:dc,useValue:t.callSetDisabledState??by}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[AC]}),n})();var At=C(9646),os=C(1135);const Ud=(0,C(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rr=C(4671),Ju=C(9672);function Hf(...n){const e=(0,Vp.yG)(n),t=(0,Vp.jO)(n),{args:i,keys:r}=ly(n);if(0===i.length)return(0,li.D)([],e);const s=new nr.y(function Zo(n,e,t=Rr.y){return i=>{Oy(e,()=>{const{length:r}=n,s=new Array(r);let l=r,u=r;for(let m=0;m<r;m++)Oy(e,()=>{const y=(0,li.D)(n[m],e);let w=!1;y.subscribe((0,wr.x)(i,P=>{s[m]=P,w||(w=!0,u--),u||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Zu(r,l):Rr.y));return t?s.pipe(Kv(t)):s}function Oy(n,e,t){n?(0,Ju.f)(t,n,e):e()}var vl=C(8189);function fc(...n){return function jf(){return(0,vl.J)(1)}()((0,li.D)(n,(0,Vp.yG)(n)))}function Vd(n){return new nr.y(e=>{(0,Fd.Xf)(n()).subscribe(e)})}var Gf=C(9635),as=C(576);function Xo(n,e){const t=(0,as.m)(n)?n:()=>n,i=r=>r.error(t());return new nr.y(e?r=>e.schedule(i,0,r):i)}var Ns=C(515),xr=C(727),ls=C(4482);function Py(){return(0,ls.e)((n,e)=>{let t=null;n._refCount++;const i=(0,wr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Fy extends nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ls.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xr.w0.EMPTY)}return e}refCount(){return Py()(this)}}var en=C(7579),Ni=C(3900),Kr=C(5698);function Fa(...n){const e=(0,Vp.yG)(n);return(0,ls.e)((t,i)=>{(e?fc(n,t,e):fc(n,t)).subscribe(i)})}var Li=C(9300),cs=C(5577);function Ny(n){return(0,ls.e)((e,t)=>{let i=!1;e.subscribe((0,wr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function FC(n=NC){return(0,ls.e)((e,t)=>{let i=!1;e.subscribe((0,wr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function NC(){return new Ud}function mc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Li.h)((r,s)=>n(r,s,i)):Rr.y,(0,Kr.q)(1),t?Ny(e):FC(()=>new Ud))}var pc=C(4351),ir=C(8505),Na=C(262),eh=C(5026);function zf(n){return n<=0?()=>Ns.E:(0,ls.e)((e,t)=>{let i=[];e.subscribe((0,wr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Xp(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Li.h)((r,s)=>n(r,s,i)):Rr.y,zf(1),t?Ny(e):FC(()=>new Ud))}function Ly(n,e=!1){return(0,ls.e)((t,i)=>{let r=0;t.subscribe((0,wr.x)(i,s=>{const l=n(s,r++);(l||e)&&i.next(s),!l&&i.complete()}))})}function th(n){return(0,ls.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const vn="primary",nh=Symbol("RouteTitle");class LC{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hd(n){return new LC(n)}function BC(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],u=n[s];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!By(n[r],e[r]))return!1;return!0}function By(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function VC(n){return Array.prototype.concat.apply([],n)}function Tb(n){return n.length>0?n[n.length-1]:null}function Yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gc(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,li.D)(Promise.resolve(n)):(0,At.of)(n)}const Uy=!1,HC={exact:function Ab(n,e,t){if(!to(n.segments,e.segments)||!Qp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ab(n.children[i],e.children[i],t))return!1;return!0},subset:kb},Ib={exact:function Mb(n,e){return Qo(n,e)},subset:function jC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>By(n[t],e[t]))},ignored:()=>!0};function Db(n,e,t){return HC[t.paths](n.root,e.root,t.matrixParams)&&Ib[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kb(n,e,t){return Rb(n,e,e.segments,t)}function Rb(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!to(r,t)||e.hasChildren()||!Qp(r,t,i))}if(n.segments.length===t.length){if(!to(n.segments,t)||!Qp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!kb(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(to(n.segments,r)&&Qp(n.segments,r,i)&&n.children[vn])&&Rb(n.children[vn],e,s,i)}}function Qp(n,e,t){return e.every((i,r)=>Ib[t](n[r].parameters,i.parameters))}class _c{constructor(e=new Mn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return ih.serialize(this)}}class Mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wf(this)}}class $f{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hd(this.parameters)),this._parameterMap}toString(){return GC(this)}}function to(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new eg},providedIn:"root"}),n})();class eg{parse(e){const t=new qf(e);return new _c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tg(e.root,!0)}`,i=function zC(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ob(t)}=${Ob(r)}`).join("&"):`${Ob(t)}=${Ob(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function pL(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ih=new eg;function Wf(n){return n.segments.map(e=>GC(e)).join("/")}function tg(n,e){if(!n.hasChildren())return Wf(n);if(e){const t=n.children[vn]?tg(n.children[vn],!1):"",i=[];return Yr(n.children,(r,s)=>{s!==vn&&i.push(`${s}:${tg(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function zM(n,e){let t=[];return Yr(n.children,(i,r)=>{r===vn&&(t=t.concat(e(i,r)))}),Yr(n.children,(i,r)=>{r!==vn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===vn?[tg(n.children[vn],!1)]:[`${r}:${tg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vn]?`${Wf(n)}/${t[0]}`:`${Wf(n)}/(${t.join("//")})`}}function Hy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ob(n){return Hy(n).replace(/%3B/gi,";")}function Pb(n){return Hy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jy(n){return decodeURIComponent(n)}function Fb(n){return jy(n.replace(/\+/g,"%20"))}function GC(n){return`${Pb(n.path)}${function Or(n){return Object.keys(n).map(e=>`;${Pb(e)}=${Pb(n[e])}`).join("")}(n.parameters)}`}const $M=/^[^\/()?;=#]+/;function Gy(n){const e=n.match($M);return e?e[0]:""}const $C=/^[^=?&#]+/,WC=/^[^&#]+/;class qf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[vn]=new Mn(e,t)),i}parseSegment(){const e=Gy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,Uy);return this.capture(e),new $f(jy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gy(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Gy(this.remaining);r&&(i=r,this.capture(i))}e[jy(t)]=jy(i)}parseQueryParam(e){const t=function WM(n){const e=n.match($C);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function qC(n){const e=n.match(WC);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Fb(t),s=Fb(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gy(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,Uy);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=vn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[vn]:new Mn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,Uy)}}function Nb(n){return n.segments.length>0?new Mn([],{[vn]:n}):n}function zy(n){const e={};for(const i of Object.keys(n.children)){const s=zy(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function KC(n){if(1===n.numberOfChildren&&n.children[vn]){const e=n.children[vn];return new Mn(n.segments.concat(e.segments),e.children)}return n}(new Mn(n.segments,e))}function rh(n){return n instanceof _c}const $y=!1;function bl(n,e,t,i,r){if(0===t.length)return Ls(e.root,e.root,e.root,i,r);const s=function Lb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ea(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Yr(s.outlets,(m,y)=>{u[y]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((u,m)=>{0==m&&"."===u||(0==m&&""===u?t=!0:".."===u?e++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new ea(t,e,i)}(t);return s.toRoot()?Ls(e.root,e.root,new Mn([],{}),i,r):function l(m){const y=function KM(n,e,t,i){if(n.isAbsolute)return new sh(e.root,!0,0);if(-1===i)return new sh(t,t===e.root,0);return function YC(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,$y&&"Invalid number of '../'");r=i.segments.length}return new sh(i,!1,r-s)}(t,i+(ng(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,m),w=y.processChildren?wl(y.segmentGroup,y.index,s.commands):ig(y.segmentGroup,y.index,s.commands);return Ls(e.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function ng(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Kf(n){return"object"==typeof n&&null!=n&&n.outlets}function Ls(n,e,t,i,r){let l,s={};i&&Yr(i,(m,y)=>{s[y]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),l=n===e?t:Jo(n,e,t);const u=Nb(zy(l));return new _c(u,s,r)}function Jo(n,e,t){const i={};return Yr(n.children,(r,s)=>{i[s]=r===e?t:Jo(r,e,t)}),new Mn(n.segments,i)}class ea{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ng(i[0]))throw new o.vHH(4003,$y&&"Root segment cannot have matrix parameters");const r=i.find(Kf);if(r&&r!==Tb(i))throw new o.vHH(4004,$y&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sh{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ig(n,e,t){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return wl(n,e,t);const i=function ZM(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],u=t[i];if(Kf(u))break;const m=`${u}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!Bb(m,y,l))return s;i+=2}else{if(!Bb(m,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mn(n.segments.slice(0,i.pathIndex),{});return s.children[vn]=new Mn(n.segments.slice(i.pathIndex),n.children),wl(s,0,r)}return i.match&&0===r.length?new Mn(n.segments,{}):i.match&&!n.hasChildren()?Ky(n,e,t):i.match?wl(n,0,r):Ky(n,e,t)}function wl(n,e,t){if(0===t.length)return new Mn(n.segments,{});{const i=function YM(n){return Kf(n[0])?n[0].outlets:{[vn]:n}}(t),r={};if(!i[vn]&&n.children[vn]&&1===n.numberOfChildren&&0===n.children[vn].segments.length){const s=wl(n.children[vn],e,t);return new Mn(n.segments,s.children)}return Yr(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=ig(n.children[l],e,s))}),Yr(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new Mn(n.segments,r)}}function Ky(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Kf(s)){const m=XM(s.outlets);return new Mn(i,m)}if(0===r&&ng(t[0])){i.push(new $f(n.segments[e].path,ZC(t[0]))),r++;continue}const l=Kf(s)?s.outlets[vn]:`${s}`,u=r<t.length-1?t[r+1]:null;l&&u&&ng(u)?(i.push(new $f(l,ZC(u))),r+=2):(i.push(new $f(l,{})),r++)}return new Mn(i,{})}function XM(n){const e={};return Yr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ky(new Mn([],{}),0,t))}),e}function ZC(n){const e={};return Yr(n,(t,i)=>e[i]=`${t}`),e}function Bb(n,e,t){return n==t.path&&Qo(e,t.parameters)}const Yf="imperative";class Co{constructor(e,t){this.id=e,this.url=t}}class Ub extends Co{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jd extends Co{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rg extends Co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zf extends Co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Xf extends Co{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XC extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JC extends Co{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e1 extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t1 extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QM{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JM{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a1{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let nA=(()=>{class n{createUrlTree(t,i,r,s,l,u){return bl(t||i.root,r,s,l,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){return nA.\u0275fac(e)},providedIn:"root"}),n})();class l1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Vb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Hb(e,this._root).map(t=>t.value)}}function Vb(n,e){if(n===e.value)return e;for(const t of e.children){const i=Vb(n,t);if(i)return i}return null}function Hb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Hb(n,t);if(i.length)return i.unshift(e),i}return[]}class yc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class c1 extends l1{constructor(e,t){super(e),this.snapshot=t,Yy(this,e)}toString(){return this.snapshot.toString()}}function d1(n,e){const t=function sA(n,e){const l=new sg([],{},{},"",{},vn,e,null,n.root,-1,{});return new Gb("",new yc(l,[]))}(n,e),i=new os.X([new $f("",{})]),r=new os.X({}),s=new os.X({}),l=new os.X({}),u=new os.X(""),m=new Gd(i,r,l,u,s,vn,e,t.root);return m.snapshot=t.root,new c1(new yc(m,[]),t)}class Gd{constructor(e,t,i,r,s,l,u,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,Ot.U)(y=>y[nh]))??(0,At.of)(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Hd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Hd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jb(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function u1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class sg{get title(){return this.data?.[nh]}constructor(e,t,i,r,s,l,u,m,y,w,P){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.routeConfig=m,this._urlSegment=y,this._lastPathIndex=w,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gb extends l1{constructor(e,t){super(t),this.url=e,Yy(this,t)}toString(){return zb(this._root)}}function Yy(n,e){e.value._routerState=n,e.children.forEach(t=>Yy(n,t))}function zb(n){const e=n.children.length>0?` { ${n.children.map(zb).join(", ")} } `:"";return`${n.value}${e}`}function Zy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qo(e.params,t.params)||n.params.next(t.params),function UC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xy(n,e){const t=Qo(n.params,e.params)&&function Vy(n,e){return to(n,e)&&n.every((t,i)=>Qo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Xy(n.parent,e.parent))}function oh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function $b(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return oh(n,i,r);return oh(n,i)})}(n,e,t);return new yc(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(u=>oh(n,u)),l}}const i=function ah(n){return new Gd(new os.X(n.url),new os.X(n.params),new os.X(n.queryParams),new os.X(n.fragment),new os.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>oh(n,s));return new yc(i,r)}}const Wb="ngNavigationCancelingError";function f1(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=rh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=lh(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function lh(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Wb]=!0,i.cancellationCode=e,t&&(i.url=t),i}function oA(n){return Qy(n)&&rh(n.url)}function Qy(n){return n&&n[Wb]}class gL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jf,this.attachRef=null}}let Jf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new gL,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=!1;let m1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=vn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Jf),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,og);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,og);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,og);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new o.vHH(4013,og);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Qt(t,u,r.injector);if(i&&function aA(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(l);this.activated=r.createComponent(y,r.length,m)}else this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class Qt{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Gd?this.route:e===Jf?this.childContexts:this.parent.get(e,t)}}let qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},dependencies:[m1],encapsulation:2}),n})();function p1(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zb(n){const e=n.children&&n.children.map(Zb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vn&&(t.component=qb),t}function So(n){return n.outlet||vn}function Xb(n,e){const t=n.filter(i=>So(i)===e);return t.push(...n.filter(i=>So(i)!==e)),t}function em(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lA{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Qf(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Yr(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qf(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qf(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Qf(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new JM(s.value.snapshot))}),e.children.length&&this.forwardEvent(new o1(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Zy(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),Zy(u.route.value),this.activateChildRoutes(e,null,l.children)}else{const u=em(r.snapshot),m=u?.get(o._Vd)??null;l.attachRef=null,l.route=r,l.resolver=m,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class v1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jy{constructor(e,t){this.component=e,this.route=t}}function lg(n,e,t){const i=n._root;return cg(i,e?e._root:null,t,[i.value])}function tm(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:i}function cg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qf(e);return n.children.forEach(l=>{(function e0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function b1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!to(n.url,e.url);case"pathParamsOrQueryParamsChange":return!to(n.url,e.url)||!Qo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xy(n,e)||!Qo(n.queryParams,e.queryParams);default:return!Xy(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new v1(i)):(s.data=l.data,s._resolvedData=l._resolvedData),cg(n,e,s.component?u?u.children:null:t,i,r),m&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Jy(u.outlet.component,l))}else l&&nm(e,u,r),r.canActivateChecks.push(new v1(i)),cg(n,null,s.component?u?u.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Yr(s,(l,u)=>nm(l,t.getContext(u),r)),r}function nm(n,e,t){const i=Qf(n),r=n.value;Yr(i,(s,l)=>{nm(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Jy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function im(n){return"function"==typeof n}function t0(n){return n instanceof Ud||"EmptyError"===n?.name}const n0=Symbol("INITIAL_VALUE");function ch(){return(0,Ni.w)(n=>Hf(n.map(e=>e.pipe((0,Kr.q)(1),Fa(n0)))).pipe((0,Ot.U)(e=>{for(const t of e)if(!0!==t){if(t===n0)return n0;if(!1===t||t instanceof _c)return t}return!0}),(0,Li.h)(e=>e!==n0),(0,Kr.q)(1)))}function E1(n){return(0,Gf.z)((0,ir.b)(e=>{if(rh(e))throw f1(0,e)}),(0,Ot.U)(e=>!0===e))}const dh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(n,e,t,i,r){const s=Qb(n,e,t);return s.matched?function C1(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,At.of)(!0);const s=r.map(l=>{const u=tm(l,n);return gc(function fA(n){return n&&im(n.canMatch)}(u)?u.canMatch(e,t):n.runInContext(()=>u(e,t)))});return(0,At.of)(s).pipe(ch(),E1())}(i=p1(e,i),e,t).pipe((0,Ot.U)(l=>!0===l?s:{...dh})):(0,At.of)(s)}function Qb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||BC)(t,n,e);if(!r)return{...dh};const s={};Yr(r.posParams,(u,m)=>{s[m]=u.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function s0(n,e,t,i){if(t.length>0&&function vA(n,e,t){return t.some(i=>o0(n,e,i)&&So(i)!==vn)}(n,t,i)){const s=new Mn(e,function EL(n,e,t,i){const r={};r[vn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&So(s)!==vn){const l=new Mn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[So(s)]=l}return r}(n,e,i,new Mn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function T1(n,e,t){return t.some(i=>o0(n,e,i))}(n,t,i)){const s=new Mn(n.segments,function yA(n,e,t,i,r){const s={};for(const l of i)if(o0(n,t,l)&&!r[So(l)]){const u=new Mn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,s[So(l)]=u}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new Mn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function o0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function I1(n,e,t,i){return!!(So(n)===i||i!==vn&&o0(e,t,n))&&("**"===n.path||Qb(e,n,t).matched)}function rm(n,e,t){return 0===e.length&&!n.children[t]}const a0=!1;class hg{constructor(e){this.segmentGroup=e||null}}class D1{constructor(e){this.urlTree=e}}function sm(n){return Xo(new hg(n))}function M1(n){return Xo(new D1(n))}class wA{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=s0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,vn).pipe((0,Ot.U)(s=>this.createUrlTree(zy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Na.K)(s=>{if(s instanceof D1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof hg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,vn).pipe((0,Ot.U)(r=>this.createUrlTree(zy(r),e.queryParams,e.fragment))).pipe((0,Na.K)(r=>{throw r instanceof hg?this.noMatchError(r):r}))}noMatchError(e){return new o.vHH(4002,a0)}createUrlTree(e,t,i){const r=Nb(e);return new _c(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ot.U)(s=>new Mn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,li.D)(r).pipe((0,pc.b)(s=>{const l=i.children[s],u=Xb(t,s);return this.expandSegmentGroup(e,u,l,s).pipe((0,Ot.U)(m=>({segment:m,outlet:s})))}),(0,eh.R)((s,l)=>(s[l.outlet]=l.segment,s),{}),Xp())}expandSegment(e,t,i,r,s,l){return(0,li.D)(i).pipe((0,pc.b)(u=>this.expandSegmentAgainstRoute(e,t,i,u,r,s,l).pipe((0,Na.K)(y=>{if(y instanceof hg)return(0,At.of)(null);throw y}))),mc(u=>!!u),(0,Na.K)((u,m)=>{if(t0(u))return rm(t,r,s)?(0,At.of)(new Mn([],{})):sm(t);throw u}))}expandSegmentAgainstRoute(e,t,i,r,s,l,u){return I1(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):sm(t):sm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?M1(s):this.lineralizeSegments(i,s).pipe((0,cs.z)(l=>{const u=new Mn(l,{});return this.expandSegment(e,u,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:u,consumedSegments:m,remainingSegments:y,positionalParamSegments:w}=Qb(t,r,s);if(!u)return sm(t);const P=this.applyRedirectCommands(m,r.redirectTo,w);return r.redirectTo.startsWith("/")?M1(P):this.lineralizeSegments(r,P).pipe((0,cs.z)(Q=>this.expandSegment(e,t,i,Q.concat(y),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=p1(i,e),i.loadChildren?(i._loadedRoutes?(0,At.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Ot.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Mn(r,{})))):(0,At.of)(new Mn(r,{}))):S1(t,i,r,e).pipe((0,Ni.w)(({matched:l,consumedSegments:u,remainingSegments:m})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,cs.z)(w=>{const P=w.injector??e,Q=w.routes,{segmentGroup:le,slicedSegments:pe}=s0(t,u,m,Q),Ie=new Mn(le.segments,le.children);if(0===pe.length&&Ie.hasChildren())return this.expandChildren(P,Q,Ie).pipe((0,Ot.U)(mt=>new Mn(u,mt)));if(0===Q.length&&0===pe.length)return(0,At.of)(new Mn(u,{}));const ke=So(i)===s;return this.expandSegment(P,Ie,Q,pe,ke?vn:s,!0).pipe((0,Ot.U)(ht=>new Mn(u.concat(ht.segments),ht.children)))})):sm(t)))}getChildConfig(e,t,i){return t.children?(0,At.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,At.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function _A(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,At.of)(!0);const s=r.map(l=>{const u=tm(l,n);return gc(function dg(n){return n&&im(n.canLoad)}(u)?u.canLoad(e,t):n.runInContext(()=>u(e,t)))});return(0,At.of)(s).pipe(ch(),E1())}(e,t,i).pipe((0,cs.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ir.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function bA(n){return Xo(lh(a0,3))}())):(0,At.of)({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,At.of)(i);if(r.numberOfChildren>1||!r.children[vn])return e.redirectTo,Xo(new o.vHH(4e3,a0));r=r.children[vn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new _c(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Yr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=t[u]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Yr(t.children,(u,m)=>{l[m]=this.createSegmentGroup(e,u,i,r)}),new Mn(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new o.vHH(4001,a0);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class xA{}class tw{constructor(e,t,i,r,s,l,u){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=u}recognize(){const e=s0(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,vn).pipe((0,Ot.U)(t=>{if(null===t)return null;const i=new sg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yc(i,t),s=new Gb(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=jb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,li.D)(Object.keys(i.children)).pipe((0,pc.b)(r=>{const s=i.children[r],l=Xb(t,r);return this.processSegmentGroup(e,l,s,r)}),(0,eh.R)((r,s)=>r&&s?(r.push(...s),r):null),Ly(r=>null!==r),Ny(null),Xp(),(0,Ot.U)(r=>{if(null===r)return null;const s=O1(r);return function SA(n){n.sort((e,t)=>e.value.outlet===vn?-1:t.value.outlet===vn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,li.D)(t).pipe((0,pc.b)(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,s)),mc(l=>!!l),(0,Na.K)(l=>{if(t0(l))return rm(i,r,s)?(0,At.of)([]):(0,At.of)(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!I1(t,i,r,s))return(0,At.of)(null);let l;if("**"===t.path){const u=r.length>0?Tb(r).parameters:{},m=F1(i)+r.length,y=new sg(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N1(t),So(t),t.component??t._loadedComponent??null,t,P1(i),m,L1(t));l=(0,At.of)({snapshot:y,consumedSegments:[],remainingSegments:[]})}else l=S1(i,t,r,e).pipe((0,Ot.U)(({matched:u,consumedSegments:m,remainingSegments:y,parameters:w})=>{if(!u)return null;const P=F1(i)+m.length;return{snapshot:new sg(m,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N1(t),So(t),t.component??t._loadedComponent??null,t,P1(i),P,L1(t)),consumedSegments:m,remainingSegments:y}}));return l.pipe((0,Ni.w)(u=>{if(null===u)return(0,At.of)(null);const{snapshot:m,consumedSegments:y,remainingSegments:w}=u;e=t._injector??e;const P=t._loadedInjector??e,Q=function R1(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:le,slicedSegments:pe}=s0(i,y,w,Q.filter(ke=>void 0===ke.redirectTo));if(0===pe.length&&le.hasChildren())return this.processChildren(P,Q,le).pipe((0,Ot.U)(ke=>null===ke?null:[new yc(m,ke)]));if(0===Q.length&&0===pe.length)return(0,At.of)([new yc(m,[])]);const Ie=So(t)===s;return this.processSegment(P,Q,le,pe,Ie?vn:s).pipe((0,Ot.U)(ke=>null===ke?null:[new yc(m,ke)]))}))}}function TA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function O1(n){const e=[],t=new Set;for(const i of n){if(!TA(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=O1(i.children);e.push(new yc(i.value,r))}return e.filter(i=>!t.has(i))}function P1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function F1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function N1(n){return n.data||{}}function L1(n){return n.resolve||{}}function H1(n){return"string"==typeof n.title||null===n.title}function nw(n){return(0,Ni.w)(e=>{const t=n(e);return t?(0,li.D)(t).pipe((0,Ot.U)(()=>e)):(0,At.of)(e)})}const zd=new o.OlP("ROUTES");let c0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,At.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=gc(t.loadComponent()).pipe((0,Ot.U)(j1),(0,ir.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),th(()=>{this.componentLoaders.delete(t)})),r=new Fy(i,()=>new en.x).pipe(Py());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,At.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,y,w=!1;Array.isArray(u)?y=u:(m=u.create(t).injector,y=VC(m.get(zd,[],o.XFs.Self|o.XFs.Optional)));return{routes:y.map(Zb),injector:m}}),th(()=>{this.childrenLoaders.delete(i)})),l=new Fy(s,()=>new en.x).pipe(Py());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return gc(t()).pipe((0,Ot.U)(j1),(0,cs.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,At.of)(i):(0,li.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j1(n){return function iw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let om=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new en.x,this.configLoader=(0,o.f3M)(c0),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Jp),this.rootContexts=(0,o.f3M)(Jf),this.navigationId=0,this.afterPreactivation=()=>(0,At.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new r1(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new n1(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new os.X({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Li.h)(i=>0!==i.id),(0,Ot.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,Ni.w)(i=>{let r=!1,s=!1;return(0,At.of)(i).pipe((0,ir.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ni.w)(l=>{const u=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==u||u!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new Zf(l.id,t.serializeUrl(i.rawUrl),w,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ns.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G1(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,At.of)(l).pipe((0,Ni.w)(w=>{const P=this.transitions?.getValue();return this.events.next(new Ub(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),P!==this.transitions?.getValue()?Ns.E:Promise.resolve(w)}),function k1(n,e,t,i){return(0,Ni.w)(r=>function Jb(n,e,t,i,r){return new wA(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ot.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ir.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function B1(n,e,t,i,r){return(0,cs.z)(s=>function CA(n,e,t,i,r,s,l="emptyOnly"){return new tw(n,e,t,i,r,l,s).recognize().pipe((0,Ni.w)(u=>null===u?function EA(n){return new nr.y(e=>e.error(n))}(new xA):(0,At.of)(u)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,Ot.U)(l=>({...s,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ir.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const Q=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(Q,w)}t.browserUrlTree=w.urlAfterRedirects}const P=new XC(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(P)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:P,source:Q,restoredState:le,extras:pe}=l,Ie=new Ub(w,this.urlSerializer.serialize(P),Q,le);this.events.next(Ie);const ke=d1(P,this.rootComponentType).snapshot;return i={...l,targetSnapshot:ke,urlAfterRedirects:P,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}},(0,At.of)(i)}{const w="";return this.events.next(new Zf(l.id,t.serializeUrl(i.extractedUrl),w,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ns.E}}),(0,ir.b)(l=>{const u=new QC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),(0,Ot.U)(l=>i={...l,guards:lg(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function pA(n,e){return(0,cs.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,At.of)({...t,guardsResult:!0}):function gA(n,e,t,i){return(0,li.D)(n).pipe((0,cs.z)(r=>function r0(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,At.of)(!0);const l=s.map(u=>{const m=em(e)??r,y=tm(u,m);return gc(function hA(n){return n&&im(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):m.runInContext(()=>y(n,e,t,i))).pipe(mc())});return(0,At.of)(l).pipe(ch())}(r.component,r.route,t,e,i)),mc(r=>!0!==r,!0))}(l,i,r,n).pipe((0,cs.z)(u=>u&&function dA(n){return"boolean"==typeof n}(u)?function vL(n,e,t,i){return(0,li.D)(e).pipe((0,pc.b)(r=>fc(function wL(n,e){return null!==n&&e&&e(new s1(n)),(0,At.of)(!0)}(r.route.parent,i),function bL(n,e){return null!==n&&e&&e(new QM(n)),(0,At.of)(!0)}(r.route,i),function x1(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function cA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Vd(()=>{const u=l.guards.map(m=>{const y=em(l.node)??t,w=tm(m,y);return gc(function uA(n){return n&&im(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(mc())});return(0,At.of)(u).pipe(ch())}));return(0,At.of)(s).pipe(ch())}(n,r.path,t),function xL(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,At.of)(!0);const r=i.map(s=>Vd(()=>{const l=em(e)??t,u=tm(s,l);return gc(function ug(n){return n&&im(n.canActivate)}(u)?u.canActivate(e,n):l.runInContext(()=>u(e,n))).pipe(mc())}));return(0,At.of)(r).pipe(ch())}(n,r.route,t))),mc(r=>!0!==r,!0))}(i,s,n,e):(0,At.of)(u)),(0,Ot.U)(u=>({...t,guardsResult:u})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ir.b)(l=>{if(i.guardsResult=l.guardsResult,rh(l.guardsResult))throw f1(0,l.guardsResult);const u=new JC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),(0,Li.h)(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),nw(l=>{if(l.guards.canActivateChecks.length)return(0,At.of)(l).pipe((0,ir.b)(u=>{const m=new e1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),(0,Ni.w)(u=>{let m=!1;return(0,At.of)(u).pipe(function U1(n,e){return(0,cs.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,At.of)(t);let s=0;return(0,li.D)(r).pipe((0,pc.b)(l=>function DA(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!H1(r)&&(s[nh]=r.title),function MA(n,e,t,i){const r=function V1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,At.of)({});const s={};return(0,li.D)(r).pipe((0,cs.z)(l=>function AA(n,e,t,i){const r=em(e)??i,s=tm(n,r);return gc(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(mc(),(0,ir.b)(u=>{s[l]=u}))),zf(1),function jM(n){return(0,Ot.U)(()=>n)}(s),(0,Na.K)(l=>t0(l)?Ns.E:Xo(l)))}(s,n,e,i).pipe((0,Ot.U)(l=>(n._resolvedData=l,n.data=jb(n,t).resolve,r&&H1(r)&&(n.data[nh]=r.title),null)))}(l.route,i,n,e)),(0,ir.b)(()=>s++),zf(1),(0,cs.z)(l=>s===r.length?(0,At.of)(t):Ns.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ir.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,ir.b)(u=>{const m=new t1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),nw(l=>{const u=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,ir.b)(w=>{m.component=w}),(0,Ot.U)(()=>{})));for(const w of m.children)y.push(...u(w));return y};return Hf(u(l.targetSnapshot.root)).pipe(Ny(),(0,Kr.q)(1))}),nw(()=>this.afterPreactivation()),(0,Ot.U)(l=>{const u=function h1(n,e,t){const i=oh(n,e._root,t?t._root:void 0);return new c1(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:u}}),(0,ir.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(i=>(new lA(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,Kr.q)(1),(0,ir.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new jd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),th(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,Na.K)(l=>{if(s=!0,Qy(l)){oA(l)||(t.navigated=!0,t.restoreHistory(i,!0));const u=new rg(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(u),oA(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||G1(i.source)};t.scheduleNavigation(m,Yf,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const u=new Xf(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(t.errorHandler(l))}catch(m){i.reject(m)}}return Ns.E}))}))}cancelNavigationTransition(t,i,r){const s=new rg(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G1(n){return n!==Yf}let rw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===vn);return i}getResolvedTitleForRoute(t){return t.data[nh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(am)},providedIn:"root"}),n})(),am=(()=>{class n extends rw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(dp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(SL)},providedIn:"root"}),n})();class kA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SL=(()=>{class n extends kA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lm=new o.OlP("",{providedIn:"root",factory:()=>({})});let RA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(sw)},providedIn:"root"}),n})(),sw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W1(n){throw n}function aw(n,e,t){return e.parse("/")}const q1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(lm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||W1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(RA),this.routeReuseStrategy=(0,o.f3M)(z1),this.urlCreationStrategy=(0,o.f3M)(rA),this.titleStrategy=(0,o.f3M)(rw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=VC((0,o.f3M)(zd,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(om),this.urlSerializer=(0,o.f3M)(Jp),this.location=(0,o.f3M)(G),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _c,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=d1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const u=this.parseUrl(t);this.scheduleNavigation(u,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Zb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:u,preserveFragment:m}=i,y=m?this.currentUrlTree.fragment:l;let w=null;switch(u){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,w,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=rh(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Yf,null,i)}navigate(t,i={skipLocationChange:!1}){return function Y1(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...q1}:!1===i?{...K1}:i,rh(t))return Db(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Db(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let u,m,y,w;return l?(u=l.resolve,m=l.reject,y=l.promise):y=new Promise((P,Q)=>{u=P,m=Q}),w="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:u,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xl=(()=>{class n{constructor(t,i,r,s,l,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new en.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(y=>{y instanceof jd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zr),o.Y36(Gd),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Y))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class Z1{}let X1=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,Li.h)(t=>t instanceof jd),(0,pc.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,u=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,li.D)(r).pipe((0,vl.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,At.of)(null);const s=r.pipe((0,cs.z)(l=>null===l?(0,At.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,li.D)([s,l]).pipe((0,vl.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(Z1),o.LFG(c0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lw=new o.OlP("");let Q1=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof a1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new a1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var ta=(()=>((ta=ta||{})[ta.COMPLETE=0]="COMPLETE",ta[ta.FAILED=1]="FAILED",ta[ta.REDIRECTING=2]="REDIRECTING",ta))();const cm=!1;function $d(n,e){return{\u0275kind:n,\u0275providers:e}}const cw=new o.OlP("",{providedIn:"root",factory:()=>!1});function eS(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const i=n.get(Zr),r=n.get(tS);1===n.get(dw)&&i.initialNavigation(),n.get(uw,null,o.XFs.Optional)?.setUpPreloading(),n.get(lw,null,o.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const tS=new o.OlP(cm?"bootstrap done indicator":"",{factory:()=>new en.x}),dw=new o.OlP(cm?"initial navigation":"",{providedIn:"root",factory:()=>1});function iS(){let n=[];return n=cm?[{provide:o.Xts,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Zr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function eA(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],$d(1,n)}const uw=new o.OlP(cm?"router preloader":"");function rS(n){return $d(0,[{provide:uw,useExisting:X1},{provide:Z1,useExisting:n}])}const u0=!1,sS=new o.OlP(u0?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),UA=[G,{provide:Jp,useClass:eg},Zr,Jf,{provide:Gd,useFactory:function J1(n){return n.routerState.root},deps:[Zr]},c0,u0?{provide:cw,useValue:!0}:[]];function VA(){return new o.PXZ("Router",Zr)}let mg=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[UA,u0&&i?.enableTracing?iS().\u0275providers:[],{provide:zd,multi:!0,useValue:t},{provide:sS,useFactory:El,deps:[[Zr,new o.FiY,new o.tp0]]},{provide:lm,useValue:i||{}},i?.useHash?{provide:Y,useClass:E}:{provide:Y,useClass:ne},{provide:lw,useFactory:()=>{const n=(0,o.f3M)(Ol),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(lm),i=(0,o.f3M)(om),r=(0,o.f3M)(Jp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Q1(r,i,n,e,t)}},i?.preloadingStrategy?rS(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:VA},i?.initialNavigation?jA(i):[],[{provide:gg,useFactory:eS},{provide:o.tb,multi:!0,useExisting:gg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:zd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(sS,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qb]}),n})();function El(n){if(u0&&n)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jA(n){return["disabled"===n.initialNavigation?$d(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Zr);return()=>{e.setUpLocationChangeListener()}}},{provide:dw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$d(2,[{provide:dw,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(k,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Zr),s=e.get(tS);(function NA(n,e){n.events.pipe((0,Li.h)(t=>t instanceof jd||t instanceof rg||t instanceof Xf||t instanceof Zf),(0,Ot.U)(t=>t instanceof jd||t instanceof Zf?ta.COMPLETE:t instanceof rg&&(0===t.code||1===t.code)?ta.REDIRECTING:ta.FAILED),(0,Li.h)(t=>t!==ta.REDIRECTING),(0,Kr.q)(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(om).afterPreactivation=()=>(i(!0),s.closed?(0,At.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const gg=new o.OlP(u0?"Router Initializer":""),GA=[{path:"",redirectTo:"login",pathMatch:"full"}];let zA=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[mg.forRoot(GA,{useHash:!0}),mg]}),n})(),uh=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[HM,PC,zA]}),n})();function un(n){return null!=n&&"false"!=`${n}`}function Xr(n,e=0){return function $A(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function yg(n){return Array.isArray(n)?n:[n]}function ur(n){return null==n?"":"string"==typeof n?n:`${n}px`}function La(n){return n instanceof o.SBq?n.nativeElement:n}var fw=C(1144);const mw=["addListener","removeListener"],oS=["addEventListener","removeEventListener"],pw=["on","off"];function dm(n,e,t,i){if((0,as.m)(t)&&(i=t,t=void 0),i)return dm(n,e,t).pipe(Kv(i));const[r,s]=function YA(n){return(0,as.m)(n.addEventListener)&&(0,as.m)(n.removeEventListener)}(n)?oS.map(l=>u=>n[l](e,u,t)):function qA(n){return(0,as.m)(n.addListener)&&(0,as.m)(n.removeListener)}(n)?mw.map(aS(n,e)):function KA(n){return(0,as.m)(n.on)&&(0,as.m)(n.off)}(n)?pw.map(aS(n,e)):[];if(!r&&(0,fw.z)(n))return(0,cs.z)(l=>dm(l,e,t))((0,Fd.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new nr.y(l=>{const u=(...m)=>l.next(1<m.length?m:m[0]);return r(u),()=>s(u)})}function aS(n,e){return t=>i=>n[t](e,i)}var gw=C(4408);const hh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=hh;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new xr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=hh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var _w=C(7565);const dS=new class cS extends _w.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lS extends gw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(hh.cancelAnimationFrame(t),e._scheduled=void 0)}});let h0,uS=1;const f0={};function yw(n){return n in f0&&(delete f0[n],!0)}const hS={setImmediate(n){const e=uS++;return f0[e]=!0,h0||(h0=Promise.resolve()),h0.then(()=>yw(e)&&n()),e},clearImmediate(n){yw(n)}},{setImmediate:um,clearImmediate:ZA}=hS,m0={setImmediate(...n){const{delegate:e}=m0;return(e?.setImmediate||um)(...n)},clearImmediate(n){const{delegate:e}=m0;return(e?.clearImmediate||ZA)(n)},delegate:void 0},fS=new class FL extends _w.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class PL extends gw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=m0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(m0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var Wd=C(4986),vw=C(3532),QA=C(1165);function bw(n,e=Wd.z){return function XA(n){return(0,ls.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const u=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}l&&t.complete()},m=()=>{s=null,l&&t.complete()};e.subscribe((0,wr.x)(t,y=>{i=!0,r=y,s||(0,Fd.Xf)(n(y)).subscribe(s=(0,wr.x)(t,u,m))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function pS(n=0,e,t=Wd.P){let i=-1;return null!=e&&((0,vw.K)(e)?t=e:i=e),new nr.y(r=>{let s=(0,QA.q)(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}var rr=C(2722);let ww;try{ww=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ww=!1}let fh,ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Bh(n){return n===tp}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ww)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function p0(){if(fh)return fh;if("object"!=typeof document||!document)return fh=new Set(vg),fh;let n=document.createElement("input");return fh=new Set(vg.filter(e=>(n.setAttribute("type",e),n.type===e))),fh}let g0,bg,na,wg;function hm(n){return function gS(){if(null==g0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>g0=!0}))}finally{g0=g0||!1}return g0}()?n:!!n.capture}function _S(){if(null==na){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return na=!1,na;if("scrollBehavior"in document.documentElement.style)na=!0;else{const n=Element.prototype.scrollTo;na=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return na}function fm(){if("object"!=typeof document||!document)return 0;if(null==bg){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),bg=0,0===n.scrollLeft&&(n.scrollLeft=1,bg=0===n.scrollLeft?1:2),n.remove()}return bg}function qd(n){return n.composedPath?n.composedPath()[0]:n.target}function xw(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const tk=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function yS(){return(0,o.f3M)(M)}}),vS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ba=(()=>{class n{constructor(t){this.value="ltr",this.change=new o.vpe,t&&(this.value=function nk(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vS.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(tk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const rk=["contentWrapper"],bS=["*"],sk=new o.OlP("VIRTUAL_SCROLL_STRATEGY");let _0=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new en.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new nr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(bw(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,At.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Li.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=La(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(ki),o.LFG(M,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xS=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new en.x,this._elementScrolled=new nr.y(l=>this.ngZone.runOutsideAngular(()=>dm(this.elementRef.nativeElement,"scroll").pipe((0,rr.R)(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=fm()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==fm()?t.left=t.right:1==fm()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;_S()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==fm()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==fm()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(_0),o.Y36(o.R0b),o.Y36(Ba,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),mm=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new en.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bw(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki),o.LFG(o.R0b),o.LFG(M,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ck=new o.OlP("VIRTUAL_SCROLLABLE");let UL=(()=>{class n extends xS{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(_0),o.Y36(o.R0b),o.Y36(Ba,8))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const HL=typeof requestAnimationFrame<"u"?dS:fS;let jL=(()=>{class n extends UL{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=un(t)}constructor(t,i,r,s,l,u,m,y){super(t,u,r,l),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=y,this._platform=(0,o.f3M)(ki),this._detachedSubject=new en.x,this._renderedRangeSubject=new en.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new nr.y(w=>this._scrollStrategy.scrolledIndexChange.subscribe(P=>Promise.resolve().then(()=>this.ngZone.run(()=>w.next(P))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=xr.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Fa(null),bw(0,HL)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,rr.R)(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function VL(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,l=s?"X":"Y";let m=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(m+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",l="rtl"==this.dir?.value;i="start"==t?l?s:r:"end"==t?l?r:s:t||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(sk,8),o.Y36(Ba,8),o.Y36(_0),o.Y36(mm),o.Y36(ck,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&o.Gf(rk,7),2&t){let r;o.iGM(r=o.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[o._Bn([{provide:xS,useFactory:(e,t)=>e||t,deps:[[new o.FiY,new o.tBr(ck)],n]}]),o.qOj,o.jDz],ngContentSelectors:bS,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&t&&(o.xp6(3),o.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xg,Eg,jL,xg,Eg]}),n})();function gm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var b0=C(8372),jS=C(5684),Cg=C(1884);const Uk=new Set;let Sg,M3=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):A3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vk(n){if(!Uk.has(n))try{Sg||(Sg=document.createElement("style"),Sg.setAttribute("type","text/css"),document.head.appendChild(Sg)),Sg.sheet&&(Sg.sheet.insertRule(`@media ${n} {body{ }}`,0),Uk.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GS=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new en.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Hk(yg(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Hf(Hk(yg(t)).map(l=>this._registerQuery(l).observable));return s=fc(s.pipe((0,Kr.q)(1)),s.pipe((0,jS.T)(1),(0,b0.b)(0))),s.pipe((0,Ot.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:y})=>{u.matches=u.matches||m,u.breakpoints[y]=m}),u}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new nr.y(l=>{const u=m=>this._zone.run(()=>l.next(m));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Fa(i),(0,Ot.U)(({matches:l})=>({query:t,matches:l})),(0,rr.R)(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M3),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Z{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new en.x,this._typeaheadSubscription=xr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new en.x,this.change=new en.x,e instanceof o.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ir.b)(t=>this._pressedLetters.push(t)),(0,b0.b)(e),(0,Li.h)(()=>this._pressedLetters.length>0),(0,Ot.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||gm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class ae extends Z{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class we extends Z{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function R3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function O3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const rG=new o.OlP("cdk-input-modality-detector-options"),sG={ignoreKeys:[18,17,224,91,16]},w0=hm({passive:!0,capture:!0});let oG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new os.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qd(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(R3(l)?"keyboard":"mouse"),this._mostRecentTarget=qd(l))},this._onTouchstart=l=>{O3(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qd(l))},this._options={...sG,...s},this.modalityDetected=this._modality.pipe((0,jS.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Cg.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,w0),r.addEventListener("mousedown",this._onMousedown,w0),r.addEventListener("touchstart",this._onTouchstart,w0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,w0),document.removeEventListener("mousedown",this._onMousedown,w0),document.removeEventListener("touchstart",this._onTouchstart,w0))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki),o.LFG(o.R0b),o.LFG(M),o.LFG(rG,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aG=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function lG(){return null}}),cG=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dG=0,Gk=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,l;return 1===i.length&&"number"==typeof i[0]?l=i[0]:[s,l]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+dG++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],l=s.getAttribute("aria-owns");l?-1===l.indexOf(t)&&s.setAttribute("aria-owns",l+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(aG,8),o.LFG(o.R0b),o.LFG(M),o.LFG(cG,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uG=new o.OlP("cdk-focus-monitor-default-options"),zS=hm({passive:!0,capture:!0});let zk=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new en.x,this._rootNodeFocusAndBlurListener=u=>{for(let y=qd(u);y;y=y.parentElement)"focus"===u.type?this._onFocus(u,y):this._onBlur(u,y)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=La(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,At.of)(null);const s=function ek(n){if(function NL(){if(null==wg){const n=typeof document<"u"?document.head:null;wg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wg}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new en.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const i=La(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=La(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,m])=>this._originChanged(u,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=qd(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,zS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,zS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,rr.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(ki),o.LFG(oG),o.LFG(M,8),o.LFG(uG,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F3="cdk-high-contrast-black-on-white",N3="cdk-high-contrast-white-on-black",$k="cdk-high-contrast-active";let hG=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,o.f3M)(GS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($k,F3,N3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add($k,F3):2===i&&t.add($k,N3)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki),o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fG=["text"];function mG(n,e){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const t=o.oxw();o.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function pG(n,e){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const t=o.oxw();o.Q6J("disabled",t.disabled)}}function gG(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij("(",t.group.label,")")}}const _G=[[["mat-icon"]],"*"],yG=["mat-icon","*"],bG=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function vG(){return!0}});let Un=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!xw()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(hG),o.LFG(bG,8),o.LFG(M))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xg,xg]}),n})();function Wk(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=un(e)}constructor(...e){super(...e),this._disabled=!1}}}function Aw(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function $S(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=un(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function qk(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Xr(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function U3(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let V3=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,Un]}),n})();class xG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const j3=hm({passive:!0,capture:!0});class EG{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=qd(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,j3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,j3)))}}const G3={enterDuration:225,exitDuration:150},z3=hm({passive:!0,capture:!0}),$3=["mousedown","touchstart"],W3=["mouseup","mouseleave","touchend","touchcancel"];class x0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=La(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...G3,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function SG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),u=e-r.left,m=t-r.top,y=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=u-l+"px",w.style.top=m-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const P=window.getComputedStyle(w),le=P.transitionDuration,pe="none"===P.transitionProperty||"0s"===le||"0s, 0s"===le||0===r.width&&0===r.height,Ie=new xG(this,w,i,pe);w.style.transform="scale3d(1, 1, 1)",Ie.state=0,i.persistent||(this._mostRecentTransientRipple=Ie);let ke=null;return!pe&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const rt=()=>this._finishRippleTransition(Ie),ht=()=>this._destroyRipple(Ie);w.addEventListener("transitionend",rt),w.addEventListener("transitioncancel",ht),ke={onTransitionEnd:rt,onTransitionCancel:ht}}),this._activeRipples.set(Ie,ke),(pe||!y)&&this._finishRippleTransition(Ie),Ie}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...G3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=La(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,$3.forEach(i=>{x0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{W3.forEach(t=>{this._triggerElement.addEventListener(t,this,z3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=R3(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!O3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&($3.forEach(t=>x0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&W3.forEach(t=>e.removeEventListener(t,this,z3)))}}x0._eventManager=new EG;const WS=new o.OlP("mat-ripple-global-options");let _m=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new x0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ki),o.Y36(WS,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,Un]}),n})(),TG=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un]}),n})();const K3=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),Y3=new o.OlP("MatOptgroup");let IG=0;class DG{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let MG=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=un(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+IG++,this.onSelectionChange=new o.vpe,this._stateChanges=new en.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!gm(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new DG(this,t))}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(fG,7),2&t){let r;o.iGM(r=o.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Kk=(()=>{class n extends MG{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(K3,8),o.Y36(Y3,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(o.Ikx("id",i.id),o.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),o.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:yG,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(o.F$t(_G),o.YNc(0,mG,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,pG,1,1,"mat-pseudo-checkbox",3),o.YNc(6,gG,2,1,"span",4),o._UZ(7,"div",5)),2&t&&(o.Q6J("ngIf",i.multiple),o.xp6(5),o.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[_m,Ti,TG],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[E0,ii,Un,q3]}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ii,Un,Eg,Eg,Un]}),n})(),Zk=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=un(t)}get inset(){return this._inset}set inset(t){this._inset=un(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,Un]}),n})();const PG=["*",[["mat-toolbar-row"]]],FG=["*","mat-toolbar-row"],NG=Aw(class{constructor(n){this._elementRef=n}});let X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),LG=(()=>{class n extends NG{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ki),o.Y36(M))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,X3,5),2&t){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:FG,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(PG),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),BG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,Un]}),n})();const Q3=hm({passive:!0});let UG=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ns.E;const i=La(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new en.x,l="cdk-text-field-autofilled",u=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,Q3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,Q3)}}),s}stopMonitoring(t){const i=La(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Cl=C(6451);let J3=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HG=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=La(t);return new nr.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new en.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(J3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e4=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=un(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Xr(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,b0.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(HG),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[J3]}),n})();const jG=["matFormFieldNotchedOutline",""],GG=["*"],zG=["textField"],$G=["iconPrefixContainer"],WG=["textPrefixContainer"];function qG(n,e){1&n&&o._UZ(0,"span",19)}function KG(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",17),o.NdJ("cdkObserveContent",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r._refreshOutlineNotchWidth())}),o.Hsn(1,1),o.YNc(2,qG,1,0,"span",18),o.qZA()}if(2&n){const t=o.oxw(2);o.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),o.uIk("for",t._control.id)("aria-owns",t._control.id),o.xp6(2),o.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function YG(n,e){if(1&n&&o.YNc(0,KG,3,6,"label",16),2&n){const t=o.oxw();o.Q6J("ngIf",t._hasFloatingLabel())}}function ZG(n,e){1&n&&o._UZ(0,"div",20)}function XG(n,e){}function QG(n,e){if(1&n&&o.YNc(0,XG,0,0,"ng-template",22),2&n){o.oxw(2);const t=o.MAs(1);o.Q6J("ngTemplateOutlet",t)}}function JG(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,QG,1,1,"ng-template",9),o.qZA()),2&n){const t=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),o.xp6(1),o.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function ez(n,e){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function tz(n,e){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function nz(n,e){}function iz(n,e){if(1&n&&o.YNc(0,nz,0,0,"ng-template",22),2&n){o.oxw();const t=o.MAs(1);o.Q6J("ngTemplateOutlet",t)}}function rz(n,e){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function sz(n,e){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function oz(n,e){1&n&&o._UZ(0,"div",29)}function az(n,e){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState)}}function lz(n,e){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("id",t._hintLabelId),o.xp6(1),o.Oqu(t.hintLabel)}}function cz(n,e){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,lz,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",t.hintLabel)}}const dz=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uz=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Tg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),hz=0;const n4=new o.OlP("MatError");let Xk=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+hz++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&o.Ikx("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:n4,useExisting:n}])]}),n})(),fz=0,r4=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+fz++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(o.Ikx("id",i.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const mz=new o.OlP("MatPrefix"),s4=new o.OlP("MatSuffix");let o4=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[o._Bn([{provide:s4,useExisting:n}])]}),n})(),a4=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function pz(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const l4="mdc-line-ripple--active",qS="mdc-line-ripple--deactivating";let c4=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(qS);"opacity"===r.propertyName&&l&&s.remove(l4,qS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(qS),t.add(l4)}deactivate(){this._elementRef.nativeElement.classList.add(qS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),d4=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:jG,ngContentSelectors:GG,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&t&&(o.xp6(1),o.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const gz={transitionMessages:vr("transitionMessages",[kr("enter",hi({opacity:1,transform:"translateY(0%)"})),fi("void => enter",[hi({opacity:0,transform:"translateY(-5px)"}),bi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})();const Jk=new o.OlP("MatFormField"),_z=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let u4=0,Rw=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=un(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,u,m,y){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=u,this._animationMode=m,this._document=y,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+u4++,this._hintLabelId="mat-mdc-hint-"+u4++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new en.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,rr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Cl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,rr.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,rr.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Ba),o.Y36(ki),o.Y36(_z,8),o.Y36(o.QbO,8),o.Y36(M))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,Tg,5),o.Suo(r,Tg,7),o.Suo(r,Qk,5),o.Suo(r,mz,5),o.Suo(r,s4,5),o.Suo(r,n4,5),o.Suo(r,r4,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._formFieldControl=s.first),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(zG,5),o.Gf($G,5),o.Gf(WG,5),o.Gf(a4,5),o.Gf(d4,5),o.Gf(c4,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._textField=r.first),o.iGM(r=o.CRH())&&(i._iconPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._textPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._floatingLabel=r.first),o.iGM(r=o.CRH())&&(i._notchedOutline=r.first),o.iGM(r=o.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&o.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Jk,useExisting:n}])],ngContentSelectors:uz,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(o.F$t(dz),o.YNc(0,YG,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(4,ZG,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,JG,2,3,"div",5),o.YNc(7,ez,3,0,"div",6),o.YNc(8,tz,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,iz,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,rz,2,0,"div",10),o.YNc(13,sz,2,0,"div",11),o.qZA(),o.YNc(14,oz,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,az,2,1,"div",14),o.YNc(17,cz,5,2,"div",15),o.qZA()),2&t&&(o.xp6(2),o.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),o.xp6(2),o.Q6J("ngIf",i._hasOutline()),o.xp6(1),o.Q6J("ngIf",i._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",i._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",i._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",i._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!i._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Ti,We,Hr,ks,e4,r4,a4,d4,c4],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[gz.transitionMessages]},changeDetection:0}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,ii,t4,Un]}),n})();const bz=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),wz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xz=0;const Ez=U3(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new en.x}});let t2=(()=>{class n extends Ez{get disabled(){return this._disabled}set disabled(t){this._disabled=un(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ko.required)??!1}set required(t){this._required=un(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&p0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=un(t)}constructor(t,i,r,s,l,u,m,y,w,P){super(u,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=P,this._uid="mat-input-"+xz++,this.focused=!1,this.stateChanges=new en.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pe=>p0().has(pe)),this._iOSKeyupListener=pe=>{const Ie=pe.target;!Ie.value&&0===Ie.selectionStart&&0===Ie.selectionEnd&&(Ie.setSelectionRange(1,1),Ie.setSelectionRange(0,0))};const Q=this._elementRef.nativeElement,le=Q.nodeName.toLowerCase();this._inputValueAccessor=m||Q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===le,this._isTextarea="textarea"===le,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=Q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ki),o.Y36(Yt,10),o.Y36(Nf,8),o.Y36(Bd,8),o.Y36(V3),o.Y36(bz,10),o.Y36(UG),o.Y36(o.R0b),o.Y36(Jk,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(o.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),o.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:Qk,useExisting:n}]),o.qOj,o.TTD]}),n})(),Cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,e2,e2,VG,Un]}),n})();const Sz=["*"],Dz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Mz=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Az=new o.OlP("MAT_CARD_CONFIG");let Ig=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Az,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Sz,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),Mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Mz,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(o.F$t(Dz),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,ii,Un]}),n})();class n2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class r2 extends n2{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class YS extends n2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class jz extends n2{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class s2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof r2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof YS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof jz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gz extends s2{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,m=this._document.createComment("dom-portal");u.parentNode.insertBefore(m,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(u,m)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let o2=(()=>{class n extends s2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const l=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(M))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),a2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const m4=_S();class zz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ur(-this._previousScrollPosition.left),e.style.top=ur(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),m4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),m4&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class $z{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,Li.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class p4{enable(){}disable(){}attach(){}}function l2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function g4(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Wz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();l2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qz=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new p4,this.close=l=>new $z(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new zz(this._viewportRuler,this._document),this.reposition=l=>new Wz(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_0),o.LFG(mm),o.LFG(o.R0b),o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c2{constructor(e){if(this.scrollStrategy=new p4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Kz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let _4=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yz=(()=>{class n extends _4{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const u=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zz=(()=>{class n extends _4{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=qd(s)},this._clickListener=s=>{const l=qd(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let y=m.length-1;y>-1;y--){const w=m[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(l)||w.overlayElement.contains(u))break;const P=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>P.next(s)):P.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M),o.LFG(ki),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y4=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xw()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),xw()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(M),o.LFG(ki))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xz{constructor(e,t,i,r,s,l,u,m,y,w=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=u,this._location=m,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new en.x,this._attachments=new en.x,this._detachments=new en.x,this._locationChanges=xr.w0.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._backdropTransitionendHandler=P=>{this._disposeBackdrop(P.target)},this._keydownEvents=new en.x,this._outsidePointerEvents=new en.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Kr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ur(this._config.width),e.height=ur(this._config.height),e.minWidth=ur(this._config.minWidth),e.minHeight=ur(this._config.minHeight),e.maxWidth=ur(this._config.maxWidth),e.maxHeight=ur(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=yg(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,rr.R)((0,Cl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const v4="cdk-overlay-connected-position-bounding-box",Qz=/([A-Za-z%]+)$/;class Jz{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new en.x,this._resizeSubscription=xr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(v4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let u of this._preferredPositions){let m=this._getOriginPoint(e,r,u),y=this._getOverlayPoint(m,t,u),w=this._getOverlayFit(y,t,i,u);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,m);this._canFitWithFlexibleDimensions(w,y,i)?s.push({position:u,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,u)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:y,originPoint:m,position:u,overlayRect:t})}if(s.length){let u=null,m=-1;for(const y of s){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>m&&(m=w,u=y)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ag(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(v4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==i.originX?l:u}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=w4(t);let{x:l,y:u}=e,m=this._getOffset(r,"x"),y=this._getOffset(r,"y");m&&(l+=m),y&&(u+=y);let Q=0-u,le=u+s.height-i.height,pe=this._subtractOverflows(s.width,0-l,l+s.width-i.width),Ie=this._subtractOverflows(s.height,Q,le),ke=pe*Ie;return{visibleArea:ke,isCompletelyWithinViewport:s.width*s.height===ke,fitsInViewportVertically:Ie===s.height,fitsInViewportHorizontally:pe==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=b4(this._overlayRef.getConfig().minHeight),u=b4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=w4(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),u=Math.max(e.y+r.height-s.height,0),m=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let w=0,P=0;return w=r.width<=s.width?y||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,P=r.height<=s.height?m||-u:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:w,y:P},{x:e.x+w,y:e.y+P}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Kz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,u,w,P,Q;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)u=i.height-e.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const le=Math.min(i.bottom-e.y+i.top,e.y),pe=this._lastBoundingBoxSize.height;s=2*le,l=e.y-le,s>pe&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-pe/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)Q=i.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)P=e.x,w=i.right-e.x;else{const le=Math.min(i.right-e.x+i.left,e.x),pe=this._lastBoundingBoxSize.width;w=2*le,P=e.x-le,w>pe&&!this._isInitialRender&&!this._growAfterOpen&&(P=e.x-pe/2)}return{top:l,left:P,bottom:u,right:Q,width:w,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=ur(i.height),r.top=ur(i.top),r.bottom=ur(i.bottom),r.width=ur(i.width),r.left=ur(i.left),r.right=ur(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ur(s)),l&&(r.maxWidth=ur(l))}this._lastBoundingBoxSize=i,Ag(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ag(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ag(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();Ag(i,this._getExactOverlayY(t,e,w)),Ag(i,this._getExactOverlayX(t,e,w))}else i.position="static";let u="",m=this._getOffset(t,"x"),y=this._getOffset(t,"y");m&&(u+=`translateX(${m}px) `),y&&(u+=`translateY(${y}px)`),i.transform=u.trim(),l.maxHeight&&(r?i.maxHeight=ur(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=ur(l.maxWidth):s&&(i.maxWidth="")),Ag(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ur(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ur(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:g4(e,i),isOriginOutsideView:l2(e,i),isOverlayClipped:g4(t,i),isOverlayOutsideView:l2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof o.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ag(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function b4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Qz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function w4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const x4="cdk-global-overlay-wrapper";class e${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(x4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:u}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),y=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),w=this._xPosition,P=this._xOffset,Q="rtl"===this._overlayRef.getConfig().direction;let le="",pe="",Ie="";m?Ie="flex-start":"center"===w?(Ie="center",Q?pe=P:le=P):Q?"left"===w||"end"===w?(Ie="flex-end",le=P):("right"===w||"start"===w)&&(Ie="flex-start",pe=P):"left"===w||"start"===w?(Ie="flex-start",le=P):("right"===w||"end"===w)&&(Ie="flex-end",pe=P),e.position=this._cssPosition,e.marginLeft=m?"0":le,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=m?"0":pe,t.justifyContent=Ie,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(x4),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let t$=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new e$}flexibleConnectedTo(t){return new Jz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(mm),o.LFG(M),o.LFG(ki),o.LFG(y4))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n$=0,kg=(()=>{class n{constructor(t,i,r,s,l,u,m,y,w,P,Q,le){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=u,this._ngZone=m,this._document=y,this._directionality=w,this._location=P,this._outsideClickDispatcher=Q,this._animationsModuleType=le}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new c2(t);return l.direction=l.direction||this._directionality.value,new Xz(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+n$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new Gz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(qz),o.LFG(y4),o.LFG(o._Vd),o.LFG(t$),o.LFG(Yz),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(M),o.LFG(Ba),o.LFG(G),o.LFG(Zz),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i$=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],E4=new o.OlP("cdk-connected-overlay-scroll-strategy");let d2=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),C4=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=un(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=un(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=un(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=un(t)}get push(){return this._push}set push(t){this._push=un(t)}constructor(t,i,r,s,l){this._overlay=t,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=xr.w0.EMPTY,this._attachSubscription=xr.w0.EMPTY,this._detachSubscription=xr.w0.EMPTY,this._positionSubscription=xr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new YS(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=i$);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!gm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new c2({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof d2?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ly(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(kg),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(E4),o.Y36(Ba,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]}),n})();const s$={provide:E4,deps:[kg],useFactory:function r$(n){return()=>n.scrollStrategies.reposition()}};let u2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[kg,s$],imports:[xg,a2,y0,y0]}),n})();const c$={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[kg],useFactory:function l$(n){return()=>n.scrollStrategies.reposition()}};let d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[c$],imports:[ii,E0,Un,u2,Eg,Un]}),n})();var h2=C(3099);class f2{}class ym{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ym?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ym;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ym?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(u=>-1===s.indexOf(u)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class u${encodeKey(e){return I4(e)}encodeValue(e){return I4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const f$=/%(\d[a-f0-9])/gi,m$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I4(n){return encodeURIComponent(n).replace(f$,(e,t)=>m$[t]??e)}function ZS(n){return`${n}`}class vm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new u$,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function h$(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,u]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],m=t.get(l)||[];m.push(u),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(ZS):[ZS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ZS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ZS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class p${constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function D4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function M4(n){return typeof Blob<"u"&&n instanceof Blob}function A4(n){return typeof FormData<"u"&&n instanceof FormData}class Ow{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function g$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ym),this.context||(this.context=new p$),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+l}}else this.params=new vm,this.urlWithParams=t}serializeBody(){return null===this.body?null:D4(this.body)||M4(this.body)||A4(this.body)||function _$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||A4(this.body)?null:M4(this.body)?this.body.type||null:D4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,y=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((P,Q)=>P.set(Q,e.setHeaders[Q]),m)),e.setParams&&(y=Object.keys(e.setParams).reduce((P,Q)=>P.set(Q,e.setParams[Q]),y)),new Ow(t,i,s,{params:y,headers:m,context:w,reportProgress:u,responseType:r,withCredentials:l})}}var Bs=(()=>((Bs=Bs||{})[Bs.Sent=0]="Sent",Bs[Bs.UploadProgress=1]="UploadProgress",Bs[Bs.ResponseHeader=2]="ResponseHeader",Bs[Bs.DownloadProgress=3]="DownloadProgress",Bs[Bs.Response=4]="Response",Bs[Bs.User=5]="User",Bs))();class y${constructor(e,t=200,i="OK"){this.headers=e.headers||new ym,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class m2 extends y${constructor(e={}){super(e),this.type=Bs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new m2({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function p2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let g2=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ow)s=t;else{let m,y;m=r.headers instanceof ym?r.headers:new ym(r.headers),r.params&&(y=r.params instanceof vm?r.params:new vm({fromObject:r.params})),s=new Ow(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,At.of)(s).pipe((0,pc.b)(m=>this.handler.handle(m)));if(t instanceof Ow||"events"===r.observe)return l;const u=l.pipe((0,Li.h)(m=>m instanceof m2));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,Ot.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return u.pipe((0,Ot.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return u.pipe((0,Ot.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return u.pipe((0,Ot.U)(m=>m.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new vm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,p2(r,i))}post(t,i,r={}){return this.request("POST",t,p2(r,i))}put(t,i,r={}){return this.request("PUT",t,p2(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(f2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const k$=["*"];let QS;function Pw(n){return function R$(){if(void 0===QS&&(QS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(QS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return QS}()?.createHTML(n)||n}function B4(n){return Error(`Unable to find icon with the name "${n}"`)}function U4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function V4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Rg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let JS=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Rg(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(o.q3G.HTML,r);if(!l)throw V4(r);const u=Pw(l);return this._addSvgIconConfig(t,i,new Rg("",u,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Rg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw V4(i);const l=Pw(s);return this._addSvgIconSetConfig(t,new Rg("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,t);if(!i)throw U4(t);const r=this._cachedIconsByUrl.get(i);return r?(0,At.of)(eT(r)):this._loadSvgIconFromConfig(new Rg(t,null)).pipe((0,ir.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Ot.U)(s=>eT(s)))}getNamedSvgIcon(t,i=""){const r=H4(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Xo(B4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,At.of)(eT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Ot.U)(i=>eT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,At.of)(r):Mf(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe((0,Na.K)(u=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(y)),(0,At.of)(null)})))).pipe((0,Ot.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw B4(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(l,t,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ir.b)(i=>t.svgText=i),(0,Ot.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,At.of)(null):this._fetchIcon(t).pipe((0,ir.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const u=this._svgElementFromString(Pw("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Pw("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:u}=r[s];"id"!==l&&i.setAttribute(l,u)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function O$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!l)throw U4(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const m=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,Ot.U)(y=>Pw(y)),th(()=>this._inProgressUrlFetches.delete(l)),(0,h2.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(H4(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return F$(s)?new Rg(s.url,null,s.options):new Rg(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(g2,8),o.LFG(rd),o.LFG(M,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eT(n){return n.cloneNode(!0)}function H4(n,e){return n+":"+e}function F$(n){return!(!n.url||!n.options)}const N$=Aw(class{constructor(n){this._elementRef=n}}),L$=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),B$=new o.OlP("mat-icon-location",{providedIn:"root",factory:function U$(){const n=(0,o.f3M)(M),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),j4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],V$=j4.map(n=>`[${n}]`).join(", "),H$=/^url\(['"]?#(.*?)['"]?\)$/;let T0=(()=>{class n extends N${get inline(){return this._inline}set inline(t){this._inline=un(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,u){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(V$),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)j4.forEach(l=>{const u=i[s],m=u.getAttribute(l),y=m?m.match(H$):null;if(y){let w=r.get(u);w||(w=[],r.set(u,w)),w.push({name:l,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Kr.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(JS),o.$8M("aria-hidden"),o.Y36(B$),o.Y36(o.qLn),o.Y36(L$,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:k$,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,Un]}),n})();const G4=["mat-button",""],z4=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$4=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],W4=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",z$=["mat-icon-button",""],$$=["*"],W$=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],q$=Aw(Wk($S(class{constructor(n){this._elementRef=n}})));let y2=(()=>{class n extends q${constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(zk),this._isFab=!1;const l=t.nativeElement.classList;for(const u of W$)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(_m,5),2&t){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},features:[o.qOj]}),n})(),Y$=(()=>{class n extends y2{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),Og=(()=>{class n extends y2{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ki),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:G4,ngContentSelectors:$4,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(z4),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[_m],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),v2=(()=>{class n extends Y${constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ki),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:G4,ngContentSelectors:$4,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(z4),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[_m],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',W4],encapsulation:2,changeDetection:0}),n})(),Fw=(()=>{class n extends y2{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ki),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:z$,ngContentSelectors:$$,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(),o._UZ(0,"span",0),o.Hsn(1),o._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(o.xp6(3),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[_m],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',W4],encapsulation:2,changeDetection:0}),n})(),q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,E0,Un]}),n})();class w2{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new en.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let Z4=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[y0]}),n})(),DW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,uW,Un]}),n})();const AW=["switch"],kW=["*"],RW=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),OW={provide:eo,useExisting:(0,o.Gpc)(()=>R2),multi:!0};class a6{constructor(e,t){this.source=e,this.checked=t}}let PW=0;const FW=qk(Aw($S(Wk(class{constructor(n){this._elementRef=n}}))));let NW=(()=>{class n extends FW{get required(){return this._required}set required(t){this._required=un(t)}get checked(){return this._checked}set checked(t){this._checked=un(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,l,u,m){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=l,this._onChange=y=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===u,this.id=this._uniqueId=`${m}${++PW}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[o.qOj]}),n})(),R2=(()=>{class n extends NW{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,s,l,u){super(t,i,r,s,l,u,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new a6(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new a6(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(zk),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(RW),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&o.Gf(AW,5),2&t){let r;o.iGM(r=o.CRH())&&(i._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,i){2&t&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),o.ekj("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[o._Bn([OW]),o.qOj],ngContentSelectors:kW,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,i){if(1&t&&(o.F$t(),o.TgZ(0,"div",0)(1,"button",1,2),o.NdJ("click",function(){return i._handleClick()}),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"div",7),o.qZA(),o.TgZ(8,"div",8),o._UZ(9,"div",9),o.qZA(),o.TgZ(10,"div",10),o.O4$(),o.TgZ(11,"svg",11),o._UZ(12,"path",12),o.qZA(),o.TgZ(13,"svg",13),o._UZ(14,"path",14),o.qZA()()()()(),o.kcU(),o.TgZ(15,"label",15),o.NdJ("click",function(s){return s.stopPropagation()}),o.Hsn(16),o.qZA()()),2&t){const r=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==i.labelPosition),o.xp6(1),o.ekj("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),o.Q6J("tabIndex",i.tabIndex)("disabled",i.disabled),o.uIk("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),o.xp6(8),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),o.xp6(6),o.Q6J("for",i.buttonId),o.uIk("id",i._labelId)}},dependencies:[_m],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),l6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),UW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[l6,Un,E0,ii,l6,Un]}),n})();const VW=["trigger"],HW=["panel"];function jW(n,e){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.placeholder)}}function GW(n,e){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.triggerValue)}}function zW(n,e){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function $W(n,e){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,GW,2,1,"span",12),o.YNc(2,zW,1,0,"ng-content",13),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngSwitch",!!t.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function WW(n,e){if(1&n){const t=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const t=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),o.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),o.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const qW=[[["mat-select-trigger"]],"*"],KW=["mat-select-trigger","*"],YW={transformPanelWrap:vr("transformPanelWrap",[fi("* => void",ad("@transformPanel",[ec()],{optional:!0}))]),transformPanel:vr("transformPanel",[kr("void",hi({opacity:0,transform:"scale(1, 0.8)"})),fi("void => showing",bi("120ms cubic-bezier(0, 0, 0.2, 1)",hi({opacity:1,transform:"scale(1, 1)"}))),fi("* => void",bi("100ms linear",hi({opacity:0})))])};let c6=0;const d6=new o.OlP("mat-select-scroll-strategy"),XW=new o.OlP("MAT_SELECT_CONFIG"),QW={provide:d6,deps:[kg],useFactory:function ZW(n){return()=>n.scrollStrategies.reposition()}},JW=new o.OlP("MatSelectTrigger");class eq{constructor(e,t){this.source=e,this.value=t}}const tq=$S(qk(Wk(U3(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new en.x}}))));let nq=(()=>{class n extends tq{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ko.required)??!1}set required(t){this._required=un(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=un(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=un(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Xr(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,s,l,u,m,y,w,P,Q,le,pe,Ie){super(l,s,m,y,P),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=w,this._liveAnnouncer=pe,this._defaultOptions=Ie,this._panelOpen=!1,this._compareWith=(ke,rt)=>ke===rt,this._uid="mat-select-"+c6++,this._triggerAriaLabelledBy=null,this._destroy=new en.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+c6++,this._panelDoneAnimatingStream=new en.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Vd(()=>{const ke=this.options;return ke?ke.changes.pipe(Fa(ke),(0,Ni.w)(()=>(0,Cl.T)(...ke.map(rt=>rt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Kr.q)(1),(0,Ni.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe((0,Li.h)(ke=>ke),(0,Ot.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Li.h)(ke=>!ke),(0,Ot.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ie?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ie.typeaheadDebounceInterval),this._scrollStrategyFactory=le,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Q)||0,this.id=this.id}ngOnInit(){this._selectionModel=new w2(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Cg.x)(),(0,rr.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,rr.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Fa(null),(0,rr.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,l=this._keyManager;if(!l.isTyping()&&s&&!gm(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(t);const m=this.selected;m&&u!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,l=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(l||13!==r&&32!==r||!i.activeItem||gm(t))if(!l&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const u=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(u?m.select():m.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Kr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new ae(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Cl.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,rr.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Cl.T)(...this.options.map(i=>i._stateChanges)).pipe((0,rr.R)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(mm),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(V3),o.Y36(o.SBq),o.Y36(Ba,8),o.Y36(Nf,8),o.Y36(Bd,8),o.Y36(Jk,8),o.Y36(Yt,10),o.$8M("tabindex"),o.Y36(d6),o.Y36(Gk),o.Y36(XW,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&(o.Gf(VW,5),o.Gf(HW,5),o.Gf(C4,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),u6=(()=>{class n extends nq{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,rr.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,s=function AG(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let l=0;l<n+1;l++)i[l].group&&i[l].group===r[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),l=i._getHostElement();r.scrollTop=0===t&&1===s?0:function kG(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new eq(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof d2?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=un(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,JW,5),o.Suo(r,Kk,5),o.Suo(r,Y3,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:Qk,useExisting:n},{provide:K3,useExisting:n}]),o.qOj],ngContentSelectors:KW,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(o.F$t(qW),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,jW,2,1,"span",3),o.YNc(5,$W,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,WW,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Jt,Hr,ks,yi,C4,d2],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[YW.transformPanel]},changeDetection:0}),n})(),iq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[QW],imports:[ii,u2,Yk,Un,Eg,e2,Yk,Un]}),n})();const h6=["*"];class sq{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new oq(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class oq{constructor(e,t){this.row=e,this.col=t}}const f6=new o.OlP("MAT_GRID_LIST");let O2=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Xr(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Xr(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(f6,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&o.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:h6,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const aq=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class P2{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=m6(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Pg(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,r,s),this.setRowStyles(e,t,r,s)}setColStyles(e,t,i,r){let s=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",Pg(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class lq extends P2{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=m6(this.fixedRowHeight),aq.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Pg(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Pg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class cq extends P2{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Pg(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Pg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class dq extends P2{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",Pg(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Pg(n){return`calc(${n})`}function m6(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let Uw=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Xr(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new dq:t&&t.indexOf(":")>-1?new cq(t):new lq(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new sq);const t=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((s,l)=>{const u=t.positions[l];this._tileStyler.setStyle(s,u.row,u.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ba,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,O2,5),2&t){let s;o.iGM(s=o.CRH())&&(i._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:f6,useExisting:n}])],ngContentSelectors:h6,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[H3,Un,H3,Un]}),n})();function fq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",t.data.action," ")}}const mq=["label"];function pq(n,e){}const gq=Math.pow(2,31)-1;class F2{constructor(e,t){this._overlayRef=t,this._afterDismissed=new en.x,this._afterOpened=new en.x,this._onAction=new en.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,gq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const p6=new o.OlP("MatSnackBarData");class dT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let _q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),vq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),bq=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(F2),o.Y36(p6))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._uU(1),o.qZA(),o.YNc(2,fq,3,1,"div",1)),2&t&&(o.xp6(1),o.hij(" ",i.data.message,"\n"),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Ti,Og,_q,yq,vq],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const wq={snackBarState:vr("state",[kr("void, hidden",hi({transform:"scale(0.8)",opacity:0})),kr("visible",hi({transform:"scale(1)",opacity:1})),fi("* => visible",bi("150ms cubic-bezier(0, 0, 0.2, 1)")),fi("* => void, * => hidden",bi("75ms cubic-bezier(0.4, 0.0, 1, 1)",hi({opacity:0})))])};let xq=0,Eq=(()=>{class n extends s2{constructor(t,i,r,s,l){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=l,this._document=(0,o.f3M)(M),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new en.x,this._onExit=new en.x,this._onEnter=new en.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+xq++,this.attachDomPortal=u=>{this._assertNotAttached();const m=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),m},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Kr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],l=s.getAttribute("aria-owns");this._trackedModals.add(s),l?-1===l.indexOf(t)&&s.setAttribute("aria-owns",l+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ki),o.Y36(dT))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(o2,7),2&t){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),Cq=(()=>{class n extends Eq{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&o.Gf(mq,7),2&t){let r;o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),o.YNc(4,pq,0,0,"ng-template",4),o.qZA(),o._UZ(5,"div"),o.qZA()()),2&t&&(o.xp6(5),o.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[o2],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[wq.snackBarState]}}),n})(),g6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[u2,a2,ii,q4,Un,Un]}),n})();const _6=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Sq(){return new dT}});let Tq=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,l,u){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=l,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:dT,useValue:i}]}),l=new r2(this.snackBarContainerComponent,i.viewContainerRef,s),u=t.attach(l);return u.instance.snackBarConfig=i,u.instance}_attach(t,i){const r={...new dT,...this._defaultConfig,...i},s=this._createOverlay(r),l=this._attachSnackBarContainer(s,r),u=new F2(l,s);if(t instanceof o.Rgc){const m=new YS(t,null,{$implicit:r.data,snackBarRef:u});u.instance=l.attachTemplatePortal(m)}else{const m=this._createInjector(r,u),y=new r2(t,void 0,m),w=l.attachComponentPortal(y);u.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,rr.R)(s.detachments())).subscribe(m=>{s.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),r.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new c2;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,l="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,u=!l&&"center"!==t.horizontalPosition;return l?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return o.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:F2,useValue:i},{provide:p6,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(kg),o.LFG(Gk),o.LFG(o.zs3),o.LFG(GS),o.LFG(n,12),o.LFG(_6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Iq=(()=>{class n extends Tq{constructor(t,i,r,s,l,u){super(t,i,r,s,l,u),this.simpleSnackBarComponent=bq,this.snackBarContainerComponent=Cq,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(kg),o.LFG(Gk),o.LFG(o.zs3),o.LFG(GS),o.LFG(n,12),o.LFG(_6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:g6}),n})(),Dq=0;const N2=new o.OlP("CdkAccordion");let Mq=(()=>{class n{constructor(){this._stateChanges=new en.x,this._openCloseAllActions=new en.x,this.id="cdk-accordion-"+Dq++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=un(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:N2,useExisting:n}]),o.TTD]}),n})(),Aq=0,kq=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=un(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=un(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=xr.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+Aq++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(N2,12),o.Y36(o.sBO),o.Y36(Z4))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:N2,useValue:void 0}])]}),n})(),Rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Oq=["body"];function Pq(n,e){}const Fq=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Nq=["mat-expansion-panel-header","*","mat-action-row"];function Lq(n,e){if(1&n&&o._UZ(0,"span",2),2&n){const t=o.oxw();o.Q6J("@indicatorRotate",t._getExpandedState())}}const Bq=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Uq=["mat-panel-title","mat-panel-description","*"],L2=new o.OlP("MAT_ACCORDION"),y6="225ms cubic-bezier(0.4,0.0,0.2,1)",v6={indicatorRotate:vr("indicatorRotate",[kr("collapsed, void",hi({transform:"rotate(0deg)"})),kr("expanded",hi({transform:"rotate(180deg)"})),fi("expanded <=> collapsed, void => collapsed",bi(y6))]),bodyExpansion:vr("bodyExpansion",[kr("collapsed, void",hi({height:"0px",visibility:"hidden"})),kr("expanded",hi({height:"*",visibility:"visible"})),fi("expanded <=> collapsed, void => collapsed",bi(y6))])},b6=new o.OlP("MAT_EXPANSION_PANEL");let Vq=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(b6,8))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Hq=0;const w6=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let B2=(()=>{class n extends kq{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=un(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,l,u,m){super(t,i,r),this._viewContainerRef=s,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new en.x,this._headerId="mat-expansion-panel-header-"+Hq++,this._bodyAnimationDone=new en.x,this.accordion=t,this._document=l,this._bodyAnimationDone.pipe((0,Cg.x)((y,w)=>y.fromState===w.fromState&&y.toState===w.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Fa(null),(0,Li.h)(()=>this.expanded&&!this._portal),(0,Kr.q)(1)).subscribe(()=>{this._portal=new YS(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(L2,12),o.Y36(o.sBO),o.Y36(Z4),o.Y36(o.s_b),o.Y36(M),o.Y36(o.QbO,8),o.Y36(w6,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Vq,5),2&t){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&o.Gf(Oq,5),2&t){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:L2,useValue:void 0},{provide:b6,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:Nq,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(o.F$t(Fq),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,Pq,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},dependencies:[o2],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[v6.bodyExpansion]},changeDetection:0}),n})();class jq{}const Gq=qk(jq);let U2=(()=>{class n extends Gq{constructor(t,i,r,s,l,u,m){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=u,this._parentChangeSubscription=xr.w0.EMPTY;const y=t.accordion?t.accordion._stateChanges.pipe((0,Li.h)(w=>!(!w.hideToggle&&!w.togglePosition))):Ns.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Cl.T)(t.opened,t.closed,y,t._inputChanges.pipe((0,Li.h)(w=>!!(w.hideToggle||w.disabled||w.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,Li.h)(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:gm(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(B2,1),o.Y36(o.SBq),o.Y36(zk),o.Y36(o.sBO),o.Y36(w6,8),o.Y36(o.QbO,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:Uq,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(o.F$t(Bq),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,Lq,1,1,"span",1)),2&t&&(o.ekj("mat-content-hide-toggle",!i._showToggle()),o.xp6(4),o.Q6J("ngIf",i._showToggle()))},dependencies:[Ti],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[v6.indicatorRotate]},changeDetection:0}),n})(),x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),E6=(()=>{class n extends Mq{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=un(t)}ngAfterContentInit(){this._headers.changes.pipe(Fa(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new we(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,U2,5),2&t){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:L2,useExisting:n}]),o.qOj]}),n})(),zq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ii,Un,Rq,a2]}),n})(),bK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[t4,ii,Un,E0,q3,Z3]}),n})();const wK=["knob"],xK=["valueIndicatorContainer"];function EK(n,e){if(1&n&&(o.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),o._uU(4),o.qZA()()()),2&n){const t=o.oxw();o.xp6(4),o.Oqu(t.valueIndicatorText)}}const CK=["trackActive"];function SK(n,e){if(1&n&&o._UZ(0,"div"),2&n){const t=e.$implicit,i=e.index,r=o.oxw(3);o.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),o.Udp("transform",r._calcTickMarkTransform(i))}}function TK(n,e){if(1&n&&(o.ynx(0),o.YNc(1,SK,1,4,"div",11),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t._tickMarks)}}function IK(n,e){if(1&n&&(o.TgZ(0,"div",8,9),o.YNc(2,TK,2,1,"ng-container",10),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.Q6J("ngIf",t._cachedWidth)}}function DK(n,e){if(1&n&&o._UZ(0,"mat-slider-visual-thumb",7),2&n){const t=o.oxw();o.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const MK=["*"],uT=new o.OlP("_MatSlider"),D6=new o.OlP("_MatSliderThumb"),M6=new o.OlP("_MatSliderRangeThumb"),A6=new o.OlP("_MatSliderVisualThumb");let AK=(()=>{class n{constructor(t,i,r,s){this._cdr=t,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=l=>{if(this._sliderInput._isFocused)return;const u=this._hostElement.getBoundingClientRect(),m=this._isSliderThumbHovered(l,u);this._isHovered=m,m?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(t,i){const r=i.width/2,m=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(m,2)<Math.pow(r,2)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(uT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(t,i){if(1&t&&(o.Gf(_m,5),o.Gf(wK,5),o.Gf(xK,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._ripple=r.first),o.iGM(r=o.CRH())&&(i._knob=r.first),o.iGM(r=o.CRH())&&(i._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[o._Bn([{provide:A6,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(t,i){1&t&&(o.YNc(0,EK,5,1,"div",0),o._UZ(1,"div",1,2)(3,"div",3)),2&t&&(o.Q6J("ngIf",i.discrete),o.xp6(3),o.Q6J("matRippleDisabled",!0))},dependencies:[Ti,_m],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const kK=Aw($S(class{constructor(n){this._elementRef=n}}),"primary");let k6=(()=>{class n extends kK{get disabled(){return this._disabled}set disabled(t){this._disabled=un(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=un(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=un(t)}get min(){return this._min}set min(t){const i=Xr(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=Xr(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=Xr(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,s=i.value,l=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<l?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,s,l,u,m){super(s),this._ngZone=t,this._cdr=i,this._platform=r,this._dir=l,this._globalRippleOptions=u,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=y=>`${y}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===m,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style,r=t.left!==i.left&&t.right!==i.right;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,r?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe((0,Kr.q)(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),i.transform=t.transform})):i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/t),0),s=Math.max(Math.round((this.max-i)/t),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),s=Math.max(Math.floor((r-this.min)/t),0),l=Math.max(Math.floor((i-r)/t)+1,0),u=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(l).fill(0),Array(u).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(ki),o.Y36(o.SBq),o.Y36(Ba,8),o.Y36(WS,8),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slider"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,D6,5),o.Suo(r,M6,4)),2&t){let s;o.iGM(s=o.CRH())&&(i._input=s.first),o.iGM(s=o.CRH())&&(i._inputs=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(CK,5),o.Gf(A6,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._trackActive=r.first),o.iGM(r=o.CRH())&&(i._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(t,i){2&t&&o.ekj("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[o._Bn([{provide:uT,useExisting:n}]),o.qOj],ngContentSelectors:MK,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(o.F$t(),o.Hsn(0),o.TgZ(1,"div",0),o._UZ(2,"div",1),o.TgZ(3,"div",2),o._UZ(4,"div",3,4),o.qZA(),o.YNc(6,IK,3,1,"div",5),o.qZA(),o.YNc(7,DK,1,3,"mat-slider-visual-thumb",6),o._UZ(8,"mat-slider-visual-thumb",7)),2&t&&(o.xp6(6),o.Q6J("ngIf",i.showTickMarks),o.xp6(1),o.Q6J("ngIf",i._isRange),o.xp6(1),o.Q6J("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[Ms,Ti,AK],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const OK={provide:eo,useExisting:(0,o.Gpc)(()=>hT),multi:!0};let hT=(()=>{class n{get value(){return Xr(this._hostElement.value)}set value(t){const i=Xr(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Xr(this._hostElement.min)}set min(t){this._hostElement.min=Xr(t).toString(),this._cdr.detectChanges()}get max(){return Xr(this._hostElement.max)}set max(t){this._hostElement.max=Xr(t).toString(),this._cdr.detectChanges()}get step(){return Xr(this._hostElement.step)}set step(t){this._hostElement.step=Xr(t).toString(),this._cdr.detectChanges()}get disabled(){return un(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=un(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,s){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=s,this.valueChange=new o.vpe,this.dragStart=new o.vpe,this.dragEnd=new o.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new en.x,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){this.disabled||0!==t.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,l=Math.floor((this._slider.max-this._slider.min)/s),y=Math.round((this._slider._isRtl?1-i/r:i/r)*l)/l*(this._slider.max-this._slider.min)+this._slider.min,w=Math.round(y/s)*s;if(w===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=w,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){this.value=t}registerOnChange(t){this._onChangeFn=t}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(uT))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(t,i){1&t&&o.NdJ("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),2&t&&o.uIk("aria-valuetext",i._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[o._Bn([OK,{provide:D6,useExisting:n}])]}),n})(),NK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Un,ii,E0]}),n})(),fT=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[OG,Z3,BG,Cz,Hz,d$,j$,q4,DW,UW,iq,Yk,hq,g6,zq,bK,NK]}),n})();function LK(n,e){if(1&n&&(o.TgZ(0,"div",3)(1,"mat-card-content")(2,"button",4)(3,"mat-icon"),o._uU(4),o.qZA()(),o.TgZ(5,"div"),o._uU(6),o.qZA()()()),2&n){const t=e.$implicit;o.xp6(2),o.Q6J("routerLink",t.path)("disabled",t.disabled),o.xp6(2),o.Oqu(t.icon),o.xp6(2),o.Oqu(t.title)}}let BK=(()=>{const e=class{constructor(){this.apps=[],this.apps=[{id:1,title:"Tres en linea",disabled:!1,icon:"gamepad",path:"/game/tres-en-linea"},{id:2,title:"Smart toy",disabled:!0,icon:"smart_toy",path:"/game/smart-toy"},{id:3,title:"Basketball",disabled:!0,icon:"sports_volleyball",path:"/game/basketball"},{id:4,title:"Tetris",disabled:!1,icon:"sports_cricket",path:"/game/tetris"}]}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"h2","my-3"],[1,"row"],["class","col col-6",4,"ngFor","ngForOf"],[1,"col","col-6"],["mat-icon-button","","color","primary",3,"routerLink","disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0),o._uU(3,"Mis aplicaciones"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"div",1),o.YNc(6,LK,7,4,"div",2),o.qZA()()()),2&r&&(o.xp6(6),o.Q6J("ngForOf",s.apps))},dependencies:[Ms,Ig,Dg,Mg,T0,Fw,xl],styles:["mat-card[_ngcontent-%COMP%]{margin:2em auto;justify-content:center}button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1rem;transform:scale(3)}"]}),n})();var Ye=C(5861),Us=C(9653);const R6=(0,Us.R7)({source:"Auth",events:{"Set User Logged In":(0,Us.Ky)()}});var ci=C(7171);function H2(){return(0,ls.e)((n,e)=>{let t,i=!1;n.subscribe((0,wr.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var kt,Qr=C(2011),bc=(C(8463),C(6101),C(7212),C(1617),C(1877)),fe=C(5578),UK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wc={},G2=G2||{},Cn=UK||self;function mT(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var z2="closure_uid_"+(1e9*Math.random()>>>0),HK=0;function jK(n,e,t){return n.call.apply(n.bind,arguments)}function GK(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function io(n,e,t){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jK:GK).apply(null,arguments)}function pT(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function bm(){this.s=this.s,this.o=this.o}bm.prototype.s=!1,bm.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function VK(n){Object.prototype.hasOwnProperty.call(n,z2)&&n[z2]||(n[z2]=++HK)}(this)},bm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O6=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $2(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function P6(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(mT(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function ro(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var $K=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Cn.addEventListener("test",()=>{},e),Cn.removeEventListener("test",()=>{},e)}catch{}return n}();function Hw(n){return/^[\s\xa0]*$/.test(n)}function gT(){var n=Cn.navigator;return n&&(n=n.userAgent)?n:""}function Zd(n){return-1!=gT().indexOf(n)}function W2(n){return W2[" "](n),n}W2[" "]=function(){};var K2,qK=Zd("Opera"),A0=Zd("Trident")||Zd("MSIE"),F6=Zd("Edge"),q2=F6||A0,N6=Zd("Gecko")&&!(-1!=gT().toLowerCase().indexOf("webkit")&&!Zd("Edge"))&&!(Zd("Trident")||Zd("MSIE"))&&!Zd("Edge"),KK=-1!=gT().toLowerCase().indexOf("webkit")&&!Zd("Edge");function L6(){var n=Cn.document;return n?n.documentMode:void 0}e:{var Y2="",Z2=function(){var n=gT();return N6?/rv:([^\);]+)(\)|;)/.exec(n):F6?/Edge\/([\d\.]+)/.exec(n):A0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KK?/WebKit\/(\S+)/.exec(n):qK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Z2&&(Y2=Z2?Z2[1]:""),A0){var X2=L6();if(null!=X2&&X2>parseFloat(Y2)){K2=String(X2);break e}}K2=Y2}var YK=Cn.document&&A0&&(L6()||parseInt(K2,10))||void 0;function jw(n,e){if(ro.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(N6){e:{try{W2(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jw.$.h.call(this)}}var ZK={2:"touch",3:"pen",4:"mouse"};jw.prototype.h=function(){jw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gw="closure_listenable_"+(1e6*Math.random()|0),XK=0;function QK(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++XK,this.fa=this.ia=!1}function _T(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function J2(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function U6(n){const e={};for(const t in n)e[t]=n[t];return e}const V6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H6(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<V6.length;s++)t=V6[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function yT(n){this.src=n,this.g={},this.h=0}function eR(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=O6(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_T(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tR(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}yT.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=tR(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new QK(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var nR="closure_lm_"+(1e6*Math.random()|0),iR={};function j6(n,e,t,i,r){if(i&&i.once)return z6(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)j6(n,e[s],t,i,r);return null}return t=aR(t),n&&n[Gw]?n.O(e,t,Vw(i)?!!i.capture:!!i,r):G6(n,e,t,!1,i,r)}function G6(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=Vw(r)?!!r.capture:!!r,u=sR(n);if(u||(n[nR]=u=new yT(n)),(t=u.add(e,t,i,l,s)).proxy)return t;if(i=function eY(){const e=tY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)$K||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(W6(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function z6(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)z6(n,e[s],t,i,r);return null}return t=aR(t),n&&n[Gw]?n.P(e,t,Vw(i)?!!i.capture:!!i,r):G6(n,e,t,!0,i,r)}function $6(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)$6(n,e[s],t,i,r);else i=Vw(i)?!!i.capture:!!i,t=aR(t),n&&n[Gw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tR(s=n.g[e],t,i,r))&&(_T(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=sR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tR(e,t,i,r)),(t=-1<n?e[n]:null)&&rR(t))}function rR(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gw])eR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(W6(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=sR(e))?(eR(t,n),0==t.h&&(t.src=null,e[nR]=null)):_T(n)}}}function W6(n){return n in iR?iR[n]:iR[n]="on"+n}function tY(n,e){if(n.fa)n=!0;else{e=new jw(e,this);var t=n.listener,i=n.la||n.src;n.ia&&rR(n),n=t.call(i,e)}return n}function sR(n){return(n=n[nR])instanceof yT?n:null}var oR="__closure_events_fn_"+(1e9*Math.random()>>>0);function aR(n){return"function"==typeof n?n:(n[oR]||(n[oR]=function(e){return n.handleEvent(e)}),n[oR])}function xs(){bm.call(this),this.i=new yT(this),this.S=this,this.J=null}function Vs(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ro(e,n);else if(e instanceof ro)e.target=e.target||n;else{var r=e;H6(e=new ro(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=vT(l,i,!0,e)&&r}if(r=vT(l=e.g=n,i,!0,e)&&r,r=vT(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=vT(l=e.g=t[s],i,!1,e)&&r}function vT(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var u=l.listener,m=l.la||l.src;l.ia&&eR(n.i,l),r=!1!==u.call(m,i)&&r}}return r&&!i.defaultPrevented}xs.prototype[Gw]=!0,xs.prototype.removeEventListener=function(n,e,t,i){$6(this,n,e,t,i)},xs.prototype.N=function(){if(xs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)_T(t[i]);delete n.g[e],n.h--}}this.J=null},xs.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},xs.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var lR=Cn.JSON.stringify;class nY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function iY(){var n=cR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class rY{constructor(){this.h=this.g=null}add(e,t){const i=q6.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}}var q6=new nY(()=>new sY,n=>n.reset());class sY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function aY(n){Cn.setTimeout(()=>{throw n},0)}let zw,$w=!1,cR=new rY,K6=()=>{const n=Cn.Promise.resolve(void 0);zw=()=>{n.then(lY)}};var lY=()=>{for(var n;n=iY();){try{n.h.call(n.g)}catch(t){aY(t)}var e=q6;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$w=!1};function bT(n,e){xs.call(this),this.h=n||1,this.g=e||Cn,this.j=io(this.qb,this),this.l=Date.now()}function dR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function uR(n,e,t){if("function"==typeof n)t&&(n=io(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(e)?-1:Cn.setTimeout(n,e||0)}function Y6(n){n.g=uR(()=>{n.g=null,n.i&&(n.i=!1,Y6(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(kt=bT.prototype).ga=!1,kt.T=null,kt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vs(this,"tick"),this.ga&&(dR(this),this.start()))}},kt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.N=function(){bT.$.N.call(this),dR(this),delete this.g};class cY extends bm{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y6(this)}N(){super.N(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ww(n){bm.call(this),this.h=n,this.g={}}var Z6=[];function X6(n,e,t,i){Array.isArray(t)||(t&&(Z6[0]=t.toString()),t=Z6);for(var r=0;r<t.length;r++){var s=j6(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Q6(n){J2(n.g,function(e,t){this.g.hasOwnProperty(t)&&rR(e)},n),n.g={}}function wT(){this.g=!0}function k0(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return lR(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ww.prototype.N=function(){Ww.$.N.call(this),Q6(this)},Ww.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wT.prototype.Ea=function(){this.g=!1},wT.prototype.info=function(){};var Fg={},J6=null;function xT(){return J6=J6||new xs}function e5(n){ro.call(this,Fg.Ta,n)}function qw(n){const e=xT();Vs(e,new e5(e))}function t5(n,e){ro.call(this,Fg.STAT_EVENT,n),this.stat=e}function Io(n){const e=xT();Vs(e,new t5(e,n))}function n5(n,e){ro.call(this,Fg.Ua,n),this.size=e}function Kw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){n()},e)}Fg.Ta="serverreachability",Fg.STAT_EVENT="statevent",Fg.Ua="timingevent";var ET={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},r5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function o5(){}var pR,Yw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fR(){ro.call(this,"d")}function mR(){ro.call(this,"c")}function CT(){}function Zw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ww(this),this.P=mY,this.V=new bT(n=q2?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new a5}function a5(){this.i=null,this.g="",this.h=!1}CT.prototype.g=function(){return new XMLHttpRequest},CT.prototype.i=function(){return{}},pR=new CT;var mY=45e3,gR={},ST={};function _R(n,e,t){n.L=1,n.v=MT(yh(e)),n.s=t,n.S=!0,l5(n,null)}function l5(n,e){n.G=Date.now(),Xw(n),n.A=yh(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),y5(t.i,"t",i),n.C=0,t=n.l.J,n.h=new a5,n.g=j5(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cY(io(n.Pa,n,n.g),n.O)),X6(n.U,n.g,"readystatechange",n.nb),e=n.I?U6(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),qw(),function dY(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",u=s.split("&"),m=0;m<u.length;m++){var y=u[m].split("=");if(1<y.length){var w=y[0];y=y[1];var P=w.split("_");l=2<=P.length&&"type"==P[1]?l+(w+"=")+y+"&":l+(w+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function c5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function d5(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=pY(n,t),r==ST){4==e&&(n.o=4,Io(14),i=!1),k0(n.j,n.m,null,"[Incomplete Response]");break}if(r==gR){n.o=4,Io(15),k0(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}k0(n.j,n.m,r,null),yR(n,r)}c5(n)&&r!=ST&&r!=gR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Io(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),SR(e),e.M=!0,Io(11))):(k0(n.j,n.m,t,"[Invalid Chunked Response]"),Ng(n),Qw(n))}function pY(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?ST:(t=Number(e.substring(t,i)),isNaN(t)?gR:(i+=1)+t>e.length?ST:(e=e.slice(i,i+t),n.C=i+t,e))}function Xw(n){n.Y=Date.now()+n.P,u5(n,n.P)}function u5(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kw(io(n.lb,n),e)}function TT(n){n.B&&(Cn.clearTimeout(n.B),n.B=null)}function Qw(n){0==n.l.H||n.J||B5(n.l,n)}function Ng(n){TT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,dR(n.V),Q6(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yR(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vR(t.i,n)))if(!n.K&&vR(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;FT(t),OT(t)}CR(t),Io(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Kw(io(t.ib,t),6e3));if(1>=w5(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Bg(t,11)}else if((n.K||t.g==n)&&FT(t),!Hw(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const w=y[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const P=y[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const Q=y[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.L=i=1.5*Q,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const le=n.g;if(le){const pe=le.g?le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pe){var s=i.i;s.g||-1==pe.indexOf("spdy")&&-1==pe.indexOf("quic")&&-1==pe.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bR(s,s.h),s.h=null))}if(i.F){const Ie=le.g?le.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(i.Da=Ie,$i(i.I,i.F,Ie))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=H5(i,i.J?i.pa:null,i.Y),l.K){x5(i.i,l);var u=l,m=i.L;m&&u.setTimeout(m),u.B&&(TT(u),Xw(u)),i.g=l}else N5(i);0<t.j.length&&PT(t)}else"stop"!=y[0]&&"close"!=y[0]||Bg(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Bg(t,7):ER(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}qw()}catch{}}function h5(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mT(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function _Y(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mT(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function gY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mT(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(kt=Zw.prototype).setTimeout=function(n){this.P=n},kt.nb=function(n){n=n.target;const e=this.M;e&&3==Xd(n)?e.l():this.Pa(n)},kt.Pa=function(n){try{if(n==this.g)e:{const w=Xd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||q2||this.g&&(this.h.h||this.g.ja()||A5(this.g)))){this.J||4!=w||7==e||qw(),TT(this);var t=this.g.da();this.ca=t;t:if(c5(this)){var i=A5(this.g);n="";var r=i.length,s=4==Xd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ng(this),Qw(this);var l="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function uY(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,m=this.g;if((u=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hw(u)){var y=u;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Io(12),Ng(this),Qw(this);break e}k0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yR(this,t)}this.S?(d5(this,w,l),q2&&this.i&&3==w&&(X6(this.U,this.V,"tick",this.mb),this.V.start())):(k0(this.j,this.m,l,null),yR(this,l)),4==w&&Ng(this),this.i&&!this.J&&(4==w?B5(this.l,this):(this.i=!1,Xw(this)))}else(function FY(n){const e={};n=(n.g&&2<=Xd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Hw(n[i]))continue;var t=oY(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function JK(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),Ng(this),Qw(this)}}}catch{}},kt.mb=function(){if(this.g){var n=Xd(this.g),e=this.g.ja();this.C<e.length&&(TT(this),d5(this,n,e),this.i&&4!=n&&Xw(this))}},kt.cancel=function(){this.J=!0,Ng(this)},kt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qw(),Io(17)),Ng(this),this.o=2,Qw(this)):u5(this,this.Y-n)};var f5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lg){this.h=n.h,IT(this,n.j),this.s=n.s,this.g=n.g,DT(this,n.m),this.l=n.l;var e=n.i,t=new tx;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),m5(this,t),this.o=n.o}else n&&(e=String(n).match(f5))?(this.h=!1,IT(this,e[1]||"",!0),this.s=Jw(e[2]||""),this.g=Jw(e[3]||"",!0),DT(this,e[4]),this.l=Jw(e[5]||"",!0),m5(this,e[6]||"",!0),this.o=Jw(e[7]||"")):(this.h=!1,this.i=new tx(null,this.h))}function yh(n){return new Lg(n)}function IT(n,e,t){n.j=t?Jw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function DT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function m5(n,e,t){e instanceof tx?(n.i=e,function CY(n,e){e&&!n.j&&(wm(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(g5(this,i),y5(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ex(e,xY)),n.i=new tx(e,n.h))}function $i(n,e,t){n.i.set(e,t)}function MT(n){return $i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ex(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ex(e,p5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ex(e,p5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ex(t,"/"==t.charAt(0)?wY:bY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ex(t,EY)),n.join("")};var p5=/[#\/\?@]/g,bY=/[#\?:]/g,wY=/[#\?]/g,xY=/[#\?@]/g,EY=/#/g;function tx(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wm(n){n.g||(n.g=new Map,n.h=0,n.i&&function yY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function g5(n,e){wm(n),e=R0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _5(n,e){return wm(n),e=R0(n,e),n.g.has(e)}function y5(n,e,t){g5(n,e),0<t.length&&(n.i=null,n.g.set(R0(n,e),$2(t)),n.h+=t.length)}function R0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function v5(n){this.l=n||TY,n=Cn.PerformanceNavigationTiming?0<(n=Cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ka&&Cn.g.Ka()&&Cn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(kt=tx.prototype).add=function(n,e){wm(this),this.i=null,n=R0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},kt.forEach=function(n,e){wm(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},kt.ta=function(){wm(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},kt.Z=function(n){wm(this);let e=[];if("string"==typeof n)_5(this,n)&&(e=e.concat(this.g.get(R0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},kt.set=function(n,e){return wm(this),this.i=null,_5(this,n=R0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},kt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var TY=10;function b5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function w5(n){return n.h?1:n.g?n.g.size:0}function vR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bR(n,e){n.g?n.g.add(e):n.h=e}function x5(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function E5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return $2(n.i)}v5.prototype.cancel=function(){if(this.i=E5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,IY=class{stringify(n){return Cn.JSON.stringify(n,void 0)}parse(n){return Cn.JSON.parse(n,void 0)}};function DY(){this.g=new IY}function MY(n,e,t){const i=t||"";try{h5(n,function(r,s){let l=r;Vw(r)&&(l=lR(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function AT(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nx(n){this.l=n.fc||null,this.j=n.ob||!1}function kT(n,e){xs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nx.prototype.g=function(){return new kT(this.l,this.j)},nx.prototype.i=(n={},function(){return n});var wR=0;function C5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ix(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rx(n)}function rx(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(kt=kT.prototype).open=function(n,e){if(this.readyState!=wR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rx(this)},kt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ix(this)),this.readyState=wR},kt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rx(this)),this.g&&(this.readyState=3,rx(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},kt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ix(this):rx(this),3==this.readyState&&C5(this)}},kt.Za=function(n){this.g&&(this.response=this.responseText=n,ix(this))},kt.Ya=function(n){this.g&&(this.response=n,ix(this))},kt.ka=function(){this.g&&ix(this)},kt.setRequestHeader=function(n,e){this.v.append(n,e)},kt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var kY=Cn.JSON.parse;function Cr(n){xs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S5,this.L=this.M=!1}var S5="",RY=/^https?$/i,OY=["POST","PUT"];function T5(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,I5(n),RT(n)}function I5(n){n.F||(n.F=!0,Vs(n,"complete"),Vs(n,"error"))}function D5(n){if(n.h&&typeof G2<"u"&&(!n.C[1]||4!=Xd(n)||2!=n.da()))if(n.v&&4==Xd(n))uR(n.La,0,n);else if(Vs(n,"readystatechange"),4==Xd(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(f5)[1]||null;!r&&Cn.self&&Cn.self.location&&(r=Cn.self.location.protocol.slice(0,-1)),i=!RY.test(r?r.toLowerCase():"")}t=i}if(t)Vs(n,"complete"),Vs(n,"success");else{n.m=6;try{var s=2<Xd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",I5(n)}}finally{RT(n)}}}function RT(n,e){if(n.g){M5(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vs(n,"ready");try{t.onreadystatechange=i}catch{}}}function M5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Cn.clearTimeout(n.A),n.A=null)}function Xd(n){return n.g?n.g.readyState:0}function A5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case S5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function k5(n){let e="";return J2(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function xR(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=k5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$i(n,e,t))}function sx(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function R5(n){this.Ga=0,this.j=[],this.l=new wT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sx("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sx("baseRetryDelayMs",5e3,n),this.hb=sx("retryDelaySeedMs",1e4,n),this.eb=sx("forwardChannelMaxRetries",2,n),this.xa=sx("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new v5(n&&n.concurrentRequestLimit),this.Ja=new DY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ER(n){if(O5(n),3==n.H){var e=n.W++,t=yh(n.I);if($i(t,"SID",n.K),$i(t,"RID",e),$i(t,"TYPE","terminate"),ox(n,t),(e=new Zw(n,n.l,e)).L=2,e.v=MT(yh(t)),t=!1,Cn.navigator&&Cn.navigator.sendBeacon)try{t=Cn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=j5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xw(e)}V5(n)}function OT(n){n.g&&(SR(n),n.g.cancel(),n.g=null)}function O5(n){OT(n),n.u&&(Cn.clearTimeout(n.u),n.u=null),FT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Cn.clearTimeout(n.m),n.m=null)}function PT(n){if(!b5(n.i)&&!n.m){n.m=!0;var e=n.Na;zw||K6(),$w||(zw(),$w=!0),cR.add(e,n),n.C=0}}function P5(n,e){var t;t=e?e.m:n.W++;const i=yh(n.I);$i(i,"SID",n.K),$i(i,"RID",t),$i(i,"AID",n.V),ox(n,i),n.o&&n.s&&xR(i,n.o,n.s),t=new Zw(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=F5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bR(n.i,t),_R(t,i,e)}function ox(n,e){n.na&&J2(n.na,function(t,i){$i(e,i,t)}),n.h&&h5({},function(t,i){$i(e,i,t)})}function F5(n,e,t){t=Math.min(n.j.length,t);var i=n.h?io(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let u=!0;for(let m=0;m<t;m++){let y=r[m].g;const w=r[m].map;if(y-=s,0>y)s=Math.max(0,r[m].g-100),u=!1;else try{MY(w,l,"req"+y+"_")}catch{i&&i(w)}}if(u){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function N5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;zw||K6(),$w||(zw(),$w=!0),cR.add(e,n),n.A=0}}function CR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kw(io(n.Ma,n),U5(n,n.A)),n.A++,0))}function SR(n){null!=n.B&&(Cn.clearTimeout(n.B),n.B=null)}function L5(n){n.g=new Zw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=yh(n.wa);$i(e,"RID","rpc"),$i(e,"SID",n.K),$i(e,"AID",n.V),$i(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&$i(e,"TO",n.qa),$i(e,"TYPE","xmlhttp"),ox(n,e),n.o&&n.s&&xR(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=MT(yh(e)),t.s=null,t.S=!0,l5(t,n)}function FT(n){null!=n.v&&(Cn.clearTimeout(n.v),n.v=null)}function B5(n,e){var t=null;if(n.g==e){FT(n),SR(n),n.g=null;var i=2}else{if(!vR(n.i,e))return;t=e.F,x5(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Vs(i=xT(),new n5(i,t)),PT(n)}else N5(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function NY(n,e){return!(w5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kw(io(n.Na,n,e),U5(n,n.C)),n.C++,0)))}(n,e)||2==i&&CR(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Bg(n,5);break;case 4:Bg(n,10);break;case 3:Bg(n,6);break;default:Bg(n,2)}}function U5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Bg(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=io(n.pb,n);t||(t=new Lg("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||IT(t,"https"),MT(t)),function AY(n,e){const t=new wT;if(Cn.Image){const i=new Image;i.onload=pT(AT,t,i,"TestLoadImage: loaded",!0,e),i.onerror=pT(AT,t,i,"TestLoadImage: error",!1,e),i.onabort=pT(AT,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=pT(AT,t,i,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Io(2);n.H=0,n.h&&n.h.za(e),V5(n),O5(n)}function V5(n){if(n.H=0,n.ma=[],n.h){const e=E5(n.i);(0!=e.length||0!=n.j.length)&&(P6(n.ma,e),P6(n.ma,n.j),n.i.i.length=0,$2(n.j),n.j.length=0),n.h.ya()}}function H5(n,e,t){var i=t instanceof Lg?yh(t):new Lg(t);if(""!=i.g)e&&(i.g=e+"."+i.g),DT(i,i.m);else{var r=Cn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Lg(null);i&&IT(s,i),e&&(s.g=e),r&&DT(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&$i(i,t,e),$i(i,"VER",n.ra),ox(n,i),i}function j5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cr(t&&n.Ha&&!n.va?new nx({ob:!0}):n.va)).Oa(n.J),e}function NT(){if(A0&&!(10<=Number(YK)))throw Error("Environmental error: no available transport.")}function Ha(n,e){xs.call(this),this.g=new R5(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hw(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new O0(this)}function z5(n){fR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $5(){mR.call(this),this.status=1}function O0(n){this.g=n}function xc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TR(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function wi(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(kt=Cr.prototype).Oa=function(n){this.M=n},kt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pR.g(),this.C=function s5(n){return n.h||(n.h=n.i())}(this.u?this.u:pR),this.g.onreadystatechange=io(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void T5(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Cn.FormData&&n instanceof Cn.FormData,!(0<=O6(OY,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{M5(this),0<this.B&&((this.L=function PY(n){return A0&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.ua,this)):this.A=uR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){T5(this,s)}},kt.ua=function(){typeof G2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vs(this,"timeout"),this.abort(8))},kt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vs(this,"complete"),Vs(this,"abort"),RT(this))},kt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),RT(this,!0)),Cr.$.N.call(this)},kt.La=function(){this.s||(this.G||this.v||this.l?D5(this):this.kb())},kt.kb=function(){D5(this)},kt.isActive=function(){return!!this.g},kt.da=function(){try{return 2<Xd(this)?this.g.status:-1}catch{return-1}},kt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kY(e)}},kt.Ia=function(){return this.m},kt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=R5.prototype).ra=8,kt.H=1,kt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zw(this,this.l,n);let s=this.s;if(this.U&&(s?(s=U6(s),H6(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F5(this,r,e),$i(t=yh(this.I),"RID",n),$i(t,"CVER",22),this.F&&$i(t,"X-HTTP-Session-Id",this.F),ox(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(k5(s)))+"&"+e:this.o&&xR(t,this.o,s)),bR(this.i,r),this.bb&&$i(t,"TYPE","init"),this.P?($i(t,"$req",e),$i(t,"SID","null"),r.aa=!0,_R(r,t,null)):_R(r,t,e),this.H=2}}else 3==this.H&&(n?P5(this,n):0==this.j.length||b5(this.i)||P5(this))},kt.Ma=function(){if(this.u=null,L5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kw(io(this.jb,this),n)}},kt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Io(10),OT(this),L5(this))},kt.ib=function(){null!=this.v&&(this.v=null,OT(this),CR(this),Io(19))},kt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Io(2)):(this.l.info("Failed to ping google.com"),Io(1))},kt.isActive=function(){return!!this.h&&this.h.isActive(this)},(kt=function G5(){}.prototype).Ba=function(){},kt.Aa=function(){},kt.za=function(){},kt.ya=function(){},kt.isActive=function(){return!0},kt.Va=function(){},NT.prototype.g=function(n,e){return new Ha(n,e)},Ha.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Io(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=H5(n,null,n.Y),PT(n)},Ha.prototype.close=function(){ER(this.g)},Ha.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lR(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&PT(e)},Ha.prototype.N=function(){this.g.h=null,delete this.j,ER(this.g),delete this.g,Ha.$.N.call(this)},O0.prototype.Ba=function(){Vs(this.g,"a")},O0.prototype.Aa=function(n){Vs(this.g,new z5(n))},O0.prototype.za=function(n){Vs(this.g,new $5)},O0.prototype.ya=function(){Vs(this.g,"b")},xc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)TR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){TR(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){TR(this,i),r=0;break}}this.h=r,this.i+=e},xc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var BY={};function IR(n){return-128<=n&&128>n?function WK(n,e){var t=BY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new wi([0|e],0>e?-1:0)}):new wi([0|n],0>n?-1:0)}function Qd(n){if(isNaN(n)||!isFinite(n))return P0;if(0>n)return Hs(Qd(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=DR;return new wi(e,0)}var DR=4294967296,P0=IR(0),MR=IR(1),q5=IR(16777216);function vh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Sl(n){return-1==n.h}function Hs(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new wi(t,~n.h).add(MR)}function LT(n,e){return n.add(Hs(e))}function BT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ax(n,e){this.g=n,this.h=e}function UT(n,e){if(vh(e))throw Error("division by zero");if(vh(n))return new ax(P0,P0);if(Sl(n))return e=UT(Hs(n),e),new ax(Hs(e.g),Hs(e.h));if(Sl(e))return e=UT(n,Hs(e)),new ax(Hs(e.g),e.h);if(30<n.g.length){if(Sl(n)||Sl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=MR,i=e;0>=i.X(n);)t=K5(t),i=K5(i);var r=F0(t,1),s=F0(i,1);for(i=F0(i,2),t=F0(t,2);!vh(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=F0(i,1),t=F0(t,1)}return e=LT(n,r.R(e)),new ax(r,e)}for(r=P0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Qd(t)).R(e);Sl(l)||0<l.X(n);)l=(s=Qd(t-=i)).R(e);vh(s)&&(s=MR),r=r.add(s),n=LT(n,l)}return new ax(r,n)}function K5(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new wi(t,n.h)}function F0(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new wi(r,n.h)}(kt=wi.prototype).ea=function(){if(Sl(this))return-Hs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:DR+i)*e,e*=DR}return n},kt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(vh(this))return"0";if(Sl(this))return"-"+Hs(this).toString(n);for(var e=Qd(Math.pow(n,6)),t=this,i="";;){var r=UT(t,e).g,s=((0<(t=LT(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(vh(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},kt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},kt.X=function(n){return Sl(n=LT(this,n))?-1:vh(n)?0:1},kt.abs=function(){return Sl(this)?Hs(this):this},kt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new wi(t,-2147483648&t[t.length-1]?-1:0)},kt.R=function(n){if(vh(this)||vh(n))return P0;if(Sl(this))return Sl(n)?Hs(this).R(Hs(n)):Hs(Hs(this).R(n));if(Sl(n))return Hs(this.R(Hs(n)));if(0>this.X(q5)&&0>n.X(q5))return Qd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),u=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=l*m,BT(t,2*i+2*r),t[2*i+2*r+1]+=s*m,BT(t,2*i+2*r+1),t[2*i+2*r+1]+=l*u,BT(t,2*i+2*r+1),t[2*i+2*r+2]+=s*u,BT(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new wi(t,0)},kt.gb=function(n){return UT(this,n).h},kt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new wi(t,this.h&n.h)},kt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new wi(t,this.h|n.h)},kt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new wi(t,this.h^n.h)},NT.prototype.createWebChannel=NT.prototype.g,Ha.prototype.send=Ha.prototype.u,Ha.prototype.open=Ha.prototype.m,Ha.prototype.close=Ha.prototype.close,ET.NO_ERROR=0,ET.TIMEOUT=8,ET.HTTP_ERROR=6,r5.COMPLETE="complete",o5.EventType=Yw,Yw.OPEN="a",Yw.CLOSE="b",Yw.ERROR="c",Yw.MESSAGE="d",xs.prototype.listen=xs.prototype.O,Cr.prototype.listenOnce=Cr.prototype.P,Cr.prototype.getLastError=Cr.prototype.Sa,Cr.prototype.getLastErrorCode=Cr.prototype.Ia,Cr.prototype.getStatus=Cr.prototype.da,Cr.prototype.getResponseJson=Cr.prototype.Wa,Cr.prototype.getResponseText=Cr.prototype.ja,Cr.prototype.send=Cr.prototype.ha,Cr.prototype.setWithCredentials=Cr.prototype.Oa,xc.prototype.digest=xc.prototype.l,xc.prototype.reset=xc.prototype.reset,xc.prototype.update=xc.prototype.j,wi.prototype.add=wi.prototype.add,wi.prototype.multiply=wi.prototype.R,wi.prototype.modulo=wi.prototype.gb,wi.prototype.compare=wi.prototype.X,wi.prototype.toNumber=wi.prototype.ea,wi.prototype.toString=wi.prototype.toString,wi.prototype.getBits=wi.prototype.D,wi.fromNumber=Qd,wi.fromString=function W5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hs(W5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Qd(Math.pow(e,8)),i=P0,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=Qd(Math.pow(e,s)),i=i.R(s).add(Qd(l))):i=(i=i.R(t)).add(Qd(l))}return i};var UY=wc.createWebChannelTransport=function(){return new NT},VY=wc.getStatEventTarget=function(){return xT()},AR=wc.ErrorCode=ET,HY=wc.EventType=r5,jY=wc.Event=Fg,Y5=wc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},GY=wc.FetchXmlHttpFactory=nx,VT=wc.WebChannel=o5,zY=wc.XhrIo=Cr,$Y=wc.Md5=xc,N0=wc.Integer=wi;class Es{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Es.UNAUTHENTICATED=new Es(null),Es.GOOGLE_CREDENTIALS=new Es("google-credentials-uid"),Es.FIRST_PARTY=new Es("first-party-uid"),Es.MOCK_USER=new Es("mock-user");let L0="9.23.0";const xm=new bc.Yd("@firebase/firestore");function kR(){return xm.logLevel}function ft(n,...e){if(xm.logLevel<=bc.in.DEBUG){const t=e.map(RR);xm.debug(`Firestore (${L0}): ${n}`,...t)}}function Pr(n,...e){if(xm.logLevel<=bc.in.ERROR){const t=e.map(RR);xm.error(`Firestore (${L0}): ${n}`,...t)}}function Tl(n,...e){if(xm.logLevel<=bc.in.WARN){const t=e.map(RR);xm.warn(`Firestore (${L0}): ${n}`,...t)}}function RR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nt(n="Unexpected state"){const e=`FIRESTORE (${L0}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function zt(n,e){n||Nt()}function Mt(n,e){return n}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Es.UNAUTHENTICATED))}shutdown(){}}class XY{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Es.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class QY{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new XY(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function eZ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class J5{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=eZ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function xn(n,e){return n<e?-1:n>e?1:0}function B0(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new at(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new sr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new sr(0,0))}static max(){return new Wt(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lx{constructor(e,t,i){void 0===t?t=0:t>e.length&&Nt(),void 0===i?i=e.length-t:i>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===lx.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lx?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yn extends lx{construct(e,t,i){return new Yn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new at(Ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Yn(t)}static emptyPath(){return new Yn([])}}const tZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends lx{construct(e,t,i){return new Sr(e,t,i)}static isValidIdentifier(e){return tZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new at(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if("\\"===u){if(r+1===e.length)throw new at(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new at(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===u?(l=!l,r++):"."!==u||l?(i+=u,r++):(s(),r++)}if(s(),l)throw new at(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Yn.fromString(e))}static fromName(e){return new Dt(Yn.fromString(e).popFirst(5))}static empty(){return new Dt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Yn(e.slice()))}}function n8(n){return new ja(n.readTime,n.key,-1)}class ja{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ja(Wt.min(),Dt.empty(),-1)}static max(){return new ja(Wt.max(),Dt.empty(),-1)}}function PR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Dt.comparator(n.documentKey,e.documentKey),0!==t?t:xn(n.largestBatchId,e.largestBatchId))}const i8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Em(n){return FR.apply(this,arguments)}function FR(){return FR=(0,Ye.Z)(function*(n){if(n.code!==Ze.FAILED_PRECONDITION||n.message!==i8)throw n;ft("LocalStore","Unexpectedly lost primary lease")}),FR.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let r=0,s=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++s,l&&s===r&&t()},m=>i(m))}),l=!0,s===r&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(r=>r?qe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,r)=>{const s=e.length,l=new Array(s);let u=0;for(let m=0;m<s;m++){const y=m;t(e[y]).next(w=>{l[y]=w,++u,u===s&&i(l)},w=>r(w))}})}static doWhile(e,t){return new qe((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function Cm(n){return"IndexedDbTransactionError"===n.name}let Ga=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ux(n){return null==n}function hx(n){return 0===n&&1/n==-1/0}function f8(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function m8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ui{constructor(e,t){this.comparator=e,this.root=t||js.EMPTY}insert(e,t){return new Ui(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new Ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $T(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $T(this.root,e,this.comparator,!1)}getReverseIterator(){return new $T(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $T(this.root,e,this.comparator,!0)}}class $T{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class js{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??js.RED,this.left=r??js.EMPTY,this.right=s??js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new js(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return js.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new js(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(e){this.comparator=e,this.data=new Ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p8(this.data.getIterator())}getIteratorFrom(e){return new p8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wi(this.comparator);return t.data=e,t}}class p8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ia{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new ia([])}unionWith(e){let t=new Wi(Sr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ia(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return B0(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class g8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class us{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new g8("Invalid base64 string: "+r):r}}(e);return new us(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new us(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}us.EMPTY_BYTE_STRING=new us("");const IZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tm(n){if(zt(!!n),"string"==typeof n){let e=0;const t=IZ.exec(n);if(zt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bh(n){return"string"==typeof n?us.fromBase64String(n):us.fromUint8Array(n)}function WT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qT(n){const e=n.mapValue.fields.__previous_value__;return WT(e)?qT(e):e}function fx(n){const e=Tm(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class DZ{constructor(e,t,i,r,s,l,u,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=y}}class Im{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Im("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Im&&e.projectId===this.projectId&&e.database===this.database}}const Dm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WT(n)?4:b8(n)?9007199254740991:10:Nt()}function eu(n,e){if(n===e)return!0;const t=Mm(n);if(t!==Mm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fx(n).isEqual(fx(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Tm(i.timestampValue),l=Tm(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,bh(n.bytesValue).isEqual(bh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Tr(i.geoPointValue.latitude)===Tr(r.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Tr(i.integerValue)===Tr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Tr(i.doubleValue),l=Tr(r.doubleValue);return s===l?hx(s)===hx(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return B0(n.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(f8(s)!==f8(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===l[u]||!eu(s[u],l[u])))return!1;return!0}(n,e);default:return Nt()}var r}function mx(n,e){return void 0!==(n.values||[]).find(t=>eu(t,e))}function Am(n,e){if(n===e)return 0;const t=Mm(n),i=Mm(e);if(t!==i)return xn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Tr(r.integerValue||r.doubleValue),u=Tr(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return _8(n.timestampValue,e.timestampValue);case 4:return _8(fx(n),fx(e));case 5:return xn(n.stringValue,e.stringValue);case 6:return function(r,s){const l=bh(r),u=bh(s);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),u=s.split("/");for(let m=0;m<l.length&&m<u.length;m++){const y=xn(l[m],u[m]);if(0!==y)return y}return xn(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=xn(Tr(r.latitude),Tr(s.latitude));return 0!==l?l:xn(Tr(r.longitude),Tr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],u=s.values||[];for(let m=0;m<l.length&&m<u.length;++m){const y=Am(l[m],u[m]);if(y)return y}return xn(l.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Dm.mapValue&&s===Dm.mapValue)return 0;if(r===Dm.mapValue)return 1;if(s===Dm.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),m=s.fields||{},y=Object.keys(m);u.sort(),y.sort();for(let w=0;w<u.length&&w<y.length;++w){const P=xn(u[w],y[w]);if(0!==P)return P;const Q=Am(l[u[w]],m[y[w]]);if(0!==Q)return Q}return xn(u.length,y.length)}(n.mapValue,e.mapValue);default:throw Nt()}}function _8(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xn(n,e);const t=Tm(n),i=Tm(e),r=xn(t.seconds,i.seconds);return 0!==r?r:xn(t.nanos,i.nanos)}function V0(n){return BR(n)}function BR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Tm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bh(n.bytesValue).toBase64():"referenceValue"in n?Dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=BR(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${BR(i.fields[u])}`;return s+"}"}(n.mapValue):Nt();var e}function Hg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function UR(n){return!!n&&"integerValue"in n}function px(n){return!!n&&"arrayValue"in n}function y8(n){return!!n&&"nullValue"in n}function v8(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ZT(n){return!!n&&"mapValue"in n}function gx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=gx(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gx(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b8(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ZT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gx(t)}setAll(e){let t=Sr.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=gx(l):r.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());ZT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ZT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Sm(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Gs(gx(this.value))}}function E8(n){const e=[];return Sm(n.fields,(t,i)=>{const r=new Sr([t]);if(ZT(i)){const s=E8(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new ia(e)}class qi{constructor(e,t,i,r,s,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new qi(e,0,Wt.min(),Wt.min(),Wt.min(),Gs.empty(),0)}static newFoundDocument(e,t,i,r){return new qi(e,1,t,Wt.min(),i,r,0)}static newNoDocument(e,t){return new qi(e,2,t,Wt.min(),Wt.min(),Gs.empty(),0)}static newUnknownDocument(e,t){return new qi(e,3,t,Wt.min(),Wt.min(),Gs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class km{constructor(e,t){this.position=e,this.inclusive=t}}function C8(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?Dt.comparator(Dt.fromName(l.referenceValue),t.key):Am(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function S8(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eu(n.position[t],e.position[t]))return!1;return!0}class H0{constructor(e,t="asc"){this.field=e,this.dir=t}}function kZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class T8{}class jn extends T8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new RZ(e,t,i):"array-contains"===t?new FZ(e,i):"in"===t?new R8(e,i):"not-in"===t?new NZ(e,i):"array-contains-any"===t?new LZ(e,i):new jn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new OZ(e,i):new PZ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Am(t,this.value)):null!==t&&Mm(this.value)===Mm(t)&&this.matchesComparison(Am(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xi extends T8{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new xi(e,t)}matches(e){return j0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function j0(n){return"and"===n.op}function HR(n){return function I8(n){for(const e of n.filters)if(e instanceof xi)return!1;return!0}(n)&&j0(n)}function jR(n){if(n instanceof jn)return n.field.canonicalString()+n.op.toString()+V0(n.value);if(HR(n))return n.filters.map(e=>jR(e)).join(",");{const e=n.filters.map(t=>jR(t)).join(",");return`${n.op}(${e})`}}function D8(n,e){return n instanceof jn?(t=n,(i=e)instanceof jn&&t.op===i.op&&t.field.isEqual(i.field)&&eu(t.value,i.value)):n instanceof xi?function(t,i){return i instanceof xi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&D8(s,i.filters[l]),!0)}(n,e):void Nt();var t,i}function A8(n){return n instanceof jn?`${(e=n).field.canonicalString()} ${e.op} ${V0(e.value)}`:n instanceof xi?function(e){return e.op.toString()+" {"+e.getFilters().map(A8).join(" ,")+"}"}(n):"Filter";var e}class RZ extends jn{constructor(e,t,i){super(e,t,i),this.key=Dt.fromName(i.referenceValue)}matches(e){const t=Dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class OZ extends jn{constructor(e,t){super(e,"in",t),this.keys=k8(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PZ extends jn{constructor(e,t){super(e,"not-in",t),this.keys=k8(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k8(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Dt.fromName(i.referenceValue))}class FZ extends jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return px(t)&&mx(t.arrayValue,this.value)}}class R8 extends jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mx(this.value.arrayValue,t)}}class NZ extends jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(mx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mx(this.value.arrayValue,t)}}class LZ extends jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!px(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>mx(this.value.arrayValue,i))}}class BZ{constructor(e,t=null,i=[],r=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=u,this.dt=null}}function GR(n,e=null,t=[],i=[],r=null,s=null,l=null){return new BZ(n,e,t,i,r,s,l)}function jg(n){const e=Mt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jR(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ux(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>V0(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>V0(i)).join(",")),e.dt=t}return e.dt}function _x(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!S8(n.startAt,e.startAt)&&S8(n.endAt,e.endAt)}function XT(n){return Dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class wh{constructor(e,t=null,i=[],r=[],s=null,l="F",u=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=m,this.wt=null,this._t=null}}function G0(n){return new wh(n)}function N8(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function $R(n){return null!==n.collectionGroup}function Gg(n){const e=Mt(n);if(null===e.wt){e.wt=[];const t=JT(e),i=zR(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new H0(t)),e.wt.push(new H0(Sr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new H0(Sr.keyField(),s))}}}return e.wt}function Do(n){const e=Mt(n);if(!e._t)if("F"===e.limitType)e._t=GR(e.path,e.collectionGroup,Gg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Gg(e))t.push(new H0(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new km(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new km(e.startAt.position,e.startAt.inclusive):null;e._t=GR(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function WR(n,e){e.getFirstInequalityField(),JT(n);const t=n.filters.concat([e]);return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eI(n,e,t){return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yx(n,e){return _x(Do(n),Do(e))&&n.limitType===e.limitType}function L8(n){return`${jg(Do(n))}|lt:${n.limitType}`}function qR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>A8(i)).join(", ")}]`),ux(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>V0(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>V0(i)).join(",")),`Target(${t})`}(Do(n))}; limitType=${n.limitType})`}function vx(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Dt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Gg(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const u=C8(r,s,l);return r.inclusive?u<=0:u<0}(t.startAt,Gg(t),i)||t.endAt&&!function(r,s,l){const u=C8(r,s,l);return r.inclusive?u>=0:u>0}(t.endAt,Gg(t),i)));var t,i}function U8(n){return(e,t)=>{let i=!1;for(const r of Gg(n)){const s=UZ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function UZ(n,e,t){const i=n.field.isKeyField()?Dt.comparator(e.key,t.key):function(r,s,l){const u=s.data.field(r),m=l.data.field(r);return null!==u&&null!==m?Am(u,m):Nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}class xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sm(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return m8(this.inner)}size(){return this.innerSize}}const VZ=new Ui(Dt.comparator);function ra(){return VZ}const V8=new Ui(Dt.comparator);function bx(...n){let e=V8;for(const t of n)e=e.insert(t.key,t);return e}function H8(n){let e=V8;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tu(){return wx()}function j8(){return wx()}function wx(){return new xh(n=>n.toString(),(n,e)=>n.isEqual(e))}const HZ=new Ui(Dt.comparator),jZ=new Wi(Dt.comparator);function An(...n){let e=jZ;for(const t of n)e=e.add(t);return e}const GZ=new Wi(xn);function G8(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hx(e)?"-0":e}}function z8(n){return{integerValue:""+n}}function $8(n,e){return function o8(n){return"number"==typeof n&&Number.isInteger(n)&&!hx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?z8(e):G8(n,e)}class tI{constructor(){this._=void 0}}function zZ(n,e,t){return n instanceof z0?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&WT(r)&&(r=qT(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof zg?q8(n,e):n instanceof $g?K8(n,e):function(i,r){const s=W8(i,r),l=Y8(s)+Y8(i.gt);return UR(s)&&UR(i.gt)?z8(l):G8(i.serializer,l)}(n,e)}function $Z(n,e,t){return n instanceof zg?q8(n,e):n instanceof $g?K8(n,e):t}function W8(n,e){return n instanceof $0?UR(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class z0 extends tI{}class zg extends tI{constructor(e){super(),this.elements=e}}function q8(n,e){const t=Z8(e);for(const i of n.elements)t.some(r=>eu(r,i))||t.push(i);return{arrayValue:{values:t}}}class $g extends tI{constructor(e){super(),this.elements=e}}function K8(n,e){let t=Z8(e);for(const i of n.elements)t=t.filter(r=>!eu(r,i));return{arrayValue:{values:t}}}class $0 extends tI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Y8(n){return Tr(n.integerValue||n.doubleValue)}function Z8(n){return px(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qZ{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iI{}function X8(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new q0(n.key,or.none()):new W0(n.key,n.data,or.none());{const t=n.data,i=Gs.empty();let r=new Wi(Sr.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Eh(n.key,i,new ia(r.toArray()),or.none())}}function KZ(n,e,t){n instanceof W0?function(i,r,s){const l=i.value.clone(),u=e9(i.fieldTransforms,r,s.transformResults);l.setAll(u),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Eh?function(i,r,s){if(!nI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=e9(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(J8(i)),u.setAll(l),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ex(n,e,t,i){return n instanceof W0?function(r,s,l,u){if(!nI(r.precondition,s))return l;const m=r.value.clone(),y=t9(r.fieldTransforms,u,s);return m.setAll(y),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Eh?function(r,s,l,u){if(!nI(r.precondition,s))return l;const m=t9(r.fieldTransforms,u,s),y=s.data;return y.setAll(J8(r)),y.setAll(m),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(l=t,nI(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function YZ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=W8(i.transform,r||null);null!=s&&(null===t&&(t=Gs.empty()),t.set(i.field,s))}return t||null}function Q8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&B0(t,i,(r,s)=>function WZ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof zg&&i instanceof zg||t instanceof $g&&i instanceof $g?B0(t.elements,i.elements,eu):t instanceof $0&&i instanceof $0?eu(t.gt,i.gt):t instanceof z0&&i instanceof z0);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class W0 extends iI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Eh extends iI{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function J8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function e9(n,e,t){const i=new Map;zt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,u=e.data.field(s.field);i.set(s.field,$Z(l,u,t[r]))}return i}function t9(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,zZ(s,l,e))}return i}class q0 extends iI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends iI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&KZ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ex(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ex(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=j8();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(r.key)?null:u;const m=X8(l,u);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&B0(this.mutations,e.mutations,(t,i)=>Q8(t,i))&&B0(this.baseMutations,e.baseMutations,(t,i)=>Q8(t,i))}}class XR{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){zt(e.mutations.length===i.length);let r=HZ;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new XR(e,t,i,r)}}class QR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class XZ{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,Zn;function i9(n){if(void 0===n)return Pr("GRPC error has no .code"),Ze.UNKNOWN;switch(n){case Jr.OK:return Ze.OK;case Jr.CANCELLED:return Ze.CANCELLED;case Jr.UNKNOWN:return Ze.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Ze.INTERNAL;case Jr.UNAVAILABLE:return Ze.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Ze.NOT_FOUND;case Jr.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Jr.ABORTED:return Ze.ABORTED;case Jr.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Jr.DATA_LOSS:return Ze.DATA_LOSS;default:return Nt()}}(Zn=Jr||(Jr={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";class JR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rI}static getOrCreateInstance(){return null===rI&&(rI=new JR),rI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let rI=null;const QZ=new N0([4294967295,4294967295],0);function s9(n){const e=function r9(){return new TextEncoder}().encode(n),t=new $Y;return t.update(e),new Uint8Array(t.digest())}function o9(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new N0([t,i],0),new N0([r,s],0)]}class eO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cx(`Invalid padding: ${t}`);if(i<0)throw new Cx(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Cx(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Cx(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=N0.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(N0.fromNumber(i)));return 1===r.compare(QZ)&&(r=new N0([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=s9(e),[i,r]=o9(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new eO(s,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(0===this.It)return;const t=s9(e),[i,r]=o9(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Cx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sx{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Tx.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sx(Wt.min(),r,new Ui(xn),ra(),An())}}class Tx{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tx(i,t,An(),An(),An())}}class sI{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class a9{constructor(e,t){this.targetId=e,this.Vt=t}}class l9{constructor(e,t,i=us.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class c9{constructor(){this.St=0,this.Dt=u9(),this.Ct=us.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=An(),t=An(),i=An();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Nt()}}),new Tx(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=u9()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JZ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ra(),this.zt=d9(),this.Wt=new Ui(xn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(XT(l))if(0===r){const u=new Dt(l.path);this.Yt(i,u,qi.newNoDocument(u,Wt.min()))}else zt(1===r);else{const u=this.ie(i);if(u!==r){const m=this.re(e,u);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=JR.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,w,P){var Q,le,pe,Ie,ke,rt;const ht={localCacheCount:w,existenceFilterCount:P.count},mt=P.unchangedNames;return mt&&(ht.bloomFilter={applied:0===y,hashCount:null!==(Q=mt?.hashCount)&&void 0!==Q?Q:0,bitmapLength:null!==(Ie=null===(pe=null===(le=mt?.bits)||void 0===le?void 0:le.bitmap)||void 0===pe?void 0:pe.length)&&void 0!==Ie?Ie:0,padding:null!==(rt=null===(ke=mt?.bits)||void 0===ke?void 0:ke.padding)&&void 0!==rt?rt:0}),ht}(m,u,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let m,y;try{m=bh(s).toUint8Array()}catch(w){if(w instanceof g8)return Tl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{y=new eO(m,l,u)}catch(w){return Tl(w instanceof Cx?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(u)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const u=this.se(l);if(u){if(s.current&&XT(u.target)){const m=new Dt(u.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,qi.newNoDocument(m,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=An();this.zt.forEach((s,l)=>{let u=!0;l.forEachWhile(m=>{const y=this.se(m);return!y||"TargetPurposeLimboResolution"===y.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Sx(e,t,this.Wt,this.jt,i);return this.jt=ra(),this.zt=d9(),this.Wt=new Ui(xn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c9,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Wi(xn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ft("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c9),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function d9(){return new Ui(Dt.comparator)}function u9(){return new Ui(Dt.comparator)}const eX=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),tX=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),nX=(()=>({and:"AND",or:"OR"}))();class iX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tO(n,e){return n.useProto3Json||ux(e)?e:{value:e}}function K0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h9(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rX(n,e){return K0(n,e.toTimestamp())}function Fr(n){return zt(!!n),Wt.fromTimestamp(function(e){const t=Tm(e);return new sr(t.seconds,t.nanos)}(n))}function nO(n,e){return(t=n,new Yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f9(n){const e=Yn.fromString(n);return zt(x9(e)),e}function Ix(n,e){return nO(n.databaseId,e.path)}function nu(n,e){const t=f9(e);if(t.get(1)!==n.databaseId.projectId)throw new at(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Dt(p9(t))}function iO(n,e){return nO(n.databaseId,e)}function Dx(n){return new Yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function p9(n){return zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function g9(n,e,t){return{name:Ix(n,e),fields:t.value.mapValue.fields}}function y9(n,e){return{documents:[iO(n,e.path)]}}function sO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=iO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return w9(xi.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(y=>{return{field:Rm((w=y).field),direction:cX(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=tO(n,e.limit);var u,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function v9(n){let e=function m9(n){const e=f9(n);return 4===e.length?Yn.emptyPath():p9(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){zt(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(w){const P=b9(w);return P instanceof xi&&HR(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(w=>{return new H0(Y0((P=w).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let u=null;t.limit&&(u=function(w){let P;return P="object"==typeof w?w.value:w,ux(P)?null:P}(t.limit));let m=null;var w;t.startAt&&(m=new km((w=t.startAt).values||[],!!w.before));let y=null;return t.endAt&&(y=function(w){return new km(w.values||[],!w.before)}(t.endAt)),function F8(n,e,t,i,r,s,l,u){return new wh(n,e,t,i,r,s,l,u)}(e,r,l,s,u,"F",m,y)}function b9(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Y0(e.unaryFilter.field);return jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Y0(e.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Y0(e.unaryFilter.field);return jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Y0(e.unaryFilter.field);return jn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(n):void 0!==n.fieldFilter?jn.create(Y0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return xi.create(e.compositeFilter.filters.map(t=>b9(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nt()}}(e.compositeFilter.op))}(n):Nt();var e}function cX(n){return eX[n]}function dX(n){return tX[n]}function uX(n){return nX[n]}function Rm(n){return{fieldPath:n.canonicalString()}}function Y0(n){return Sr.fromServerFormat(n.fieldPath)}function w9(n){return n instanceof jn?function(e){if("=="===e.op){if(v8(e.value))return{unaryFilter:{field:Rm(e.field),op:"IS_NAN"}};if(y8(e.value))return{unaryFilter:{field:Rm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(v8(e.value))return{unaryFilter:{field:Rm(e.field),op:"IS_NOT_NAN"}};if(y8(e.value))return{unaryFilter:{field:Rm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rm(e.field),op:dX(e.op),value:e.value}}}(n):n instanceof xi?function(e){const t=e.getFilters().map(i=>w9(i));return 1===t.length?t[0]:{compositeFilter:{op:uX(e.op),filters:t}}}(n):Nt()}function hX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function x9(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ch{constructor(e,t,i,r,s=Wt.min(),l=Wt.min(),u=us.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E9{constructor(e){this.fe=e}}function oO(n){const e=v9({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eI(e,e.limit,"L"):e}class Yg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tr(e.integerValue));else if("doubleValue"in e){const i=Tr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),hx(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(bh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?b8(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Dt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Yg.Ve=new Yg;class wX{constructor(){this.rn=new hO}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(ja.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class hO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Wi(Yn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wi(Yn.comparator)).toArray()}}class oo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Xg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xg(0)}static Mn(){return new Xg(-1)}}class $9{constructor(){this.changes=new xh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Z9{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ex(i.mutation,r,ia.empty(),sr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,An()).next(()=>i))}getLocalViewOfDocuments(e,t,i=An()){const r=tu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=bx();return s.forEach((u,m)=>{l=l.insert(u,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=tu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,An()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let s=ra();const l=wx(),u=wx();return t.forEach((m,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Eh)?s=s.insert(y.key,y):void 0!==w?(l.set(y.key,w.mutation.getFieldMask()),Ex(w.mutation,y,w.mutation.getFieldMask(),sr.now())):l.set(y.key,ia.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((y,w)=>l.set(y,w)),t.forEach((y,w)=>{var P;return u.set(y,new MX(w,null!==(P=l.get(y))&&void 0!==P?P:null))}),u))}recalculateAndSaveOverlays(e,t){const i=wx();let r=new Ui((l,u)=>l-u),s=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(m=>{const y=t.get(m);if(null===y)return;let w=i.get(m)||ia.empty();w=u.applyToLocalView(y,w),i.set(m,w);const P=(r.get(u.batchId)||An()).add(m);r=r.insert(u.batchId,P)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),y=m.key,w=m.value,P=j8();w.forEach(Q=>{if(!s.has(Q)){const le=X8(t.get(Q),i.get(Q));null!==le&&P.set(Q,le),s=s.add(Q)}}),l.push(this.documentOverlayCache.saveOverlays(e,y,P))}return qe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Dt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$R(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):qe.resolve(tu());let u=-1,m=s;return l.next(y=>qe.forEach(y,(w,P)=>(u<P.largestBatchId&&(u=P.largestBatchId),s.get(w)?qe.resolve():this.remoteDocumentCache.getEntry(e,w).next(Q=>{m=m.insert(w,Q)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,m,y,An())).next(w=>({batchId:u,changes:H8(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Dt(t)).next(i=>{let r=bx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=bx();return this.indexManager.getCollectionParents(e,r).next(l=>qe.forEach(l,u=>{const m=(y=t,w=u.child(r),new wh(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(y=>{y.forEach((w,P)=>{s=s.insert(w,P)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((u,m)=>{const y=m.getKey();null===s.get(y)&&(s=s.insert(y,qi.newInvalidDocument(y)))});let l=bx();return s.forEach((u,m)=>{const y=r.get(u);void 0!==y&&Ex(y.mutation,m,ia.empty(),sr.now()),vx(t,m)&&(l=l.insert(u,m))}),l})}}class AX{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Fr(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:oO(i.bundledQuery),readTime:Fr(i.readTime)}),qe.resolve();var i}}class kX{constructor(){this.overlays=new Ui(Dt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tu();return qe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const r=tu(),s=t.length+1,l=new Dt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const m=u.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return qe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ui((y,w)=>y-w);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=s.get(y.largestBatchId);null===w&&(w=tu(),s=s.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const u=tu(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,w)=>u.set(y,w)),!(u.size()>=r)););return qe.resolve(u)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new QR(t,i));let s=this.ls.get(t);void 0===s&&(s=An(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class fO{constructor(){this.fs=new Wi(Ss.ds),this.ws=new Wi(Ss._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ss(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ss(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Dt(new Yn([])),i=new Ss(t,e),r=new Ss(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Dt(new Yn([])),i=new Ss(t,e),r=new Ss(t,e+1);let s=An();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Ss(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ss{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Dt.comparator(e.key,t.key)||xn(e.As,t.As)}static _s(e,t){return xn(e.As,t.As)||Dt.comparator(e.key,t.key)}}class RX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Wi(Ss.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new ZR(s,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new Ss(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return qe.resolve(l)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ss(t,0),r=new Ss(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.Ps(l.As);s.push(u)}),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wi(xn);return t.forEach(r=>{const s=new Ss(r,0),l=new Ss(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],u=>{i=i.add(u.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Dt.isDocumentKey(s)||(s=s.child(""));const l=new Ss(new Dt(s),0);let u=new Wi(xn);return this.Rs.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(u=u.add(m.As)),!0)},l),qe.resolve(this.Vs(u))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){zt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,r=>{const s=new Ss(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ss(t,0),r=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OX{constructor(e){this.Ds=e,this.docs=new Ui(Dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():qi.newInvalidDocument(t))}getEntries(e,t){let i=ra();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():qi.newInvalidDocument(r))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ra();const l=t.path,u=new Dt(l.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:y,value:{document:w}}=m.getNext();if(!l.isPrefixOf(y.path))break;y.path.length>l.length+1||PR(n8(w),i)<=0||(r.has(w.key)||vx(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Nt()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new PX(this)}getSize(e){return qe.resolve(this.size)}}class PX extends $9{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class FX{constructor(e){this.persistence=e,this.xs=new xh(t=>jg(t),_x),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fO,this.targetCount=0,this.Ms=Xg.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,u)=>{u.sequenceNumber<=t&&null===i.get(u.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),qe.waitFor(s).next(()=>r)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),qe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class mO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ga(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new FX(this),this.indexManager=new wX,this.remoteDocumentCache=new OX(i=>this.referenceDelegate.Ls(i)),this.serializer=new E9(t),this.qs=new AX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new RX(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ft("MemoryPersistence","Starting transaction:",e);const r=new NX(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class NX extends r8{constructor(e){super(),this.currentSequenceNumber=e}}class mI{constructor(e){this.persistence=e,this.Qs=new fO,this.js=null}static zs(e){return new mI(e)}get Ws(){if(this.js)return this.js;throw Nt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const r=Dt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=An(),r=An();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new yO(e,t.fromCache,i,r)}}class Q9{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(N8(t))return qe.resolve(null);let i=Do(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=eI(t,null,"F"),i=Do(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=An(...s);return this.Ui.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.ji(t,u);return this.zi(t,y,l,m.readTime)?this.Ki(e,eI(t,null,"F")):this.Wi(e,y,t,m)}))})))}Gi(e,t,i,r){return N8(t)||r.isEqual(Wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(kR()<=bc.in.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qR(t)),this.Wi(e,l,t,function t8(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(1e9===i?new sr(t+1,0):new sr(t,i));return new ja(r,Dt.empty(),e)}(r,-1)))})}ji(e,t){let i=new Wi(U8(e));return t.forEach((r,s)=>{vx(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return kR()<=bc.in.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",qR(t)),this.Ui.getDocumentsMatchingQuery(e,t,ja.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class BX{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ui(xn),this.Yi=new xh(s=>jg(s),_x),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function e7(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,Ye.Z)(function*(n,e){const t=Mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],u=[];let m=An();for(const y of r){l.push(y.batchId);for(const w of y.mutations)m=m.add(w.key)}for(const y of s){u.push(y.batchId);for(const w of y.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(i,m).next(y=>({er:y,removedBatchIds:l,addedBatchIds:u}))})})}),vO.apply(this,arguments)}function t7(n){const e=Mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function HX(n,e){const t=Mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function J0(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Ye.Z)(function*(n,e,t){const i=Mt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Cm(l))throw l;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),bO.apply(this,arguments)}function _I(n,e,t){const i=Mt(n);let r=Wt.min(),s=An();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,m,y){const w=Mt(u),P=w.Yi.get(y);return void 0!==P?qe.resolve(w.Ji.get(P)):w.Bs.getTargetData(m,y)}(i,l,Do(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,u.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:Wt.min(),t?s:An())).next(u=>(function s7(n,e,t){let i=n.Xi.get(e)||Wt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function B8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),u),{documents:u,ir:s})))}class SO{constructor(){this.activeTargetIds=function KR(){return GZ}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l7{constructor(){this.Hr=new SO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new SO,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zX{Yr(e){}shutdown(){}}class c7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bI=null;function IO(){return null===bI?bI=268435456+Math.round(2147483648*Math.random()):bI++,"0x"+bI.toString(16)}const $X={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WX{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ao="WebChannelConnection";class qX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=IO(),u=this.To(e,t);ft("RestConnection",`Sending RPC '${e}' ${l}:`,u,i);const m={};return this.Eo(m,r,s),this.Ao(e,u,m,i).then(y=>(ft("RestConnection",`Received RPC '${e}' ${l}: `,y),y),y=>{throw Tl("RestConnection",`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+L0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${$X[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=IO();return new Promise((l,u)=>{const m=new zY;m.setWithCredentials(!0),m.listenOnce(HY.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case AR.NO_ERROR:const w=m.getResponseJson();ft(ao,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),l(w);break;case AR.TIMEOUT:ft(ao,`RPC '${e}' ${s} timed out`),u(new at(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case AR.HTTP_ERROR:const P=m.getStatus();if(ft(ao,`RPC '${e}' ${s} failed with status:`,P,"response text:",m.getResponseText()),P>0){let Q=m.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const le=Q?.error;if(le&&le.status&&le.message){const pe=function(Ie){const ke=Ie.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(ke)>=0?ke:Ze.UNKNOWN}(le.status);u(new at(pe,le.message))}else u(new at(Ze.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new at(Ze.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{ft(ao,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);ft(ao,`RPC '${e}' ${s} sending request:`,r),m.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=IO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UY(),u=VY(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.xmlHttpFactory=new GY({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const w=s.join("");ft(ao,`Creating RPC '${e}' stream ${r}: ${w}`,m);const P=l.createWebChannel(w,m);let Q=!1,le=!1;const pe=new WX({ro:ke=>{le?ft(ao,`Not sending because RPC '${e}' stream ${r} is closed:`,ke):(Q||(ft(ao,`Opening RPC '${e}' stream ${r} transport.`),P.open(),Q=!0),ft(ao,`RPC '${e}' stream ${r} sending:`,ke),P.send(ke))},oo:()=>P.close()}),Ie=(ke,rt,ht)=>{ke.listen(rt,mt=>{try{ht(mt)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return Ie(P,VT.EventType.OPEN,()=>{le||ft(ao,`RPC '${e}' stream ${r} transport opened.`)}),Ie(P,VT.EventType.CLOSE,()=>{le||(le=!0,ft(ao,`RPC '${e}' stream ${r} transport closed`),pe.wo())}),Ie(P,VT.EventType.ERROR,ke=>{le||(le=!0,Tl(ao,`RPC '${e}' stream ${r} transport errored:`,ke),pe.wo(new at(Ze.UNAVAILABLE,"The operation could not be completed")))}),Ie(P,VT.EventType.MESSAGE,ke=>{var rt;if(!le){const ht=ke.data[0];zt(!!ht);const Ct=ht.error||(null===(rt=ht[0])||void 0===rt?void 0:rt.error);if(Ct){ft(ao,`RPC '${e}' stream ${r} received error:`,Ct);const Kt=Ct.status;let nn=function(mr){const uo=Jr[mr];if(void 0!==uo)return i9(uo)}(Kt),zn=Ct.message;void 0===nn&&(nn=Ze.INTERNAL,zn="Unknown error status: "+Kt+" with message "+Ct.message),le=!0,pe.wo(new at(nn,zn)),P.close()}else ft(ao,`RPC '${e}' stream ${r} received:`,ht),pe._o(ht)}}),Ie(u,jY.STAT_EVENT,ke=>{ke.stat===Y5.PROXY?ft(ao,`RPC '${e}' stream ${r} detected buffering proxy`):ke.stat===Y5.NOPROXY&&ft(ao,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{pe.fo()},0),pe}}function wI(){return typeof document<"u"?document:null}function Bx(n){return new iX(n,!0)}class DO{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class u7{constructor(e,t,i,r,s,l,u,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new DO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ye.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Ze.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new at(Ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KX extends u7{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function oX(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Nt(),r=e.targetChange.targetIds||[],s=function(m,y){return m.useProto3Json?(zt(void 0===y||"string"==typeof y),us.fromBase64String(y||"")):(zt(void 0===y||y instanceof Uint8Array),us.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const y=void 0===m.code?Ze.UNKNOWN:i9(m.code);return new at(y,m.message||"")}(l);t=new l9(i,r,s,u||null)}else if("documentChange"in e){const i=e.documentChange,r=nu(n,i.document.name),s=Fr(i.document.updateTime),l=i.document.createTime?Fr(i.document.createTime):Wt.min(),u=new Gs({mapValue:{fields:i.document.fields}}),m=qi.newFoundDocument(r,s,l,u);t=new sI(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=nu(n,i.document),s=i.readTime?Fr(i.readTime):Wt.min(),l=qi.newNoDocument(r,s);t=new sI([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=nu(n,i.document);t=new sI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Nt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new XZ(r,s);t=new a9(i.targetId,l)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Wt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Wt.min():s.readTime?Fr(s.readTime):Wt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Dx(this.serializer),t.addTarget=function(r,s){let l;const u=s.target;if(l=XT(u)?{documents:y9(r,u)}:{query:sO(r,u)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=h9(r,s.resumeToken);const m=tO(r,s.expectedCount);null!==m&&(l.expectedCount=m)}else if(s.snapshotVersion.compareTo(Wt.min())>0){l.readTime=K0(r,s.snapshotVersion.toTimestamp());const m=tO(r,s.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const i=function lX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Dx(this.serializer),t.removeTarget=e,this.Wo(t)}}class YX extends u7{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function aX(n,e){return n&&n.length>0?(zt(void 0!==e),n.map(t=>function(i,r){let s=Fr(i.updateTime?i.updateTime:r);return s.isEqual(Wt.min())&&(s=Fr(r)),new qZ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.cu(i,t)}return zt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Dx(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Mx(n,e){let t;if(e instanceof W0)t={update:g9(n,e.key,e.value)};else if(e instanceof q0)t={delete:Ix(n,e.key)};else if(e instanceof Eh)t={update:g9(n,e.key,e.data),updateMask:hX(e.fieldMask)};else{if(!(e instanceof YR))return Nt();t={verify:Ix(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof z0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $g)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $0)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw Nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:rX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Nt()),t;var r}(this.serializer,i))};this.Wo(t)}}class ZX extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new at(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new at(Ze.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(Ze.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class QX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pr(t),this.mu=!1):ft("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JX{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,Ye.Z)(function*(){var m;Nm(l)&&(ft("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ye.Z)(function*(y){const w=Mt(y);w.vu.add(4),yield ev(w),w.bu.set("Unknown"),w.vu.delete(4),yield Ux(w)}),function(y){return m.apply(this,arguments)})(l))}))}),this.bu=new QX(i,r)}}function Ux(n){return AO.apply(this,arguments)}function AO(){return AO=(0,Ye.Z)(function*(n){if(Nm(n))for(const e of n.Ru)yield e(!0)}),AO.apply(this,arguments)}function ev(n){return kO.apply(this,arguments)}function kO(){return kO=(0,Ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),kO.apply(this,arguments)}function xI(n,e){const t=Mt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),PO(t)?OO(t):nv(t).Ko()&&RO(t,e))}function Vx(n,e){const t=Mt(n),i=nv(t);t.Au.delete(e),i.Ko()&&h7(t,e),0===t.Au.size&&(i.Ko()?i.jo():Nm(t)&&t.bu.set("Unknown"))}function RO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nv(n).su(e)}function h7(n,e){n.Vu.qt(e),nv(n).iu(e)}function OO(n){n.Vu=new JZ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),nv(n).start(),n.bu.gu()}function PO(n){return Nm(n)&&!nv(n).Uo()&&n.Au.size>0}function Nm(n){return 0===Mt(n).vu.size}function f7(n){n.Vu=void 0}function eQ(n){return FO.apply(this,arguments)}function FO(){return FO=(0,Ye.Z)(function*(n){n.Au.forEach((e,t)=>{RO(n,e)})}),FO.apply(this,arguments)}function tQ(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,Ye.Z)(function*(n,e){f7(n),PO(n)?(n.bu.Iu(e),OO(n)):n.bu.set("Unknown")}),NO.apply(this,arguments)}function nQ(n,e,t){return LO.apply(this,arguments)}function LO(){return LO=(0,Ye.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof l9&&2===e.state&&e.cause)try{yield(i=(0,Ye.Z)(function*(r,s){const l=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield EI(n,i)}else if(e instanceof sI?n.Vu.Ht(e):e instanceof a9?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Wt.min()))try{const i=yield t7(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const y=r.Au.get(m);y&&r.Au.set(m,y.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,m)=>{const y=r.Au.get(u);if(!y)return;r.Au.set(u,y.withResumeToken(us.EMPTY_BYTE_STRING,y.snapshotVersion)),h7(r,u);const w=new Ch(y.target,u,m,y.sequenceNumber);RO(r,w)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){ft("RemoteStore","Failed to raise snapshot:",i),yield EI(n,i)}var i}),LO.apply(this,arguments)}function EI(n,e,t){return BO.apply(this,arguments)}function BO(){return BO=(0,Ye.Z)(function*(n,e,t){if(!Cm(e))throw e;n.vu.add(1),yield ev(n),n.bu.set("Offline"),t||(t=()=>t7(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ye.Z)(function*(){ft("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ux(n)}))}),BO.apply(this,arguments)}function m7(n,e){return e().catch(t=>EI(n,t,e))}function tv(n){return UO.apply(this,arguments)}function UO(){return UO=(0,Ye.Z)(function*(n){const e=Mt(n),t=Lm(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iQ(e);)try{const r=yield HX(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,rQ(e,r)}catch(r){yield EI(e,r)}p7(e)&&g7(e)}),UO.apply(this,arguments)}function iQ(n){return Nm(n)&&n.Eu.length<10}function rQ(n,e){n.Eu.push(e);const t=Lm(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function p7(n){return Nm(n)&&!Lm(n).Uo()&&n.Eu.length>0}function g7(n){Lm(n).start()}function sQ(n){return VO.apply(this,arguments)}function VO(){return VO=(0,Ye.Z)(function*(n){Lm(n).hu()}),VO.apply(this,arguments)}function oQ(n){return HO.apply(this,arguments)}function HO(){return HO=(0,Ye.Z)(function*(n){const e=Lm(n);for(const t of n.Eu)e.uu(t.mutations)}),HO.apply(this,arguments)}function aQ(n,e,t){return jO.apply(this,arguments)}function jO(){return jO=(0,Ye.Z)(function*(n,e,t){const i=n.Eu.shift(),r=XR.from(i,e,t);yield m7(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield tv(n)}),jO.apply(this,arguments)}function lQ(n,e){return GO.apply(this,arguments)}function GO(){return GO=(0,Ye.Z)(function*(n,e){var t;e&&Lm(n).ou&&(yield(t=(0,Ye.Z)(function*(i,r){if(function n9(n){switch(n){default:return Nt();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}(s=r.code)&&s!==Ze.ABORTED){const l=i.Eu.shift();Lm(i).Qo(),yield m7(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield tv(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),p7(n)&&g7(n)}),GO.apply(this,arguments)}function _7(n,e){return zO.apply(this,arguments)}function zO(){return zO=(0,Ye.Z)(function*(n,e){const t=Mt(n);t.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const i=Nm(t);t.vu.add(3),yield ev(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ux(t)}),zO.apply(this,arguments)}function WO(){return WO=(0,Ye.Z)(function*(n,e){const t=Mt(n);e?(t.vu.delete(2),yield Ux(t)):e||(t.vu.add(2),yield ev(t),t.bu.set("Unknown"))}),WO.apply(this,arguments)}function nv(n){return n.Su||(n.Su=function(e,t,i){const r=Mt(e);return r.fu(),new KX(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:eQ.bind(null,n),ao:tQ.bind(null,n),nu:nQ.bind(null,n)}),n.Ru.push(function(){var e=(0,Ye.Z)(function*(t){t?(n.Su.Qo(),PO(n)?OO(n):n.bu.set("Unknown")):(yield n.Su.stop(),f7(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Lm(n){return n.Du||(n.Du=function(e,t,i){const r=Mt(e);return r.fu(),new YX(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:sQ.bind(null,n),ao:lQ.bind(null,n),au:oQ.bind(null,n),cu:aQ.bind(null,n)}),n.Ru.push(function(){var e=(0,Ye.Z)(function*(t){t?(n.Du.Qo(),yield tv(n)):(yield n.Du.stop(),n.Eu.length>0&&(ft("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class qO{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,u=new qO(e,t,l,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Cm(n))return new at(Ze.UNAVAILABLE,`${e}: ${n}`);throw n}class rv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Dt.comparator(t.key,i.key):(t,i)=>Dt.comparator(t.key,i.key),this.keyedMap=bx(),this.sortedSet=new Ui(this.comparator)}static emptySet(e){return new rv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new rv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class y7{constructor(){this.Cu=new Ui(Dt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class sv{constructor(e,t,i,r,s,l,u,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new sv(e,t,rv.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class cQ{constructor(){this.Nu=void 0,this.listeners=[]}}class dQ{constructor(){this.queries=new xh(e=>L8(e),yx),this.onlineState="Unknown",this.ku=new Set}}function KO(n,e){return YO.apply(this,arguments)}function YO(){return YO=(0,Ye.Z)(function*(n,e){const t=Mt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new cQ),r)try{s.Nu=yield t.onListen(i)}catch(l){const u=iv(l,`Initialization of query '${qR(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&QO(t)}),YO.apply(this,arguments)}function ZO(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,Ye.Z)(function*(n,e){const t=Mt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),XO.apply(this,arguments)}function uQ(n,e){const t=Mt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const u of l.listeners)u.$u(r)&&(i=!0);l.Nu=r}}i&&QO(t)}function hQ(n,e,t){const i=Mt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function QO(n){n.ku.forEach(e=>{e.next()})}class JO{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class w7{constructor(e){this.key=e}}class x7{constructor(e){this.key=e}}class E7{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=An(),this.mutatedKeys=An(),this.tc=U8(e),this.ec=new rv(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new y7,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,P)=>{const Q=r.get(w),le=vx(this.query,P)?P:null,pe=!!Q&&this.mutatedKeys.has(Q.key),Ie=!!le&&(le.hasLocalMutations||this.mutatedKeys.has(le.key)&&le.hasCommittedMutations);let ke=!1;Q&&le?Q.data.isEqual(le.data)?pe!==Ie&&(i.track({type:3,doc:le}),ke=!0):this.rc(Q,le)||(i.track({type:2,doc:le}),ke=!0,(m&&this.tc(le,m)>0||y&&this.tc(le,y)<0)&&(u=!0)):!Q&&le?(i.track({type:0,doc:le}),ke=!0):Q&&!le&&(i.track({type:1,doc:Q}),ke=!0,(m||y)&&(u=!0)),ke&&(le?(l=l.add(le),s=Ie?s.add(w):s.delete(w)):(l=l.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{ec:l,ic:i,zi:u,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,w)=>function(P,Q){const le=pe=>{switch(pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return le(P)-le(Q)}(y.type,w.type)||this.tc(y.doc,w.doc)),this.oc(i);const l=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,m=u!==this.Xu;return this.Xu=u,0!==s.length||m?{snapshot:new sv(this.query,e.ec,r,s,e.mutatedKeys,0===u,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new y7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=An(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new x7(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new w7(i))}),t}hc(e){this.Yu=e.ir,this.Zu=An();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return sv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pQ{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gQ{constructor(e){this.key=e,this.fc=!1}}class _Q{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new xh(u=>L8(u),yx),this._c=new Map,this.mc=new Set,this.gc=new Ui(Dt.comparator),this.yc=new Map,this.Ic=new fO,this.Tc={},this.Ec=new Map,this.Ac=Xg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yQ(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,Ye.Z)(function*(n,e){const t=function EP(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=C7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wQ.bind(null,e),e.dc.nu=uQ.bind(null,e.eventManager),e.dc.Pc=hQ.bind(null,e.eventManager),e}(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield function Q0(n,e){const t=Mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,qe.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Ch(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Do(e)),u=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield function tP(n,e,t,i,r){return nP.apply(this,arguments)}(t,e,i,"current"===u,l.resumeToken),t.isPrimaryClient&&xI(t.remoteStore,l)}return r}),eP.apply(this,arguments)}function nP(){return nP=(0,Ye.Z)(function*(n,e,t,i,r){n.Rc=(P,Q,le)=>{return(pe=(0,Ye.Z)(function*(Ie,ke,rt,ht){let mt=ke.view.sc(rt);mt.zi&&(mt=yield _I(Ie.localStore,ke.query,!1).then(({documents:nn})=>ke.view.sc(nn,mt)));const Ct=ht&&ht.targetChanges.get(ke.targetId),Kt=ke.view.applyChanges(mt,Ie.isPrimaryClient,Ct);return hP(Ie,ke.targetId,Kt.cc),Kt.snapshot}),function(Ie,ke,rt,ht){return pe.apply(this,arguments)})(n,P,Q,le);var pe};const s=yield _I(n.localStore,e,!0),l=new E7(e,s.ir),u=l.sc(s.documents),m=Tx.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=l.applyChanges(u,n.isPrimaryClient,m);hP(n,t,y.cc);const w=new pQ(e,t,l);return n.wc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),nP.apply(this,arguments)}function vQ(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,Ye.Z)(function*(n,e){const t=Mt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!yx(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield J0(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Vx(t.remoteStore,i.targetId),ov(t,i.targetId)}).catch(Em))):(ov(t,i.targetId),yield J0(t.localStore,i.targetId,!0))}),iP.apply(this,arguments)}function rP(){return rP=(0,Ye.Z)(function*(n,e,t){const i=function CP(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EQ.bind(null,e),e}(n);try{const r=yield function(s,l){const u=Mt(s),m=sr.now(),y=l.reduce((Q,le)=>Q.add(le.key),An());let w,P;return u.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let le=ra(),pe=An();return u.Zi.getEntries(Q,y).next(Ie=>{le=Ie,le.forEach((ke,rt)=>{rt.isValidDocument()||(pe=pe.add(ke))})}).next(()=>u.localDocuments.getOverlayedDocuments(Q,le)).next(Ie=>{w=Ie;const ke=[];for(const rt of l){const ht=YZ(rt,w.get(rt.key).overlayedDocument);null!=ht&&ke.push(new Eh(rt.key,ht,E8(ht.value.mapValue),or.exists(!0)))}return u.mutationQueue.addMutationBatch(Q,m,ke,l)}).next(Ie=>{P=Ie;const ke=Ie.applyToLocalDocumentSet(w,pe);return u.documentOverlayCache.saveOverlays(Q,Ie.batchId,ke)})}).then(()=>({batchId:P.batchId,changes:H8(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,u){let m=s.Tc[s.currentUser.toKey()];m||(m=new Ui(xn)),m=m.insert(l,u),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,t),yield Sh(i,r.changes),yield tv(i.remoteStore)}catch(r){const s=iv(r,"Failed to persist write");t.reject(s)}}),rP.apply(this,arguments)}function C7(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,Ye.Z)(function*(n,e){const t=Mt(n);try{const i=yield function VX(n,e){const t=Mt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const u=[];e.targetChanges.forEach((w,P)=>{const Q=r.get(P);if(!Q)return;u.push(t.Bs.removeMatchingKeys(s,w.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(s,w.addedDocuments,P)));let le=Q.withSequenceNumber(s.currentSequenceNumber);var pe,Ie,ke;null!==e.targetMismatches.get(P)?le=le.withResumeToken(us.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):w.resumeToken.approximateByteSize()>0&&(le=le.withResumeToken(w.resumeToken,i)),r=r.insert(P,le),Ie=le,ke=w,(0===(pe=Q).resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&u.push(t.Bs.updateTargetData(s,le))});let m=ra(),y=An();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),u.push(function n7(n,e,t){let i=An(),r=An();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=ra();return t.forEach((u,m)=>{const y=s.get(u);m.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(u)),m.isNoDocument()&&m.version.isEqual(Wt.min())?(e.removeEntry(u,m.readTime),l=l.insert(u,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),l=l.insert(u,m)):ft("LocalStore","Ignoring outdated watch update for ",u,". Current version:",y.version," Watch version:",m.version)}),{nr:l,sr:r}})}(s,l,e.documentUpdates).next(w=>{m=w.nr,y=w.sr})),!i.isEqual(Wt.min())){const w=t.Bs.getLastRemoteSnapshotVersion(s).next(P=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(w)}return qe.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,y)).next(()=>m)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?zt(l.fc):r.removedDocuments.size>0&&(zt(l.fc),l.fc=!1))}),yield Sh(t,i,e)}catch(i){yield Em(i)}}),sP.apply(this,arguments)}function S7(n,e,t){const i=Mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const u=l.view.Mu(e);u.snapshot&&r.push(u.snapshot)}),function(s,l){const u=Mt(s);u.onlineState=l;let m=!1;u.queries.forEach((y,w)=>{for(const P of w.listeners)P.Mu(l)&&(m=!0)}),m&&QO(u)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function wQ(n,e,t){return oP.apply(this,arguments)}function oP(){return oP=(0,Ye.Z)(function*(n,e,t){const i=Mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new Ui(Dt.comparator);l=l.insert(s,qi.newNoDocument(s,Wt.min()));const u=An().add(s),m=new Sx(Wt.min(),new Map,new Ui(xn),l,u);yield C7(i,m),i.gc=i.gc.remove(s),i.yc.delete(e),fP(i)}else yield J0(i.localStore,e,!1).then(()=>ov(i,e,t)).catch(Em)}),oP.apply(this,arguments)}function xQ(n,e){return aP.apply(this,arguments)}function aP(){return aP=(0,Ye.Z)(function*(n,e){const t=Mt(n),i=e.batch.batchId;try{const r=yield function UX(n,e){const t=Mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,u,m,y){const w=m.batch,P=w.keys();let Q=qe.resolve();return P.forEach(le=>{Q=Q.next(()=>y.getEntry(u,le)).next(pe=>{const Ie=m.docVersions.get(le);zt(null!==Ie),pe.version.compareTo(Ie)<0&&(w.applyToRemoteDocument(pe,m),pe.isValidDocument()&&(pe.setReadTime(m.commitVersion),y.addEntry(pe)))})}),Q.next(()=>l.mutationQueue.removeMutationBatch(u,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=An();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(u=u.add(l.batch.mutations[m].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);uP(t,i,null),dP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Sh(t,r)}catch(r){yield Em(r)}}),aP.apply(this,arguments)}function EQ(n,e,t){return lP.apply(this,arguments)}function lP(){return lP=(0,Ye.Z)(function*(n,e,t){const i=Mt(n);try{const r=yield function(s,l){const u=Mt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return u.mutationQueue.lookupMutationBatch(m,l).next(w=>(zt(null!==w),y=w.keys(),u.mutationQueue.removeMutationBatch(m,w))).next(()=>u.mutationQueue.performConsistencyCheck(m)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(m,y,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>u.localDocuments.getDocuments(m,y))})}(i.localStore,e);uP(i,e,t),dP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Sh(i,r)}catch(r){yield Em(r)}}),lP.apply(this,arguments)}function dP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function uP(n,e,t){const i=Mt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function ov(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||T7(n,i)})}function T7(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Vx(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),fP(n))}function hP(n,e,t){for(const i of t)i instanceof w7?(n.Ic.addReference(i.key,e),SQ(n,i)):i instanceof x7?(ft("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||T7(n,i.key)):Nt()}function SQ(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ft("SyncEngine","New document in limbo: "+t),n.mc.add(i),fP(n))}function fP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Dt(Yn.fromString(e)),i=n.Ac.next();n.yc.set(i,new gQ(t)),n.gc=n.gc.insert(t,i),xI(n.remoteStore,new Ch(Do(G0(t.path)),i,"TargetPurposeLimboResolution",Ga.ct))}}function Sh(n,e,t){return mP.apply(this,arguments)}function mP(){return mP=(0,Ye.Z)(function*(n,e,t){const i=Mt(n),r=[],s=[],l=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,m)=>{l.push(i.Rc(m,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=yO.Li(m.targetId,y);s.push(w)}}))}),yield Promise.all(l),i.dc.nu(r),yield(u=(0,Ye.Z)(function*(m,y){const w=Mt(m);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>qe.forEach(y,Q=>qe.forEach(Q.Fi,le=>w.persistence.referenceDelegate.addReference(P,Q.targetId,le)).next(()=>qe.forEach(Q.Bi,le=>w.persistence.referenceDelegate.removeReference(P,Q.targetId,le)))))}catch(P){if(!Cm(P))throw P;ft("LocalStore","Failed to update sequence numbers: "+P)}for(const P of y){const Q=P.targetId;if(!P.fromCache){const le=w.Ji.get(Q),Ie=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion);w.Ji=w.Ji.insert(Q,Ie)}}}),function(m,y){return u.apply(this,arguments)})(i.localStore,s))}),mP.apply(this,arguments)}function TQ(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,Ye.Z)(function*(n,e){const t=Mt(n);if(!t.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const i=yield e7(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(u=>{u.reject(new at(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sh(t,i.er)}var r}),pP.apply(this,arguments)}function IQ(n,e){const t=Mt(n),i=t.yc.get(e);if(i&&i.fc)return An().add(i.key);{let r=An();const s=t._c.get(e);if(!s)return r;for(const l of s){const u=t.wc.get(l);r=r.unionWith(u.view.nc)}return r}}class Hx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ye.Z)(function*(){t.serializer=Bx(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function J9(n,e,t,i){return new BX(n,e,t,i)}(this.persistence,new Q9,e.initialUser,this.serializer)}createPersistence(e){return new mO(mI.zs,this.serializer)}createSharedClientState(e){return new l7}terminate(){var e=this;return(0,Ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class av{initialize(e,t){var i=this;return(0,Ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>S7(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=TQ.bind(null,i.syncEngine),yield function $O(n,e){return WO.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dQ}createDatastore(e){const t=Bx(e.databaseInfo.databaseId),i=new qX(e.databaseInfo);return new ZX(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>S7(this.syncEngine,u,0),l=c7.D()?new c7:new zX,new JX(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,u,m,y){const w=new _Q(i,r,s,l,u,m);return y&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ye.Z)(function*(t){const i=Mt(t);ft("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ev(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class CI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VQ{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Es.UNAUTHENTICATED,this.clientId=J5.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Ye.Z)(function*(u){ft("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(ft("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new at(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=iv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function SI(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ye.Z)(function*(s){i.isEqual(s)||(yield e7(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),TP.apply(this,arguments)}function IP(n,e){return DP.apply(this,arguments)}function DP(){return DP=(0,Ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MP(n);ft("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>_7(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>_7(e.remoteStore,s)),n._onlineComponents=e}),DP.apply(this,arguments)}function MP(n){return AP.apply(this,arguments)}function AP(){return AP=(0,Ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function k7(n){return"FirebaseError"===n.name?n.code===Ze.FAILED_PRECONDITION||n.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Tl("Error using user provided cache. Falling back to memory cache: "+t),yield SI(n,new Hx)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),yield SI(n,new Hx);return n._offlineComponents}),AP.apply(this,arguments)}function TI(n){return kP.apply(this,arguments)}function kP(){return kP=(0,Ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),yield IP(n,n._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),yield IP(n,new av))),n._onlineComponents}),kP.apply(this,arguments)}function II(n){return MP(n).then(e=>e.localStore)}function lv(n){return OP.apply(this,arguments)}function OP(){return OP=(0,Ye.Z)(function*(n){const e=yield TI(n),t=e.eventManager;return t.onListen=yQ.bind(null,e.syncEngine),t.onUnlisten=vQ.bind(null,e.syncEngine),t}),OP.apply(this,arguments)}function F7(n,e,t={}){const i=new ds;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(r,s,l,u,m){const y=new CI({next:P=>{s.enqueueAndForget(()=>ZO(r,w));const Q=P.docs.has(l);!Q&&P.fromCache?m.reject(new at(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&P.fromCache&&u&&"server"===u.source?m.reject(new at(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(P)},error:P=>m.reject(P)}),w=new JO(G0(l.path),y,{includeMetadataChanges:!0,Ku:!0});return KO(r,w)}(yield lv(n),n.asyncQueue,e,t,i)})),i.promise}function N7(n,e,t={}){const i=new ds;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function(r,s,l,u,m){const y=new CI({next:P=>{s.enqueueAndForget(()=>ZO(r,w)),P.fromCache&&"server"===u.source?m.reject(new at(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(P)},error:P=>m.reject(P)}),w=new JO(l,y,{includeMetadataChanges:!0,Ku:!0});return KO(r,w)}(yield lv(n),n.asyncQueue,e,t,i)})),i.promise}function L7(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const B7=new Map;function PP(n,e,t){if(!t)throw new at(Ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V7(n){if(!Dt.isDocumentKey(n))throw new at(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H7(n){if(Dt.isDocumentKey(n))throw new at(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nt()}function Gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=DI(n);throw new at(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function j7(n,e){if(e<=0)throw new at(Ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class G7{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new at(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new at(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function U7(n,e,t,i){if(!0===e&&!0===i)throw new at(Ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=L7(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new at(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jx{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new at(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new at(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G7(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KY;switch(t.type){case"firstParty":return new QY(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new at(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B7.get(e);t&&(ft("ComponentProvider","Removing Datastore"),B7.delete(e),t.terminate())}(this),Promise.resolve()}}class Ki{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ki(this.firestore,e,this._key)}}class zs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class iu extends zs{constructor(e,t,i){super(e,t,G0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ki(this.firestore,null,new Dt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function MI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=J5.A()),PP("doc","path",e),n instanceof jx){const i=Yn.fromString(e,...t);return V7(i),new Ki(n,null,new Dt(i))}{if(!(n instanceof Ki||n instanceof iu))throw new at(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yn.fromString(e,...t));return V7(i),new Ki(n.firestore,n instanceof iu?n.converter:null,new Dt(i))}}function W7(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),(n instanceof Ki||n instanceof iu)&&(e instanceof Ki||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function FP(n,e){return n=(0,fe.m9)(n),e=(0,fe.m9)(e),n instanceof zs&&e instanceof zs&&n.firestore===e.firestore&&yx(n._query,e._query)&&n.converter===e.converter}class ZQ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new DO(this,"async_queue_retry"),this.Xc=()=>{const t=wI();t&&ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=wI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=wI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ds;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Cm(t))throw t;ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=qO.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function NP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Yi extends jx{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ZQ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||q7(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||q7(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function q7(n){var e,t,i;const r=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DZ(n._databaseId,u,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,L7(y.experimentalLongPollingOptions),y.useFetchStreams));var u,y;n._firestoreClient=new VQ(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(us.fromBase64String(e))}catch(t){throw new at(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(us.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new at(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._methodName=e}}class AI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}const lJ=/^__.*__$/;class cJ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Eh(e,this.data,this.fieldMask,t,this.fieldTransforms):new W0(e,this.data,t,this.fieldTransforms)}}class Z7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Eh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class kI{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return PI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(X7(this.ca)&&lJ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dJ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bx(e)}ya(e,t,i,r=!1){return new kI({ca:e,methodName:t,ga:i,path:Sr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e_(n){const e=n._freezeSettings(),t=Bx(n._databaseId);return new dJ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RI(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);VP("Data must be an object, but it was:",l,i);const u=eB(i,l);let m,y;if(s.merge)m=new ia(l.fieldMask),y=l.fieldTransforms;else if(s.mergeFields){const w=[];for(const P of s.mergeFields){const Q=$x(e,P,t);if(!l.contains(Q))throw new at(Ze.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);nB(w,Q)||w.push(Q)}m=new ia(w),y=l.fieldTransforms.filter(P=>m.covers(P.field))}else m=null,y=l.fieldTransforms;return new cJ(new Gs(u),m,y)}class zx extends Jg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zx}}function J7(n,e,t,i=!1){return t_(t,n.ya(i?4:3,e))}function t_(n,e){if(tB(n=(0,fe.m9)(n)))return VP("Unsupported field value:",e,n),eB(n,e);if(n instanceof Jg)return function(t,i){if(!X7(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let u=t_(l,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $8(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=sr.fromDate(t);return{timestampValue:K0(i.serializer,r)}}if(t instanceof sr){const r=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:K0(i.serializer,r)}}if(t instanceof AI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:h9(i.serializer,t._byteString)};if(t instanceof Ki){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:nO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${DI(t)}`)}(n,e)}function eB(n,e){const t={};return m8(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sm(n,(i,r)=>{const s=t_(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function tB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof AI||n instanceof ru||n instanceof Ki||n instanceof Jg)}function VP(n,e,t){if(!tB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=DI(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function $x(n,e,t){if((e=(0,fe.m9)(e))instanceof Th)return e._internalPath;if("string"==typeof e)return OI(n,e);throw PI("Field path arguments must be of type string or ",n,!1,void 0,t)}const mJ=new RegExp("[~\\*/\\[\\]]");function OI(n,e,t){if(e.search(mJ)>=0)throw PI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw PI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PI(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new at(Ze.INVALID_ARGUMENT,u+n+m)}function nB(n,e){return n.some(t=>t.isEqual(e))}class Wx{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pJ extends Wx{data(){return super.data()}}function FI(n,e){return"string"==typeof e?OI(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}function iB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new at(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HP{}class qx extends HP{}function Bm(n,e,...t){let i=[];e instanceof HP&&i.push(e),i=i.concat(t),function(r){const s=r.filter(u=>u instanceof cv).length,l=r.filter(u=>u instanceof Kx).length;if(s>1||s>0&&l>0)throw new at(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Kx extends qx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kx(e,t,i)}_apply(e){const t=this._parse(e);return aB(e._query,t),new zs(e.firestore,e.converter,WR(e._query,t))}_parse(e){const t=e_(e.firestore);return function(r,s,l,u,m,y,w){let P;if(m.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new at(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){oB(w,y);const Q=[];for(const le of w)Q.push(sB(u,r,le));P={arrayValue:{values:Q}}}else P=sB(u,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||oB(w,y),P=J7(l,"where",w,"in"===y||"not-in"===y);return jn.create(m,y,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class cv extends HP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const u of l)aB(s,u),s=WR(s,u)}(e._query,t),new zs(e.firestore,e.converter,WR(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jP extends qx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jP(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new at(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new at(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new H0(r,s);return function(u,m){if(null===zR(u)){const y=JT(u);null!==y&&lB(0,y,m.field)}}(i,l),l}(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new wh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class NI extends qx{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new NI(e,t,i)}_apply(e){return new zs(e.firestore,e.converter,eI(e._query,this._limit,this._limitType))}}class LI extends qx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new LI(e,t,i)}_apply(e){const t=rB(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(r=t,new wh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class BI extends qx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new BI(e,t,i)}_apply(e){const t=rB(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(r=t,new wh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function rB(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof Wx)return function(r,s,l,u,m){if(!u)throw new at(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const w of Gg(r))if(w.field.isKeyField())y.push(Hg(s,u.key));else{const P=u.data.field(w.field);if(WT(P))throw new at(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Q=w.field.canonicalString();throw new at(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}y.push(P)}return new km(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=e_(n.firestore);return function(s,l,u,m,y,w){const P=s.explicitOrderBy;if(y.length>P.length)throw new at(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let le=0;le<y.length;le++){const pe=y[le];if(P[le].field.isKeyField()){if("string"!=typeof pe)throw new at(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof pe}`);if(!$R(s)&&-1!==pe.indexOf("/"))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${pe}' contains a slash.`);const Ie=s.path.child(Yn.fromString(pe));if(!Dt.isDocumentKey(Ie))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const ke=new Dt(Ie);Q.push(Hg(l,ke))}else{const Ie=J7(u,m,pe);Q.push(Ie)}}return new km(Q,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function sB(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new at(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$R(e)&&-1!==t.indexOf("/"))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Yn.fromString(t));if(!Dt.isDocumentKey(i))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hg(n,new Dt(i))}if(t instanceof Ki)return Hg(n,t._key);throw new at(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DI(t)}.`)}function oB(n,e){if(!Array.isArray(n)||0===n.length)throw new at(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aB(n,e){if(e.isInequality()){const i=JT(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=zR(n);null!==s&&lB(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new at(Ze.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lB(n,e,t){if(!t.isEqual(e))throw new at(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class GP{convertValue(e,t="none"){switch(Mm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Sm(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new AI(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qT(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fx(e));default:return null}}convertTimestamp(e){const t=Tm(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Yn.fromString(e);zt(x9(i));const r=new Im(i.get(1),i.get(3)),s=new Dt(i.popFirst(5));return r.isEqual(t)||Pr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function UI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class n_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ih extends Wx{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(FI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Yx extends Ih{data(e={}){return super.data(e)}}class Um{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new n_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Yx(this._firestore,this._userDataWriter,i.key,i,new n_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Yx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new n_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const u=new Yx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new n_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),y=s.indexOf(l.doc.key)),{type:TJ(l.type),doc:u,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TJ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function dB(n,e){return n instanceof Ih&&e instanceof Ih?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Um&&e instanceof Um&&n._firestore===e._firestore&&FP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Vm extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ki(this.firestore,null,t)}}function uB(n,e,t){n=Gn(n,Ki);const i=Gn(n.firestore,Yi),r=UI(n.converter,e,t);return dv(i,[RI(e_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,or.none())])}function hB(n,e,t,...i){n=Gn(n,Ki);const r=Gn(n.firestore,Yi),s=e_(r);let l;return l="string"==typeof(e=(0,fe.m9)(e))||e instanceof Th?function UP(n,e,t,i,r,s){const l=n.ya(1,e,t),u=[$x(e,i,t)],m=[r];if(s.length%2!=0)throw new at(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<s.length;Q+=2)u.push($x(e,s[Q])),m.push(s[Q+1]);const y=[],w=Gs.empty();for(let Q=u.length-1;Q>=0;--Q)if(!nB(y,u[Q])){const le=u[Q];let pe=m[Q];pe=(0,fe.m9)(pe);const Ie=l.da(le);if(pe instanceof zx)y.push(le);else{const ke=t_(pe,Ie);null!=ke&&(y.push(le),w.set(le,ke))}}const P=new ia(y);return new Z7(w,P,l.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function BP(n,e,t,i){const r=n.ya(1,e,t);VP("Data must be an object, but it was:",r,i);const s=[],l=Gs.empty();Sm(i,(m,y)=>{const w=OI(e,m,t);y=(0,fe.m9)(y);const P=r.da(w);if(y instanceof zx)s.push(w);else{const Q=t_(y,P);null!=Q&&(s.push(w),l.set(w,Q))}});const u=new ia(s);return new Z7(l,u,r.fieldTransforms)}(s,"updateDoc",n._key,e),dv(r,[l.toMutation(n._key,or.exists(!0))])}function fB(n,...e){var t,i,r;n=(0,fe.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||NP(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges};if(NP(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(i=P.error)||void 0===i?void 0:i.bind(P),e[l+2]=null===(r=P.complete)||void 0===r?void 0:r.bind(P)}let m,y,w;if(n instanceof Ki)y=Gn(n.firestore,Yi),w=G0(n._key.path),m={next:P=>{e[l]&&e[l](zP(y,n,P))},error:e[l+1],complete:e[l+2]};else{const P=Gn(n,zs);y=Gn(P.firestore,Yi),w=P._query;const Q=new Vm(y);m={next:le=>{e[l]&&e[l](new Um(y,Q,P,le))},error:e[l+1],complete:e[l+2]},iB(n._query)}return function(P,Q,le,pe){const Ie=new CI(pe),ke=new JO(Q,Ie,le);return P.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return KO(yield lv(P),ke)})),()=>{Ie.Dc(),P.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return ZO(yield lv(P),ke)}))}}(Nr(y),w,u,m)}function dv(n,e){return function(t,i){const r=new ds;return t.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return function bQ(n,e,t){return rP.apply(this,arguments)}(yield function RP(n){return TI(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(Nr(n),e)}function zP(n,e,t){const i=t.docs.get(e._key),r=new Vm(n);return new Ih(n,r,e._key,i,new n_(t.hasPendingWrites,t.fromCache),e.converter)}function gB(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function _B(){if(!function TZ(){return typeof atob<"u"}())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zx{constructor(e){this._delegate=e}static fromBase64String(e){return _B(),new Zx(ru.fromBase64String(e))}static fromUint8Array(e){return gB(),new Zx(ru.fromUint8Array(e))}toBase64(){return _B(),this._delegate.toBase64()}toUint8Array(){return gB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WP(n){return function eee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class VI extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zx(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Il.forKey(t,this.firestore,null)}}class i_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Yx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qx(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=i_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new i_(e,new VI(e),t),r.set(t,s)),s}}i_.INSTANCES=new WeakMap;class Il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Il(t,new Ki(t._delegate,i,new Dt(e)))}static forKey(e,t,i){return new Il(t,new Ki(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new uv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uv(this.firestore,function $7(n,e,...t){if(n=(0,fe.m9)(n),PP("collection","path",e),n instanceof jx){const i=Yn.fromString(e,...t);return H7(i),new iu(n,null,i)}{if(!(n instanceof Ki||n instanceof iu))throw new at(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yn.fromString(e,...t));return H7(i),new iu(n.firestore,null,i)}}(this._delegate,e))}catch(t){throw Mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fe.m9)(e))instanceof Ki&&W7(this._delegate,e)}set(e,t){t=function $P(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new at("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?uB(this._delegate,e,t):uB(this._delegate,e)}catch(i){throw Mo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?hB(this._delegate,e):hB(this._delegate,e,t,...i)}catch(r){throw Mo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function OJ(n){return dv(Gn(n.firestore,Yi),[new q0(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=wB(e),i=xB(e,r=>new Xx(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return fB(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function DJ(n){n=Gn(n,Ki);const e=Gn(n.firestore,Yi),t=Nr(e),i=new Vm(e);return function GQ(n,e){const t=new ds;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(i=(0,Ye.Z)(function*(r,s,l){try{const u=yield function(m,y){const w=Mt(m);return w.persistence.runTransaction("read document","readonly",P=>w.localDocuments.getDocument(P,y))}(r,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new at(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const m=iv(u,`Failed to get document '${s} from cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield II(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ih(e,i,n._key,r,new n_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function MJ(n){n=Gn(n,Ki);const e=Gn(n.firestore,Yi);return F7(Nr(e),n._key,{source:"server"}).then(t=>zP(e,n,t))}(this._delegate):function IJ(n){n=Gn(n,Ki);const e=Gn(n.firestore,Yi);return F7(Nr(e),n._key).then(t=>zP(e,n,t))}(this._delegate),t.then(i=>new Xx(this.firestore,new Ih(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Il(this.firestore,this._delegate.withConverter(e?i_.getInstance(this.firestore,e):null))}}function Mo(n,e,t){return n.message=n.message.replace(e,t),n}function wB(n){for(const e of n)if("object"==typeof e&&!WP(e))return e;return{}}function xB(n,e){var t,i;let r;return r=WP(n[0])?n[0]:WP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Xx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dB(this._delegate,e._delegate)}}class Qx extends Xx{data(e){const t=this._delegate.data(e);return function qY(n,e){n||Nt()}(void 0!==t),t}}class Ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}where(e,t,i){try{return new Ao(this.firestore,Bm(this._delegate,function gJ(n,e,t){const i=e,r=FI("where",n);return Kx._create(r,i,t)}(e,t,i)))}catch(r){throw Mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ao(this.firestore,Bm(this._delegate,function _J(n,e="asc"){const t=e,i=FI("orderBy",n);return jP._create(i,t)}(e,t)))}catch(i){throw Mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ao(this.firestore,Bm(this._delegate,function yJ(n){return j7("limit",n),NI._create("limit",n,"F")}(e)))}catch(t){throw Mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ao(this.firestore,Bm(this._delegate,function vJ(n){return j7("limitToLast",n),NI._create("limitToLast",n,"L")}(e)))}catch(t){throw Mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ao(this.firestore,Bm(this._delegate,function bJ(...n){return LI._create("startAt",n,!0)}(...e)))}catch(t){throw Mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ao(this.firestore,Bm(this._delegate,function wJ(...n){return LI._create("startAfter",n,!1)}(...e)))}catch(t){throw Mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ao(this.firestore,Bm(this._delegate,function xJ(...n){return BI._create("endBefore",n,!1)}(...e)))}catch(t){throw Mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ao(this.firestore,Bm(this._delegate,function EJ(...n){return BI._create("endAt",n,!0)}(...e)))}catch(t){throw Mo(t,"endAt()","Query.endAt()")}}isEqual(e){return FP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kJ(n){n=Gn(n,zs);const e=Gn(n.firestore,Yi),t=Nr(e),i=new Vm(e);return function zQ(n,e){const t=new ds;return n.asyncQueue.enqueueAndForget((0,Ye.Z)(function*(){return(i=(0,Ye.Z)(function*(r,s,l){try{const u=yield _I(r,s,!0),m=new E7(s,u.ir),y=m.sc(u.documents),w=m.applyChanges(y,!1);l.resolve(w.snapshot)}catch(u){const m=iv(u,`Failed to execute query '${s} against cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield II(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Um(e,i,n,r))}(this._delegate):"server"===e?.source?function RJ(n){n=Gn(n,zs);const e=Gn(n.firestore,Yi),t=Nr(e),i=new Vm(e);return N7(t,n._query,{source:"server"}).then(r=>new Um(e,i,n,r))}(this._delegate):function AJ(n){n=Gn(n,zs);const e=Gn(n.firestore,Yi),t=Nr(e),i=new Vm(e);return iB(n._query),N7(t,n._query).then(r=>new Um(e,i,n,r))}(this._delegate),t.then(i=>new qP(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=wB(e),i=xB(e,r=>new qP(this.firestore,new Um(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return fB(this._delegate,t,i)}withConverter(e){return new Ao(this.firestore,this._delegate.withConverter(e?i_.getInstance(this.firestore,e):null))}}class iee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qx(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new iee(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Qx(this._firestore,i))})}isEqual(e){return dB(this._delegate,e._delegate)}}class uv extends Ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Il(this.firestore,e):null}doc(e){try{return new Il(this.firestore,void 0===e?MI(this._delegate):MI(this._delegate,e))}catch(t){throw Mo(t,"doc()","CollectionReference.doc()")}}add(e){return function PJ(n,e){const t=Gn(n.firestore,Yi),i=MI(n),r=UI(n.converter,e);return dv(t,[RI(e_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Il(this.firestore,t))}isEqual(e){return W7(this._delegate,e._delegate)}withConverter(e){return new uv(this.firestore,this._delegate.withConverter(e?i_.getInstance(this.firestore,e):null))}}var HI=C(5363),aee=C(4707);function EB(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,h2.B)({connector:()=>new aee.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function CB(n,e){return(0,as.m)(e)?(0,Ni.w)(()=>n,e):(0,Ni.w)(()=>n)}var YP=C(9468);C(8140);class tE{constructor(){return(0,ci.vb)("app-check")}}typeof window<"u"&&window;var yF=C(1274);const vF=new o.OlP("angularfire2.auth.use-emulator"),bF=new o.OlP("angularfire2.auth.settings"),wF=new o.OlP("angularfire2.auth.tenant-id"),xF=new o.OlP("angularfire2.auth.langugage-code"),EF=new o.OlP("angularfire2.auth.use-device-language"),CF=new o.OlP("angularfire.auth.persistence"),SF=(n,e,t,i,r,s,l,u)=>(0,Qr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),l)for(const[y,w]of Object.entries(l))m.settings[y]=w;return u&&m.setPersistence(u),m},[t,i,r,s,l,u]);let ZI=(()=>{class n{constructor(t,i,r,s,l,u,m,y,w,P,Q,le){const pe=new en.x,Ie=(0,At.of)(void 0).pipe((0,HI.Q)(l.outsideAngular),(0,Ni.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(C.bind(C,8463)))),(0,Ot.U)(()=>(0,Qr.on)(t,s,i)),(0,Ot.U)(ke=>SF(ke,s,u,y,w,P,m,Q)),EB({bufferSize:1,refCount:!1}));if(mo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,At.of)(null);else{Ie.pipe(mc()).subscribe();const rt=Ie.pipe((0,Ni.w)(Ct=>Ct.getRedirectResult().then(Kt=>Kt,()=>null)),ci.iC,EB({bufferSize:1,refCount:!1})),ht=Ie.pipe((0,Ni.w)(Ct=>new nr.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>Ct.onAuthStateChanged(nn=>Kt.next(nn),nn=>Kt.error(nn),()=>Kt.complete()))})))),mt=Ie.pipe((0,Ni.w)(Ct=>new nr.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>Ct.onIdTokenChanged(nn=>Kt.next(nn),nn=>Kt.error(nn),()=>Kt.complete()))}))));this.authState=rt.pipe(CB(ht),(0,YP.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular)),this.user=rt.pipe(CB(mt),(0,YP.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Ni.w)(Ct=>Ct?(0,li.D)(Ct.getIdToken()):(0,At.of)(null))),this.idTokenResult=this.user.pipe((0,Ni.w)(Ct=>Ct?(0,li.D)(Ct.getIdTokenResult()):(0,At.of)(null))),this.credential=(0,Cl.T)(rt,pe,this.authState.pipe((0,Li.h)(Ct=>!Ct))).pipe((0,Ot.U)(Ct=>Ct?.user?Ct:null),(0,YP.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular))}return(0,Qr.pX)(this,Ie,s,{spy:{apply:(ke,rt,ht)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&ht.then(mt=>pe.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qr.Dh),o.LFG(Qr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(vF,8),o.LFG(bF,8),o.LFG(wF,8),o.LFG(xF,8),o.LFG(EF,8),o.LFG(CF,8),o.LFG(tE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function qB(n,e){return function tte(n,e=Wd.z){return new nr.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function TF(n,e){return qB(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function XI(n,e){return TF(n,e).pipe(Fa(void 0),H2(),(0,Ot.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,u)=>{const m=r.find(w=>w.doc.ref.isEqual(l.ref)),y=t?.payload.docs.find(w=>w.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:l}})}),s}))}function KB(n,e,t){return XI(n,t).pipe((0,eh.R)((i,r)=>function ite(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function rte(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Cg.x)(),(0,Ot.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function IF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function YB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=XI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Fa(void 0),H2(),(0,Li.h)(([i,r])=>r.length>0||!i),(0,Ot.U)(([i,r])=>r),ci.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,eh.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YB(e);return KB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return TF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ci.iC)}get(e){return(0,li.D)(this.query.get(e)).pipe(ci.iC)}add(e){return this.ref.add(e)}doc(e){return new XB(this.ref.doc(e),this.afs)}}class XB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=eU(i,t);return new ZB(r,s,this.afs)}snapshotChanges(){return function nte(n,e){return qB(n,e).pipe(Fa(void 0),H2(),(0,Ot.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,li.D)(this.ref.get(e)).pipe(ci.iC)}}class ste{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Li.h)(t=>t.length>0),ci.iC):XI(this.query,this.afs.schedulers.outsideAngular).pipe(ci.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,eh.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YB(e);return KB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(e={}){return TF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ci.iC)}get(e){return(0,li.D)(this.query.get(e)).pipe(ci.iC)}}const QB=new o.OlP("angularfire2.enableFirestorePersistence"),JB=new o.OlP("angularfire2.firestore.persistenceSettings"),ote=new o.OlP("angularfire2.firestore.settings"),ate=new o.OlP("angularfire2.firestore.use-emulator");function eU(n,e=(t=>t)){return{query:e(n),ref:n}}let tU=(()=>{class n{constructor(t,i,r,s,l,u,m,y,w,P,Q,le,pe,Ie,ke,rt,ht){this.schedulers=m;const mt=(0,Qr.on)(t,u,i),Ct=w;P&&SF(mt,u,Q,pe,Ie,ke,le,rt),[this.firestore,this.persistenceEnabled$]=(0,Qr.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const Kt=u.runOutsideAngular(()=>mt.firestore());if(s&&Kt.settings(s),Ct&&Kt.useEmulator(...Ct),r&&!mo(l)){const nn=()=>{try{return(0,li.D)(Kt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(zn){return typeof console<"u"&&console.warn(zn),(0,At.of)(!1)}};return[Kt,u.runOutsideAngular(nn)]}return[Kt,(0,At.of)(!1)]},[s,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=eU(r,i),u=this.schedulers.ngZone.run(()=>s);return new ZB(u,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new ste(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new XB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qr.Dh),o.LFG(Qr.xv,8),o.LFG(QB,8),o.LFG(ote,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(JB,8),o.LFG(ate,8),o.LFG(ZI,8),o.LFG(vF,8),o.LFG(bF,8),o.LFG(wF,8),o.LFG(xF,8),o.LFG(EF,8),o.LFG(CF,8),o.LFG(tE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lte=(()=>{class n{constructor(){yF.Z.registerVersion("angularfire",ci.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:QB,useValue:!0},{provide:JB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[tU]}),n})(),cte=(()=>{const e=class{constructor(){this.storeDataSubjects=new Map}init(){Object.keys(localStorage).forEach(r=>{const s=JSON.parse(localStorage[r]);s&&this.storeDataSubjects.set(r,new os.X(s))})}watch(i){this.storeDataSubjects.has(i)||this.storeDataSubjects.set(i,new os.X(null));let r=localStorage.getItem(i),s=this.storeDataSubjects.get(i);return r="undefined"==r?void 0:JSON.parse(r),s&&s.next(r),s?s.asObservable():null}set(i,r){let s=JSON.stringify(r);localStorage.setItem(i,s);let l=this.storeDataSubjects.get(i);this.storeDataSubjects.has(i)&&l?l.next(r):this.storeDataSubjects.set(i,new os.X(s))}get(i){let r=localStorage.getItem(i);return JSON.parse(r)}remove(i){localStorage.removeItem(i);let r=this.storeDataSubjects.get(i);this.storeDataSubjects.has(i)&&r?r.next(null):this.storeDataSubjects.set(i,new os.X(null))}getKeyList(i){return Array.from(this.storeDataSubjects.keys()).filter(s=>s.includes(i))}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),fv=(()=>{const e=class{constructor(i,r,s,l,u){var m=this;this.afs=i,this.afAuth=r,this.router=s,this.storageService=l,this.store=u,this.isUserAuthenticated=!1,this.afAuth.authState.subscribe(function(){var y=(0,Ye.Z)(function*(w){w?(m.isUserAuthenticated=!0,m.storageService.set("users",w),yield m.router.navigate(["home"])):m.storageService.set("users",!1)});return function(w){return y.apply(this,arguments)}}())}setUserData(i){var r=this;return(0,Ye.Z)(function*(){return r.afs.doc(`users/${i.uid}`).set({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified},{merge:!0})})()}signIn(i,r){var s=this;return(0,Ye.Z)(function*(){return s.afAuth.signInWithEmailAndPassword(i,r).then(l=>{s.afAuth.authState.subscribe(u=>{u&&(s.isUserAuthenticated=!0,s.setUserData(l.user),s.storageService.set("users",u),s.router.navigate(["home"]))})})})()}signOut(){var i=this;return(0,Ye.Z)(function*(){return i.afAuth.signOut().then(()=>{i.isUserAuthenticated=!1,i.store.dispatch(R6.setUserLoggedIn({userAuthenticated:i.isUserAuthenticated})),localStorage.removeItem("user"),i.router.navigate(["login"])})})()}signUp(i,r){var s=this;return(0,Ye.Z)(function*(){return s.afAuth.createUserWithEmailAndPassword(i,r).then(l=>{s.setUserData(l.user)})})()}sendVerificationMail(){var i=this;return(0,Ye.Z)(function*(){return i.afAuth.currentUser.then(r=>r.sendEmailVerification()).then(()=>{i.router.navigate(["verify-email-address"])})})()}forgotPassword(i){return this.afAuth.sendPasswordResetEmail(i,{url:"https://alexchristianqr.github.io/game-apps/#/login"})}get isLoggedIn(){return this.isUserAuthenticated}authLogin(i){var r=this;return(0,Ye.Z)(function*(){return r.afAuth.signInWithPopup(i).then(s=>{r.router.navigate(["home"]),r.setUserData(s.user)}).catch(s=>{window.alert(s)})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(tU),o.LFG(ZI),o.LFG(Zr),o.LFG(cte),o.LFG(Us.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),nU=(()=>{const e=class{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return!!this.authService.isLoggedIn||this.router.navigate(["login"])}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(fv),o.LFG(Zr))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const dte=[{path:"home",component:BK,canActivate:[nU]}];let ute=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[ii,fT,uh,mg.forRoot(dte,{useHash:!0})]}),n})();var hte=C(7712);const iU=[{value:"Easy",text:"F\xe1cil"},{value:"Normal",text:"Normal"},{value:"Hard",text:"Dif\xedcil"}],rU=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],QI={background:{enabled:!0,volume:25},endgame:{enabled:!0,volume:50}};let sU=(()=>{const e=class{constructor(){this.audios={}}getAudio(i){return this.audios[i]}initAudio(i,r,s=100,l=!1){if(this.audios[i])return void console.warn(`El audio con clave "${i}" ya est\xe1 inicializado.`);const u=new Audio(r);u.volume=this.convertVolumeToRange(s),u.loop=l,this.audios[i]=u}playAudio(i){const r=this.audios[i];r?r.play().catch(s=>{console.error(`Error al reproducir el audio "${i}":`,s)}):console.error(`No se encontr\xf3 el audio con clave "${i}".`)}stopAudio(i){const r=this.audios[i];r?(r.pause(),r.currentTime=0):console.error(`No se encontr\xf3 el audio con clave "${i}".`)}setAudioVolume(i,r){const s=this.audios[i];s?s.volume=this.convertVolumeToRange(r):console.error(`No se encontr\xf3 el audio con clave "${i}".`)}removeAudio(i){this.audios[i]?delete this.audios[i]:console.warn(`El audio con clave "${i}" no existe.`)}convertVolumeToRange(i){return Math.max(0,Math.min(i/100,1))}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function pte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.startGame(!0))}),o._uU(1,"Empezar"),o.qZA()}}function gte(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",29)(2,"mat-grid-tile")(3,"div",8),o.YNc(4,pte,2,0,"button",30),o.qZA()()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",!t.playing)}}function _te(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.restartGame(!0))}),o._uU(1,"Reiniciar"),o.qZA()}}function yte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",36),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.endGame(!1))}),o._uU(1,"Terminar"),o.qZA()}}function vte(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",32)(2,"mat-grid-tile")(3,"div",8),o.YNc(4,_te,2,0,"button",33),o.qZA()(),o.TgZ(5,"mat-grid-tile"),o.YNc(6,yte,2,0,"button",34),o.qZA()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",t.playing),o.xp6(2),o.Q6J("ngIf",t.playing)}}function bte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",37),o.NdJ("click",function(){const s=o.CHM(t).index,l=o.oxw();return o.KtG(l.makeHumanMove(s))}),o.TgZ(1,"div")(2,"div",38),o._uU(3),o.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;o.xp6(1),o.Tol("div"+i),o.xp6(2),o.hij(" ","X"===t||"O"===t?t:""," ")}}function wte(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",40),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.winner)}}function xte(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",39)(2,"mat-grid-tile"),o.YNc(3,wte,3,1,"div",6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngIf",!t.playing)}}function Ete(n,e){if(1&n&&(o.TgZ(0,"mat-option",41),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.value),o.xp6(1),o.Oqu(t.text)}}const{GameStep:Cte}=hte.Z;let Ste=(()=>{const e=class{constructor(i){this.soundService=i,this.levels=iU,this.panelOpenState=!1,this.gameBoard=rU,this.gameState=[0,1,2,3,4,5,6,7,8],this.playing=!1,this.defaultLevel="Normal",this.defaultSettings=QI,this.breakpoint=1,this.breakpoint2=8,this.breakpoint3=6,this.computerFirst=!0}ngOnInit(){this.breakpoint=window.innerWidth<=319?3:1,this.soundService.initAudio("background","assets/sounds/theme_game.mp3",this.defaultSettings.background.volume,!0),this.soundService.initAudio("endgame","assets/sounds/end_game.mp3",this.defaultSettings.endgame.volume)}ngOnDestroy(){this.stopAudios()}defaultStartGame(i,r){this.panelOpenState=!1,this.gameBoard=rU,this.gameState=[0,1,2,3,4,5,6,7,8],this.winner=void 0,this.checkEnabled("background")&&this.soundService.playAudio("background"),i&&this.computerFirst&&this.makeComputerMove(),r&&r(),this.playing=i}endGame(i){var r=this;return(0,Ye.Z)(function*(){console.log("[TresEnLineaComponent.endGame]"),r.playing=i,r.stopAudios()})()}restartGame(i){var r=this;return(0,Ye.Z)(function*(){console.log("[TresEnLineaComponent.restartGame]"),r.soundService.stopAudio("background"),r.defaultStartGame(i)})()}startGame(i=!1){var r=this;return(0,Ye.Z)(function*(){console.log("[TresEnLineaComponent.startGame]"),r.defaultStartGame(i)})()}stopAudios(){this.soundService.stopAudio("background"),this.soundService.stopAudio("endgame")}onResize(i){this.breakpoint=i.target.innerWidth<=319?2:1}formatLabel(i){return i>=1e3?Math.round(i/1e3)+"k":`${i}`}makeHumanMove(i){var r=this;!this.playing||"number"!=typeof this.gameState[i]||(this.gameState[i]="X",setTimeout((0,Ye.Z)(function*(){yield r.makeComputerMove()}),250))}makeComputerMove(){var i=this;return(0,Ye.Z)(function*(){const l=Cte(i.gameState,{huPlayer:"X",aiPlayer:"O"},i.defaultLevel);i.gameState=l.board,l.winner&&(i.winner={huPlayer:"\xa1Ganaste t\xfa \u{1f9d1}!",aiPlayer:"\xa1Gan\xf3 el robot \u{1f916}!",draw:"\xa1Es un empate!"}[l.winner],i.playing=!1,i.soundService.getAudio("background")&&i.soundService.stopAudio("background"),QI.endgame.enabled&&i.soundService.playAudio("endgame"))})()}onToggleChange(i,r){r?QI[i].enabled&&this.soundService.playAudio(i):this.soundService.stopAudio(i)}checkEnabled(i){return QI[i].enabled}onVolumeChange(i,r){this.soundService.setAudioVolume(i,r)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(sU))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-tres-en-linea"]],decls:76,vars:18,consts:[[1,"my-3"],[1,"row"],[1,"col-2","my-auto"],["mat-icon-button","","routerLink","/home","color","primary","size","small"],[1,"col-10","my-auto"],[1,"h4","float-end"],[4,"ngIf"],["cols","2","rowHeight","12:2"],[2,"text-align","center"],[1,"h6"],[3,"cols","rowHeight","resize"],[1,"parent"],[3,"click",4,"ngFor","ngForOf"],[2,"background-color","#fce9f0",3,"expanded","expandedChange","opened","closed"],[1,"mx-0","px-0"],[1,"align-content-start","my-0"],[1,"float-start"],[1,"w-auto","align-content-start","my-3"],[1,"col-12","my-2"],[1,"w-100"],["color","primary",1,"float-start",3,"ngModel","ngModelChange"],["appearance","outline",1,"float-start","w-100"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","my-1"],["color","primary",1,"float-start",3,"ngModel","ngModelChange","click"],[1,"col-12","my-1","float-start"],["min","0","max","100","step","5","showTickMarks","","discrete","",1,"w-100",3,"displayWith","disabled","click"],["matSliderThumb","",3,"ngModel","ngModelChange"],["cols","1","rowHeight","12:3"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["cols","2","rowHeight","12:6"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"click"],[1,"playing",2,"align-items","center","display","flex","height","100%","justify-content","center","width","100%"],["cols","1","rowHeight","9:2"],[2,"font-weight","bold","font-size","1.25rem"],[3,"value"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),o._uU(6,"arrow_back"),o.qZA()()(),o.TgZ(7,"div",4)(8,"div",5),o._uU(9,"Tres en linea"),o.qZA()()()(),o.YNc(10,gte,5,1,"mat-card-content",6),o.YNc(11,vte,7,2,"mat-card-content",6),o.TgZ(12,"mat-card-content")(13,"mat-grid-list",7)(14,"mat-grid-tile")(15,"div",8)(16,"div",9),o._uU(17,"T\xfa: X"),o.qZA()()(),o.TgZ(18,"mat-grid-tile")(19,"div",8)(20,"div",9),o._uU(21,"Robot: O"),o.qZA()()()()(),o.TgZ(22,"mat-card-content")(23,"mat-grid-list",10),o.NdJ("resize",function(u){return s.onResize(u)},!1,o.Jf7),o.TgZ(24,"mat-grid-tile")(25,"div",11),o.YNc(26,bte,4,3,"div",12),o.qZA()()()(),o.YNc(27,xte,4,1,"mat-card-content",6),o.TgZ(28,"mat-card-content")(29,"mat-accordion")(30,"mat-expansion-panel",13),o.NdJ("expandedChange",function(u){return s.panelOpenState=u})("opened",function(){return s.panelOpenState=!0})("closed",function(){return s.panelOpenState=!1}),o.TgZ(31,"mat-expansion-panel-header")(32,"mat-panel-title")(33,"div"),o._uU(34,"Ajustes del juego"),o.qZA()()(),o.TgZ(35,"mat-card-content",14)(36,"p",15)(37,"span",16),o._uU(38,"General"),o.qZA()(),o._UZ(39,"mat-divider"),o.TgZ(40,"div",17)(41,"div",1)(42,"div",18)(43,"div",19)(44,"mat-slide-toggle",20),o.NdJ("ngModelChange",function(u){return s.computerFirst=u}),o._uU(45,"El Robot empieza primero "),o.qZA()()(),o.TgZ(46,"div",18)(47,"mat-form-field",21)(48,"mat-label"),o._uU(49,"Nivel de Dificultad"),o.qZA(),o.TgZ(50,"mat-select",22),o.NdJ("ngModelChange",function(u){return s.defaultLevel=u}),o.YNc(51,Ete,2,2,"mat-option",23),o.qZA()()()()(),o.TgZ(52,"p",15)(53,"span",16),o._uU(54,"Control de sonido"),o.qZA()(),o._UZ(55,"mat-divider"),o.TgZ(56,"div",17)(57,"div",1)(58,"div",24)(59,"div",19)(60,"mat-slide-toggle",25),o.NdJ("ngModelChange",function(u){return s.defaultSettings.endgame.enabled=u})("click",function(){return s.onToggleChange("endgame",s.defaultSettings.endgame.enabled)}),o.TgZ(61,"span"),o._uU(62,"Sonido durante Sonido al terminar el juego"),o.qZA()()()(),o.TgZ(63,"div",26)(64,"mat-slider",27),o.NdJ("click",function(){return s.onVolumeChange("endgame",s.defaultSettings.endgame.volume)}),o.TgZ(65,"input",28),o.NdJ("ngModelChange",function(u){return s.defaultSettings.endgame.volume=u}),o.qZA()()()()(),o.TgZ(66,"div",17)(67,"div",1)(68,"div",24)(69,"div",19)(70,"mat-slide-toggle",25),o.NdJ("ngModelChange",function(u){return s.defaultSettings.background.enabled=u})("click",function(){return s.onToggleChange("background",s.defaultSettings.background.enabled)}),o.TgZ(71,"span"),o._uU(72,"Sonido durante el juego"),o.qZA()()()(),o.TgZ(73,"div",26)(74,"mat-slider",27),o.NdJ("click",function(){return s.onVolumeChange("background",s.defaultSettings.background.volume)}),o.TgZ(75,"input",28),o.NdJ("ngModelChange",function(u){return s.defaultSettings.background.volume=u}),o.qZA()()()()()()()()()()),2&r&&(o.xp6(10),o.Q6J("ngIf",!s.playing),o.xp6(1),o.Q6J("ngIf",s.playing),o.xp6(12),o.Q6J("cols",s.breakpoint)("rowHeight",s.breakpoint2+":"+s.breakpoint3),o.xp6(3),o.Q6J("ngForOf",s.gameState),o.xp6(1),o.Q6J("ngIf",!s.playing&&s.winner),o.xp6(3),o.Q6J("expanded",s.panelOpenState),o.xp6(14),o.Q6J("ngModel",s.computerFirst),o.xp6(6),o.Q6J("ngModel",s.defaultLevel),o.xp6(1),o.Q6J("ngForOf",s.levels),o.xp6(9),o.Q6J("ngModel",s.defaultSettings.endgame.enabled),o.xp6(4),o.Q6J("displayWith",s.formatLabel)("disabled",!s.defaultSettings.endgame.enabled),o.xp6(1),o.Q6J("ngModel",s.defaultSettings.endgame.volume),o.xp6(5),o.Q6J("ngModel",s.defaultSettings.background.enabled),o.xp6(4),o.Q6J("displayWith",s.formatLabel)("disabled",!s.defaultSettings.background.enabled),o.xp6(1),o.Q6J("ngModel",s.defaultSettings.background.volume))},dependencies:[Ms,Ti,Zk,Rw,Tg,Ig,Dg,Mg,T0,Og,Fw,R2,u6,Kk,Uw,O2,E6,B2,U2,x6,k6,hT,pl,kf,Lf,xl],styles:[".parent[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:0;grid-row-gap:0;font-size:1.25rem}.div0[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:5rem;background-color:#f1f1f1}.div1[_ngcontent-%COMP%]{grid-area:1/2/2/3;width:100%;height:5rem;background-color:#f8f8f8}.div2[_ngcontent-%COMP%]{grid-area:1/3/2/4;width:100%;height:5rem;background-color:#f1f1f1}.div3[_ngcontent-%COMP%]{grid-area:2/1/3/2;width:100%;height:5rem;background-color:#f8f8f8}.div4[_ngcontent-%COMP%]{grid-area:2/2/3/3;width:100%;height:5rem;background-color:#f1f1f1}.div5[_ngcontent-%COMP%]{grid-area:2/3/3/4;width:100%;height:5rem;background-color:#f8f8f8}.div6[_ngcontent-%COMP%]{grid-area:3/1/4/2;width:100%;height:5rem;background-color:#f1f1f1}.div7[_ngcontent-%COMP%]{grid-area:3/2/4/3;width:100%;height:5rem;background-color:#f8f8f8}.div8[_ngcontent-%COMP%]{grid-area:3/3/4/4;width:100%;height:5rem;background-color:#f1f1f1}.playing[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var Tte=C(6603),JI=C.n(Tte);const oU=[{shape:[[1,1,1,1]],color:"cyan"},{shape:[[1,1],[1,1]],color:"yellow"},{shape:[[0,1,0],[1,1,1]],color:"purple"},{shape:[[1,0,0],[1,1,1]],color:"green"},{shape:[[0,0,1],[1,1,1]],color:"red"},{shape:[[1,1,0],[0,1,1]],color:"blue"},{shape:[[0,1,1],[1,1,0]],color:"orange"}],aU={background:{enabled:!0,volume:15},endgame:{enabled:!0,volume:50}};function Mte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.startGame(!0))}),o._uU(1,"Empezar"),o.qZA()}}function Ate(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",25)(2,"mat-grid-tile")(3,"div",26),o.YNc(4,Mte,2,0,"button",27),o.qZA()()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",!t.playing)}}function kte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.restartGame(!0))}),o._uU(1,"Reiniciar"),o.qZA()}}function Rte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",33),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.endGame(!1))}),o._uU(1,"Terminar"),o.qZA()}}function Ote(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",29)(2,"mat-grid-tile")(3,"div",26),o.YNc(4,kte,2,0,"button",30),o.qZA()(),o.TgZ(5,"mat-grid-tile"),o.YNc(6,Rte,2,0,"button",31),o.qZA()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",t.playing),o.xp6(2),o.Q6J("ngIf",t.playing)}}function Pte(n,e){if(1&n&&(o.TgZ(0,"mat-option",34),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.value),o.xp6(1),o.Oqu(t.text)}}const Fte=[{path:"game",canActivate:[nU],children:[{path:"tres-en-linea",component:Ste},{path:"tetris",component:(()=>{const e=class{constructor(i){this.soundService=i,this.boardWidth=12,this.boardHeight=20,this.cellSize=20,this.levels=iU,this.panelOpenState=!1,this.playing=!1,this.defaultLevel="Normal",this.defaultSettings=aU,this.board=[]}ngOnInit(){this.initBoard(),this.initKonva(),this.soundService.initAudio("background","assets/sounds/theme_game.mp3",this.defaultSettings.background.volume,!0),this.soundService.initAudio("endgame","assets/sounds/end_game.mp3",this.defaultSettings.endgame.volume)}ngOnDestroy(){clearInterval(this.gameInterval),this.stopAudios()}defaultStart(i=!1,r){this.spawnPiece(),this.gameInterval=setInterval(()=>{this.isGameOver()?(clearInterval(this.gameInterval),this.soundService.playAudio("endgame")):this.movePiece(0,1)},500),r&&r(),this.checkEnabled("background")&&this.soundService.playAudio("background"),this.playing=i}endGame(i){var r=this;return(0,Ye.Z)(function*(){console.log("[TetrisComponent.endGame]"),r.playing=i,r.stopAudios(),r.gameInterval&&(clearInterval(r.gameInterval),r.initBoard(),r.initKonva())})()}restartGame(i){var r=this;return(0,Ye.Z)(function*(){console.log("[TetrisComponent.restartGame]"),clearInterval(r.gameInterval),r.defaultStart(i)})()}startGame(i){var r=this;return(0,Ye.Z)(function*(){console.log("[TetrisComponent.startGame]"),r.defaultStart(i)})()}stopAudios(){this.soundService.stopAudio("background"),this.soundService.stopAudio("endgame")}formatLabel(i){return i>=1e3?Math.round(i/1e3)+"k":`${i}`}initBoard(){this.board=Array.from({length:this.boardHeight},()=>new Array(this.boardWidth).fill(""))}initKonva(){this.stage=new(JI().Stage)({container:"tetris-board",width:this.boardWidth*this.cellSize,height:this.boardHeight*this.cellSize}),this.layer=new(JI().Layer),this.stage.add(this.layer),this.drawBoard()}drawBoard(){this.layer.destroyChildren();for(let i=0;i<this.boardHeight;i++)for(let r=0;r<this.boardWidth;r++){const s=new(JI().Rect)({x:r*this.cellSize,y:i*this.cellSize,width:this.cellSize,height:this.cellSize,fill:this.board[i][r]||"black",stroke:"grey",strokeWidth:1});this.layer.add(s)}this.layer.draw()}spawnPiece(){const i=oU[Math.floor(Math.random()*oU.length)];this.currentPiece={shape:i.shape,color:i.color,x:Math.floor(this.boardWidth/2)-1,y:0},this.draw()}draw(){this.drawBoard();const{shape:i,color:r,x:s,y:l}=this.currentPiece;for(let u=0;u<i.length;u++)for(let m=0;m<i[u].length;m++)if(i[u][m]){const y=new(JI().Rect)({x:(s+m)*this.cellSize,y:(l+u)*this.cellSize,width:this.cellSize,height:this.cellSize,fill:r,stroke:"grey",strokeWidth:1});this.layer.add(y)}this.layer.draw()}movePiece(i,r){this.currentPiece.x+=i,this.currentPiece.y+=r,this.canMove(0,0)||(this.currentPiece.x-=i,this.currentPiece.y-=r,1===r&&(this.mergePiece(),this.checkFullLines(),this.spawnPiece())),this.draw()}rotatePiece(){const i=this.currentPiece.shape[0].map((s,l)=>this.currentPiece.shape.map(u=>u[l]).reverse()),r=this.currentPiece.shape;this.currentPiece.shape=i,this.canMove(0,0)||(this.currentPiece.shape=r),this.draw()}handleKeyPress(i){switch(i.key){case"ArrowLeft":this.movePiece(-1,0);break;case"ArrowRight":this.movePiece(1,0);break;case"ArrowDown":this.movePiece(0,1);break;case"ArrowUp":this.rotatePiece()}}canMove(i,r){for(let s=0;s<this.currentPiece.shape.length;s++)for(let l=0;l<this.currentPiece.shape[s].length;l++){if(!this.currentPiece.shape[s][l])continue;const u=this.currentPiece.x+l+i,m=this.currentPiece.y+s+r;if(u<0||u>=this.boardWidth||m>=this.boardHeight||m>=0&&this.board[m][u])return!1}return!0}mergePiece(){for(let i=0;i<this.currentPiece.shape.length;i++)for(let r=0;r<this.currentPiece.shape[i].length;r++)this.currentPiece.shape[i][r]&&(this.board[this.currentPiece.y+i][this.currentPiece.x+r]=this.currentPiece.color)}checkFullLines(){for(let i=this.boardHeight-1;i>=0;i--)this.board[i].every(s=>""!==s)&&(this.board.splice(i,1),this.board.unshift(new Array(this.boardWidth).fill("")),i++)}isGameOver(){const i=this.board[0].some(r=>""!==r);return console.log({isBoardFull:i}),i}onToggleChange(i,r){r?this.checkEnabled(i)&&this.soundService.playAudio(i):this.soundService.stopAudio(i)}checkEnabled(i){return aU[i].enabled}onVolumeChange(i,r){this.soundService.setAudioVolume(i,r)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(sU))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-tetris"]],hostBindings:function(r,s){1&r&&o.NdJ("keydown",function(u){return s.handleKeyPress(u)},!1,o.Jf7)},decls:61,vars:13,consts:[[1,"my-3"],[1,"row"],[1,"col-2","my-auto"],["mat-icon-button","","routerLink","/home","color","primary","size","small"],[1,"col-10","my-auto"],[1,"h4","float-end"],[4,"ngIf"],[1,"col-12","mx-auto","my-3"],["id","game-container"],["id","tetris-board"],[2,"background-color","#fce9f0",3,"expanded","expandedChange","opened","closed"],[1,"mx-0","px-0"],[1,"align-content-start","my-0"],[1,"float-start"],[1,"w-auto","align-content-start","my-3"],[1,"col-12","my-2"],["appearance","outline",1,"float-start","w-100"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","my-1"],[1,"w-100"],["color","primary",1,"float-start",3,"ngModel","ngModelChange","click"],[1,"col-12","my-1","float-start"],["min","0","max","100","step","5","showTickMarks","","discrete","",1,"w-100",3,"displayWith","disabled","click"],["matSliderThumb","",3,"ngModel","ngModelChange"],["cols","1","rowHeight","12:3"],[2,"text-align","center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["cols","2","rowHeight","12:6"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),o._uU(6,"arrow_back"),o.qZA()()(),o.TgZ(7,"div",4)(8,"div",5),o._uU(9,"Tetris"),o.qZA()()()(),o.YNc(10,Ate,5,1,"mat-card-content",6),o.YNc(11,Ote,7,2,"mat-card-content",6),o.TgZ(12,"mat-card-content")(13,"div",1)(14,"div",7)(15,"div",8),o._UZ(16,"div",9),o.qZA()()()(),o.TgZ(17,"mat-card-content")(18,"mat-accordion")(19,"mat-expansion-panel",10),o.NdJ("expandedChange",function(u){return s.panelOpenState=u})("opened",function(){return s.panelOpenState=!0})("closed",function(){return s.panelOpenState=!1}),o.TgZ(20,"mat-expansion-panel-header")(21,"mat-panel-title")(22,"div"),o._uU(23,"Ajustes del juego"),o.qZA()()(),o.TgZ(24,"mat-card-content",11)(25,"p",12)(26,"span",13),o._uU(27,"General"),o.qZA()(),o._UZ(28,"mat-divider"),o.TgZ(29,"div",14)(30,"div",1)(31,"div",15)(32,"mat-form-field",16)(33,"mat-label"),o._uU(34,"Dificultad"),o.qZA(),o.TgZ(35,"mat-select",17),o.NdJ("ngModelChange",function(u){return s.defaultLevel=u}),o.YNc(36,Pte,2,2,"mat-option",18),o.qZA()()()()(),o.TgZ(37,"p",12)(38,"span",13),o._uU(39,"Control de sonido"),o.qZA()(),o._UZ(40,"mat-divider"),o.TgZ(41,"div",14)(42,"div",1)(43,"div",19)(44,"div",20)(45,"mat-slide-toggle",21),o.NdJ("ngModelChange",function(u){return s.defaultSettings.endgame.enabled=u})("click",function(){return s.onToggleChange("endgame",s.defaultSettings.endgame.enabled)}),o.TgZ(46,"span"),o._uU(47,"Sonido al terminar el juego"),o.qZA()()()(),o.TgZ(48,"div",22)(49,"mat-slider",23),o.NdJ("click",function(){return s.onVolumeChange("endgame",s.defaultSettings.endgame.volume)}),o.TgZ(50,"input",24),o.NdJ("ngModelChange",function(u){return s.defaultSettings.endgame.volume=u}),o.qZA()()()()(),o.TgZ(51,"div",14)(52,"div",1)(53,"div",19)(54,"div",20)(55,"mat-slide-toggle",21),o.NdJ("ngModelChange",function(u){return s.defaultSettings.background.enabled=u})("click",function(){return s.onToggleChange("background",s.defaultSettings.background.enabled)}),o.TgZ(56,"span"),o._uU(57,"Sonido durante el juego"),o.qZA()()()(),o.TgZ(58,"div",22)(59,"mat-slider",23),o.NdJ("click",function(){return s.onVolumeChange("background",s.defaultSettings.background.volume)}),o.TgZ(60,"input",24),o.NdJ("ngModelChange",function(u){return s.defaultSettings.background.volume=u}),o.qZA()()()()()()()()()()),2&r&&(o.xp6(10),o.Q6J("ngIf",!s.playing),o.xp6(1),o.Q6J("ngIf",s.playing),o.xp6(8),o.Q6J("expanded",s.panelOpenState),o.xp6(16),o.Q6J("ngModel",s.defaultLevel),o.xp6(1),o.Q6J("ngForOf",s.levels),o.xp6(9),o.Q6J("ngModel",s.defaultSettings.endgame.enabled),o.xp6(4),o.Q6J("displayWith",s.formatLabel)("disabled",!s.defaultSettings.endgame.enabled),o.xp6(1),o.Q6J("ngModel",s.defaultSettings.endgame.volume),o.xp6(5),o.Q6J("ngModel",s.defaultSettings.background.enabled),o.xp6(4),o.Q6J("displayWith",s.formatLabel)("disabled",!s.defaultSettings.background.enabled),o.xp6(1),o.Q6J("ngModel",s.defaultSettings.background.volume))},dependencies:[Ms,Ti,Zk,Rw,Tg,Ig,Dg,Mg,T0,Og,Fw,R2,u6,Kk,Uw,O2,E6,B2,U2,x6,k6,hT,pl,kf,Lf,xl],styles:["#game-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f6f6f6}#tetris-board[_ngcontent-%COMP%]{border:2px solid #000}"]}),n})()}]}];let Nte=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[ii,fT,uh,mg.forRoot(Fte,{useHash:!0})]}),n})();var Lte=C(5032);class Dh{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return lU(this,e)}do(e,t,i){const{kind:r,value:s,error:l}=this;return"N"===r?e?.(s):"E"===r?t?.(l):i?.()}accept(e,t,i){var r;return(0,as.m)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,r="N"===e?(0,At.of)(t):"E"===e?Xo(()=>i):"C"===e?Ns.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new Dh("N",e)}static createError(e){return new Dh("E",void 0,e)}static createComplete(){return Dh.completeNotification}}function lU(n,e){var t,i,r;const{kind:s,value:l,error:u}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,l):"E"===s?null===(i=e.error)||void 0===i||i.call(e,u):null===(r=e.complete)||void 0===r||r.call(e)}function cU(n,e,t,i){return(0,ls.e)((r,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:i}=e):l=e;const u=new Map,m=pe=>{u.forEach(pe),pe(s)},y=pe=>m(Ie=>Ie.error(pe));let w=0,P=!1;const Q=new wr.Q(s,pe=>{try{const Ie=n(pe);let ke=u.get(Ie);if(!ke){u.set(Ie,ke=i?i():new en.x);const rt=function le(pe,Ie){const ke=new nr.y(rt=>{w++;const ht=Ie.subscribe(rt);return()=>{ht.unsubscribe(),0==--w&&P&&Q.unsubscribe()}});return ke.key=pe,ke}(Ie,ke);if(s.next(rt),t){const ht=(0,wr.x)(ke,()=>{ke.complete(),ht?.unsubscribe()},void 0,void 0,()=>u.delete(Ie));Q.add((0,Fd.Xf)(t(rt)).subscribe(ht))}}ke.next(l?l(pe):pe)}catch(Ie){y(Ie)}},()=>m(pe=>pe.complete()),y,()=>u.clear(),()=>(P=!0,0===w));r.subscribe(Q)})}function dU(n,e){return e?t=>t.pipe(dU((i,r)=>(0,Fd.Xf)(n(i,r)).pipe((0,Ot.U)((s,l)=>e(i,s,r,l))))):(0,ls.e)((t,i)=>{let r=0,s=null,l=!1;t.subscribe((0,wr.x)(i,u=>{s||(s=(0,wr.x)(i,void 0,()=>{s=null,l&&i.complete()}),(0,Fd.Xf)(n(u,r++)).subscribe(s))},()=>{l=!0,!s&&i.complete()}))})}Dh.completeNotification=new Dh("C");const eD="__@ngrx/effects_create__";function hU(n){return Object.getPrototypeOf(n)}function DF(n){return"function"==typeof n}function MF(n){return n.filter(DF)}function zte(n,e,t){const i=hU(n).constructor.name,r=function uU(n){return function jte(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(eD))&&n[i][eD].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][eD]}))}(n)}(n).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:u})=>{const m="function"==typeof n[s]?n[s]():n[s],y=u?t(m,e):m;return!1===l?y.pipe(function Bte(){return(0,ls.e)((n,e)=>{n.subscribe((0,wr.x)(e,Lte.Z))})}()):y.pipe(function Ute(){return(0,ls.e)((n,e)=>{n.subscribe((0,wr.x)(e,t=>{e.next(Dh.createNext(t))},()=>{e.next(Dh.createComplete()),e.complete()},t=>{e.next(Dh.createError(t)),e.complete()}))})}()).pipe((0,Ot.U)(P=>({effect:n[s],notification:P,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,Cl.T)(...r)}const $te=10;function fU(n,e,t=$te){return n.pipe((0,Na.K)(i=>(e&&e.handleError(i),t<=1?n:fU(n,e,t-1))))}let Wte=(()=>{class n extends nr.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Us.Y$))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mU=new o.OlP("@ngrx/effects Internal Root Guard"),tD=new o.OlP("@ngrx/effects User Provided Effects"),AF=new o.OlP("@ngrx/effects Internal Root Effects"),pU=new o.OlP("@ngrx/effects Internal Root Effects Instances"),gU=new o.OlP("@ngrx/effects Internal Feature Effects"),_U=new o.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),qte=new o.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>fU}),yU="@ngrx/effects/init";(0,Us.PH)(yU);const Jte="ngrxOnIdentifyEffects",ine="ngrxOnInitEffects";function rne(n){return kF(n,ine)}function kF(n,e){return n&&e in n&&"function"==typeof n[e]}let RF=(()=>{class n extends en.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(cU(t=>function Gte(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?hU(t):t),(0,cs.z)(t=>t.pipe(cU(sne))),(0,cs.z)(t=>{const i=t.pipe(dU(s=>function one(n,e){return t=>{const i=zte(t,n,e);return function nne(n){return kF(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,Ot.U)(s=>(function Yte(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function Zte(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function Xte({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Qte(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,Li.h)(s=>"N"===s.kind&&null!=s.value),function Vte(){return(0,ls.e)((n,e)=>{n.subscribe((0,wr.x)(e,t=>lU(t,e)))})}()),r=t.pipe((0,Kr.q)(1),(0,Li.h)(rne),(0,Ot.U)(s=>s.ngrxOnInitEffects()));return(0,Cl.T)(i,r)}))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.qLn),o.LFG(qte))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sne(n){return function ene(n){return kF(n,Jte)}(n)?n.ngrxOnIdentifyEffects():""}let OF=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(RF),o.LFG(Us.yh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vU=(()=>{class n{constructor(t,i,r,s,l,u,m){this.sources=t,i.start();for(const y of s)t.addEffects(y);r.dispatch({type:yU})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(RF),o.LFG(OF),o.LFG(Us.yh),o.LFG(pU),o.LFG(Us.cr,8),o.LFG(Us.CK,8),o.LFG(mU,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),ane=(()=>{class n{constructor(t,i,r,s){const l=i.flat();for(const u of l)t.addEffects(u)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(vU),o.LFG(_U),o.LFG(Us.cr,8),o.LFG(Us.CK,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),bU=(()=>{class n{static forFeature(...t){const i=t.flat(),r=MF(i);return{ngModule:ane,providers:[r,{provide:gU,multi:!0,useValue:i},{provide:tD,multi:!0,useValue:[]},{provide:_U,multi:!0,useFactory:wU,deps:[gU,tD]}]}}static forRoot(...t){const i=t.flat(),r=MF(i);return{ngModule:vU,providers:[r,{provide:AF,useValue:[i]},{provide:mU,useFactory:lne},{provide:tD,multi:!0,useValue:[]},{provide:pU,useFactory:wU,deps:[AF,tD]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function wU(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>DF(i)?(0,o.f3M)(i):i)}function lne(){const n=(0,o.f3M)(OF,{optional:!0,skipSelf:!0}),e=(0,o.f3M)(AF,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let cne=(()=>{const e=class{constructor(i,r){this.actions$=i,this.store$=r}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(Wte),o.LFG(Us.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),n})();const une=(0,Us.Tz)({name:"auth",reducer:(0,Us.Lq)({isLoggedIn:!1},(0,Us.on)(R6.setUserLoggedIn,(n,e)=>({isLoggedIn:e.userAuthenticated})))});function hne(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"El usuario o la contrase\xf1a no es v\xe1lido"),o.qZA())}function fne(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Entrar"),o.qZA()}}function mne(n,e){1&n&&(o.TgZ(0,"button",15),o._uU(1,"Entrando..."),o.qZA())}let pne=(()=>{const e=class{constructor(i,r){this.formBuilder=i,this.authService=r,this.loading=!1,this.hidePwd=!0,this.formGroup=i.group({email:i.control("invitado@gmail.com",[Ko.required,Ko.email]),password:i.control("Invitado2023.",[Ko.required])})}onSubmit(){var i=this;return(0,Ye.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r,password:s}=i.formGroup.value;return i.authService.signIn(r,s).catch(()=>{i.submitted=!1,i.loading=!1})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(OC),o.Y36(fv))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:36,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"row"],[1,"col","col-12"],[1,"float-end"],["mat-button","","routerLink","/forgot"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","disabled","",4,"ngIf"],["mat-button","","routerLink","/register"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","disabled",""]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"Inicio de sesi\xf3n"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un email v\xe1lido"),o.qZA()(),o.TgZ(13,"mat-form-field",2)(14,"mat-label"),o._uU(15,"Contrase\xf1a"),o.qZA(),o._UZ(16,"input",4),o.TgZ(17,"button",5),o.NdJ("click",function(){return s.hidePwd=!s.hidePwd}),o.TgZ(18,"mat-icon"),o._uU(19),o.qZA()(),o.TgZ(20,"mat-error"),o._uU(21,"Ingrese una contrase\xf1a v\xe1lida"),o.qZA()(),o.TgZ(22,"div",6)(23,"div",7)(24,"div",8)(25,"a",9),o._uU(26,"Olvide mi contrase\xf1a"),o.qZA()()()(),o.YNc(27,hne,2,0,"mat-error",10),o.qZA()()(),o.TgZ(28,"mat-card-footer"),o.YNc(29,fne,2,0,"button",11),o.YNc(30,mne,2,0,"button",12),o.qZA(),o.TgZ(31,"mat-card-footer")(32,"div"),o._uU(33,"\xbfNo tienes una cuenta? "),o.TgZ(34,"a",13),o._uU(35,"registrate"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(11),o.Q6J("type",s.hidePwd?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hidePwd),o.xp6(2),o.Oqu(s.hidePwd?"visibility_off":"visibility"),o.xp6(8),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Ti,t2,Rw,Tg,Xk,o4,Ig,Dg,KS,Mg,T0,v2,Og,Fw,Uw,Sy,pl,kf,dy,Vf,Bd,Iy,xl]}),n})();function gne(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"El usuario no se ha registrado, vuelve a intentarlo"),o.qZA())}function _ne(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Registar"),o.qZA()}}function yne(n,e){1&n&&(o.TgZ(0,"button",12),o._uU(1,"Registrando..."),o.qZA()),2&n&&o.Q6J("disabled",!0)}let vne=(()=>{const e=class{constructor(i,r,s,l){this.formBuilder=i,this.route=r,this.router=s,this.authService=l,this.loading=!1,this.hidePwd=!0,this.formGroup=i.group({displayName:i.control(null,[Ko.required]),email:i.control(null,[Ko.required,Ko.email]),password:i.control(null,[Ko.required,Ko.minLength(6)])})}ngOnInit(){this.formGroup.reset({displayName:null,email:null,password:null,emailVerified:null,photoURL:null})}onSubmit(){var i=this;return(0,Ye.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r,password:s}=i.formGroup.value;return i.authService.signUp(r,s).catch(l=>{i.submitted=!1,i.loading=!1})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(OC),o.Y36(Gd),o.Y36(Zr),o.Y36(fv))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-register"]],decls:37,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["matInput","","formControlName","displayName","name","displayname","required",""],["matInput","","type","email","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"Crear usuario"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Nombre completo"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un nombre v\xe1lido"),o.qZA()(),o.TgZ(13,"mat-form-field",2)(14,"mat-label"),o._uU(15,"Email"),o.qZA(),o._UZ(16,"input",4),o.TgZ(17,"mat-error"),o._uU(18,"Ingrese un email v\xe1lido"),o.qZA()(),o.TgZ(19,"mat-form-field",2)(20,"mat-label"),o._uU(21,"Contrase\xf1a"),o.qZA(),o._UZ(22,"input",5),o.TgZ(23,"button",6),o.NdJ("click",function(){return s.hidePwd=!s.hidePwd}),o.TgZ(24,"mat-icon"),o._uU(25),o.qZA()(),o.TgZ(26,"mat-error"),o._uU(27,"Ingrese una contrase\xf1a v\xe1lida"),o.qZA()(),o.YNc(28,gne,2,0,"mat-error",7),o.qZA()()(),o.TgZ(29,"mat-card-footer"),o.YNc(30,_ne,2,0,"button",8),o.YNc(31,yne,2,1,"button",9),o.qZA(),o.TgZ(32,"mat-card-footer")(33,"div"),o._uU(34,"Ya tengo una cuenta "),o.TgZ(35,"a",10),o._uU(36,"Iniciar sesi\xf3n"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(17),o.Q6J("type",s.hidePwd?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hidePwd),o.xp6(2),o.Oqu(s.hidePwd?"visibility_off":"visibility"),o.xp6(3),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Ti,t2,Rw,Tg,Xk,o4,Ig,Dg,KS,Mg,T0,v2,Og,Fw,Uw,Sy,pl,kf,dy,Vf,Bd,Iy,xl]}),n})();function bne(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"No se ha enviado el enlace"),o.qZA())}function wne(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Enviar enlace"),o.qZA()}}function xne(n,e){1&n&&(o.TgZ(0,"button",9),o._uU(1,"Enviando..."),o.qZA()),2&n&&o.Q6J("disabled",!0)}const Ene=[{path:"login",component:pne},{path:"register",component:vne},{path:"forgot",component:(()=>{const e=class{constructor(i,r,s,l,u){this.formBuilder=i,this.route=r,this.router=s,this.authService=l,this.snackBar=u,this.loading=!1,this.formGroup=i.group({email:i.control(null,[Ko.required,Ko.email])})}onSubmit(){var i=this;return(0,Ye.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r}=i.formGroup.value;return i.authService.forgotPassword(r).then(()=>{i.submitted=void 0,i.loading=!1,i.snackBar.open("Enlace enviado con \xe9xito, porfavor revise su correo","",{duration:3e3})}).catch(()=>{i.submitted=!1,i.loading=!1,i.snackBar.open("El enlace no se ha enviado","",{duration:3e3})})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(OC),o.Y36(Gd),o.Y36(Zr),o.Y36(fv),o.Y36(Iq))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-forgot"]],decls:22,vars:4,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"\xbfOlvidaste tu contrase\xf1a?"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un email v\xe1lido"),o.qZA()(),o.YNc(13,bne,2,0,"mat-error",4),o.qZA()()(),o.TgZ(14,"mat-card-footer"),o.YNc(15,wne,2,0,"button",5),o.YNc(16,xne,2,1,"button",6),o.qZA(),o.TgZ(17,"mat-card-footer")(18,"div"),o._uU(19,"Ya tengo una cuenta "),o.TgZ(20,"a",7),o._uU(21,"Iniciar sesi\xf3n"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(8),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Ti,t2,Rw,Tg,Xk,Ig,Dg,KS,Mg,v2,Og,Uw,Sy,pl,kf,dy,Vf,Bd,Iy,xl]}),n})()}];let Cne=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[ii,fT,uh,mg.forRoot(Ene,{useHash:!0}),Us.Aw.forFeature(une),bU.forFeature([cne])]}),n})(),Sne=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[PC,ute,Nte,Cne]}),n})();function Tne(n,e){1&n&&(o.TgZ(0,"button",7)(1,"mat-icon"),o._uU(2,"home"),o.qZA(),o._uU(3,"Inicio"),o.qZA())}function Ine(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.logout())}),o.TgZ(1,"mat-icon"),o._uU(2,"exit_to_app"),o.qZA(),o._uU(3," Salir "),o.qZA()}}let Dne=(()=>{const e=class{constructor(i){this.authService=i,this.title="GAME APPS",this.destroySub=new en.x}ngOnDestroy(){this.destroySub.next()}get isAuthenticated(){return this.authService.isUserAuthenticated}logout(){var i=this;return(0,Ye.Z)(function*(){return i.authService.signOut()})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(fv))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-root"]],decls:12,vars:3,consts:[["color","primary",1,"border-0"],["role","button","mat-button","","routerLink","/"],[1,"bg-transparent"],["color","accent",1,"border-0"],["mat-button","","routerLink","/home",4,"ngIf"],[1,"example-spacer"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/home"],["mat-button","",3,"click"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"button",1)(3,"mat-icon"),o._uU(4,"grid_view"),o.qZA(),o._uU(5),o.qZA()()(),o._UZ(6,"mat-divider",2),o.TgZ(7,"mat-toolbar",3),o.YNc(8,Tne,4,0,"button",4),o._UZ(9,"span",5),o.YNc(10,Ine,4,0,"button",6),o.qZA(),o._UZ(11,"router-outlet")),2&r&&(o.xp6(5),o.hij(" ",s.title," "),o.xp6(3),o.Q6J("ngIf",s.isAuthenticated),o.xp6(2),o.Q6J("ngIf",s.isAuthenticated))},dependencies:[Ti,m1,xl,Zk,LG,X3,T0,Og],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#000!important}"]}),n})();var Mne=C(1365);class kne{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,fe.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,fe.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Rne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,fe.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kne(e)}}catch{}return new Rne},o_=SU("localStorage"),FF=SU("sessionStorage"),mv=new bc.Yd("@firebase/database"),TU=function(){let n=1;return function(){return n++}}(),IU=function(n){const e=(0,fe.dS)(n),t=new fe.gQ;t.update(e);const i=t.digest();return fe.US.encodeByteArray(i)},nE=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=nE.apply(null,i):e+="object"==typeof i?(0,fe.Wl)(i):i,e+=" "}return e};let a_=null,DU=!0;const Ts=function(...n){if(!0===DU&&(DU=!1,null===a_&&!0===FF.get("logging_enabled")&&function(n,e){(0,fe.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(mv.logLevel=bc.in.VERBOSE,a_=mv.log.bind(mv),e&&FF.set("logging_enabled",!0)):"function"==typeof n?a_=n:(a_=null,FF.remove("logging_enabled"))}(!0)),a_){const e=nE.apply(null,n);a_(e)}},iE=function(n){return function(...e){Ts(n,...e)}},NF=function(...n){const e="FIREBASE INTERNAL ERROR: "+nE(...n);mv.error(e)},lo=function(...n){const e="FIREBASE WARNING: "+nE(...n);mv.warn(e)},nD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jm="[MIN_NAME]",Mh="[MAX_NAME]",l_=function(n,e){if(n===e)return 0;if(n===jm||e===Mh)return-1;if(e===jm||n===Mh)return 1;{const t=RU(n),i=RU(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},rE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,fe.Wl)(e))},LF=function(n){if("object"!=typeof n||null===n)return(0,fe.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,fe.Wl)(e[i]),t+=":",t+=LF(n[e[i]]);return t+="}",t},AU=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Is(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const kU=function(n){(0,fe.hu)(!nD(n),"Invalid JSON number");const i=1023;let r,s,l,u,m;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,l=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const w=y.join("");let P="";for(m=0;m<64;m+=8){let Q=parseInt(w.substr(m,8),2).toString(16);1===Q.length&&(Q="0"+Q),P+=Q}return P.toLowerCase()},Une=new RegExp("^-?(0*)\\d{1,10}$"),RU=function(n){if(Une.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},pv=function(n){try{n()}catch(e){setTimeout(()=>{throw lo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},sE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};const LU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VU="websocket",HU="long_polling";function jU(n,e,t){let i;if((0,fe.hu)("string"==typeof e,"typeof type must == string"),(0,fe.hu)("object"==typeof t,"typeof params must == object"),e===VU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==HU)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function $ne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Is(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class Wne{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,fe.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,fe.p$)(this.counters_)}}const VF={};function jF(n){const e=n.toString();return VF[e]||(VF[e]=new Wne),VF[e]}class Kne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&pv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gm{constructor(e,t,i,r,s,l,u){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=iE(e),this.stats_=jF(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),jU(t,HU,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Kne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,fe.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GF((...s)=>{const[l,u,m,y,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&LU.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gm.forceAllow_=!0}static forceDisallow(){Gm.forceDisallow_=!0}static isAvailable(){return!((0,fe.Yr)()||!Gm.forceAllow_&&(Gm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,fe.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,fe.h$)(t),r=AU(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,fe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,fe.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GF{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,fe.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=TU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){Ts("frame writing exception"),u.stack&&Ts(u.stack),Ts(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ts("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,fe.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ts("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let rD=null;typeof MozWebSocket<"u"?rD=MozWebSocket:typeof WebSocket<"u"&&(rD=WebSocket);let gv=(()=>{class n{constructor(t,i,r,s,l,u,m){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=iE(this.connId),this.stats_=jF(i),this.connURL=n.connectionURL_(i,u,m,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const u={v:"5"};return!(0,fe.Yr)()&&typeof location<"u"&&location.hostname&&LU.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),s&&(u.ac=s),l&&(u.p=l),jU(t,VU,u)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,o_.set("previous_websocket_failure",!0);try{let r;if((0,fe.Yr)()){r={headers:{"User-Agent":`Firebase/5//${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new rD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==rD&&!n.forceDisallow_}static previouslyFailed(){return o_.isInMemoryStorage||!0===o_.get("previous_websocket_failure")}markConnectionHealthy(){o_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,fe.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,fe.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,fe.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=AU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),YU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Gm,gv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=gv&&gv.isAvailable();let r=i&&!gv.previouslyFailed();if(t.webSocketOnly&&(i||lo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[gv];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class nV{constructor(e,t,i,r,s,l,u,m,y,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=iE("c:"+this.id+":"),this.transportManager_=new YU(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=sE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=rE("t",e),i=rE("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=rE("t",e),i=rE("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=rE("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?NF("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NF("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&lo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),sE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(o_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class iV{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class rV{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,fe.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,fe.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class sD extends rV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,fe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sD}getInitialEvent(e){return(0,fe.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class mi{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Pn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zm(n){return n.pieces_.length-n.pieceNum_}function Oi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new mi(n.pieces_,e)}function Fn(n){return n.pieceNum_>=n.pieces_.length}class qF extends rV{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qF}getInitialEvent(e){return(0,fe.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const lE=1e3;let aD,d_=(()=>{class n extends iV{constructor(t,i,r,s,l,u,m,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=iE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,fe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qF.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&sD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,fe.Wl)(l)),(0,fe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new fe.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const m=u.d;"ok"===u.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,fe.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(u).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const y=m.d,w=m.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",m),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,fe.r3)(t,"w")){const r=(0,fe.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();lo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,fe.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,fe.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,u=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,fe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const u={p:i,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,fe.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):NF("Unrecognized action received from server: "+(0,fe.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,fe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ye.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let m=!1,y=null;const w=function(){y?y.close():(m=!0,s())};t.realtime_={close:w,sendRequest:function(le){(0,fe.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(le)}};const Q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[le,pe]=yield Promise.all([t.authTokenProvider_.getToken(Q),t.appCheckTokenProvider_.getToken(Q)]);m?Ts("getToken() completed but was canceled"):(Ts("getToken() completed. Creating connection."),t.authToken_=le&&le.accessToken,t.appCheckToken_=pe&&pe.token,y=new nV(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Ie=>{lo(Ie+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(le){t.log_("Failed to get token: "+le),m||(t.repoInfo_.nodeAdmin&&lo(le),w())}}})()}interrupt(t){Ts("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ts("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,fe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>LF(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new mi(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ts("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ts("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,fe.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+"".replace(/\./g,"-")]=1,(0,fe.uI)()?t["framework.cordova"]=1:(0,fe.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=sD.getInstance().currentlyOnline();return(0,fe.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Nn(e,t)}}class oD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Nn(jm,e),r=new Nn(jm,t);return 0!==this.compare(i,r)}minPost(){return Nn.MIN}}class uV extends oD{static get __EMPTY_NODE(){return aD}static set __EMPTY_NODE(e){aD=e}compare(e,t){return l_(e.name,t.name)}isDefinedOn(e){throw(0,fe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Nn.MIN}maxPost(){return new Nn(Mh,aD)}makePost(e,t){return(0,fe.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Nn(e,aD)}toString(){return".key"}}const ou=new uV;class lD{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Cc=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??sa.EMPTY_NODE,this.right=l??sa.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return sa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return sa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Cie{copy(e,t,i,r,s){return this}insert(e,t,i){return new Cc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sa{constructor(e,t=sa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Cc.BLACK,null,null))}remove(e){return new sa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lD(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lD(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lD(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lD(this.root_,null,this.comparator_,!0,e)}}function KF(n,e){return l_(n,e)}sa.EMPTY_NODE=new Cie;const hV=function(n){return"number"==typeof n?"number:"+kU(n):"string:"+n},fV=function(n){if(n.isLeafNode()){const e=n.val();(0,fe.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,fe.r3)(e,".sv"),"Priority must be a string or number.")}else(0,fe.hu)(undefined===n||n.isEmpty(),"priority of unexpected type.");(0,fe.hu)(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mV,_v=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,fe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fV(this.priorityNode_)}static set __childrenNodeConstructor(t){mV=t}static get __childrenNodeConstructor(){return mV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Fn(t)?this:".priority"===Pn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Pn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,fe.hu)(".priority"!==r||1===zm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+hV(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?kU(this.value_):this.value_,this.lazyHash_=IU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,fe.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,fe.hu)(s>=0,"Unknown leaf type: "+i),(0,fe.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class Mie extends oD{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?l_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Nn.MIN}maxPost(){return new Nn(Mh,new _v("[PRIORITY-POST]",undefined))}makePost(e,t){const i=undefined(e);return new Nn(t,new _v("[PRIORITY-POST]",i))}toString(){return".priority"}}const Vi=new Mie,Aie=Math.log(2);class kie{constructor(e){this.count=parseInt(Math.log(e+1)/Aie,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cD=function(n,e,t,i){n.sort(e);const r=function(m,y){const w=y-m;let P,Q;if(0===w)return null;if(1===w)return P=n[m],Q=t?t(P):P,new Cc(Q,P.node,Cc.BLACK,null,null);{const le=parseInt(w/2,10)+m,pe=r(m,le),Ie=r(le+1,y);return P=n[le],Q=t?t(P):P,new Cc(Q,P.node,Cc.BLACK,pe,Ie)}},u=function(m){let y=null,w=null,P=n.length;const Q=function(pe,Ie){const ke=P-pe,rt=P;P-=pe;const ht=r(ke+1,rt),mt=n[ke],Ct=t?t(mt):mt;le(new Cc(Ct,mt.node,Ie,null,ht))},le=function(pe){y?(y.left=pe,y=pe):(w=pe,y=pe)};for(let pe=0;pe<m.count;++pe){const Ie=m.nextBitIsOne(),ke=Math.pow(2,m.count-(pe+1));Ie?Q(ke,Cc.BLACK):(Q(ke,Cc.BLACK),Q(ke,Cc.RED))}return w}(new kie(n.length));return new sa(i||e,u)};let ZF;const yv={};class Ah{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,fe.hu)(yv&&Vi,"ChildrenNode.ts has not been loaded"),ZF=ZF||new Ah({".priority":yv},{".priority":Vi}),ZF}get(e){const t=(0,fe.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sa?t:null}hasIndex(e){return(0,fe.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,fe.hu)(e!==ou,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Nn.Wrap);let u,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();u=r?cD(i,e.getCompare()):yv;const m=e.toString(),y=Object.assign({},this.indexSet_);y[m]=e;const w=Object.assign({},this.indexes_);return w[m]=u,new Ah(w,y)}addToIndexes(e,t){const i=(0,fe.UI)(this.indexes_,(r,s)=>{const l=(0,fe.DV)(this.indexSet_,s);if((0,fe.hu)(l,"Missing index implementation for "+s),r===yv){if(l.isDefinedOn(e.node)){const u=[],m=t.getIterator(Nn.Wrap);let y=m.getNext();for(;y;)y.name!==e.name&&u.push(y),y=m.getNext();return u.push(e),cD(u,l.getCompare())}return yv}{const u=t.get(e.name);let m=r;return u&&(m=m.remove(new Nn(e.name,u))),m.insert(e,e.node)}});return new Ah(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,fe.UI)(this.indexes_,r=>{if(r===yv)return r;{const s=t.get(e.name);return s?r.remove(new Nn(e.name,s)):r}});return new Ah(i,this.indexSet_)}}let cE,Tn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fV(this.priorityNode_),this.children_.isEmpty()&&(0,fe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cE||(cE=new n(new sa(KF),null,Ah.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?cE:i}}getChild(t){const i=Pn(t);return null===i?this:this.getImmediateChild(i).getChild(Oi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,fe.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Nn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?cE:this.priorityNode_;return new n(s,u,l)}}updateChild(t,i){const r=Pn(t);if(null===r)return i;{(0,fe.hu)(".priority"!==Pn(t)||1===zm(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Oi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Vi,(u,m)=>{i[u]=m.val(t),r++,l&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):l=!1}),!t&&l&&s<2*r){const u=[];for(const m in i)u[m]=i[m];return u}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+hV(this.getPriority().val())+":"),this.forEachChild(Vi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":IU(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new Nn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Nn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Nn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Nn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Nn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===dE?-1:0}withIndex(t){if(t===ou||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ou||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Vi),s=i.getIterator(Vi);let l=r.getNext(),u=s.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=s.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(t){return t===ou?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class Rie extends Tn{constructor(){super(new sa(KF),Tn.EMPTY_NODE,Ah.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Tn.EMPTY_NODE}isEmpty(){return!1}}const dE=new Rie;uV.__EMPTY_NODE=Tn.EMPTY_NODE,_v.__childrenNodeConstructor=Tn;d_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},d_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};function AH(n){return null==n}function kH(n){return"function"==typeof n.set}function RH(n,e){return kH(e)?e:n.ref(e)}function OH(n,e){if(function Soe(n){return"string"==typeof n}(n))return e.stringCase();if(kH(n))return e.firebaseCase();if(function Toe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function AE(n,e,t="on",i=Wd.z){return new nr.y(r=>{let s=null;return s=n[t](e,(l,u)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Ot.U)(r=>{const{snapshot:s,prevKey:l}=r;let u=null;return s.exists()&&(u=s.key),{type:e,payload:s,prevKey:l,key:u}}),(0,h2.B)())}function PH(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Moe(n,e){const{payload:t,prevKey:i,key:r}=e,s=PH(n,r),l=function Doe(n,e){if(AH(e))return 0;{const t=PH(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let u=null;e.payload.forEach(m=>{const y={payload:m,type:"value",prevKey:u,key:m.key};return u=m.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(u=>u.payload.key!==t.key);case"child_changed":return n.map(u=>u.payload.key===r?e:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,u),n}return n;default:return n}}function FH(n){return(AH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function NH(n,e,t){return function Ioe(n,e,t){return AE(n,"value","once",t).pipe((0,Ni.w)(i=>{const r=[(0,At.of)(i)];return e.forEach(s=>r.push(AE(n,s,"on",t))),(0,Cl.T)(...r).pipe((0,eh.R)(Moe,[]))}),(0,Cg.x)())}(n,e=FH(e),t)}function LH(n,e,t){const i=(e=FH(e)).map(r=>AE(n,r,"on",t));return(0,Cl.T)(...i)}function BH(n,e){return function(i,r){return OH(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Ooe(n){return function(t){return t?OH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function UH(n,e){return function(){return AE(n,"value","on",e)}}const Noe=new o.OlP("angularfire2.realtimeDatabaseURL"),Loe=new o.OlP("angularfire2.database.use-emulator");let Boe=(()=>{class n{constructor(t,i,r,s,l,u,m,y,w,P,Q,le,pe,Ie,ke){this.schedulers=u;const rt=m,ht=(0,Qr.on)(t,l,i);y&&SF(ht,l,w,Q,le,pe,P,Ie),this.database=(0,Qr.cc)(`${ht.name}.database.${r}`,"AngularFireDatabase",ht.name,()=>{const mt=l.runOutsideAngular(()=>ht.database(r||void 0));return rt&&mt.useEmulator(...rt),mt},[rt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>RH(this.database,t));let s=r;return i&&(s=i(r)),function Poe(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:BH(i,"update"),set:BH(i,"set"),push:r=>i.push(r),remove:Ooe(i),snapshotChanges:r=>NH(n,r,t).pipe(ci.iC),stateChanges:r=>LH(n,r,t).pipe(ci.iC),auditTrail:r=>function Aoe(n,e,t){return function Roe(n,e,t){return function koe(n,e){return AE(n,"value","on",e).pipe((0,Ot.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe((0,Mne.M)(e),(0,Ot.U)(([r,s])=>{const l=r.lastKeyToLoad,u=s.map(m=>m.key);return{actions:s,lastKeyToLoad:l,loadedKeys:u}}),function Ane(n){return(0,ls.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,wr.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ot.U)(r=>r.actions))}(n,LH(n,e).pipe((0,eh.R)((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(ci.iC),valueChanges:(r,s)=>NH(n,r,t).pipe((0,Ot.U)(u=>u.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),ci.iC)}}(s,this)}object(t){return function Foe(n,e){return{query:n,snapshotChanges:()=>UH(n,e.schedulers.outsideAngular)().pipe(ci.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>UH(n,e.schedulers.outsideAngular)().pipe(ci.iC,(0,Ot.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>RH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qr.Dh),o.LFG(Qr.xv,8),o.LFG(Noe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(Loe,8),o.LFG(ZI,8),o.LFG(vF,8),o.LFG(bF,8),o.LFG(wF,8),o.LFG(xF,8),o.LFG(EF,8),o.LFG(CF,8),o.LFG(tE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uoe=(()=>{class n{constructor(){yF.Z.registerVersion("angularfire",ci.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Boe]}),n})();function Sj(n){const e=function wle(n){return new nr.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe((0,b0.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ot.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function GD(n){return{getDownloadURL:()=>(0,At.of)(void 0).pipe(ci.fc,(0,Ni.w)(()=>n.getDownloadURL()),ci.iC),getMetadata:()=>(0,At.of)(void 0).pipe(ci.fc,(0,Ni.w)(()=>n.getMetadata()),ci.iC),delete:()=>(0,li.D)(n.delete()),child:e=>GD(n.child(e)),updateMetadata:e=>(0,li.D)(n.updateMetadata(e)),put:(e,t)=>Sj(n.put(e,t)),putString:(e,t,i)=>Sj(n.putString(e,t,i)),list:e=>(0,li.D)(n.list(e)),listAll:()=>(0,li.D)(n.listAll())}}const xle=new o.OlP("angularfire2.storageBucket"),Ele=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Cle=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Sle=new o.OlP("angularfire2.storage.use-emulator");let Tle=(()=>{class n{constructor(t,i,r,s,l,u,m,y,w,P){const Q=(0,Qr.on)(t,l,i);this.storage=(0,Qr.cc)(`${Q.name}.storage.${r}`,"AngularFireStorage",Q.name,()=>{const le=l.runOutsideAngular(()=>Q.storage(r||void 0)),pe=w;return pe&&le.useEmulator(...pe),m&&le.setMaxUploadRetryTime(m),y&&le.setMaxOperationRetryTime(y),le},[m,y])}ref(t){return GD(this.storage.ref(t))}refFromURL(t){return GD(this.storage.refFromURL(t))}upload(t,i,r){return GD(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qr.Dh),o.LFG(Qr.xv,8),o.LFG(xle,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(Ele,8),o.LFG(Cle,8),o.LFG(Sle,8),o.LFG(tE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ile=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Dle=(()=>{class n{constructor(){yF.Z.registerVersion("angularfire",ci.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Tle],imports:[Ile]}),n})();const Mle={apiKey:"AIzaSyAdPpQH5iwVufuPLpIoOeCNlnCaF3aOefU",authDomain:"game-apps-e5fcc.firebaseapp.com",projectId:"game-apps-e5fcc",storageBucket:"game-apps-e5fcc.appspot.com",messagingSenderId:"698497390636",appId:"1:698497390636:web:6b7f0c2dfc99e884115989",measurementId:"G-2RY0T555GP",databaseURL:"null"};let Ale=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Qr.hO.initializeApp(Mle,"game-apps"),Qr.hO,lte,Uoe,Dle]}),n})();var kle=C(825);let Rle=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e,bootstrap:[Dne]}),e.\u0275inj=o.cJS({providers:[fv],imports:[Yu,wa,Sne,uh,fT,Ale,Us.Aw.forRoot({}),bU.forRoot([]),kle.FT.instrument({maxAge:50,logOnly:true})]}),n})();(0,o.G48)(),Iu().bootstrapModule(Rle).catch(n=>console.error(n))},1771:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Animation=void 0;const o=C(9037),$=C(2121),L=o.glob.performance&&o.glob.performance.now?function(){return o.glob.performance.now()}:function(){return(new Date).getTime()};class X{constructor(M,R){this.id=X.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:L(),frameRate:0},this.func=M,this.setLayers(R)}setLayers(M){let R=[];return M&&(R=Array.isArray(M)?M:[M]),this.layers=R,this}getLayers(){return this.layers}addLayer(M){const R=this.layers,D=R.length;for(let k=0;k<D;k++)if(R[k]._id===M._id)return!1;return this.layers.push(M),!0}isRunning(){const R=X.animations,D=R.length;for(let k=0;k<D;k++)if(R[k].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=L(),X._addAnimation(this),this}stop(){return X._removeAnimation(this),this}_updateFrameObject(M){this.frame.timeDiff=M-this.frame.lastTime,this.frame.lastTime=M,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(M){this.animations.push(M),this._handleAnimation()}static _removeAnimation(M){const R=M.id,D=this.animations,k=D.length;for(let I=0;I<k;I++)if(D[I].id===R){this.animations.splice(I,1);break}}static _runFrames(){const M={},R=this.animations;for(let D=0;D<R.length;D++){const k=R[D],I=k.layers,A=k.func;k._updateFrameObject(L());const O=I.length;let j;if(j=!A||!1!==A.call(k,k.frame),j)for(let B=0;B<O;B++){const U=I[B];void 0!==U._id&&(M[U._id]=U)}}for(const D in M)M.hasOwnProperty(D)&&M[D].batchDraw()}static _animationLoop(){const M=X;M.animations.length?(M._runFrames(),$.Util.requestAnimFrame(M._animationLoop)):M.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,$.Util.requestAnimFrame(this._animationLoop))}}V.Animation=X,X.animations=[],X.animIdCounter=0,X.animRunning=!1},5438:(Ce,V)=>{function $(H,M,R){const D=L(1,R,H),k=L(1,R,M);return Math.sqrt(D*D+k*k)}Object.defineProperty(V,"__esModule",{value:!0}),V.t2length=V.getQuadraticArcLength=V.getCubicArcLength=V.binomialCoefficients=V.cValues=V.tValues=void 0,V.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],V.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],V.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],V.getCubicArcLength=(H,M,R)=>{let D,k;const A=R/2;D=0;for(let O=0;O<20;O++)k=A*V.tValues[20][O]+A,D+=V.cValues[20][O]*$(H,M,k);return A*D},V.getQuadraticArcLength=(H,M,R)=>{void 0===R&&(R=1);const D=H[0]-2*H[1]+H[2],k=M[0]-2*M[1]+M[2],I=2*H[1]-2*H[0],A=2*M[1]-2*M[0],O=4*(D*D+k*k),j=4*(D*I+k*A),B=I*I+A*A;if(0===O)return R*Math.sqrt(Math.pow(H[2]-H[0],2)+Math.pow(M[2]-M[0],2));const U=j/(2*O),W=R+U,ne=B/O-U*U,E=W*W+ne>0?Math.sqrt(W*W+ne):0,G=U*U+ne>0?Math.sqrt(U*U+ne):0,K=U+Math.sqrt(U*U+ne)!==0?ne*Math.log(Math.abs((W+E)/(U+G))):0;return Math.sqrt(O)/2*(W*E-U*G+K)};const L=(H,M,R)=>{const D=R.length-1;let k,I;if(0===D)return 0;if(0===H){I=0;for(let A=0;A<=D;A++)I+=V.binomialCoefficients[D][A]*Math.pow(1-M,D-A)*Math.pow(M,A)*R[A];return I}k=new Array(D);for(let A=0;A<D;A++)k[A]=D*(R[A+1]-R[A]);return L(H-1,M,k)};V.t2length=(H,M,R)=>{let D=1,k=H/M,I=(H-R(k))/M,A=0;for(;D>.001;){const O=R(k+I),j=Math.abs(H-O)/M;if(j<D)D=j,k+=I;else{const B=R(k-I),U=Math.abs(H-B)/M;U<D?(D=U,k-=I):I/=2}if(A++,A>500)break}return k}},1161:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.HitCanvas=V.SceneCanvas=V.Canvas=void 0;const o=C(2121),$=C(9703),L=C(9037),X=C(134),H=C(674);let M;class D{constructor(O){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const B=(O||{}).pixelRatio||L.Konva.pixelRatio||function R(){if(M)return M;const A=o.Util.createCanvasElement(),O=A.getContext("2d");return M=(L.Konva._global.devicePixelRatio||1)/(O.webkitBackingStorePixelRatio||O.mozBackingStorePixelRatio||O.msBackingStorePixelRatio||O.oBackingStorePixelRatio||O.backingStorePixelRatio||1),o.Util.releaseCanvas(A),M}();this.pixelRatio=B,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(O){const j=this.pixelRatio;this.pixelRatio=O,this.setSize(this.getWidth()/j,this.getHeight()/j)}setWidth(O){this.width=this._canvas.width=O*this.pixelRatio,this._canvas.style.width=O+"px";const j=this.pixelRatio;this.getContext()._context.scale(j,j)}setHeight(O){this.height=this._canvas.height=O*this.pixelRatio,this._canvas.style.height=O+"px";const j=this.pixelRatio;this.getContext()._context.scale(j,j)}getWidth(){return this.width}getHeight(){return this.height}setSize(O,j){this.setWidth(O||0),this.setHeight(j||0)}toDataURL(O,j){try{return this._canvas.toDataURL(O,j)}catch{try{return this._canvas.toDataURL()}catch(U){return o.Util.error("Unable to get data URL. "+U.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}V.Canvas=D,X.Factory.addGetterSetter(D,"pixelRatio",void 0,(0,H.getNumberValidator)()),V.SceneCanvas=class k extends D{constructor(O={width:0,height:0,willReadFrequently:!1}){super(O),this.context=new $.SceneContext(this,{willReadFrequently:O.willReadFrequently}),this.setSize(O.width,O.height)}},V.HitCanvas=class I extends D{constructor(O={width:0,height:0}){super(O),this.hitCanvas=!0,this.context=new $.HitContext(this),this.setSize(O.width,O.height)}}},2632:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Container=void 0;const o=C(134),$=C(338),L=C(674);class X extends $.Node{constructor(){super(...arguments),this.children=[]}getChildren(M){if(!M)return this.children||[];const D=[];return(this.children||[]).forEach(function(k){M(k)&&D.push(k)}),D}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(M=>{M.parent=null,M.index=0,M.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(M=>{M.parent=null,M.index=0,M.destroy()}),this.children=[],this._requestDraw(),this}add(...M){if(0===M.length)return this;if(M.length>1){for(let D=0;D<M.length;D++)this.add(M[D]);return this}const R=M[0];return R.getParent()?(R.moveTo(this),this):(this._validateAdd(R),R.index=this.getChildren().length,R.parent=this,R._clearCaches(),this.getChildren().push(R),this._fire("add",{child:R}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(M){return this._generalFind(M,!1)}findOne(M){const R=this._generalFind(M,!0);return R.length>0?R[0]:void 0}_generalFind(M,R){const D=[];return this._descendants(k=>{const I=k._isMatch(M);return I&&D.push(k),!(!I||!R)}),D}_descendants(M){let R=!1;const D=this.getChildren();for(const k of D){if(R=M(k),R)return!0;if(k.hasChildren()&&(R=k._descendants(M),R))return!0}return!1}toObject(){const M=$.Node.prototype.toObject.call(this);return M.children=[],this.getChildren().forEach(R=>{M.children.push(R.toObject())}),M}isAncestorOf(M){let R=M.getParent();for(;R;){if(R._id===this._id)return!0;R=R.getParent()}return!1}clone(M){const R=$.Node.prototype.clone.call(this,M);return this.getChildren().forEach(function(D){R.add(D.clone())}),R}getAllIntersections(M){const R=[];return this.find("Shape").forEach(D=>{D.isVisible()&&D.intersects(M)&&R.push(D)}),R}_clearSelfAndDescendantCache(M){var R;super._clearSelfAndDescendantCache(M),!this.isCached()&&(null===(R=this.children)||void 0===R||R.forEach(function(D){D._clearSelfAndDescendantCache(M)}))}_setChildrenIndices(){var M;null===(M=this.children)||void 0===M||M.forEach(function(R,D){R.index=D}),this._requestDraw()}drawScene(M,R,D){const k=this.getLayer(),I=M||k&&k.getCanvas(),A=I&&I.getContext(),O=this._getCanvasCache(),j=O&&O.scene,B=I&&I.isCache;if(!this.isVisible()&&!B)return this;if(j){A.save();const U=this.getAbsoluteTransform(R).getMatrix();A.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedSceneCanvas(A),A.restore()}else this._drawChildren("drawScene",I,R,D);return this}drawHit(M,R){if(!this.shouldDrawHit(R))return this;const D=this.getLayer(),k=M||D&&D.hitCanvas,I=k&&k.getContext(),A=this._getCanvasCache();if(A&&A.hit){I.save();const j=this.getAbsoluteTransform(R).getMatrix();I.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(I),I.restore()}else this._drawChildren("drawHit",k,R);return this}_drawChildren(M,R,D,k){var I;const A=R&&R.getContext(),O=this.clipWidth(),j=this.clipHeight(),B=this.clipFunc(),U="number"==typeof O&&"number"==typeof j||B,Y=D===this;if(U){A.save();const ne=this.getAbsoluteTransform(D);let G,E=ne.getMatrix();if(A.transform(E[0],E[1],E[2],E[3],E[4],E[5]),A.beginPath(),B)G=B.call(this,A,this);else{const K=this.clipX(),te=this.clipY();A.rect(K||0,te||0,O,j)}A.clip.apply(A,G),E=ne.copy().invert().getMatrix(),A.transform(E[0],E[1],E[2],E[3],E[4],E[5])}const W=!Y&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===M;W&&(A.save(),A._applyGlobalCompositeOperation(this)),null===(I=this.children)||void 0===I||I.forEach(function(ne){ne[M](R,D,k)}),W&&A.restore(),U&&A.restore()}getClientRect(M={}){var R;const D=M.skipTransform,k=M.relativeTo;let I,A,O,j,B={x:1/0,y:1/0,width:0,height:0};const U=this;null===(R=this.children)||void 0===R||R.forEach(function(ne){if(!ne.visible())return;const E=ne.getClientRect({relativeTo:U,skipShadow:M.skipShadow,skipStroke:M.skipStroke});0===E.width&&0===E.height||(void 0===I?(I=E.x,A=E.y,O=E.x+E.width,j=E.y+E.height):(I=Math.min(I,E.x),A=Math.min(A,E.y),O=Math.max(O,E.x+E.width),j=Math.max(j,E.y+E.height)))});const Y=this.find("Shape");let W=!1;for(let ne=0;ne<Y.length;ne++)if(Y[ne]._isVisible(this)){W=!0;break}return B=W&&void 0!==I?{x:I,y:A,width:O-I,height:j-A}:{x:0,y:0,width:0,height:0},D?B:this._transformedRect(B,k)}}V.Container=X,o.Factory.addComponentsGetterSetter(X,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(X,"clipX",void 0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(X,"clipY",void 0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(X,"clipWidth",void 0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(X,"clipHeight",void 0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(X,"clipFunc")},9703:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.HitContext=V.SceneContext=V.Context=void 0;const o=C(2121),$=C(9037),O=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class U{constructor(E){this.canvas=E,$.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(E){E.fillEnabled()&&this._fill(E)}_fill(E){}strokeShape(E){E.hasStroke()&&this._stroke(E)}_stroke(E){}fillStrokeShape(E){E.attrs.fillAfterStrokeEnabled?(this.strokeShape(E),this.fillShape(E)):(this.fillShape(E),this.strokeShape(E))}getTrace(E,G){let ie,me,ue,J,K=this.traceArr,te=K.length,se="";for(ie=0;ie<te;ie++)me=K[ie],ue=me.method,ue?(J=me.args,se+=ue,E?se+="()":o.Util._isArray(J[0])?se+="(["+J.join(",")+"])":(G&&(J=J.map(he=>"number"==typeof he?Math.floor(he):he)),se+="("+J.join(",")+")")):(se+=me.property,E||(se+="="+me.val)),se+=";";return se}clearTrace(){this.traceArr=[]}_trace(E){let K,G=this.traceArr;G.push(E),K=G.length,K>=100&&G.shift()}reset(){const E=this.getCanvas().getPixelRatio();this.setTransform(1*E,0,0,1*E,0,0)}getCanvas(){return this.canvas}clear(E){const G=this.getCanvas();E?this.clearRect(E.x||0,E.y||0,E.width||0,E.height||0):this.clearRect(0,0,G.getWidth()/G.pixelRatio,G.getHeight()/G.pixelRatio)}_applyLineCap(E){const G=E.attrs.lineCap;G&&this.setAttr("lineCap",G)}_applyOpacity(E){const G=E.getAbsoluteOpacity();1!==G&&this.setAttr("globalAlpha",G)}_applyLineJoin(E){const G=E.attrs.lineJoin;G&&this.setAttr("lineJoin",G)}setAttr(E,G){this._context[E]=G}arc(E,G,K,te,se,ie){this._context.arc(E,G,K,te,se,ie)}arcTo(E,G,K,te,se){this._context.arcTo(E,G,K,te,se)}beginPath(){this._context.beginPath()}bezierCurveTo(E,G,K,te,se,ie){this._context.bezierCurveTo(E,G,K,te,se,ie)}clearRect(E,G,K,te){this._context.clearRect(E,G,K,te)}clip(...E){this._context.clip.apply(this._context,E)}closePath(){this._context.closePath()}createImageData(E,G){const K=arguments;return 2===K.length?this._context.createImageData(E,G):1===K.length?this._context.createImageData(E):void 0}createLinearGradient(E,G,K,te){return this._context.createLinearGradient(E,G,K,te)}createPattern(E,G){return this._context.createPattern(E,G)}createRadialGradient(E,G,K,te,se,ie){return this._context.createRadialGradient(E,G,K,te,se,ie)}drawImage(E,G,K,te,se,ie,me,ue,J){const he=arguments,xe=this._context;3===he.length?xe.drawImage(E,G,K):5===he.length?xe.drawImage(E,G,K,te,se):9===he.length&&xe.drawImage(E,G,K,te,se,ie,me,ue,J)}ellipse(E,G,K,te,se,ie,me,ue){this._context.ellipse(E,G,K,te,se,ie,me,ue)}isPointInPath(E,G,K,te){return K?this._context.isPointInPath(K,E,G,te):this._context.isPointInPath(E,G,te)}fill(...E){this._context.fill.apply(this._context,E)}fillRect(E,G,K,te){this._context.fillRect(E,G,K,te)}strokeRect(E,G,K,te){this._context.strokeRect(E,G,K,te)}fillText(E,G,K,te){te?this._context.fillText(E,G,K,te):this._context.fillText(E,G,K)}measureText(E){return this._context.measureText(E)}getImageData(E,G,K,te){return this._context.getImageData(E,G,K,te)}lineTo(E,G){this._context.lineTo(E,G)}moveTo(E,G){this._context.moveTo(E,G)}rect(E,G,K,te){this._context.rect(E,G,K,te)}roundRect(E,G,K,te,se){this._context.roundRect(E,G,K,te,se)}putImageData(E,G,K){this._context.putImageData(E,G,K)}quadraticCurveTo(E,G,K,te){this._context.quadraticCurveTo(E,G,K,te)}restore(){this._context.restore()}rotate(E){this._context.rotate(E)}save(){this._context.save()}scale(E,G){this._context.scale(E,G)}setLineDash(E){this._context.setLineDash?this._context.setLineDash(E):"mozDash"in this._context?this._context.mozDash=E:"webkitLineDash"in this._context&&(this._context.webkitLineDash=E)}getLineDash(){return this._context.getLineDash()}setTransform(E,G,K,te,se,ie){this._context.setTransform(E,G,K,te,se,ie)}stroke(E){E?this._context.stroke(E):this._context.stroke()}strokeText(E,G,K,te){this._context.strokeText(E,G,K,te)}transform(E,G,K,te,se,ie){this._context.transform(E,G,K,te,se,ie)}translate(E,G){this._context.translate(E,G)}_enableTrace(){let te,se,E=this,G=O.length,K=this.setAttr;const ie=function(me){let J,ue=E[me];E[me]=function(){return se=function L(ne){const E=[],G=ne.length,K=o.Util;for(let te=0;te<G;te++){let se=ne[te];K._isNumber(se)?se=Math.round(1e3*se)/1e3:K._isString(se)||(se+=""),E.push(se)}return E}(Array.prototype.slice.call(arguments,0)),J=ue.apply(E,arguments),E._trace({method:me,args:se}),J}};for(te=0;te<G;te++)ie(O[te]);E.setAttr=function(){K.apply(E,arguments);const me=arguments[0];let ue=arguments[1];("shadowOffsetX"===me||"shadowOffsetY"===me||"shadowBlur"===me)&&(ue/=this.canvas.getPixelRatio()),E._trace({property:me,val:ue})}}_applyGlobalCompositeOperation(E){const G=E.attrs.globalCompositeOperation;!G||"source-over"===G||this.setAttr("globalCompositeOperation",G)}}V.Context=U,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(ne){Object.defineProperty(U.prototype,ne,{get(){return this._context[ne]},set(E){this._context[ne]=E}})}),V.SceneContext=class Y extends U{constructor(E,{willReadFrequently:G=!1}={}){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:G})}_fillColor(E){const G=E.fill();this.setAttr("fillStyle",G),E._fillFunc(this)}_fillPattern(E){this.setAttr("fillStyle",E._getFillPattern()),E._fillFunc(this)}_fillLinearGradient(E){const G=E._getLinearGradient();G&&(this.setAttr("fillStyle",G),E._fillFunc(this))}_fillRadialGradient(E){const G=E._getRadialGradient();G&&(this.setAttr("fillStyle",G),E._fillFunc(this))}_fill(E){const G=E.fill(),K=E.getFillPriority();if(G&&"color"===K)return void this._fillColor(E);const te=E.getFillPatternImage();if(te&&"pattern"===K)return void this._fillPattern(E);const se=E.getFillLinearGradientColorStops();if(se&&"linear-gradient"===K)return void this._fillLinearGradient(E);const ie=E.getFillRadialGradientColorStops();ie&&"radial-gradient"===K?this._fillRadialGradient(E):G?this._fillColor(E):te?this._fillPattern(E):se?this._fillLinearGradient(E):ie&&this._fillRadialGradient(E)}_strokeLinearGradient(E){const G=E.getStrokeLinearGradientStartPoint(),K=E.getStrokeLinearGradientEndPoint(),te=E.getStrokeLinearGradientColorStops(),se=this.createLinearGradient(G.x,G.y,K.x,K.y);if(te){for(let ie=0;ie<te.length;ie+=2)se.addColorStop(te[ie],te[ie+1]);this.setAttr("strokeStyle",se)}}_stroke(E){const G=E.dash(),K=E.getStrokeScaleEnabled();if(E.hasStroke()){if(!K){this.save();const se=this.getCanvas().getPixelRatio();this.setTransform(se,0,0,se,0,0)}this._applyLineCap(E),G&&E.dashEnabled()&&(this.setLineDash(G),this.setAttr("lineDashOffset",E.dashOffset())),this.setAttr("lineWidth",E.strokeWidth()),E.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),E.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(E):this.setAttr("strokeStyle",E.stroke()),E._strokeFunc(this),K||this.restore()}}_applyShadow(E){var G,K,te;const se=null!==(G=E.getShadowRGBA())&&void 0!==G?G:"black",ie=null!==(K=E.getShadowBlur())&&void 0!==K?K:5,me=null!==(te=E.getShadowOffset())&&void 0!==te?te:{x:0,y:0},ue=E.getAbsoluteScale(),J=this.canvas.getPixelRatio(),he=ue.x*J,xe=ue.y*J;this.setAttr("shadowColor",se),this.setAttr("shadowBlur",ie*Math.min(Math.abs(he),Math.abs(xe))),this.setAttr("shadowOffsetX",me.x*he),this.setAttr("shadowOffsetY",me.y*xe)}},V.HitContext=class W extends U{constructor(E){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:!0})}_fill(E){this.save(),this.setAttr("fillStyle",E.colorKey),E._fillFuncHit(this),this.restore()}strokeShape(E){E.hasHitStroke()&&this._stroke(E)}_stroke(E){if(E.hasHitStroke()){const G=E.getStrokeScaleEnabled();if(!G){this.save();const se=this.getCanvas().getPixelRatio();this.setTransform(se,0,0,se,0,0)}this._applyLineCap(E);const K=E.hitStrokeWidth(),te="auto"===K?E.strokeWidth():K;this.setAttr("lineWidth",te),this.setAttr("strokeStyle",E.colorKey),E._strokeFuncHit(this),G||this.restore()}}}},4505:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.DD=void 0;const o=C(9037),$=C(2121);V.DD={get isDragging(){let L=!1;return V.DD._dragElements.forEach(X=>{"dragging"===X.dragStatus&&(L=!0)}),L},justDragged:!1,get node(){let L;return V.DD._dragElements.forEach(X=>{L=X.node}),L},_dragElements:new Map,_drag(L){const X=[];V.DD._dragElements.forEach((H,M)=>{const{node:R}=H,D=R.getStage();D.setPointersPositions(L),void 0===H.pointerId&&(H.pointerId=$.Util._getFirstPointerId(L));const k=D._changedPointerPositions.find(I=>I.id===H.pointerId);if(k){if("dragging"!==H.dragStatus){const I=R.dragDistance();if(Math.max(Math.abs(k.x-H.startPointerPos.x),Math.abs(k.y-H.startPointerPos.y))<I||(R.startDrag({evt:L}),!R.isDragging()))return}R._setDragPosition(L,H),X.push(R)}}),X.forEach(H=>{H.fire("dragmove",{type:"dragmove",target:H,evt:L},!0)})},_endDragBefore(L){const X=[];V.DD._dragElements.forEach(H=>{const{node:M}=H,R=M.getStage();if(L&&R.setPointersPositions(L),!R._changedPointerPositions.find(I=>I.id===H.pointerId))return;("dragging"===H.dragStatus||"stopped"===H.dragStatus)&&(V.DD.justDragged=!0,o.Konva._mouseListenClick=!1,o.Konva._touchListenClick=!1,o.Konva._pointerListenClick=!1,H.dragStatus="stopped");const k=H.node.getLayer()||H.node instanceof o.Konva.Stage&&H.node;k&&-1===X.indexOf(k)&&X.push(k)}),X.forEach(H=>{H.draw()})},_endDragAfter(L){V.DD._dragElements.forEach((X,H)=>{"stopped"===X.dragStatus&&X.node.fire("dragend",{type:"dragend",target:X.node,evt:L},!0),"dragging"!==X.dragStatus&&V.DD._dragElements.delete(H)})}},o.Konva.isBrowser&&(window.addEventListener("mouseup",V.DD._endDragBefore,!0),window.addEventListener("touchend",V.DD._endDragBefore,!0),window.addEventListener("touchcancel",V.DD._endDragBefore,!0),window.addEventListener("mousemove",V.DD._drag),window.addEventListener("touchmove",V.DD._drag),window.addEventListener("mouseup",V.DD._endDragAfter,!1),window.addEventListener("touchend",V.DD._endDragAfter,!1),window.addEventListener("touchcancel",V.DD._endDragAfter,!1))},134:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Factory=void 0;const o=C(2121),$=C(674),L="get",X="set";V.Factory={addGetterSetter(H,M,R,D,k){V.Factory.addGetter(H,M,R),V.Factory.addSetter(H,M,D,k),V.Factory.addOverloadedGetterSetter(H,M)},addGetter(H,M,R){var D=L+o.Util._capitalize(M);H.prototype[D]=H.prototype[D]||function(){const k=this.attrs[M];return void 0===k?R:k}},addSetter(H,M,R,D){var k=X+o.Util._capitalize(M);H.prototype[k]||V.Factory.overWriteSetter(H,M,R,D)},overWriteSetter(H,M,R,D){var k=X+o.Util._capitalize(M);H.prototype[k]=function(I){return R&&null!=I&&(I=R.call(this,I,M)),this._setAttr(M,I),D&&D.call(this),this}},addComponentsGetterSetter(H,M,R,D,k){const I=R.length,A=o.Util._capitalize,O=L+A(M),j=X+A(M);H.prototype[O]=function(){const U={};for(let Y=0;Y<I;Y++){const W=R[Y];U[W]=this.getAttr(M+A(W))}return U};const B=(0,$.getComponentValidator)(R);H.prototype[j]=function(U){const Y=this.attrs[M];D&&(U=D.call(this,U,M)),B&&B.call(this,U,M);for(const W in U)U.hasOwnProperty(W)&&this._setAttr(M+A(W),U[W]);return U||R.forEach(W=>{this._setAttr(M+A(W),void 0)}),this._fireChangeEvent(M,Y,U),k&&k.call(this),this},V.Factory.addOverloadedGetterSetter(H,M)},addOverloadedGetterSetter(H,M){var R=o.Util._capitalize(M),D=X+R,k=L+R;H.prototype[M]=function(){return arguments.length?(this[D](arguments[0]),this):this[k]()}},addDeprecatedGetterSetter(H,M,R,D){o.Util.error("Adding deprecated "+M);const k=L+o.Util._capitalize(M),I=M+" property is deprecated and will be removed soon. Look at Konva change log for more information.";H.prototype[k]=function(){o.Util.error(I);const A=this.attrs[M];return void 0===A?R:A},V.Factory.addSetter(H,M,D,function(){o.Util.error(I)}),V.Factory.addOverloadedGetterSetter(H,M)},backCompat(H,M){o.Util.each(M,function(R,D){const k=H.prototype[D],I=L+o.Util._capitalize(R),A=X+o.Util._capitalize(R);function O(){k.apply(this,arguments),o.Util.error('"'+R+'" method is deprecated and will be removed soon. Use ""'+D+'" instead.')}H.prototype[R]=O,H.prototype[I]=O,H.prototype[A]=O})},afterSetFilter(){this._filterUpToDate=!1}}},6393:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.FastLayer=void 0;const o=C(2121),$=C(7035),L=C(9037);class X extends $.Layer{constructor(M){super(M),this.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}V.FastLayer=X,X.prototype.nodeType="FastLayer",(0,L._registerNode)(X)},9037:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V._registerNode=V.Konva=V.glob=void 0;const C=Math.PI/180;V.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},V.Konva={_global:V.glob,version:"9.3.18",isBrowser:function o(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(L){}.toString()),dblClickWindow:400,getAngle:L=>V.Konva.angleDeg?L*C:L,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>V.Konva.DD.isDragging,isTransforming(){var L;return null===(L=V.Konva.Transformer)||void 0===L?void 0:L.isTransforming()},isDragReady:()=>!!V.Konva.DD.node,releaseCanvasOnDestroy:!0,document:V.glob.document,_injectGlobal(L){V.glob.Konva=L}},V._registerNode=L=>{V.Konva[L.prototype.getClassName()]=L},V.Konva._injectGlobal(V.Konva)},5673:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Group=void 0;const o=C(2121),$=C(2632),L=C(9037);class X extends $.Container{_validateAdd(M){const R=M.getType();"Group"!==R&&"Shape"!==R&&o.Util.throw("You may only add groups and shapes to groups.")}}V.Group=X,X.prototype.nodeType="Group",(0,L._registerNode)(X)},7035:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Layer=void 0;const o=C(2121),$=C(2632),L=C(338),X=C(134),H=C(1161),M=C(674),R=C(4147),D=C(9037),O=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],j=O.length;class B extends $.Container{constructor(Y){super(Y),this.canvas=new H.SceneCanvas,this.hitCanvas=new H.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(Y){return this.getContext().clear(Y),this.getHitCanvas().getContext().clear(Y),this}setZIndex(Y){super.setZIndex(Y);const W=this.getStage();return W&&W.content&&(W.content.removeChild(this.getNativeCanvasElement()),Y<W.children.length-1?W.content.insertBefore(this.getNativeCanvasElement(),W.children[Y+1].getCanvas()._canvas):W.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){L.Node.prototype.moveToTop.call(this);const Y=this.getStage();return Y&&Y.content&&(Y.content.removeChild(this.getNativeCanvasElement()),Y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!L.Node.prototype.moveUp.call(this))return!1;const W=this.getStage();return!(!W||!W.content||(W.content.removeChild(this.getNativeCanvasElement()),this.index<W.children.length-1?W.content.insertBefore(this.getNativeCanvasElement(),W.children[this.index+1].getCanvas()._canvas):W.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(L.Node.prototype.moveDown.call(this)){const Y=this.getStage();if(Y){const W=Y.children;Y.content&&(Y.content.removeChild(this.getNativeCanvasElement()),Y.content.insertBefore(this.getNativeCanvasElement(),W[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(L.Node.prototype.moveToBottom.call(this)){const Y=this.getStage();if(Y){const W=Y.children;Y.content&&(Y.content.removeChild(this.getNativeCanvasElement()),Y.content.insertBefore(this.getNativeCanvasElement(),W[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const Y=this.getNativeCanvasElement();return L.Node.prototype.remove.call(this),Y&&Y.parentNode&&o.Util._isInDocument(Y)&&Y.parentNode.removeChild(Y),this}getStage(){return this.parent}setSize({width:Y,height:W}){return this.canvas.setSize(Y,W),this.hitCanvas.setSize(Y,W),this._setSmoothEnabled(),this}_validateAdd(Y){const W=Y.getType();"Group"!==W&&"Shape"!==W&&o.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(Y){return(Y=Y||{}).width=Y.width||this.getWidth(),Y.height=Y.height||this.getHeight(),Y.x=void 0!==Y.x?Y.x:this.x(),Y.y=void 0!==Y.y?Y.y:this.y(),L.Node.prototype._toKonvaCanvas.call(this,Y)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(Y){if(!this.isListening()||!this.isVisible())return null;let W=1,ne=!1;for(;;){for(let E=0;E<j;E++){const G=O[E],K=this._getIntersection({x:Y.x+G.x*W,y:Y.y+G.y*W}),te=K.shape;if(te)return te;if(ne=!!K.antialiased,!K.antialiased)break}if(!ne)return null;W+=1}}_getIntersection(Y){const W=this.hitCanvas.pixelRatio,ne=this.hitCanvas.context.getImageData(Math.round(Y.x*W),Math.round(Y.y*W),1,1).data,E=ne[3];if(255===E){const G=o.Util._rgbToHex(ne[0],ne[1],ne[2]),K=R.shapes["#"+G];return K?{shape:K}:{antialiased:!0}}return E>0?{antialiased:!0}:{}}drawScene(Y,W){const ne=this.getLayer(),E=Y||ne&&ne.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&E.getContext().clear(),$.Container.prototype.drawScene.call(this,E,W),this._fire("draw",{node:this}),this}drawHit(Y,W){const ne=this.getLayer(),E=Y||ne&&ne.hitCanvas;return ne&&ne.clearBeforeDraw()&&ne.getHitCanvas().getContext().clear(),$.Container.prototype.drawHit.call(this,E,W),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(Y){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(Y)}getHitGraphEnabled(Y){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const Y=this.parent;this.hitCanvas._canvas.parentNode?Y.content.removeChild(this.hitCanvas._canvas):Y.content.appendChild(this.hitCanvas._canvas)}destroy(){return o.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}V.Layer=B,B.prototype.nodeType="Layer",(0,D._registerNode)(B),X.Factory.addGetterSetter(B,"imageSmoothingEnabled",!0),X.Factory.addGetterSetter(B,"clearBeforeDraw",!0),X.Factory.addGetterSetter(B,"hitGraphEnabled",!0,(0,M.getBooleanValidator)())},338:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Node=void 0;const o=C(2121),$=C(134),L=C(1161),X=C(9037),H=C(4505),M=C(674),R="absoluteOpacity",D="allEventListeners",k="absoluteTransform",I="absoluteScale",A="canvas",U="listening",Y="mouseenter",W="mouseleave",G="Shape",K=" ",se="transform",me="visible",ue=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(K);let J=1;class he{constructor(z){this._id=J++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(z),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(z){z!==se&&z!==k||!this._cache.get(z)?z?this._cache.delete(z):this._cache.clear():this._cache.get(z).dirty=!0}_getCache(z,re){let de=this._cache.get(z);return(void 0===de||(z===se||z===k)&&!0===de.dirty)&&(de=re.call(this),this._cache.set(z,de)),de}_calculate(z,re,de){if(!this._attachedDepsListeners.get(z)){const be=re.map(Fe=>Fe+"Change.konva").join(K);this.on(be,()=>{this._clearCache(z)}),this._attachedDepsListeners.set(z,!0)}return this._getCache(z,de)}_getCanvasCache(){return this._cache.get(A)}_clearSelfAndDescendantCache(z){this._clearCache(z),z===k&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(A)){const{scene:z,filter:re,hit:de}=this._cache.get(A);o.Util.releaseCanvas(z,re,de),this._cache.delete(A)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(z){const re=z||{};let de={};(void 0===re.x||void 0===re.y||void 0===re.width||void 0===re.height)&&(de=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let be=Math.ceil(re.width||de.width),Fe=Math.ceil(re.height||de.height),Le=re.pixelRatio,tt=void 0===re.x?Math.floor(de.x):re.x,ye=void 0===re.y?Math.floor(de.y):re.y,ve=re.offset||0,ge=re.drawBorder||!1,Te=re.hitCanvasPixelRatio||1;if(!be||!Fe)return void o.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");be+=2*ve+(Math.abs(Math.round(de.x)-tt)>.5?1:0),Fe+=2*ve+(Math.abs(Math.round(de.y)-ye)>.5?1:0),tt-=ve,ye-=ve;const Oe=new L.SceneCanvas({pixelRatio:Le,width:be,height:Fe}),Xe=new L.SceneCanvas({pixelRatio:Le,width:0,height:0,willReadFrequently:!0}),wt=new L.HitCanvas({pixelRatio:Te,width:be,height:Fe}),Ke=Oe.getContext(),dt=wt.getContext();return wt.isCache=!0,Oe.isCache=!0,this._cache.delete(A),this._filterUpToDate=!1,!1===re.imageSmoothingEnabled&&(Oe.getContext()._context.imageSmoothingEnabled=!1,Xe.getContext()._context.imageSmoothingEnabled=!1),Ke.save(),dt.save(),Ke.translate(-tt,-ye),dt.translate(-tt,-ye),this._isUnderCache=!0,this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(I),this.drawScene(Oe,this),this.drawHit(wt,this),this._isUnderCache=!1,Ke.restore(),dt.restore(),ge&&(Ke.save(),Ke.beginPath(),Ke.rect(0,0,be,Fe),Ke.closePath(),Ke.setAttr("strokeStyle","red"),Ke.setAttr("lineWidth",5),Ke.stroke(),Ke.restore()),this._cache.set(A,{scene:Oe,filter:Xe,hit:wt,x:tt,y:ye}),this._requestDraw(),this}isCached(){return this._cache.has(A)}getClientRect(z){throw new Error('abstract "getClientRect" method call')}_transformedRect(z,re){const de=[{x:z.x,y:z.y},{x:z.x+z.width,y:z.y},{x:z.x+z.width,y:z.y+z.height},{x:z.x,y:z.y+z.height}];let be=1/0,Fe=1/0,Le=-1/0,tt=-1/0;const ye=this.getAbsoluteTransform(re);return de.forEach(function(ve){const ge=ye.point(ve);void 0===be&&(be=Le=ge.x,Fe=tt=ge.y),be=Math.min(be,ge.x),Fe=Math.min(Fe,ge.y),Le=Math.max(Le,ge.x),tt=Math.max(tt,ge.y)}),{x:be,y:Fe,width:Le-be,height:tt-Fe}}_drawCachedSceneCanvas(z){z.save(),z._applyOpacity(this),z._applyGlobalCompositeOperation(this);const re=this._getCanvasCache();z.translate(re.x,re.y);const de=this._getCachedSceneCanvas(),be=de.pixelRatio;z.drawImage(de._canvas,0,0,de.width/be,de.height/be),z.restore()}_drawCachedHitCanvas(z){const re=this._getCanvasCache(),de=re.hit;z.save(),z.translate(re.x,re.y),z.drawImage(de._canvas,0,0,de.width/de.pixelRatio,de.height/de.pixelRatio),z.restore()}_getCachedSceneCanvas(){let Le,tt,ye,ve,z=this.filters(),re=this._getCanvasCache(),de=re.scene,be=re.filter,Fe=be.getContext();if(z){if(!this._filterUpToDate){const ge=de.pixelRatio;be.setSize(de.width/de.pixelRatio,de.height/de.pixelRatio);try{for(Le=z.length,Fe.clear(),Fe.drawImage(de._canvas,0,0,de.getWidth()/ge,de.getHeight()/ge),tt=Fe.getImageData(0,0,be.getWidth(),be.getHeight()),ye=0;ye<Le;ye++)ve=z[ye],"function"==typeof ve?(ve.call(this,tt),Fe.putImageData(tt,0,0)):o.Util.error("Filter should be type of function, but got "+typeof ve+" instead. Please check correct filters")}catch(Te){o.Util.error("Unable to apply filter. "+Te.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return be}return de}on(z,re){if(this._cache&&this._cache.delete(D),3===arguments.length)return this._delegate.apply(this,arguments);let Fe,Le,tt,ye,ve,de=z.split(K),be=de.length;for(Fe=0;Fe<be;Fe++)Le=de[Fe],tt=Le.split("."),ye=tt[0],ve=tt[1]||"",this.eventListeners[ye]||(this.eventListeners[ye]=[]),this.eventListeners[ye].push({name:ve,handler:re});return this}off(z,re){let Fe,Le,tt,ye,ve,ge,de=(z||"").split(K),be=de.length;if(this._cache&&this._cache.delete(D),!z)for(Le in this.eventListeners)this._off(Le);for(Fe=0;Fe<be;Fe++)if(tt=de[Fe],ye=tt.split("."),ve=ye[0],ge=ye[1],ve)this.eventListeners[ve]&&this._off(ve,ge,re);else for(Le in this.eventListeners)this._off(Le,ge,re);return this}dispatchEvent(z){return this.fire(z.type,{target:this,type:z.type,evt:z}),this}addEventListener(z,re){return this.on(z,function(de){re.call(this,de.evt)}),this}removeEventListener(z){return this.off(z),this}_delegate(z,re,de){const be=this;this.on(z,function(Fe){const Le=Fe.target.findAncestors(re,!0,be);for(let tt=0;tt<Le.length;tt++)(Fe=o.Util.cloneObject(Fe)).currentTarget=Le[tt],de.call(Le[tt],Fe)})}remove(){return this.isDragging()&&this.stopDrag(),H.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(I),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(me),this._clearSelfAndDescendantCache(U)}_remove(){this._clearCaches();const z=this.getParent();z&&z.children&&(z.children.splice(this.index,1),z._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(z){const re="get"+o.Util._capitalize(z);return o.Util._isFunction(this[re])?this[re]():this.attrs[z]}getAncestors(){let z=this.getParent(),re=[];for(;z;)re.push(z),z=z.getParent();return re}getAttrs(){return this.attrs||{}}setAttrs(z){return this._batchTransformChanges(()=>{let re,de;if(!z)return this;for(re in z)"children"!==re&&(de="set"+o.Util._capitalize(re),o.Util._isFunction(this[de])?this[de](z[re]):this._setAttr(re,z[re]))}),this}isListening(){return this._getCache(U,this._isListening)}_isListening(z){if(!this.listening())return!1;const de=this.getParent();return!de||de===z||this===z||de._isListening(z)}isVisible(){return this._getCache(me,this._isVisible)}_isVisible(z){if(!this.visible())return!1;const de=this.getParent();return!de||de===z||this===z||de._isVisible(z)}shouldDrawHit(z,re=!1){if(z)return this._isVisible(z)&&this._isListening(z);const de=this.getLayer();let be=!1;H.DD._dragElements.forEach(Le=>{"dragging"===Le.dragStatus&&("Stage"===Le.node.nodeType||Le.node.getLayer()===de)&&(be=!0)});const Fe=!re&&!X.Konva.hitOnDragEnabled&&(be||X.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!Fe}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let be,Fe,Le,tt,z=this.getDepth(),re=this,de=0;const ve=this.getStage();return"Stage"!==re.nodeType&&ve&&function ye(ge){for(be=[],Fe=ge.length,Le=0;Le<Fe;Le++)tt=ge[Le],de++,tt.nodeType!==G&&(be=be.concat(tt.getChildren().slice())),tt._id===re._id&&(Le=Fe);be.length>0&&be[0].getDepth()<=z&&ye(be)}(ve.getChildren()),de}getDepth(){let z=0,re=this.parent;for(;re;)z++,re=re.parent;return z}_batchTransformChanges(z){this._batchingTransformChange=!0,z(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(se),this._clearSelfAndDescendantCache(k)),this._needClearTransformCache=!1}setPosition(z){return this._batchTransformChanges(()=>{this.x(z.x),this.y(z.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const z=this.getStage();if(!z)return null;const re=z.getPointerPosition();if(!re)return null;const de=this.getAbsoluteTransform().copy();return de.invert(),de.point(re)}getAbsolutePosition(z){let re=!1,de=this.parent;for(;de;){if(de.isCached()){re=!0;break}de=de.parent}re&&!z&&(z=!0);const be=this.getAbsoluteTransform(z).getMatrix(),Fe=new o.Transform,Le=this.offset();return Fe.m=be.slice(),Fe.translate(Le.x,Le.y),Fe.getTranslation()}setAbsolutePosition(z){const{x:re,y:de,...be}=this._clearTransform();this.attrs.x=re,this.attrs.y=de,this._clearCache(se);const Fe=this._getAbsoluteTransform().copy();return Fe.invert(),Fe.translate(z.x,z.y),z={x:this.attrs.x+Fe.getTranslation().x,y:this.attrs.y+Fe.getTranslation().y},this._setTransform(be),this.setPosition({x:z.x,y:z.y}),this._clearCache(se),this._clearSelfAndDescendantCache(k),this}_setTransform(z){let re;for(re in z)this.attrs[re]=z[re]}_clearTransform(){const z={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,z}move(z){let re=z.x,de=z.y,be=this.x(),Fe=this.y();return void 0!==re&&(be+=re),void 0!==de&&(Fe+=de),this.setPosition({x:be,y:Fe}),this}_eachAncestorReverse(z,re){let Fe,Le,de=[],be=this.getParent();if(!re||re._id!==this._id){for(de.unshift(this);be&&(!re||be._id!==re._id);)de.unshift(be),be=be.parent;for(Fe=de.length,Le=0;Le<Fe;Le++)z(de[Le])}}rotate(z){return this.rotation(this.rotation()+z),this}moveToTop(){if(!this.parent)return o.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const z=this.index;return z<this.parent.getChildren().length-1&&(this.parent.children.splice(z,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return o.Util.warn("Node has no parent. moveUp function is ignored."),!1;const z=this.index;return z<this.parent.getChildren().length-1&&(this.parent.children.splice(z,1),this.parent.children.splice(z+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return o.Util.warn("Node has no parent. moveDown function is ignored."),!1;const z=this.index;return z>0&&(this.parent.children.splice(z,1),this.parent.children.splice(z-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return o.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const z=this.index;return z>0&&(this.parent.children.splice(z,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(z){return this.parent?((z<0||z>=this.parent.children.length)&&o.Util.warn("Unexpected value "+z+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(z,0,this),this.parent._setChildrenIndices(),this):(o.Util.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(R,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let z=this.opacity();const re=this.getParent();return re&&!re._isUnderCache&&(z*=re.getAbsoluteOpacity()),z}moveTo(z){return this.getParent()!==z&&(this._remove(),z.add(this)),this}toObject(){let re,de,be,Fe,Le,z=this.getAttrs();const tt={attrs:{},className:this.getClassName()};for(re in z)de=z[re],Le=o.Util.isObject(de)&&!o.Util._isPlainObject(de)&&!o.Util._isArray(de),!Le&&(be="function"==typeof this[re]&&this[re],delete z[re],Fe=be?be.call(this):null,z[re]=de,Fe!==de&&(tt.attrs[re]=de));return o.Util._prepareToStringify(tt)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(z,re,de){const be=[];re&&this._isMatch(z)&&be.push(this);let Fe=this.parent;for(;Fe;){if(Fe===de)return be;Fe._isMatch(z)&&be.push(Fe),Fe=Fe.parent}return be}isAncestorOf(z){return!1}findAncestor(z,re,de){return this.findAncestors(z,re,de)[0]}_isMatch(z){if(!z)return!1;if("function"==typeof z)return z(this);let be,Fe,re=z.replace(/ /g,"").split(","),de=re.length;for(be=0;be<de;be++)if(Fe=re[be],o.Util.isValidSelector(Fe)||(o.Util.warn('Selector "'+Fe+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),o.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),o.Util.warn("Konva is awesome, right?")),"#"===Fe.charAt(0)){if(this.id()===Fe.slice(1))return!0}else if("."===Fe.charAt(0)){if(this.hasName(Fe.slice(1)))return!0}else if(this.className===Fe||this.nodeType===Fe)return!0;return!1}getLayer(){const z=this.getParent();return z?z.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){const z=this.getParent();return z?z.getStage():null}fire(z,re={},de){return re.target=re.target||this,de?this._fireAndBubble(z,re):this._fire(z,re),this}getAbsoluteTransform(z){return z?this._getAbsoluteTransform(z):this._getCache(k,this._getAbsoluteTransform)}_getAbsoluteTransform(z){let re;if(z)return re=new o.Transform,this._eachAncestorReverse(function(de){const be=de.transformsEnabled();"all"===be?re.multiply(de.getTransform()):"position"===be&&re.translate(de.x()-de.offsetX(),de.y()-de.offsetY())},z),re;{re=this._cache.get(k)||new o.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(re):re.reset();const de=this.transformsEnabled();return"all"===de?re.multiply(this.getTransform()):"position"===de&&re.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),re.dirty=!1,re}}getAbsoluteScale(z){let re=this;for(;re;)re._isUnderCache&&(z=re),re=re.getParent();const be=this.getAbsoluteTransform(z).decompose();return{x:be.scaleX,y:be.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(se,this._getTransform)}_getTransform(){var z,re;const de=this._cache.get(se)||new o.Transform;de.reset();const be=this.x(),Fe=this.y(),Le=X.Konva.getAngle(this.rotation()),tt=null!==(z=this.attrs.scaleX)&&void 0!==z?z:1,ye=null!==(re=this.attrs.scaleY)&&void 0!==re?re:1,ve=this.attrs.skewX||0,ge=this.attrs.skewY||0,Te=this.attrs.offsetX||0,Be=this.attrs.offsetY||0;return(0!==be||0!==Fe)&&de.translate(be,Fe),0!==Le&&de.rotate(Le),(0!==ve||0!==ge)&&de.skew(ve,ge),(1!==tt||1!==ye)&&de.scale(tt,ye),(0!==Te||0!==Be)&&de.translate(-1*Te,-1*Be),de.dirty=!1,de}clone(z){let de,be,Fe,Le,tt,re=o.Util.cloneObject(this.attrs);for(de in z)re[de]=z[de];const ye=new this.constructor(re);for(de in this.eventListeners)for(be=this.eventListeners[de],Fe=be.length,Le=0;Le<Fe;Le++)tt=be[Le],tt.name.indexOf("konva")<0&&(ye.eventListeners[de]||(ye.eventListeners[de]=[]),ye.eventListeners[de].push(tt));return ye}_toKonvaCanvas(z){z=z||{};const re=this.getClientRect(),de=this.getStage(),be=void 0!==z.x?z.x:Math.floor(re.x),Fe=void 0!==z.y?z.y:Math.floor(re.y),Le=z.pixelRatio||1,tt=new L.SceneCanvas({width:z.width||Math.ceil(re.width)||(de?de.width():0),height:z.height||Math.ceil(re.height)||(de?de.height():0),pixelRatio:Le}),ye=tt.getContext(),ve=new L.SceneCanvas({width:tt.width/tt.pixelRatio+Math.abs(be),height:tt.height/tt.pixelRatio+Math.abs(Fe),pixelRatio:tt.pixelRatio});return!1===z.imageSmoothingEnabled&&(ye._context.imageSmoothingEnabled=!1),ye.save(),(be||Fe)&&ye.translate(-1*be,-1*Fe),this.drawScene(tt,void 0,ve),ye.restore(),tt}toCanvas(z){return this._toKonvaCanvas(z)._canvas}toDataURL(z){const re=(z=z||{}).mimeType||null,de=z.quality||null,be=this._toKonvaCanvas(z).toDataURL(re,de);return z.callback&&z.callback(be),be}toImage(z){return new Promise((re,de)=>{try{const be=z?.callback;be&&delete z.callback,o.Util._urlToImage(this.toDataURL(z),function(Fe){re(Fe),be?.(Fe)})}catch(be){de(be)}})}toBlob(z){return new Promise((re,de)=>{try{const be=z?.callback;be&&delete z.callback,this.toCanvas(z).toBlob(Fe=>{re(Fe),be?.(Fe)},z?.mimeType,z?.quality)}catch(be){de(be)}})}setSize(z){return this.width(z.width),this.height(z.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():X.Konva.dragDistance}_off(z,re,de){let Fe,Le,tt,be=this.eventListeners[z];for(Fe=0;Fe<be.length;Fe++)if(Le=be[Fe].name,tt=be[Fe].handler,!("konva"===Le&&"konva"!==re||re&&Le!==re||de&&de!==tt)){if(be.splice(Fe,1),0===be.length){delete this.eventListeners[z];break}Fe--}}_fireChangeEvent(z,re,de){this._fire(z+"Change",{oldVal:re,newVal:de})}addName(z){if(!this.hasName(z)){const re=this.name();this.name(re?re+" "+z:z)}return this}hasName(z){if(!z)return!1;const re=this.name();return!!re&&-1!==(re||"").split(/\s/g).indexOf(z)}removeName(z){const re=(this.name()||"").split(/\s/g),de=re.indexOf(z);return-1!==de&&(re.splice(de,1),this.name(re.join(" "))),this}setAttr(z,re){const de=this["set"+o.Util._capitalize(z)];return o.Util._isFunction(de)?de.call(this,re):this._setAttr(z,re),this}_requestDraw(){X.Konva.autoDrawEnabled&&(this.getLayer()||this.getStage())?.batchDraw()}_setAttr(z,re){const de=this.attrs[z];de===re&&!o.Util.isObject(re)||(null==re?delete this.attrs[z]:this.attrs[z]=re,this._shouldFireChangeEvents&&this._fireChangeEvent(z,de,re),this._requestDraw())}_setComponentAttr(z,re,de){let be;void 0!==de&&(be=this.attrs[z],be||(this.attrs[z]=this.getAttr(z)),this.attrs[z][re]=de,this._fireChangeEvent(z,be,de))}_fireAndBubble(z,re,de){if(re&&this.nodeType===G&&(re.target=this),z!==Y&&z!==W||!(de&&(this===de||this.isAncestorOf&&this.isAncestorOf(de))||"Stage"===this.nodeType&&!de)){this._fire(z,re);const Fe=(z===Y||z===W)&&de&&de.isAncestorOf&&de.isAncestorOf(this)&&!de.isAncestorOf(this.parent);(re&&!re.cancelBubble||!re)&&this.parent&&this.parent.isListening()&&!Fe&&(de&&de.parent?this._fireAndBubble.call(this.parent,z,re,de):this._fireAndBubble.call(this.parent,z,re))}}_getProtoListeners(z){var re,de,be;const Fe=null!==(re=this._cache.get(D))&&void 0!==re?re:{};let Le=Fe?.[z];if(void 0===Le){Le=[];let tt=Object.getPrototypeOf(this);for(;tt;){const ye=null!==(be=null===(de=tt.eventListeners)||void 0===de?void 0:de[z])&&void 0!==be?be:[];Le.push(...ye),tt=Object.getPrototypeOf(tt)}Fe[z]=Le,this._cache.set(D,Fe)}return Le}_fire(z,re){(re=re||{}).currentTarget=this,re.type=z;const de=this._getProtoListeners(z);if(de)for(var be=0;be<de.length;be++)de[be].handler.call(this,re);const Fe=this.eventListeners[z];if(Fe)for(be=0;be<Fe.length;be++)Fe[be].handler.call(this,re)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(z){const re=z?z.pointerId:void 0,de=this.getStage(),be=this.getAbsolutePosition();if(!de)return;const Fe=de._getPointerById(re)||de._changedPointerPositions[0]||be;H.DD._dragElements.set(this._id,{node:this,startPointerPos:Fe,offset:{x:Fe.x-be.x,y:Fe.y-be.y},dragStatus:"ready",pointerId:re})}startDrag(z,re=!0){H.DD._dragElements.has(this._id)||this._createDragElement(z),H.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:z&&z.evt},re)}_setDragPosition(z,re){const de=this.getStage()._getPointerById(re.pointerId);if(!de)return;let be={x:de.x-re.offset.x,y:de.y-re.offset.y};const Fe=this.dragBoundFunc();if(void 0!==Fe){const Le=Fe.call(this,be,z);Le?be=Le:o.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==be.x||this._lastPos.y!==be.y)&&(this.setAbsolutePosition(be),this._requestDraw()),this._lastPos=be}stopDrag(z){const re=H.DD._dragElements.get(this._id);re&&(re.dragStatus="stopped"),H.DD._endDragBefore(z),H.DD._endDragAfter(z)}setDraggable(z){this._setAttr("draggable",z),this._dragChange()}isDragging(){const z=H.DD._dragElements.get(this._id);return!!z&&"dragging"===z.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(z){if(!(void 0===z.evt.button||X.Konva.dragButtons.indexOf(z.evt.button)>=0)||this.isDragging())return;let be=!1;H.DD._dragElements.forEach(Fe=>{this.isAncestorOf(Fe.node)&&(be=!0)}),be||this._createDragElement(z)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const re=H.DD._dragElements.get(this._id),be=re&&"ready"===re.dragStatus;re&&"dragging"===re.dragStatus?this.stopDrag():be&&H.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(z={x:0,y:0}){const re=this.getStage();if(!re)return!1;const de={x:-z.x,y:-z.y,width:re.width()+2*z.x,height:re.height()+2*z.y};return o.Util.haveIntersection(de,this.getClientRect())}static create(z,re){return o.Util._isString(z)&&(z=JSON.parse(z)),this._createNode(z,re)}static _createNode(z,re){let Fe,Le,tt,de=he.prototype.getClassName.call(z),be=z.children;if(re&&(z.attrs.container=re),X.Konva[de]||(o.Util.warn('Can not find a node with class name "'+de+'". Fallback to "Shape".'),de="Shape"),Fe=new(0,X.Konva[de])(z.attrs),be)for(Le=be.length,tt=0;tt<Le;tt++)Fe.add(he._createNode(be[tt]));return Fe}}V.Node=he,he.prototype.nodeType="Node",he.prototype._attrsAffectingSize=[],he.prototype.eventListeners={},he.prototype.on.call(he.prototype,ue,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(se),this._clearSelfAndDescendantCache(k))}),he.prototype.on.call(he.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(me)}),he.prototype.on.call(he.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(U)}),he.prototype.on.call(he.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(R)});const xe=$.Factory.addGetterSetter;xe(he,"zIndex"),xe(he,"absolutePosition"),xe(he,"position"),xe(he,"x",0,(0,M.getNumberValidator)()),xe(he,"y",0,(0,M.getNumberValidator)()),xe(he,"globalCompositeOperation","source-over",(0,M.getStringValidator)()),xe(he,"opacity",1,(0,M.getNumberValidator)()),xe(he,"name","",(0,M.getStringValidator)()),xe(he,"id","",(0,M.getStringValidator)()),xe(he,"rotation",0,(0,M.getNumberValidator)()),$.Factory.addComponentsGetterSetter(he,"scale",["x","y"]),xe(he,"scaleX",1,(0,M.getNumberValidator)()),xe(he,"scaleY",1,(0,M.getNumberValidator)()),$.Factory.addComponentsGetterSetter(he,"skew",["x","y"]),xe(he,"skewX",0,(0,M.getNumberValidator)()),xe(he,"skewY",0,(0,M.getNumberValidator)()),$.Factory.addComponentsGetterSetter(he,"offset",["x","y"]),xe(he,"offsetX",0,(0,M.getNumberValidator)()),xe(he,"offsetY",0,(0,M.getNumberValidator)()),xe(he,"dragDistance",void 0,(0,M.getNumberValidator)()),xe(he,"width",0,(0,M.getNumberValidator)()),xe(he,"height",0,(0,M.getNumberValidator)()),xe(he,"listening",!0,(0,M.getBooleanValidator)()),xe(he,"preventDefault",!0,(0,M.getBooleanValidator)()),xe(he,"filters",void 0,function(Re){return this._filterUpToDate=!1,Re}),xe(he,"visible",!0,(0,M.getBooleanValidator)()),xe(he,"transformsEnabled","all",(0,M.getStringValidator)()),xe(he,"size"),xe(he,"dragBoundFunc"),xe(he,"draggable",!1,(0,M.getBooleanValidator)()),$.Factory.backCompat(he,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},5940:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.getCapturedShape=function X(k){return $.get(k)},V.createEvent=H,V.hasPointerCapture=function M(k,I){return $.get(k)===I},V.setPointerCapture=function R(k,I){D(k),I.getStage()&&($.set(k,I),L&&I._fire("gotpointercapture",H(new PointerEvent("gotpointercapture"))))},V.releaseCapture=D;const o=C(9037),$=new Map,L=void 0!==o.Konva._global.PointerEvent;function H(k){return{evt:k,pointerId:k.pointerId}}function D(k,I){const A=$.get(k);A&&(A.getStage(),$.delete(k),L&&A._fire("lostpointercapture",H(new PointerEvent("lostpointercapture"))))}},4147:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Shape=V.shapes=void 0;const o=C(9037),$=C(2121),L=C(134),X=C(338),H=C(674),M=C(9037),R=C(5940),D="hasShadow",k="shadowRGBA",I="patternImage",A="linearGradient",O="radialGradient";let j;function B(){return j||(j=$.Util.createCanvasElement().getContext("2d"),j)}V.shapes={};class ie extends X.Node{constructor(ue){let J;for(super(ue);J=$.Util.getRandomColor(),!J||J in V.shapes;);this.colorKey=J,V.shapes[J]=this}getContext(){return $.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return $.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(D,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(I,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const J=B().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(J&&J.setTransform){const he=new $.Transform;he.translate(this.fillPatternX(),this.fillPatternY()),he.rotate(o.Konva.getAngle(this.fillPatternRotation())),he.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),he.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const xe=he.getMatrix(),Re=typeof DOMMatrix>"u"?{a:xe[0],b:xe[1],c:xe[2],d:xe[3],e:xe[4],f:xe[5]}:new DOMMatrix(xe);J.setTransform(Re)}return J}}_getLinearGradient(){return this._getCache(A,this.__getLinearGradient)}__getLinearGradient(){const ue=this.fillLinearGradientColorStops();if(ue){const J=B(),he=this.fillLinearGradientStartPoint(),xe=this.fillLinearGradientEndPoint(),Re=J.createLinearGradient(he.x,he.y,xe.x,xe.y);for(let z=0;z<ue.length;z+=2)Re.addColorStop(ue[z],ue[z+1]);return Re}}_getRadialGradient(){return this._getCache(O,this.__getRadialGradient)}__getRadialGradient(){const ue=this.fillRadialGradientColorStops();if(ue){const J=B(),he=this.fillRadialGradientStartPoint(),xe=this.fillRadialGradientEndPoint(),Re=J.createRadialGradient(he.x,he.y,this.fillRadialGradientStartRadius(),xe.x,xe.y,this.fillRadialGradientEndRadius());for(let z=0;z<ue.length;z+=2)Re.addColorStop(ue[z],ue[z+1]);return Re}}getShadowRGBA(){return this._getCache(k,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const ue=$.Util.colorToRGBA(this.shadowColor());return ue?"rgba("+ue.r+","+ue.g+","+ue.b+","+ue.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const ue=this.hitStrokeWidth();return"auto"===ue?this.hasStroke():this.strokeEnabled()&&!!ue}intersects(ue){const J=this.getStage();if(!J)return!1;const he=J.bufferHitCanvas;return he.getContext().clear(),this.drawHit(he,void 0,!0),he.context.getImageData(Math.round(ue.x),Math.round(ue.y),1,1).data[3]>0}destroy(){return X.Node.prototype.destroy.call(this),delete V.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(ue){var J;if(null!==(J=this.attrs.perfectDrawEnabled)&&void 0!==J&&!J)return!1;const xe=ue||this.hasFill(),Re=this.hasStroke(),z=1!==this.getAbsoluteOpacity();if(xe&&Re&&z)return!0;const re=this.hasShadow(),de=this.shadowForStrokeEnabled();return!!(xe&&Re&&re&&de)}setStrokeHitEnabled(ue){$.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(ue?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const ue=this.size();return{x:this._centroid?-ue.width/2:0,y:this._centroid?-ue.height/2:0,width:ue.width,height:ue.height}}getClientRect(ue={}){let J=!1,he=this.getParent();for(;he;){if(he.isCached()){J=!0;break}he=he.getParent()}const xe=ue.skipTransform,Re=ue.relativeTo||J&&this.getStage()||void 0,z=this.getSelfRect(),de=!ue.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,be=z.width+de,Fe=z.height+de,Le=!ue.skipShadow&&this.hasShadow(),tt=Le?this.shadowOffsetX():0,ye=Le?this.shadowOffsetY():0,ve=be+Math.abs(tt),ge=Fe+Math.abs(ye),Te=Le&&this.shadowBlur()||0,Oe={width:ve+2*Te,height:ge+2*Te,x:-(de/2+Te)+Math.min(tt,0)+z.x,y:-(de/2+Te)+Math.min(ye,0)+z.y};return xe?Oe:this._transformedRect(Oe,Re)}drawScene(ue,J,he){const xe=this.getLayer();let Fe,Le,Re=ue||xe.getCanvas(),z=Re.getContext(),re=this._getCanvasCache(),de=this.getSceneFunc(),be=this.hasShadow();const tt=Re.isCache,ye=J===this;if(!this.isVisible()&&!ye)return this;if(re){z.save();const ge=this.getAbsoluteTransform(J).getMatrix();return z.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]),this._drawCachedSceneCanvas(z),z.restore(),this}if(!de)return this;if(z.save(),this._useBufferCanvas()&&!tt){Fe=this.getStage();const ge=he||Fe.bufferCanvas;Le=ge.getContext(),Le.clear(),Le.save(),Le._applyLineJoin(this);var ve=this.getAbsoluteTransform(J).getMatrix();Le.transform(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5]),de.call(this,Le,this),Le.restore();const Te=ge.pixelRatio;be&&z._applyShadow(this),z._applyOpacity(this),z._applyGlobalCompositeOperation(this),z.drawImage(ge._canvas,0,0,ge.width/Te,ge.height/Te)}else z._applyLineJoin(this),ye||(ve=this.getAbsoluteTransform(J).getMatrix(),z.transform(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5]),z._applyOpacity(this),z._applyGlobalCompositeOperation(this)),be&&z._applyShadow(this),de.call(this,z,this);return z.restore(),this}drawHit(ue,J,he=!1){if(!this.shouldDrawHit(J,he))return this;const xe=this.getLayer(),Re=ue||xe.hitCanvas,z=Re&&Re.getContext(),re=this.hitFunc()||this.sceneFunc(),de=this._getCanvasCache(),be=de&&de.hit;if(this.colorKey||$.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),be){z.save();const Le=this.getAbsoluteTransform(J).getMatrix();return z.transform(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5]),this._drawCachedHitCanvas(z),z.restore(),this}if(!re)return this;if(z.save(),z._applyLineJoin(this),this!==J){const Le=this.getAbsoluteTransform(J).getMatrix();z.transform(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5])}return re.call(this,z,this),z.restore(),this}drawHitFromCache(ue=0){const J=this._getCanvasCache(),he=this._getCachedSceneCanvas(),xe=J.hit,Re=xe.getContext(),z=xe.getWidth(),re=xe.getHeight();Re.clear(),Re.drawImage(he._canvas,0,0,z,re);try{const de=Re.getImageData(0,0,z,re),be=de.data,Fe=be.length,Le=$.Util._hexToRgb(this.colorKey);for(let tt=0;tt<Fe;tt+=4)be[tt+3]>ue?(be[tt]=Le.r,be[tt+1]=Le.g,be[tt+2]=Le.b,be[tt+3]=255):be[tt+3]=0;Re.putImageData(de,0,0)}catch(de){$.Util.error("Unable to draw hit graph from cached scene canvas. "+de.message)}return this}hasPointerCapture(ue){return R.hasPointerCapture(ue,this)}setPointerCapture(ue){R.setPointerCapture(ue,this)}releaseCapture(ue){R.releaseCapture(ue,this)}}V.Shape=ie,ie.prototype._fillFunc=function U(me){const ue=this.attrs.fillRule;ue?me.fill(ue):me.fill()},ie.prototype._strokeFunc=function Y(me){me.stroke()},ie.prototype._fillFuncHit=function W(me){const ue=this.attrs.fillRule;ue?me.fill(ue):me.fill()},ie.prototype._strokeFuncHit=function ne(me){me.stroke()},ie.prototype._centroid=!1,ie.prototype.nodeType="Shape",(0,M._registerNode)(ie),ie.prototype.eventListeners={},ie.prototype.on.call(ie.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function E(){this._clearCache(D)}),ie.prototype.on.call(ie.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function G(){this._clearCache(k)}),ie.prototype.on.call(ie.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function K(){this._clearCache(I)}),ie.prototype.on.call(ie.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function te(){this._clearCache(A)}),ie.prototype.on.call(ie.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function se(){this._clearCache(O)}),L.Factory.addGetterSetter(ie,"stroke",void 0,(0,H.getStringOrGradientValidator)()),L.Factory.addGetterSetter(ie,"strokeWidth",2,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillAfterStrokeEnabled",!1),L.Factory.addGetterSetter(ie,"hitStrokeWidth","auto",(0,H.getNumberOrAutoValidator)()),L.Factory.addGetterSetter(ie,"strokeHitEnabled",!0,(0,H.getBooleanValidator)()),L.Factory.addGetterSetter(ie,"perfectDrawEnabled",!0,(0,H.getBooleanValidator)()),L.Factory.addGetterSetter(ie,"shadowForStrokeEnabled",!0,(0,H.getBooleanValidator)()),L.Factory.addGetterSetter(ie,"lineJoin"),L.Factory.addGetterSetter(ie,"lineCap"),L.Factory.addGetterSetter(ie,"sceneFunc"),L.Factory.addGetterSetter(ie,"hitFunc"),L.Factory.addGetterSetter(ie,"dash"),L.Factory.addGetterSetter(ie,"dashOffset",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"shadowColor",void 0,(0,H.getStringValidator)()),L.Factory.addGetterSetter(ie,"shadowBlur",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"shadowOpacity",1,(0,H.getNumberValidator)()),L.Factory.addComponentsGetterSetter(ie,"shadowOffset",["x","y"]),L.Factory.addGetterSetter(ie,"shadowOffsetX",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"shadowOffsetY",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillPatternImage"),L.Factory.addGetterSetter(ie,"fill",void 0,(0,H.getStringOrGradientValidator)()),L.Factory.addGetterSetter(ie,"fillPatternX",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillPatternY",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillLinearGradientColorStops"),L.Factory.addGetterSetter(ie,"strokeLinearGradientColorStops"),L.Factory.addGetterSetter(ie,"fillRadialGradientStartRadius",0),L.Factory.addGetterSetter(ie,"fillRadialGradientEndRadius",0),L.Factory.addGetterSetter(ie,"fillRadialGradientColorStops"),L.Factory.addGetterSetter(ie,"fillPatternRepeat","repeat"),L.Factory.addGetterSetter(ie,"fillEnabled",!0),L.Factory.addGetterSetter(ie,"strokeEnabled",!0),L.Factory.addGetterSetter(ie,"shadowEnabled",!0),L.Factory.addGetterSetter(ie,"dashEnabled",!0),L.Factory.addGetterSetter(ie,"strokeScaleEnabled",!0),L.Factory.addGetterSetter(ie,"fillPriority","color"),L.Factory.addComponentsGetterSetter(ie,"fillPatternOffset",["x","y"]),L.Factory.addGetterSetter(ie,"fillPatternOffsetX",0,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillPatternOffsetY",0,(0,H.getNumberValidator)()),L.Factory.addComponentsGetterSetter(ie,"fillPatternScale",["x","y"]),L.Factory.addGetterSetter(ie,"fillPatternScaleX",1,(0,H.getNumberValidator)()),L.Factory.addGetterSetter(ie,"fillPatternScaleY",1,(0,H.getNumberValidator)()),L.Factory.addComponentsGetterSetter(ie,"fillLinearGradientStartPoint",["x","y"]),L.Factory.addComponentsGetterSetter(ie,"strokeLinearGradientStartPoint",["x","y"]),L.Factory.addGetterSetter(ie,"fillLinearGradientStartPointX",0),L.Factory.addGetterSetter(ie,"strokeLinearGradientStartPointX",0),L.Factory.addGetterSetter(ie,"fillLinearGradientStartPointY",0),L.Factory.addGetterSetter(ie,"strokeLinearGradientStartPointY",0),L.Factory.addComponentsGetterSetter(ie,"fillLinearGradientEndPoint",["x","y"]),L.Factory.addComponentsGetterSetter(ie,"strokeLinearGradientEndPoint",["x","y"]),L.Factory.addGetterSetter(ie,"fillLinearGradientEndPointX",0),L.Factory.addGetterSetter(ie,"strokeLinearGradientEndPointX",0),L.Factory.addGetterSetter(ie,"fillLinearGradientEndPointY",0),L.Factory.addGetterSetter(ie,"strokeLinearGradientEndPointY",0),L.Factory.addComponentsGetterSetter(ie,"fillRadialGradientStartPoint",["x","y"]),L.Factory.addGetterSetter(ie,"fillRadialGradientStartPointX",0),L.Factory.addGetterSetter(ie,"fillRadialGradientStartPointY",0),L.Factory.addComponentsGetterSetter(ie,"fillRadialGradientEndPoint",["x","y"]),L.Factory.addGetterSetter(ie,"fillRadialGradientEndPointX",0),L.Factory.addGetterSetter(ie,"fillRadialGradientEndPointY",0),L.Factory.addGetterSetter(ie,"fillPatternRotation",0),L.Factory.addGetterSetter(ie,"fillRule",void 0,(0,H.getStringValidator)()),L.Factory.backCompat(ie,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},4185:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Stage=V.stages=void 0;const o=C(2121),$=C(134),L=C(2632),X=C(9037),H=C(1161),M=C(4505),R=C(9037),D=C(5940),j="mouseleave",B="mouseover",U="mouseenter",Y="mousemove",W="mousedown",ne="mouseup",E="pointermove",G="pointerdown",K="pointerup",te="pointercancel",ie="pointerout",me="pointerleave",ue="pointerover",J="pointerenter",he="contextmenu",xe="touchstart",Re="touchend",z="touchmove",re="touchcancel",de="wheel",Fe=[[U,"_pointerenter"],[W,"_pointerdown"],[Y,"_pointermove"],[ne,"_pointerup"],[j,"_pointerleave"],[xe,"_pointerdown"],[z,"_pointermove"],[Re,"_pointerup"],[re,"_pointercancel"],[B,"_pointerover"],[de,"_wheel"],[he,"_contextmenu"],[G,"_pointerdown"],[E,"_pointermove"],[K,"_pointerup"],[te,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],Le={mouse:{[ie]:"mouseout",[me]:j,[ue]:B,[J]:U,[E]:Y,[G]:W,[K]:ne,[te]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ie]:"touchout",[me]:"touchleave",[ue]:"touchover",[J]:"touchenter",[E]:z,[G]:xe,[K]:Re,[te]:re,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ie]:ie,[me]:me,[ue]:ue,[J]:J,[E]:E,[G]:G,[K]:K,[te]:te,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},tt=Be=>Be.indexOf("pointer")>=0?"pointer":Be.indexOf("touch")>=0?"touch":"mouse",ye=Be=>{const ce=tt(Be);return"pointer"===ce?X.Konva.pointerEventsEnabled&&Le.pointer:"touch"===ce?Le.touch:"mouse"===ce?Le.mouse:void 0};function ve(Be={}){return(Be.clipFunc||Be.clipWidth||Be.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Be}V.stages=[];class Te extends L.Container{constructor(ce){super(ve(ce)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),V.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ve(this.attrs)}),this._checkVisibility()}_validateAdd(ce){const Oe="Layer"===ce.getType(),Xe="FastLayer"===ce.getType();Oe||Xe||o.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ce=this.visible()?"":"none";this.content.style.display=ce}setContainer(ce){if("string"==typeof ce){if("."===ce.charAt(0)){const Xe=ce.slice(1);ce=document.getElementsByClassName(Xe)[0]}else{var Oe;Oe="#"!==ce.charAt(0)?ce:ce.slice(1),ce=document.getElementById(Oe)}if(!ce)throw"Can not find container in document with id "+Oe}return this._setAttr("container",ce),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ce.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const ce=this.children,Oe=ce.length;for(let Xe=0;Xe<Oe;Xe++)ce[Xe].clear();return this}clone(ce){return ce||(ce={}),ce.container=typeof document<"u"&&document.createElement("div"),L.Container.prototype.clone.call(this,ce)}destroy(){super.destroy();const ce=this.content;ce&&o.Util._isInDocument(ce)&&this.container().removeChild(ce);const Oe=V.stages.indexOf(this);return Oe>-1&&V.stages.splice(Oe,1),o.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ce=this._pointerPositions[0]||this._changedPointerPositions[0];return ce?{x:ce.x,y:ce.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(ce){return this._pointerPositions.find(Oe=>Oe.id===ce)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ce){(ce=ce||{}).x=ce.x||0,ce.y=ce.y||0,ce.width=ce.width||this.width(),ce.height=ce.height||this.height();const Oe=new H.SceneCanvas({width:ce.width,height:ce.height,pixelRatio:ce.pixelRatio||1}),Xe=Oe.getContext()._context,wt=this.children;return(ce.x||ce.y)&&Xe.translate(-1*ce.x,-1*ce.y),wt.forEach(function(Ke){if(!Ke.isVisible())return;const dt=Ke._toKonvaCanvas(ce);Xe.drawImage(dt._canvas,ce.x,ce.y,dt.getWidth()/dt.getPixelRatio(),dt.getHeight()/dt.getPixelRatio())}),Oe}getIntersection(ce){if(!ce)return null;const Oe=this.children;for(let Ke=Oe.length-1;Ke>=0;Ke--){const dt=Oe[Ke].getIntersection(ce);if(dt)return dt}return null}_resizeDOM(){const ce=this.width(),Oe=this.height();this.content&&(this.content.style.width=ce+"px",this.content.style.height=Oe+"px"),this.bufferCanvas.setSize(ce,Oe),this.bufferHitCanvas.setSize(ce,Oe),this.children.forEach(Xe=>{Xe.setSize({width:ce,height:Oe}),Xe.draw()})}add(ce,...Oe){if(arguments.length>1){for(let wt=0;wt<arguments.length;wt++)this.add(arguments[wt]);return this}super.add(ce);const Xe=this.children.length;return Xe>5&&o.Util.warn("The stage has "+Xe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ce.setSize({width:this.width(),height:this.height()}),ce.draw(),X.Konva.isBrowser&&this.content.appendChild(ce.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ce){return D.hasPointerCapture(ce,this)}setPointerCapture(ce){D.setPointerCapture(ce,this)}releaseCapture(ce){D.releaseCapture(ce,this)}getLayers(){return this.children}_bindContentEvents(){X.Konva.isBrowser&&Fe.forEach(([ce,Oe])=>{this.content.addEventListener(ce,Xe=>{this[Oe](Xe)},{passive:!1})})}_pointerenter(ce){this.setPointersPositions(ce);const Oe=ye(ce.type);Oe&&this._fire(Oe.pointerenter,{evt:ce,target:this,currentTarget:this})}_pointerover(ce){this.setPointersPositions(ce);const Oe=ye(ce.type);Oe&&this._fire(Oe.pointerover,{evt:ce,target:this,currentTarget:this})}_getTargetShape(ce){let Oe=this[ce+"targetShape"];return Oe&&!Oe.getStage()&&(Oe=null),Oe}_pointerleave(ce){const Oe=ye(ce.type),Xe=tt(ce.type);if(!Oe)return;this.setPointersPositions(ce);const wt=this._getTargetShape(Xe),Ke=!(X.Konva.isDragging()||X.Konva.isTransforming())||X.Konva.hitOnDragEnabled;wt&&Ke?(wt._fireAndBubble(Oe.pointerout,{evt:ce}),wt._fireAndBubble(Oe.pointerleave,{evt:ce}),this._fire(Oe.pointerleave,{evt:ce,target:this,currentTarget:this}),this[Xe+"targetShape"]=null):Ke&&(this._fire(Oe.pointerleave,{evt:ce,target:this,currentTarget:this}),this._fire(Oe.pointerout,{evt:ce,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(ce){const Oe=ye(ce.type),Xe=tt(ce.type);if(!Oe)return;this.setPointersPositions(ce);let wt=!1;this._changedPointerPositions.forEach(Ke=>{const dt=this.getIntersection(Ke);if(M.DD.justDragged=!1,X.Konva["_"+Xe+"ListenClick"]=!0,!dt||!dt.isListening())return void(this[Xe+"ClickStartShape"]=void 0);X.Konva.capturePointerEventsEnabled&&dt.setPointerCapture(Ke.id),this[Xe+"ClickStartShape"]=dt,dt._fireAndBubble(Oe.pointerdown,{evt:ce,pointerId:Ke.id}),wt=!0;const Tt=ce.type.indexOf("touch")>=0;dt.preventDefault()&&ce.cancelable&&Tt&&ce.preventDefault()}),wt||this._fire(Oe.pointerdown,{evt:ce,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(ce){const Oe=ye(ce.type),Xe=tt(ce.type);if(!Oe||(X.Konva.isDragging()&&M.DD.node.preventDefault()&&ce.cancelable&&ce.preventDefault(),this.setPointersPositions(ce),(X.Konva.isDragging()||X.Konva.isTransforming())&&!X.Konva.hitOnDragEnabled))return;const Ke={};let dt=!1;const Tt=this._getTargetShape(Xe);this._changedPointerPositions.forEach(gn=>{const bt=D.getCapturedShape(gn.id)||this.getIntersection(gn),on=gn.id,bn={evt:ce,pointerId:on},Ht=Tt!==bt;if(Ht&&Tt&&(Tt._fireAndBubble(Oe.pointerout,{...bn},bt),Tt._fireAndBubble(Oe.pointerleave,{...bn},bt)),bt){if(Ke[bt._id])return;Ke[bt._id]=!0}bt&&bt.isListening()?(dt=!0,Ht&&(bt._fireAndBubble(Oe.pointerover,{...bn},Tt),bt._fireAndBubble(Oe.pointerenter,{...bn},Tt),this[Xe+"targetShape"]=bt),bt._fireAndBubble(Oe.pointermove,{...bn})):Tt&&(this._fire(Oe.pointerover,{evt:ce,target:this,currentTarget:this,pointerId:on}),this[Xe+"targetShape"]=null)}),dt||this._fire(Oe.pointermove,{evt:ce,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ce){const Oe=ye(ce.type),Xe=tt(ce.type);if(!Oe)return;this.setPointersPositions(ce);const wt=this[Xe+"ClickStartShape"],Ke=this[Xe+"ClickEndShape"],dt={};let Tt=!1;this._changedPointerPositions.forEach(gn=>{const bt=D.getCapturedShape(gn.id)||this.getIntersection(gn);if(bt){if(bt.releaseCapture(gn.id),dt[bt._id])return;dt[bt._id]=!0}const on=gn.id,bn={evt:ce,pointerId:on};let Ht=!1;X.Konva["_"+Xe+"InDblClickWindow"]?(Ht=!0,clearTimeout(this[Xe+"DblTimeout"])):M.DD.justDragged||(X.Konva["_"+Xe+"InDblClickWindow"]=!0,clearTimeout(this[Xe+"DblTimeout"])),this[Xe+"DblTimeout"]=setTimeout(function(){X.Konva["_"+Xe+"InDblClickWindow"]=!1},X.Konva.dblClickWindow),bt&&bt.isListening()?(Tt=!0,this[Xe+"ClickEndShape"]=bt,bt._fireAndBubble(Oe.pointerup,{...bn}),X.Konva["_"+Xe+"ListenClick"]&&wt&&wt===bt&&(bt._fireAndBubble(Oe.pointerclick,{...bn}),Ht&&Ke&&Ke===bt&&bt._fireAndBubble(Oe.pointerdblclick,{...bn}))):(this[Xe+"ClickEndShape"]=null,X.Konva["_"+Xe+"ListenClick"]&&this._fire(Oe.pointerclick,{evt:ce,target:this,currentTarget:this,pointerId:on}),Ht&&this._fire(Oe.pointerdblclick,{evt:ce,target:this,currentTarget:this,pointerId:on}))}),Tt||this._fire(Oe.pointerup,{evt:ce,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),X.Konva["_"+Xe+"ListenClick"]=!1,ce.cancelable&&"touch"!==Xe&&"pointer"!==Xe&&ce.preventDefault()}_contextmenu(ce){this.setPointersPositions(ce);const Oe=this.getIntersection(this.getPointerPosition());Oe&&Oe.isListening()?Oe._fireAndBubble(he,{evt:ce}):this._fire(he,{evt:ce,target:this,currentTarget:this})}_wheel(ce){this.setPointersPositions(ce);const Oe=this.getIntersection(this.getPointerPosition());Oe&&Oe.isListening()?Oe._fireAndBubble(de,{evt:ce}):this._fire(de,{evt:ce,target:this,currentTarget:this})}_pointercancel(ce){this.setPointersPositions(ce);const Oe=D.getCapturedShape(ce.pointerId)||this.getIntersection(this.getPointerPosition());Oe&&Oe._fireAndBubble(K,D.createEvent(ce)),D.releaseCapture(ce.pointerId)}_lostpointercapture(ce){D.releaseCapture(ce.pointerId)}setPointersPositions(ce){const Oe=this._getContentPosition();let Xe=null,wt=null;void 0!==(ce=ce||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ce.touches,Ke=>{this._pointerPositions.push({id:Ke.identifier,x:(Ke.clientX-Oe.left)/Oe.scaleX,y:(Ke.clientY-Oe.top)/Oe.scaleY})}),Array.prototype.forEach.call(ce.changedTouches||ce.touches,Ke=>{this._changedPointerPositions.push({id:Ke.identifier,x:(Ke.clientX-Oe.left)/Oe.scaleX,y:(Ke.clientY-Oe.top)/Oe.scaleY})})):(Xe=(ce.clientX-Oe.left)/Oe.scaleX,wt=(ce.clientY-Oe.top)/Oe.scaleY,this.pointerPos={x:Xe,y:wt},this._pointerPositions=[{x:Xe,y:wt,id:o.Util._getFirstPointerId(ce)}],this._changedPointerPositions=[{x:Xe,y:wt,id:o.Util._getFirstPointerId(ce)}])}_setPointerPosition(ce){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ce)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const ce=this.content.getBoundingClientRect();return{top:ce.top,left:ce.left,scaleX:ce.width/this.content.clientWidth||1,scaleY:ce.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new H.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new H.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!X.Konva.isBrowser)return;const ce=this.container();if(!ce)throw"Stage has no container. A container is required.";ce.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ce.appendChild(this.content),this._resizeDOM()}cache(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ce){ce.batchDraw()}),this}}V.Stage=Te,Te.prototype.nodeType="Stage",(0,R._registerNode)(Te),$.Factory.addGetterSetter(Te,"container"),X.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{V.stages.forEach(Be=>{Be.batchDraw()})})},8859:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Easings=V.Tween=void 0;const o=C(2121),$=C(1771),L=C(338),X=C(9037),H={node:1,duration:1,easing:1,onFinish:1,yoyo:1},k=["fill","stroke","shadowColor"];let I=0;class A{constructor(B,U,Y,W,ne,E,G){this.prop=B,this.propFunc=U,this.begin=W,this._pos=W,this.duration=E,this._change=0,this.prevPos=0,this.yoyo=G,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=Y,this._change=ne-this.begin,this.pause()}fire(B){const U=this[B];U&&U()}setTime(B){B>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():B<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=B,this.update())}getTime(){return this._time}setPosition(B){this.prevPos=this._pos,this.propFunc(B),this._pos=B}getPosition(B){return void 0===B&&(B=this._time),this.func(B,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(B){this.pause(),this._time=B,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const B=this.getTimer()-this._startTime;2===this.state?this.setTime(B):3===this.state&&this.setTime(this.duration-B)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class O{constructor(B){const U=this,Y=B.node,W=Y._id,ne=B.easing||V.Easings.Linear,E=!!B.yoyo;let G,K;G=typeof B.duration>"u"?.3:0===B.duration?.001:B.duration,this.node=Y,this._id=I++;const te=Y.getLayer()||(Y instanceof X.Konva.Stage?Y.getLayers():null);for(K in te||o.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new $.Animation(function(){U.tween.onEnterFrame()},te),this.tween=new A(K,function(se){U._tweenFunc(se)},ne,0,1,1e3*G,E),this._addListeners(),O.attrs[W]||(O.attrs[W]={}),O.attrs[W][this._id]||(O.attrs[W][this._id]={}),O.tweens[W]||(O.tweens[W]={}),B)void 0===H[K]&&this._addAttr(K,B[K]);this.reset(),this.onFinish=B.onFinish,this.onReset=B.onReset,this.onUpdate=B.onUpdate}_addAttr(B,U){const Y=this.node,W=Y._id;let ne,E,G,K,te;const se=O.tweens[W][B];se&&delete O.attrs[W][se][B];let ie=Y.getAttr(B);if(o.Util._isArray(U))if(ne=[],E=Math.max(U.length,ie.length),"points"===B&&U.length!==ie.length&&(U.length>ie.length?(K=ie,ie=o.Util._prepareArrayForTween(ie,U,Y.closed())):(G=U,U=o.Util._prepareArrayForTween(U,ie,Y.closed()))),0===B.indexOf("fill"))for(let me=0;me<E;me++)if(me%2==0)ne.push(U[me]-ie[me]);else{const ue=o.Util.colorToRGBA(ie[me]);te=o.Util.colorToRGBA(U[me]),ie[me]=ue,ne.push({r:te.r-ue.r,g:te.g-ue.g,b:te.b-ue.b,a:te.a-ue.a})}else for(let me=0;me<E;me++)ne.push(U[me]-ie[me]);else-1!==k.indexOf(B)?(ie=o.Util.colorToRGBA(ie),te=o.Util.colorToRGBA(U),ne={r:te.r-ie.r,g:te.g-ie.g,b:te.b-ie.b,a:te.a-ie.a}):ne=U-ie;O.attrs[W][this._id][B]={start:ie,diff:ne,end:U,trueEnd:G,trueStart:K},O.tweens[W][B]=this._id}_tweenFunc(B){const U=this.node,Y=O.attrs[U._id][this._id];let W,ne,E,G,K,te,se,ie;for(W in Y){if(ne=Y[W],E=ne.start,G=ne.diff,ie=ne.end,o.Util._isArray(E))if(K=[],se=Math.max(E.length,ie.length),0===W.indexOf("fill"))for(te=0;te<se;te++)K.push(te%2==0?(E[te]||0)+G[te]*B:"rgba("+Math.round(E[te].r+G[te].r*B)+","+Math.round(E[te].g+G[te].g*B)+","+Math.round(E[te].b+G[te].b*B)+","+(E[te].a+G[te].a*B)+")");else for(te=0;te<se;te++)K.push((E[te]||0)+G[te]*B);else K=-1!==k.indexOf(W)?"rgba("+Math.round(E.r+G.r*B)+","+Math.round(E.g+G.g*B)+","+Math.round(E.b+G.b*B)+","+(E.a+G.a*B)+")":E+G*B;U.setAttr(W,K)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const B=this.node,U=O.attrs[B._id][this._id];U.points&&U.points.trueEnd&&B.setAttr("points",U.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const B=this.node,U=O.attrs[B._id][this._id];U.points&&U.points.trueStart&&B.points(U.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(B){return this.tween.seek(1e3*B),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const B=this.node._id,U=this._id,Y=O.tweens[B];this.pause();for(const W in Y)delete O.tweens[B][W];delete O.attrs[B][U]}}V.Tween=O,O.attrs={},O.tweens={},L.Node.prototype.to=function(j){const B=j.onFinish;j.node=this,j.onFinish=function(){this.destroy(),B&&B()},new O(j).play()},V.Easings={BackEaseIn:(j,B,U,Y)=>U*(j/=Y)*j*(2.70158*j-1.70158)+B,BackEaseOut:(j,B,U,Y)=>U*((j=j/Y-1)*j*(2.70158*j+1.70158)+1)+B,BackEaseInOut(j,B,U,Y){let W=1.70158;return(j/=Y/2)<1?U/2*(j*j*((1+(W*=1.525))*j-W))+B:U/2*((j-=2)*j*((1+(W*=1.525))*j+W)+2)+B},ElasticEaseIn(j,B,U,Y,W,ne){let E=0;return 0===j?B:1==(j/=Y)?B+U:(ne||(ne=.3*Y),!W||W<Math.abs(U)?(W=U,E=ne/4):E=ne/(2*Math.PI)*Math.asin(U/W),-W*Math.pow(2,10*(j-=1))*Math.sin((j*Y-E)*(2*Math.PI)/ne)+B)},ElasticEaseOut(j,B,U,Y,W,ne){let E=0;return 0===j?B:1==(j/=Y)?B+U:(ne||(ne=.3*Y),!W||W<Math.abs(U)?(W=U,E=ne/4):E=ne/(2*Math.PI)*Math.asin(U/W),W*Math.pow(2,-10*j)*Math.sin((j*Y-E)*(2*Math.PI)/ne)+U+B)},ElasticEaseInOut(j,B,U,Y,W,ne){let E=0;return 0===j?B:2==(j/=Y/2)?B+U:(ne||(ne=Y*(.3*1.5)),!W||W<Math.abs(U)?(W=U,E=ne/4):E=ne/(2*Math.PI)*Math.asin(U/W),j<1?W*Math.pow(2,10*(j-=1))*Math.sin((j*Y-E)*(2*Math.PI)/ne)*-.5+B:W*Math.pow(2,-10*(j-=1))*Math.sin((j*Y-E)*(2*Math.PI)/ne)*.5+U+B)},BounceEaseOut:(j,B,U,Y)=>(j/=Y)<1/2.75?U*(7.5625*j*j)+B:j<2/2.75?U*(7.5625*(j-=1.5/2.75)*j+.75)+B:j<2.5/2.75?U*(7.5625*(j-=2.25/2.75)*j+.9375)+B:U*(7.5625*(j-=2.625/2.75)*j+.984375)+B,BounceEaseIn:(j,B,U,Y)=>U-V.Easings.BounceEaseOut(Y-j,0,U,Y)+B,BounceEaseInOut:(j,B,U,Y)=>j<Y/2?.5*V.Easings.BounceEaseIn(2*j,0,U,Y)+B:.5*V.Easings.BounceEaseOut(2*j-Y,0,U,Y)+.5*U+B,EaseIn:(j,B,U,Y)=>U*(j/=Y)*j+B,EaseOut:(j,B,U,Y)=>-U*(j/=Y)*(j-2)+B,EaseInOut:(j,B,U,Y)=>(j/=Y/2)<1?U/2*j*j+B:-U/2*(--j*(j-2)-1)+B,StrongEaseIn:(j,B,U,Y)=>U*(j/=Y)*j*j*j*j+B,StrongEaseOut:(j,B,U,Y)=>U*((j=j/Y-1)*j*j*j*j+1)+B,StrongEaseInOut:(j,B,U,Y)=>(j/=Y/2)<1?U/2*j*j*j*j*j+B:U/2*((j-=2)*j*j*j*j+2)+B,Linear:(j,B,U,Y)=>U*j/Y+B}},2121:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Util=V.Transform=void 0;const o=C(9037);class ${constructor(G=[1,0,0,1,0,0]){this.dirty=!1,this.m=G&&G.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new $(this.m)}copyInto(G){G.m[0]=this.m[0],G.m[1]=this.m[1],G.m[2]=this.m[2],G.m[3]=this.m[3],G.m[4]=this.m[4],G.m[5]=this.m[5]}point(G){const K=this.m;return{x:K[0]*G.x+K[2]*G.y+K[4],y:K[1]*G.x+K[3]*G.y+K[5]}}translate(G,K){return this.m[4]+=this.m[0]*G+this.m[2]*K,this.m[5]+=this.m[1]*G+this.m[3]*K,this}scale(G,K){return this.m[0]*=G,this.m[1]*=G,this.m[2]*=K,this.m[3]*=K,this}rotate(G){const K=Math.cos(G),te=Math.sin(G),ie=this.m[1]*K+this.m[3]*te,me=this.m[0]*-te+this.m[2]*K,ue=this.m[1]*-te+this.m[3]*K;return this.m[0]=this.m[0]*K+this.m[2]*te,this.m[1]=ie,this.m[2]=me,this.m[3]=ue,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(G,K){const se=this.m[1]+this.m[3]*K,ie=this.m[2]+this.m[0]*G,me=this.m[3]+this.m[1]*G;return this.m[0]=this.m[0]+this.m[2]*K,this.m[1]=se,this.m[2]=ie,this.m[3]=me,this}multiply(G){const te=this.m[1]*G.m[0]+this.m[3]*G.m[1],se=this.m[0]*G.m[2]+this.m[2]*G.m[3],ie=this.m[1]*G.m[2]+this.m[3]*G.m[3],me=this.m[0]*G.m[4]+this.m[2]*G.m[5]+this.m[4],ue=this.m[1]*G.m[4]+this.m[3]*G.m[5]+this.m[5];return this.m[0]=this.m[0]*G.m[0]+this.m[2]*G.m[1],this.m[1]=te,this.m[2]=se,this.m[3]=ie,this.m[4]=me,this.m[5]=ue,this}invert(){const G=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),te=-this.m[1]*G,se=-this.m[2]*G,ie=this.m[0]*G,me=G*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),ue=G*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*G,this.m[1]=te,this.m[2]=se,this.m[3]=ie,this.m[4]=me,this.m[5]=ue,this}getMatrix(){return this.m}decompose(){const G=this.m[0],K=this.m[1],te=this.m[2],se=this.m[3],ue=G*se-K*te,J={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=G||0!=K){const he=Math.sqrt(G*G+K*K);J.rotation=K>0?Math.acos(G/he):-Math.acos(G/he),J.scaleX=he,J.scaleY=ue/he,J.skewX=(G*te+K*se)/ue,J.skewY=0}else if(0!=te||0!=se){const he=Math.sqrt(te*te+se*se);J.rotation=Math.PI/2-(se>0?Math.acos(-te/he):-Math.acos(te/he)),J.scaleX=ue/he,J.scaleY=he,J.skewX=0,J.skewY=(G*te+K*se)/ue}return J.rotation=V.Util._getRotation(J.rotation),J}}V.Transform=$;const R=Math.PI/180,D=180/Math.PI,j="Konva error: ",U={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Y=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let W=[];const ne=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(E){setTimeout(E,60)};V.Util={_isElement:E=>!(!E||1!=E.nodeType),_isFunction:E=>!!(E&&E.constructor&&E.call&&E.apply),_isPlainObject:E=>!!E&&E.constructor===Object,_isArray:E=>"[object Array]"===Object.prototype.toString.call(E),_isNumber:E=>"[object Number]"===Object.prototype.toString.call(E)&&!isNaN(E)&&isFinite(E),_isString:E=>"[object String]"===Object.prototype.toString.call(E),_isBoolean:E=>"[object Boolean]"===Object.prototype.toString.call(E),isObject:E=>E instanceof Object,isValidSelector(E){if("string"!=typeof E)return!1;const G=E[0];return"#"===G||"."===G||G===G.toUpperCase()},_sign:E=>0===E||E>0?1:-1,requestAnimFrame(E){W.push(E),1===W.length&&ne(function(){const G=W;W=[],G.forEach(function(K){K()})})},createCanvasElement(){const E=document.createElement("canvas");try{E.style=E.style||{}}catch{}return E},createImageElement:()=>document.createElement("img"),_isInDocument(E){for(;E=E.parentNode;)if(E==document)return!0;return!1},_urlToImage(E,G){const K=V.Util.createImageElement();K.onload=function(){G(K)},K.src=E},_rgbToHex:(E,G,K)=>((1<<24)+(E<<16)+(G<<8)+K).toString(16).slice(1),_hexToRgb(E){E=E.replace("#","");const G=parseInt(E,16);return{r:G>>16&255,g:G>>8&255,b:255&G}},getRandomColor(){let E=(16777215*Math.random()<<0).toString(16);for(;E.length<6;)E="0"+E;return"#"+E},getRGB(E){let G;return E in U?(G=U[E],{r:G[0],g:G[1],b:G[2]}):"#"===E[0]?this._hexToRgb(E.substring(1)):"rgb("===E.substr(0,4)?(G=Y.exec(E.replace(/ /g,"")),{r:parseInt(G[1],10),g:parseInt(G[2],10),b:parseInt(G[3],10)}):{r:0,g:0,b:0}},colorToRGBA:E=>V.Util._namedColorToRBA(E=E||"black")||V.Util._hex3ColorToRGBA(E)||V.Util._hex4ColorToRGBA(E)||V.Util._hex6ColorToRGBA(E)||V.Util._hex8ColorToRGBA(E)||V.Util._rgbColorToRGBA(E)||V.Util._rgbaColorToRGBA(E)||V.Util._hslColorToRGBA(E),_namedColorToRBA(E){const G=U[E.toLowerCase()];return G?{r:G[0],g:G[1],b:G[2],a:1}:null},_rgbColorToRGBA(E){if(0===E.indexOf("rgb(")){const G=(E=E.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:G[0],g:G[1],b:G[2],a:1}}},_rgbaColorToRGBA(E){if(0===E.indexOf("rgba(")){const G=(E=E.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((K,te)=>"%"===K.slice(-1)?3===te?parseInt(K)/100:parseInt(K)/100*255:Number(K));return{r:G[0],g:G[1],b:G[2],a:G[3]}}},_hex8ColorToRGBA(E){if("#"===E[0]&&9===E.length)return{r:parseInt(E.slice(1,3),16),g:parseInt(E.slice(3,5),16),b:parseInt(E.slice(5,7),16),a:parseInt(E.slice(7,9),16)/255}},_hex6ColorToRGBA(E){if("#"===E[0]&&7===E.length)return{r:parseInt(E.slice(1,3),16),g:parseInt(E.slice(3,5),16),b:parseInt(E.slice(5,7),16),a:1}},_hex4ColorToRGBA(E){if("#"===E[0]&&5===E.length)return{r:parseInt(E[1]+E[1],16),g:parseInt(E[2]+E[2],16),b:parseInt(E[3]+E[3],16),a:parseInt(E[4]+E[4],16)/255}},_hex3ColorToRGBA(E){if("#"===E[0]&&4===E.length)return{r:parseInt(E[1]+E[1],16),g:parseInt(E[2]+E[2],16),b:parseInt(E[3]+E[3],16),a:1}},_hslColorToRGBA(E){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(E)){const[G,...K]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(E),te=Number(K[0])/360,se=Number(K[1])/100,ie=Number(K[2])/100;let me,ue,J;if(0===se)return J=255*ie,{r:Math.round(J),g:Math.round(J),b:Math.round(J),a:1};me=ie<.5?ie*(1+se):ie+se-ie*se;const he=2*ie-me,xe=[0,0,0];for(let Re=0;Re<3;Re++)ue=te+1/3*-(Re-1),ue<0&&ue++,ue>1&&ue--,J=6*ue<1?he+6*(me-he)*ue:2*ue<1?me:3*ue<2?he+(me-he)*(2/3-ue)*6:he,xe[Re]=255*J;return{r:Math.round(xe[0]),g:Math.round(xe[1]),b:Math.round(xe[2]),a:1}}},haveIntersection:(E,G)=>!(G.x>E.x+E.width||G.x+G.width<E.x||G.y>E.y+E.height||G.y+G.height<E.y),cloneObject(E){const G={};for(const K in E)G[K]=this._isPlainObject(E[K])?this.cloneObject(E[K]):this._isArray(E[K])?this.cloneArray(E[K]):E[K];return G},cloneArray:E=>E.slice(0),degToRad:E=>E*R,radToDeg:E=>E*D,_degToRad:E=>(V.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),V.Util.degToRad(E)),_radToDeg:E=>(V.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),V.Util.radToDeg(E)),_getRotation:E=>o.Konva.angleDeg?V.Util.radToDeg(E):E,_capitalize:E=>E.charAt(0).toUpperCase()+E.slice(1),throw(E){throw new Error(j+E)},error(E){console.error(j+E)},warn(E){o.Konva.showWarnings&&console.warn("Konva warning: "+E)},each(E,G){for(const K in E)G(K,E[K])},_inRange:(E,G,K)=>G<=E&&E<K,_getProjectionToSegment(E,G,K,te,se,ie){let me,ue,J;const he=(E-K)*(E-K)+(G-te)*(G-te);if(0==he)me=E,ue=G,J=(se-K)*(se-K)+(ie-te)*(ie-te);else{const xe=((se-E)*(K-E)+(ie-G)*(te-G))/he;xe<0?(me=E,ue=G,J=(E-se)*(E-se)+(G-ie)*(G-ie)):xe>1?(me=K,ue=te,J=(K-se)*(K-se)+(te-ie)*(te-ie)):(me=E+xe*(K-E),ue=G+xe*(te-G),J=(me-se)*(me-se)+(ue-ie)*(ue-ie))}return[me,ue,J]},_getProjectionToLine(E,G,K){const te=V.Util.cloneObject(E);let se=Number.MAX_VALUE;return G.forEach(function(ie,me){if(!K&&me===G.length-1)return;const ue=G[(me+1)%G.length],J=V.Util._getProjectionToSegment(ie.x,ie.y,ue.x,ue.y,E.x,E.y),xe=J[1],Re=J[2];Re<se&&(te.x=J[0],te.y=xe,se=Re)}),te},_prepareArrayForTween(E,G,K){const te=[],se=[];if(E.length>G.length){const me=G;G=E,E=me}for(let me=0;me<E.length;me+=2)te.push({x:E[me],y:E[me+1]});for(let me=0;me<G.length;me+=2)se.push({x:G[me],y:G[me+1]});const ie=[];return se.forEach(function(me){const ue=V.Util._getProjectionToLine(me,te,K);ie.push(ue.x),ie.push(ue.y)}),ie},_prepareToStringify(E){let G;E.visitedByCircularReferenceRemoval=!0;for(const K in E)if(E.hasOwnProperty(K)&&E[K]&&"object"==typeof E[K])if(G=Object.getOwnPropertyDescriptor(E,K),E[K].visitedByCircularReferenceRemoval||V.Util._isElement(E[K])){if(!G.configurable)return null;delete E[K]}else if(null===V.Util._prepareToStringify(E[K])){if(!G.configurable)return null;delete E[K]}return delete E.visitedByCircularReferenceRemoval,E},_assign(E,G){for(const K in G)E[K]=G[K];return E},_getFirstPointerId:E=>E.touches?E.changedTouches[0].identifier:E.pointerId||999,releaseCanvas(...E){o.Konva.releaseCanvasOnDestroy&&E.forEach(G=>{G.width=0,G.height=0})},drawRoundedRectPath(E,G,K,te){let se=0,ie=0,me=0,ue=0;"number"==typeof te?se=ie=me=ue=Math.min(te,G/2,K/2):(se=Math.min(te[0]||0,G/2,K/2),ie=Math.min(te[1]||0,G/2,K/2),ue=Math.min(te[2]||0,G/2,K/2),me=Math.min(te[3]||0,G/2,K/2)),E.moveTo(se,0),E.lineTo(G-ie,0),E.arc(G-ie,ie,ie,3*Math.PI/2,0,!1),E.lineTo(G,K-ue),E.arc(G-ue,K-ue,ue,0,Math.PI/2,!1),E.lineTo(me,K),E.arc(me,K-me,me,Math.PI/2,Math.PI,!1),E.lineTo(0,se),E.arc(se,se,se,Math.PI,3*Math.PI/2,!1)}}},674:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RGBComponent=function X(U){return U>255?255:U<0?0:Math.round(U)},V.alphaComponent=function H(U){return U>1?1:U<1e-4?1e-4:U},V.getNumberValidator=function M(){if(o.Konva.isUnminified)return function(U,Y){return $.Util._isNumber(U)||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a number.'),U}},V.getNumberOrArrayOfNumbersValidator=function R(U){if(o.Konva.isUnminified)return function(Y,W){let ne=$.Util._isNumber(Y),E=$.Util._isArray(Y)&&Y.length==U;return!ne&&!E&&$.Util.warn(L(Y)+' is a not valid value for "'+W+'" attribute. The value should be a number or Array<number>('+U+")"),Y}},V.getNumberOrAutoValidator=function D(){if(o.Konva.isUnminified)return function(U,Y){return $.Util._isNumber(U)||"auto"===U||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a number or "auto".'),U}},V.getStringValidator=function k(){if(o.Konva.isUnminified)return function(U,Y){return $.Util._isString(U)||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a string.'),U}},V.getStringOrGradientValidator=function I(){if(o.Konva.isUnminified)return function(U,Y){const W=$.Util._isString(U),ne="[object CanvasGradient]"===Object.prototype.toString.call(U)||U&&U.addColorStop;return W||ne||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a string or a native gradient.'),U}},V.getFunctionValidator=function A(){if(o.Konva.isUnminified)return function(U,Y){return $.Util._isFunction(U)||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a function.'),U}},V.getNumberArrayValidator=function O(){if(o.Konva.isUnminified)return function(U,Y){const W=Int8Array?Object.getPrototypeOf(Int8Array):null;return W&&U instanceof W||($.Util._isArray(U)?U.forEach(function(ne){$.Util._isNumber(ne)||$.Util.warn('"'+Y+'" attribute has non numeric element '+ne+". Make sure that all elements are numbers.")}):$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a array of numbers.')),U}},V.getBooleanValidator=function j(){if(o.Konva.isUnminified)return function(U,Y){return!0===U||!1===U||$.Util.warn(L(U)+' is a not valid value for "'+Y+'" attribute. The value should be a boolean.'),U}},V.getComponentValidator=function B(U){if(o.Konva.isUnminified)return function(Y,W){return null==Y||$.Util.isObject(Y)||$.Util.warn(L(Y)+' is a not valid value for "'+W+'" attribute. The value should be an object with properties '+U),Y}};const o=C(9037),$=C(2121);function L(U){return $.Util._isString(U)?'"'+U+'"':"[object Number]"===Object.prototype.toString.call(U)||$.Util._isBoolean(U)?U:Object.prototype.toString.call(U)}},6554:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Konva=void 0;const o=C(9037),$=C(2121),L=C(338),X=C(2632),H=C(4185),M=C(7035),R=C(6393),D=C(5673),k=C(4505),I=C(4147),A=C(1771),O=C(8859),j=C(9703),B=C(1161);V.Konva=$.Util._assign(o.Konva,{Util:$.Util,Transform:$.Transform,Node:L.Node,Container:X.Container,Stage:H.Stage,stages:H.stages,Layer:M.Layer,FastLayer:R.FastLayer,Group:D.Group,DD:k.DD,Shape:I.Shape,shapes:I.shapes,Animation:A.Animation,Tween:O.Tween,Easings:O.Easings,Context:j.Context,Canvas:B.Canvas}),V.default=V.Konva},4557:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Konva=void 0;const o=C(6554),$=C(5750),L=C(1755),X=C(8144),H=C(742),M=C(862),R=C(848),D=C(3386),k=C(7082),I=C(6056),A=C(7856),O=C(6455),j=C(523),B=C(7813),U=C(6154),Y=C(7626),W=C(2348),ne=C(5395),E=C(390),G=C(3725),K=C(5166),te=C(2565),se=C(4051),ie=C(6853),me=C(3762),ue=C(2780),J=C(4726),he=C(8174),xe=C(5617),Re=C(9412),z=C(5201),re=C(7426),de=C(8799),be=C(8316),Fe=C(8213),Le=C(6579),tt=C(9036);V.Konva=o.Konva.Util._assign(o.Konva,{Arc:$.Arc,Arrow:L.Arrow,Circle:X.Circle,Ellipse:H.Ellipse,Image:M.Image,Label:R.Label,Tag:R.Tag,Line:D.Line,Path:k.Path,Rect:I.Rect,RegularPolygon:A.RegularPolygon,Ring:O.Ring,Sprite:j.Sprite,Star:B.Star,Text:U.Text,TextPath:Y.TextPath,Transformer:W.Transformer,Wedge:ne.Wedge,Filters:{Blur:E.Blur,Brighten:G.Brighten,Contrast:K.Contrast,Emboss:te.Emboss,Enhance:se.Enhance,Grayscale:ie.Grayscale,HSL:me.HSL,HSV:ue.HSV,Invert:J.Invert,Kaleidoscope:he.Kaleidoscope,Mask:xe.Mask,Noise:Re.Noise,Pixelate:z.Pixelate,Posterize:re.Posterize,RGB:de.RGB,RGBA:be.RGBA,Sepia:Fe.Sepia,Solarize:Le.Solarize,Threshold:tt.Threshold}})},390:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Blur=void 0;const o=C(134),$=C(338),L=C(674);function X(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const H=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],M=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];V.Blur=function(I){const A=Math.round(this.blurRadius());A>0&&function R(k,I){const A=k.data,O=k.width,j=k.height;let B,U,Y,W,ne,E,G,K,te,se,ie,me,ue,J,he,xe,Re,z,re,de,be,Fe,Le,tt;const ye=I+I+1,ve=O-1,ge=j-1,Te=I+1,Be=Te*(Te+1)/2,ce=new X,Oe=H[I],Xe=M[I];let wt=null,Ke=ce,dt=null,Tt=null;for(Y=1;Y<ye;Y++)Ke=Ke.next=new X,Y===Te&&(wt=Ke);for(Ke.next=ce,G=E=0,U=0;U<j;U++){for(xe=Re=z=re=K=te=se=ie=0,me=Te*(de=A[E]),ue=Te*(be=A[E+1]),J=Te*(Fe=A[E+2]),he=Te*(Le=A[E+3]),K+=Be*de,te+=Be*be,se+=Be*Fe,ie+=Be*Le,Ke=ce,Y=0;Y<Te;Y++)Ke.r=de,Ke.g=be,Ke.b=Fe,Ke.a=Le,Ke=Ke.next;for(Y=1;Y<Te;Y++)W=E+((ve<Y?ve:Y)<<2),K+=(Ke.r=de=A[W])*(tt=Te-Y),te+=(Ke.g=be=A[W+1])*tt,se+=(Ke.b=Fe=A[W+2])*tt,ie+=(Ke.a=Le=A[W+3])*tt,xe+=de,Re+=be,z+=Fe,re+=Le,Ke=Ke.next;for(dt=ce,Tt=wt,B=0;B<O;B++)A[E+3]=Le=ie*Oe>>Xe,0!==Le?(Le=255/Le,A[E]=(K*Oe>>Xe)*Le,A[E+1]=(te*Oe>>Xe)*Le,A[E+2]=(se*Oe>>Xe)*Le):A[E]=A[E+1]=A[E+2]=0,K-=me,te-=ue,se-=J,ie-=he,me-=dt.r,ue-=dt.g,J-=dt.b,he-=dt.a,W=G+((W=B+I+1)<ve?W:ve)<<2,xe+=dt.r=A[W],Re+=dt.g=A[W+1],z+=dt.b=A[W+2],re+=dt.a=A[W+3],K+=xe,te+=Re,se+=z,ie+=re,dt=dt.next,me+=de=Tt.r,ue+=be=Tt.g,J+=Fe=Tt.b,he+=Le=Tt.a,xe-=de,Re-=be,z-=Fe,re-=Le,Tt=Tt.next,E+=4;G+=O}for(B=0;B<O;B++){for(Re=z=re=xe=te=se=ie=K=0,E=B<<2,me=Te*(de=A[E]),ue=Te*(be=A[E+1]),J=Te*(Fe=A[E+2]),he=Te*(Le=A[E+3]),K+=Be*de,te+=Be*be,se+=Be*Fe,ie+=Be*Le,Ke=ce,Y=0;Y<Te;Y++)Ke.r=de,Ke.g=be,Ke.b=Fe,Ke.a=Le,Ke=Ke.next;for(ne=O,Y=1;Y<=I;Y++)E=ne+B<<2,K+=(Ke.r=de=A[E])*(tt=Te-Y),te+=(Ke.g=be=A[E+1])*tt,se+=(Ke.b=Fe=A[E+2])*tt,ie+=(Ke.a=Le=A[E+3])*tt,xe+=de,Re+=be,z+=Fe,re+=Le,Ke=Ke.next,Y<ge&&(ne+=O);for(E=B,dt=ce,Tt=wt,U=0;U<j;U++)W=E<<2,A[W+3]=Le=ie*Oe>>Xe,Le>0?(Le=255/Le,A[W]=(K*Oe>>Xe)*Le,A[W+1]=(te*Oe>>Xe)*Le,A[W+2]=(se*Oe>>Xe)*Le):A[W]=A[W+1]=A[W+2]=0,K-=me,te-=ue,se-=J,ie-=he,me-=dt.r,ue-=dt.g,J-=dt.b,he-=dt.a,W=B+((W=U+Te)<ge?W:ge)*O<<2,K+=xe+=dt.r=A[W],te+=Re+=dt.g=A[W+1],se+=z+=dt.b=A[W+2],ie+=re+=dt.a=A[W+3],dt=dt.next,me+=de=Tt.r,ue+=be=Tt.g,J+=Fe=Tt.b,he+=Le=Tt.a,xe-=de,Re-=be,z-=Fe,re-=Le,Tt=Tt.next,E+=O}}(I,A)},o.Factory.addGetterSetter($.Node,"blurRadius",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},3725:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Brighten=void 0;const o=C(134),$=C(338),L=C(674);V.Brighten=function(H){const M=255*this.brightness(),R=H.data,D=R.length;for(let k=0;k<D;k+=4)R[k]+=M,R[k+1]+=M,R[k+2]+=M},o.Factory.addGetterSetter($.Node,"brightness",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},5166:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Contrast=void 0;const o=C(134),$=C(338),L=C(674);V.Contrast=function(H){const M=Math.pow((this.contrast()+100)/100,2),R=H.data,D=R.length;let k=150,I=150,A=150;for(let O=0;O<D;O+=4)k=R[O],I=R[O+1],A=R[O+2],k/=255,k-=.5,k*=M,k+=.5,k*=255,I/=255,I-=.5,I*=M,I+=.5,I*=255,A/=255,A-=.5,A*=M,A+=.5,A*=255,k=k<0?0:k>255?255:k,I=I<0?0:I>255?255:I,A=A<0?0:A>255?255:A,R[O]=k,R[O+1]=I,R[O+2]=A},o.Factory.addGetterSetter($.Node,"contrast",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},2565:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Emboss=void 0;const o=C(134),$=C(338),L=C(2121),X=C(674);V.Emboss=function(M){const R=10*this.embossStrength(),D=255*this.embossWhiteLevel(),k=this.embossDirection(),I=this.embossBlend(),A=M.data,O=M.width,j=M.height,B=4*O;let U=0,Y=0,W=j;switch(k){case"top-left":U=-1,Y=-1;break;case"top":U=-1,Y=0;break;case"top-right":U=-1,Y=1;break;case"right":U=0,Y=1;break;case"bottom-right":U=1,Y=1;break;case"bottom":U=1,Y=0;break;case"bottom-left":U=1,Y=-1;break;case"left":U=0,Y=-1;break;default:L.Util.error("Unknown emboss direction: "+k)}do{const ne=(W-1)*B;let E=U;W+E<1&&(E=0),W+E>j&&(E=0);const G=(W-1+E)*O*4;let K=O;do{const te=ne+4*(K-1);let se=Y;K+se<1&&(se=0),K+se>O&&(se=0);const ie=G+4*(K-1+se),ue=A[te+1]-A[ie+1],J=A[te+2]-A[ie+2];let he=A[te]-A[ie];const xe=he>0?he:-he;if((ue>0?ue:-ue)>xe&&(he=ue),(J>0?J:-J)>xe&&(he=J),he*=R,I){const re=A[te]+he,de=A[te+1]+he,be=A[te+2]+he;A[te]=re>255?255:re<0?0:re,A[te+1]=de>255?255:de<0?0:de,A[te+2]=be>255?255:be<0?0:be}else{let re=D-he;re<0?re=0:re>255&&(re=255),A[te]=A[te+1]=A[te+2]=re}}while(--K)}while(--W)},o.Factory.addGetterSetter($.Node,"embossStrength",.5,(0,X.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"embossWhiteLevel",.5,(0,X.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"embossDirection","top-left",void 0,o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"embossBlend",!1,void 0,o.Factory.afterSetFilter)},4051:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Enhance=void 0;const o=C(134),$=C(338),L=C(674);function X(M,R,D,k,I){const A=D-R,O=I-k;if(0===A)return k+O/2;if(0===O)return k;let j=(M-R)/A;return j=O*j+k,j}V.Enhance=function(M){const R=M.data,D=R.length;let A,B,W,k=R[0],I=k,O=R[1],j=O,U=R[2],Y=U;const ne=this.enhance();if(0===ne)return;for(let he=0;he<D;he+=4)A=R[he+0],A<k?k=A:A>I&&(I=A),B=R[he+1],B<O?O=B:B>j&&(j=B),W=R[he+2],W<U?U=W:W>Y&&(Y=W);let E,G,K,te,se,ie,me,ue,J;I===k&&(I=255,k=0),j===O&&(j=255,O=0),Y===U&&(Y=255,U=0),ne>0?(G=I+ne*(255-I),K=k-ne*(k-0),se=j+ne*(255-j),ie=O-ne*(O-0),ue=Y+ne*(255-Y),J=U-ne*(U-0)):(E=.5*(I+k),G=I+ne*(I-E),K=k+ne*(k-E),te=.5*(j+O),se=j+ne*(j-te),ie=O+ne*(O-te),me=.5*(Y+U),ue=Y+ne*(Y-me),J=U+ne*(U-me));for(let he=0;he<D;he+=4)R[he+0]=X(R[he+0],k,I,K,G),R[he+1]=X(R[he+1],O,j,ie,se),R[he+2]=X(R[he+2],U,Y,J,ue)},o.Factory.addGetterSetter($.Node,"enhance",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},6853:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Grayscale=void 0,V.Grayscale=function(o){const $=o.data,L=$.length;for(let X=0;X<L;X+=4){const H=.34*$[X]+.5*$[X+1]+.16*$[X+2];$[X]=H,$[X+1]=H,$[X+2]=H}}},3762:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.HSL=void 0;const o=C(134),$=C(338),L=C(674);o.Factory.addGetterSetter($.Node,"hue",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"saturation",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"luminance",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter),V.HSL=function(H){const M=H.data,R=M.length,k=Math.pow(2,this.saturation()),I=Math.abs(this.hue()+360)%360,A=127*this.luminance(),O=1*k*Math.cos(I*Math.PI/180),j=1*k*Math.sin(I*Math.PI/180),B=.299+.701*O+.167*j,U=.587-.587*O+.33*j,Y=.114-.114*O-.497*j,W=.299-.299*O-.328*j,ne=.587+.413*O+.035*j,E=.114-.114*O+.293*j,G=.299-.3*O+1.25*j,K=.587-.586*O-1.05*j,te=.114+.886*O-.2*j;let se,ie,me,ue;for(let J=0;J<R;J+=4)se=M[J+0],ie=M[J+1],me=M[J+2],ue=M[J+3],M[J+0]=B*se+U*ie+Y*me+A,M[J+1]=W*se+ne*ie+E*me+A,M[J+2]=G*se+K*ie+te*me+A,M[J+3]=ue}},2780:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.HSV=void 0;const o=C(134),$=C(338),L=C(674);V.HSV=function(H){const M=H.data,R=M.length,D=Math.pow(2,this.value()),k=Math.pow(2,this.saturation()),I=Math.abs(this.hue()+360)%360,A=D*k*Math.cos(I*Math.PI/180),O=D*k*Math.sin(I*Math.PI/180),j=.299*D+.701*A+.167*O,B=.587*D-.587*A+.33*O,U=.114*D-.114*A-.497*O,Y=.299*D-.299*A-.328*O,W=.587*D+.413*A+.035*O,ne=.114*D-.114*A+.293*O,E=.299*D-.3*A+1.25*O,G=.587*D-.586*A-1.05*O,K=.114*D+.886*A-.2*O;let te,se,ie,me;for(let ue=0;ue<R;ue+=4)te=M[ue+0],se=M[ue+1],ie=M[ue+2],me=M[ue+3],M[ue+0]=j*te+B*se+U*ie,M[ue+1]=Y*te+W*se+ne*ie,M[ue+2]=E*te+G*se+K*ie,M[ue+3]=me},o.Factory.addGetterSetter($.Node,"hue",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"saturation",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"value",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},4726:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Invert=void 0,V.Invert=function(o){const $=o.data,L=$.length;for(let X=0;X<L;X+=4)$[X]=255-$[X],$[X+1]=255-$[X+1],$[X+2]=255-$[X+2]}},8174:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Kaleidoscope=void 0;const o=C(134),$=C(338),L=C(2121),X=C(674);V.Kaleidoscope=function(D){const k=D.width,I=D.height;let A,O,j,B,U,Y,W,ne,E,G,K=Math.round(this.kaleidoscopePower());const te=Math.round(this.kaleidoscopeAngle()),se=Math.floor(k*(te%360)/360);if(K<1)return;const ie=L.Util.createCanvasElement();ie.width=k,ie.height=I;const me=ie.getContext("2d").getImageData(0,0,k,I);L.Util.releaseCanvas(ie),function(D,k,I){const A=D.data,O=k.data,j=D.width,B=D.height,U=I.polarCenterX||j/2,Y=I.polarCenterY||B/2;let W=Math.sqrt(U*U+Y*Y),ne=j-U,E=B-Y;const G=Math.sqrt(ne*ne+E*E);W=G>W?G:W;const K=B,te=j,se=360/te*Math.PI/180;for(let ie=0;ie<te;ie+=1){const me=Math.sin(ie*se),ue=Math.cos(ie*se);for(let J=0;J<K;J+=1){ne=Math.floor(U+W*J/K*ue),E=Math.floor(Y+W*J/K*me);let he=4*(E*j+ne);const xe=A[he+0],Re=A[he+1],z=A[he+2],re=A[he+3];he=4*(ie+J*j),O[he+0]=xe,O[he+1]=Re,O[he+2]=z,O[he+3]=re}}}(D,me,{polarCenterX:k/2,polarCenterY:I/2});let ue=k/Math.pow(2,K);for(;ue<=8;)ue*=2,K-=1;ue=Math.ceil(ue);let J=ue,he=0,xe=J,Re=1;for(se+ue>k&&(he=J,xe=0,Re=-1),O=0;O<I;O+=1)for(A=he;A!==xe;A+=Re)j=Math.round(A+se)%k,E=4*(k*O+j),U=me.data[E+0],Y=me.data[E+1],W=me.data[E+2],ne=me.data[E+3],G=4*(k*O+A),me.data[G+0]=U,me.data[G+1]=Y,me.data[G+2]=W,me.data[G+3]=ne;for(O=0;O<I;O+=1)for(J=Math.floor(ue),B=0;B<K;B+=1){for(A=0;A<J+1;A+=1)E=4*(k*O+A),U=me.data[E+0],Y=me.data[E+1],W=me.data[E+2],ne=me.data[E+3],G=4*(k*O+2*J-A-1),me.data[G+0]=U,me.data[G+1]=Y,me.data[G+2]=W,me.data[G+3]=ne;J*=2}!function(D,k,I){const A=D.data,O=k.data,j=D.width,B=D.height,U=I.polarCenterX||j/2,Y=I.polarCenterY||B/2;let W=Math.sqrt(U*U+Y*Y),ne=j-U,E=B-Y;const G=Math.sqrt(ne*ne+E*E);W=G>W?G:W;const K=B,te=j,se=I.polarRotation||0;let ie,me;for(ne=0;ne<j;ne+=1)for(E=0;E<B;E+=1){const ue=ne-U,J=E-Y,he=Math.sqrt(ue*ue+J*J)*K/W;let xe=(180*Math.atan2(J,ue)/Math.PI+360+se)%360;xe=xe*te/360,ie=Math.floor(xe),me=Math.floor(he);let Re=4*(me*j+ie);const z=A[Re+0],re=A[Re+1],de=A[Re+2],be=A[Re+3];Re=4*(E*j+ne),O[Re+0]=z,O[Re+1]=re,O[Re+2]=de,O[Re+3]=be}}(me,D,{polarRotation:0})},o.Factory.addGetterSetter($.Node,"kaleidoscopePower",2,(0,X.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"kaleidoscopeAngle",0,(0,X.getNumberValidator)(),o.Factory.afterSetFilter)},5617:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Mask=void 0;const o=C(134),$=C(338),L=C(674);function X(j,B,U){let Y=4*(U*j.width+B);const W=[];return W.push(j.data[Y++],j.data[Y++],j.data[Y++],j.data[Y++]),W}function H(j,B){return Math.sqrt(Math.pow(j[0]-B[0],2)+Math.pow(j[1]-B[1],2)+Math.pow(j[2]-B[2],2))}V.Mask=function(j){let U=function R(j,B){const U=X(j,0,0),Y=X(j,j.width-1,0),W=X(j,0,j.height-1),ne=X(j,j.width-1,j.height-1),E=B||10;if(H(U,Y)<E&&H(Y,ne)<E&&H(ne,W)<E&&H(W,U)<E){const G=function M(j){const B=[0,0,0];for(let U=0;U<j.length;U++)B[0]+=j[U][0],B[1]+=j[U][1],B[2]+=j[U][2];return B[0]/=j.length,B[1]/=j.length,B[2]/=j.length,B}([Y,U,ne,W]),K=[];for(let te=0;te<j.width*j.height;te++){const se=H(G,[j.data[4*te],j.data[4*te+1],j.data[4*te+2]]);K[te]=se<E?0:255}return K}}(j,this.threshold());return U&&(U=function k(j,B,U){const Y=[1,1,1,1,0,1,1,1,1],W=Math.round(Math.sqrt(Y.length)),ne=Math.floor(W/2),E=[];for(let G=0;G<U;G++)for(let K=0;K<B;K++){const te=G*B+K;let se=0;for(let ie=0;ie<W;ie++)for(let me=0;me<W;me++){const ue=G+ie-ne,J=K+me-ne;ue>=0&&ue<U&&J>=0&&J<B&&(se+=j[ue*B+J]*Y[ie*W+me])}E[te]=2040===se?255:0}return E}(U,j.width,j.height),U=function I(j,B,U){const Y=[1,1,1,1,1,1,1,1,1],W=Math.round(Math.sqrt(Y.length)),ne=Math.floor(W/2),E=[];for(let G=0;G<U;G++)for(let K=0;K<B;K++){const te=G*B+K;let se=0;for(let ie=0;ie<W;ie++)for(let me=0;me<W;me++){const ue=G+ie-ne,J=K+me-ne;ue>=0&&ue<U&&J>=0&&J<B&&(se+=j[ue*B+J]*Y[ie*W+me])}E[te]=se>=1020?255:0}return E}(U,j.width,j.height),U=function A(j,B,U){const Y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],W=Math.round(Math.sqrt(Y.length)),ne=Math.floor(W/2),E=[];for(let G=0;G<U;G++)for(let K=0;K<B;K++){const te=G*B+K;let se=0;for(let ie=0;ie<W;ie++)for(let me=0;me<W;me++){const ue=G+ie-ne,J=K+me-ne;ue>=0&&ue<U&&J>=0&&J<B&&(se+=j[ue*B+J]*Y[ie*W+me])}E[te]=se}return E}(U,j.width,j.height),function D(j,B){for(let U=0;U<j.width*j.height;U++)j.data[4*U+3]=B[U]}(j,U)),j},o.Factory.addGetterSetter($.Node,"threshold",0,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},9412:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Noise=void 0;const o=C(134),$=C(338),L=C(674);V.Noise=function(H){const M=255*this.noise(),R=H.data,D=R.length,k=M/2;for(let I=0;I<D;I+=4)R[I+0]+=k-2*k*Math.random(),R[I+1]+=k-2*k*Math.random(),R[I+2]+=k-2*k*Math.random()},o.Factory.addGetterSetter($.Node,"noise",.2,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},5201:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Pixelate=void 0;const o=C(134),$=C(2121),L=C(338),X=C(674);V.Pixelate=function(M){let I,A,O,j,B,U,Y,E,G,K,te,se,ie,me,R=Math.ceil(this.pixelSize()),D=M.width,k=M.height,W=Math.ceil(D/R),ne=Math.ceil(k/R),ue=M.data;if(R<=0)$.Util.error("pixelSize value can not be <= 0");else for(se=0;se<W;se+=1)for(ie=0;ie<ne;ie+=1){for(j=0,B=0,U=0,Y=0,E=se*R,G=E+R,K=ie*R,te=K+R,me=0,I=E;I<G;I+=1)if(!(I>=D))for(A=K;A<te;A+=1)A>=k||(O=4*(D*A+I),j+=ue[O+0],B+=ue[O+1],U+=ue[O+2],Y+=ue[O+3],me+=1);for(j/=me,B/=me,U/=me,Y/=me,I=E;I<G;I+=1)if(!(I>=D))for(A=K;A<te;A+=1)A>=k||(O=4*(D*A+I),ue[O+0]=j,ue[O+1]=B,ue[O+2]=U,ue[O+3]=Y)}},o.Factory.addGetterSetter(L.Node,"pixelSize",8,(0,X.getNumberValidator)(),o.Factory.afterSetFilter)},7426:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Posterize=void 0;const o=C(134),$=C(338),L=C(674);V.Posterize=function(H){const M=Math.round(254*this.levels())+1,R=H.data,D=R.length,k=255/M;for(let I=0;I<D;I+=1)R[I]=Math.floor(R[I]/k)*k},o.Factory.addGetterSetter($.Node,"levels",.5,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},8799:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RGB=void 0;const o=C(134),$=C(338),L=C(674);V.RGB=function(H){const M=H.data,R=M.length,D=this.red(),k=this.green(),I=this.blue();for(let A=0;A<R;A+=4){const O=(.34*M[A]+.5*M[A+1]+.16*M[A+2])/255;M[A]=O*D,M[A+1]=O*k,M[A+2]=O*I,M[A+3]=M[A+3]}},o.Factory.addGetterSetter($.Node,"red",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),o.Factory.addGetterSetter($.Node,"green",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),o.Factory.addGetterSetter($.Node,"blue",0,L.RGBComponent,o.Factory.afterSetFilter)},8316:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RGBA=void 0;const o=C(134),$=C(338),L=C(674);V.RGBA=function(H){const M=H.data,R=M.length,D=this.red(),k=this.green(),I=this.blue(),A=this.alpha();for(let O=0;O<R;O+=4){const j=1-A;M[O]=D*A+M[O]*j,M[O+1]=k*A+M[O+1]*j,M[O+2]=I*A+M[O+2]*j}},o.Factory.addGetterSetter($.Node,"red",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),o.Factory.addGetterSetter($.Node,"green",0,function(H){return this._filterUpToDate=!1,H>255?255:H<0?0:Math.round(H)}),o.Factory.addGetterSetter($.Node,"blue",0,L.RGBComponent,o.Factory.afterSetFilter),o.Factory.addGetterSetter($.Node,"alpha",1,function(H){return this._filterUpToDate=!1,H>1?1:H<0?0:H})},8213:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sepia=void 0,V.Sepia=function(o){const $=o.data,L=$.length;for(let X=0;X<L;X+=4){const H=$[X+0],M=$[X+1],R=$[X+2];$[X+0]=Math.min(255,.393*H+.769*M+.189*R),$[X+1]=Math.min(255,.349*H+.686*M+.168*R),$[X+2]=Math.min(255,.272*H+.534*M+.131*R)}}},6579:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Solarize=void 0,V.Solarize=function(o){const $=o.data,L=o.width,H=4*L;let M=o.height;do{const R=(M-1)*H;let D=L;do{const k=R+4*(D-1);let I=$[k],A=$[k+1],O=$[k+2];I>127&&(I=255-I),A>127&&(A=255-A),O>127&&(O=255-O),$[k]=I,$[k+1]=A,$[k+2]=O}while(--D)}while(--M)}},9036:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Threshold=void 0;const o=C(134),$=C(338),L=C(674);V.Threshold=function(H){const M=255*this.threshold(),R=H.data,D=R.length;for(let k=0;k<D;k+=1)R[k]=R[k]<M?0:255},o.Factory.addGetterSetter($.Node,"threshold",.5,(0,L.getNumberValidator)(),o.Factory.afterSetFilter)},6603:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0});const o=C(4557);Ce.exports=o.Konva},5750:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Arc=void 0;const o=C(134),$=C(4147),L=C(9037),X=C(674),H=C(9037);class M extends $.Shape{_sceneFunc(D){const k=L.Konva.getAngle(this.angle()),I=this.clockwise();D.beginPath(),D.arc(0,0,this.outerRadius(),0,k,I),D.arc(0,0,this.innerRadius(),k,0,!I),D.closePath(),D.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(D){this.outerRadius(D/2)}setHeight(D){this.outerRadius(D/2)}getSelfRect(){const D=this.innerRadius(),k=this.outerRadius(),I=this.clockwise(),A=L.Konva.getAngle(I?360-this.angle():this.angle()),O=Math.cos(Math.min(A,Math.PI)),B=Math.sin(Math.min(Math.max(Math.PI,A),3*Math.PI/2)),U=Math.sin(Math.min(A,Math.PI/2)),Y=O*(O>0?D:k),ne=B*(B>0?D:k),E=U*(U>0?k:D);return{x:Y,y:I?-1*E:ne,width:1*k-Y,height:E-ne}}}V.Arc=M,M.prototype._centroid=!0,M.prototype.className="Arc",M.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,H._registerNode)(M),o.Factory.addGetterSetter(M,"innerRadius",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"outerRadius",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"angle",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"clockwise",!1,(0,X.getBooleanValidator)())},1755:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Arrow=void 0;const o=C(134),$=C(3386),L=C(674),X=C(9037),H=C(7082);class M extends $.Line{_sceneFunc(D){super._sceneFunc(D);const k=2*Math.PI,I=this.points();let A=I;const O=0!==this.tension()&&I.length>4;O&&(A=this.getTensionPoints());const j=this.pointerLength(),B=I.length;let U,Y;if(O){const E=[A[A.length-4],A[A.length-3],A[A.length-2],A[A.length-1],I[B-2],I[B-1]],G=H.Path.calcLength(A[A.length-4],A[A.length-3],"C",E),K=H.Path.getPointOnQuadraticBezier(Math.min(1,1-j/G),E[0],E[1],E[2],E[3],E[4],E[5]);U=I[B-2]-K.x,Y=I[B-1]-K.y}else U=I[B-2]-I[B-4],Y=I[B-1]-I[B-3];const W=(Math.atan2(Y,U)+k)%k,ne=this.pointerWidth();this.pointerAtEnding()&&(D.save(),D.beginPath(),D.translate(I[B-2],I[B-1]),D.rotate(W),D.moveTo(0,0),D.lineTo(-j,ne/2),D.lineTo(-j,-ne/2),D.closePath(),D.restore(),this.__fillStroke(D)),this.pointerAtBeginning()&&(D.save(),D.beginPath(),D.translate(I[0],I[1]),O?(U=(A[0]+A[2])/2-I[0],Y=(A[1]+A[3])/2-I[1]):(U=I[2]-I[0],Y=I[3]-I[1]),D.rotate((Math.atan2(-Y,-U)+k)%k),D.moveTo(0,0),D.lineTo(-j,ne/2),D.lineTo(-j,-ne/2),D.closePath(),D.restore(),this.__fillStroke(D))}__fillStroke(D){const k=this.dashEnabled();k&&(this.attrs.dashEnabled=!1,D.setLineDash([])),D.fillStrokeShape(this),k&&(this.attrs.dashEnabled=!0)}getSelfRect(){const D=super.getSelfRect(),k=this.pointerWidth()/2;return{x:D.x,y:D.y-k,width:D.width,height:D.height+2*k}}}V.Arrow=M,M.prototype.className="Arrow",(0,X._registerNode)(M),o.Factory.addGetterSetter(M,"pointerLength",10,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(M,"pointerWidth",10,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(M,"pointerAtBeginning",!1),o.Factory.addGetterSetter(M,"pointerAtEnding",!0)},8144:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Circle=void 0;const o=C(134),$=C(4147),L=C(674),X=C(9037);class H extends $.Shape{_sceneFunc(R){R.beginPath(),R.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),R.closePath(),R.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(R){this.radius()!==R/2&&this.radius(R/2)}setHeight(R){this.radius()!==R/2&&this.radius(R/2)}}V.Circle=H,H.prototype._centroid=!0,H.prototype.className="Circle",H.prototype._attrsAffectingSize=["radius"],(0,X._registerNode)(H),o.Factory.addGetterSetter(H,"radius",0,(0,L.getNumberValidator)())},742:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Ellipse=void 0;const o=C(134),$=C(4147),L=C(674),X=C(9037);class H extends $.Shape{_sceneFunc(R){const D=this.radiusX(),k=this.radiusY();R.beginPath(),R.save(),D!==k&&R.scale(1,k/D),R.arc(0,0,D,0,2*Math.PI,!1),R.restore(),R.closePath(),R.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(R){this.radiusX(R/2)}setHeight(R){this.radiusY(R/2)}}V.Ellipse=H,H.prototype.className="Ellipse",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,X._registerNode)(H),o.Factory.addComponentsGetterSetter(H,"radius",["x","y"]),o.Factory.addGetterSetter(H,"radiusX",0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(H,"radiusY",0,(0,L.getNumberValidator)())},862:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Image=void 0;const o=C(2121),$=C(134),L=C(4147),X=C(9037),H=C(674);class M extends L.Shape{constructor(D){super(D),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const D=this.image();D&&D.complete||D&&4===D.readyState||D&&D.addEventListener&&D.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const D=!!this.cornerRadius(),k=this.hasShadow();return!(!D||!k)||super._useBufferCanvas(!0)}_sceneFunc(D){const k=this.getWidth(),I=this.getHeight(),A=this.cornerRadius(),O=this.attrs.image;let j;if(O){const B=this.attrs.cropWidth,U=this.attrs.cropHeight;j=B&&U?[O,this.cropX(),this.cropY(),B,U,0,0,k,I]:[O,0,0,k,I]}(this.hasFill()||this.hasStroke()||A)&&(D.beginPath(),A?o.Util.drawRoundedRectPath(D,k,I,A):D.rect(0,0,k,I),D.closePath(),D.fillStrokeShape(this)),O&&(A&&D.clip(),D.drawImage.apply(D,j))}_hitFunc(D){const k=this.width(),I=this.height(),A=this.cornerRadius();D.beginPath(),A?o.Util.drawRoundedRectPath(D,k,I,A):D.rect(0,0,k,I),D.closePath(),D.fillStrokeShape(this)}getWidth(){var D,k;return null!==(D=this.attrs.width)&&void 0!==D?D:null===(k=this.image())||void 0===k?void 0:k.width}getHeight(){var D,k;return null!==(D=this.attrs.height)&&void 0!==D?D:null===(k=this.image())||void 0===k?void 0:k.height}static fromURL(D,k,I=null){const A=o.Util.createImageElement();A.onload=function(){const O=new M({image:A});k(O)},A.onerror=I,A.crossOrigin="Anonymous",A.src=D}}V.Image=M,M.prototype.className="Image",(0,X._registerNode)(M),$.Factory.addGetterSetter(M,"cornerRadius",0,(0,H.getNumberOrArrayOfNumbersValidator)(4)),$.Factory.addGetterSetter(M,"image"),$.Factory.addComponentsGetterSetter(M,"crop",["x","y","width","height"]),$.Factory.addGetterSetter(M,"cropX",0,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(M,"cropY",0,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(M,"cropWidth",0,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(M,"cropHeight",0,(0,H.getNumberValidator)())},848:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Tag=V.Label=void 0;const o=C(134),$=C(4147),L=C(5673),X=C(674),H=C(9037),M=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],k="up",I="right",A="down",O="left",j=M.length;class B extends L.Group{constructor(W){super(W),this.on("add.konva",function(ne){this._addListeners(ne.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(W){let E,ne=this;const G=function(){ne._sync()};for(E=0;E<j;E++)W.on(M[E]+"Change.konva",G)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let E,G,K,te,se,ie,me,W=this.getText(),ne=this.getTag();if(W&&ne){switch(E=W.width(),G=W.height(),K=ne.pointerDirection(),te=ne.pointerWidth(),me=ne.pointerHeight(),se=0,ie=0,K){case k:se=E/2,ie=-1*me;break;case I:se=E+te,ie=G/2;break;case A:se=E/2,ie=G+me;break;case O:se=-1*te,ie=G/2}ne.setAttrs({x:-1*se,y:-1*ie,width:E,height:G}),W.setAttrs({x:-1*se,y:-1*ie})}}}V.Label=B,B.prototype.className="Label",(0,H._registerNode)(B);class U extends $.Shape{_sceneFunc(W){const ne=this.width(),E=this.height(),G=this.pointerDirection(),K=this.pointerWidth(),te=this.pointerHeight(),se=this.cornerRadius();let ie=0,me=0,ue=0,J=0;"number"==typeof se?ie=me=ue=J=Math.min(se,ne/2,E/2):(ie=Math.min(se[0]||0,ne/2,E/2),me=Math.min(se[1]||0,ne/2,E/2),J=Math.min(se[2]||0,ne/2,E/2),ue=Math.min(se[3]||0,ne/2,E/2)),W.beginPath(),W.moveTo(ie,0),G===k&&(W.lineTo((ne-K)/2,0),W.lineTo(ne/2,-1*te),W.lineTo((ne+K)/2,0)),W.lineTo(ne-me,0),W.arc(ne-me,me,me,3*Math.PI/2,0,!1),G===I&&(W.lineTo(ne,(E-te)/2),W.lineTo(ne+K,E/2),W.lineTo(ne,(E+te)/2)),W.lineTo(ne,E-J),W.arc(ne-J,E-J,J,0,Math.PI/2,!1),G===A&&(W.lineTo((ne+K)/2,E),W.lineTo(ne/2,E+te),W.lineTo((ne-K)/2,E)),W.lineTo(ue,E),W.arc(ue,E-ue,ue,Math.PI/2,Math.PI,!1),G===O&&(W.lineTo(0,(E+te)/2),W.lineTo(-1*K,E/2),W.lineTo(0,(E-te)/2)),W.lineTo(0,ie),W.arc(ie,ie,ie,Math.PI,3*Math.PI/2,!1),W.closePath(),W.fillStrokeShape(this)}getSelfRect(){let W=0,ne=0,E=this.pointerWidth(),G=this.pointerHeight(),K=this.pointerDirection(),te=this.width(),se=this.height();return K===k?(ne-=G,se+=G):K===A?se+=G:K===O?(W-=1.5*E,te+=E):K===I&&(te+=1.5*E),{x:W,y:ne,width:te,height:se}}}V.Tag=U,U.prototype.className="Tag",(0,H._registerNode)(U),o.Factory.addGetterSetter(U,"pointerDirection","none"),o.Factory.addGetterSetter(U,"pointerWidth",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(U,"pointerHeight",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(U,"cornerRadius",0,(0,X.getNumberOrArrayOfNumbersValidator)(4))},3386:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Line=void 0;const o=C(134),$=C(9037),L=C(4147),X=C(674);function H(D,k,I,A,O,j,B){const U=Math.sqrt(Math.pow(I-D,2)+Math.pow(A-k,2)),Y=Math.sqrt(Math.pow(O-I,2)+Math.pow(j-A,2)),W=B*U/(U+Y),ne=B*Y/(U+Y);return[I-W*(O-D),A-W*(j-k),I+ne*(O-D),A+ne*(j-k)]}function M(D,k){const I=D.length,A=[];for(let O=2;O<I-2;O+=2){const j=H(D[O-2],D[O-1],D[O],D[O+1],D[O+2],D[O+3],k);isNaN(j[0])||(A.push(j[0]),A.push(j[1]),A.push(D[O]),A.push(D[O+1]),A.push(j[2]),A.push(j[3]))}return A}class R extends L.Shape{constructor(k){super(k),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(k){let U,Y,W,I=this.points(),A=I.length,O=this.tension(),j=this.closed(),B=this.bezier();if(A){if(k.beginPath(),k.moveTo(I[0],I[1]),0!==O&&A>4){for(U=this.getTensionPoints(),Y=U.length,W=j?0:4,j||k.quadraticCurveTo(U[0],U[1],U[2],U[3]);W<Y-2;)k.bezierCurveTo(U[W++],U[W++],U[W++],U[W++],U[W++],U[W++]);j||k.quadraticCurveTo(U[Y-2],U[Y-1],I[A-2],I[A-1])}else if(B)for(W=2;W<A;)k.bezierCurveTo(I[W++],I[W++],I[W++],I[W++],I[W++],I[W++]);else for(W=2;W<A;W+=2)k.lineTo(I[W],I[W+1]);j?(k.closePath(),k.fillStrokeShape(this)):k.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():M(this.points(),this.tension())}_getTensionPointsClosed(){const k=this.points(),I=k.length,A=this.tension(),O=H(k[I-2],k[I-1],k[0],k[1],k[2],k[3],A),j=H(k[I-4],k[I-3],k[I-2],k[I-1],k[0],k[1],A),B=M(k,A);return[O[2],O[3]].concat(B).concat([j[0],j[1],k[I-2],k[I-1],j[2],j[3],O[0],O[1],k[0],k[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let k=this.points();if(k.length<4)return{x:k[0]||0,y:k[1]||0,width:0,height:0};k=0!==this.tension()?[k[0],k[1],...this._getTensionPoints(),k[k.length-2],k[k.length-1]]:this.points();let B,U,I=k[0],A=k[0],O=k[1],j=k[1];for(let Y=0;Y<k.length/2;Y++)B=k[2*Y],U=k[2*Y+1],I=Math.min(I,B),A=Math.max(A,B),O=Math.min(O,U),j=Math.max(j,U);return{x:I,y:O,width:A-I,height:j-O}}}V.Line=R,R.prototype.className="Line",R.prototype._attrsAffectingSize=["points","bezier","tension"],(0,$._registerNode)(R),o.Factory.addGetterSetter(R,"closed",!1),o.Factory.addGetterSetter(R,"bezier",!1),o.Factory.addGetterSetter(R,"tension",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(R,"points",[],(0,X.getNumberArrayValidator)())},7082:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Path=void 0;const o=C(134),$=C(4147),L=C(9037),X=C(5438);class H extends $.Shape{constructor(R){super(R),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=H.parsePathData(this.data()),this.pathLength=H.getPathLength(this.dataArray)}_sceneFunc(R){const D=this.dataArray;R.beginPath();let k=!1;for(let K=0;K<D.length;K++){const se=D[K].points;switch(D[K].command){case"L":R.lineTo(se[0],se[1]);break;case"M":R.moveTo(se[0],se[1]);break;case"C":R.bezierCurveTo(se[0],se[1],se[2],se[3],se[4],se[5]);break;case"Q":R.quadraticCurveTo(se[0],se[1],se[2],se[3]);break;case"A":var I=se[0],A=se[1],O=se[2],j=se[3],B=se[4],U=se[5],Y=se[6],W=se[7],ne=O>j?O:j,E=O>j?1:O/j,G=O>j?j/O:1;R.translate(I,A),R.rotate(Y),R.scale(E,G),R.arc(0,0,ne,B,B+U,1-W),R.scale(1/E,1/G),R.rotate(-Y),R.translate(-I,-A);break;case"z":k=!0,R.closePath()}}k||this.hasFill()?R.fillStrokeShape(this):R.strokeShape(this)}getSelfRect(){let R=[];this.dataArray.forEach(function(B){if("A"===B.command){const U=B.points[4],Y=B.points[5],W=B.points[4]+Y;let ne=Math.PI/180;if(Math.abs(U-W)<ne&&(ne=Math.abs(U-W)),Y<0)for(let E=U-ne;E>W;E-=ne){const G=H.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],E,0);R.push(G.x,G.y)}else for(let E=U+ne;E<W;E+=ne){const G=H.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],E,0);R.push(G.x,G.y)}}else if("C"===B.command)for(let U=0;U<=1;U+=.01){const Y=H.getPointOnCubicBezier(U,B.start.x,B.start.y,B.points[0],B.points[1],B.points[2],B.points[3],B.points[4],B.points[5]);R.push(Y.x,Y.y)}else R=R.concat(B.points)});let O,j,D=R[0],k=R[0],I=R[1],A=R[1];for(let B=0;B<R.length/2;B++)O=R[2*B],j=R[2*B+1],isNaN(O)||(D=Math.min(D,O),k=Math.max(k,O)),isNaN(j)||(I=Math.min(I,j),A=Math.max(A,j));return{x:D,y:I,width:k-D,height:A-I}}getLength(){return this.pathLength}getPointAtLength(R){return H.getPointAtLengthOfDataArray(R,this.dataArray)}static getLineLength(R,D,k,I){return Math.sqrt((k-R)*(k-R)+(I-D)*(I-D))}static getPathLength(R){let D=0;for(let k=0;k<R.length;++k)D+=R[k].pathLength;return D}static getPointAtLengthOfDataArray(R,D){let k,I=0,A=D.length;if(!A)return null;for(;I<A&&R>D[I].pathLength;)R-=D[I].pathLength,++I;if(I===A)return k=D[I-1].points.slice(-2),{x:k[0],y:k[1]};if(R<.01)return k=D[I].points.slice(0,2),{x:k[0],y:k[1]};const O=D[I],j=O.points;switch(O.command){case"L":return H.getPointOnLine(R,O.start.x,O.start.y,j[0],j[1]);case"C":return H.getPointOnCubicBezier((0,X.t2length)(R,H.getPathLength(D),K=>(0,X.getCubicArcLength)([O.start.x,j[0],j[2],j[4]],[O.start.y,j[1],j[3],j[5]],K)),O.start.x,O.start.y,j[0],j[1],j[2],j[3],j[4],j[5]);case"Q":return H.getPointOnQuadraticBezier((0,X.t2length)(R,H.getPathLength(D),K=>(0,X.getQuadraticArcLength)([O.start.x,j[0],j[2]],[O.start.y,j[1],j[3]],K)),O.start.x,O.start.y,j[0],j[1],j[2],j[3]);case"A":var ne=j[4];return H.getPointOnEllipticalArc(j[0],j[1],j[2],j[3],ne+=j[5]*R/O.pathLength,j[6])}return null}static getPointOnLine(R,D,k,I,A,O,j){O=O??D,j=j??k;const B=this.getLineLength(D,k,I,A);if(B<1e-10)return{x:D,y:k};if(I===D)return{x:O,y:j+(A>k?R:-R)};const U=(A-k)/(I-D),Y=Math.sqrt(R*R/(1+U*U))*(I<D?-1:1),W=U*Y;if(Math.abs(j-k-U*(O-D))<1e-10)return{x:O+Y,y:j+W};const ne=((O-D)*(I-D)+(j-k)*(A-k))/(B*B),E=D+ne*(I-D),G=k+ne*(A-k),K=this.getLineLength(O,j,E,G),te=Math.sqrt(R*R-K*K),se=Math.sqrt(te*te/(1+U*U))*(I<D?-1:1);return{x:E+se,y:G+U*se}}static getPointOnCubicBezier(R,D,k,I,A,O,j,B,U){function Y(te){return te*te*te}function W(te){return 3*te*te*(1-te)}function ne(te){return 3*te*(1-te)*(1-te)}function E(te){return(1-te)*(1-te)*(1-te)}return{x:B*Y(R)+O*W(R)+I*ne(R)+D*E(R),y:U*Y(R)+j*W(R)+A*ne(R)+k*E(R)}}static getPointOnQuadraticBezier(R,D,k,I,A,O,j){function B(E){return E*E}function U(E){return 2*E*(1-E)}function Y(E){return(1-E)*(1-E)}return{x:O*B(R)+I*U(R)+D*Y(R),y:j*B(R)+A*U(R)+k*Y(R)}}static getPointOnEllipticalArc(R,D,k,I,A,O){const j=Math.cos(O),B=Math.sin(O),U_x=k*Math.cos(A),U_y=I*Math.sin(A);return{x:R+(U_x*j-U_y*B),y:D+(U_x*B+U_y*j)}}static parsePathData(R){if(!R)return[];let D=R;const k=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];D=D.replace(new RegExp(" ","g"),",");for(var I=0;I<k.length;I++)D=D.replace(new RegExp(k[I],"g"),"|"+k[I]);const A=D.split("|"),O=[],j=[];let B=0,U=0;const Y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let W;for(I=1;I<A.length;I++){let Re=A[I],z=Re.charAt(0);for(Re=Re.slice(1),j.length=0;W=Y.exec(Re);)j.push(W[0]);const re=[];for(let de=0,be=j.length;de<be;de++){if("00"===j[de]){re.push(0,0);continue}const Fe=parseFloat(j[de]);isNaN(Fe)?re.push(0):re.push(Fe)}for(;re.length>0&&!isNaN(re[0]);){let de="",be=[];const Fe=B,Le=U;var ne,E,G,K,te,se,ie,me,ue,J;switch(z){case"l":B+=re.shift(),U+=re.shift(),de="L",be.push(B,U);break;case"L":B=re.shift(),U=re.shift(),be.push(B,U);break;case"m":var he=re.shift(),xe=re.shift();if(B+=he,U+=xe,de="M",O.length>2&&"z"===O[O.length-1].command)for(let tt=O.length-2;tt>=0;tt--)if("M"===O[tt].command){B=O[tt].points[0]+he,U=O[tt].points[1]+xe;break}be.push(B,U),z="l";break;case"M":B=re.shift(),U=re.shift(),de="M",be.push(B,U),z="L";break;case"h":B+=re.shift(),de="L",be.push(B,U);break;case"H":B=re.shift(),de="L",be.push(B,U);break;case"v":U+=re.shift(),de="L",be.push(B,U);break;case"V":U=re.shift(),de="L",be.push(B,U);break;case"C":be.push(re.shift(),re.shift(),re.shift(),re.shift()),B=re.shift(),U=re.shift(),be.push(B,U);break;case"c":be.push(B+re.shift(),U+re.shift(),B+re.shift(),U+re.shift()),B+=re.shift(),U+=re.shift(),de="C",be.push(B,U);break;case"S":E=B,G=U,"C"===(ne=O[O.length-1]).command&&(E=B+(B-ne.points[2]),G=U+(U-ne.points[3])),be.push(E,G,re.shift(),re.shift()),B=re.shift(),U=re.shift(),de="C",be.push(B,U);break;case"s":E=B,G=U,"C"===(ne=O[O.length-1]).command&&(E=B+(B-ne.points[2]),G=U+(U-ne.points[3])),be.push(E,G,B+re.shift(),U+re.shift()),B+=re.shift(),U+=re.shift(),de="C",be.push(B,U);break;case"Q":be.push(re.shift(),re.shift()),B=re.shift(),U=re.shift(),be.push(B,U);break;case"q":be.push(B+re.shift(),U+re.shift()),B+=re.shift(),U+=re.shift(),de="Q",be.push(B,U);break;case"T":E=B,G=U,"Q"===(ne=O[O.length-1]).command&&(E=B+(B-ne.points[0]),G=U+(U-ne.points[1])),B=re.shift(),U=re.shift(),de="Q",be.push(E,G,B,U);break;case"t":E=B,G=U,"Q"===(ne=O[O.length-1]).command&&(E=B+(B-ne.points[0]),G=U+(U-ne.points[1])),B+=re.shift(),U+=re.shift(),de="Q",be.push(E,G,B,U);break;case"A":K=re.shift(),te=re.shift(),se=re.shift(),ie=re.shift(),me=re.shift(),ue=B,J=U,B=re.shift(),U=re.shift(),de="A",be=this.convertEndpointToCenterParameterization(ue,J,B,U,ie,me,K,te,se);break;case"a":K=re.shift(),te=re.shift(),se=re.shift(),ie=re.shift(),me=re.shift(),ue=B,J=U,B+=re.shift(),U+=re.shift(),de="A",be=this.convertEndpointToCenterParameterization(ue,J,B,U,ie,me,K,te,se)}O.push({command:de||z,points:be,start:{x:Fe,y:Le},pathLength:this.calcLength(Fe,Le,de||z,be)})}("z"===z||"Z"===z)&&O.push({command:"z",points:[],start:void 0,pathLength:0})}return O}static calcLength(R,D,k,I){let A,O,j,B;const U=H;switch(k){case"L":return U.getLineLength(R,D,I[0],I[1]);case"C":return(0,X.getCubicArcLength)([R,I[0],I[2],I[4]],[D,I[1],I[3],I[5]],1);case"Q":return(0,X.getQuadraticArcLength)([R,I[0],I[2]],[D,I[1],I[3]],1);case"A":A=0;var Y=I[4],W=I[5],ne=I[4]+W,E=Math.PI/180;if(Math.abs(Y-ne)<E&&(E=Math.abs(Y-ne)),O=U.getPointOnEllipticalArc(I[0],I[1],I[2],I[3],Y,0),W<0)for(B=Y-E;B>ne;B-=E)j=U.getPointOnEllipticalArc(I[0],I[1],I[2],I[3],B,0),A+=U.getLineLength(O.x,O.y,j.x,j.y),O=j;else for(B=Y+E;B<ne;B+=E)j=U.getPointOnEllipticalArc(I[0],I[1],I[2],I[3],B,0),A+=U.getLineLength(O.x,O.y,j.x,j.y),O=j;return j=U.getPointOnEllipticalArc(I[0],I[1],I[2],I[3],ne,0),A+=U.getLineLength(O.x,O.y,j.x,j.y),A}return 0}static convertEndpointToCenterParameterization(R,D,k,I,A,O,j,B,U){const Y=U*(Math.PI/180),W=Math.cos(Y)*(R-k)/2+Math.sin(Y)*(D-I)/2,ne=-1*Math.sin(Y)*(R-k)/2+Math.cos(Y)*(D-I)/2,E=W*W/(j*j)+ne*ne/(B*B);E>1&&(j*=Math.sqrt(E),B*=Math.sqrt(E));let G=Math.sqrt((j*j*(B*B)-j*j*(ne*ne)-B*B*(W*W))/(j*j*(ne*ne)+B*B*(W*W)));A===O&&(G*=-1),isNaN(G)&&(G=0);const K=G*j*ne/B,te=G*-B*W/j,se=(R+k)/2+Math.cos(Y)*K-Math.sin(Y)*te,ie=(D+I)/2+Math.sin(Y)*K+Math.cos(Y)*te,me=function(re){return Math.sqrt(re[0]*re[0]+re[1]*re[1])},ue=function(re,de){return(re[0]*de[0]+re[1]*de[1])/(me(re)*me(de))},J=function(re,de){return(re[0]*de[1]<re[1]*de[0]?-1:1)*Math.acos(ue(re,de))},he=J([1,0],[(W-K)/j,(ne-te)/B]),xe=[(W-K)/j,(ne-te)/B],Re=[(-1*W-K)/j,(-1*ne-te)/B];let z=J(xe,Re);return ue(xe,Re)<=-1&&(z=Math.PI),ue(xe,Re)>=1&&(z=0),0===O&&z>0&&(z-=2*Math.PI),1===O&&z<0&&(z+=2*Math.PI),[se,ie,j,B,he,z,Y,O]}}V.Path=H,H.prototype.className="Path",H.prototype._attrsAffectingSize=["data"],(0,L._registerNode)(H),o.Factory.addGetterSetter(H,"data")},6056:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Rect=void 0;const o=C(134),$=C(4147),L=C(9037),X=C(2121),H=C(674);class M extends $.Shape{_sceneFunc(D){const k=this.cornerRadius(),I=this.width(),A=this.height();D.beginPath(),k?X.Util.drawRoundedRectPath(D,I,A,k):D.rect(0,0,I,A),D.closePath(),D.fillStrokeShape(this)}}V.Rect=M,M.prototype.className="Rect",(0,L._registerNode)(M),o.Factory.addGetterSetter(M,"cornerRadius",0,(0,H.getNumberOrArrayOfNumbersValidator)(4))},7856:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RegularPolygon=void 0;const o=C(134),$=C(4147),L=C(674),X=C(9037);class H extends $.Shape{_sceneFunc(R){const D=this._getPoints();R.beginPath(),R.moveTo(D[0].x,D[0].y);for(let k=1;k<D.length;k++)R.lineTo(D[k].x,D[k].y);R.closePath(),R.fillStrokeShape(this)}_getPoints(){const R=this.attrs.sides,D=this.attrs.radius||0,k=[];for(let I=0;I<R;I++)k.push({x:D*Math.sin(2*I*Math.PI/R),y:-1*D*Math.cos(2*I*Math.PI/R)});return k}getSelfRect(){const R=this._getPoints();let D=R[0].x,k=R[0].y,I=R[0].x,A=R[0].y;return R.forEach(O=>{D=Math.min(D,O.x),k=Math.max(k,O.x),I=Math.min(I,O.y),A=Math.max(A,O.y)}),{x:D,y:I,width:k-D,height:A-I}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(R){this.radius(R/2)}setHeight(R){this.radius(R/2)}}V.RegularPolygon=H,H.prototype.className="RegularPolygon",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["radius"],(0,X._registerNode)(H),o.Factory.addGetterSetter(H,"radius",0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(H,"sides",0,(0,L.getNumberValidator)())},6455:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Ring=void 0;const o=C(134),$=C(4147),L=C(674),X=C(9037),H=2*Math.PI;class M extends $.Shape{_sceneFunc(D){D.beginPath(),D.arc(0,0,this.innerRadius(),0,H,!1),D.moveTo(this.outerRadius(),0),D.arc(0,0,this.outerRadius(),H,0,!0),D.closePath(),D.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(D){this.outerRadius(D/2)}setHeight(D){this.outerRadius(D/2)}}V.Ring=M,M.prototype.className="Ring",M.prototype._centroid=!0,M.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,X._registerNode)(M),o.Factory.addGetterSetter(M,"innerRadius",0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(M,"outerRadius",0,(0,L.getNumberValidator)())},523:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sprite=void 0;const o=C(134),$=C(4147),L=C(1771),X=C(674),H=C(9037);class M extends $.Shape{constructor(D){super(D),this._updated=!0,this.anim=new L.Animation(()=>{const k=this._updated;return this._updated=!1,k}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(D){const k=this.animation(),I=this.frameIndex(),A=4*I,O=this.animations()[k],j=this.frameOffsets(),B=O[A+0],U=O[A+1],Y=O[A+2],W=O[A+3],ne=this.image();if((this.hasFill()||this.hasStroke())&&(D.beginPath(),D.rect(0,0,Y,W),D.closePath(),D.fillStrokeShape(this)),ne)if(j){const E=j[k],G=2*I;D.drawImage(ne,B,U,Y,W,E[G+0],E[G+1],Y,W)}else D.drawImage(ne,B,U,Y,W,0,0,Y,W)}_hitFunc(D){const k=this.animation(),I=this.frameIndex(),A=4*I,O=this.animations()[k],j=this.frameOffsets(),B=O[A+2],U=O[A+3];if(D.beginPath(),j){const Y=j[k],W=2*I;D.rect(Y[W+0],Y[W+1],B,U)}else D.rect(0,0,B,U);D.closePath(),D.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const D=this;this.interval=setInterval(function(){D._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const D=this.getLayer();this.anim.setLayers(D),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const D=this.frameIndex(),k=this.animation(),I=this.animations();this.frameIndex(D<I[k].length/4-1?D+1:0)}}V.Sprite=M,M.prototype.className="Sprite",(0,H._registerNode)(M),o.Factory.addGetterSetter(M,"animation"),o.Factory.addGetterSetter(M,"animations"),o.Factory.addGetterSetter(M,"frameOffsets"),o.Factory.addGetterSetter(M,"image"),o.Factory.addGetterSetter(M,"frameIndex",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"frameRate",17,(0,X.getNumberValidator)()),o.Factory.backCompat(M,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},7813:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Star=void 0;const o=C(134),$=C(4147),L=C(674),X=C(9037);class H extends $.Shape{_sceneFunc(R){const D=this.innerRadius(),k=this.outerRadius(),I=this.numPoints();R.beginPath(),R.moveTo(0,0-k);for(let A=1;A<2*I;A++){const O=A%2==0?k:D,j=O*Math.sin(A*Math.PI/I),B=-1*O*Math.cos(A*Math.PI/I);R.lineTo(j,B)}R.closePath(),R.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(R){this.outerRadius(R/2)}setHeight(R){this.outerRadius(R/2)}}V.Star=H,H.prototype.className="Star",H.prototype._centroid=!0,H.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,X._registerNode)(H),o.Factory.addGetterSetter(H,"numPoints",5,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(H,"innerRadius",0,(0,L.getNumberValidator)()),o.Factory.addGetterSetter(H,"outerRadius",0,(0,L.getNumberValidator)())},6154:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Text=void 0,V.stringToArray=R;const o=C(2121),$=C(134),L=C(4147),X=C(9037),H=C(674),M=C(9037);function R(ve){return[...ve].reduce((ge,Te,Be,ce)=>{if(/\p{Emoji}/u.test(Te)){const Oe=ce[Be+1];Oe&&/\p{Emoji_Modifier}|\u200D/u.test(Oe)?(ge.push(Te+Oe),ce[Be+1]=""):ge.push(Te)}else/\p{Regional_Indicator}{2}/u.test(Te+(ce[Be+1]||""))?ge.push(Te+ce[Be+1]):Be>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(Te)?ge[ge.length-1]+=Te:Te&&ge.push(Te);return ge},[])}const D="auto",I="inherit",A="justify",j="2d",U="left",G="middle",K="normal",Re=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],z=Re.length;let de;function be(){return de||(de=o.Util.createCanvasElement().getContext(j),de)}class ye extends L.Shape{constructor(ge){super(function tt(ve){return!(ve=ve||{}).fillLinearGradientColorStops&&!ve.fillRadialGradientColorStops&&!ve.fillPatternImage&&(ve.fill=ve.fill||"black"),ve}(ge)),this._partialTextX=0,this._partialTextY=0;for(let Te=0;Te<z;Te++)this.on(Re[Te]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(ge){const Te=this.textArr,Be=Te.length;if(!this.text())return;let pi,ce=this.padding(),Oe=this.fontSize(),Xe=this.lineHeight()*Oe,wt=this.verticalAlign(),Ke=this.direction(),dt=0,Tt=this.align(),gn=this.getWidth(),bt=this.letterSpacing(),on=this.fill(),bn=this.textDecoration(),Ht=-1!==bn.indexOf("underline"),xt=-1!==bn.indexOf("line-through");Ke=Ke===I?ge.direction:Ke;let Ei=Xe/2,di=G;if(X.Konva._fixTextRendering){const Hn=this.measureSize("M");di="alphabetic",Ei=(Hn.fontBoundingBoxAscent-Hn.fontBoundingBoxDescent)/2+Xe/2}var hn=0,oi=0;for("rtl"===Ke&&ge.setAttr("direction",Ke),ge.setAttr("font",this._getContextFont()),ge.setAttr("textBaseline",di),ge.setAttr("textAlign",U),wt===G?dt=(this.getHeight()-Be*Xe-2*ce)/2:"bottom"===wt&&(dt=this.getHeight()-Be*Xe-2*ce),ge.translate(ce,dt+ce),pi=0;pi<Be;pi++){hn=0,oi=0;var Vn,Ln,Zt=Te[pi],cn=Zt.text,Et=Zt.width,jt=Zt.lastInParagraph;if(ge.save(),"right"===Tt?hn+=gn-Et-2*ce:"center"===Tt&&(hn+=(gn-Et-2*ce)/2),Ht){ge.save(),ge.beginPath();const an=hn,Pi=Ei+oi+(X.Konva._fixTextRendering?Math.round(Oe/4):Math.round(Oe/2));ge.moveTo(an,Pi),Vn=cn.split(" ").length-1,Ln=Tt!==A||jt?Et:gn-2*ce,ge.lineTo(an+Math.round(Ln),Pi),ge.lineWidth=Oe/15;const _n=this._getLinearGradient();ge.strokeStyle=_n||on,ge.stroke(),ge.restore()}if(xt){ge.save(),ge.beginPath();const Xn=X.Konva._fixTextRendering?-Math.round(Oe/4):0;ge.moveTo(hn,Ei+oi+Xn),Vn=cn.split(" ").length-1,Ln=Tt!==A||jt?Et:gn-2*ce,ge.lineTo(hn+Math.round(Ln),Ei+oi+Xn),ge.lineWidth=Oe/15;const an=this._getLinearGradient();ge.strokeStyle=an||on,ge.stroke(),ge.restore()}if("rtl"===Ke||0===bt&&Tt!==A)0!==bt&&ge.setAttr("letterSpacing",`${bt}px`),this._partialTextX=hn,this._partialTextY=Ei+oi,this._partialText=cn,ge.fillStrokeShape(this);else{Vn=cn.split(" ").length-1;const Xn=R(cn);for(let an=0;an<Xn.length;an++){const Pi=Xn[an];" "===Pi&&!jt&&Tt===A&&(hn+=(gn-2*ce-Et)/Vn),this._partialTextX=hn,this._partialTextY=Ei+oi,this._partialText=Pi,ge.fillStrokeShape(this),hn+=this.measureSize(Pi).width+bt}}ge.restore(),Be>1&&(Ei+=Xe)}}_hitFunc(ge){const Te=this.getWidth(),Be=this.getHeight();ge.beginPath(),ge.rect(0,0,Te,Be),ge.closePath(),ge.fillStrokeShape(this)}setText(ge){const Te=o.Util._isString(ge)?ge:null==ge?"":ge+"";return this._setAttr("text",Te),this}getWidth(){return this.attrs.width===D||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===D||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ge){var Te,Be,ce,Oe,Xe,wt,Ke,dt,Tt,gn,bt;let Ht,on=be(),bn=this.fontSize();on.save(),on.font=this._getContextFont(),Ht=on.measureText(ge),on.restore();const xt=bn/100;return{actualBoundingBoxAscent:null!==(Te=Ht.actualBoundingBoxAscent)&&void 0!==Te?Te:71.58203125*xt,actualBoundingBoxDescent:null!==(Be=Ht.actualBoundingBoxDescent)&&void 0!==Be?Be:0,actualBoundingBoxLeft:null!==(ce=Ht.actualBoundingBoxLeft)&&void 0!==ce?ce:-7.421875*xt,actualBoundingBoxRight:null!==(Oe=Ht.actualBoundingBoxRight)&&void 0!==Oe?Oe:75.732421875*xt,alphabeticBaseline:null!==(Xe=Ht.alphabeticBaseline)&&void 0!==Xe?Xe:0,emHeightAscent:null!==(wt=Ht.emHeightAscent)&&void 0!==wt?wt:100*xt,emHeightDescent:null!==(Ke=Ht.emHeightDescent)&&void 0!==Ke?Ke:-20*xt,fontBoundingBoxAscent:null!==(dt=Ht.fontBoundingBoxAscent)&&void 0!==dt?dt:91*xt,fontBoundingBoxDescent:null!==(Tt=Ht.fontBoundingBoxDescent)&&void 0!==Tt?Tt:21*xt,hangingBaseline:null!==(gn=Ht.hangingBaseline)&&void 0!==gn?gn:72.80000305175781*xt,ideographicBaseline:null!==(bt=Ht.ideographicBaseline)&&void 0!==bt?bt:-21*xt,width:Ht.width,height:bn}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+function re(ve){return ve.split(",").map(ge=>{const Te=(ge=ge.trim()).indexOf(" ")>=0,Be=ge.indexOf('"')>=0||ge.indexOf("'")>=0;return Te&&!Be&&(ge=`"${ge}"`),ge}).join(", ")}(this.fontFamily())}_addTextLine(ge){this.align()===A&&(ge=ge.trim());const Be=this._getTextWidth(ge);return this.textArr.push({text:ge,width:Be,lastInParagraph:!1})}_getTextWidth(ge){const Te=this.letterSpacing(),Be=ge.length;return be().measureText(ge).width+Te*Be}_setTextData(){let ge=this.text().split("\n"),Te=+this.fontSize(),Be=0,ce=this.lineHeight()*Te,Oe=this.attrs.width,Xe=this.attrs.height,wt=Oe!==D&&void 0!==Oe,Ke=Xe!==D&&void 0!==Xe,dt=this.padding(),Tt=Oe-2*dt,gn=Xe-2*dt,bt=0,on=this.wrap(),Ht="char"!==on&&"none"!==on,xt=this.ellipsis();this.textArr=[],be().font=this._getContextFont();const pi=xt?this._getTextWidth("\u2026"):0;for(let Ei=0,di=ge.length;Ei<di;++Ei){let hn=ge[Ei],oi=this._getTextWidth(hn);if(wt&&oi>Tt)for(;hn.length>0;){let Zt=0,cn=R(hn).length,Et="",jt=0;for(;Zt<cn;){const Vn=Zt+cn>>>1,Ln=R(hn).slice(0,Vn+1).join(""),Hn=this._getTextWidth(Ln)+pi;Hn<=Tt?(Zt=Vn+1,Et=Ln,jt=Hn):cn=Vn}if(!Et)break;if(Ht){const Ln=R(hn),Hn=R(Et),qn=Ln[Hn.length];let an;if((" "===qn||"-"===qn)&&jt<=Tt)an=Hn.length;else{const Pi=Hn.lastIndexOf(" "),_n=Hn.lastIndexOf("-");an=Math.max(Pi,_n)+1}an>0&&(Zt=an,Et=Ln.slice(0,Zt).join(""),jt=this._getTextWidth(Et))}if(Et=Et.trimRight(),this._addTextLine(Et),Be=Math.max(Be,jt),bt+=ce,this._shouldHandleEllipsis(bt)){this._tryToAddEllipsisToLastLine();break}if(hn=R(hn).slice(Zt).join("").trimLeft(),hn.length>0&&(oi=this._getTextWidth(hn),oi<=Tt)){this._addTextLine(hn),bt+=ce,Be=Math.max(Be,oi);break}}else this._addTextLine(hn),bt+=ce,Be=Math.max(Be,oi),this._shouldHandleEllipsis(bt)&&Ei<di-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Ke&&bt+ce>gn)break}this.textHeight=Te,this.textWidth=Be}_shouldHandleEllipsis(ge){const Te=+this.fontSize(),Be=this.lineHeight()*Te,ce=this.attrs.height,Oe=ce!==D&&void 0!==ce,wt=ce-2*this.padding();return!("none"!==this.wrap())||Oe&&ge+Be>wt}_tryToAddEllipsisToLastLine(){const ge=this.attrs.width,Te=ge!==D&&void 0!==ge,ce=ge-2*this.padding(),Oe=this.ellipsis(),Xe=this.textArr[this.textArr.length-1];!Xe||!Oe||(Te&&(this._getTextWidth(Xe.text+"\u2026")<ce||(Xe.text=Xe.text.slice(0,Xe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Xe.text+"\u2026"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const ge=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),Te=this.hasShadow();return!(!ge||!Te)||super._useBufferCanvas()}}V.Text=ye,ye.prototype._fillFunc=function Fe(ve){ve.fillText(this._partialText,this._partialTextX,this._partialTextY)},ye.prototype._strokeFunc=function Le(ve){ve.setAttr("miterLimit",2),ve.strokeText(this._partialText,this._partialTextX,this._partialTextY)},ye.prototype.className="Text",ye.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,M._registerNode)(ye),$.Factory.overWriteSetter(ye,"width",(0,H.getNumberOrAutoValidator)()),$.Factory.overWriteSetter(ye,"height",(0,H.getNumberOrAutoValidator)()),$.Factory.addGetterSetter(ye,"direction",I),$.Factory.addGetterSetter(ye,"fontFamily","Arial"),$.Factory.addGetterSetter(ye,"fontSize",12,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(ye,"fontStyle",K),$.Factory.addGetterSetter(ye,"fontVariant",K),$.Factory.addGetterSetter(ye,"padding",0,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(ye,"align",U),$.Factory.addGetterSetter(ye,"verticalAlign","top"),$.Factory.addGetterSetter(ye,"lineHeight",1,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(ye,"wrap","word"),$.Factory.addGetterSetter(ye,"ellipsis",!1,(0,H.getBooleanValidator)()),$.Factory.addGetterSetter(ye,"letterSpacing",0,(0,H.getNumberValidator)()),$.Factory.addGetterSetter(ye,"text","",(0,H.getStringValidator)()),$.Factory.addGetterSetter(ye,"textDecoration","")},7626:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.TextPath=void 0;const o=C(2121),$=C(134),L=C(4147),X=C(7082),H=C(6154),M=C(674),R=C(9037),k="normal";function I(j){j.fillText(this.partialText,0,0)}function A(j){j.strokeText(this.partialText,0,0)}class O extends L.Shape{constructor(B){super(B),this.dummyCanvas=o.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return X.Path.getPathLength(this.dataArray)}_getPointAtLength(B){return this.attrs.data?B-1>this.pathLength?null:X.Path.getPointAtLengthOfDataArray(B,this.dataArray):null}_readDataAttribute(){this.dataArray=X.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(B){B.setAttr("font",this._getContextFont()),B.setAttr("textBaseline",this.textBaseline()),B.setAttr("textAlign","left"),B.save();const U=this.textDecoration(),Y=this.fill(),W=this.fontSize(),ne=this.glyphInfo;"underline"===U&&B.beginPath();for(let E=0;E<ne.length;E++){B.save();const G=ne[E].p0;B.translate(G.x,G.y),B.rotate(ne[E].rotation),this.partialText=ne[E].text,B.fillStrokeShape(this),"underline"===U&&(0===E&&B.moveTo(0,W/2+1),B.lineTo(W,W/2+1)),B.restore()}"underline"===U&&(B.strokeStyle=Y,B.lineWidth=W/20,B.stroke()),B.restore()}_hitFunc(B){B.beginPath();const U=this.glyphInfo;if(U.length>=1){const Y=U[0].p0;B.moveTo(Y.x,Y.y)}for(let Y=0;Y<U.length;Y++){const W=U[Y].p1;B.lineTo(W.x,W.y)}B.setAttr("lineWidth",this.fontSize()),B.setAttr("strokeStyle",this.colorKey),B.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(B){return H.Text.prototype.setText.call(this,B)}_getContextFont(){return H.Text.prototype._getContextFont.call(this)}_getTextSize(B){const Y=this.dummyCanvas.getContext("2d");Y.save(),Y.font=this._getContextFont();const W=Y.measureText(B);return Y.restore(),{width:W.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:B,height:U}=this._getTextSize(this.attrs.text);if(this.textWidth=B,this.textHeight=U,this.glyphInfo=[],!this.attrs.data)return null;const Y=this.letterSpacing(),W=this.align(),ne=this.kerningFunc(),E=Math.max(this.textWidth+((this.attrs.text||"").length-1)*Y,0);let G=0;"center"===W&&(G=Math.max(0,this.pathLength/2-E/2)),"right"===W&&(G=Math.max(0,this.pathLength-E));const K=(0,H.stringToArray)(this.text());let te=G;for(let se=0;se<K.length;se++){const ie=this._getPointAtLength(te);if(!ie)return;let me=this._getTextSize(K[se]).width+Y;if(" "===K[se]&&"justify"===W){const z=this.text().split(" ").length-1;me+=(this.pathLength-E)/z}const ue=this._getPointAtLength(te+me);if(!ue)return;const J=X.Path.getLineLength(ie.x,ie.y,ue.x,ue.y);let he=0;if(ne)try{he=ne(K[se-1],K[se])*this.fontSize()}catch{he=0}ie.x+=he,ue.x+=he,this.textWidth+=he;const xe=X.Path.getPointOnLine(he+J/2,ie.x,ie.y,ue.x,ue.y),Re=Math.atan2(ue.y-ie.y,ue.x-ie.x);this.glyphInfo.push({transposeX:xe.x,transposeY:xe.y,text:K[se],rotation:Re,p0:ie,p1:ue}),te+=me}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const B=[];this.glyphInfo.forEach(function(te){B.push(te.p0.x),B.push(te.p0.y),B.push(te.p1.x),B.push(te.p1.y)});let E,G,U=B[0]||0,Y=B[0]||0,W=B[1]||0,ne=B[1]||0;for(let te=0;te<B.length/2;te++)E=B[2*te],G=B[2*te+1],U=Math.min(U,E),Y=Math.max(Y,E),W=Math.min(W,G),ne=Math.max(ne,G);const K=this.fontSize();return{x:U-K/2,y:W-K/2,width:Y-U+K,height:ne-W+K}}destroy(){return o.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}V.TextPath=O,O.prototype._fillFunc=I,O.prototype._strokeFunc=A,O.prototype._fillFuncHit=I,O.prototype._strokeFuncHit=A,O.prototype.className="TextPath",O.prototype._attrsAffectingSize=["text","fontSize","data"],(0,R._registerNode)(O),$.Factory.addGetterSetter(O,"data"),$.Factory.addGetterSetter(O,"fontFamily","Arial"),$.Factory.addGetterSetter(O,"fontSize",12,(0,M.getNumberValidator)()),$.Factory.addGetterSetter(O,"fontStyle",k),$.Factory.addGetterSetter(O,"align","left"),$.Factory.addGetterSetter(O,"letterSpacing",0,(0,M.getNumberValidator)()),$.Factory.addGetterSetter(O,"textBaseline","middle"),$.Factory.addGetterSetter(O,"fontVariant",k),$.Factory.addGetterSetter(O,"text",""),$.Factory.addGetterSetter(O,"textDecoration",""),$.Factory.addGetterSetter(O,"kerningFunc",void 0)},2348:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Transformer=void 0;const o=C(2121),$=C(134),L=C(338),X=C(4147),H=C(6056),M=C(5673),R=C(9037),D=C(674),k=C(9037),I="tr-konva",A=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(ue=>ue+`.${I}`).join(" "),O="nodesRect",j=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],B={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},U="ontouchstart"in R.Konva._global,W=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],ne=1e8;function G(ue,J,he){const xe=he.x+(ue.x-he.x)*Math.cos(J)-(ue.y-he.y)*Math.sin(J),Re=he.y+(ue.x-he.x)*Math.sin(J)+(ue.y-he.y)*Math.cos(J);return{...ue,rotation:ue.rotation+J,x:xe,y:Re}}let se=0;class ie extends M.Group{constructor(J){super(J),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(A,this.update),this.getNode()&&this.update()}attachTo(J){return this.setNode(J),this}setNode(J){return o.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([J])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return I+this._id}setNodes(J=[]){this._nodes&&this._nodes.length&&this.detach();const he=J.filter(Re=>!Re.isAncestorOf(this)||(o.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=J=he,1===J.length&&this.useSingleNodeRotation()?this.rotation(J[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Re=>{const z=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},re=Re._attrsAffectingSize.map(de=>de+"Change."+this._getEventNamespace()).join(" ");Re.on(re,z),Re.on(j.map(de=>de+`.${this._getEventNamespace()}`).join(" "),z),Re.on(`absoluteTransformChange.${this._getEventNamespace()}`,z),this._proxyDrag(Re)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(J){let he;J.on(`dragstart.${this._getEventNamespace()}`,xe=>{he=J.getAbsolutePosition(),!this.isDragging()&&J!==this.findOne(".back")&&this.startDrag(xe,!1)}),J.on(`dragmove.${this._getEventNamespace()}`,xe=>{if(!he)return;const Re=J.getAbsolutePosition(),z=Re.x-he.x,re=Re.y-he.y;this.nodes().forEach(de=>{if(de===J||de.isDragging())return;const be=de.getAbsolutePosition();de.setAbsolutePosition({x:be.x+z,y:be.y+re}),de.startDrag(xe)}),he=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(J=>{J.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(O),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(O,this.__getNodeRect)}__getNodeShape(J,he=this.rotation(),xe){const Re=J.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),z=J.getAbsoluteScale(xe),re=J.getAbsolutePosition(xe),de=Re.x*z.x-J.offsetX()*z.x,be=Re.y*z.y-J.offsetY()*z.y,Fe=(R.Konva.getAngle(J.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return G({x:re.x+de*Math.cos(Fe)+be*Math.sin(-Fe),y:re.y+be*Math.cos(Fe)+de*Math.sin(Fe),width:Re.width*z.x,height:Re.height*z.y,rotation:Fe},-R.Konva.getAngle(he),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-ne,y:-ne,width:0,height:0,rotation:0};const he=[];this.nodes().map(Fe=>{const Le=Fe.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),tt=[{x:Le.x,y:Le.y},{x:Le.x+Le.width,y:Le.y},{x:Le.x+Le.width,y:Le.y+Le.height},{x:Le.x,y:Le.y+Le.height}],ye=Fe.getAbsoluteTransform();tt.forEach(function(ve){const ge=ye.point(ve);he.push(ge)})});const xe=new o.Transform;xe.rotate(-R.Konva.getAngle(this.rotation()));let Re=1/0,z=1/0,re=-1/0,de=-1/0;he.forEach(function(Fe){const Le=xe.point(Fe);void 0===Re&&(Re=re=Le.x,z=de=Le.y),Re=Math.min(Re,Le.x),z=Math.min(z,Le.y),re=Math.max(re,Le.x),de=Math.max(de,Le.y)}),xe.invert();const be=xe.point({x:Re,y:z});return{x:be.x,y:be.y,width:re-Re,height:de-z,rotation:R.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),W.forEach(J=>{this._createAnchor(J)}),this._createAnchor("rotater")}_createAnchor(J){const he=new H.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:J+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:U?10:"auto"}),xe=this;he.on("mousedown touchstart",function(Re){xe._handleMouseDown(Re)}),he.on("dragstart",Re=>{he.stopDrag(),Re.cancelBubble=!0}),he.on("dragend",Re=>{Re.cancelBubble=!0}),he.on("mouseenter",()=>{const Re=R.Konva.getAngle(this.rotation()),z=this.rotateAnchorCursor(),re=function Y(ue,J,he){if("rotater"===ue)return he;J+=o.Util.degToRad(B[ue]||0);const xe=(o.Util.radToDeg(J)%360+360)%360;return o.Util._inRange(xe,337.5,360)||o.Util._inRange(xe,0,22.5)?"ns-resize":o.Util._inRange(xe,22.5,67.5)?"nesw-resize":o.Util._inRange(xe,67.5,112.5)?"ew-resize":o.Util._inRange(xe,112.5,157.5)?"nwse-resize":o.Util._inRange(xe,157.5,202.5)?"ns-resize":o.Util._inRange(xe,202.5,247.5)?"nesw-resize":o.Util._inRange(xe,247.5,292.5)?"ew-resize":o.Util._inRange(xe,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+xe),"pointer")}(J,Re,z);he.getStage().content&&(he.getStage().content.style.cursor=re),this._cursorChange=!0}),he.on("mouseout",()=>{he.getStage().content&&(he.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(he)}_createBack(){const J=new X.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(he,xe){const Re=xe.getParent(),z=Re.padding();he.beginPath(),he.rect(-z,-z,xe.width()+2*z,xe.height()+2*z),he.moveTo(xe.width()/2,-z),Re.rotateEnabled()&&Re.rotateLineVisible()&&he.lineTo(xe.width()/2,-Re.rotateAnchorOffset()*o.Util._sign(xe.height())-z),he.fillStrokeShape(xe)},hitFunc:(he,xe)=>{if(!this.shouldOverdrawWholeArea())return;const Re=this.padding();he.beginPath(),he.rect(-Re,-Re,xe.width()+2*Re,xe.height()+2*Re),he.fillStrokeShape(xe)}});this.add(J),this._proxyDrag(J),J.on("dragstart",he=>{he.cancelBubble=!0}),J.on("dragmove",he=>{he.cancelBubble=!0}),J.on("dragend",he=>{he.cancelBubble=!0}),this.on("dragmove",he=>{this.update()})}_handleMouseDown(J){if(this._transforming)return;this._movingAnchorName=J.target.name().split(" ")[0];const he=this._getNodeRect(),xe=he.width,Re=he.height,z=Math.sqrt(Math.pow(xe,2)+Math.pow(Re,2));this.sin=Math.abs(Re/z),this.cos=Math.abs(xe/z),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const re=J.target.getAbsolutePosition(),de=J.target.getStage().getPointerPosition();this._anchorDragOffset={x:de.x-re.x,y:de.y-re.y},se++,this._fire("transformstart",{evt:J.evt,target:this.getNode()}),this._nodes.forEach(be=>{be._fire("transformstart",{evt:J.evt,target:be})})}_handleMouseMove(J){let he,xe,Re;const z=this.findOne("."+this._movingAnchorName),re=z.getStage();re.setPointersPositions(J);const de=re.getPointerPosition();let be={x:de.x-this._anchorDragOffset.x,y:de.y-this._anchorDragOffset.y};const Fe=z.getAbsolutePosition();this.anchorDragBoundFunc()&&(be=this.anchorDragBoundFunc()(Fe,be,J)),z.setAbsolutePosition(be);const Le=z.getAbsolutePosition();if(Fe.x===Le.x&&Fe.y===Le.y)return;if("rotater"===this._movingAnchorName){const Ke=this._getNodeRect();he=z.x()-Ke.width/2,xe=-z.y()+Ke.height/2;let dt=Math.atan2(-xe,he)+Math.PI/2;Ke.height<0&&(dt-=Math.PI);const gn=R.Konva.getAngle(this.rotation())+dt,bt=R.Konva.getAngle(this.rotationSnapTolerance()),bn=function te(ue,J,he){let xe=J;for(let Re=0;Re<ue.length;Re++){const z=R.Konva.getAngle(ue[Re]),re=Math.abs(z-J)%(2*Math.PI);Math.min(re,2*Math.PI-re)<he&&(xe=z)}return xe}(this.rotationSnaps(),gn,bt)-Ke.rotation,Ht=function K(ue,J){const he=function E(ue){return{x:ue.x+ue.width/2*Math.cos(ue.rotation)+ue.height/2*Math.sin(-ue.rotation),y:ue.y+ue.height/2*Math.cos(ue.rotation)+ue.width/2*Math.sin(ue.rotation)}}(ue);return G(ue,J,he)}(Ke,bn);return void this._fitNodesInto(Ht,J)}const tt=this.shiftBehavior();let ye;ye="inverted"===tt?this.keepRatio()&&!J.shiftKey:"none"===tt?this.keepRatio():this.keepRatio()||J.shiftKey;var ce=this.centeredScaling()||J.altKey;if("top-left"===this._movingAnchorName){if(ye){var ve=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Re=Math.sqrt(Math.pow(ve.x-z.x(),2)+Math.pow(ve.y-z.y(),2));var ge=this.findOne(".top-left").x()>ve.x?-1:1,Te=this.findOne(".top-left").y()>ve.y?-1:1;he=Re*this.cos*ge,xe=Re*this.sin*Te,this.findOne(".top-left").x(ve.x-he),this.findOne(".top-left").y(ve.y-xe)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(z.y());else if("top-right"===this._movingAnchorName){ye&&(ve=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},Re=Math.sqrt(Math.pow(z.x()-ve.x,2)+Math.pow(ve.y-z.y(),2)),ge=this.findOne(".top-right").x()<ve.x?-1:1,Te=this.findOne(".top-right").y()>ve.y?-1:1,he=Re*this.cos*ge,xe=Re*this.sin*Te,this.findOne(".top-right").x(ve.x+he),this.findOne(".top-right").y(ve.y-xe));var Be=z.position();this.findOne(".top-left").y(Be.y),this.findOne(".bottom-right").x(Be.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(z.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(z.x()):"bottom-left"===this._movingAnchorName?(ye&&(ve=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},Re=Math.sqrt(Math.pow(ve.x-z.x(),2)+Math.pow(z.y()-ve.y,2)),ge=ve.x<z.x()?-1:1,Te=z.y()<ve.y?-1:1,he=Re*this.cos*ge,xe=Re*this.sin*Te,z.x(ve.x-he),z.y(ve.y+xe)),Be=z.position(),this.findOne(".top-left").x(Be.x),this.findOne(".bottom-right").y(Be.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(z.y()):"bottom-right"===this._movingAnchorName?ye&&(ve=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},Re=Math.sqrt(Math.pow(z.x()-ve.x,2)+Math.pow(z.y()-ve.y,2)),ge=this.findOne(".bottom-right").x()<ve.x?-1:1,Te=this.findOne(".bottom-right").y()<ve.y?-1:1,he=Re*this.cos*ge,xe=Re*this.sin*Te,this.findOne(".bottom-right").x(ve.x+he),this.findOne(".bottom-right").y(ve.y+xe)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(ce=this.centeredScaling()||J.altKey){const Ke=this.findOne(".top-left"),dt=this.findOne(".bottom-right"),Tt=Ke.x(),gn=Ke.y(),bt=this.getWidth()-dt.x(),on=this.getHeight()-dt.y();dt.move({x:-Tt,y:-gn}),Ke.move({x:bt,y:on})}const Oe=this.findOne(".top-left").getAbsolutePosition();he=Oe.x,xe=Oe.y;const Xe=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),wt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:he,y:xe,width:Xe,height:wt,rotation:R.Konva.getAngle(this.rotation())},J)}_handleMouseUp(J){this._removeEvents(J)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(J){var he;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const xe=this.getNode();se--,this._fire("transformend",{evt:J,target:xe}),null===(he=this.getLayer())||void 0===he||he.batchDraw(),xe&&this._nodes.forEach(Re=>{var z;Re._fire("transformend",{evt:J,target:Re}),null===(z=Re.getLayer())||void 0===z||z.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(J,he){const xe=this._getNodeRect();if(o.Util._inRange(J.width,2*-this.padding()-1,1))return void this.update();if(o.Util._inRange(J.height,2*-this.padding()-1,1))return void this.update();const z=new o.Transform;if(z.rotate(R.Konva.getAngle(this.rotation())),this._movingAnchorName&&J.width<0&&this._movingAnchorName.indexOf("left")>=0){const ye=z.point({x:2*-this.padding(),y:0});J.x+=ye.x,J.y+=ye.y,J.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ye.x,this._anchorDragOffset.y-=ye.y}else if(this._movingAnchorName&&J.width<0&&this._movingAnchorName.indexOf("right")>=0){const ye=z.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ye.x,this._anchorDragOffset.y-=ye.y,J.width+=2*this.padding()}if(this._movingAnchorName&&J.height<0&&this._movingAnchorName.indexOf("top")>=0){const ye=z.point({x:0,y:2*-this.padding()});J.x+=ye.x,J.y+=ye.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ye.x,this._anchorDragOffset.y-=ye.y,J.height+=2*this.padding()}else if(this._movingAnchorName&&J.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ye=z.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ye.x,this._anchorDragOffset.y-=ye.y,J.height+=2*this.padding()}if(this.boundBoxFunc()){const ye=this.boundBoxFunc()(xe,J);ye?J=ye:o.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const re=1e7,de=new o.Transform;de.translate(xe.x,xe.y),de.rotate(xe.rotation),de.scale(xe.width/re,xe.height/re);const be=new o.Transform,Fe=J.width/re,Le=J.height/re;!1===this.flipEnabled()?(be.translate(J.x,J.y),be.rotate(J.rotation),be.translate(J.width<0?J.width:0,J.height<0?J.height:0),be.scale(Math.abs(Fe),Math.abs(Le))):(be.translate(J.x,J.y),be.rotate(J.rotation),be.scale(Fe,Le));const tt=be.multiply(de.invert());this._nodes.forEach(ye=>{var ve;const ge=ye.getParent().getAbsoluteTransform(),Te=ye.getTransform().copy();Te.translate(ye.offsetX(),ye.offsetY());const Be=new o.Transform;Be.multiply(ge.copy().invert()).multiply(tt).multiply(ge).multiply(Te);const ce=Be.decompose();ye.setAttrs(ce),null===(ve=ye.getLayer())||void 0===ve||ve.batchDraw()}),this.rotation(o.Util._getRotation(J.rotation)),this._nodes.forEach(ye=>{this._fire("transform",{evt:he,target:ye}),ye._fire("transform",{evt:he,target:ye})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(J,he){this.findOne(J).setAttrs(he)}update(){var J;const he=this._getNodeRect();this.rotation(o.Util._getRotation(he.rotation));const xe=he.width,Re=he.height,z=this.enabledAnchors(),re=this.resizeEnabled(),de=this.padding(),be=this.anchorSize(),Fe=this.find("._anchor");Fe.forEach(tt=>{tt.setAttrs({width:be,height:be,offsetX:be/2,offsetY:be/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:be/2+de,offsetY:be/2+de,visible:re&&z.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:xe/2,y:0,offsetY:be/2+de,visible:re&&z.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:xe,y:0,offsetX:be/2-de,offsetY:be/2+de,visible:re&&z.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Re/2,offsetX:be/2+de,visible:re&&z.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:xe,y:Re/2,offsetX:be/2-de,visible:re&&z.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Re,offsetX:be/2+de,offsetY:be/2-de,visible:re&&z.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:xe/2,y:Re,offsetY:be/2-de,visible:re&&z.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:xe,y:Re,offsetX:be/2-de,offsetY:be/2-de,visible:re&&z.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:xe/2,y:-this.rotateAnchorOffset()*o.Util._sign(Re)-de,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:xe,height:Re,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const Le=this.anchorStyleFunc();Le&&Fe.forEach(tt=>{Le(tt)}),null===(J=this.getLayer())||void 0===J||J.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const J=this.findOne("."+this._movingAnchorName);J&&J.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),M.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return L.Node.prototype.toObject.call(this)}clone(J){return L.Node.prototype.clone.call(this,J)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}V.Transformer=ie,ie.isTransforming=()=>se>0,ie.prototype.className="Transformer",(0,k._registerNode)(ie),$.Factory.addGetterSetter(ie,"enabledAnchors",W,function me(ue){return ue instanceof Array||o.Util.warn("enabledAnchors value should be an array"),ue instanceof Array&&ue.forEach(function(J){-1===W.indexOf(J)&&o.Util.warn("Unknown anchor name: "+J+". Available names are: "+W.join(", "))}),ue||[]}),$.Factory.addGetterSetter(ie,"flipEnabled",!0,(0,D.getBooleanValidator)()),$.Factory.addGetterSetter(ie,"resizeEnabled",!0),$.Factory.addGetterSetter(ie,"anchorSize",10,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"rotateEnabled",!0),$.Factory.addGetterSetter(ie,"rotateLineVisible",!0),$.Factory.addGetterSetter(ie,"rotationSnaps",[]),$.Factory.addGetterSetter(ie,"rotateAnchorOffset",50,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"rotateAnchorCursor","crosshair"),$.Factory.addGetterSetter(ie,"rotationSnapTolerance",5,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"borderEnabled",!0),$.Factory.addGetterSetter(ie,"anchorStroke","rgb(0, 161, 255)"),$.Factory.addGetterSetter(ie,"anchorStrokeWidth",1,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"anchorFill","white"),$.Factory.addGetterSetter(ie,"anchorCornerRadius",0,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"borderStroke","rgb(0, 161, 255)"),$.Factory.addGetterSetter(ie,"borderStrokeWidth",1,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"borderDash"),$.Factory.addGetterSetter(ie,"keepRatio",!0),$.Factory.addGetterSetter(ie,"shiftBehavior","default"),$.Factory.addGetterSetter(ie,"centeredScaling",!1),$.Factory.addGetterSetter(ie,"ignoreStroke",!1),$.Factory.addGetterSetter(ie,"padding",0,(0,D.getNumberValidator)()),$.Factory.addGetterSetter(ie,"nodes"),$.Factory.addGetterSetter(ie,"node"),$.Factory.addGetterSetter(ie,"boundBoxFunc"),$.Factory.addGetterSetter(ie,"anchorDragBoundFunc"),$.Factory.addGetterSetter(ie,"anchorStyleFunc"),$.Factory.addGetterSetter(ie,"shouldOverdrawWholeArea",!1),$.Factory.addGetterSetter(ie,"useSingleNodeRotation",!0),$.Factory.backCompat(ie,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},5395:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Wedge=void 0;const o=C(134),$=C(4147),L=C(9037),X=C(674),H=C(9037);class M extends $.Shape{_sceneFunc(D){D.beginPath(),D.arc(0,0,this.radius(),0,L.Konva.getAngle(this.angle()),this.clockwise()),D.lineTo(0,0),D.closePath(),D.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(D){this.radius(D/2)}setHeight(D){this.radius(D/2)}}V.Wedge=M,M.prototype.className="Wedge",M.prototype._centroid=!0,M.prototype._attrsAffectingSize=["radius"],(0,H._registerNode)(M),o.Factory.addGetterSetter(M,"radius",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"angle",0,(0,X.getNumberValidator)()),o.Factory.addGetterSetter(M,"clockwise",!1),o.Factory.backCompat(M,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},1135:(Ce,V,C)=>{C.d(V,{X:()=>$});var o=C(7579);class $ extends o.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const H=super._subscribe(X);return!H.closed&&X.next(this._value),H}getValue(){const{hasError:X,thrownError:H,_value:M}=this;if(X)throw H;return this._throwIfClosed(),M}next(X){super.next(this._value=X)}}},9751:(Ce,V,C)=>{C.d(V,{y:()=>D});var o=C(930),$=C(727),L=C(8822),X=C(9635),H=C(2416),M=C(576),R=C(2806);let D=(()=>{class O{constructor(B){B&&(this._subscribe=B)}lift(B){const U=new O;return U.source=this,U.operator=B,U}subscribe(B,U,Y){const W=function A(O){return O&&O instanceof o.Lv||function I(O){return O&&(0,M.m)(O.next)&&(0,M.m)(O.error)&&(0,M.m)(O.complete)}(O)&&(0,$.Nn)(O)}(B)?B:new o.Hp(B,U,Y);return(0,R.x)(()=>{const{operator:ne,source:E}=this;W.add(ne?ne.call(W,E):E?this._subscribe(W):this._trySubscribe(W))}),W}_trySubscribe(B){try{return this._subscribe(B)}catch(U){B.error(U)}}forEach(B,U){return new(U=k(U))((Y,W)=>{const ne=new o.Hp({next:E=>{try{B(E)}catch(G){W(G),ne.unsubscribe()}},error:W,complete:Y});this.subscribe(ne)})}_subscribe(B){var U;return null===(U=this.source)||void 0===U?void 0:U.subscribe(B)}[L.L](){return this}pipe(...B){return(0,X.U)(B)(this)}toPromise(B){return new(B=k(B))((U,Y)=>{let W;this.subscribe(ne=>W=ne,ne=>Y(ne),()=>U(W))})}}return O.create=j=>new O(j),O})();function k(O){var j;return null!==(j=O??H.v.Promise)&&void 0!==j?j:Promise}},4707:(Ce,V,C)=>{C.d(V,{t:()=>L});var o=C(7579),$=C(6063);class L extends o.x{constructor(H=1/0,M=1/0,R=$.l){super(),this._bufferSize=H,this._windowTime=M,this._timestampProvider=R,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=M===1/0,this._bufferSize=Math.max(1,H),this._windowTime=Math.max(1,M)}next(H){const{isStopped:M,_buffer:R,_infiniteTimeWindow:D,_timestampProvider:k,_windowTime:I}=this;M||(R.push(H),!D&&R.push(k.now()+I)),this._trimBuffer(),super.next(H)}_subscribe(H){this._throwIfClosed(),this._trimBuffer();const M=this._innerSubscribe(H),{_infiniteTimeWindow:R,_buffer:D}=this,k=D.slice();for(let I=0;I<k.length&&!H.closed;I+=R?1:2)H.next(k[I]);return this._checkFinalizedStatuses(H),M}_trimBuffer(){const{_bufferSize:H,_timestampProvider:M,_buffer:R,_infiniteTimeWindow:D}=this,k=(D?1:2)*H;if(H<1/0&&k<R.length&&R.splice(0,R.length-k),!D){const I=M.now();let A=0;for(let O=1;O<R.length&&R[O]<=I;O+=2)A=O;A&&R.splice(0,A+1)}}}},7579:(Ce,V,C)=>{C.d(V,{x:()=>R});var o=C(9751),$=C(727);const X=(0,C(3888).d)(k=>function(){k(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=C(8737),M=C(2806);let R=(()=>{class k extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const O=new D(this,this);return O.operator=A,O}_throwIfClosed(){if(this.closed)throw new X}next(A){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(A)}})}error(A){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:O}=this;for(;O.length;)O.shift().error(A)}})}complete(){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:O,isStopped:j,observers:B}=this;return O||j?$.Lc:(this.currentObservers=null,B.push(A),new $.w0(()=>{this.currentObservers=null,(0,H.P)(B,A)}))}_checkFinalizedStatuses(A){const{hasError:O,thrownError:j,isStopped:B}=this;O?A.error(j):B&&A.complete()}asObservable(){const A=new o.y;return A.source=this,A}}return k.create=(I,A)=>new D(I,A),k})();class D extends R{constructor(I,A){super(),this.destination=I,this.source=A}next(I){var A,O;null===(O=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===O||O.call(A,I)}error(I){var A,O;null===(O=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===O||O.call(A,I)}complete(){var I,A;null===(A=null===(I=this.destination)||void 0===I?void 0:I.complete)||void 0===A||A.call(I)}_subscribe(I){var A,O;return null!==(O=null===(A=this.source)||void 0===A?void 0:A.subscribe(I))&&void 0!==O?O:$.Lc}}},930:(Ce,V,C)=>{C.d(V,{Hp:()=>Y,Lv:()=>O});var o=C(576),$=C(727),L=C(2416),X=C(7849),H=C(5032);const M=k("C",void 0,void 0);function k(K,te,se){return{kind:K,value:te,error:se}}var I=C(3410),A=C(2806);class O extends $.w0{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,$.Nn)(te)&&te.add(this)):this.destination=G}static create(te,se,ie){return new Y(te,se,ie)}next(te){this.isStopped?E(function D(K){return k("N",K,void 0)}(te),this):this._next(te)}error(te){this.isStopped?E(function R(K){return k("E",void 0,K)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?E(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function B(K,te){return j.call(K,te)}class U{constructor(te){this.partialObserver=te}next(te){const{partialObserver:se}=this;if(se.next)try{se.next(te)}catch(ie){W(ie)}}error(te){const{partialObserver:se}=this;if(se.error)try{se.error(te)}catch(ie){W(ie)}else W(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(se){W(se)}}}class Y extends O{constructor(te,se,ie){let me;if(super(),(0,o.m)(te)||!te)me={next:te??void 0,error:se??void 0,complete:ie??void 0};else{let ue;this&&L.v.useDeprecatedNextContext?(ue=Object.create(te),ue.unsubscribe=()=>this.unsubscribe(),me={next:te.next&&B(te.next,ue),error:te.error&&B(te.error,ue),complete:te.complete&&B(te.complete,ue)}):me=te}this.destination=new U(me)}}function W(K){L.v.useDeprecatedSynchronousErrorHandling?(0,A.O)(K):(0,X.h)(K)}function E(K,te){const{onStoppedNotification:se}=L.v;se&&I.z.setTimeout(()=>se(K,te))}const G={closed:!0,next:H.Z,error:function ne(K){throw K},complete:H.Z}},727:(Ce,V,C)=>{C.d(V,{Lc:()=>M,w0:()=>H,Nn:()=>R});var o=C(576);const L=(0,C(3888).d)(k=>function(A){k(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((O,j)=>`${j+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var X=C(8737);class H{constructor(I){this.initialTeardown=I,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let I;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const B of A)B.remove(this);else A.remove(this);const{initialTeardown:O}=this;if((0,o.m)(O))try{O()}catch(B){I=B instanceof L?B.errors:[B]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const B of j)try{D(B)}catch(U){I=I??[],U instanceof L?I=[...I,...U.errors]:I.push(U)}}if(I)throw new L(I)}}add(I){var A;if(I&&I!==this)if(this.closed)D(I);else{if(I instanceof H){if(I.closed||I._hasParent(this))return;I._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(I)}}_hasParent(I){const{_parentage:A}=this;return A===I||Array.isArray(A)&&A.includes(I)}_addParent(I){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(I),A):A?[A,I]:I}_removeParent(I){const{_parentage:A}=this;A===I?this._parentage=null:Array.isArray(A)&&(0,X.P)(A,I)}remove(I){const{_finalizers:A}=this;A&&(0,X.P)(A,I),I instanceof H&&I._removeParent(this)}}H.EMPTY=(()=>{const k=new H;return k.closed=!0,k})();const M=H.EMPTY;function R(k){return k instanceof H||k&&"closed"in k&&(0,o.m)(k.remove)&&(0,o.m)(k.add)&&(0,o.m)(k.unsubscribe)}function D(k){(0,o.m)(k)?k():k.unsubscribe()}},2416:(Ce,V,C)=>{C.d(V,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ce,V,C)=>{C.d(V,{E:()=>$});const $=new(C(9751).y)(H=>H.complete())},8996:(Ce,V,C)=>{C.d(V,{D:()=>te});var o=C(8421),$=C(5363),L=C(9468),M=C(9751),D=C(2202),k=C(576),I=C(9672);function O(se,ie){if(!se)throw new Error("Iterable cannot be null");return new M.y(me=>{(0,I.f)(me,ie,()=>{const ue=se[Symbol.asyncIterator]();(0,I.f)(me,ie,()=>{ue.next().then(J=>{J.done?me.complete():me.next(J.value)})},0,!0)})})}var j=C(3670),B=C(8239),U=C(1144),Y=C(6495),W=C(2206),ne=C(4532),E=C(3260);function te(se,ie){return ie?function K(se,ie){if(null!=se){if((0,j.c)(se))return function X(se,ie){return(0,o.Xf)(se).pipe((0,L.R)(ie),(0,$.Q)(ie))}(se,ie);if((0,U.z)(se))return function R(se,ie){return new M.y(me=>{let ue=0;return ie.schedule(function(){ue===se.length?me.complete():(me.next(se[ue++]),me.closed||this.schedule())})})}(se,ie);if((0,B.t)(se))return function H(se,ie){return(0,o.Xf)(se).pipe((0,L.R)(ie),(0,$.Q)(ie))}(se,ie);if((0,W.D)(se))return O(se,ie);if((0,Y.T)(se))return function A(se,ie){return new M.y(me=>{let ue;return(0,I.f)(me,ie,()=>{ue=se[D.h](),(0,I.f)(me,ie,()=>{let J,he;try{({value:J,done:he}=ue.next())}catch(xe){return void me.error(xe)}he?me.complete():me.next(J)},0,!0)}),()=>(0,k.m)(ue?.return)&&ue.return()})}(se,ie);if((0,E.L)(se))return function G(se,ie){return O((0,E.Q)(se),ie)}(se,ie)}throw(0,ne.z)(se)}(se,ie):(0,o.Xf)(se)}},8421:(Ce,V,C)=>{C.d(V,{Xf:()=>j});var o=C(7582),$=C(1144),L=C(8239),X=C(9751),H=C(3670),M=C(2206),R=C(4532),D=C(6495),k=C(3260),I=C(576),A=C(7849),O=C(8822);function j(K){if(K instanceof X.y)return K;if(null!=K){if((0,H.c)(K))return function B(K){return new X.y(te=>{const se=K[O.L]();if((0,I.m)(se.subscribe))return se.subscribe(te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(K);if((0,$.z)(K))return function U(K){return new X.y(te=>{for(let se=0;se<K.length&&!te.closed;se++)te.next(K[se]);te.complete()})}(K);if((0,L.t)(K))return function Y(K){return new X.y(te=>{K.then(se=>{te.closed||(te.next(se),te.complete())},se=>te.error(se)).then(null,A.h)})}(K);if((0,M.D)(K))return ne(K);if((0,D.T)(K))return function W(K){return new X.y(te=>{for(const se of K)if(te.next(se),te.closed)return;te.complete()})}(K);if((0,k.L)(K))return function E(K){return ne((0,k.Q)(K))}(K)}throw(0,R.z)(K)}function ne(K){return new X.y(te=>{(function G(K,te){var se,ie,me,ue;return(0,o.mG)(this,void 0,void 0,function*(){try{for(se=(0,o.KL)(K);!(ie=yield se.next()).done;)if(te.next(ie.value),te.closed)return}catch(J){me={error:J}}finally{try{ie&&!ie.done&&(ue=se.return)&&(yield ue.call(se))}finally{if(me)throw me.error}}te.complete()})})(K,te).catch(se=>te.error(se))})}},6451:(Ce,V,C)=>{C.d(V,{T:()=>M});var o=C(8189),$=C(8421),L=C(515),X=C(3269),H=C(8996);function M(...R){const D=(0,X.yG)(R),k=(0,X._6)(R,1/0),I=R;return I.length?1===I.length?(0,$.Xf)(I[0]):(0,o.J)(k)((0,H.D)(I,D)):L.E}},9646:(Ce,V,C)=>{C.d(V,{of:()=>L});var o=C(3269),$=C(8996);function L(...X){const H=(0,o.yG)(X);return(0,$.D)(X,H)}},5403:(Ce,V,C)=>{C.d(V,{Q:()=>L,x:()=>$});var o=C(930);function $(X,H,M,R,D){return new L(X,H,M,R,D)}class L extends o.Lv{constructor(H,M,R,D,k,I){super(H),this.onFinalize=k,this.shouldUnsubscribe=I,this._next=M?function(A){try{M(A)}catch(O){H.error(O)}}:super._next,this._error=D?function(A){try{D(A)}catch(O){H.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=R?function(){try{R()}catch(A){H.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:M}=this;super.unsubscribe(),!M&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}}},262:(Ce,V,C)=>{C.d(V,{K:()=>X});var o=C(8421),$=C(5403),L=C(4482);function X(H){return(0,L.e)((M,R)=>{let I,D=null,k=!1;D=M.subscribe((0,$.x)(R,void 0,void 0,A=>{I=(0,o.Xf)(H(A,X(H)(M))),D?(D.unsubscribe(),D=null,I.subscribe(R)):k=!0})),k&&(D.unsubscribe(),D=null,I.subscribe(R))})}},4351:(Ce,V,C)=>{C.d(V,{b:()=>L});var o=C(5577),$=C(576);function L(X,H){return(0,$.m)(H)?(0,o.z)(X,H,1):(0,o.z)(X,1)}},8372:(Ce,V,C)=>{C.d(V,{b:()=>X});var o=C(4986),$=C(4482),L=C(5403);function X(H,M=o.z){return(0,$.e)((R,D)=>{let k=null,I=null,A=null;const O=()=>{if(k){k.unsubscribe(),k=null;const B=I;I=null,D.next(B)}};function j(){const B=A+H,U=M.now();if(U<B)return k=this.schedule(void 0,B-U),void D.add(k);O()}R.subscribe((0,L.x)(D,B=>{I=B,A=M.now(),k||(k=M.schedule(j,H),D.add(k))},()=>{O(),D.complete()},void 0,()=>{I=k=null}))})}},1884:(Ce,V,C)=>{C.d(V,{x:()=>X});var o=C(4671),$=C(4482),L=C(5403);function X(M,R=o.y){return M=M??H,(0,$.e)((D,k)=>{let I,A=!0;D.subscribe((0,L.x)(k,O=>{const j=R(O);(A||!M(I,j))&&(A=!1,I=j,k.next(O))}))})}function H(M,R){return M===R}},9300:(Ce,V,C)=>{C.d(V,{h:()=>L});var o=C(4482),$=C(5403);function L(X,H){return(0,o.e)((M,R)=>{let D=0;M.subscribe((0,$.x)(R,k=>X.call(H,k,D++)&&R.next(k)))})}},4004:(Ce,V,C)=>{C.d(V,{U:()=>L});var o=C(4482),$=C(5403);function L(X,H){return(0,o.e)((M,R)=>{let D=0;M.subscribe((0,$.x)(R,k=>{R.next(X.call(H,k,D++))}))})}},8189:(Ce,V,C)=>{C.d(V,{J:()=>L});var o=C(5577),$=C(4671);function L(X=1/0){return(0,o.z)($.y,X)}},5577:(Ce,V,C)=>{C.d(V,{z:()=>D});var o=C(4004),$=C(8421),L=C(4482),X=C(9672),H=C(5403),R=C(576);function D(k,I,A=1/0){return(0,R.m)(I)?D((O,j)=>(0,o.U)((B,U)=>I(O,B,j,U))((0,$.Xf)(k(O,j))),A):("number"==typeof I&&(A=I),(0,L.e)((O,j)=>function M(k,I,A,O,j,B,U,Y){const W=[];let ne=0,E=0,G=!1;const K=()=>{G&&!W.length&&!ne&&I.complete()},te=ie=>ne<O?se(ie):W.push(ie),se=ie=>{B&&I.next(ie),ne++;let me=!1;(0,$.Xf)(A(ie,E++)).subscribe((0,H.x)(I,ue=>{j?.(ue),B?te(ue):I.next(ue)},()=>{me=!0},void 0,()=>{if(me)try{for(ne--;W.length&&ne<O;){const ue=W.shift();U?(0,X.f)(I,U,()=>se(ue)):se(ue)}K()}catch(ue){I.error(ue)}}))};return k.subscribe((0,H.x)(I,te,()=>{G=!0,K()})),()=>{Y?.()}}(O,j,k,A)))}},5363:(Ce,V,C)=>{C.d(V,{Q:()=>X});var o=C(9672),$=C(4482),L=C(5403);function X(H,M=0){return(0,$.e)((R,D)=>{R.subscribe((0,L.x)(D,k=>(0,o.f)(D,H,()=>D.next(k),M),()=>(0,o.f)(D,H,()=>D.complete(),M),k=>(0,o.f)(D,H,()=>D.error(k),M)))})}},5026:(Ce,V,C)=>{C.d(V,{R:()=>X});var o=C(4482),$=C(5403);function X(H,M){return(0,o.e)(function L(H,M,R,D,k){return(I,A)=>{let O=R,j=M,B=0;I.subscribe((0,$.x)(A,U=>{const Y=B++;j=O?H(j,U,Y):(O=!0,U),D&&A.next(j)},k&&(()=>{O&&A.next(j),A.complete()})))}}(H,M,arguments.length>=2,!0))}},3099:(Ce,V,C)=>{C.d(V,{B:()=>H});var o=C(8421),$=C(7579),L=C(930),X=C(4482);function H(R={}){const{connector:D=(()=>new $.x),resetOnError:k=!0,resetOnComplete:I=!0,resetOnRefCountZero:A=!0}=R;return O=>{let j,B,U,Y=0,W=!1,ne=!1;const E=()=>{B?.unsubscribe(),B=void 0},G=()=>{E(),j=U=void 0,W=ne=!1},K=()=>{const te=j;G(),te?.unsubscribe()};return(0,X.e)((te,se)=>{Y++,!ne&&!W&&E();const ie=U=U??D();se.add(()=>{Y--,0===Y&&!ne&&!W&&(B=M(K,A))}),ie.subscribe(se),!j&&Y>0&&(j=new L.Hp({next:me=>ie.next(me),error:me=>{ne=!0,E(),B=M(G,k,me),ie.error(me)},complete:()=>{W=!0,E(),B=M(G,I),ie.complete()}}),(0,o.Xf)(te).subscribe(j))})(O)}}function M(R,D,...k){if(!0===D)return void R();if(!1===D)return;const I=new L.Hp({next:()=>{I.unsubscribe(),R()}});return(0,o.Xf)(D(...k)).subscribe(I)}},5684:(Ce,V,C)=>{C.d(V,{T:()=>$});var o=C(9300);function $(L){return(0,o.h)((X,H)=>L<=H)}},9468:(Ce,V,C)=>{C.d(V,{R:()=>$});var o=C(4482);function $(L,X=0){return(0,o.e)((H,M)=>{M.add(L.schedule(()=>H.subscribe(M),X))})}},3900:(Ce,V,C)=>{C.d(V,{w:()=>X});var o=C(8421),$=C(4482),L=C(5403);function X(H,M){return(0,$.e)((R,D)=>{let k=null,I=0,A=!1;const O=()=>A&&!k&&D.complete();R.subscribe((0,L.x)(D,j=>{k?.unsubscribe();let B=0;const U=I++;(0,o.Xf)(H(j,U)).subscribe(k=(0,L.x)(D,Y=>D.next(M?M(j,Y,U,B++):Y),()=>{k=null,O()}))},()=>{A=!0,O()}))})}},5698:(Ce,V,C)=>{C.d(V,{q:()=>X});var o=C(515),$=C(4482),L=C(5403);function X(H){return H<=0?()=>o.E:(0,$.e)((M,R)=>{let D=0;M.subscribe((0,L.x)(R,k=>{++D<=H&&(R.next(k),H<=D&&R.complete())}))})}},2722:(Ce,V,C)=>{C.d(V,{R:()=>H});var o=C(4482),$=C(5403),L=C(8421),X=C(5032);function H(M){return(0,o.e)((R,D)=>{(0,L.Xf)(M).subscribe((0,$.x)(D,()=>D.complete(),X.Z)),!D.closed&&R.subscribe(D)})}},8505:(Ce,V,C)=>{C.d(V,{b:()=>H});var o=C(576),$=C(4482),L=C(5403),X=C(4671);function H(M,R,D){const k=(0,o.m)(M)||R||D?{next:M,error:R,complete:D}:M;return k?(0,$.e)((I,A)=>{var O;null===(O=k.subscribe)||void 0===O||O.call(k);let j=!0;I.subscribe((0,L.x)(A,B=>{var U;null===(U=k.next)||void 0===U||U.call(k,B),A.next(B)},()=>{var B;j=!1,null===(B=k.complete)||void 0===B||B.call(k),A.complete()},B=>{var U;j=!1,null===(U=k.error)||void 0===U||U.call(k,B),A.error(B)},()=>{var B,U;j&&(null===(B=k.unsubscribe)||void 0===B||B.call(k)),null===(U=k.finalize)||void 0===U||U.call(k)}))}):X.y}},7414:(Ce,V,C)=>{C.d(V,{V:()=>k});var o=C(4986),$=C(1165),L=C(4482),X=C(8421),H=C(3888),M=C(5403),R=C(9672);const D=(0,H.d)(A=>function(j=null){A(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=j});function k(A,O){const{first:j,each:B,with:U=I,scheduler:Y=O??o.z,meta:W=null}=(0,$.q)(A)?{first:A}:"number"==typeof A?{each:A}:A;if(null==j&&null==B)throw new TypeError("No timeout provided.");return(0,L.e)((ne,E)=>{let G,K,te=null,se=0;const ie=me=>{K=(0,R.f)(E,Y,()=>{try{G.unsubscribe(),(0,X.Xf)(U({meta:W,lastValue:te,seen:se})).subscribe(E)}catch(ue){E.error(ue)}},me)};G=ne.subscribe((0,M.x)(E,me=>{K?.unsubscribe(),se++,E.next(te=me),B>0&&ie(B)},void 0,void 0,()=>{K?.closed||K?.unsubscribe(),te=null})),!se&&ie(null!=j?"number"==typeof j?j:+j-Y.now():B)})}function I(A){throw new D(A)}},1365:(Ce,V,C)=>{C.d(V,{M:()=>R});var o=C(4482),$=C(5403),L=C(8421),X=C(4671),H=C(5032),M=C(3269);function R(...D){const k=(0,M.jO)(D);return(0,o.e)((I,A)=>{const O=D.length,j=new Array(O);let B=D.map(()=>!1),U=!1;for(let Y=0;Y<O;Y++)(0,L.Xf)(D[Y]).subscribe((0,$.x)(A,W=>{j[Y]=W,!U&&!B[Y]&&(B[Y]=!0,(U=B.every(X.y))&&(B=null))},H.Z));I.subscribe((0,$.x)(A,Y=>{if(U){const W=[Y,...j];A.next(k?k(...W):W)}}))})}},4408:(Ce,V,C)=>{C.d(V,{o:()=>H});var o=C(727);class $ extends o.w0{constructor(R,D){super()}schedule(R,D=0){return this}}const L={setInterval(M,R,...D){const{delegate:k}=L;return k?.setInterval?k.setInterval(M,R,...D):setInterval(M,R,...D)},clearInterval(M){const{delegate:R}=L;return(R?.clearInterval||clearInterval)(M)},delegate:void 0};var X=C(8737);class H extends ${constructor(R,D){super(R,D),this.scheduler=R,this.work=D,this.pending=!1}schedule(R,D=0){var k;if(this.closed)return this;this.state=R;const I=this.id,A=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(A,I,D)),this.pending=!0,this.delay=D,this.id=null!==(k=this.id)&&void 0!==k?k:this.requestAsyncId(A,this.id,D),this}requestAsyncId(R,D,k=0){return L.setInterval(R.flush.bind(R,this),k)}recycleAsyncId(R,D,k=0){if(null!=k&&this.delay===k&&!1===this.pending)return D;null!=D&&L.clearInterval(D)}execute(R,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const k=this._execute(R,D);if(k)return k;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,D){let I,k=!1;try{this.work(R)}catch(A){k=!0,I=A||new Error("Scheduled action threw falsy error")}if(k)return this.unsubscribe(),I}unsubscribe(){if(!this.closed){const{id:R,scheduler:D}=this,{actions:k}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(k,this),null!=R&&(this.id=this.recycleAsyncId(D,R,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ce,V,C)=>{C.d(V,{v:()=>L});var o=C(6063);class ${constructor(H,M=$.now){this.schedulerActionCtor=H,this.now=M}schedule(H,M=0,R){return new this.schedulerActionCtor(this,H).schedule(R,M)}}$.now=o.l.now;class L extends ${constructor(H,M=$.now){super(H,M),this.actions=[],this._active=!1}flush(H){const{actions:M}=this;if(this._active)return void M.push(H);let R;this._active=!0;do{if(R=H.execute(H.state,H.delay))break}while(H=M.shift());if(this._active=!1,R){for(;H=M.shift();)H.unsubscribe();throw R}}}},4986:(Ce,V,C)=>{C.d(V,{P:()=>X,z:()=>L});var o=C(4408);const L=new(C(7565).v)(o.o),X=L},6063:(Ce,V,C)=>{C.d(V,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},233:(Ce,V,C)=>{C.d(V,{N:()=>H});var o=C(4408),L=C(7565);const H=new class X extends L.v{}(class $ extends o.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,I=0){return null!=I&&I>0||null==I&&this.delay>0?super.requestAsyncId(D,k,I):(D.flush(this),0)}})},3410:(Ce,V,C)=>{C.d(V,{z:()=>o});const o={setTimeout($,L,...X){const{delegate:H}=o;return H?.setTimeout?H.setTimeout($,L,...X):setTimeout($,L,...X)},clearTimeout($){const{delegate:L}=o;return(L?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(Ce,V,C)=>{C.d(V,{h:()=>$});const $=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ce,V,C)=>{C.d(V,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ce,V,C)=>{C.d(V,{_6:()=>M,jO:()=>X,yG:()=>H});var o=C(576),$=C(3532);function L(R){return R[R.length-1]}function X(R){return(0,o.m)(L(R))?R.pop():void 0}function H(R){return(0,$.K)(L(R))?R.pop():void 0}function M(R,D){return"number"==typeof L(R)?R.pop():D}},8737:(Ce,V,C)=>{function o($,L){if($){const X=$.indexOf(L);0<=X&&$.splice(X,1)}}C.d(V,{P:()=>o})},3888:(Ce,V,C)=>{function o($){const X=$(H=>{Error.call(H),H.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}C.d(V,{d:()=>o})},2806:(Ce,V,C)=>{C.d(V,{O:()=>X,x:()=>L});var o=C(2416);let $=null;function L(H){if(o.v.useDeprecatedSynchronousErrorHandling){const M=!$;if(M&&($={errorThrown:!1,error:null}),H(),M){const{errorThrown:R,error:D}=$;if($=null,R)throw D}}else H()}function X(H){o.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=H)}},9672:(Ce,V,C)=>{function o($,L,X,H=0,M=!1){const R=L.schedule(function(){X(),M?$.add(this.schedule(null,H)):this.unsubscribe()},H);if($.add(R),!M)return R}C.d(V,{f:()=>o})},4671:(Ce,V,C)=>{function o($){return $}C.d(V,{y:()=>o})},1144:(Ce,V,C)=>{C.d(V,{z:()=>o});const o=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(Ce,V,C)=>{C.d(V,{D:()=>$});var o=C(576);function $(L){return Symbol.asyncIterator&&(0,o.m)(L?.[Symbol.asyncIterator])}},1165:(Ce,V,C)=>{function o($){return $ instanceof Date&&!isNaN($)}C.d(V,{q:()=>o})},576:(Ce,V,C)=>{function o($){return"function"==typeof $}C.d(V,{m:()=>o})},3670:(Ce,V,C)=>{C.d(V,{c:()=>L});var o=C(8822),$=C(576);function L(X){return(0,$.m)(X[o.L])}},6495:(Ce,V,C)=>{C.d(V,{T:()=>L});var o=C(2202),$=C(576);function L(X){return(0,$.m)(X?.[o.h])}},8239:(Ce,V,C)=>{C.d(V,{t:()=>$});var o=C(576);function $(L){return(0,o.m)(L?.then)}},3260:(Ce,V,C)=>{C.d(V,{L:()=>X,Q:()=>L});var o=C(7582),$=C(576);function L(H){return(0,o.FC)(this,arguments,function*(){const R=H.getReader();try{for(;;){const{value:D,done:k}=yield(0,o.qq)(R.read());if(k)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(D)}}finally{R.releaseLock()}})}function X(H){return(0,$.m)(H?.getReader)}},3532:(Ce,V,C)=>{C.d(V,{K:()=>$});var o=C(576);function $(L){return L&&(0,o.m)(L.schedule)}},4482:(Ce,V,C)=>{C.d(V,{A:()=>$,e:()=>L});var o=C(576);function $(X){return(0,o.m)(X?.lift)}function L(X){return H=>{if($(H))return H.lift(function(M){try{return X(M,this)}catch(R){this.error(R)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ce,V,C)=>{function o(){}C.d(V,{Z:()=>o})},9635:(Ce,V,C)=>{C.d(V,{U:()=>L,z:()=>$});var o=C(4671);function $(...X){return L(X)}function L(X){return 0===X.length?o.y:1===X.length?X[0]:function(M){return X.reduce((R,D)=>D(R),M)}}},7849:(Ce,V,C)=>{C.d(V,{h:()=>L});var o=C(2416),$=C(3410);function L(X){$.z.setTimeout(()=>{const{onUnhandledError:H}=o.v;if(!H)throw X;H(X)})}},4532:(Ce,V,C)=>{function o($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(V,{z:()=>o})},177:(Ce,V)=>{Object.defineProperty(V,"__esModule",{value:!0});var C=function(){function L(X,H){for(var M=0;M<H.length;M++){var R=H[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(X,R.key,R)}}return function(X,H,M){return H&&L(X.prototype,H),M&&L(X,M),X}}(),$=function(){function L(){!function o(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")}(this,L)}return C(L,null,[{key:"playerWon",value:function(H,M){return H[0]===M&&H[1]===M&&H[2]===M||H[3]===M&&H[4]===M&&H[5]===M||H[6]===M&&H[7]===M&&H[8]===M||H[0]===M&&H[3]===M&&H[6]===M||H[1]===M&&H[4]===M&&H[7]===M||H[2]===M&&H[5]===M&&H[8]===M||H[0]===M&&H[4]===M&&H[8]===M||H[2]===M&&H[4]===M&&H[6]===M}},{key:"isGameFinished",value:function(H,M){if(!this.isMovesLeft(H,M))return!0;var D=M.aiPlayer;return!(!this.playerWon(H,M.huPlayer)&&!this.playerWon(H,D))}},{key:"getEmptyIndexies",value:function(H,M){var R=M.huPlayer,D=M.aiPlayer;return H.filter(function(k){return k!==R&&k!==D})}},{key:"isMovesLeft",value:function(H,M){return 0!==this.getEmptyIndexies(H,M).length}}]),L}();V.default=$},6769:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.default=function H(M,R,D){var k=R.huPlayer,I=R.aiPlayer;function O(W,ne){var E=function A(){return $.default.playerWon(M,k)?-10:$.default.playerWon(M,I)?10:0}();if(10===Math.abs(E))return E;if(!$.default.isMovesLeft(M,R))return 0;var G=X,K=$.default.getEmptyIndexies(M,R);return ne?(G*=-1,K.forEach(function(te){M[te]=I;var se=O(W+1,!1);G=Math.max(G,se),M[te]=te}),G):(K.forEach(function(te){M[te]=k;var se=O(W+1,!0);G=Math.min(G,se),M[te]=te}),G)}function j(){var W=-1*X,ne=void 0;return $.default.getEmptyIndexies(M,R).forEach(function(G){M[G]=I;var K=O(0,!1);M[G]=G,K>W&&(ne=G,W=K)}),ne}function B(){var W=$.default.getEmptyIndexies(M,R);return W[Math.floor(Math.random()*W.length)]}var Y=-1;switch(D){case"Easy":Y=B();break;case"Normal":Y=function U(){var W=j(),ne=B();return Math.random()<.75?W:ne}();break;case"Hard":Y=j();break;default:throw Error("Difficulty not valid!")}return Y};var $=function L(M){return M&&M.__esModule?M:{default:M}}(C(177)),X=99999999},2818:(Ce,V,C)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.default=function M(R,D,k){var U,Y,I={winner:null,board:null};if($.default.isGameFinished(R,D)){var O=(U=$.default.playerWon(R,D.huPlayer),Y=$.default.playerWon(R,D.aiPlayer),U?"huPlayer":Y?"aiPlayer":"draw");I.board=R,I.winner=O}else{var j=function A(){var U=(0,X.default)(R,D,k),Y=Array.from(R);return void 0!==U&&(Y[U]=D.aiPlayer),Y}();if($.default.isGameFinished(j,D)){var B=$.default.playerWon(j,D.aiPlayer)?"aiPlayer":"draw";I.board=j,I.winner=B}else I.board=j}return I};var $=H(C(177)),X=H(C(6769));function H(R){return R&&R.__esModule?R:{default:R}}},7712:(Ce,V,C)=>{var L=M(C(6769)),H=M(C(2818));function M(D){return D&&D.__esModule?D:{default:D}}V.Z={ComputerMove:L.default,GameStep:H.default}},4650:(Ce,V,C)=>{C.d(V,{$8M:()=>al,$WT:()=>ji,$Z:()=>cC,AFp:()=>dk,AaK:()=>D,BQk:()=>vn,CHM:()=>Ll,CRH:()=>dS,CZH:()=>Cw,CqO:()=>UC,D6c:()=>Cg,EJc:()=>fk,EiD:()=>Js,EpF:()=>LC,F$t:()=>HC,F4k:()=>BC,FYo:()=>Nd,FiY:()=>od,G48:()=>h3,Gf:()=>_w,GfV:()=>WE,GkF:()=>nh,Gpc:()=>A,Gre:()=>o1,Hsn:()=>Ib,Ikx:()=>oh,JOm:()=>Xs,JVY:()=>Vv,JZr:()=>Y,Jf7:()=>Zv,KtG:()=>Bl,L6k:()=>Y_,LAX:()=>is,LFG:()=>Rn,Lbi:()=>uk,Lck:()=>kA,MAs:()=>pc,MMx:()=>sw,MR2:()=>$D,NdJ:()=>Qo,O4$:()=>Gl,OlP:()=>kn,Oqu:()=>Zf,P3R:()=>If,PXZ:()=>o3,Q6J:()=>ir,QGY:()=>Hd,QbO:()=>zL,Qsj:()=>eo,R0b:()=>Va,RDi:()=>$_,Rgc:()=>_g,SBq:()=>Mf,Sil:()=>Sw,Suo:()=>cS,TTD:()=>pu,TgZ:()=>zf,Tol:()=>Kf,Udp:()=>Wy,W1O:()=>hS,WFA:()=>By,X6Q:()=>u3,XFs:()=>xt,Xpm:()=>ns,Xts:()=>zv,Y36:()=>uc,YKP:()=>z1,YNc:()=>NC,Yjl:()=>dn,Yz7:()=>ce,Z0I:()=>Ke,ZZ4:()=>VS,_Bn:()=>rw,_UZ:()=>Ly,_Vd:()=>Hp,_c5:()=>b0,_uU:()=>rg,aQg:()=>HS,c2e:()=>$L,cJS:()=>Xe,cg1:()=>Qy,d8E:()=>$b,dDg:()=>t3,dqk:()=>Zt,eBb:()=>Sf,eFA:()=>Ck,eJc:()=>mS,ekj:()=>qy,eoX:()=>bk,f3M:()=>ui,g9A:()=>CS,h0i:()=>am,hGG:()=>jS,hij:()=>Xf,iGM:()=>lS,ifc:()=>nt,ip1:()=>y0,jDz:()=>W1,kL8:()=>Jf,kcU:()=>Uo,lG2:()=>$t,lqb:()=>Yu,lri:()=>v0,mCW:()=>$u,n5z:()=>ed,n_E:()=>gg,oAB:()=>Ge,oxw:()=>gc,pB0:()=>Z_,q3G:()=>Ai,q4F:()=>qE,qLn:()=>Af,qOj:()=>ky,qZA:()=>Xp,qzn:()=>Od,rWj:()=>vk,sBO:()=>f3,s_b:()=>un,soG:()=>Kd,tBr:()=>ec,tb:()=>xk,tp0:()=>Ru,uIk:()=>Oy,vHH:()=>W,vpe:()=>El,wAp:()=>Qt,xp6:()=>ab,ynx:()=>th,z2F:()=>Tw,z3N:()=>br,zSh:()=>qv,zs3:()=>Rf});var o=C(7579),$=C(727),L=C(9751),X=C(6451),H=C(3099);function M(a){for(let c in a)if(a[c]===M)return c;throw Error("Could not find renamed property on target object.")}function R(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function D(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(D).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function k(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const I=M({__forward_ref__:M});function A(a){return a.__forward_ref__=A,a.toString=function(){return D(this())},a}function O(a){return j(a)?a():a}function j(a){return"function"==typeof a&&a.hasOwnProperty(I)&&a.__forward_ref__===A}function B(a){return a&&!!a.\u0275providers}const Y="https://g.co/ng/security#xss";class W extends Error{constructor(c,d){super(ne(c,d)),this.code=c}}function ne(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function E(a){return"string"==typeof a?a:null==a?"":String(a)}function ie(a,c){throw new W(-201,!1)}function ye(a,c){null==a&&function ve(a,c,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function ce(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Xe(a){return{providers:a.providers||[],imports:a.imports||[]}}function wt(a){return dt(a,bt)||dt(a,bn)}function Ke(a){return null!==wt(a)}function dt(a,c){return a.hasOwnProperty(c)?a[c]:null}function gn(a){return a&&(a.hasOwnProperty(on)||a.hasOwnProperty(Ht))?a[on]:null}const bt=M({\u0275prov:M}),on=M({\u0275inj:M}),bn=M({ngInjectableDef:M}),Ht=M({ngInjectorDef:M});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let pi;function di(a){const c=pi;return pi=a,c}function hn(a,c,d){const h=wt(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&xt.Optional?null:void 0!==c?c:void ie(D(a))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},Ii="__NG_DI_FLAG__",Ln="ngTempTokenPath",Hn="ngTokenPath",qn=/\n/gm,Xn="\u0275",an="__source";let Pi;function _n(a){const c=Pi;return Pi=a,c}function hs(a,c=xt.Default){if(void 0===Pi)throw new W(-203,!1);return null===Pi?hn(a,void 0,c):Pi.get(a,c&xt.Optional?null:void 0,c)}function Rn(a,c=xt.Default){return(function Ei(){return pi}()||hs)(O(a),c)}function ui(a,c=xt.Default){return Rn(a,gi(c))}function gi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function ts(a){const c=[];for(let d=0;d<a.length;d++){const h=O(a[d]);if(Array.isArray(h)){if(0===h.length)throw new W(900,!1);let f,_=xt.Default;for(let b=0;b<h.length;b++){const T=h[b],F=Br(T);"number"==typeof F?-1===F?f=T.token:_|=F:f=T}c.push(Rn(f,_))}else c.push(Rn(h))}return c}function ti(a,c){return a[Ii]=c,a.prototype[Ii]=c,a}function Br(a){return a[Ii]}function Se(a){return{toString:a}.toString()}var Pe=(()=>((Pe=Pe||{})[Pe.OnPush=0]="OnPush",Pe[Pe.Default=1]="Default",Pe))(),nt=(()=>{return(a=nt||(nt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",nt;var a})();const je={},ut=[],qt=M({\u0275cmp:M}),In=M({\u0275dir:M}),Ci=M({\u0275pipe:M}),ai=M({\u0275mod:M}),Bn=M({\u0275fac:M}),En=M({__NG_ELEMENT_ID__:M});let lr=0;function ns(a){return Se(()=>{const c=Ka(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||nt.Emulated,id:"c"+lr++,styles:a.styles||ut,_:null,schemas:a.schemas||null,tView:null};hu(d);const h=a.dependencies;return d.directiveDefs=qs(h,!1),d.pipeDefs=qs(h,!0),d})}function la(a){return Vt(a)||Dn(a)}function Je(a){return null!==a}function Ge(a){return Se(()=>({type:a.type,bootstrap:a.bootstrap||ut,declarations:a.declarations||ut,imports:a.imports||ut,exports:a.exports||ut,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Bt(a,c){if(null==a)return je;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),d[f]=h,c&&(c[f]=_)}return d}function $t(a){return Se(()=>{const c=Ka(a);return hu(c),c})}function dn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Vt(a){return a[qt]||null}function Dn(a){return a[In]||null}function Sn(a){return a[Ci]||null}function ji(a){const c=Vt(a)||Dn(a)||Sn(a);return null!==c&&c.standalone}function Di(a,c){const d=a[ai]||null;if(!d&&!0===c)throw new Error(`Type ${D(a)} does not have '\u0275mod' property.`);return d}function Ka(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||ut,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bt(a.inputs,c),outputs:Bt(a.outputs)}}function hu(a){a.features?.forEach(c=>c(a))}function qs(a,c){if(!a)return null;const d=c?Sn:la;return()=>("function"==typeof a?a():a).map(h=>d(h)).filter(Je)}const Ur=0,St=1,Jt=2,ni=3,Vr=4,$n=5,Si=6,Ms=7,_i=8,Ya=9,Ti=10,fn=11,Po=12,As=13,Hr=14,ks=15,yi=16,Fo=17,Ee=18,$e=19,Ve=20,We=21,st=22,yn=1,Qn=2,Kn=7,Mi=8,On=9,Wn=10;function gr(a){return Array.isArray(a)&&"object"==typeof a[yn]}function _r(a){return Array.isArray(a)&&!0===a[yn]}function Rl(a){return 0!=(4&a.flags)}function Xa(a){return a.componentOffset>-1}function fu(a){return 1==(1&a.flags)}function ms(a){return!!a.template}function Mc(a){return 0!=(256&a[Jt])}function Ks(a,c){return a.hasOwnProperty(Bn)?a[Bn]:null}class ca{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function pu(){return Ol}function Ol(a){return a.type.prototype.ngOnChanges&&(a.setInput=gu),Uh}function Uh(){const a=np(this),c=a?.current;if(c){const d=a.previous;if(d===je)a.previous=c;else for(let h in c)d[h]=c[h];a.current=null,this.ngOnChanges(c)}}function gu(a,c,d,h){const f=this.declaredInputs[d],_=np(a)||function Rc(a,c){return a[No]=c}(a,{previous:je,current:null}),b=_.current||(_.current={}),T=_.previous,F=T[f];b[f]=new ca(F&&F.currentValue,c,T===je),a[h]=c}pu.ngInherit=!0;const No="__ngSimpleChanges__";function np(a){return a[No]||null}const jr=function(a,c,d){},Mr="svg";function cr(a){for(;Array.isArray(a);)a=a[Ur];return a}function po(a,c){return cr(c[a])}function dr(a,c){return cr(c[a.index])}function Hh(a,c){return a.data[c]}function Zi(a,c){const d=c[a];return gr(d)?d:d[Ur]}function go(a){return 64==(64&a[Jt])}function Bo(a,c){return null==c?null:a[c]}function el(a){a[Ee]=0}function Fl(a,c){a[$n]+=c;let d=a,h=a[ni];for(;null!==h&&(1===c&&1===d[$n]||-1===c&&0===d[$n]);)h[$n]+=c,d=h,h=h[ni]}const sn={lFrame:vu(null),bindingsEnabled:!0};function Nc(){return sn.bindingsEnabled}function et(){return sn.lFrame.lView}function mn(){return sn.lFrame.tView}function Ll(a){return sn.lFrame.contextLView=a,a[_i]}function Bl(a){return sn.lFrame.contextLView=null,a}function Xi(){let a=da();for(;null!==a&&64===a.type;)a=a.parent;return a}function da(){return sn.lFrame.currentTNode}function Gr(a,c){const d=sn.lFrame;d.currentTNode=a,d.isParent=c}function Wh(){return sn.lFrame.isParent}function Bc(){sn.lFrame.isParent=!1}function ua(){return sn.lFrame.bindingIndex++}function gs(a){const c=sn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function Uc(a,c){const d=sn.lFrame;d.bindingIndex=d.bindingRootIndex=a,zi(c)}function zi(a){sn.lFrame.currentDirectiveIndex=a}function tl(a){const c=sn.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function yu(){return sn.lFrame.currentQueryIndex}function Vc(a){sn.lFrame.currentQueryIndex=a}function Kh(a){const c=a[St];return 2===c.type?c.declTNode:1===c.type?a[Si]:null}function Hc(a,c,d){if(d&xt.SkipSelf){let f=c,_=a;for(;!(f=f.parent,null!==f||d&xt.Host||(f=Kh(_),null===f||(_=_[ks],10&f.type))););if(null===f)return!1;c=f,a=_}const h=sn.lFrame=Hl();return h.currentTNode=c,h.lView=a,!0}function jc(a){const c=Hl(),d=a[St];sn.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Hl(){const a=sn.lFrame,c=null===a?null:a.child;return null===c?vu(a):c}function vu(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function jl(){const a=sn.lFrame;return sn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Yh=jl;function Gc(){const a=jl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function yr(){return sn.lFrame.selectedIndex}function yo(a){sn.lFrame.selectedIndex=a}function vi(){const a=sn.lFrame;return Hh(a.tView,a.selectedIndex)}function Gl(){sn.lFrame.currentNamespace=Mr}function Uo(){!function sp(){sn.lFrame.currentNamespace=null}()}function $c(a,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:F,ngAfterViewChecked:Z,ngOnDestroy:ae}=_;b&&(a.contentHooks??(a.contentHooks=[])).push(-d,b),T&&((a.contentHooks??(a.contentHooks=[])).push(d,T),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,T)),F&&(a.viewHooks??(a.viewHooks=[])).push(-d,F),Z&&((a.viewHooks??(a.viewHooks=[])).push(d,Z),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,Z)),null!=ae&&(a.destroyHooks??(a.destroyHooks=[])).push(d,ae)}}function bu(a,c,d){xu(a,c,3,d)}function wu(a,c,d,h){(3&a[Jt])===d&&xu(a,c,d,h)}function Xh(a,c){let d=a[Jt];(3&d)===c&&(d&=2047,d+=1,a[Jt]=d)}function xu(a,c,d,h){const _=h??-1,b=c.length-1;let T=0;for(let F=void 0!==h?65535&a[Ee]:0;F<b;F++)if("number"==typeof c[F+1]){if(T=c[F],null!=h&&T>=h)break}else c[F]<0&&(a[Ee]+=65536),(T<_||-1==_)&&(nl(a,d,c,F),a[Ee]=(4294901760&a[Ee])+F+2),F++}function nl(a,c,d,h){const f=d[h]<0,_=d[h+1],T=a[f?-d[h]:d[h]];if(f){if(a[Jt]>>11<a[Ee]>>16&&(3&a[Jt])===c){a[Jt]+=2048,jr(4,T,_);try{_.call(T)}finally{jr(5,T,_)}}}else{jr(4,T,_);try{_.call(T)}finally{jr(5,T,_)}}}const il=-1;class vo{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function rl(a,c,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const _=d[h++],b=d[h++],T=d[h++];a.setAttribute(c,b,T,_)}else{const _=f,b=d[++h];ma(_)?a.setProperty(c,_,b):a.setAttribute(c,_,b),h++}}return h}function Eu(a){return 3===a||4===a||6===a}function ma(a){return 64===a.charCodeAt(0)}function pa(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const f=c[h];"number"==typeof f?d=f:0===d||Kc(a,d,f,null,-1===d||2===d?c[++h]:null)}}return a}function Kc(a,c,d,h,f){let _=0,b=a.length;if(-1===c)b=-1;else for(;_<a.length;){const T=a[_++];if("number"==typeof T){if(T===c){b=-1;break}if(T>c){b=_-1;break}}}for(;_<a.length;){const T=a[_];if("number"==typeof T)break;if(T===d){if(null===h)return void(null!==f&&(a[_+1]=f));if(h===a[_+1])return void(a[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,c),_=b+1),a.splice(_++,0,d),null!==h&&a.splice(_++,0,h),null!==f&&a.splice(_++,0,f)}function ga(a){return a!==il}function Vo(a){return 32767&a}function _a(a,c){let d=function Qh(a){return a>>16}(a),h=c;for(;d>0;)h=h[ks],d--;return h}let Yc=!0;function $l(a){const c=Yc;return Yc=a,c}const Zc=255,Jh=5;let ya=0;const _s={};function Cu(a,c){const d=ol(a,c);if(-1!==d)return d;const h=c[St];h.firstCreatePass&&(a.injectorIndex=c.length,sl(h.data,a),sl(c,null),sl(h.blueprint,null));const f=ef(a,c),_=a.injectorIndex;if(ga(f)){const b=Vo(f),T=_a(f,c),F=T[St].data;for(let Z=0;Z<8;Z++)c[_+Z]=T[b+Z]|F[b+Z]}return c[_+8]=f,_}function sl(a,c){a.push(0,0,0,0,0,0,0,0,c)}function ol(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function ef(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=c;for(;null!==f;){if(h=Kl(f),null===h)return il;if(d++,f=f[ks],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return il}function Jn(a,c,d){!function bo(a,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(En)&&(h=d[En]),null==h&&(h=d[En]=ya++);const f=h&Zc;c.data[a+(f>>Jh)]|=1<<f}(a,c,d)}function Xc(a,c,d){if(d&xt.Optional||void 0!==a)return a;ie()}function Su(a,c,d,h){if(d&xt.Optional&&void 0===h&&(h=null),!(d&(xt.Self|xt.Host))){const f=a[Ya],_=di(void 0);try{return f?f.get(c,h,d&xt.Optional):hn(c,h,d&xt.Optional)}finally{di(_)}}return Xc(h,0,d)}function Qc(a,c,d,h=xt.Default,f){if(null!==a){if(1024&c[Jt]){const b=function Iu(a,c,d,h,f){let _=a,b=c;for(;null!==_&&null!==b&&1024&b[Jt]&&!(256&b[Jt]);){const T=Jc(_,b,d,h|xt.Self,_s);if(T!==_s)return T;let F=_.parent;if(!F){const Z=b[We];if(Z){const ae=Z.get(d,_s,h);if(ae!==_s)return ae}F=Kl(b),b=b[ks]}_=F}return f}(a,c,d,h,_s);if(b!==_s)return b}const _=Jc(a,c,d,h,_s);if(_!==_s)return _}return Su(c,d,h,f)}function Jc(a,c,d,h,f){const _=function Tu(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(En)?a[En]:void 0;return"number"==typeof c?c>=0?c&Zc:lp:c}(d);if("function"==typeof _){if(!Hc(c,a,h))return h&xt.Host?Xc(f,0,h):Su(c,d,h,f);try{const b=_(h);if(null!=b||h&xt.Optional)return b;ie()}finally{Yh()}}else if("number"==typeof _){let b=null,T=ol(a,c),F=il,Z=h&xt.Host?c[yi][Si]:null;for((-1===T||h&xt.SkipSelf)&&(F=-1===T?ef(a,c):c[T+8],F!==il&&ql(h,!1)?(b=c[St],T=Vo(F),c=_a(F,c)):T=-1);-1!==T;){const ae=c[St];if(Wl(_,T,ae.data)){const we=Qi(T,c,d,b,h,Z);if(we!==_s)return we}F=c[T+8],F!==il&&ql(h,c[St].data[T+8]===Z)&&Wl(_,T,c)?(b=ae,T=Vo(F),c=_a(F,c)):T=-1}}return f}function Qi(a,c,d,h,f,_){const b=c[St],T=b.data[a+8],ae=va(T,b,d,null==h?Xa(T)&&Yc:h!=b&&0!=(3&T.type),f&xt.Host&&_===T);return null!==ae?Fi(c,b,ae,T):_s}function va(a,c,d,h,f){const _=a.providerIndexes,b=c.data,T=1048575&_,F=a.directiveStart,ae=_>>20,Ne=f?T+ae:a.directiveEnd;for(let ze=h?T:T+ae;ze<Ne;ze++){const it=b[ze];if(ze<F&&d===it||ze>=F&&it.type===d)return ze}if(f){const ze=b[F];if(ze&&ms(ze)&&ze.type===d)return F}return null}function Fi(a,c,d,h){let f=a[d];const _=c.data;if(function I_(a){return a instanceof vo}(f)){const b=f;b.resolving&&function K(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new W(-200,`Circular dependency in DI detected for ${a}${d}`)}(function G(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():E(a)}(_[d]));const T=$l(b.canSeeViewProviders);b.resolving=!0;const F=b.injectImpl?di(b.injectImpl):null;Hc(a,h,xt.Default);try{f=a[d]=b.factory(void 0,_,a,h),c.firstCreatePass&&d>=h.directiveStart&&function T_(a,c,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=c.type.prototype;if(h){const b=Ol(c);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,b),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,b)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,f),_&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],c)}finally{null!==F&&di(F),$l(T),b.resolving=!1,Yh()}}return f}function Wl(a,c,d){return!!(d[c+(a>>Jh)]&1<<a)}function ql(a,c){return!(a&xt.Self||a&xt.Host&&c)}class wo{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return Qc(this._tNode,this._lView,c,gi(h),d)}}function lp(){return new wo(Xi(),et())}function ed(a){return Se(()=>{const c=a.prototype.constructor,d=c[Bn]||ba(c),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const _=f[Bn]||ba(f);if(_&&_!==d)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function ba(a){return j(a)?()=>{const c=ba(O(a));return c&&c()}:Ks(a)}function Kl(a){const c=a[St],d=c.type;return 2===d?c.declTNode:1===d?a[Si]:null}function al(a){return function tf(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const _=d[f];if(Eu(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(_===c)return d[f+1];f+=2}}}return null}(Xi(),a)}const wa="__parameters__";function Ea(a,c,d){return Se(()=>{const h=function xa(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(c);function f(..._){if(this instanceof f)return h.apply(this,_),this;const b=new f(..._);return T.annotation=b,T;function T(F,Z,ae){const we=F.hasOwnProperty(wa)?F[wa]:Object.defineProperty(F,wa,{value:[]})[wa];for(;we.length<=ae;)we.push(null);return(we[ae]=we[ae]||[]).push(b),F}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class kn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ce({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zs(a,c){a.forEach(d=>Array.isArray(d)?Zs(d,c):c(d))}function fp(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function Sa(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function nd(a,c){const d=[];for(let h=0;h<a;h++)d.push(c);return d}function zr(a,c,d){let h=jo(a,c);return h>=0?a[1|h]=d:(h=~h,function sd(a,c,d,h){let f=a.length;if(f==c)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>c;)a[f]=a[f-2],f--;a[c]=d,a[c+1]=h}}(a,h,c,d)),h}function ll(a,c){const d=jo(a,c);if(d>=0)return a[1|d]}function jo(a,c){return function vr(a,c,d){let h=0,f=a.length>>d;for(;f!==h;){const _=h+(f-h>>1),b=a[_<<d];if(c===b)return _<<d;b>c?f=_:h=_+1}return~(f<<d)}(a,c,1)}const ec=ti(Ea("Inject",a=>({token:a})),-1),od=ti(Ea("Optional"),8),Ru=ti(Ea("SkipSelf"),4);var Xs=(()=>((Xs=Xs||{})[Xs.Important=1]="Important",Xs[Xs.DashCase=2]="DashCase",Xs))();const S=new Map;let N=0;const Xt="__ngContext__";function Ft(a,c){gr(c)?(a[Xt]=c[Ve],function _e(a){S.set(a[Ve],a)}(c)):a[Xt]=c}let pf;function Bu(a,c){return pf(a,c)}function ml(a){const c=a[ni];return _r(c)?c[ni]:c}function yd(a){return Uu(a[As])}function vs(a){return Uu(a[Vr])}function Uu(a){for(;null!==a&&!_r(a);)a=a[Vr];return a}function Wo(a,c,d,h,f){if(null!=h){let _,b=!1;_r(h)?_=h:gr(h)&&(b=!0,h=h[Ur]);const T=cr(h);0===a&&null!==d?null==f?wf(c,d,T):sc(c,d,T,f||null,!0):1===a&&null!==d?sc(c,d,T,f||null,!0):2===a?function Ed(a,c,d){const h=oc(a,c);h&&function Ps(a,c,d,h){a.removeChild(c,d,h)}(a,h,c,d)}(c,T,b):3===a&&c.destroyNode(T),null!=_&&function Ip(a,c,d,h,f){const _=d[Kn];_!==cr(d)&&Wo(c,a,h,_,f);for(let T=Wn;T<d.length;T++){const F=d[T];Sd(F[St],F,a,c,h,_)}}(c,a,_,d,f)}}function Ep(a,c,d){return a.createElement(c,d)}function bd(a,c){const d=a[On],h=d.indexOf(c),f=c[ni];512&c[Jt]&&(c[Jt]&=-513,Fl(f,-1)),d.splice(h,1)}function Vu(a,c){if(a.length<=Wn)return;const d=Wn+c,h=a[d];if(h){const f=h[Fo];null!==f&&f!==a&&bd(f,h),c>0&&(a[d-1][Vr]=h[Vr]);const _=Sa(a,Wn+c);!function N_(a,c){Sd(a,c,c[fn],2,null,null),c[Ur]=null,c[Si]=null}(h[St],h);const b=_[$e];null!==b&&b.detachView(_[St]),h[ni]=null,h[Vr]=null,h[Jt]&=-65}return h}function _f(a,c){if(!(128&c[Jt])){const d=c[fn];d.destroyNode&&Sd(a,c,d,3,null,null),function Nv(a){let c=a[As];if(!c)return wd(a[St],a);for(;c;){let d=null;if(gr(c))d=c[As];else{const h=c[Wn];h&&(d=h)}if(!d){for(;c&&!c[Vr]&&c!==a;)gr(c)&&wd(c[St],c),c=c[ni];null===c&&(c=a),gr(c)&&wd(c[St],c),d=c&&c[Vr]}c=d}}(c)}}function wd(a,c){if(!(128&c[Jt])){c[Jt]&=-65,c[Jt]|=128,function yf(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=c[d[h]];if(!(f instanceof vo)){const _=d[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const T=f[_[b]],F=_[b+1];jr(4,T,F);try{F.call(T)}finally{jr(5,T,F)}}else{jr(4,f,_);try{_.call(f)}finally{jr(5,f,_)}}}}}(a,c),function Hu(a,c){const d=a.cleanup,h=c[Ms];let f=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+3];b>=0?h[f=b]():h[f=-b].unsubscribe(),_+=2}else{const b=h[f=d[_+1]];d[_].call(b)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();c[Ms]=null}}(a,c),1===c[St].type&&c[fn].destroy();const d=c[Fo];if(null!==d&&_r(c[ni])){d!==c[ni]&&bd(d,c);const h=c[$e];null!==h&&h.detachView(a)}!function Ue(a){S.delete(a[Ve])}(c)}}function vf(a,c,d){return function bf(a,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[Ur];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:_}=a.data[h.directiveStart+f];if(_===nt.None||_===nt.Emulated)return null}return dr(h,d)}}(a,c.parent,d)}function sc(a,c,d,h,f){a.insertBefore(c,d,h,f)}function wf(a,c,d){a.appendChild(c,d)}function B_(a,c,d,h,f){null!==h?sc(a,c,d,h,f):wf(a,c,d)}function oc(a,c){return a.parentNode(c)}function Cp(a,c,d){return U_(a,c,d)}let V_,ju,Gu,Md,U_=function Ef(a,c,d){return 40&a.type?dr(a,d):null};function Aa(a,c,d,h){const f=vf(a,h,c),_=c[fn],T=Cp(h.parent||c[Si],h,c);if(null!=f)if(Array.isArray(d))for(let F=0;F<d.length;F++)B_(_,f,d[F],T,!1);else B_(_,f,d,T,!1);void 0!==V_&&V_(_,h,c,d,f)}function Cf(a,c){if(null!==c){const d=c.type;if(3&d)return dr(c,a);if(4&d)return xd(-1,a[c.index]);if(8&d){const h=c.child;if(null!==h)return Cf(a,h);{const f=a[c.index];return _r(f)?xd(-1,f):cr(f)}}if(32&d)return Bu(c,a)()||cr(a[c.index]);{const h=H_(a,c);return null!==h?Array.isArray(h)?h[0]:Cf(ml(a[yi]),h):Cf(a,c.next)}}return null}function H_(a,c){return null!==c?a[yi][Si].projection[c.projection]:null}function xd(a,c){const d=Wn+a+1;if(d<c.length){const h=c[d],f=h[St].firstChild;if(null!==f)return Cf(h,f)}return c[Kn]}function Cd(a,c,d,h,f,_,b){for(;null!=d;){const T=h[d.index],F=d.type;if(b&&0===c&&(T&&Ft(cr(T),h),d.flags|=2),32!=(32&d.flags))if(8&F)Cd(a,c,d.child,h,f,_,!1),Wo(c,a,f,T,_);else if(32&F){const Z=Bu(d,h);let ae;for(;ae=Z();)Wo(c,a,f,ae,_);Wo(c,a,f,T,_)}else 16&F?j_(a,c,h,d,f,_):Wo(c,a,f,T,_);d=b?d.projectionNext:d.next}}function Sd(a,c,d,h,f,_){Cd(d,h,a.firstChild,c,f,_,!1)}function j_(a,c,d,h,f,_){const b=d[yi],F=b[Si].projection[h.projection];if(Array.isArray(F))for(let Z=0;Z<F.length;Z++)Wo(c,a,f,F[Z],_);else Cd(a,c,F,b[ni],f,_,!0)}function Td(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function z_(a,c,d){const{mergedAttrs:h,classes:f,styles:_}=d;null!==h&&rl(a,c,h),null!==f&&Td(a,c,f),null!==_&&function Bv(a,c,d){a.setAttribute(c,"style",d)}(a,c,_)}function Id(a){return function Dp(){if(void 0===ju&&(ju=null,Zt.trustedTypes))try{ju=Zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ju}()?.createHTML(a)||a}function $_(a){Gu=a}function kd(a){return function kp(){if(void 0===Md&&(Md=null,Zt.trustedTypes))try{Md=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Md}()?.createScriptURL(a)||a}class ka{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Y})`}}class Rd extends ka{getTypeName(){return"HTML"}}class Rp extends ka{getTypeName(){return"Style"}}class q_ extends ka{getTypeName(){return"Script"}}class K_ extends ka{getTypeName(){return"URL"}}class NE extends ka{getTypeName(){return"ResourceURL"}}function br(a){return a instanceof ka?a.changingThisBreaksApplicationSecurity:a}function Od(a,c){const d=function Uv(a){return a instanceof ka&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Y})`)}return d===c}function Vv(a){return new Rd(a)}function Y_(a){return new Rp(a)}function Sf(a){return new q_(a)}function is(a){return new K_(a)}function Z_(a){return new NE(a)}class Hv{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Id(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class Ra{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=Id(c),d}}const X_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $u(a){return(a=String(a)).match(X_)?a:"unsafe:"+a}function qo(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function lc(...a){const c={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const Q_=qo("area,br,col,hr,img,wbr"),Op=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J_=qo("rp,rt"),g=lc(Q_,lc(Op,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lc(J_,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lc(J_,Op)),x=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),De=lc(x,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),He=qo("script,style,template");class ot{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!g.hasOwnProperty(d))return this.sanitizedSomething=!0,!He.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),b=_.name,T=b.toLowerCase();if(!De.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let F=_.value;x[T]&&(F=$u(F)),this.buf.push(" ",b,'="',Pt(F),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();g.hasOwnProperty(d)&&!Q_.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Pt(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rt=/([^\#-~ |!])/g;function Pt(a){return a.replace(/&/g,"&amp;").replace(yt,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Rt,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ri;function Js(a,c){let d=null;try{ri=ri||function Tf(a){const c=new Ra(a);return function zu(){try{return!!(new window.DOMParser).parseFromString(Id(""),"text/html")}catch{return!1}}()?new Hv(c):c}(a);let h=c?String(c):"";d=ri.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=d.innerHTML,d=ri.getInertBodyElement(h)}while(h!==_);return Id((new ot).sanitizeChildren(Pd(d)||d))}finally{if(d){const h=Pd(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Pd(a){return"content"in a&&function Wu(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function qu(a){const c=Lp();return c?c.sanitize(Ai.URL,a)||"":Od(a,"URL")?br(a):$u(E(a))}function bs(a){const c=Lp();if(c)return kd(c.sanitize(Ai.RESOURCE_URL,a)||"");if(Od(a,"ResourceURL"))return kd(br(a));throw new W(904,!1)}function If(a,c,d){return function ny(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?bs:qu}(c,d)(a)}function Lp(){const a=et();return a&&a[Po]}const zv=new kn("ENVIRONMENT_INITIALIZER"),iy=new kn("INJECTOR",-1),LE=new kn("INJECTOR_DEF_TYPES");class $v{get(c,d=Vn){if(d===Vn){const h=new Error(`NullInjectorError: No provider for ${D(c)}!`);throw h.name="NullInjectorError",h}return d}}function $D(a){return{\u0275providers:a}}function WD(...a){return{\u0275providers:BE(0,a),\u0275fromNgModule:!0}}function BE(a,...c){const d=[],h=new Set;let f;return Zs(c,_=>{const b=_;ry(b,d,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&UE(f,d),d}function UE(a,c){for(let d=0;d<a.length;d++){const{providers:f}=a[d];sy(f,_=>{c.push(_)})}}function ry(a,c,d,h){if(!(a=O(a)))return!1;let f=null,_=gn(a);const b=!_&&Vt(a);if(_||b){if(b&&!b.standalone)return!1;f=a}else{const F=a.ngModule;if(_=gn(F),!_)return!1;f=F}const T=h.has(f);if(b){if(T)return!1;if(h.add(f),b.dependencies){const F="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const Z of F)ry(Z,c,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let Z;h.add(f);try{Zs(_.imports,ae=>{ry(ae,c,d,h)&&(Z||(Z=[]),Z.push(ae))})}finally{}void 0!==Z&&UE(Z,c)}if(!T){const Z=Ks(f)||(()=>new f);c.push({provide:f,useFactory:Z,deps:ut},{provide:LE,useValue:f,multi:!0},{provide:zv,useValue:()=>Rn(f),multi:!0})}const F=_.providers;null==F||T||sy(F,ae=>{c.push(ae)})}}return f!==a&&void 0!==a.providers}function sy(a,c){for(let d of a)B(d)&&(d=d.\u0275providers),Array.isArray(d)?sy(d,c):c(d)}const qD=M({provide:String,useValue:M});function oy(a){return null!==a&&"object"==typeof a&&qD in a}function Ku(a){return"function"==typeof a}const qv=new kn("Set Injector scope."),ay={},jE={};let Bp;function Up(){return void 0===Bp&&(Bp=new $v),Bp}class Yu{}class YD extends Yu{get destroyed(){return this._destroyed}constructor(c,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ly(c,b=>this.processProvider(b)),this.records.set(iy,Df(void 0,this)),f.has("environment")&&this.records.set(Yu,Df(void 0,this));const _=this.records.get(qv);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(LE.multi,ut,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=_n(this),h=di(void 0);try{return c()}finally{_n(d),di(h)}}get(c,d=Vn,h=xt.Default){this.assertNotDestroyed(),h=gi(h);const f=_n(this),_=di(void 0);try{if(!(h&xt.SkipSelf)){let T=this.records.get(c);if(void 0===T){const F=function QD(a){return"function"==typeof a||"object"==typeof a&&a instanceof kn}(c)&&wt(c);T=F&&this.injectableDefInScope(F)?Df(GE(c),ay):null,this.records.set(c,T)}if(null!=T)return this.hydrate(c,T)}return(h&xt.Self?Up():this.parent).get(c,d=h&xt.Optional&&d===Vn?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[Ln]=b[Ln]||[]).unshift(D(c)),f)throw b;return function Dr(a,c,d,h){const f=a[Ln];throw c[an]&&f.unshift(c[an]),a.message=function Me(a,c,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Xn?a.slice(2):a;let f=D(c);if(Array.isArray(c))f=c.map(D).join(" -> ");else if("object"==typeof c){let _=[];for(let b in c)if(c.hasOwnProperty(b)){let T=c[b];_.push(b+":"+("string"==typeof T?JSON.stringify(T):D(T)))}f=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(qn,"\n  ")}`}("\n"+a.message,f,d,h),a[Hn]=f,a[Ln]=null,a}(b,c,"R3InjectorError",this.source)}throw b}finally{di(_),_n(f)}}resolveInjectorInitializers(){const c=_n(this),d=di(void 0);try{const h=this.get(zv.multi,ut,xt.Self);for(const f of h)f()}finally{_n(c),di(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(D(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(c){let d=Ku(c=O(c))?c:O(c&&c.provide);const h=function li(a){return oy(a)?Df(void 0,a.useValue):Df(nr(a),ay)}(c);if(Ku(c)||!0!==c.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Df(void 0,ay,!0),f.factory=()=>ts(f.multi),this.records.set(d,f)),d=c,f.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===ay&&(d.value=jE,d.value=d.factory()),"object"==typeof d.value&&d.value&&function XD(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=O(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function GE(a){const c=wt(a),d=null!==c?c.factory:Ks(a);if(null!==d)return d;if(a instanceof kn)throw new W(204,!1);if(a instanceof Function)return function nL(a){const c=a.length;if(c>0)throw nd(c,"?"),new W(204,!1);const d=function Tt(a){return a&&(a[bt]||a[bn])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new W(204,!1)}function nr(a,c,d){let h;if(Ku(a)){const f=O(a);return Ks(f)||GE(f)}if(oy(a))h=()=>O(a.useValue);else if(function HE(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...ts(a.deps||[]));else if(function VE(a){return!(!a||!a.useExisting)}(a))h=()=>Rn(O(a.useExisting));else{const f=O(a&&(a.useClass||a.provide));if(!function ZD(a){return!!a.deps}(a))return Ks(f)||GE(f);h=()=>new f(...ts(a.deps))}return h}function Df(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function ly(a,c){for(const d of a)Array.isArray(d)?ly(d,c):d&&B(d)?ly(d.\u0275providers,c):c(d)}class JD{}class Fd{}class eM{resolveComponentFactory(c){throw function Vp(a){const c=Error(`No component factory found for ${D(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Hp=(()=>{class a{}return a.NULL=new eM,a})();function Kv(){return Zu(Xi(),et())}function Zu(a,c){return new Mf(dr(a,c))}let Mf=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=Kv,a})();function zE(a){return a instanceof Mf?a.nativeElement:a}class Nd{}let eo=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function tM(){const a=et(),d=Zi(Xi().index,a);return(gr(d)?d:a)[fn]}(),a})(),$E=(()=>{class a{}return a.\u0275prov=ce({token:a,providedIn:"root",factory:()=>null}),a})();class WE{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const qE=new WE("15.2.10"),Yv={},pl="ngOriginalError";function gl(a){return a[pl]}class Af{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&gl(c);for(;d&&gl(d);)d=gl(d);return d||null}}function Zv(a){return a.ownerDocument.defaultView}function _l(a){return a instanceof Function?a():a}function Jv(a,c,d){let h=a.length;for(;;){const f=a.indexOf(c,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=c.length;if(f+_===h||a.charCodeAt(f+_)<=32)return f}d=f+1}}const eb="ng-template";function oM(a,c,d){let h=0,f=!0;for(;h<a.length;){let _=a[h++];if("string"==typeof _&&f){const b=a[h++];if(d&&"class"===_&&-1!==Jv(b.toLowerCase(),c,0))return!0}else{if(1===_){for(;h<a.length&&"string"==typeof(_=a[h++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(f=!1)}}return!1}function tb(a){return 4===a.type&&a.value!==eb}function QE(a,c,d){return c===(4!==a.type||d?a.value:eb)}function nb(a,c,d){let h=4;const f=a.attrs||[],_=function eC(a){for(let c=0;c<a.length;c++)if(Eu(a[c]))return c;return a.length}(f);let b=!1;for(let T=0;T<c.length;T++){const F=c[T];if("number"!=typeof F){if(!b)if(4&h){if(h=2|1&h,""!==F&&!QE(a,F,d)||""===F&&1===c.length){if(Yo(h))return!1;b=!0}}else{const Z=8&h?F:c[++T];if(8&h&&null!==a.attrs){if(!oM(a.attrs,Z,d)){if(Yo(h))return!1;b=!0}continue}const we=ib(8&h?"class":F,f,tb(a),d);if(-1===we){if(Yo(h))return!1;b=!0;continue}if(""!==Z){let Ne;Ne=we>_?"":f[we+1].toLowerCase();const ze=8&h?Ne:null;if(ze&&-1!==Jv(ze,Z,0)||2&h&&Z!==Ne){if(Yo(h))return!1;b=!0}}}}else{if(!b&&!Yo(h)&&!Yo(F))return!1;if(b&&Yo(F))continue;b=!1,h=F|1&h}}return Yo(h)||b}function Yo(a){return 0==(1&a)}function ib(a,c,d,h){if(null===c)return-1;let f=0;if(h||!d){let _=!1;for(;f<c.length;){const b=c[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let T=c[++f];for(;"string"==typeof T;)T=c[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function sb(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,a)}function rb(a,c,d=!1){for(let h=0;h<c.length;h++)if(nb(a,c[h],d))return!0;return!1}function cy(a,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function ob(a,c){return a?":not("+c.trim()+")":c}function tC(a){let c=a[0],d=1,h=2,f="",_=!1;for(;d<a.length;){let b=a[d];if("string"==typeof b)if(2&h){const T=a[++d];f+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Yo(b)&&(c+=ob(_,f),f=""),h=b,_=_||!Yo(h);d++}return""!==f&&(c+=ob(_,f)),c}const Yt={};function ab(a){aM(mn(),et(),yr()+a,!1)}function aM(a,c,d,h){if(!h)if(3==(3&c[Jt])){const _=a.preOrderCheckHooks;null!==_&&bu(c,_,d)}else{const _=a.preOrderHooks;null!==_&&wu(c,_,0,d)}yo(d)}function dM(a,c=null,d=null,h){const f=uM(a,c,d,h);return f.resolveInjectorInitializers(),f}function uM(a,c=null,d=null,h,f=new Set){const _=[d||ut,WD(a)];return h=h||("object"==typeof a?void 0:D(a)),new YD(_,c||Up(),h||null,f)}let Rf=(()=>{class a{static create(d,h){if(Array.isArray(d))return dM({name:""},h,d,"");{const f=d.name??"";return dM({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=Vn,a.NULL=new $v,a.\u0275prov=ce({token:a,providedIn:"any",factory:()=>Rn(iy)}),a.__NG_ELEMENT_ID__=-1,a})();function uc(a,c=xt.Default){const d=et();return null===d?Rn(a,c):Qc(Xi(),d,O(a),c)}function cC(){throw new Error("invalid")}function $p(a,c){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const b=a.data[_];Vc(d[h]),b.contentQueries(2,c[_],_)}}}function Wp(a,c,d,h,f,_,b,T,F,Z,ae){const we=c.blueprint.slice();return we[Ur]=f,we[Jt]=76|h,(null!==ae||a&&1024&a[Jt])&&(we[Jt]|=1024),el(we),we[ni]=we[ks]=a,we[_i]=d,we[Ti]=b||a&&a[Ti],we[fn]=T||a&&a[fn],we[Po]=F||a&&a[Po]||null,we[Ya]=Z||a&&a[Ya]||null,we[Si]=_,we[Ve]=function ee(){return N++}(),we[We]=ae,we[yi]=2==c.type?a[yi]:we,we}function Pf(a,c,d,h,f){let _=a.data[c];if(null===_)_=function wy(a,c,d,h,f){const _=da(),b=Wh(),F=a.data[c]=function wM(a,c,d,h,f,_){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,c,h,f);return null===a.firstChild&&(a.firstChild=F),null!==_&&(b?null==_.child&&null!==F.parent&&(_.child=F):null===_.next&&(_.next=F,F.prev=_)),F}(a,c,d,h,f),function qh(){return sn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=f;const b=function Lc(){const a=sn.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Gr(_,!0),_}function qp(a,c,d,h){if(0===d)return-1;const f=c.length;for(let _=0;_<d;_++)c.push(h),a.blueprint.push(h),a.data.push(null);return f}function dC(a,c,d){jc(c);try{const h=a.viewQuery;null!==h&&vb(1,h,d);const f=a.template;null!==f&&Ey(a,c,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&$p(a,c),a.staticViewQueries&&vb(2,a.viewQuery,d);const _=a.components;null!==_&&function yM(a,c){for(let d=0;d<c.length;d++)Bd(a,c[d])}(c,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[Jt]&=-5,Gc()}}function xy(a,c,d,h){const f=c[Jt];if(128!=(128&f)){jc(c);try{el(c),function Ys(a){return sn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Ey(a,c,d,2,h);const b=3==(3&f);if(b){const Z=a.preOrderCheckHooks;null!==Z&&bu(c,Z,null)}else{const Z=a.preOrderHooks;null!==Z&&wu(c,Z,0,null),Xh(c,0)}if(function AM(a){for(let c=yd(a);null!==c;c=vs(c)){if(!c[Qn])continue;const d=c[On];for(let h=0;h<d.length;h++){const f=d[h];512&f[Jt]||Fl(f[ni],1),f[Jt]|=512}}}(c),function _b(a){for(let c=yd(a);null!==c;c=vs(c))for(let d=Wn;d<c.length;d++){const h=c[d],f=h[St];go(h)&&xy(f,h,f.template,h[_i])}}(c),null!==a.contentQueries&&$p(a,c),b){const Z=a.contentCheckHooks;null!==Z&&bu(c,Z)}else{const Z=a.contentHooks;null!==Z&&wu(c,Z,1),Xh(c,1)}!function hb(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)yo(~f);else{const _=f,b=d[++h],T=d[++h];Uc(b,_),T(2,c[_])}}}finally{yo(-1)}}(a,c);const T=a.components;null!==T&&function _M(a,c){for(let d=0;d<c.length;d++)bC(a,c[d])}(c,T);const F=a.viewQuery;if(null!==F&&vb(2,F,h),b){const Z=a.viewCheckHooks;null!==Z&&bu(c,Z)}else{const Z=a.viewHooks;null!==Z&&wu(c,Z,2),Xh(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[Jt]&=-41,512&c[Jt]&&(c[Jt]&=-513,Fl(c[ni],-1))}finally{Gc()}}}function Ey(a,c,d,h,f){const _=yr(),b=2&h;try{yo(-1),b&&c.length>st&&aM(a,c,st,!1),jr(b?2:0,f),d(h,f)}finally{yo(_),jr(b?3:1,f)}}function uC(a,c,d){if(Rl(c)){const f=c.directiveEnd;for(let _=c.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function hC(a,c,d){Nc()&&(function SM(a,c,d,h){const f=d.directiveStart,_=d.directiveEnd;Xa(d)&&function dL(a,c,d){const h=dr(c,a),f=fC(d),_=a[Ti],b=Bf(a,Wp(a,f,null,d.onPush?32:16,h,c,_,_.createRenderer(h,d),null,null,null));a[c.index]=b}(c,d,a.data[f+d.componentOffset]),a.firstCreatePass||Cu(d,c),Ft(h,c);const b=d.initialInputs;for(let T=f;T<_;T++){const F=a.data[T],Z=Fi(c,a,T,d);Ft(Z,c),null!==b&&vC(0,T-f,Z,F,0,b),ms(F)&&(Zi(d.index,c)[_i]=Fi(c,a,T,d))}}(a,c,d,dr(d,c)),64==(64&d.flags)&&mb(a,c,d))}function Kp(a,c,d=dr){const h=c.localNames;if(null!==h){let f=c.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],T=-1===b?d(c,a):a[b];a[f++]=T}}}function fC(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Cy(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Cy(a,c,d,h,f,_,b,T,F,Z){const ae=st+h,we=ae+f,Ne=function fb(a,c){const d=[];for(let h=0;h<c;h++)d.push(h<a?null:Yt);return d}(ae,we),ze="function"==typeof Z?Z():Z;return Ne[St]={type:a,blueprint:Ne,template:d,queries:null,viewQuery:T,declTNode:c,data:Ne.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:F,consts:ze,incompleteFirstPass:!1}}function bM(a,c,d,h){const f=wC(c);null===d?f.push(h):(f.push(d),a.firstCreatePass&&bb(a).push(h,f.length-1))}function Ff(a,c,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const _=a[f];null===h?Nf(d,c,f,_):h.hasOwnProperty(f)&&Nf(d,c,h[f],_)}return d}function Nf(a,c,d,h){a.hasOwnProperty(d)?a[d].push(c,h):a[d]=[c,h]}function ss(a,c,d,h,f,_,b,T){const F=dr(c,d);let ae,Z=c.inputs;!T&&null!=Z&&(ae=Z[h])?(wb(a,d,ae,h,f),Xa(c)&&function aL(a,c){const d=Zi(c,a);16&d[Jt]||(d[Jt]|=32)}(d,c.index)):3&c.type&&(h=function pC(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=b?b(f,c.value||"",h):f,_.setProperty(F,h,f))}function gC(a,c,d,h){if(Nc()){const f=null===h?null:{"":-1},_=function _C(a,c){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];if(rb(c,b.selectors,!1))if(h||(h=[]),ms(b))if(null!==b.findHostDirectiveDefs){const T=[];f=f||new Map,b.findHostDirectiveDefs(b,T,f),h.unshift(...T,b),Lf(a,c,T.length)}else h.unshift(b),Lf(a,c,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,h,f),h.push(b)}return null===h?null:[h,f]}(a,d);let b,T;null===_?b=T=null:[b,T]=_,null!==b&&CM(a,c,d,b,f,T),f&&function Sy(a,c,d){if(c){const h=a.localNames=[];for(let f=0;f<c.length;f+=2){const _=d[c[f+1]];if(null==_)throw new W(-301,!1);h.push(c[f],_)}}}(d,h,f)}d.mergedAttrs=pa(d.mergedAttrs,d.attrs)}function CM(a,c,d,h,f,_){for(let Z=0;Z<h.length;Z++)Jn(Cu(d,c),a,h[Z].type);!function yC(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,h.length);for(let Z=0;Z<h.length;Z++){const ae=h[Z];ae.providersResolver&&ae.providersResolver(ae)}let b=!1,T=!1,F=qp(a,c,h.length,null);for(let Z=0;Z<h.length;Z++){const ae=h[Z];d.mergedAttrs=pa(d.mergedAttrs,ae.hostAttrs),DM(a,d,c,F,ae),IM(F,ae,f),null!==ae.contentQueries&&(d.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(d.flags|=64);const we=ae.type.prototype;!b&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),b=!0),!T&&(we.ngOnChanges||we.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),T=!0),F++}!function mC(a,c,d){const f=c.directiveEnd,_=a.data,b=c.attrs,T=[];let F=null,Z=null;for(let ae=c.directiveStart;ae<f;ae++){const we=_[ae],Ne=d?d.get(we):null,it=Ne?Ne.outputs:null;F=Ff(we.inputs,ae,F,Ne?Ne.inputs:null),Z=Ff(we.outputs,ae,Z,it);const vt=null===F||null===b||tb(c)?null:MM(F,ae,b);T.push(vt)}null!==F&&(F.hasOwnProperty("class")&&(c.flags|=8),F.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=T,c.inputs=F,c.outputs=Z}(a,d,_)}function mb(a,c,d){const h=d.directiveStart,f=d.directiveEnd,_=d.index,b=function S_(){return sn.lFrame.currentDirectiveIndex}();try{yo(_);for(let T=h;T<f;T++){const F=a.data[T],Z=c[T];zi(T),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&TM(F,Z)}}finally{yo(-1),zi(b)}}function TM(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Lf(a,c,d){c.componentOffset=d,(a.components??(a.components=[])).push(c.index)}function IM(a,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=a;ms(c)&&(d[""]=a)}}function DM(a,c,d,h,f){a.data[h]=f;const _=f.factory||(f.factory=Ks(f.type)),b=new vo(_,ms(f),uc);a.blueprint[h]=b,d[h]=b,function lL(a,c,d,h,f){const _=f.hostBindings;if(_){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const T=~c.index;(function cL(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(b)!=T&&b.push(T),b.push(d,h,_)}}(a,c,h,qp(a,d,f.hostVars,Yt),f)}function Pa(a,c,d,h,f,_){const b=dr(a,c);!function pb(a,c,d,h,f,_,b){if(null==_)a.removeAttribute(c,f,d);else{const T=null==b?E(_):b(_,h||"",f);a.setAttribute(c,f,T,d)}}(c[fn],b,_,a.value,d,h,f)}function vC(a,c,d,h,f,_){const b=_[c];if(null!==b){const T=h.setInput;for(let F=0;F<b.length;){const Z=b[F++],ae=b[F++],we=b[F++];null!==T?h.setInput(d,we,Z,ae):d[ae]=we}}}function MM(a,c,d){let h=null,f=0;for(;f<d.length;){const _=d[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(a.hasOwnProperty(_)){null===h&&(h=[]);const b=a[_];for(let T=0;T<b.length;T+=2)if(b[T]===c){h.push(_,b[T+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function gb(a,c,d,h){return[a,!0,!1,c,null,0,h,d,null,null]}function bC(a,c){const d=Zi(c,a);if(go(d)){const h=d[St];48&d[Jt]?xy(h,d,h.template,d[_i]):d[$n]>0&&yb(d)}}function yb(a){for(let h=yd(a);null!==h;h=vs(h))for(let f=Wn;f<h.length;f++){const _=h[f];if(go(_))if(512&_[Jt]){const b=_[St];xy(b,_,b.template,_[_i])}else _[$n]>0&&yb(_)}const d=a[St].components;if(null!==d)for(let h=0;h<d.length;h++){const f=Zi(d[h],a);go(f)&&f[$n]>0&&yb(f)}}function Bd(a,c){const d=Zi(c,a),h=d[St];(function kM(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(h,d),dC(h,d,d[_i])}function Bf(a,c){return a[As]?a[Hr][Vr]=c:a[As]=c,a[Hr]=c,c}function Ty(a){for(;a;){a[Jt]|=32;const c=ml(a);if(Mc(a)&&!c)return a;a=c}return null}function Uf(a,c,d,h=!0){const f=c[Ti];f.begin&&f.begin();try{xy(a,c,a.template,d)}catch(b){throw h&&Dy(c,b),b}finally{f.end&&f.end()}}function vb(a,c,d){Vc(0),c(a,d)}function wC(a){return a[Ms]||(a[Ms]=[])}function bb(a){return a.cleanup||(a.cleanup=[])}function xC(a,c,d){return(null===a||ms(a))&&(d=function Ja(a){for(;Array.isArray(a);){if("object"==typeof a[yn])return a;a=a[Ur]}return null}(d[c.index])),d[fn]}function Dy(a,c){const d=a[Ya],h=d?d.get(Af,null):null;h&&h.handleError(c)}function wb(a,c,d,h,f){for(let _=0;_<d.length;){const b=d[_++],T=d[_++],F=c[b],Z=a.data[b];null!==Z.setInput?Z.setInput(F,f,h,T):F[T]=f}}function Yp(a,c,d){let h=d?a.styles:null,f=d?a.classes:null,_=0;if(null!==c)for(let b=0;b<c.length;b++){const T=c[b];"number"==typeof T?_=T:1==_?f=k(f,T):2==_&&(h=k(h,T+": "+c[++b]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function My(a,c,d,h,f=!1){for(;null!==d;){const _=c[d.index];if(null!==_&&h.push(cr(_)),_r(_))for(let T=Wn;T<_.length;T++){const F=_[T],Z=F[St].firstChild;null!==Z&&My(F[St],F,Z,h)}const b=d.type;if(8&b)My(a,c,d.child,h);else if(32&b){const T=Bu(d,c);let F;for(;F=T();)h.push(F)}else if(16&b){const T=H_(c,d);if(Array.isArray(T))h.push(...T);else{const F=ml(c[yi]);My(F[St],F,T,h,!0)}}d=f?d.projectionNext:d.next}return h}class Ay{get rootNodes(){const c=this._lView,d=c[St];return My(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(c){this._lView[_i]=c}get destroyed(){return 128==(128&this._lView[Jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[ni];if(_r(c)){const d=c[Mi],h=d?d.indexOf(this):-1;h>-1&&(Vu(c,h),Sa(d,h))}this._attachedToViewContainer=!1}_f(this._lView[St],this._lView)}onDestroy(c){bM(this._lView[St],this._lView,null,c)}markForCheck(){Ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jt]&=-65}reattach(){this._lView[Jt]|=64}detectChanges(){Uf(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function L_(a,c){Sd(a,c,c[fn],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=c}}class xb extends Ay{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Uf(c[St],c,c[_i],!1)}checkNoChanges(){}get context(){return null}}class EC extends Hp{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=Vt(c);return new Zp(d,this.ngModule)}}function Eb(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class Qu{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=gi(h);const f=this.injector.get(c,Yv,h);return f!==Yv||d===Yv?f:this.parentInjector.get(c,d,h)}}class Zp extends Fd{get inputs(){return Eb(this.componentDef.inputs)}get outputs(){return Eb(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function nC(a){return a.map(tC).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,f){let _=(f=f||this.ngModule)instanceof Yu?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new Qu(c,_):c,T=b.get(Nd,null);if(null===T)throw new W(407,!1);const F=b.get($E,null),Z=T.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",we=h?function vM(a,c,d){return a.selectRootElement(c,d===nt.ShadowDom)}(Z,h,this.componentDef.encapsulation):Ep(Z,ae,function CC(a){const c=a.toLowerCase();return"svg"===c?Mr:"math"===c?"math":null}(ae)),Ne=this.componentDef.onPush?288:272,ze=Cy(0,null,null,1,0,null,null,null,null,null),it=Wp(null,ze,null,Ne,null,null,T,Z,F,b,null);let vt,It;jc(it);try{const Ut=this.componentDef;let tn,ct=null;Ut.findHostDirectiveDefs?(tn=[],ct=new Map,Ut.findHostDirectiveDefs(Ut,tn,ct),tn.push(Ut)):tn=[Ut];const wn=function TC(a,c){const d=a[St],h=st;return a[h]=c,Pf(d,h,2,"#host",null)}(it,we),Ri=function OM(a,c,d,h,f,_,b,T){const F=f[St];!function PM(a,c,d,h){for(const f of a)c.mergedAttrs=pa(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(Yp(c,c.mergedAttrs,!0),null!==d&&z_(h,d,c))}(h,a,c,b);const Z=_.createRenderer(c,d),ae=Wp(f,fC(d),null,d.onPush?32:16,f[a.index],a,_,Z,T||null,null,null);return F.firstCreatePass&&Lf(F,a,h.length-1),Bf(f,ae),f[a.index]=ae}(wn,we,Ut,tn,it,T,Z);It=Hh(ze,st),we&&function Cb(a,c,d,h){if(h)rl(a,d,["ng-version",qE.full]);else{const{attrs:f,classes:_}=function Fs(a){const c=[],d=[];let h=1,f=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===f?""!==_&&c.push(_,a[++h]):8===f&&d.push(_);else{if(!Yo(f))break;f=_}h++}return{attrs:c,classes:d}}(c.selectors[0]);f&&rl(a,d,f),_&&_.length>0&&Td(a,d,_.join(" "))}}(Z,Ut,we,h),void 0!==d&&function FM(a,c,d){const h=a.projection=[];for(let f=0;f<c.length;f++){const _=d[f];h.push(null!=_?Array.from(_):null)}}(It,this.ngContentSelectors,d),vt=function Vf(a,c,d,h,f,_){const b=Xi(),T=f[St],F=dr(b,f);CM(T,f,b,d,null,h);for(let ae=0;ae<d.length;ae++)Ft(Fi(f,T,b.directiveStart+ae,b),f);mb(T,f,b),F&&Ft(F,f);const Z=Fi(f,T,b.directiveStart+b.componentOffset,b);if(a[_i]=f[_i]=Z,null!==_)for(const ae of _)ae(Z,c);return uC(T,b,a),Z}(Ri,Ut,tn,ct,it,[IC]),dC(ze,it,null)}finally{Gc()}return new SC(this.componentType,vt,Zu(It,it),it,It)}}class SC extends JD{constructor(c,d,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new xb(f),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[c])){const _=this._rootLView;wb(_[St],_,f,c,d),Ty(Zi(this._tNode.index,_))}}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function IC(){const a=Xi();$c(et()[St],a)}function ky(a){let c=function DC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;c;){let f;if(ms(a))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new W(903,!1);f=c.\u0275dir}if(f){if(d){h.push(f);const b=a;b.inputs=Ry(a.inputs),b.declaredInputs=Ry(a.declaredInputs),b.outputs=Ry(a.outputs);const T=f.hostBindings;T&&hL(a,T);const F=f.viewQuery,Z=f.contentQueries;if(F&&LM(a,F),Z&&MC(a,Z),R(a.inputs,f.inputs),R(a.declaredInputs,f.declaredInputs),R(a.outputs,f.outputs),ms(f)&&f.data.animation){const ae=a.data;ae.animation=(ae.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const T=_[b];T&&T.ngInherit&&T(a),T===ky&&(d=!1)}}c=Object.getPrototypeOf(c)}!function NM(a){let c=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=c+=f.hostVars,f.hostAttrs=pa(f.hostAttrs,d=pa(d,f.hostAttrs))}}(h)}function Ry(a){return a===je?{}:a===ut?[]:a}function LM(a,c){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{c(h,f),d(h,f)}:c}function MC(a,c){const d=a.contentQueries;a.contentQueries=d?(h,f,_)=>{c(h,f,_),d(h,f,_)}:c}function hL(a,c){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{c(h,f),d(h,f)}:c}function Sb(a){return!!At(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function At(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Rr(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function Oy(a,c,d,h){const f=et();return Rr(f,ua(),c)&&(mn(),Pa(vi(),f,a,c,d,h)),Oy}function jf(a,c,d,h){return Rr(a,ua(),d)?c+E(d)+h:Yt}function NC(a,c,d,h,f,_,b,T){const F=et(),Z=mn(),ae=a+st,we=Z.firstCreatePass?function FC(a,c,d,h,f,_,b,T,F){const Z=c.consts,ae=Pf(c,a,4,b||null,Bo(Z,T));gC(c,d,ae,Bo(Z,F)),$c(c,ae);const we=ae.tView=Cy(2,ae,h,f,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,Z);return null!==c.queries&&(c.queries.template(c,ae),we.queries=c.queries.embeddedTView(ae)),ae}(ae,Z,F,c,d,h,f,_,b):Z.data[ae];Gr(we,!1);const Ne=F[fn].createComment("");Aa(Z,F,Ne,we),Ft(Ne,F),Bf(F,F[ae]=gb(Ne,F,Ne,we)),fu(we)&&hC(Z,F,we),null!=b&&Kp(F,we,T)}function pc(a){return function Ar(a,c){return a[c]}(function C_(){return sn.lFrame.contextLView}(),st+a)}function ir(a,c,d){const h=et();return Rr(h,ua(),c)&&ss(mn(),vi(),h,a,c,h[fn],d,!1),ir}function Na(a,c,d,h,f){const b=f?"class":"style";wb(a,d,c.inputs[b],b,h)}function zf(a,c,d,h){const f=et(),_=mn(),b=st+a,T=f[fn],F=_.firstCreatePass?function eh(a,c,d,h,f,_){const b=c.consts,F=Pf(c,a,2,h,Bo(b,f));return gC(c,d,F,Bo(b,_)),null!==F.attrs&&Yp(F,F.attrs,!1),null!==F.mergedAttrs&&Yp(F,F.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,F),F}(b,_,f,c,d,h):_.data[b],Z=f[b]=Ep(T,c,function Zh(){return sn.lFrame.currentNamespace}()),ae=fu(F);return Gr(F,!0),z_(T,Z,F),32!=(32&F.flags)&&Aa(_,f,Z,F),0===function Gh(){return sn.lFrame.elementDepthCount}()&&Ft(Z,f),function Fc(){sn.lFrame.elementDepthCount++}(),ae&&(hC(_,f,F),uC(_,F,f)),null!==h&&Kp(f,F),zf}function Xp(){let a=Xi();Wh()?Bc():(a=a.parent,Gr(a,!1));const c=a;!function zh(){sn.lFrame.elementDepthCount--}();const d=mn();return d.firstCreatePass&&($c(d,a),Rl(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function zl(a){return 0!=(8&a.flags)}(c)&&Na(d,c,et(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ha(a){return 0!=(16&a.flags)}(c)&&Na(d,c,et(),c.stylesWithoutHost,!1),Xp}function Ly(a,c,d,h){return zf(a,c,d,h),Xp(),Ly}function th(a,c,d){const h=et(),f=mn(),_=a+st,b=f.firstCreatePass?function jM(a,c,d,h,f){const _=c.consts,b=Bo(_,h),T=Pf(c,a,8,"ng-container",b);return null!==b&&Yp(T,b,!0),gC(c,d,T,Bo(_,f)),null!==c.queries&&c.queries.elementStart(c,T),T}(_,f,h,c,d):f.data[_];Gr(b,!0);const T=h[_]=h[fn].createComment("");return Aa(f,h,T,b),Ft(T,h),fu(b)&&(hC(f,h,b),uC(f,b,h)),null!=d&&Kp(h,b),th}function vn(){let a=Xi();const c=mn();return Wh()?Bc():(a=a.parent,Gr(a,!1)),c.firstCreatePass&&($c(c,a),Rl(a)&&c.queries.elementEnd(a)),vn}function nh(a,c,d){return th(a,c,d),vn(),nh}function LC(){return et()}function Hd(a){return!!a&&"function"==typeof a.then}function BC(a){return!!a&&"function"==typeof a.subscribe}const UC=BC;function Qo(a,c,d,h){const f=et(),_=mn(),b=Xi();return Tb(_,f,f[fn],b,a,c,h),Qo}function By(a,c){const d=Xi(),h=et(),f=mn();return Tb(f,h,xC(tl(f.data),d,h),d,a,c),By}function Tb(a,c,d,h,f,_,b){const T=fu(h),Z=a.firstCreatePass&&bb(a),ae=c[_i],we=wC(c);let Ne=!0;if(3&h.type||b){const vt=dr(h,c),It=b?b(vt):vt,Ut=we.length,tn=b?wn=>b(cr(wn[h.index])):h.index;let ct=null;if(!b&&T&&(ct=function VC(a,c,d,h){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===d&&f[_+1]===h){const T=c[Ms],F=f[_+2];return T.length>F?T[F]:null}"string"==typeof b&&(_+=2)}return null}(a,c,f,h.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=_,ct.__ngLastListenerFn__=_,Ne=!1;else{_=Yr(h,c,ae,_,!1);const wn=d.listen(It,f,_);we.push(_,wn),Z&&Z.push(f,tn,Ut,Ut+1)}}else _=Yr(h,c,ae,_,!1);const ze=h.outputs;let it;if(Ne&&null!==ze&&(it=ze[f])){const vt=it.length;if(vt)for(let It=0;It<vt;It+=2){const Ri=c[it[It]][it[It+1]].subscribe(_),Er=we.length;we.push(_,Ri),Z&&Z.push(f,h.index,Er,-(Er+1))}}}function GM(a,c,d,h){try{return jr(6,c,d),!1!==d(h)}catch(f){return Dy(a,f),!1}finally{jr(7,c,d)}}function Yr(a,c,d,h,f){return function _(b){if(b===Function)return h;Ty(a.componentOffset>-1?Zi(a.index,c):c);let F=GM(c,d,h,b),Z=_.__ngNextListenerFn__;for(;Z;)F=GM(c,d,Z,b)&&F,Z=Z.__ngNextListenerFn__;return f&&!1===F&&(b.preventDefault(),b.returnValue=!1),F}}function gc(a=1){return function ip(a){return(sn.lFrame.contextLView=function zc(a,c){for(;a>0;)c=c[ks],a--;return c}(a,sn.lFrame.contextLView))[_i]}(a)}function Uy(a,c){let d=null;const h=function JE(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let f=0;f<c.length;f++){const _=c[f];if("*"!==_){if(null===h?rb(a,_,!0):cy(h,_))return f}else d=f}return d}function HC(a){const c=et()[yi][Si];if(!c.projection){const h=c.projection=nd(a?a.length:1,null),f=h.slice();let _=c.child;for(;null!==_;){const b=a?Uy(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:h[b]=_,f[b]=_),_=_.next}}}function Ib(a,c=0,d){const h=et(),f=mn(),_=Pf(f,st+a,16,null,d||null);null===_.projection&&(_.projection=c),Bc(),32!=(32&_.flags)&&function Tp(a,c,d){j_(c[fn],0,c,d,vf(a,d,c),Cp(d.parent||c[Si],d,c))}(f,h,_)}function Vy(a,c){return a<<17|c<<2}function to(a){return a>>17&32767}function eg(a){return 2|a}function ih(a){return(131068&a)>>2}function Wf(a,c){return-131069&a|c<<2}function Hy(a){return 1|a}function Fb(a,c,d,h,f){const _=a[d+1],b=null===c;let T=h?to(_):ih(_),F=!1;for(;0!==T&&(!1===F||b);){const ae=a[T+1];GC(a[T],c)&&(F=!0,a[T+1]=h?Hy(ae):eg(ae)),T=h?to(ae):ih(ae)}F&&(a[d+1]=h?eg(_):Hy(_))}function GC(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&jo(a,c)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zC(a){return a.substring(Or.key,Or.keyEnd)}function $C(a,c){const d=Or.textEnd;return d===c?-1:(c=Or.keyEnd=function Nb(a,c,d){for(;c<d&&a.charCodeAt(c)>32;)c++;return c}(a,Or.key=c,d),qf(a,c,d))}function qf(a,c,d){for(;c<d&&a.charCodeAt(c)<=32;)c++;return c}function Wy(a,c,d){return Jo(a,c,d,!1),Wy}function qy(a,c){return Jo(a,c,null,!0),qy}function Kf(a){ea(XM,Ls,a,!0)}function Ls(a,c){for(let d=function Gy(a){return function qC(a){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=a.length}(a),$C(a,qf(a,0,Or.textEnd))}(c);d>=0;d=$C(c,d))zr(a,zC(c),!0)}function Jo(a,c,d,h){const f=et(),_=mn(),b=gs(2);_.firstUpdatePass&&sh(_,a,b,h),c!==Yt&&Rr(f,b,c)&&Bb(_,_.data[yr()],f,f[fn],a,f[b+1]=function Ub(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=D(br(a)))),a}(c,d),h,b)}function ea(a,c,d,h){const f=mn(),_=gs(2);f.firstUpdatePass&&sh(f,null,_,h);const b=et();if(d!==Yt&&Rr(b,_,d)){const T=f.data[yr()];if(jd(T,h)&&!Lb(f,_)){let F=h?T.classesWithoutHost:T.stylesWithoutHost;null!==F&&(d=k(F,d||"")),Na(f,T,b,d,h)}else!function ZC(a,c,d,h,f,_,b,T){f===Yt&&(f=ut);let F=0,Z=0,ae=0<f.length?f[0]:null,we=0<_.length?_[0]:null;for(;null!==ae||null!==we;){const Ne=F<f.length?f[F+1]:void 0,ze=Z<_.length?_[Z+1]:void 0;let vt,it=null;ae===we?(F+=2,Z+=2,Ne!==ze&&(it=we,vt=ze)):null===we||null!==ae&&ae<we?(F+=2,it=ae):(Z+=2,it=we,vt=ze),null!==it&&Bb(a,c,d,h,it,vt,b,T),ae=F<f.length?f[F]:null,we=Z<_.length?_[Z]:null}}(f,T,b,b[fn],b[_+1],b[_+1]=function ZM(a,c,d){if(null==d||""===d)return ut;const h=[],f=br(d);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(h,_,f[_]);else"string"==typeof f&&c(h,f);return h}(a,c,d),h,_)}}function Lb(a,c){return c>=a.expandoStartIndex}function sh(a,c,d,h){const f=a.data;if(null===f[d+1]){const _=f[yr()],b=Lb(a,d);jd(_,h)&&null===c&&!b&&(c=!1),c=function qM(a,c,d,h){const f=tl(a);let _=h?c.residualClasses:c.residualStyles;if(null===f)0===(h?c.classBindings:c.styleBindings)&&(d=wl(d=ig(null,a,c,d,h),c.attrs,h),_=null);else{const b=c.directiveStylingLast;if(-1===b||a[b]!==f)if(d=ig(f,a,c,d,h),null===_){let F=function KM(a,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==ih(h))return a[to(h)]}(a,c,h);void 0!==F&&Array.isArray(F)&&(F=ig(null,a,c,F[1],h),F=wl(F,c.attrs,h),function YC(a,c,d,h){a[to(d?c.classBindings:c.styleBindings)]=h}(a,c,h,F))}else _=function YM(a,c,d){let h;const f=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<f;_++)h=wl(h,a[_].hostAttrs,d);return wl(h,c.attrs,d)}(a,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),d}(f,_,c,h),function Pb(a,c,d,h,f,_){let b=_?c.classBindings:c.styleBindings,T=to(b),F=ih(b);a[h]=d;let ae,Z=!1;if(Array.isArray(d)?(ae=d[1],(null===ae||jo(d,ae)>0)&&(Z=!0)):ae=d,f)if(0!==F){const Ne=to(a[T+1]);a[h+1]=Vy(Ne,T),0!==Ne&&(a[Ne+1]=Wf(a[Ne+1],h)),a[T+1]=function Jp(a,c){return 131071&a|c<<17}(a[T+1],h)}else a[h+1]=Vy(T,0),0!==T&&(a[T+1]=Wf(a[T+1],h)),T=h;else a[h+1]=Vy(F,0),0===T?T=h:a[F+1]=Wf(a[F+1],h),F=h;Z&&(a[h+1]=eg(a[h+1])),Fb(a,ae,h,!0),Fb(a,ae,h,!1),function jy(a,c,d,h,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof c&&jo(_,c)>=0&&(d[h+1]=Hy(d[h+1]))}(c,ae,a,h,_),b=Vy(T,F),_?c.classBindings=b:c.styleBindings=b}(f,_,c,d,b,h)}}function ig(a,c,d,h,f){let _=null;const b=d.directiveEnd;let T=d.directiveStylingLast;for(-1===T?T=d.directiveStart:T++;T<b&&(_=c[T],h=wl(h,_.hostAttrs,f),_!==a);)T++;return null!==a&&(d.directiveStylingLast=T),h}function wl(a,c,d){const h=d?1:2;let f=-1;if(null!==c)for(let _=0;_<c.length;_++){const b=c[_];"number"==typeof b?f=b:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),zr(a,b,!!d||c[++_]))}return void 0===a?null:a}function XM(a,c,d){const h=String(c);""!==h&&!h.includes(" ")&&zr(a,h,d)}function Bb(a,c,d,h,f,_,b,T){if(!(3&c.type))return;const F=a.data,Z=F[T+1],ae=function tg(a){return 1==(1&a)}(Z)?Yf(F,c,d,f,ih(Z),b):void 0;Co(ae)||(Co(_)||function zM(a){return 2==(2&a)}(Z)&&(_=Yf(F,null,d,f,T,b)),function G_(a,c,d,h,f){if(c)f?a.addClass(d,h):a.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:Xs.DashCase;null==f?a.removeStyle(d,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Xs.Important),a.setStyle(d,h,f,_))}}(h,b,po(yr(),d),f,_))}function Yf(a,c,d,h,f,_){const b=null===c;let T;for(;f>0;){const F=a[f],Z=Array.isArray(F),ae=Z?F[1]:F,we=null===ae;let Ne=d[f+1];Ne===Yt&&(Ne=we?ut:void 0);let ze=we?ll(Ne,h):ae===h?Ne:void 0;if(Z&&!Co(ze)&&(ze=ll(F,h)),Co(ze)&&(T=ze,b))return T;const it=a[f+1];f=b?to(it):ih(it)}if(null!==c){let F=_?c.residualClasses:c.residualStyles;null!=F&&(T=ll(F,h))}return T}function Co(a){return void 0!==a}function jd(a,c){return 0!=(a.flags&(c?8:16))}function rg(a,c=""){const d=et(),h=mn(),f=a+st,_=h.firstCreatePass?Pf(h,f,1,c,null):h.data[f],b=d[f]=function xp(a,c){return a.createText(c)}(d[fn],c);Aa(h,d,b,_),Gr(_,!1)}function Zf(a){return Xf("",a,""),Zf}function Xf(a,c,d){const h=et(),f=jf(h,a,c,d);return f!==Yt&&function hc(a,c,d){const h=po(c,a);!function vd(a,c,d){a.setValue(c,d)}(a[fn],h,d)}(h,yr(),f),Xf}function o1(a,c,d){ea(zr,Ls,jf(et(),a,c,d),!0)}function oh(a,c,d){const h=et();return Rr(h,ua(),c)&&ss(mn(),vi(),h,a,c,h[fn],d,!0),oh}function $b(a,c,d){const h=et();if(Rr(h,ua(),c)){const _=mn(),b=vi();ss(_,b,h,a,c,xC(tl(_.data),b,h),d,!0)}return $b}const ah=void 0;var f1=["en",[["a","p"],["AM","PM"],ah],[["AM","PM"],ah,ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wb(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let lh={};function Qy(a){const c=function aA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=og(c);if(d)return d;const h=c.split("-")[0];if(d=og(h),d)return d;if("en"===h)return f1;throw new W(701,!1)}function Jf(a){return Qy(a)[Qt.PluralCase]}function og(a){return a in lh||(lh[a]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[a]),lh[a]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const ag="en-US";let g1=ag;function l0(a,c,d,h,f){if(a=O(a),Array.isArray(a))for(let _=0;_<a.length;_++)l0(a[_],c,d,h,f);else{const _=mn(),b=et();let T=Ku(a)?a:O(a.provide),F=nr(a);const Z=Xi(),ae=1048575&Z.providerIndexes,we=Z.directiveStart,Ne=Z.providerIndexes>>20;if(Ku(a)||!a.multi){const ze=new vo(F,f,uc),it=iw(T,c,f?ae:ae+Ne,we);-1===it?(Jn(Cu(Z,b),_,T),zd(_,a,c.length),c.push(T),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),d.push(ze),b.push(ze)):(d[it]=ze,b[it]=ze)}else{const ze=iw(T,c,ae+Ne,we),it=iw(T,c,ae,ae+Ne),It=it>=0&&d[it];if(f&&!It||!f&&!(ze>=0&&d[ze])){Jn(Cu(Z,b),_,T);const Ut=function G1(a,c,d,h,f){const _=new vo(a,d,uc);return _.multi=[],_.index=c,_.componentProviders=0,c0(_,f,h&&!d),_}(f?d0:j1,d.length,f,h,F);!f&&It&&(d[it].providerFactory=Ut),zd(_,a,c.length,0),c.push(T),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),d.push(Ut),b.push(Ut)}else zd(_,a,ze>-1?ze:it,c0(d[f?it:ze],F,!f&&h));!f&&h&&It&&d[it].componentProviders++}}}function zd(a,c,d,h){const f=Ku(c),_=function KD(a){return!!a.useClass}(c);if(f||_){const F=(_?O(c.useClass):c).prototype.ngOnDestroy;if(F){const Z=a.destroyHooks||(a.destroyHooks=[]);if(!f&&c.multi){const ae=Z.indexOf(d);-1===ae?Z.push(d,[h,F]):Z[ae+1].push(h,F)}else Z.push(d,F)}}}function c0(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function iw(a,c,d,h){for(let f=d;f<h;f++)if(c[f]===a)return f;return-1}function j1(a,c,d,h){return om(this.multi,[])}function d0(a,c,d,h){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=Fi(d,d[St],this.providerFactory.index,h);_=T.slice(0,b),om(f,_);for(let F=b;F<T.length;F++)_.push(T[F])}else _=[],om(f,_);return _}function om(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function rw(a,c=[]){return d=>{d.providersResolver=(h,f)=>function nw(a,c,d){const h=mn();if(h.firstCreatePass){const f=ms(a);l0(d,h.data,h.blueprint,f,!0),l0(c,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,c)}}class am{}class z1{}function kA(a,c){return new $1(a,c??null)}class $1 extends am{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EC(this);const h=Di(c);this._bootstrapComponents=_l(h.bootstrap),this._r3Injector=uM(c,d,[{provide:am,useValue:this},{provide:Hp,useValue:this.componentFactoryResolver}],D(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class lm extends z1{constructor(c){super(),this.moduleType=c}create(c){return new $1(this.moduleType,c)}}class RA extends am{constructor(c,d,h){super(),this.componentFactoryResolver=new EC(this),this.instance=null;const f=new YD([...c,{provide:am,useValue:this},{provide:Hp,useValue:this.componentFactoryResolver}],d||Up(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function sw(a,c,d=null){return new RA(a,c,d).injector}let ow=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=BE(0,d.type),f=h.length>0?sw([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ce({token:a,providedIn:"environment",factory:()=>new a(Rn(Yu))}),a})();function W1(a){a.getStandaloneInjector=c=>c.get(ow).getOrCreateStandaloneInjector(a)}function hw(a){return c=>{setTimeout(a,void 0,c)}}const El=class HA extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let f=c,_=d||(()=>null),b=h;if(c&&"object"==typeof c){const F=c;f=F.next?.bind(F),_=F.error?.bind(F),b=F.complete?.bind(F)}this.__isAsync&&(_=hw(_),f&&(f=hw(f)),b&&(b=hw(b)));const T=super.subscribe({next:f,error:_,complete:b});return c instanceof $.w0&&c.add(T),T}};function jA(){return this._results[Symbol.iterator]()}class gg{get changes(){return this._changes||(this._changes=new El)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=gg.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=jA)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const f=function Os(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Au(a,c,d){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],_=c[h];if(d&&(f=d(f),_=d(_)),_!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _g=(()=>{class a{}return a.__NG_ELEMENT_ID__=zA,a})();const RL=_g,GA=class extends RL{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tView,f=Wp(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);f[Fo]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[$e];return null!==b&&(f[$e]=b.createEmbeddedView(h)),dC(h,f,c),new Ay(f)}};function zA(){return uh(Xi(),et())}function uh(a,c){return 4&a.type?new GA(c,a,Zu(a,c)):null}let un=(()=>{class a{}return a.__NG_ELEMENT_ID__=Xr,a})();function Xr(){return WA(Xi(),et())}const $A=un,yg=class extends $A{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){const c=ef(this._hostTNode,this._hostLView);if(ga(c)){const d=_a(c,this._hostLView),h=Vo(c);return new wo(d[St].data[h+8],d)}return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=ur(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(c,d,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const b=c.createEmbeddedView(d||{},_);return this.insert(b,f),b}createComponent(c,d,h,f,_){const b=c&&!function td(a){return"function"==typeof a}(c);let T;if(b)T=d;else{const we=d||{};T=we.index,h=we.injector,f=we.projectableNodes,_=we.environmentInjector||we.ngModuleRef}const F=b?c:new Zp(Vt(c)),Z=h||this.parentInjector;if(!_&&null==F.ngModule){const Ne=(b?Z:this.parentInjector).get(Yu,null);Ne&&(_=Ne)}const ae=F.create(Z,f,void 0,_);return this.insert(ae.hostView,T),ae}insert(c,d){const h=c._lView,f=h[St];if(function _u(a){return _r(a[ni])}(h)){const ae=this.indexOf(c);if(-1!==ae)this.detach(ae);else{const we=h[ni],Ne=new yg(we,we[Si],we[ni]);Ne.detach(Ne.indexOf(c))}}const _=this._adjustIndex(d),b=this._lContainer;!function Wr(a,c,d,h){const f=Wn+h,_=d.length;h>0&&(d[f-1][Vr]=c),h<_-Wn?(c[Vr]=d[f],fp(d,Wn+h,c)):(d.push(c),c[Vr]=null),c[ni]=d;const b=c[Fo];null!==b&&d!==b&&function rc(a,c){const d=a[On];c[yi]!==c[ni][ni][yi]&&(a[Qn]=!0),null===d?a[On]=[c]:d.push(c)}(b,c);const T=c[$e];null!==T&&T.insertView(a),c[Jt]|=64}(f,h,b,_);const T=xd(_,b),F=h[fn],Z=oc(F,b[Kn]);return null!==Z&&function Ma(a,c,d,h,f,_){h[Ur]=f,h[Si]=c,Sd(a,h,d,1,f,_)}(f,b[Si],F,h,Z,T),c.attachToViewContainerRef(),fp(La(b),_,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=ur(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=Vu(this._lContainer,d);h&&(Sa(La(this._lContainer),d),_f(h[St],h))}detach(c){const d=this._adjustIndex(c,-1),h=Vu(this._lContainer,d);return h&&null!=Sa(La(this._lContainer),d)?new Ay(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function ur(a){return a[Mi]}function La(a){return a[Mi]||(a[Mi]=[])}function WA(a,c){let d;const h=c[a.index];if(_r(h))d=h;else{let f;if(8&a.type)f=cr(h);else{const _=c[fn];f=_.createComment("");const b=dr(a,c);sc(_,oc(_,b),f,function xf(a,c){return a.nextSibling(c)}(_,b),!1)}c[a.index]=d=gb(h,c,f,a),Bf(c,d)}return new yg(d,a,c)}class fw{constructor(c){this.queryList=c,this.matches=null}clone(){return new fw(this.queryList)}setDirty(){this.queryList.setDirty()}}class mw{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,f=[];for(let _=0;_<h;_++){const b=d.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new mw(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==yw(c,d).matches&&this.queries[d].setDirty()}}class oS{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class pw{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(c,f);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new pw(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class dm{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new dm(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(c,d,aS(d,_)),this.matchTNodeWithReadOption(c,d,va(d,c,_,!1,!1))}else h===_g?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,va(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Mf||f===un||f===_g&&4&d.type)this.addMatch(d.index,-2);else{const _=va(d,c,f,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function aS(a,c){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function KA(a,c,d,h){return-1===d?function qA(a,c){return 11&a.type?Zu(a,c):4&a.type?uh(a,c):null}(c,a):-2===d?function YA(a,c,d){return d===Mf?Zu(c,a):d===_g?uh(c,a):d===un?WA(c,a):void 0}(a,c,h):Fi(a,a[St],d,c)}function gw(a,c,d,h){const f=c[$e].queries[h];if(null===f.matches){const _=a.data,b=d.matches,T=[];for(let F=0;F<b.length;F+=2){const Z=b[F];T.push(Z<0?null:KA(c,_[Z],b[F+1],d.metadata.read))}f.matches=T}return f.matches}function hh(a,c,d,h){const f=a.queries.getByIndex(d),_=f.matches;if(null!==_){const b=gw(a,c,f,d);for(let T=0;T<_.length;T+=2){const F=_[T];if(F>0)h.push(b[T/2]);else{const Z=_[T+1],ae=c[-F];for(let we=Wn;we<ae.length;we++){const Ne=ae[we];Ne[Fo]===Ne[ni]&&hh(Ne[St],Ne,Z,h)}if(null!==ae[On]){const we=ae[On];for(let Ne=0;Ne<we.length;Ne++){const ze=we[Ne];hh(ze[St],ze,Z,h)}}}}}return h}function lS(a){const c=et(),d=mn(),h=yu();Vc(h+1);const f=yw(d,h);if(a.dirty&&function Pc(a){return 4==(4&a[Jt])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?hh(d,c,h,[]):gw(d,c,f,h);a.reset(_,zE),a.notifyOnChanges()}return!0}return!1}function _w(a,c,d){const h=mn();h.firstCreatePass&&(h0(h,new oS(a,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),uS(h,et(),c)}function cS(a,c,d,h){const f=mn();if(f.firstCreatePass){const _=Xi();h0(f,new oS(c,d,h),_.index),function f0(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}uS(f,et(),d)}function dS(){return function OL(a,c){return a[$e].queries[c].queryList}(et(),yu())}function uS(a,c,d){const h=new gg(4==(4&d));bM(a,c,h,h.destroy),null===c[$e]&&(c[$e]=new mw),c[$e].queries.push(new fw(h))}function h0(a,c,d){null===a.queries&&(a.queries=new pw),a.queries.track(new dm(c,d))}function yw(a,c){return a.queries.getByIndex(c)}function hS(a,c){return uh(a,c)}function mS(a){return!!Di(a)}function Ew(...a){}const y0=new kn("Application Initializer");let Cw=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Ew,this.reject=Ew,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Hd(_))d.push(_);else if(UC(_)){const b=new Promise((T,F)=>{_.subscribe({complete:T,error:F})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(Rn(y0,8))},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const dk=new kn("AppId",{providedIn:"root",factory:function ES(){return`${mh()}${mh()}${mh()}`}});function mh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CS=new kn("Platform Initializer"),uk=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zL=new kn("AnimationModuleType");let $L=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Kd=new kn("LocaleId",{providedIn:"root",factory:()=>ui(Kd,xt.Optional|xt.SkipSelf)||function hk(){return typeof $localize<"u"&&$localize.locale||ag}()}),fk=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class SS{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let Sw=(()=>{class a{compileModuleSync(d){return new lm(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=_l(Di(d).declarations).reduce((b,T)=>{const F=Vt(T);return F&&b.push(new Zp(F)),b},[]);return new SS(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ZL=(()=>Promise.resolve(0))();function DS(a){typeof Zone>"u"?ZL.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Va{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function XL(){let a=Zt.requestAnimationFrame,c=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function gk(a){const c=()=>{!function JL(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,AS(a),a.isCheckStableRunning=!0,MS(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),AS(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,_,b,T)=>{try{return _k(a),d.invokeTask(f,_,b,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&c(),yk(a)}},onInvoke:(d,h,f,_,b,T,F)=>{try{return _k(a),d.invoke(f,_,b,T,F)}finally{a.shouldCoalesceRunChangeDetection&&c(),yk(a)}},onHasTask:(d,h,f,_)=>{d.hasTask(f,_),h===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,AS(a),MS(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,f,_)=>(d.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Va.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(Va.isInAngularZone())throw new W(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,c,QL,Ew,Ew);try{return _.runTask(b,d,h)}finally{_.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const QL={};function MS(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function AS(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function _k(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function yk(a){a._nesting--,MS(a)}class e3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,f){return c.apply(d,h)}}const v0=new kn(""),vk=new kn("");let kS,t3=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kS||(function n3(a){kS=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Va.assertNotInAngularZone(),DS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DS(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(Rn(Va),Rn(bk),Rn(vk))},a.\u0275prov=ce({token:a,factory:a.\u0275fac}),a})(),bk=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return kS?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Yd=!1;let ph=null;const wk=new kn("AllowMultipleToken"),RS=new kn("PlatformDestroyListeners"),xk=new kn("appBootstrapListener");class o3{constructor(c,d){this.name=c,this.token=d}}function Ck(a,c,d=[]){const h=`Platform: ${c}`,f=new kn(h);return(_=[])=>{let b=OS();if(!b||b.injector.get(wk,!1)){const T=[...d,..._,{provide:f,useValue:!0}];a?a(T):function a3(a){if(ph&&!ph.get(wk,!1))throw new W(400,!1);ph=a;const c=a.get(Tk);(function Ek(a){const c=a.get(CS,null);c&&c.forEach(d=>d())})(a)}(function Sk(a=[],c){return Rf.create({name:c,providers:[{provide:qv,useValue:"platform"},{provide:RS,useValue:new Set([()=>ph=null])},...a]})}(T,h))}return function c3(a){const c=OS();if(!c)throw new W(401,!1);return c}()}}function OS(){return ph?.get(Tk)??null}let Tk=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function FS(a,c){let d;return d="noop"===a?new e3:("zone.js"===a?void 0:a)||new Va(c),d}(h?.ngZone,function PS(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Va,useValue:f}];return f.run(()=>{const b=Rf.create({providers:_,parent:this.injector,name:d.moduleType.name}),T=d.create(b),F=T.injector.get(Af,null);if(!F)throw new W(402,!1);return f.runOutsideAngular(()=>{const Z=f.onError.subscribe({next:ae=>{F.handleError(ae)}});T.onDestroy(()=>{Iw(this._modules,T),Z.unsubscribe()})}),function Ik(a,c,d){try{const h=d();return Hd(h)?h.catch(f=>{throw c.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(F,f,()=>{const Z=T.injector.get(Cw);return Z.runInitializers(),Z.donePromise.then(()=>(function _1(a){ye(a,"Expected localeId to be defined"),"string"==typeof a&&(g1=a.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Kd,ag)||ag),this._moduleDoBootstrap(T),T))})})}bootstrapModule(d,h=[]){const f=Dk({},h);return function r3(a,c,d){const h=new lm(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(d){const h=d.injector.get(Tw);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new W(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(RS,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(Rn(Rf))},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Dk(a,c){return Array.isArray(c)?c.reduce(Dk,a):{...a,...c}}let Tw=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new L.y(T=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Va.assertNotInAngularZone(),DS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{Va.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{F.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,X.T)(_,b.pipe((0,H.B)()))}bootstrap(d,h){const f=d instanceof Fd;if(!this._injector.get(Cw).done){!f&&ji(d);throw new W(405,Yd)}let b;b=f?d:this._injector.get(Hp).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const T=function s3(a){return a.isBoundToModule}(b)?void 0:this._injector.get(am),Z=b.create(Rf.NULL,[],h||b.selector,T),ae=Z.location.nativeElement,we=Z.injector.get(v0,null);return we?.registerApplication(ae),Z.onDestroy(()=>{this.detachView(Z.hostView),Iw(this.components,Z),we?.unregisterApplication(ae)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Iw(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(xk,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Iw(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new W(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(Rn(Va),Rn(Yu),Rn(Af))},a.\u0275prov=ce({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Iw(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}function u3(){return!1}function h3(){}let f3=(()=>{class a{}return a.__NG_ELEMENT_ID__=m3,a})();function m3(a){return function p3(a,c,d){if(Xa(a)&&!d){const h=Zi(a.index,c);return new Ay(h,h)}return 47&a.type?new Ay(c[yi],c):null}(Xi(),et(),16==(16&a))}class Ok{constructor(){}supports(c){return Sb(c)}create(c){return new w3(c)}}const b3=(a,c)=>c;class w3{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||b3}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,f=0,_=null;for(;d||h;){const b=!h||d&&d.currentIndex<Fk(h,f,_)?d:h,T=Fk(b,f,_),F=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)f++;else{_||(_=[]);const Z=T-f,ae=F-f;if(Z!=ae){for(let Ne=0;Ne<Z;Ne++){const ze=Ne<_.length?_[Ne]:_[Ne]=0,it=ze+Ne;ae<=it&&it<Z&&(_[Ne]=ze+1)}_[b.previousIndex]=ae-Z}}T!==F&&c(b,T,F)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Sb(c))throw new W(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,_,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let T=0;T<this.length;T++)_=c[T],b=this._trackByFn(T,_),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,_,b,T)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,T),h=!0),d=d._next}else f=0,function PC(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,T=>{b=this._trackByFn(f,T),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,T,b,f)),Object.is(d.item,T)||this._addIdentityChange(d,T)):(d=this._mismatch(d,T,b,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,f){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,f)):c=this._addAfter(new x3(d,h),_,f),c}_verifyReinsertion(c,d,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,_=c._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const f=null===d?this._itHead:d._next;return c._next=f,c._prev=d,null===f?this._itTail=c:f._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Pk),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pk),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class x3{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E3{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Pk{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new E3,this.map.set(d,h)),h.add(c)}get(c,d){const f=this.map.get(c);return f?f.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fk(a,c,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+c+f}class Nk{constructor(){}supports(c){return c instanceof Map||At(c)}create(){return new C3}}class C3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||At(c)))throw new W(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,d);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const h=new S3(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class S3{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lk(){return new VS([new Ok])}let VS=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||Lk()),deps:[[a,new Ru,new od]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new W(901,!1)}}return a.\u0275prov=ce({token:a,providedIn:"root",factory:Lk}),a})();function Bk(){return new HS([new Nk])}let HS=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||Bk()),deps:[[a,new Ru,new od]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new W(901,!1)}}return a.\u0275prov=ce({token:a,providedIn:"root",factory:Bk}),a})();const b0=Ck(null,"core",[]);let jS=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(Rn(Tw))},a.\u0275mod=Ge({type:a}),a.\u0275inj=Xe({}),a})();function Cg(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},6101:(Ce,V,C)=>{C.d(V,{Z:()=>U});var o=C(5578),$=C(1617),L=C(7212);C(1877);class H{constructor(W,ne){this._delegate=W,this.firebase=ne,(0,L._addComponent)(W,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(W,ne=L._DEFAULT_ENTRY_NAME){var E;this._delegate.checkDestroyed();const G=this._delegate.container.getProvider(W);return!G.isInitialized()&&"EXPLICIT"===(null===(E=G.getComponent())||void 0===E?void 0:E.instantiationMode)&&G.initialize(),G.getImmediate({identifier:ne})}_removeServiceInstance(W,ne=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ne)}_addComponent(W){(0,L._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,L._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const R=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function k(){const Y=function D(Y){const W={},ne={__esModule:!0,initializeApp:function K(me,ue={}){const J=L.initializeApp(me,ue);if((0,o.r3)(W,J.name))return W[J.name];const he=new Y(J,ne);return W[J.name]=he,he},app:G,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function se(me){const ue=me.name,J=ue.replace("-compat","");if(L._registerComponent(me)&&"PUBLIC"===me.type){const he=(xe=G())=>{if("function"!=typeof xe[J])throw R.create("invalid-app-argument",{appName:ue});return xe[J]()};void 0!==me.serviceProps&&(0,o.ZB)(he,me.serviceProps),ne[J]=he,Y.prototype[J]=function(...xe){return this._getService.bind(this,ue).apply(this,me.multipleInstances?xe:[])}}return"PUBLIC"===me.type?ne[J]:null},removeApp:function E(me){delete W[me]},useAsService:function ie(me,ue){return"serverAuth"===ue?null:ue},modularAPIs:L}};function G(me){if(!(0,o.r3)(W,me=me||L._DEFAULT_ENTRY_NAME))throw R.create("no-app",{appName:me});return W[me]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function te(){return Object.keys(W).map(me=>W[me])}}),G.App=Y,ne}(H);return Y.INTERNAL=Object.assign(Object.assign({},Y.INTERNAL),{createFirebaseNamespace:k,extendNamespace:function W(ne){(0,o.ZB)(Y,ne)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Y}const I=k();(0,o.jU)()&&void 0!==self.firebase&&self;const U=I},7212:(Ce,V,C)=>{C.r(V),C.d(V,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>Et,_addOrOverwriteComponent:()=>jt,_apps:()=>Zt,_clearComponents:()=>Hn,_components:()=>cn,_getProvider:()=>Ii,_registerComponent:()=>Vn,_removeServiceInstance:()=>Ln,deleteApp:()=>Lr,getApp:()=>hs,getApps:()=>Rn,initializeApp:()=>_n,onLog:()=>ts,registerVersion:()=>gi,setLogLevel:()=>ti});var o=C(5861),$=C(1617),L=C(1877),X=C(5578);const H=(Je,Ge)=>Ge.some(lt=>Je instanceof lt);let M,R;const I=new WeakMap,A=new WeakMap,O=new WeakMap,j=new WeakMap,B=new WeakMap;let W={get(Je,Ge,lt){if(Je instanceof IDBTransaction){if("done"===Ge)return A.get(Je);if("objectStoreNames"===Ge)return Je.objectStoreNames||O.get(Je);if("store"===Ge)return lt.objectStoreNames[1]?void 0:lt.objectStore(lt.objectStoreNames[0])}return K(Je[Ge])},set:(Je,Ge,lt)=>(Je[Ge]=lt,!0),has:(Je,Ge)=>Je instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Je};function G(Je){return"function"==typeof Je?function E(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function k(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...Ge){return Je.apply(te(this),Ge),K(I.get(this))}:function(...Ge){return K(Je.apply(te(this),Ge))}:function(Ge,...lt){const Bt=Je.call(te(this),Ge,...lt);return O.set(Bt,Ge.sort?Ge.sort():[Ge]),K(Bt)}}(Je):(Je instanceof IDBTransaction&&function Y(Je){if(A.has(Je))return;const Ge=new Promise((lt,Bt)=>{const $t=()=>{Je.removeEventListener("complete",dn),Je.removeEventListener("error",Vt),Je.removeEventListener("abort",Vt)},dn=()=>{lt(),$t()},Vt=()=>{Bt(Je.error||new DOMException("AbortError","AbortError")),$t()};Je.addEventListener("complete",dn),Je.addEventListener("error",Vt),Je.addEventListener("abort",Vt)});A.set(Je,Ge)}(Je),H(Je,function D(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,W):Je)}function K(Je){if(Je instanceof IDBRequest)return function U(Je){const Ge=new Promise((lt,Bt)=>{const $t=()=>{Je.removeEventListener("success",dn),Je.removeEventListener("error",Vt)},dn=()=>{lt(K(Je.result)),$t()},Vt=()=>{Bt(Je.error),$t()};Je.addEventListener("success",dn),Je.addEventListener("error",Vt)});return Ge.then(lt=>{lt instanceof IDBCursor&&I.set(lt,Je)}).catch(()=>{}),B.set(Ge,Je),Ge}(Je);if(j.has(Je))return j.get(Je);const Ge=G(Je);return Ge!==Je&&(j.set(Je,Ge),B.set(Ge,Je)),Ge}const te=Je=>B.get(Je),me=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],J=new Map;function he(Je,Ge){if(!(Je instanceof IDBDatabase)||Ge in Je||"string"!=typeof Ge)return;if(J.get(Ge))return J.get(Ge);const lt=Ge.replace(/FromIndex$/,""),Bt=Ge!==lt,$t=ue.includes(lt);if(!(lt in(Bt?IDBIndex:IDBObjectStore).prototype)||!$t&&!me.includes(lt))return;const dn=function(){var Vt=(0,o.Z)(function*(Dn,...Sn){const ji=this.transaction(Dn,$t?"readwrite":"readonly");let Di=ji.store;return Bt&&(Di=Di.index(Sn.shift())),(yield Promise.all([Di[lt](...Sn),$t&&ji.done]))[0]});return function(Sn){return Vt.apply(this,arguments)}}();return J.set(Ge,dn),dn}!function ne(Je){W=Je(W)}(Je=>({...Je,get:(Ge,lt,Bt)=>he(Ge,lt)||Je.get(Ge,lt,Bt),has:(Ge,lt)=>!!he(Ge,lt)||Je.has(Ge,lt)}));const de=new L.Yd("@firebase/app"),hn="[DEFAULT]",oi={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,cn=new Map;function Et(Je,Ge){try{Je.container.addComponent(Ge)}catch(lt){de.debug(`Component ${Ge.name} failed to register with FirebaseApp ${Je.name}`,lt)}}function jt(Je,Ge){Je.container.addOrOverwriteComponent(Ge)}function Vn(Je){const Ge=Je.name;if(cn.has(Ge))return de.debug(`There were multiple attempts to register component ${Ge}.`),!1;cn.set(Ge,Je);for(const lt of Zt.values())Et(lt,Je);return!0}function Ii(Je,Ge){const lt=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),Je.container.getProvider(Ge)}function Ln(Je,Ge,lt=hn){Ii(Je,Ge).clearInstance(lt)}function Hn(){cn.clear()}const Xn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class an{constructor(Ge,lt,Bt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Pi="9.23.0";function _n(Je,Ge={}){let lt=Je;"object"!=typeof Ge&&(Ge={name:Ge});const Bt=Object.assign({name:hn,automaticDataCollectionEnabled:!1},Ge),$t=Bt.name;if("string"!=typeof $t||!$t)throw Xn.create("bad-app-name",{appName:String($t)});if(lt||(lt=(0,X.aH)()),!lt)throw Xn.create("no-options");const dn=Zt.get($t);if(dn){if((0,X.vZ)(lt,dn.options)&&(0,X.vZ)(Bt,dn.config))return dn;throw Xn.create("duplicate-app",{appName:$t})}const Vt=new $.H0($t);for(const Sn of cn.values())Vt.addComponent(Sn);const Dn=new an(lt,Bt,Vt);return Zt.set($t,Dn),Dn}function hs(Je=hn){const Ge=Zt.get(Je);if(!Ge&&Je===hn&&(0,X.aH)())return _n();if(!Ge)throw Xn.create("no-app",{appName:Je});return Ge}function Rn(){return Array.from(Zt.values())}function Lr(Je){return ui.apply(this,arguments)}function ui(){return(ui=(0,o.Z)(function*(Je){const Ge=Je.name;Zt.has(Ge)&&(Zt.delete(Ge),yield Promise.all(Je.container.getProviders().map(lt=>lt.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function gi(Je,Ge,lt){var Bt;let $t=null!==(Bt=oi[Je])&&void 0!==Bt?Bt:Je;lt&&($t+=`-${lt}`);const dn=$t.match(/\s|\//),Vt=Ge.match(/\s|\//);if(dn||Vt){const Dn=[`Unable to register library "${$t}" with version "${Ge}":`];return dn&&Dn.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),dn&&Vt&&Dn.push("and"),Vt&&Dn.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void de.warn(Dn.join(" "))}Vn(new $.wA(`${$t}-version`,()=>({library:$t,version:Ge}),"VERSION"))}function ts(Je,Ge){if(null!==Je&&"function"!=typeof Je)throw Xn.create("invalid-log-argument");(0,L.Am)(Je,Ge)}function ti(Je){(0,L.Ub)(Je)}},1617:(Ce,V,C)=>{C.d(V,{H0:()=>D,wA:()=>L,zt:()=>H});var o=C(5861),$=C(5578);class L{constructor(I,A,O){this.name=I,this.instanceFactory=A,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(I){return this.instantiationMode=I,this}setMultipleInstances(I){return this.multipleInstances=I,this}setServiceProps(I){return this.serviceProps=I,this}setInstanceCreatedCallback(I){return this.onInstanceCreated=I,this}}const X="[DEFAULT]";class H{constructor(I,A){this.name=I,this.container=A,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(I){const A=this.normalizeInstanceIdentifier(I);if(!this.instancesDeferred.has(A)){const O=new $.BH;if(this.instancesDeferred.set(A,O),this.isInitialized(A)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:A});j&&O.resolve(j)}catch{}}return this.instancesDeferred.get(A).promise}getImmediate(I){var A;const O=this.normalizeInstanceIdentifier(I?.identifier),j=null!==(A=I?.optional)&&void 0!==A&&A;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(B){if(j)return null;throw B}}getComponent(){return this.component}setComponent(I){if(I.name!==this.name)throw Error(`Mismatching Component ${I.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=I,this.shouldAutoInitialize()){if(function R(k){return"EAGER"===k.instantiationMode}(I))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[A,O]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(A);try{const B=this.getOrInitializeService({instanceIdentifier:j});O.resolve(B)}catch{}}}}clearInstance(I=X){this.instancesDeferred.delete(I),this.instancesOptions.delete(I),this.instances.delete(I)}delete(){var I=this;return(0,o.Z)(function*(){const A=Array.from(I.instances.values());yield Promise.all([...A.filter(O=>"INTERNAL"in O).map(O=>O.INTERNAL.delete()),...A.filter(O=>"_delete"in O).map(O=>O._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(I=X){return this.instances.has(I)}getOptions(I=X){return this.instancesOptions.get(I)||{}}initialize(I={}){const{options:A={}}=I,O=this.normalizeInstanceIdentifier(I.instanceIdentifier);if(this.isInitialized(O))throw Error(`${this.name}(${O}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:O,options:A});for(const[B,U]of this.instancesDeferred.entries())O===this.normalizeInstanceIdentifier(B)&&U.resolve(j);return j}onInit(I,A){var O;const j=this.normalizeInstanceIdentifier(A),B=null!==(O=this.onInitCallbacks.get(j))&&void 0!==O?O:new Set;B.add(I),this.onInitCallbacks.set(j,B);const U=this.instances.get(j);return U&&I(U,j),()=>{B.delete(I)}}invokeOnInitCallbacks(I,A){const O=this.onInitCallbacks.get(A);if(O)for(const j of O)try{j(I,A)}catch{}}getOrInitializeService({instanceIdentifier:I,options:A={}}){let O=this.instances.get(I);if(!O&&this.component&&(O=this.component.instanceFactory(this.container,{instanceIdentifier:(k=I,k===X?void 0:k),options:A}),this.instances.set(I,O),this.instancesOptions.set(I,A),this.invokeOnInitCallbacks(O,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,O)}catch{}var k;return O||null}normalizeInstanceIdentifier(I=X){return this.component?this.component.multipleInstances?I:X:I}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(I){this.name=I,this.providers=new Map}addComponent(I){const A=this.getProvider(I.name);if(A.isComponentSet())throw new Error(`Component ${I.name} has already been registered with ${this.name}`);A.setComponent(I)}addOrOverwriteComponent(I){this.getProvider(I.name).isComponentSet()&&this.providers.delete(I.name),this.addComponent(I)}getProvider(I){if(this.providers.has(I))return this.providers.get(I);const A=new H(I,this);return this.providers.set(I,A),A}getProviders(){return Array.from(this.providers.values())}}},8140:(Ce,V,C)=>{C.d(V,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=C(7212)},1274:(Ce,V,C)=>{C.d(V,{Z:()=>o.Z});var o=C(6101)},8463:(Ce,V,C)=>{C.r(V);var o=C(5861),$=C(6101),L=C(5578),X=C(7212),H=C(7582),M=C(1877);C(1617);const k={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function B(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y=B,W=new L.LL("auth","Firebase",B()),E=new M.Yd("@firebase/auth");function K(v,...p){E.logLevel<=M.in.ERROR&&E.error(`Auth (${X.SDK_VERSION}): ${v}`,...p)}function te(v,...p){throw ue(v,...p)}function se(v,...p){return ue(v,...p)}function ie(v,p,g){const x=Object.assign(Object.assign({},Y()),{[p]:g});return new L.LL("auth","Firebase",x).create(p,{appName:v.name})}function me(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&te(v,"argument-error"),ie(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ue(v,...p){if("string"!=typeof v){const g=p[0],x=[...p.slice(1)];return x[0]&&(x[0].appName=v.name),v._errorFactory.create(g,...x)}return W.create(v,...p)}function J(v,p,...g){if(!v)throw ue(p,...g)}function he(v){const p="INTERNAL ASSERTION FAILED: "+v;throw K(p),new Error(p)}function xe(v,p){v||he(p)}function Re(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function re(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Fe{constructor(p,g){this.shortDelay=p,this.longDelay=g,xe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function de(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function z(){return"http:"===re()||"https:"===re()}()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(v,p){xe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class tt{static initialize(p,g,x){this.fetchImpl=p,g&&(this.headersImpl=g),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new Fe(3e4,6e4);function ge(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Te(v,p,g,x){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.Z)(function*(v,p,g,x,q={}){return ce(v,q,(0,o.Z)(function*(){let oe={},De={};x&&("GET"===p?De=x:oe={body:JSON.stringify(x)});const He=(0,L.xO)(Object.assign({key:v.config.apiKey},De)).slice(1),ot=yield v._getAdditionalHeaders();return ot["Content-Type"]="application/json",v.languageCode&&(ot["X-Firebase-Locale"]=v.languageCode),tt.fetch()(Ke(v,v.config.apiHost,g,He),Object.assign({method:p,headers:ot,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function ce(v,p,g){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,o.Z)(function*(v,p,g){v._canInitEmulator=!1;const x=Object.assign(Object.assign({},ye),p);try{const q=new dt(v),oe=yield Promise.race([g(),q.promise]);q.clearNetworkTimeout();const De=yield oe.json();if("needConfirmation"in De)throw Tt(v,"account-exists-with-different-credential",De);if(oe.ok&&!("errorMessage"in De))return De;{const He=oe.ok?De.errorMessage:De.error.message,[ot,yt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw Tt(v,"credential-already-in-use",De);if("EMAIL_EXISTS"===ot)throw Tt(v,"email-already-in-use",De);if("USER_DISABLED"===ot)throw Tt(v,"user-disabled",De);const Rt=x[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw ie(v,Rt,yt);te(v,Rt)}}catch(q){if(q instanceof L.ZR)throw q;te(v,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function Xe(v,p,g,x){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(v,p,g,x,q={}){const oe=yield Te(v,p,g,x,q);return"mfaPendingCredential"in oe&&te(v,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Ke(v,p,g,x){const q=`${p}${g}?${x}`;return v.config.emulator?Le(v.config,q):`${v.config.apiScheme}://${q}`}class dt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,x)=>{this.timer=setTimeout(()=>x(se(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(v,p,g){const x={appName:v.name};g.email&&(x.email=g.email),g.phoneNumber&&(x.phoneNumber=g.phoneNumber);const q=se(v,p,x);return q.customData._tokenResponse=g,q}function bt(){return(bt=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xt(){return(xt=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pi(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function hn(){return(hn=(0,o.Z)(function*(v,p=!1){const g=(0,L.m9)(v),x=yield g.getIdToken(p),q=Zt(x);J(q&&q.exp&&q.auth_time&&q.iat,g.auth,"internal-error");const oe="object"==typeof q.firebase?q.firebase:void 0,De=oe?.sign_in_provider;return{claims:q,token:x,authTime:pi(oi(q.auth_time)),issuedAtTime:pi(oi(q.iat)),expirationTime:pi(oi(q.exp)),signInProvider:De||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function oi(v){return 1e3*Number(v)}function Zt(v){const[p,g,x]=v.split(".");if(void 0===p||void 0===g||void 0===x)return K("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,L.tV)(g);return q?JSON.parse(q):(K("Failed to decode base64 JWT payload"),null)}catch(q){return K("Caught error parsing JWT payload as JSON",q?.toString()),null}}function Et(v,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(x){throw x instanceof L.ZR&&function Vn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(x)&&v.auth.currentUser===v&&(yield v.auth.signOut()),x}})).apply(this,arguments)}class Ii{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const q=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const x=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield g.iteration()}),x)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Ln{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(v){return qn.apply(this,arguments)}function qn(){return qn=(0,o.Z)(function*(v){var p;const g=v.auth,x=yield v.getIdToken(),q=yield Et(v,function Ht(v,p){return xt.apply(this,arguments)}(g,{idToken:x}));J(q?.users.length,g,"internal-error");const oe=q.users[0];v._notifyReloadListener(oe);const De=null!==(p=oe.providerUserInfo)&&void 0!==p&&p.length?function _n(v){return v.map(p=>{var{providerId:g}=p,x=(0,H._T)(p,["providerId"]);return{providerId:g,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(oe.providerUserInfo):[],He=function Pi(v,p){return[...v.filter(x=>!p.some(q=>q.providerId===x.providerId)),...p]}(v.providerData,De),Rt=!!v.isAnonymous&&!(v.email&&oe.passwordHash||He?.length),Pt={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:He,metadata:new Ln(oe.createdAt,oe.lastLoginAt),isAnonymous:Rt};Object.assign(v,Pt)}),qn.apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(v){const p=(0,L.m9)(v);yield Hn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Rn(){return(Rn=(0,o.Z)(function*(v,p){const g=yield ce(v,{},(0,o.Z)(function*(){const x=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:q,apiKey:oe}=v.config,De=Ke(v,q,"/v1/token",`key=${oe}`),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(De,{method:"POST",headers:He,body:x})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){J(p.idToken,"internal-error"),J(typeof p.idToken<"u","internal-error"),J(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function cn(v){const p=Zt(v);return J(p,"internal-error"),J(typeof p.exp<"u","internal-error"),J(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var x=this;return(0,o.Z)(function*(){return J(!x.accessToken||x.refreshToken,p,"user-token-expired"),g||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(p,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var x=this;return(0,o.Z)(function*(){const{accessToken:q,refreshToken:oe,expiresIn:De}=yield function hs(v,p){return Rn.apply(this,arguments)}(p,g);x.updateTokensAndExpiration(q,oe,Number(De))})()}updateTokensAndExpiration(p,g,x){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(p,g){const{refreshToken:x,accessToken:q,expirationTime:oe}=g,De=new Lr;return x&&(J("string"==typeof x,"internal-error",{appName:p}),De.refreshToken=x),q&&(J("string"==typeof q,"internal-error",{appName:p}),De.accessToken=q),oe&&(J("number"==typeof oe,"internal-error",{appName:p}),De.expirationTime=oe),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return he("not implemented")}}function ui(v,p){J("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class gi{constructor(p){var{uid:g,auth:x,stsTokenManager:q}=p,oe=(0,H._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=x,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Ln(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,o.Z)(function*(){const x=yield Et(g,g.stsTokenManager.getToken(g.auth,p));return J(x,g.auth,"internal-error"),g.accessToken!==x&&(g.accessToken=x,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),x})()}getIdTokenResult(p){return function di(v){return hn.apply(this,arguments)}(this,p)}reload(){return function Xn(v){return an.apply(this,arguments)}(this)}_assign(p){this!==p&&(J(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new gi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var x=this;return(0,o.Z)(function*(){let q=!1;p.idToken&&p.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(p),q=!0),g&&(yield Hn(x)),yield x.auth._persistUserIfCurrent(x),q&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var p=this;return(0,o.Z)(function*(){const g=yield p.getIdToken();return yield Et(p,function gn(v,p){return bt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var x,q,oe,De,He,ot,yt,Rt;const Pt=null!==(x=g.displayName)&&void 0!==x?x:void 0,ri=null!==(q=g.email)&&void 0!==q?q:void 0,Js=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,Pd=null!==(De=g.photoURL)&&void 0!==De?De:void 0,Wu=null!==(He=g.tenantId)&&void 0!==He?He:void 0,Ai=null!==(ot=g._redirectEventId)&&void 0!==ot?ot:void 0,Pp=null!==(yt=g.createdAt)&&void 0!==yt?yt:void 0,Fp=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:qu,emailVerified:bs,isAnonymous:cc,providerData:Np,stsTokenManager:ty}=g;J(qu&&ty,p,"internal-error");const ny=Lr.fromJSON(this.name,ty);J("string"==typeof qu,p,"internal-error"),ui(Pt,p.name),ui(ri,p.name),J("boolean"==typeof bs,p,"internal-error"),J("boolean"==typeof cc,p,"internal-error"),ui(Js,p.name),ui(Pd,p.name),ui(Wu,p.name),ui(Ai,p.name),ui(Pp,p.name),ui(Fp,p.name);const If=new gi({uid:qu,auth:p,email:ri,emailVerified:bs,displayName:Pt,isAnonymous:cc,photoURL:Pd,phoneNumber:Js,tenantId:Wu,stsTokenManager:ny,createdAt:Pp,lastLoginAt:Fp});return Np&&Array.isArray(Np)&&(If.providerData=Np.map(jv=>Object.assign({},jv))),Ai&&(If._redirectEventId=Ai),If}static _fromIdTokenResponse(p,g,x=!1){return(0,o.Z)(function*(){const q=new Lr;q.updateFromServerResponse(g);const oe=new gi({uid:g.localId,auth:p,stsTokenManager:q,isAnonymous:x});return yield Hn(oe),oe})()}}const ts=new Map;function ti(v){xe(v instanceof Function,"Expected a class definition");let p=ts.get(v);return p?(xe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ts.set(v,p),p)}function Me(v,p,g){return`firebase:${v}:${p}:${g}`}function je(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function In(v=(0,L.z$)()){return/android/i.test(v)}function Bn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function fs(v=(0,L.z$)()){return Bn(v)||In(v)||function ai(v=(0,L.z$)()){return/webos/i.test(v)}(v)||function Ci(v=(0,L.z$)()){return/blackberry/i.test(v)}(v)||/windows phone/i.test(v)||function qt(v=(0,L.z$)()){return/iemobile/i.test(v)}(v)}function $n(v){return(0,L.m9)(v)}class Hr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return he("not implemented")}_getIdTokenResponse(p){return he("not implemented")}_linkToIdToken(p,g){return he("not implemented")}_getReauthenticationResolver(p){return he("not implemented")}}function Fo(v,p){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gt(v,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:sendOobCode",ge(v,p))})).apply(this,arguments)}function Kn(){return(Kn=(0,o.Z)(function*(v,p){return gt(v,p)})).apply(this,arguments)}function _r(){return(_r=(0,o.Z)(function*(v,p){return gt(v,p)})).apply(this,arguments)}function Rs(v,p){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,o.Z)(function*(v,p){return Xe(v,"POST","/v1/accounts:signInWithIdp",ge(v,p))})).apply(this,arguments)}class fo extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new fo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:q}=g,oe=(0,H._T)(g,["providerId","signInMethod"]);if(!x||!q)return null;const De=new fo(x,q);return De.idToken=oe.idToken||void 0,De.accessToken=oe.accessToken||void 0,De.secret=oe.secret,De.nonce=oe.nonce,De.pendingToken=oe.pendingToken||null,De}_getIdTokenResponse(p){return Rs(p,this.buildRequest())}_linkToIdToken(p,g){const x=this.buildRequest();return x.idToken=g,Rs(p,x)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Rs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function mu(){return(mu=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:sendVerificationCode",ge(v,p))})).apply(this,arguments)}function Fh(){return(Fh=(0,o.Z)(function*(v,p){return Xe(v,"POST","/v1/accounts:signInWithPhoneNumber",ge(v,p))})).apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(v,p){const g=yield Xe(v,"POST","/v1/accounts:signInWithPhoneNumber",ge(v,p));if(g.temporaryProof)throw Tt(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Nh={USER_NOT_FOUND:"user-not-found"};function kc(){return(kc=(0,o.Z)(function*(v,p){return Xe(v,"POST","/v1/accounts:signInWithPhoneNumber",ge(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Nh)})).apply(this,arguments)}class ii extends Hr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ii({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ii({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function w_(v,p){return Fh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function x_(v,p){return Ac.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Mv(v,p){return kc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:x,verificationCode:q}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:x,code:q}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:x,phoneNumber:q,temporaryProof:oe}=p;return x||g||q||oe?new ii({verificationId:g,verificationCode:x,phoneNumber:q,temporaryProof:oe}):null}}class mo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ks extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ca extends Ks{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return J("providerId"in g&&"signInMethod"in g,"argument-error"),fo._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return J(p.idToken||p.accessToken,"argument-error"),fo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ca.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ca.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:x,oauthTokenSecret:q,pendingToken:oe,nonce:De,providerId:He}=p;if(!x&&!q&&!g&&!oe||!He)return null;try{return new ca(He)._credential({idToken:g,accessToken:x,nonce:De,pendingToken:oe})}catch{return null}}}let pu=(()=>{class v extends Ks{constructor(){super("facebook.com")}static credential(g){return fo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ol=(()=>{class v extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,x){return fo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:x})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:x,oauthAccessToken:q}=g;if(!x&&!q)return null;try{return v.credential(x,q)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Uh=(()=>{class v extends Ks{constructor(){super("github.com")}static credential(g){return fo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class No extends Hr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Rs(p,this.buildRequest())}_linkToIdToken(p,g){const x=this.buildRequest();return x.idToken=g,Rs(p,x)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Rs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:q,pendingToken:oe}=g;return x&&q&&oe&&x===q?new No(x,oe):null}static _create(p,g){return new No(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Oc=(()=>{class v extends Ks{constructor(){super("twitter.com")}static credential(g,x){return fo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:x})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:x,oauthTokenSecret:q}=g;if(!x||!q)return null;try{return v.credential(x,q)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();class Mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,x,q=!1){return(0,o.Z)(function*(){const oe=yield gi._fromIdTokenResponse(p,x,q),De=Pl(x);return new Mr({user:oe,providerId:De,_tokenResponse:x,operationType:g})})()}static _forOperation(p,g,x){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(x,!0);const q=Pl(x);return new Mr({user:p,providerId:q,_tokenResponse:x,operationType:g})})()}}function Pl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class po extends L.ZR{constructor(p,g,x,q){var oe;super(g.code,g.message),this.operationType=x,this.user=q,Object.setPrototypeOf(this,po.prototype),this.customData={appName:p.name,tenantId:null!==(oe=p.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(p,g,x,q){return new po(p,g,x,q)}}function dr(v,p,g,x){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?po._fromErrorAndOperation(v,oe,p,x):oe})}function Vh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Ar(){return Ar=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v);yield go(!0,g,p);const{providerUserInfo:x}=yield function on(v,p){return bn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),q=Vh(x||[]);return g.providerData=g.providerData.filter(oe=>q.has(oe.providerId)),q.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ar.apply(this,arguments)}function Zi(v,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,o.Z)(function*(v,p,g=!1){const x=yield Et(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Mr._forOperation(v,"link",x)})).apply(this,arguments)}function go(v,p,g){return _u.apply(this,arguments)}function _u(){return(_u=(0,o.Z)(function*(v,p,g){yield Hn(p);const q=!1===v?"provider-already-linked":"no-such-provider";J(Vh(p.providerData).has(g)===v,p.auth,q)})).apply(this,arguments)}function Bo(v,p){return el.apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(v,p,g=!1){const{auth:x}=v,q="reauthenticate";try{const oe=yield Et(v,dr(x,q,p,v),g);J(oe.idToken,x,"internal-error");const De=Zt(oe.idToken);J(De,x,"internal-error");const{sub:He}=De;return J(v.uid===He,x,"user-mismatch"),Mr._forOperation(v,q,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&te(x,"user-mismatch"),oe}})).apply(this,arguments)}function Fl(v,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(v,p,g=!1){const x="signIn",q=yield dr(v,x,p),oe=yield Mr._fromIdTokenResponse(v,x,q);return g||(yield v._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Gh(v,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v);return yield go(!1,g,p.providerId),Zi(g,p)})).apply(this,arguments)}function zh(v,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(v,p){return Bo((0,L.m9)(v),p)})).apply(this,arguments)}class Ll{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Bl._fromServerResponse(p,g):"totpInfo"in g?Xi._fromServerResponse(p,g):te(p,"internal-error")}}class Bl extends Ll{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Bl(g)}}class Xi extends Ll{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Xi(g)}}function da(v,p,g){var x;J((null===(x=g.url)||void 0===x?void 0:x.length)>0,v,"invalid-continue-uri"),J(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(J(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(J(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Hl(){return Hl=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v),q={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&da(g.auth,q,p);const{email:oe}=yield function Qn(v,p){return Kn.apply(this,arguments)}(g.auth,q);oe!==v.email&&(yield v.reload())}),Hl.apply(this,arguments)}function jl(){return jl=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&da(x.auth,oe,g);const{email:De}=yield function gr(v,p){return _r.apply(this,arguments)}(x.auth,oe);De!==v.email&&(yield v.reload())}),jl.apply(this,arguments)}function Gc(){return(Gc=(0,o.Z)(function*(v,p){return Te(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zc(){return zc=(0,o.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const x=(0,L.m9)(v),oe={idToken:yield x.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},De=yield Et(x,function Yh(v,p){return Gc.apply(this,arguments)}(x.auth,oe));x.displayName=De.displayName||null,x.photoURL=De.photoUrl||null;const He=x.providerData.find(({providerId:ot})=>"password"===ot);He&&(He.displayName=x.displayName,He.photoURL=x.photoURL),yield x._updateTokensIfNecessary(De)}),zc.apply(this,arguments)}function vi(v,p,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,o.Z)(function*(v,p,g){const{auth:x}=v,oe={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(oe.email=p),g&&(oe.password=g);const De=yield Et(v,Fo(x,oe));yield v._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class Uo{constructor(p,g,x={}){this.isNewUser=p,this.providerId=g,this.profile=x}}class sp extends Uo{constructor(p,g,x,q){super(p,g,x),this.username=q}}class Zh extends Uo{constructor(p,g){super(p,"facebook.com",g)}}class T_ extends sp{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class $c extends Uo{constructor(p,g){super(p,"google.com",g)}}class bu extends sp{constructor(p,g,x){super(p,"twitter.com",g,x)}}function wu(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function rp(v){var p,g;if(!v)return null;const{providerId:x}=v,q=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},oe=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!x&&v?.idToken){const De=null===(g=null===(p=Zt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(De)return new Uo(oe,"anonymous"!==De&&"custom"!==De?De:null)}if(!x)return null;switch(x){case"facebook.com":return new Zh(oe,q);case"github.com":return new T_(oe,q);case"google.com":return new $c(oe,q);case"twitter.com":return new bu(oe,q,v.screenName||null);case"custom":case"anonymous":return new Uo(oe,null);default:return new Uo(oe,x,q)}}(g)}class ha{constructor(p,g,x){this.type=p,this.credential=g,this.auth=x}static _fromIdtoken(p,g){return new ha("enroll",p,g)}static _fromMfaPendingCredential(p){return new ha("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,x;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ha._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(x=p.multiFactorSession)&&void 0!==x&&x.idToken)return ha._fromIdtoken(p.multiFactorSession.idToken)}return null}}class fa{constructor(p,g,x){this.session=p,this.hints=g,this.signInResolver=x}static _fromError(p,g){const x=$n(p),q=g.customData._serverResponse,oe=(q.mfaInfo||[]).map(He=>Ll._fromServerResponse(x,He));J(q.mfaPendingCredential,x,"internal-error");const De=ha._fromMfaPendingCredential(q.mfaPendingCredential);return new fa(De,oe,function(){var He=(0,o.Z)(function*(ot){const yt=yield ot._process(x,De);delete q.mfaInfo,delete q.mfaPendingCredential;const Rt=Object.assign(Object.assign({},q),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(g.operationType){case"signIn":const Pt=yield Mr._fromIdTokenResponse(x,g.operationType,Rt);return yield x._updateCurrentUser(Pt.user),Pt;case"reauthenticate":return J(g.user,x,"internal-error"),Mr._forOperation(g.user,g.operationType,Rt);default:te(x,"internal-error")}});return function(ot){return He.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,o.Z)(function*(){return g.signInResolver(p)})()}}class ga{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(x=>Ll._fromServerResponse(p.auth,x)))})}static _fromUser(p){return new ga(p)}getSession(){var p=this;return(0,o.Z)(function*(){return ha._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var x=this;return(0,o.Z)(function*(){const q=p,oe=yield x.getSession(),De=yield Et(x.user,q._process(x.user.auth,oe,g));return yield x.user._updateTokensIfNecessary(De),x.user.reload()})()}unenroll(p){var g=this;return(0,o.Z)(function*(){const x="string"==typeof p?p:p.uid,q=yield g.user.getIdToken();try{const oe=yield Et(g.user,function Kc(v,p){return Te(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ge(v,p))}(g.user.auth,{idToken:q,mfaEnrollmentId:x}));g.enrolledFactors=g.enrolledFactors.filter(({uid:De})=>De!==x),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const Vo=new WeakMap;class Yc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ya=(()=>{class v extends Yc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,x)=>this.onStorageEvent(g,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $l(){const v=(0,L.z$)();return je(v)||Bn(v)}()&&function la(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const x of Object.keys(this.listeners)){const q=this.storage.getItem(x),oe=this.localCache[x];q!==oe&&g(x,oe,q)}}onStorageEvent(g,x=!1){if(!g.key)return void this.forAllChangedKeys((He,ot,yt)=>{this.notifyListeners(He,yt)});const q=g.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(q);if(g.newValue!==He)null!==g.newValue?this.storage.setItem(q,g.newValue):this.storage.removeItem(q);else if(this.localCache[q]===g.newValue&&!x)return}const oe=()=>{const He=this.storage.getItem(q);!x&&this.localCache[q]===He||this.notifyListeners(q,He)},De=this.storage.getItem(q);!function ns(){return(0,L.w1)()&&10===document.documentMode}()||De===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,x){this.localCache[g]=x;const q=this.listeners[g];if(q)for(const oe of Array.from(q))oe(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,x,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:x,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(x)}_removeListener(g,x){this.listeners[g]&&(this.listeners[g].delete(x),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,x){var q=()=>super._set,oe=this;return(0,o.Z)(function*(){yield q().call(oe,g,x),oe.localCache[g]=JSON.stringify(x)})()}_get(g){var x=()=>super._get,q=this;return(0,o.Z)(function*(){const oe=yield x().call(q,g);return q.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var x=()=>super._remove,q=this;return(0,o.Z)(function*(){yield x().call(q,g),delete q.localCache[g]})()}}return v.type="LOCAL",v})(),bo=(()=>{class v extends Yc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,x){}_removeListener(g,x){}}return v.type="SESSION",v})();function ol(v="",p=10){let g="";for(let x=0;x<p;x++)g+=Math.floor(10*Math.random());return v+g}function Jn(){return window}const Xl="recaptcha";class Zs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ii._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function id(){return(id=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v);yield go(!1,x,"phone");const q=yield Ql(x.auth,p,(0,L.m9)(g));return new Zs(q,oe=>Gh(x,oe))})).apply(this,arguments)}function sd(){return(sd=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v),q=yield Ql(x.auth,p,(0,L.m9)(g));return new Zs(q,oe=>zh(x,oe))})).apply(this,arguments)}function Ql(v,p,g){return zr.apply(this,arguments)}function zr(){return zr=(0,o.Z)(function*(v,p,g){var x;const q=yield g.verify();try{let oe;if(J("string"==typeof q,v,"argument-error"),J(g.type===Xl,v,"argument-error"),oe="string"==typeof p?{phoneNumber:p}:p,"session"in oe){const De=oe.session;if("phoneNumber"in oe)return J("enroll"===De.type,v,"internal-error"),(yield function rl(v,p){return Te(v,"POST","/v2/accounts/mfaEnrollment:start",ge(v,p))}(v,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{J("signin"===De.type,v,"internal-error");const He=(null===(x=oe.multiFactorHint)||void 0===x?void 0:x.uid)||oe.multiFactorUid;return J(He,v,"missing-multi-factor-info"),(yield function Ea(v,p){return Te(v,"POST","/v2/accounts/mfaSignIn:start",ge(v,p))}(v,{mfaPendingCredential:De.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield function b_(v,p){return mu.apply(this,arguments)}(v,{phoneNumber:oe.phoneNumber,recaptchaToken:q});return De}}finally{g._reset()}}),zr.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(v,p){yield Zi((0,L.m9)(v),p)})).apply(this,arguments)}let $r=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=$n(g)}verifyPhoneNumber(g,x){return Ql(this.auth,g,(0,L.m9)(x))}static credential(g,x){return ii._fromVerification(g,x)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:x,temporaryProof:q}=g;return x&&q?ii._fromTokenResponse(x,q):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function vr(v,p){return p?ti(p):(J(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class bi extends Hr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Rs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Rs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Rs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function mp(v){return Fl(v.auth,new bi(v),v.bypassAuthState)}function ku(v){const{auth:p,user:g}=v;return J(g,p,"internal-error"),Bo(g,new bi(v),v.bypassAuthState)}function hi(v){return kr.apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(v){const{auth:p,user:g}=v;return J(g,p,"internal-error"),Zi(g,new bi(v),v.bypassAuthState)})).apply(this,arguments)}class rf{constructor(p,g,x,q,oe=!1){this.auth=p,this.resolver=x,this.user=q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,o.Z)(function*(x,q){p.pendingPromise={resolve:x,reject:q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(oe){p.reject(oe)}});return function(x,q){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,o.Z)(function*(){const{urlResponse:x,sessionId:q,postBody:oe,tenantId:De,error:He,type:ot}=p;if(He)return void g.reject(He);const yt={auth:g.auth,requestUri:x,sessionId:q,tenantId:De||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ot)(yt))}catch(Rt){g.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return mp;case"linkViaPopup":case"linkViaRedirect":return hi;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:te(this.auth,"internal-error")}}resolve(p){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fi=new Fe(2e3,1e4);function ad(){return(ad=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v);me(x.auth,p,mo);const q=vr(x.auth,g);return new Go(x.auth,"reauthViaPopup",p,q,x).executeNotNull()})).apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v);me(x.auth,p,mo);const q=vr(x.auth,g);return new Go(x.auth,"linkViaPopup",p,q,x).executeNotNull()})).apply(this,arguments)}let Go=(()=>{class v extends rf{constructor(g,x,q,oe,De){super(g,x,oe,De),this.provider=q,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,o.Z)(function*(){const x=yield g.execute();return J(x,g.auth,"internal-error"),x})()}onExecution(){var g=this;return(0,o.Z)(function*(){xe(1===g.filter.length,"Popup operations only handle one event");const x=ol();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],x),g.authWindow.associatedEvent=x,g.resolver._originValidation(g.auth).catch(q=>{g.reject(q)}),g.resolver._isIframeWebStorageSupported(g.auth,q=>{q||g.reject(se(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var x,q;this.pollId=null!==(q=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,fi.get())};g()}}return v.currentPopupAction=null,v})();const zo="pendingRedirect",xo=new Map;class M_ extends rf{constructor(p,g,x=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,x),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,o.Z)(function*(){let x=xo.get(g.auth._key());if(!x){try{const oe=(yield function cd(v,p){return sf.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;x=()=>Promise.resolve(oe)}catch(q){x=()=>Promise.reject(q)}xo.set(g.auth._key(),x)}return g.bypassAuthState||xo.set(g.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,x=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(x,p);if("unknown"!==p.type){if(p.eventId){const q=yield x.auth._redirectUserForId(p.eventId);if(q)return x.user=q,g().call(x,p);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function sf(){return(sf=(0,o.Z)(function*(v,p){const g=Ou(p),x=lf(v);if(!(yield x._isAvailable()))return!1;const q="true"===(yield x._get(g));return yield x._remove(g),q})).apply(this,arguments)}function Ta(v,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(v,p){return lf(v)._set(Ou(p),"true")})).apply(this,arguments)}function af(v,p){xo.set(v._key(),p)}function lf(v){return ti(v._redirectPersistence)}function Ou(v){return Me(zo,v.config.apiKey,v.name)}function k_(v,p,g){return function dd(v,p,g){return tc.apply(this,arguments)}(v,p,g)}function tc(){return(tc=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v);me(x.auth,p,mo),yield x.auth._initializationPromise;const q=vr(x.auth,g);yield Ta(q,x.auth);const oe=yield ul(x);return q._openRedirect(x.auth,p,"reauthViaRedirect",oe)})).apply(this,arguments)}function _p(v,p,g){return function cf(v,p,g){return ud.apply(this,arguments)}(v,p,g)}function ud(){return(ud=(0,o.Z)(function*(v,p,g){const x=(0,L.m9)(v);me(x.auth,p,mo),yield x.auth._initializationPromise;const q=vr(x.auth,g);yield go(!1,x,p.providerId),yield Ta(q,x.auth);const oe=yield ul(x);return q._openRedirect(x.auth,p,"linkViaRedirect",oe)})).apply(this,arguments)}function dl(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(v,p,g=!1){const x=$n(v),q=vr(x,p),De=yield new M_(x,q,g).execute();return De&&!g&&(delete De.user._redirectEventId,yield x._persistUserIfCurrent(De.user),yield x._setRedirectUser(null,p)),De})).apply(this,arguments)}function ul(v){return md.apply(this,arguments)}function md(){return(md=(0,o.Z)(function*(v){const p=ol(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Fu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(p,x)&&(g=!0,this.sendToConsumer(p,x),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function O_(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yp(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var x;if(p.error&&!yp(p)){const q=(null===(x=p.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";g.onError(se(this.auth,q))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const x=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&x}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(p))}saveEventToCache(p){this.cachedEventUids.add(R_(p)),this.lastProcessedEventTime=Date.now()}}function R_(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function yp({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function hl(v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,o.Z)(function*(v,p={}){return Te(v,"GET","/v1/projects",p)})).apply(this,arguments)}const vp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,df=/^https?/;function pd(){return(pd=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield hl(v);for(const g of p)try{if(Ia(g))return}catch{}te(v,"unauthorized-domain")})).apply(this,arguments)}function Ia(v){const p=Re(),{protocol:g,hostname:x}=new URL(p);if(v.startsWith("chrome-extension://")){const De=new URL(v);return""===De.hostname&&""===x?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&De.hostname===x}if(!df.test(g))return!1;if(vp.test(v))return x===v;const q=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(x)}const uf=new Fe(3e4,6e4);function Xs(){const v=Jn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let fl=null;function $o(v){return fl=fl||function hf(v){return new Promise((p,g)=>{var x,q,oe;function De(){Xs(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Xs(),g(se(v,"network-request-failed"))},timeout:uf.get()})}if(null!==(q=null===(x=Jn().gapi)||void 0===x?void 0:x.iframes)&&void 0!==q&&q.Iframe)p(gapi.iframes.getContext());else{if(null===(oe=Jn().gapi)||void 0===oe||!oe.load){const He=function Di(v){return`__${v}${Math.floor(1e6*Math.random())}`}("iframefcb");return Jn()[He]=()=>{gapi.load?De():g(se(v,"network-request-failed"))},function ji(v){return new Promise((p,g)=>{const x=document.createElement("script");x.setAttribute("src",v),x.onload=p,x.onerror=q=>{const oe=se("internal-error");oe.customData=q,g(oe)},x.type="text/javascript",x.charset="UTF-8",function Sn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(x)})}(`https://apis.google.com/js/api.js?onload=${He}`).catch(ot=>g(ot))}De()}}).catch(p=>{throw fl=null,p})}(v),fl}const ff=new Fe(5e3,15e3),S="__/auth/iframe",N="emulator/auth/iframe",ee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ae(v){const p=v.config;J(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Le(p,N):`https://${v.config.authDomain}/${S}`,x={apiKey:p.apiKey,appName:v.name,v:X.SDK_VERSION},q=_e.get(v.config.apiHost);q&&(x.eid=q);const oe=v._getFrameworks();return oe.length&&(x.fw=oe.join(",")),`${g}?${(0,L.xO)(x).slice(1)}`}function Qe(){return Qe=(0,o.Z)(function*(v){const p=yield $o(v),g=Jn().gapi;return J(g,v,"internal-error"),p.open({where:document.body,url:Ae(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ee,dontclear:!0},x=>new Promise(function(){var q=(0,o.Z)(function*(oe,De){yield x.restyle({setHideOnLeave:!1});const He=se(v,"network-request-failed"),ot=Jn().setTimeout(()=>{De(He)},ff.get());function yt(){Jn().clearTimeout(ot),oe(x)}x.ping(yt).then(yt,()=>{De(He)})});return function(oe,De){return q.apply(this,arguments)}}()))}),Qe.apply(this,arguments)}const pt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_t=500,Lt=600,Xt="_blank",Ft="http://localhost";class er{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tr(v,p,g,x=_t,q=Lt){const oe=Math.max((window.screen.availHeight-q)/2,0).toString(),De=Math.max((window.screen.availWidth-x)/2,0).toString();let He="";const ot=Object.assign(Object.assign({},pt),{width:x.toString(),height:q.toString(),top:oe,left:De}),yt=(0,L.z$)().toLowerCase();g&&(He=function ut(v=(0,L.z$)()){return/crios\//i.test(v)}(yt)?Xt:g),function nt(v=(0,L.z$)()){return/firefox\//i.test(v)}(yt)&&(p=p||Ft,ot.scrollbars="yes");const Rt=Object.entries(ot).reduce((ri,[Js,Pd])=>`${ri}${Js}=${Pd},`,"");if(function lr(v=(0,L.z$)()){var p;return Bn(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(yt)&&"_self"!==He)return function gd(v,p){const g=document.createElement("a");g.href=v,g.target=p;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(x)}(p||"",He),new er(null);const Pt=window.open(p||"",He,Rt);J(Pt,v,"popup-blocked");try{Pt.focus()}catch{}return new er(Pt)}const Lu="__/auth/handler",Da="emulator/auth/handler",ys=encodeURIComponent("fac");function Qs(v,p,g,x,q,oe){return ic.apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(v,p,g,x,q,oe){J(v.config.authDomain,v,"auth-domain-config-required"),J(v.config.apiKey,v,"invalid-api-key");const De={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:x,v:X.SDK_VERSION,eventId:q};if(p instanceof mo){p.setDefaultLanguage(v.languageCode),De.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(De.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Rt,Pt]of Object.entries(oe||{}))De[Rt]=Pt}if(p instanceof Ks){const Rt=p.getScopes().filter(Pt=>""!==Pt);Rt.length>0&&(De.scopes=Rt.join(","))}v.tenantId&&(De.tid=v.tenantId);const He=De;for(const Rt of Object.keys(He))void 0===He[Rt]&&delete He[Rt];const ot=yield v._getAppCheckToken(),yt=ot?`#${ys}=${encodeURIComponent(ot)}`:"";return`${function mf({config:v}){return v.emulator?Le(v,Da):`https://${v.authDomain}/${Lu}`}(v)}?${(0,L.xO)(He).slice(1)}${yt}`})).apply(this,arguments)}const bp="webStorageSupport",pf=class P_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=dl,this._overrideRedirectResult=af}_openPopup(p,g,x,q){var oe=this;return(0,o.Z)(function*(){var De;xe(null===(De=oe.eventManagers[p._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const He=yield Qs(p,g,x,Re(),q);return tr(p,He,ol())})()}_openRedirect(p,g,x,q){var oe=this;return(0,o.Z)(function*(){return yield oe._originValidation(p),function tf(v){Jn().location.href=v}(yield Qs(p,g,x,Re(),q)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:q,promise:oe}=this.eventManagers[g];return q?Promise.resolve(q):(xe(oe,"If manager is not set, promise should be"),oe)}const x=this.initAndGetManager(p);return this.eventManagers[g]={promise:x},x.catch(()=>{delete this.eventManagers[g]}),x}initAndGetManager(p){var g=this;return(0,o.Z)(function*(){const x=yield function Ue(v){return Qe.apply(this,arguments)}(p),q=new Fu(p);return x.register("authEvent",oe=>(J(oe?.authEvent,p,"invalid-auth-event"),{status:q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:q},g.iframes[p._key()]=x,q})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(bp,{type:bp},q=>{var oe;const De=null===(oe=q?.[0])||void 0===oe?void 0:oe[bp];void 0!==De&&g(!!De),te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Eo(v){return pd.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return fs()||je()||Bn()}};function Wr(){return window}const rc=2e3;function Vu(){return Vu=(0,o.Z)(function*(v,p,g){var x;const{BuildInfo:q}=Wr();xe(p.sessionId,"AuthEvent did not contain a session ID");const oe=yield function sc(v){return wf.apply(this,arguments)}(p.sessionId),De={};return Bn()?De.ibi=q.packageName:In()?De.apn=q.packageName:te(v,"operation-not-supported-in-this-environment"),q.displayName&&(De.appDisplayName=q.displayName),De.sessionId=oe,Qs(v,g,p.type,void 0,null!==(x=p.eventId)&&void 0!==x?x:void 0,De)}),Vu.apply(this,arguments)}function wd(){return(wd=(0,o.Z)(function*(v){const{BuildInfo:p}=Wr(),g={};Bn()?g.iosBundleId=p.packageName:In()?g.androidPackageName=p.packageName:te(v,"operation-not-supported-in-this-environment"),yield hl(v,g)})).apply(this,arguments)}function vf(){return(vf=(0,o.Z)(function*(v,p,g){const{cordova:x}=Wr();let q=()=>{};try{yield new Promise((oe,De)=>{let He=null;function ot(){var Pt;oe();const ri=null===(Pt=x.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof ri&&ri(),"function"==typeof g?.close&&g.close()}function yt(){He||(He=window.setTimeout(()=>{De(se(v,"redirect-cancelled-by-user"))},rc))}function Rt(){"visible"===document?.visibilityState&&yt()}p.addPassiveListener(ot),document.addEventListener("resume",yt,!1),In()&&document.addEventListener("visibilitychange",Rt,!1),q=()=>{p.removePassiveListener(ot),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",Rt,!1),He&&window.clearTimeout(He)}})}finally{q()}})).apply(this,arguments)}function wf(){return(wf=(0,o.Z)(function*(v){const p=function B_(v){if(xe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let x=0;x<v.length;x++)g[x]=v.charCodeAt(x);return g}(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ps=20;class Lv extends Fu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function Cp(v){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,o.Z)(function*(v){const p=yield Sp()._get(Aa(v));return p&&(yield Sp()._remove(Aa(v))),p})).apply(this,arguments)}function V_(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<Ps;g++){const x=Math.floor(Math.random()*p.length);v.push(p.charAt(x))}return v.join("")}function Sp(){return ti(ya)}function Aa(v){return Me("authEvent",v.config.apiKey,v.name)}function xd(v){if(!v?.includes("?"))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}const Sd=class Cd{constructor(){this._redirectPersistence=bo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dl,this._overrideRedirectResult=af}_initialize(p){var g=this;return(0,o.Z)(function*(){const x=p._key();let q=g.eventManagers.get(x);return q||(q=new Lv(p),g.eventManagers.set(x,q),g.attachCallbackListeners(p,q)),q})()}_openPopup(p){te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,x,q){var oe=this;return(0,o.Z)(function*(){!function bf(v){var p,g,x,q,oe,De,He,ot,yt,Rt;const Pt=Wr();J("function"==typeof(null===(p=Pt?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(g=Pt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(oe=null===(q=null===(x=Pt?.cordova)||void 0===x?void 0:x.plugins)||void 0===q?void 0:q.browsertab)||void 0===oe?void 0:oe.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(ot=null===(He=null===(De=Pt?.cordova)||void 0===De?void 0:De.plugins)||void 0===He?void 0:He.browsertab)||void 0===ot?void 0:ot.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Rt=null===(yt=Pt?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===Rt?void 0:Rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const De=yield oe._initialize(p);yield De.initialized(),De.resetRedirect(),function A_(){xo.clear()}(),yield oe._originValidation(p);const He=function oc(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:V_(),postBody:null,tenantId:v.tenantId,error:se(v,"no-auth-event")}}(p,x,q);yield function xf(v,p){return Sp()._set(Aa(v),p)}(p,He);const ot=yield function bd(v,p,g){return Vu.apply(this,arguments)}(p,He,g),yt=yield function Hu(v){const{cordova:p}=Wr();return new Promise(g=>{p.plugins.browsertab.isAvailable(x=>{let q=null;x?p.plugins.browsertab.openUrl(v):q=p.InAppBrowser.open(v,function En(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(q)})})}(ot);return function yf(v,p,g){return vf.apply(this,arguments)}(p,De,yt)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function _f(v){return wd.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:x,handleOpenURL:q,BuildInfo:oe}=Wr(),De=setTimeout((0,o.Z)(function*(){yield Cp(p),g.onEvent(Tp())}),500),He=function(){var Rt=(0,o.Z)(function*(Pt){clearTimeout(De);const ri=yield Cp(p);let Js=null;ri&&Pt?.url&&(Js=function U_(v,p){var g,x;const q=function H_(v){const p=xd(v),g=p.link?decodeURIComponent(p.link):void 0,x=xd(g).link,q=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return xd(q).link||q||x||g||v}(p);if(q.includes("/__/auth/callback")){const oe=xd(q),De=oe.firebaseError?function Cf(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,He=null===(x=null===(g=De?.code)||void 0===g?void 0:g.split("auth/"))||void 0===x?void 0:x[1],ot=He?se(He):null;return ot?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:ot,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:q,postBody:null}}return null}(ri,Pt.url)),g.onEvent(Js||Tp())});return function(ri){return Rt.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,He);const ot=q,yt=`${oe.packageName.toLowerCase()}://`;Wr().handleOpenURL=function(){var Rt=(0,o.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(yt)&&He({url:Pt}),"function"==typeof ot)try{ot(Pt)}catch(ri){console.error(ri)}});return function(Pt){return Rt.apply(this,arguments)}}()}};function Tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:se("no-auth-event")}}const Bv=1e3;function Td(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function $_(){return function ju(v=(0,L.z$)()){return!("file:"!==Td()&&"ionic:"!==Td()&&"capacitor:"!==Td()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function Md(){return(Md=(0,o.Z)(function*(){return!!$_()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},Bv);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const kd="persistence";function Rd(v){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.Z)(function*(v){yield v._initializationPromise;const p=function K_(){var v;try{return(null===(v=function kp(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}(),g=Me(kd,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}const NE=J;class br{constructor(){this.browserResolver=ti(pf),this.cordovaResolver=ti(Sd),this.underlyingResolver=null,this._redirectPersistence=bo,this._completeRedirectFn=dl,this._overrideRedirectResult=af}_initialize(p){var g=this;return(0,o.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,x,q){var oe=this;return(0,o.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(p,g,x,q)})()}_openRedirect(p,g,x,q){var oe=this;return(0,o.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(p,g,x,q)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return NE(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const g=yield function W_(){return Md.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Od(v){return v.unwrap()}function Vv(v){return Sf(v)}function Sf(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return $r.credentialFromResult(v);const g=p.providerId;if(!g||g===k.PASSWORD)return null;let x;switch(g){case k.GOOGLE:x=Ol;break;case k.FACEBOOK:x=pu;break;case k.GITHUB:x=Uh;break;case k.TWITTER:x=Oc;break;default:const{oauthIdToken:q,oauthAccessToken:oe,oauthTokenSecret:De,pendingToken:He,nonce:ot}=p;return oe||De||q||He?He?g.startsWith("saml.")?No._create(g,He):fo._fromParams({providerId:g,signInMethod:g,pendingToken:He,idToken:q,accessToken:oe}):new ca(g).credential({idToken:q,accessToken:oe,rawNonce:ot}):null}return v instanceof L.ZR?x.credentialFromError(v):x.credentialFromResult(v)}function is(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function Y_(v,p){var g;const x=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Hv(v,function qc(v,p){var g;const x=(0,L.m9)(v),q=p;return J(p.customData.operationType,x,"argument-error"),J(null===(g=q.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,x,"argument-error"),fa._fromError(x,q)}(v,p));else if(x){const q=Sf(p),oe=p;q&&(oe.credential=q,oe.tenantId=x.tenantId||void 0,oe.email=x.email||void 0,oe.phoneNumber=x.phoneNumber||void 0)}}(v,g),g}).then(g=>{const q=g.user;return{operationType:g.operationType,credential:Vv(g),additionalUserInfo:wu(g),user:Ra.getOrCreate(q)}})}function Z_(v,p){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,o.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:x=>is(v,g.confirm(x))}})).apply(this,arguments)}class Hv{constructor(p,g){this.resolver=g,this.auth=function Uv(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return is(Od(this.auth),this.resolver.resolveSignIn(p))}}class Ra{constructor(p){this._delegate=p,this.multiFactor=function Qh(v){const p=(0,L.m9)(v);return Vo.has(p)||Vo.set(p,ga._fromUser(p)),Vo.get(p)}(p)}static getOrCreate(p){return Ra.USER_MAP.has(p)||Ra.USER_MAP.set(p,new Ra(p)),Ra.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,o.Z)(function*(){return is(g.auth,Gh(g._delegate,p))})()}linkWithPhoneNumber(p,g){var x=this;return(0,o.Z)(function*(){return Z_(x.auth,function nd(v,p,g){return id.apply(this,arguments)}(x._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,o.Z)(function*(){return is(g.auth,function Ru(v,p,g){return ld.apply(this,arguments)}(g._delegate,p,br))})()}linkWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Rd($n(g.auth)),_p(g._delegate,p,br)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,o.Z)(function*(){return is(g.auth,zh(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Z_(this.auth,function rd(v,p,g){return sd.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return is(this.auth,function od(v,p,g){return ad.apply(this,arguments)}(this._delegate,p,br))}reauthenticateWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield Rd($n(g.auth)),k_(g._delegate,p,br)})()}sendEmailVerification(p){return function jc(v,p){return Hl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,o.Z)(function*(){return yield function Hh(v,p){return Ar.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function yr(v,p){return vi((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function yo(v,p){return vi((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ll(v,p){return jo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ip(v,p){return zc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function vu(v,p,g){return jl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ra.USER_MAP=new WeakMap;class lc{constructor(){this.providerId="phone",this._delegate=new $r(Od($.Z.auth()))}static credential(p,g){return $r.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}lc.PHONE_SIGN_IN_METHOD=$r.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=$r.PROVIDER_ID},1877:(Ce,V,C)=>{C.d(V,{Am:()=>k,Ub:()=>D,Yd:()=>R,in:()=>$});const o=[];var $=(()=>{return(I=$||($={}))[I.DEBUG=0]="DEBUG",I[I.VERBOSE=1]="VERBOSE",I[I.INFO=2]="INFO",I[I.WARN=3]="WARN",I[I.ERROR=4]="ERROR",I[I.SILENT=5]="SILENT",$;var I})();const L={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},X=$.INFO,H={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},M=(I,A,...O)=>{if(A<I.logLevel)return;const j=(new Date).toISOString(),B=H[A];if(!B)throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`);console[B](`[${j}]  ${I.name}:`,...O)};class R{constructor(A){this.name=A,this._logLevel=X,this._logHandler=M,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in $))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"==typeof A?L[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!=typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...A),this._logHandler(this,$.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...A),this._logHandler(this,$.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,$.INFO,...A),this._logHandler(this,$.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,$.WARN,...A),this._logHandler(this,$.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...A),this._logHandler(this,$.ERROR,...A)}}function D(I){o.forEach(A=>{A.setLogLevel(I)})}function k(I,A){for(const O of o){let j=null;A&&A.level&&(j=L[A.level]),O.userLogHandler=null===I?null:(B,U,...Y)=>{const W=Y.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch{return null}}).filter(ne=>ne).join(" ");U>=(j??B.logLevel)&&I({level:$[U].toLowerCase(),message:W,args:Y,type:B.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(V,C){if(this.action=V,this.timestamp=C,this.type=PERFORM_ACTION,typeof V.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(V){this.timestamp=V,this.type=RESET}}class Rollback{constructor(V){this.timestamp=V,this.type=ROLLBACK}}class Commit{constructor(V){this.timestamp=V,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(V){this.id=V,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(V,C,o=!0){this.start=V,this.end=C,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(V){this.index=V,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(V){this.actionId=V,this.type=JUMP_TO_ACTION}}class ImportState{constructor(V){this.nextLiftedState=V,this.type=IMPORT_STATE}}class LockChanges{constructor(V){this.status=V,this.type=LOCK_CHANGES}}class PauseRecording{constructor(V){this.status=V,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ce){const V={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},C="function"==typeof Ce?Ce():Ce,L=Object.assign({},V,{features:C.features||!!C.logOnly&&{pause:!0,export:!0,test:!0}||V.features},C);if(L.maxAge&&L.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${L.maxAge}`);return L}function difference(Ce,V){return Ce.filter(C=>V.indexOf(C)<0)}function unliftState(Ce){const{computedStates:V,currentStateIndex:C}=Ce;if(C>=V.length){const{state:$}=V[V.length-1];return $}const{state:o}=V[C];return o}function unliftAction(Ce){return Ce.actionsById[Ce.nextActionId-1]}function liftAction(Ce){return new PerformAction(Ce,+Date.now())}function sanitizeActions(Ce,V){return Object.keys(V).reduce((C,o)=>{const $=Number(o);return C[$]=sanitizeAction(Ce,V[$],$),C},{})}function sanitizeAction(Ce,V,C){return{...V,action:Ce(V.action,C)}}function sanitizeStates(Ce,V){return V.map((C,o)=>({state:sanitizeState(Ce,C.state,o),error:C.error}))}function sanitizeState(Ce,V,C){return Ce(V,C)}function shouldFilterActions(Ce){return Ce.predicate||Ce.actionsSafelist||Ce.actionsBlocklist}function filterLiftedState(Ce,V,C,o){const $=[],L={},X=[];return Ce.stagedActionIds.forEach((H,M)=>{const R=Ce.actionsById[H];R&&(M&&isActionFiltered(Ce.computedStates[M],R,V,C,o)||(L[H]=R,$.push(H),X.push(Ce.computedStates[M])))}),{...Ce,stagedActionIds:$,actionsById:L,computedStates:X}}function isActionFiltered(Ce,V,C,o,$){const L=C&&!C(Ce,V.action),X=o&&!V.action.type.match(o.map(M=>escapeRegExp(M)).join("|")),H=$&&V.action.type.match($.map(M=>escapeRegExp(M)).join("|"));return L||X||H}function escapeRegExp(Ce){return Ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Ce extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ce.\u0275fac=function(){let V;return function(o){return(V||(V=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ce)))(o||Ce)}}(),Ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ce,V,C){this.config=V,this.dispatcher=C,this.devtoolsExtension=Ce,this.createActionStreams()}notify(Ce,V){if(this.devtoolsExtension)if(Ce.type===PERFORM_ACTION){if(V.isLocked||V.isPaused)return;const C=unliftState(V);if(shouldFilterActions(this.config)&&isActionFiltered(C,Ce,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,C,V.currentStateIndex):C,$=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ce,V.nextActionId):Ce;this.sendToReduxDevtools(()=>this.extensionConnection.send($,o))}else{const C={...V,stagedActionIds:V.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,V.actionsById):V.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,V.computedStates):V.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,C,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ce=>{const V=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=V,V.init(),V.subscribe(C=>Ce.next(C)),V.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ce=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),V=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.START)),C=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.STOP)),o=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(H=>this.unwrapAction(H.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(H=>H.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(M=>M.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>H),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(H)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(H))),L=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(H=>this.unwrapAction(H.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),X=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C));this.start$=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>L)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>X))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ce){const V={name:Ce.name,features:Ce.features,serialize:Ce.serialize,autoPause:Ce.autoPause??!1,trace:Ce.trace??!1,traceLimit:Ce.traceLimit??75};return!1!==Ce.maxAge&&(V.maxAge=Ce.maxAge),V}sendToReduxDevtools(Ce){try{Ce()}catch(V){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",V)}}}return DevtoolsExtension.\u0275fac=function Ce(V){return new(V||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ce,V,C,o,$){if(o)return{state:C,error:"Interrupted by an error up the chain"};let X,L=C;try{L=Ce(C,V)}catch(H){X=H.toString(),$.handleError(H)}return{state:L,error:X}}function recomputeStates(Ce,V,C,o,$,L,X,H,M){if(V>=Ce.length&&Ce.length===L.length)return Ce;const R=Ce.slice(0,V),D=L.length-(M?1:0);for(let k=V;k<D;k++){const I=L[k],A=$[I].action,O=R[k-1],j=O?O.state:o,B=O?O.error:void 0,Y=X.indexOf(I)>-1?O:computeNextEntry(C,A,j,B,H);R.push(Y)}return M&&R.push(Ce[Ce.length-1]),R}function liftInitialState(Ce,V){return{monitorState:V(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ce,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ce,V,C,o,$={}){return L=>(X,H)=>{let{monitorState:M,actionsById:R,nextActionId:D,stagedActionIds:k,skippedActionIds:I,committedState:A,currentStateIndex:O,computedStates:j,isLocked:B,isPaused:U}=X||V;function Y(E){let G=E,K=k.slice(1,G+1);for(let te=0;te<K.length;te++){if(j[te+1].error){G=te,K=k.slice(1,G+1);break}delete R[K[te]]}I=I.filter(te=>-1===K.indexOf(te)),k=[0,...k.slice(G+1)],A=j[G].state,j=j.slice(G),O=O>G?O-G:0}function W(){R={0:liftAction(INIT_ACTION)},D=1,k=[0],I=[],A=j[O].state,O=0,j=[]}X||(R=Object.create(R));let ne=0;switch(H.type){case LOCK_CHANGES:B=H.status,ne=1/0;break;case PAUSE_RECORDING:U=H.status,U?(k=[...k,D],R[D]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),D++,ne=k.length-1,j=j.concat(j[j.length-1]),O===k.length-2&&O++,ne=1/0):W();break;case RESET:R={0:liftAction(INIT_ACTION)},D=1,k=[0],I=[],A=Ce,O=0,j=[];break;case COMMIT:W();break;case ROLLBACK:R={0:liftAction(INIT_ACTION)},D=1,k=[0],I=[],O=0,j=[];break;case TOGGLE_ACTION:{const{id:E}=H;I=-1===I.indexOf(E)?[E,...I]:I.filter(K=>K!==E),ne=k.indexOf(E);break}case SET_ACTIONS_ACTIVE:{const{start:E,end:G,active:K}=H,te=[];for(let se=E;se<G;se++)te.push(se);I=K?difference(I,te):[...I,...te],ne=k.indexOf(E);break}case JUMP_TO_STATE:O=H.index,ne=1/0;break;case JUMP_TO_ACTION:{const E=k.indexOf(H.actionId);-1!==E&&(O=E),ne=1/0;break}case SWEEP:k=difference(k,I),I=[],O=Math.min(O,k.length-1);break;case PERFORM_ACTION:{if(B)return X||V;if(U||X&&isActionFiltered(X.computedStates[O],H,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const G=j[j.length-1];j=[...j.slice(0,-1),computeNextEntry(L,H.action,G.state,G.error,C)],ne=1/0;break}$.maxAge&&k.length===$.maxAge&&Y(1),O===k.length-1&&O++;const E=D++;R[E]=H,k=[...k,E],ne=k.length-1;break}case IMPORT_STATE:({monitorState:M,actionsById:R,nextActionId:D,stagedActionIds:k,skippedActionIds:I,committedState:A,currentStateIndex:O,computedStates:j,isLocked:B,isPaused:U}=H.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ne=0,$.maxAge&&k.length>$.maxAge&&(j=recomputeStates(j,ne,L,A,R,k,I,C,U),Y(k.length-$.maxAge),ne=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(j.filter(G=>G.error).length>0)ne=0,$.maxAge&&k.length>$.maxAge&&(j=recomputeStates(j,ne,L,A,R,k,I,C,U),Y(k.length-$.maxAge),ne=1/0);else{if(!U&&!B){O===k.length-1&&O++;const G=D++;R[G]=new PerformAction(H,+Date.now()),k=[...k,G],ne=k.length-1,j=recomputeStates(j,ne,L,A,R,k,I,C,U)}j=j.map(G=>({...G,state:L(G.state,RECOMPUTE_ACTION)})),O=k.length-1,$.maxAge&&k.length>$.maxAge&&Y(k.length-$.maxAge),ne=1/0}break;default:ne=1/0}return j=recomputeStates(j,ne,L,A,R,k,I,C,U),M=o(M,H),{monitorState:M,actionsById:R,nextActionId:D,stagedActionIds:k,skippedActionIds:I,committedState:A,currentStateIndex:O,computedStates:j,isLocked:B,isPaused:U}}}let StoreDevtools=(()=>{class Ce{constructor(C,o,$,L,X,H,M,R){const D=liftInitialState(M,R.monitor),k=liftReducerWith(M,D,H,R.monitor,R),I=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),L.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),C,L.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),A=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(k)),O=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),j=I.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(A),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:W},[ne,E])=>{let G=E(W,ne);return ne.type!==PERFORM_ACTION&&shouldFilterActions(R)&&(G=filterLiftedState(G,R.predicate,R.actionsSafelist,R.actionsBlocklist)),L.notify(ne,G),{state:G,action:ne}},{state:D,action:null})).subscribe(({state:W,action:ne})=>{O.next(W),ne.type===PERFORM_ACTION&&X.next(ne.action)}),B=L.start$.subscribe(()=>{this.refresh()}),U=O.asObservable(),Y=U.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=B,this.stateSubscription=j,this.dispatcher=C,this.liftedState=U,this.state=Y}dispatch(C){this.dispatcher.next(C)}next(C){this.dispatcher.next(C)}error(C){}complete(){}performAction(C){this.dispatch(new PerformAction(C,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(C){this.dispatch(new ToggleAction(C))}jumpToAction(C){this.dispatch(new JumpToAction(C))}jumpToState(C){this.dispatch(new JumpToState(C))}importState(C){this.dispatch(new ImportState(C))}lockChanges(C){this.dispatch(new LockChanges(C))}pauseRecording(C){this.dispatch(new PauseRecording(C))}}return Ce.\u0275fac=function(C){return new(C||Ce)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ce,V){return Boolean(Ce)||V.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ce="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Ce]<"u"?window[Ce]:null}function provideStoreDevtools(Ce={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ce},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Ce){return Ce.state}let StoreDevtoolsModule=(()=>{class Ce{static instrument(C={}){return{ngModule:Ce,providers:[provideStoreDevtools(C)]}}}return Ce.\u0275fac=function(C){return new(C||Ce)},Ce.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ce}),Ce.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ce})()},9653:(Ce,V,C)=>{C.d(V,{UO:()=>ie,qg:()=>se,Y6:()=>he,mK:()=>xt,n$:()=>Ht,Y$:()=>hn,FR:()=>Zt,yh:()=>Vn,CK:()=>Hr,Aw:()=>ks,cr:()=>As,wb:()=>pi,PH:()=>B,R7:()=>E,Tz:()=>En,Lq:()=>Fo,on:()=>yi,Ky:()=>U});var o=C(4650),$=C(1135),L=C(9751),X=C(7579),H=C(233),M=C(5363),R=C(1365),D=C(5026),k=C(4004),A=C(1884);const O={};function B(Ee,$e){if(O[Ee]=(O[Ee]||0)+1,"function"==typeof $e)return W(Ee,(...We)=>({...$e(...We),type:Ee}));switch($e?$e._as:"empty"){case"empty":return W(Ee,()=>({type:Ee}));case"props":return W(Ee,We=>({...We,type:Ee}));default:throw new Error("Unexpected config.")}}function U(){return{_as:"props",_p:void 0}}function W(Ee,$e){return Object.defineProperty($e,"type",{value:Ee,writable:!1})}function ne(Ee){return Ee.charAt(0).toUpperCase()+Ee.substring(1)}function E(Ee){const{source:$e,events:Ve}=Ee;return Object.keys(Ve).reduce((We,st)=>({...We,[K(st)]:B(te($e,st),Ve[st])}),{})}function K(Ee){return Ee.trim().toLowerCase().split(" ").map(($e,Ve)=>0===Ve?$e:ne($e)).join("")}function te(Ee,$e){return`[${Ee}] ${$e}`}const se="@ngrx/store/init";let ie=(()=>{class Ee extends $.X{constructor(){super({type:se})}next(Ve){if("function"==typeof Ve)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ve>"u")throw new TypeError("Actions must be objects");if(typeof Ve.type>"u")throw new TypeError("Actions must have a type property");super.next(Ve)}complete(){}ngOnDestroy(){super.complete()}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)},Ee.\u0275prov=o.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const me=[ie],ue=new o.OlP("@ngrx/store Internal Root Guard"),J=new o.OlP("@ngrx/store Internal Initial State"),he=new o.OlP("@ngrx/store Initial State"),xe=new o.OlP("@ngrx/store Reducer Factory"),Re=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),z=new o.OlP("@ngrx/store Initial Reducers"),re=new o.OlP("@ngrx/store Internal Initial Reducers"),de=new o.OlP("@ngrx/store Store Features"),be=new o.OlP("@ngrx/store Internal Store Reducers"),Fe=new o.OlP("@ngrx/store Internal Feature Reducers"),Le=new o.OlP("@ngrx/store Internal Feature Configs"),tt=new o.OlP("@ngrx/store Internal Store Features"),ye=new o.OlP("@ngrx/store Internal Feature Reducers Token"),ve=new o.OlP("@ngrx/store Feature Reducers"),ge=new o.OlP("@ngrx/store User Provided Meta Reducers"),Te=new o.OlP("@ngrx/store Meta Reducers"),Be=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),ce=new o.OlP("@ngrx/store User Runtime Checks Config"),Oe=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),Xe=new o.OlP("@ngrx/store Internal Runtime Checks"),wt=new o.OlP("@ngrx/store Check if Action types are unique");function Tt(Ee,$e={}){const Ve=Object.keys(Ee),We={};for(let gt=0;gt<Ve.length;gt++){const yn=Ve[gt];"function"==typeof Ee[yn]&&(We[yn]=Ee[yn])}const st=Object.keys(We);return function(yn,Qn){yn=void 0===yn?$e:yn;let Kn=!1;const Mi={};for(let On=0;On<st.length;On++){const Wn=st[On],gr=yn[Wn],_r=(0,We[Wn])(gr,Qn);Mi[Wn]=_r,Kn=Kn||_r!==gr}return Kn?Mi:yn}}function bt(...Ee){return function($e){if(0===Ee.length)return $e;const Ve=Ee[Ee.length-1];return Ee.slice(0,-1).reduceRight((st,gt)=>gt(st),Ve($e))}}function on(Ee,$e){return Array.isArray($e)&&$e.length>0&&(Ee=bt.apply(null,[...$e,Ee])),(Ve,We)=>{const st=Ee(Ve);return(gt,yn)=>st(gt=void 0===gt?We:gt,yn)}}new o.OlP("@ngrx/store Root Store Provider"),new o.OlP("@ngrx/store Feature State Provider");class Ht extends L.y{}class xt extends ie{}const pi="@ngrx/store/update-reducers";let Ei=(()=>{class Ee extends $.X{constructor(Ve,We,st,gt){super(gt(st,We)),this.dispatcher=Ve,this.initialState=We,this.reducers=st,this.reducerFactory=gt}get currentReducers(){return this.reducers}addFeature(Ve){this.addFeatures([Ve])}addFeatures(Ve){const We=Ve.reduce((st,{reducers:gt,reducerFactory:yn,metaReducers:Qn,initialState:Kn,key:Mi})=>{const On="function"==typeof gt?function bn(Ee){const $e=Array.isArray(Ee)&&Ee.length>0?bt(...Ee):Ve=>Ve;return(Ve,We)=>(Ve=$e(Ve),(st,gt)=>Ve(st=void 0===st?We:st,gt))}(Qn)(gt,Kn):on(yn,Qn)(gt,Kn);return st[Mi]=On,st},{});this.addReducers(We)}removeFeature(Ve){this.removeFeatures([Ve])}removeFeatures(Ve){this.removeReducers(Ve.map(We=>We.key))}addReducer(Ve,We){this.addReducers({[Ve]:We})}addReducers(Ve){this.reducers={...this.reducers,...Ve},this.updateReducers(Object.keys(Ve))}removeReducer(Ve){this.removeReducers([Ve])}removeReducers(Ve){Ve.forEach(We=>{this.reducers=function gn(Ee,$e){return Object.keys(Ee).filter(Ve=>Ve!==$e).reduce((Ve,We)=>Object.assign(Ve,{[We]:Ee[We]}),{})}(this.reducers,We)}),this.updateReducers(Ve)}updateReducers(Ve){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:pi,features:Ve})}ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)(o.LFG(xt),o.LFG(he),o.LFG(z),o.LFG(xe))},Ee.\u0275prov=o.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const di=[Ei,{provide:Ht,useExisting:Ei},{provide:xt,useExisting:ie}];let hn=(()=>{class Ee extends X.x{ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(){let $e;return function(We){return($e||($e=o.n5z(Ee)))(We||Ee)}}(),Ee.\u0275prov=o.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const oi=[hn];class Zt extends L.y{}let cn=(()=>{class Ee extends $.X{constructor(Ve,We,st,gt){super(gt);const Mi=Ve.pipe((0,M.Q)(H.N)).pipe((0,R.M)(We)).pipe((0,D.R)(Et,{state:gt}));this.stateSubscription=Mi.subscribe(({state:On,action:Wn})=>{this.next(On),st.next(Wn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Ee.INIT=se,Ee.\u0275fac=function(Ve){return new(Ve||Ee)(o.LFG(ie),o.LFG(Ht),o.LFG(hn),o.LFG(he))},Ee.\u0275prov=o.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function Et(Ee={state:void 0},[$e,Ve]){const{state:We}=Ee;return{state:Ve(We,$e),action:$e}}const jt=[cn,{provide:Zt,useExisting:cn}];let Vn=(()=>{class Ee extends L.y{constructor(Ve,We,st){super(),this.actionsObserver=We,this.reducerManager=st,this.source=Ve}select(Ve,...We){return Ln.call(null,Ve,...We)(this)}lift(Ve){const We=new Ee(this,this.actionsObserver,this.reducerManager);return We.operator=Ve,We}dispatch(Ve){this.actionsObserver.next(Ve)}next(Ve){this.actionsObserver.next(Ve)}error(Ve){this.actionsObserver.error(Ve)}complete(){this.actionsObserver.complete()}addReducer(Ve,We){this.reducerManager.addReducer(Ve,We)}removeReducer(Ve){this.reducerManager.removeReducer(Ve)}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)(o.LFG(Zt),o.LFG(ie),o.LFG(Ei))},Ee.\u0275prov=o.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ii=[Vn];function Ln(Ee,$e,...Ve){return function(st){let gt;if("string"==typeof Ee){const yn=[$e,...Ve].filter(Boolean);gt=st.pipe(function I(...Ee){const $e=Ee.length;if(0===$e)throw new Error("list of properties cannot be empty.");return(0,k.U)(Ve=>{let We=Ve;for(let st=0;st<$e;st++){const gt=We?.[Ee[st]];if(!(typeof gt<"u"))return;We=gt}return We})}(Ee,...yn))}else{if("function"!=typeof Ee)throw new TypeError(`Unexpected type '${typeof Ee}' in select operator, expected 'string' or 'function'`);gt=st.pipe((0,k.U)(yn=>Ee(yn,$e)))}return gt.pipe((0,A.x)())}}const Hn="https://ngrx.io/guide/store/configuration/runtime-checks";function qn(Ee){return void 0===Ee}function Xn(Ee){return null===Ee}function an(Ee){return Array.isArray(Ee)}function Rn(Ee){return"object"==typeof Ee&&null!==Ee}function ui(Ee){if(!function Lr(Ee){return Rn(Ee)&&!an(Ee)}(Ee))return!1;const $e=Object.getPrototypeOf(Ee);return $e===Object.prototype||null===$e}function gi(Ee){return"function"==typeof Ee}let Br=!1;function Se(Ee,$e){return Ee===$e}function je(Ee,$e=Se,Ve=Se){let gt,We=null,st=null;return{memoized:function Mi(){if(void 0!==gt)return gt.result;if(!We)return st=Ee.apply(null,arguments),We=arguments,st;if(!function Pe(Ee,$e,Ve){for(let We=0;We<Ee.length;We++)if(!Ve(Ee[We],$e[We]))return!0;return!1}(arguments,We,$e))return st;const On=Ee.apply(null,arguments);return We=arguments,Ve(st,On)?st:(st=On,On)},reset:function yn(){We=null,st=null},setResult:function Qn(On){gt={result:On}},clearResult:function Kn(){gt=void 0}}}function ut(...Ee){return function In(Ee,$e={stateFn:qt}){return function(...Ve){let We=Ve;if(Array.isArray(We[0])){const[On,...Wn]=We;We=[...On,...Wn]}else 1===We.length&&function ai(Ee){return!!Ee&&"object"==typeof Ee&&Object.values(Ee).every($e=>"function"==typeof $e)}(We[0])&&(We=function Bn(Ee){const $e=Object.values(Ee),Ve=Object.keys(Ee);return[...$e,(...st)=>Ve.reduce((gt,yn,Qn)=>({...gt,[yn]:st[Qn]}),{})]}(We[0]));const st=We.slice(0,We.length-1),gt=We[We.length-1],yn=st.filter(On=>On.release&&"function"==typeof On.release),Qn=Ee(function(...On){return gt.apply(null,On)}),Kn=je(function(On,Wn){return $e.stateFn.apply(null,[On,st,Wn,Qn])});return Object.assign(Kn.memoized,{release:function Mi(){Kn.reset(),Qn.reset(),yn.forEach(On=>On.release())},projector:Qn.memoized,setResult:Kn.setResult,clearResult:Kn.clearResult})}}(je)(...Ee)}function qt(Ee,$e,Ve,We){if(void 0===Ve){const gt=$e.map(yn=>yn(Ee));return We.memoized.apply(null,gt)}const st=$e.map(gt=>gt(Ee,Ve));return We.memoized.apply(null,[...st,Ve])}function En(Ee){const{name:$e,reducer:Ve,extraSelectors:We}=Ee,st=function Ci(Ee){return ut($e=>{const Ve=$e[Ee];return!function Me(){return Br}()&&(0,o.X6Q)()&&!(Ee in $e)&&console.warn(`@ngrx/store: The feature name "${Ee}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ee}', ...) or StoreModule.forFeature('${Ee}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ve},$e=>$e)}($e),gt=function lr(Ee,$e){const Ve=function ns(Ee){return Ee(void 0,{type:"@ngrx/feature/init"})}($e);return(ui(Ve)?Object.keys(Ve):[]).reduce((st,gt)=>({...st,[`select${ne(gt)}`]:ut(Ee,yn=>yn?.[gt])}),{})}(st,Ve),yn={[`select${ne($e)}State`]:st,...gt},Qn=We?We(yn):{};return{name:$e,reducer:Ve,...yn,...Qn}}function fs(Ee){return Ee instanceof o.OlP?(0,o.f3M)(Ee):Ee}function la(Ee,$e){return $e.map((Ve,We)=>{if(Ee[We]instanceof o.OlP){const st=(0,o.f3M)(Ee[We]);return{key:Ve.key,reducerFactory:st.reducerFactory?st.reducerFactory:Tt,metaReducers:st.metaReducers?st.metaReducers:[],initialState:st.initialState}}return Ve})}function Je(Ee){return Ee.map($e=>$e instanceof o.OlP?(0,o.f3M)($e):$e)}function Ge(Ee){return"function"==typeof Ee?Ee():Ee}function lt(Ee,$e){return Ee.concat($e)}function Bt(){if((0,o.f3M)(Vn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function dn(Ee){Object.freeze(Ee);const $e=gi(Ee);return Object.getOwnPropertyNames(Ee).forEach(Ve=>{if(!Ve.startsWith("\u0275")&&function ti(Ee,$e){return Object.prototype.hasOwnProperty.call(Ee,$e)}(Ee,Ve)&&(!$e||"caller"!==Ve&&"callee"!==Ve&&"arguments"!==Ve)){const We=Ee[Ve];(Rn(We)||gi(We))&&!Object.isFrozen(We)&&dn(We)}}),Ee}function Dn(Ee,$e=[]){return(qn(Ee)||Xn(Ee))&&0===$e.length?{path:["root"],value:Ee}:Object.keys(Ee).reduce((We,st)=>{if(We)return We;const gt=Ee[st];return function ts(Ee){return gi(Ee)&&Ee.hasOwnProperty("\u0275cmp")}(gt)?We:!(qn(gt)||Xn(gt)||function hs(Ee){return"number"==typeof Ee}(gt)||function _n(Ee){return"boolean"==typeof Ee}(gt)||function Pi(Ee){return"string"==typeof Ee}(gt)||an(gt))&&(ui(gt)?Dn(gt,[...$e,st]):{path:[...$e,st],value:gt})},!1)}function Sn(Ee,$e){if(!1===Ee)return;const Ve=Ee.path.join("."),We=new Error(`Detected unserializable ${$e} at "${Ve}". ${Hn}#strict${$e}serializability`);throw We.value=Ee.value,We.unserializablePath=Ve,We}function Di(Ee){return(0,o.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ee}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ka({strictActionSerializability:Ee,strictStateSerializability:$e}){return Ve=>Ee||$e?function Vt(Ee,$e){return function(Ve,We){$e.action(We)&&Sn(Dn(We),"action");const st=Ee(Ve,We);return $e.state()&&Sn(Dn(st),"state"),st}}(Ve,{action:We=>Ee&&!qs(We),state:()=>$e}):Ve}function hu({strictActionImmutability:Ee,strictStateImmutability:$e}){return Ve=>Ee||$e?function $t(Ee,$e){return function(Ve,We){const st=$e.action(We)?dn(We):We,gt=Ee(Ve,st);return $e.state()?dn(gt):gt}}(Ve,{action:We=>Ee&&!qs(We),state:()=>$e}):Ve}function qs(Ee){return Ee.type.startsWith("@ngrx")}function Ur({strictActionWithinNgZone:Ee}){return $e=>Ee?function ji(Ee,$e){return function(Ve,We){if($e.action(We)&&!o.R0b.isInAngularZone())throw new Error(`Action '${We.type}' running outside NgZone. ${Hn}#strictactionwithinngzone`);return Ee(Ve,We)}}($e,{action:Ve=>Ee&&!qs(Ve)}):$e}function St(Ee){return[{provide:Oe,useValue:Ee},{provide:ce,useFactory:ni,deps:[Oe]},{provide:Xe,deps:[ce],useFactory:Di},{provide:Te,multi:!0,deps:[Xe],useFactory:hu},{provide:Te,multi:!0,deps:[Xe],useFactory:Ka},{provide:Te,multi:!0,deps:[Xe],useFactory:Ur}]}function Jt(){return[{provide:wt,multi:!0,deps:[Xe],useFactory:Vr}]}function ni(Ee){return Ee}function Vr(Ee){if(!Ee.strictActionTypeUniqueness)return;const $e=Object.entries(O).filter(([,Ve])=>Ve>1).map(([Ve])=>Ve);if($e.length)throw new Error(`Action types are registered more than once, ${$e.map(Ve=>`"${Ve}"`).join(", ")}. ${Hn}#strictactiontypeuniqueness`)}function Si(Ee={},$e={}){return[{provide:ue,useFactory:Bt},{provide:J,useValue:$e.initialState},{provide:he,useFactory:Ge,deps:[J]},{provide:re,useValue:Ee},{provide:be,useExisting:Ee instanceof o.OlP?Ee:re},{provide:z,deps:[re,[new o.tBr(be)]],useFactory:fs},{provide:ge,useValue:$e.metaReducers?$e.metaReducers:[]},{provide:Be,deps:[Te,ge],useFactory:lt},{provide:Re,useValue:$e.reducerFactory?$e.reducerFactory:Tt},{provide:xe,deps:[Re,Be],useFactory:on},me,di,oi,jt,Ii,St($e.runtimeChecks),Jt()]}function Po(Ee,$e,Ve={}){return[{provide:Le,multi:!0,useValue:Ee instanceof Object?{}:Ve},{provide:de,multi:!0,useValue:{key:Ee instanceof Object?Ee.name:Ee,reducerFactory:Ve instanceof o.OlP||!Ve.reducerFactory?Tt:Ve.reducerFactory,metaReducers:Ve instanceof o.OlP||!Ve.metaReducers?[]:Ve.metaReducers,initialState:Ve instanceof o.OlP||!Ve.initialState?void 0:Ve.initialState}},{provide:tt,deps:[Le,de],useFactory:la},{provide:Fe,multi:!0,useValue:Ee instanceof Object?Ee.reducer:$e},{provide:ye,multi:!0,useExisting:$e instanceof o.OlP?$e:Fe},{provide:ve,multi:!0,deps:[Fe,[new o.tBr(ye)]],useFactory:Je},Jt()]}let As=(()=>{class Ee{constructor(Ve,We,st,gt,yn,Qn){}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)(o.LFG(ie),o.LFG(Ht),o.LFG(hn),o.LFG(Vn),o.LFG(ue,8),o.LFG(wt,8))},Ee.\u0275mod=o.oAB({type:Ee}),Ee.\u0275inj=o.cJS({}),Ee})(),Hr=(()=>{class Ee{constructor(Ve,We,st,gt,yn){this.features=Ve,this.featureReducers=We,this.reducerManager=st;const Qn=Ve.map((Kn,Mi)=>{const Wn=We.shift()[Mi];return{...Kn,reducers:Wn,initialState:Ge(Kn.initialState)}});st.addFeatures(Qn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)(o.LFG(tt),o.LFG(ve),o.LFG(Ei),o.LFG(As),o.LFG(wt,8))},Ee.\u0275mod=o.oAB({type:Ee}),Ee.\u0275inj=o.cJS({}),Ee})(),ks=(()=>{class Ee{static forRoot(Ve,We){return{ngModule:As,providers:[...Si(Ve,We)]}}static forFeature(Ve,We,st={}){return{ngModule:Hr,providers:[...Po(Ve,We,st)]}}}return Ee.\u0275fac=function(Ve){return new(Ve||Ee)},Ee.\u0275mod=o.oAB({type:Ee}),Ee.\u0275inj=o.cJS({}),Ee})();function yi(...Ee){return{reducer:Ee.pop(),types:Ee.map(We=>We.type)}}function Fo(Ee,...$e){const Ve=new Map;for(const We of $e)for(const st of We.types){const gt=Ve.get(st);Ve.set(st,gt?(Qn,Kn)=>We.reducer(gt(Qn,Kn),Kn):We.reducer)}return function(We=Ee,st){const gt=Ve.get(st.type);return gt?gt(We,st):We}}},5861:(Ce,V,C)=>{function o(L,X,H,M,R,D,k){try{var I=L[D](k),A=I.value}catch(O){return void H(O)}I.done?X(A):Promise.resolve(A).then(M,R)}function $(L){return function(){var X=this,H=arguments;return new Promise(function(M,R){var D=L.apply(X,H);function k(A){o(D,M,R,k,I,"next",A)}function I(A){o(D,M,R,k,I,"throw",A)}k(void 0)})}}C.d(V,{Z:()=>$})},7582:(Ce,V,C)=>{function X(ye,ve){var ge={};for(var Te in ye)Object.prototype.hasOwnProperty.call(ye,Te)&&ve.indexOf(Te)<0&&(ge[Te]=ye[Te]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Te=Object.getOwnPropertySymbols(ye);Be<Te.length;Be++)ve.indexOf(Te[Be])<0&&Object.prototype.propertyIsEnumerable.call(ye,Te[Be])&&(ge[Te[Be]]=ye[Te[Be]])}return ge}function O(ye,ve,ge,Te){return new(ge||(ge=Promise))(function(ce,Oe){function Xe(dt){try{Ke(Te.next(dt))}catch(Tt){Oe(Tt)}}function wt(dt){try{Ke(Te.throw(dt))}catch(Tt){Oe(Tt)}}function Ke(dt){dt.done?ce(dt.value):function Be(ce){return ce instanceof ge?ce:new ge(function(Oe){Oe(ce)})}(dt.value).then(Xe,wt)}Ke((Te=Te.apply(ye,ve||[])).next())})}function K(ye){return this instanceof K?(this.v=ye,this):new K(ye)}function te(ye,ve,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Te=ge.apply(ye,ve||[]),ce=[];return Be=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Xe("next"),Xe("throw"),Xe("return",function Oe(bt){return function(on){return Promise.resolve(on).then(bt,Tt)}}),Be[Symbol.asyncIterator]=function(){return this},Be;function Xe(bt,on){Te[bt]&&(Be[bt]=function(bn){return new Promise(function(Ht,xt){ce.push([bt,bn,Ht,xt])>1||wt(bt,bn)})},on&&(Be[bt]=on(Be[bt])))}function wt(bt,on){try{!function Ke(bt){bt.value instanceof K?Promise.resolve(bt.value.v).then(dt,Tt):gn(ce[0][2],bt)}(Te[bt](on))}catch(bn){gn(ce[0][3],bn)}}function dt(bt){wt("next",bt)}function Tt(bt){wt("throw",bt)}function gn(bt,on){bt(on),ce.shift(),ce.length&&wt(ce[0][0],ce[0][1])}}function ie(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ve=ye[Symbol.asyncIterator];return ve?ve.call(ye):(ye=function Y(ye){var ve="function"==typeof Symbol&&Symbol.iterator,ge=ve&&ye[ve],Te=0;if(ge)return ge.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Te>=ye.length&&(ye=void 0),{value:ye&&ye[Te++],done:!ye}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ge={},Te("next"),Te("throw"),Te("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Te(ce){ge[ce]=ye[ce]&&function(Oe){return new Promise(function(Xe,wt){!function Be(ce,Oe,Xe,wt){Promise.resolve(wt).then(function(Ke){ce({value:Ke,done:Xe})},Oe)}(Xe,wt,(Oe=ye[ce](Oe)).done,Oe.value)})}}}C.d(V,{FC:()=>te,KL:()=>ie,_T:()=>X,mG:()=>O,qq:()=>K}),"function"==typeof SuppressedError&&SuppressedError}},Ce=>{Ce(Ce.s=1601)}]);