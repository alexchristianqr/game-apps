"use strict";(self.webpackChunkgame_apps=self.webpackChunkgame_apps||[]).push([[179],{2011:(se,Y,T)=>{T.d(Y,{Dh:()=>ne,GT:()=>H,cc:()=>Ce,hO:()=>ge,on:()=>z,pX:()=>j,xv:()=>J});var l=T(4650),N=T(9260),R=T(263);se=T.hmd(se);const ee=["ngOnDestroy"],j=(ve,xe,Ee,Ae={})=>new Proxy(ve,{get:(Re,ke)=>Ee.runOutsideAngular(()=>{var $e;if(ve[ke])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(ke,ve[ke]),ve[ke];if(ee.indexOf(ke)>-1)return()=>{};const de=xe.toPromise().then(_e=>{const Oe=_e&&_e[ke];return"function"==typeof Oe?Oe.bind(_e):Oe&&Oe.then?Oe.then(it=>Ee.run(()=>it)):Ee.run(()=>Oe)});return new Proxy(()=>{},{get:(_e,Oe)=>de[Oe],apply:(_e,Oe,it)=>de.then(et=>{var Lt;const lt=et&&et(...it);return!(null===(Lt=Ae?.spy)||void 0===Lt)&&Lt.apply&&Ae.spy.apply(ke,it,lt),lt})})})}),H=(ve,xe)=>{xe.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Ae=>{Object.defineProperty(ve.prototype,Ae,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Ae))})})};class te{constructor(xe){return xe}}const ne=new l.OlP("angularfire2.app.options"),J=new l.OlP("angularfire2.app.name");function z(ve,xe,Ee){const Re="object"==typeof Ee&&Ee||{};Re.name=Re.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const $e=N.Z.apps.filter(de=>de&&de.name===Re.name)[0]||xe.runOutsideAngular(()=>N.Z.initializeApp(ve,Re));try{JSON.stringify(ve)!==JSON.stringify($e.options)&&G("error",`${$e.name} Firebase App already initialized with different options${se.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te($e)}const G=(ve,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ve](...xe)},Z={provide:te,useFactory:z,deps:[ne,l.R0b,[new l.FiY,J]]};let ge=(()=>{class ve{constructor(Ee){N.Z.registerVersion("angularfire",R.q4.full,"core"),N.Z.registerVersion("angularfire",R.q4.full,"app-compat"),N.Z.registerVersion("angular",l.q4F.full,Ee.toString())}static initializeApp(Ee,Ae){return{ngModule:ve,providers:[{provide:ne,useValue:Ee},{provide:J,useValue:Ae}]}}}return ve.\u0275fac=function(Ee){return new(Ee||ve)(l.LFG(l.Lbi))},ve.\u0275mod=l.oAB({type:ve}),ve.\u0275inj=l.cJS({providers:[Z]}),ve})();function Ce(ve,xe,Ee,Ae,Re){const[,ke,$e]=globalThis.\u0275AngularfireInstanceCache.find(de=>de[0]===ve)||[];if(ke)return function Le(ve,xe){try{return ve.toString()===xe.toString()}catch{return ve===xe}}(Re,$e)||(pe("error",`${xe} was already initialized on the ${Ee} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Re,was:$e})),ke;{const de=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ve,de,Re]),de}}const Ge=!!se.hot,pe=(ve,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ve](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(se,Y,T)=>{T.d(Y,{q4:()=>ia,iC:()=>wu,fc:()=>Io,HU:()=>Pr,vb:()=>eg,JM:()=>Wa});var l=T(4650),N=T(259),R=T(9671),ee=T(9681),j=T(2090),H=T(4859),te=T(1877),ne=T(8766);const J="@firebase/installations",z="0.6.1",Z=`w:${z}`,ge="FIS_v2",xe=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(S){return S instanceof j.ZR&&S.code.includes("request-failed")}function Ae({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Re(S){return{token:S.token,requestStatus:2,expiresIn:et(S.expiresIn),creationTime:Date.now()}}function ke(S,I){return $e.apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(S,I){const Q=(yield I.json()).error;return xe.create("request-failed",{requestName:S,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function de({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function _e(S,{refreshToken:I}){const O=de(S);return O.append("Authorization",function Lt(S){return`${ge} ${S}`}(I)),O}function Oe(S){return it.apply(this,arguments)}function it(){return(it=(0,R.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function et(S){return Number(S.replace("s","000"))}function lt(S,I){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:O}){const Q=Ae(S),ue=de(S),we=I.getImmediate({optional:!0});if(we){const At=yield we.getHeartbeatsHeader();At&&ue.append("x-firebase-client",At)}const vt={method:"POST",headers:ue,body:JSON.stringify({fid:O,authVersion:ge,appId:S.appId,sdkVersion:Z})},Dt=yield Oe(()=>fetch(Q,vt));if(Dt.ok){const At=yield Dt.json();return{fid:At.fid||O,registrationStatus:2,refreshToken:At.refreshToken,authToken:Re(At.authToken)}}throw yield ke("Create Installation",Dt)})).apply(this,arguments)}function Ie(S){return new Promise(I=>{setTimeout(I,S)})}const Ue=/^[cdef][\w-]{21}$/;function Qe(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const O=function ut(S){return function Pe(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Ue.test(O)?O:""}catch{return""}}function st(S){return`${S.appName}!${S.appId}`}const xn=new Map;function Mt(S,I){const O=st(S);mn(O,I),function Tn(S,I){const O=function gn(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=S=>{mn(S.data.key,S.data.fid)}),In}();O&&O.postMessage({key:S,fid:I}),function ei(){0===xn.size&&In&&(In.close(),In=null)}()}(O,I)}function mn(S,I){const O=xn.get(S);if(O)for(const Q of O)Q(I)}let In=null;const Yn="firebase-installations-store";let er=null;function Tr(){return er||(er=(0,ne.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Yn)}})),er}function bn(S,I){return li.apply(this,arguments)}function li(){return(li=(0,R.Z)(function*(S,I){const O=st(S),ue=(yield Tr()).transaction(Yn,"readwrite"),we=ue.objectStore(Yn),ze=yield we.get(O);return yield we.put(I,O),yield ue.done,(!ze||ze.fid!==I.fid)&&Mt(S,I.fid),I})).apply(this,arguments)}function _t(S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.Z)(function*(S){const I=st(S),Q=(yield Tr()).transaction(Yn,"readwrite");yield Q.objectStore(Yn).delete(I),yield Q.done})).apply(this,arguments)}function Ti(S,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,R.Z)(function*(S,I){const O=st(S),ue=(yield Tr()).transaction(Yn,"readwrite"),we=ue.objectStore(Yn),ze=yield we.get(O),vt=I(ze);return void 0===vt?yield we.delete(O):yield we.put(vt,O),yield ue.done,vt&&(!ze||ze.fid!==vt.fid)&&Mt(S,vt.fid),vt})).apply(this,arguments)}function ti(S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,R.Z)(function*(S){let I;const O=yield Ti(S.appConfig,Q=>{const ue=Vt(Q),we=Tt(S,ue);return I=we.registrationPromise,we.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Vt(S){return ni(S||{fid:Qe(),registrationStatus:0})}function Tt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(xe.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},Q=function Ht(S,I){return Dn.apply(this,arguments)}(S,O);return{installationEntry:O,registrationPromise:Q}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ci(S)}:{installationEntry:I}}function Dn(){return(Dn=(0,R.Z)(function*(S,I){try{const O=yield lt(S,I);return bn(S.appConfig,O)}catch(O){throw Ee(O)&&409===O.customData.serverCode?yield _t(S.appConfig):yield bn(S.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ci(S){return zn.apply(this,arguments)}function zn(){return(zn=(0,R.Z)(function*(S){let I=yield ji(S.appConfig);for(;1===I.registrationStatus;)yield Ie(100),I=yield ji(S.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:Q}=yield ti(S);return Q||O}return I})).apply(this,arguments)}function ji(S){return Ti(S,I=>{if(!I)throw xe.create("installation-not-found");return ni(I)})}function ni(S){return function mr(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Yt(S,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,R.Z)(function*({appConfig:S,heartbeatServiceProvider:I},O){const Q=en(S,O),ue=_e(S,O),we=I.getImmediate({optional:!0});if(we){const At=yield we.getHeartbeatsHeader();At&&ue.append("x-firebase-client",At)}const vt={method:"POST",headers:ue,body:JSON.stringify({installation:{sdkVersion:Z,appId:S.appId}})},Dt=yield Oe(()=>fetch(Q,vt));if(Dt.ok)return Re(yield Dt.json());throw yield ke("Generate Auth Token",Dt)})).apply(this,arguments)}function en(S,{fid:I}){return`${Ae(S)}/${I}/authTokens:generate`}function zi(S){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,R.Z)(function*(S,I=!1){let O;const Q=yield Ti(S.appConfig,we=>{if(!an(we))throw xe.create("not-registered");const ze=we.authToken;if(!I&&re(ze))return we;if(1===ze.requestStatus)return O=Xe(S,I),we;{if(!navigator.onLine)throw xe.create("app-offline");const vt=oe(we);return O=kt(S,vt),vt}});return O?yield O:Q.authToken})).apply(this,arguments)}function Xe(S,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(S,I){let O=yield ct(S.appConfig);for(;1===O.authToken.requestStatus;)yield Ie(100),O=yield ct(S.appConfig);const Q=O.authToken;return 0===Q.requestStatus?zi(S,I):Q})).apply(this,arguments)}function ct(S){return Ti(S,I=>{if(!an(I))throw xe.create("not-registered");return function K(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function kt(S,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(S,I){try{const O=yield Yt(S,I),Q=Object.assign(Object.assign({},I),{authToken:O});return yield bn(S.appConfig,Q),O}catch(O){if(!Ee(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const Q=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield bn(S.appConfig,Q)}else yield _t(S.appConfig);throw O}})).apply(this,arguments)}function an(S){return void 0!==S&&2===S.registrationStatus}function re(S){return 2===S.requestStatus&&!function X(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function oe(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function q(){return(q=(0,R.Z)(function*(S){const I=S,{installationEntry:O,registrationPromise:Q}=yield ti(I);return Q?Q.catch(console.error):zi(I).catch(console.error),O.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,R.Z)(function*(S,I=!1){const O=S;return yield wt(O),(yield zi(O,I)).token})).apply(this,arguments)}function wt(S){return rt.apply(this,arguments)}function rt(){return(rt=(0,R.Z)(function*(S){const{registrationPromise:I}=yield ti(S);I&&(yield I)})).apply(this,arguments)}function $o(S){return xe.create("missing-app-config-values",{valueName:S})}const cl="installations",_o=S=>{const I=S.getProvider("app").getImmediate(),O=function go(S){if(!S||!S.options)throw $o("App Configuration");if(!S.name)throw $o("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!S.options[O])throw $o(O);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,ee._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},xa=S=>{const I=S.getProvider("app").getImmediate(),O=(0,ee._getProvider)(I,cl).getImmediate();return{getId:()=>function F(S){return q.apply(this,arguments)}(O),getToken:ue=>function ye(S){return Ve.apply(this,arguments)}(O,ue)}};(function ul(){(0,ee._registerComponent)(new H.wA(cl,_o,"PUBLIC")),(0,ee._registerComponent)(new H.wA("installations-internal",xa,"PRIVATE"))})(),(0,ee.registerVersion)(J,z),(0,ee.registerVersion)(J,z,"esm2017");const yo="@firebase/remote-config",ii=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ${constructor(I,O,Q,ue){this.client=I,this.storage=O,this.storageCache=Q,this.logger=ue}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-O,ue=Q<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ue}.`),ue}fetch(I){var O=this;return(0,R.Z)(function*(){const[Q,ue]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ue&&O.isCachedDataFresh(I.cacheMaxAgeMillis,Q))return ue;I.eTag=ue&&ue.eTag;const we=yield O.client.fetch(I),ze=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&ze.push(O.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(ze),we})()}}function me(S=navigator){return S.languages&&S.languages[0]||S.language}class ce{constructor(I,O,Q,ue,we,ze){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=Q,this.projectId=ue,this.apiKey=we,this.appId=ze}fetch(I){var O=this;return(0,R.Z)(function*(){const[Q,ue]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Dt={sdk_version:O.sdkVersion,app_instance_id:Q,app_instance_id_token:ue,app_id:O.appId,language_code:me()},At={method:"POST",headers:vt,body:JSON.stringify(Dt)},Xt=fetch(ze,At),Zt=new Promise((Bs,Us)=>{I.signal.addEventListener(()=>{const Eu=new Error("The operation was aborted.");Eu.name="AbortError",Us(Eu)})});let wr;try{yield Promise.race([Xt,Zt]),wr=yield Xt}catch(Bs){let Us="fetch-client-network";throw"AbortError"===Bs?.name&&(Us="fetch-timeout"),ii.create(Us,{originalErrorMessage:Bs?.message})}let Ci=wr.status;const vs=wr.headers.get("ETag")||void 0;let Mo,sa;if(200===wr.status){let Bs;try{Bs=yield wr.json()}catch(Us){throw ii.create("fetch-client-parse",{originalErrorMessage:Us?.message})}Mo=Bs.entries,sa=Bs.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?Ci=500:"NO_CHANGE"===sa?Ci=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(Mo={}),304!==Ci&&200!==Ci)throw ii.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:vs,config:Mo}})()}}class Ye{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,R.Z)(function*(){const Q=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,Q)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:Q}){var ue=this;return(0,R.Z)(function*(){yield function Se(S,I){return new Promise((O,Q)=>{const ue=Math.max(I-Date.now(),0),we=setTimeout(O,ue);S.addEventListener(()=>{clearTimeout(we),Q(ii.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const we=yield ue.client.fetch(I);return yield ue.storage.deleteThrottleMetadata(),we}catch(we){if(!function je(S){if(!(S instanceof j.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(we))throw we;const ze={throttleEndTimeMillis:Date.now()+(0,j.$s)(Q),backoffCount:Q+1};return yield ue.storage.setThrottleMetadata(ze),ue.attemptFetch(I,ze)}})()}}class Vn{constructor(I,O,Q,ue,we){this.app=I,this._client=O,this._storageCache=Q,this._storage=ue,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ri(S,I){const O=S.target.error||void 0;return ii.create(I,{originalErrorMessage:O&&O?.message})}const dn="app_namespace_store";class nr{constructor(I,O,Q,ue=function tr(){return new Promise((S,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=Q=>{I(ri(Q,"storage-open"))},O.onsuccess=Q=>{S(Q.target.result)},O.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(dn,{keyPath:"compositeKey"})}}catch(O){I(ii.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=I,this.appName=O,this.namespace=Q,this.openDbPromise=ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,R.Z)(function*(){const Q=yield O.openDbPromise;return new Promise((ue,we)=>{const vt=Q.transaction([dn],"readonly").objectStore(dn),Dt=O.createCompositeKey(I);try{const At=vt.get(Dt);At.onerror=Xt=>{we(ri(Xt,"storage-get"))},At.onsuccess=Xt=>{const Zt=Xt.target.result;ue(Zt?Zt.value:void 0)}}catch(At){we(ii.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(I,O){var Q=this;return(0,R.Z)(function*(){const ue=yield Q.openDbPromise;return new Promise((we,ze)=>{const Dt=ue.transaction([dn],"readwrite").objectStore(dn),At=Q.createCompositeKey(I);try{const Xt=Dt.put({compositeKey:At,value:O});Xt.onerror=Zt=>{ze(ri(Zt,"storage-set"))},Xt.onsuccess=()=>{we()}}catch(Xt){ze(ii.create("storage-set",{originalErrorMessage:Xt?.message}))}})})()}delete(I){var O=this;return(0,R.Z)(function*(){const Q=yield O.openDbPromise;return new Promise((ue,we)=>{const vt=Q.transaction([dn],"readwrite").objectStore(dn),Dt=O.createCompositeKey(I);try{const At=vt.delete(Dt);At.onerror=Xt=>{we(ri(Xt,"storage-delete"))},At.onsuccess=()=>{ue()}}catch(At){we(ii.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ks{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const O=I.storage.getLastFetchStatus(),Q=I.storage.getLastSuccessfulFetchTimestampMillis(),ue=I.storage.getActiveConfig(),we=yield O;we&&(I.lastFetchStatus=we);const ze=yield Q;ze&&(I.lastSuccessfulFetchTimestampMillis=ze);const vt=yield ue;vt&&(I.activeConfig=vt)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function jm(){return nc.apply(this,arguments)}function nc(){return(nc=(0,R.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function hl(){(0,ee._registerComponent)(new H.wA("remote-config",function S(I,{instanceIdentifier:O}){const Q=I.getProvider("app").getImmediate(),ue=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,j.hl)())throw ii.create("indexed-db-unavailable");const{projectId:we,apiKey:ze,appId:vt}=Q.options;if(!we)throw ii.create("registration-project-id");if(!ze)throw ii.create("registration-api-key");if(!vt)throw ii.create("registration-app-id");const Dt=new nr(vt,Q.name,O=O||"firebase"),At=new Ks(Dt),Xt=new te.Yd(yo);Xt.logLevel=te.in.ERROR;const Zt=new ce(ue,ee.SDK_VERSION,O,we,ze,vt),wr=new Ye(Zt,Dt),Ci=new $(wr,Dt,At,Xt),vs=new Vn(Q,Ci,At,Dt,Xt);return function Un(S){const I=(0,j.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(vs),vs},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(yo,"0.4.1"),(0,ee.registerVersion)(yo,"0.4.1","esm2017")}();const Ys="/firebase-messaging-sw.js",Sa="/firebase-cloud-messaging-push-scope",fl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pd="google.c.a.c_id",Gm="google.c.a.c_l",$m="google.c.a.ts",pl="google.c.a.e";var Os=(()=>{return(S=Os||(Os={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Os;var S})();function Wo(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wm(S){const O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(O),ue=new Uint8Array(Q.length);for(let we=0;we<Q.length;++we)ue[we]=Q.charCodeAt(we);return ue}const _r="fcm_token_details_db",ic="fcm_token_object_Store";function md(S){return rc.apply(this,arguments)}function rc(){return rc=(0,R.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(_r))return null;let I=null;return(yield(0,ne.X3)(_r,5,{upgrade:(Q=(0,R.Z)(function*(ue,we,ze,vt){var Dt;if(we<2||!ue.objectStoreNames.contains(ic))return;const At=vt.objectStore(ic),Xt=yield At.index("fcmSenderId").get(S);if(yield At.clear(),Xt)if(2===we){const Zt=Xt;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;I={token:Zt.fcmToken,createTime:null!==(Dt=Zt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:Wo(Zt.vapidKey)}}}else if(3===we){const Zt=Xt;I={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:Wo(Zt.auth),p256dh:Wo(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:Wo(Zt.vapidKey)}}}else if(4===we){const Zt=Xt;I={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:Wo(Zt.auth),p256dh:Wo(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:Wo(Zt.vapidKey)}}}}),function(we,ze,vt,Dt){return Q.apply(this,arguments)})})).close(),yield(0,ne.Lj)(_r),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),eu(I)?I:null;var Q}),rc.apply(this,arguments)}function eu(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ia="firebase-messaging-store";let Ta=null;function Ma(){return Ta||(Ta=(0,ne.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Ia)}})),Ta}function sc(S){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(S){const I=Yo(S),Q=yield(yield Ma()).transaction(Ia).objectStore(Ia).get(I);if(Q)return Q;{const ue=yield md(S.appConfig.senderId);if(ue)return yield Aa(S,ue),ue}})).apply(this,arguments)}function Aa(S,I){return oc.apply(this,arguments)}function oc(){return(oc=(0,R.Z)(function*(S,I){const O=Yo(S),ue=(yield Ma()).transaction(Ia,"readwrite");return yield ue.objectStore(Ia).put(I,O),yield ue.done,I})).apply(this,arguments)}function tu(S){return ml.apply(this,arguments)}function ml(){return(ml=(0,R.Z)(function*(S){const I=Yo(S),Q=(yield Ma()).transaction(Ia,"readwrite");yield Q.objectStore(Ia).delete(I),yield Q.done})).apply(this,arguments)}function Yo({appConfig:S}){return S.appId}const mi=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nu(S,I){return di.apply(this,arguments)}function di(){return(di=(0,R.Z)(function*(S,I){const O=yield Zs(S),Q=lc(I),ue={method:"POST",headers:O,body:JSON.stringify(Q)};let we;try{we=yield(yield fetch(ac(S.appConfig),ue)).json()}catch(ze){throw mi.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(we.error)throw mi.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw mi.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function iu(S,I){return bo.apply(this,arguments)}function bo(){return(bo=(0,R.Z)(function*(S,I){const O=yield Zs(S),Q=lc(I.subscriptionOptions),ue={method:"PATCH",headers:O,body:JSON.stringify(Q)};let we;try{we=yield(yield fetch(`${ac(S.appConfig)}/${I.token}`,ue)).json()}catch(ze){throw mi.create("token-update-failed",{errorInfo:ze?.toString()})}if(we.error)throw mi.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw mi.create("token-update-no-token");return we.token})).apply(this,arguments)}function Wi(S,I){return gl.apply(this,arguments)}function gl(){return(gl=(0,R.Z)(function*(S,I){const Q={method:"DELETE",headers:yield Zs(S)};try{const we=yield(yield fetch(`${ac(S.appConfig)}/${I}`,Q)).json();if(we.error)throw mi.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(ue){throw mi.create("token-unsubscribe-failed",{errorInfo:ue?.toString()})}})).apply(this,arguments)}function ac({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Zs(S){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,R.Z)(function*({appConfig:S,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function lc({p256dh:S,auth:I,endpoint:O,vapidKey:Q}){const ue={web:{endpoint:O,auth:I,p256dh:S}};return Q!==fl&&(ue.web.applicationPubKey=Q),ue}const Zo=6048e5;function yf(S){return fs.apply(this,arguments)}function fs(){return(fs=(0,R.Z)(function*(S){const I=yield bf(S.swRegistration,S.vapidKey),O={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:Wo(I.getKey("auth")),p256dh:Wo(I.getKey("p256dh"))},Q=yield sc(S.firebaseDependencies);if(Q){if(_d(Q.subscriptionOptions,O))return Date.now()>=Q.createTime+Zo?Qt(S,{token:Q.token,createTime:Date.now(),subscriptionOptions:O}):Q.token;try{yield Wi(S.firebaseDependencies,Q.token)}catch(ue){console.warn(ue)}return vf(S.firebaseDependencies,O)}return vf(S.firebaseDependencies,O)})).apply(this,arguments)}function ru(S){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,R.Z)(function*(S){const I=yield sc(S.firebaseDependencies);I&&(yield Wi(S.firebaseDependencies,I.token),yield tu(S.firebaseDependencies));const O=yield S.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Qt(S,I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,R.Z)(function*(S,I){try{const O=yield iu(S.firebaseDependencies,I),Q=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Aa(S.firebaseDependencies,Q),O}catch(O){throw yield ru(S),O}})).apply(this,arguments)}function vf(S,I){return _l.apply(this,arguments)}function _l(){return(_l=(0,R.Z)(function*(S,I){const Q={token:yield nu(S,I),createTime:Date.now(),subscriptionOptions:I};return yield Aa(S,Q),Q.token})).apply(this,arguments)}function bf(S,I){return yl.apply(this,arguments)}function yl(){return(yl=(0,R.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wm(I)})})).apply(this,arguments)}function _d(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function su(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function wf(S,I){if(!I.notification)return;S.notification={};const O=I.notification.title;O&&(S.notification.title=O);const Q=I.notification.body;Q&&(S.notification.body=Q);const ue=I.notification.image;ue&&(S.notification.image=ue);const we=I.notification.icon;we&&(S.notification.icon=we)}(I,S),function Fe(S,I){I.data&&(S.data=I.data)}(I,S),function _n(S,I){var O,Q,ue,we,ze;if(!(I.fcmOptions||null!==(O=I.notification)&&void 0!==O&&O.click_action))return;S.fcmOptions={};const vt=null!==(ue=null===(Q=I.fcmOptions)||void 0===Q?void 0:Q.link)&&void 0!==ue?ue:null===(we=I.notification)||void 0===we?void 0:we.click_action;vt&&(S.fcmOptions.link=vt);const Dt=null===(ze=I.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Dt&&(S.fcmOptions.analyticsLabel=Dt)}(I,S),I}function Ef(S){return"object"==typeof S&&!!S&&pd in S}function yd(S,I){const O=[];for(let Q=0;Q<S.length;Q++)O.push(S.charAt(Q)),Q<I.length&&O.push(I.charAt(Q));return O.join("")}function ou(S){return mi.create("missing-app-config-values",{valueName:S})}yd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ka{constructor(I,O,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ue=function Fi(S){if(!S||!S.options)throw ou("App Configuration Object");if(!S.name)throw ou("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=S;for(const Q of I)if(!O[Q])throw ou(Q);return{appName:S.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ue,installations:O,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function ps(S){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,R.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ys,{scope:Sa}),S.swRegistration.update().catch(()=>{})}catch(I){throw mi.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function vd(S,I){return cc.apply(this,arguments)}function cc(){return(cc=(0,R.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield ps(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw mi.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function Cf(S,I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=fl)})).apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(S,I){if(!navigator)throw mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mi.create("permission-blocked");return yield Cf(S,I?.vapidKey),yield vd(S,I?.serviceWorkerRegistration),yf(S)})).apply(this,arguments)}function Fa(S,I,O){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,R.Z)(function*(S,I,O){const Q=wo(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:O[pd],message_name:O[Gm],message_time:O[$m],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wo(S){switch(S){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Na(){return(Na=(0,R.Z)(function*(S,I){const O=I.data;if(!O.isFirebaseMessaging)return;S.onMessageHandler&&O.messageType===Os.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(su(O)):S.onMessageHandler.next(su(O)));const Q=O.data;Ef(Q)&&"1"===Q[pl]&&(yield Fa(S,O.messageType,Q))})).apply(this,arguments)}const au="@firebase/messaging",Eo=S=>{const I=new ka(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function bd(S,I){return Na.apply(this,arguments)}(I,O)),I},vl=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:Q=>function ir(S,I){return yr.apply(this,arguments)}(I,Q)}};function lu(){return wd.apply(this,arguments)}function wd(){return(wd=(0,R.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Df(){(0,ee._registerComponent)(new H.wA("messaging",Eo,"PUBLIC")),(0,ee._registerComponent)(new H.wA("messaging-internal",vl,"PRIVATE")),(0,ee.registerVersion)(au,"0.12.1"),(0,ee.registerVersion)(au,"0.12.1","esm2017")}();const Cd="analytics",Rr="firebase_id",cu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",If="https://www.googletagmanager.com/gtag/js",qi=new te.Yd("@firebase/analytics");function Tf(S){return Promise.all(S.map(I=>I.catch(O=>O)))}function Qm(S,I){const O=document.createElement("script");O.src=`${If}?l=${S}&id=${I}`,O.async=!0,document.head.appendChild(O)}function bl(S,I,O,Q,ue,we){return La.apply(this,arguments)}function La(){return(La=(0,R.Z)(function*(S,I,O,Q,ue,we){const ze=Q[ue];try{if(ze)yield I[ze];else{const Dt=(yield Tf(O)).find(At=>At.measurementId===ue);Dt&&(yield I[Dt.appId])}}catch(vt){qi.error(vt)}S("config",ue,we)})).apply(this,arguments)}function Js(S,I,O,Q,ue){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(S,I,O,Q,ue){try{let we=[];if(ue&&ue.send_to){let ze=ue.send_to;Array.isArray(ze)||(ze=[ze]);const vt=yield Tf(O);for(const Dt of ze){const At=vt.find(Zt=>Zt.measurementId===Dt),Xt=At&&I[At.appId];if(!Xt){we=[];break}we.push(Xt)}}0===we.length&&(we=Object.values(I)),yield Promise.all(we),S("event",Q,ue||{})}catch(we){qi.error(we)}})).apply(this,arguments)}function Ba(S){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(If)&&O.src.includes(S))return O;return null}const kr=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cl=new class Xm{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Co(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Mf(S){return hi.apply(this,arguments)}function hi(){return(hi=(0,R.Z)(function*(S){var I;const{appId:O,apiKey:Q}=S,ue={method:"GET",headers:Co(Q)},we=cu.replace("{app-id}",O),ze=yield fetch(we,ue);if(200!==ze.status&&304!==ze.status){let vt="";try{const Dt=yield ze.json();null!==(I=Dt.error)&&void 0!==I&&I.message&&(vt=Dt.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:vt})}return ze.json()})).apply(this,arguments)}function Xo(S){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,R.Z)(function*(S,I=Cl,O){const{appId:Q,apiKey:ue,measurementId:we}=S.options;if(!Q)throw kr.create("no-app-id");if(!ue){if(we)return{measurementId:we,appId:Q};throw kr.create("no-api-key")}const ze=I.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vt=new Dl;return setTimeout((0,R.Z)(function*(){vt.abort()}),void 0!==O?O:6e4),xl({appId:Q,apiKey:ue,measurementId:we},ze,vt,I)})).apply(this,arguments)}function xl(S,I,O){return ms.apply(this,arguments)}function ms(){return(ms=(0,R.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:O},Q,ue=Cl){var we;const{appId:ze,measurementId:vt}=S;try{yield uu(Q,I)}catch(Dt){if(vt)return qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Dt?.message}]`),{appId:ze,measurementId:vt};throw Dt}try{const Dt=yield Mf(S);return ue.deleteThrottleMetadata(ze),Dt}catch(Dt){const At=Dt;if(!du(At)){if(ue.deleteThrottleMetadata(ze),vt)return qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:ze,measurementId:vt};throw Dt}const Xt=503===Number(null===(we=At?.customData)||void 0===we?void 0:we.httpStatus)?(0,j.$s)(O,ue.intervalMillis,30):(0,j.$s)(O,ue.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+Xt,backoffCount:O+1};return ue.setThrottleMetadata(ze,Zt),qi.debug(`Calling attemptFetch again in ${Xt} millis`),xl(S,Zt,Q,ue)}})).apply(this,arguments)}function uu(S,I){return new Promise((O,Q)=>{const ue=Math.max(I-Date.now(),0),we=setTimeout(O,ue);S.addEventListener(()=>{clearTimeout(we),Q(kr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function du(S){if(!(S instanceof j.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Dl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let hu,Ha;function Ua(){return(Ua=(0,R.Z)(function*(S,I,O,Q,ue){if(ue&&ue.global)S("event",O,Q);else{const we=yield I;S("event",O,Object.assign(Object.assign({},Q),{send_to:we}))}})).apply(this,arguments)}function fu(S){Ha=S}function Il(S){hu=S}function Td(){return hc.apply(this,arguments)}function hc(){return(hc=(0,R.Z)(function*(){if(!(0,j.hl)())return qi.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(S){return qi.warn(kr.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function ja(){return(ja=(0,R.Z)(function*(S,I,O,Q,ue,we,ze){var vt;const Dt=Xo(S);Dt.then(Ci=>{O[Ci.measurementId]=Ci.appId,S.options.measurementId&&Ci.measurementId!==S.options.measurementId&&qi.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>qi.error(Ci)),I.push(Dt);const At=Td().then(Ci=>{if(Ci)return Q.getId()}),[Xt,Zt]=yield Promise.all([Dt,At]);Ba(we)||Qm(we,Xt.measurementId),Ha&&(ue("consent","default",Ha),fu(void 0)),ue("js",new Date);const wr=null!==(vt=ze?.config)&&void 0!==vt?vt:{};return wr.origin="firebase",wr.update=!0,null!=Zt&&(wr[Rr]=Zt),ue("config",Xt.measurementId,wr),hu&&(ue("set",hu),Il(void 0)),Xt.measurementId})).apply(this,arguments)}class Af{constructor(I){this.app=I}_delete(){return delete gs[this.app.options.appId],Promise.resolve()}}let gs={},pu=[];const Tl={};let mu,Or,_s="dataLayer",So=!1;function za(S,I,O){!function gu(){const S=[];if((0,j.ru)()&&S.push("This is a browser extension environment."),(0,j.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((Q,ue)=>`(${ue+1}) ${Q}`).join(" "),O=kr.create("invalid-analytics-context",{errorInfo:I});qi.warn(O.message)}}();const Q=S.options.appId;if(!Q)throw kr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw kr.create("no-api-key");qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gs[Q])throw kr.create("already-exists",{id:Q});if(!So){!function xd(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(_s);const{wrappedGtag:we,gtagCore:ze}=function dc(S,I,O,Q,ue){let we=function(...ze){window[Q].push(arguments)};return window[ue]&&"function"==typeof window[ue]&&(we=window[ue]),window[ue]=function Dd(S,I,O,Q){function we(){return(we=(0,R.Z)(function*(ze,vt,Dt){try{"event"===ze?yield Js(S,I,O,vt,Dt):"config"===ze?yield bl(S,I,O,Q,vt,Dt):"consent"===ze?S("consent","update",Dt):S("set",vt)}catch(At){qi.error(At)}})).apply(this,arguments)}return function ue(ze,vt,Dt){return we.apply(this,arguments)}}(we,S,I,O),{gtagCore:we,wrappedGtag:window[ue]}}(gs,pu,Tl,_s,"gtag");Or=we,mu=ze,So=!0}return gs[Q]=function Md(S,I,O,Q,ue,we,ze){return ja.apply(this,arguments)}(S,pu,Tl,I,mu,_s,O),new Af(S)}function _u(){return ta.apply(this,arguments)}function ta(){return(ta=(0,R.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const fn="@firebase/analytics";!function kd(){(0,ee._registerComponent)(new H.wA(Cd,(I,{options:O})=>za(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ee._registerComponent)(new H.wA("analytics-internal",function S(I){try{const O=I.getProvider(Cd).getImmediate();return{logEvent:(Q,ue,we)=>function Ff(S,I,O,Q){S=(0,j.m9)(S),function ea(S,I,O,Q,ue){return Ua.apply(this,arguments)}(Or,gs[S.app.options.appId],I,O,Q).catch(ue=>qi.error(ue))}(O,Q,ue,we)}}catch(O){throw kr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ee.registerVersion)(fn,"0.9.1"),(0,ee.registerVersion)(fn,"0.9.1","esm2017")}();var Od=T(233),yu=T(4986),Pd=T(8505),Fd=T(5363),rv=T(9468);const ia=new l.GfV("7.5.0"),Bf="__angularfire_symbol__analyticsIsSupportedValue",ra="__angularfire_symbol__analyticsIsSupported",si="__angularfire_symbol__remoteConfigIsSupportedValue",pc="__angularfire_symbol__remoteConfigIsSupported",Ga="__angularfire_symbol__messagingIsSupportedValue",vu="__angularfire_symbol__messagingIsSupported";function Wa(S,I,O){if(I){if(1===I.length)return I[0];const we=I.filter(ze=>ze.app===O);if(1===we.length)return we[0]}return O.container.getProvider(S).getImmediate({optional:!0})}globalThis[ra]||(globalThis[ra]=_u().then(S=>globalThis[Bf]=S).catch(()=>globalThis[Bf]=!1)),globalThis[vu]||(globalThis[vu]=lu().then(S=>globalThis[Ga]=S).catch(()=>globalThis[Ga]=!1)),globalThis[pc]||(globalThis[pc]=jm().then(S=>globalThis[si]=S).catch(()=>globalThis[si]=!1));const eg=(S,I)=>{const O=I?[I]:(0,N.C6)(),Q=[];return O.forEach(ue=>{ue.container.getProvider(S).instances.forEach(ze=>{Q.includes(ze)||Q.push(ze)})}),Q};function eo(){}class Ld{constructor(I,O=Od.N){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,Q){const ue=this.zone;return this.delegate.schedule(function(ze){ue.runGuarded(()=>{I.apply(this,[ze])})},O,Q)}}class bu{constructor(I){this.zone=I,this.task=null}call(I,O){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),O.pipe((0,Pd.b)({next:Q,complete:Q,error:Q})).subscribe(I).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pr=(()=>{class S{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=O.run(()=>new Ld(Zone.current,yu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(O){return new(O||S)(l.LFG(l.R0b))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ns(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Io(S){return S.pipe((0,Fd.Q)(Ns().outsideAngular))}function wu(S){return Ns(),function mc(S){return function(O){return(O=O.lift(new bu(S.ngZone))).pipe((0,rv.R)(S.outsideAngular),(0,Fd.Q)(S.insideAngular))}}(Ns())(S)}},1808:(se,Y,T)=>{T.d(Y,{$:()=>ac,A:()=>G,B:()=>Ce,G:()=>xa,H:()=>Gn,J:()=>Ye,L:()=>re,M:()=>nc,N:()=>zm,P:()=>Bf,Q:()=>pd,R:()=>Rd,T:()=>Gm,U:()=>fl,V:()=>Os,W:()=>Wo,X:()=>md,Y:()=>Ar,Z:()=>nu,_:()=>iu,a:()=>El,a0:()=>yf,a1:()=>ru,a2:()=>Qt,a3:()=>vf,a4:()=>bf,a5:()=>_d,a6:()=>wf,a7:()=>Fe,a8:()=>Ef,a9:()=>yd,aA:()=>X,aB:()=>Ci,aC:()=>To,aD:()=>Ki,aE:()=>Ei,aI:()=>Co,aL:()=>pl,aa:()=>ps,ab:()=>vd,ac:()=>Cf,af:()=>Fa,ag:()=>wo,ah:()=>bd,ak:()=>Ia,al:()=>uc,an:()=>If,ao:()=>La,ap:()=>Oe,aq:()=>xt,ar:()=>wt,as:()=>Ee,at:()=>Cu,au:()=>tg,av:()=>Ln,aw:()=>Ae,ax:()=>de,ay:()=>Us,az:()=>et,b:()=>kr,c:()=>Nd,d:()=>Ld,e:()=>eg,f:()=>O,g:()=>Dt,h:()=>we,i:()=>hc,j:()=>Zt,k:()=>ts,l:()=>Lf,m:()=>lg,o:()=>ne,r:()=>Od,s:()=>Nf,u:()=>rv});var l=T(9671),N=T(2090),R=T(9681),ee=T(1877),j=T(655),H=T(4859);const ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ee.Yd("@firebase/auth");function xe(w,...g){ve.logLevel<=ee.in.ERROR&&ve.error(`Auth (${R.SDK_VERSION}): ${w}`,...g)}function Ee(w,...g){throw $e(w,...g)}function Ae(w,...g){return $e(w,...g)}function Re(w,g,y){const C=Object.assign(Object.assign({},Le()),{[g]:y});return new N.LL("auth","Firebase",C).create(g,{appName:w.name})}function ke(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ee(w,"argument-error"),Re(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(w,...g){if("string"!=typeof w){const y=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(y,...C)}return Ge.create(w,...g)}function de(w,g,...y){if(!w)throw $e(g,...y)}function _e(w){const g="INTERNAL ASSERTION FAILED: "+w;throw xe(g),new Error(g)}function Oe(w,g){w||_e(g)}const it=new Map;function et(w){Oe(w instanceof Function,"Expected a class definition");let g=it.get(w);return g?(Oe(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,it.set(w,g),g)}function be(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ie(){return"http:"===Pe()||"https:"===Pe()}function Pe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Qe{constructor(g,y){this.shortDelay=g,this.longDelay=y,Oe(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ie()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ut(w,g){Oe(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class st{static initialize(g,y,C){this.fetchImpl=g,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mt=new Qe(3e4,6e4);function It(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function dt(w,g,y,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(w,g,y,C,k={}){return Tn(w,k,(0,l.Z)(function*(){let B={},he={};C&&("GET"===g?he=C:B={body:JSON.stringify(C)});const He=(0,N.xO)(Object.assign({key:w.config.apiKey},he)).slice(1),gt=yield w._getAdditionalHeaders();return gt["Content-Type"]="application/json",w.languageCode&&(gt["X-Firebase-Locale"]=w.languageCode),st.fetch()(bi(w,w.config.apiHost,y,He),Object.assign({method:g,headers:gt,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function Tn(w,g,y){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(w,g,y){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},xn),g);try{const k=new zr(w),B=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const he=yield B.json();if("needConfirmation"in he)throw Yn(w,"account-exists-with-different-credential",he);if(B.ok&&!("errorMessage"in he))return he;{const He=B.ok?he.errorMessage:he.error.message,[gt,St]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Yn(w,"credential-already-in-use",he);if("EMAIL_EXISTS"===gt)throw Yn(w,"email-already-in-use",he);if("USER_DISABLED"===gt)throw Yn(w,"user-disabled",he);const nn=C[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw Re(w,nn,St);Ee(w,nn)}}catch(k){if(k instanceof N.ZR)throw k;Ee(w,"network-request-failed")}})).apply(this,arguments)}function gn(w,g,y,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(w,g,y,C,k={}){const B=yield dt(w,g,y,C,k);return"mfaPendingCredential"in B&&Ee(w,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function bi(w,g,y,C){const k=`${g}${y}?${C}`;return w.config.emulator?ut(w.config,k):`${w.config.apiScheme}://${k}`}class zr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Ae(this.auth,"network-request-failed")),Mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(w,g,y){const C={appName:w.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const k=Ae(w,g,C);return k.customData._tokenResponse=y,k}function Tr(){return(Tr=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bn(w,g){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _t(w,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ti(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Mi(){return(Mi=(0,l.Z)(function*(w,g=!1){const y=(0,N.m9)(w),C=yield y.getIdToken(g),k=Tt(C);de(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const B="object"==typeof k.firebase?k.firebase:void 0,he=B?.sign_in_provider;return{claims:k,token:C,authTime:Ti(Vt(k.auth_time)),issuedAtTime:Ti(Vt(k.iat)),expirationTime:Ti(Vt(k.exp)),signInProvider:he||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(w){return 1e3*Number(w)}function Tt(w){const[g,y,C]=w.split(".");if(void 0===g||void 0===y||void 0===C)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,N.tV)(y);return k?JSON.parse(k):(xe("Failed to decode base64 JWT payload"),null)}catch(k){return xe("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Dn(w,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(C){throw C instanceof N.ZR&&zn(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}function zn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class ji{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),C)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class ni{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ti(this.lastLoginAt),this.creationTime=Ti(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mr(w){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(w){var g;const y=w.auth,C=yield w.getIdToken(),k=yield Dn(w,_t(y,{idToken:C}));de(k?.users.length,y,"internal-error");const B=k.users[0];w._notifyReloadListener(B);const he=null!==(g=B.providerUserInfo)&&void 0!==g&&g.length?Qn(B.providerUserInfo):[],He=zi(w.providerData,he),nn=!!w.isAnonymous&&!(w.email&&B.passwordHash||He?.length),Xn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:He,metadata:new ni(B.createdAt,B.lastLoginAt),isAnonymous:nn};Object.assign(w,Xn)})).apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(w){const g=(0,N.m9)(w);yield mr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function zi(w,g){return[...w.filter(C=>!g.some(k=>k.providerId===C.providerId)),...g]}function Qn(w){return w.map(g=>{var{providerId:y}=g,C=(0,j._T)(g,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Be(){return(Be=(0,l.Z)(function*(w,g){const y=yield Tn(w,{},(0,l.Z)(function*(){const C=(0,N.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:k,apiKey:B}=w.config,he=bi(w,k,"/v1/token",`key=${B}`),He=yield w._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(he,{method:"POST",headers:He,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){de(g.idToken,"internal-error"),de(typeof g.idToken<"u","internal-error"),de(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ht(w){const g=Tt(w);return de(g,"internal-error"),de(typeof g.exp<"u","internal-error"),de(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var C=this;return(0,l.Z)(function*(){return de(!C.accessToken||C.refreshToken,g,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var C=this;return(0,l.Z)(function*(){const{accessToken:k,refreshToken:B,expiresIn:he}=yield function Xe(w,g){return Be.apply(this,arguments)}(g,y);C.updateTokensAndExpiration(k,B,Number(he))})()}updateTokensAndExpiration(g,y,C){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,y){const{refreshToken:C,accessToken:k,expirationTime:B}=y,he=new ct;return C&&(de("string"==typeof C,"internal-error",{appName:g}),he.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:g}),he.accessToken=k),B&&(de("number"==typeof B,"internal-error",{appName:g}),he.expirationTime=B),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return _e("not implemented")}}function kt(w,g){de("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Bt{constructor(g){var{uid:y,auth:C,stsTokenManager:k}=g,B=(0,j._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new ni(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,l.Z)(function*(){const C=yield Dn(y,y.stsTokenManager.getToken(y.auth,g));return de(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(g){return function ti(w){return Mi.apply(this,arguments)}(this,g)}reload(){return function Mr(w){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(de(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Bt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var C=this;return(0,l.Z)(function*(){let k=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),k=!0),y&&(yield mr(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,l.Z)(function*(){const y=yield g.getIdToken();return yield Dn(g,function er(w,g){return Tr.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var C,k,B,he,He,gt,St,nn;const Xn=null!==(C=y.displayName)&&void 0!==C?C:void 0,ns=null!==(k=y.email)&&void 0!==k?k:void 0,rr=null!==(B=y.phoneNumber)&&void 0!==B?B:void 0,Al=null!==(he=y.photoURL)&&void 0!==he?he:void 0,Ro=null!==(He=y.tenantId)&&void 0!==He?He:void 0,Iu=null!==(gt=y._redirectEventId)&&void 0!==gt?gt:void 0,Rl=null!==(St=y.createdAt)&&void 0!==St?St:void 0,qf=null!==(nn=y.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Tu,emailVerified:Kf,isAnonymous:oa,providerData:Hd,stsTokenManager:Yf}=y;de(Tu&&Yf,g,"internal-error");const ko=ct.fromJSON(this.name,Yf);de("string"==typeof Tu,g,"internal-error"),kt(Xn,g.name),kt(ns,g.name),de("boolean"==typeof Kf,g,"internal-error"),de("boolean"==typeof oa,g,"internal-error"),kt(rr,g.name),kt(Al,g.name),kt(Ro,g.name),kt(Iu,g.name),kt(Rl,g.name),kt(qf,g.name);const aa=new Bt({uid:Tu,auth:g,email:ns,emailVerified:Kf,displayName:Xn,isAnonymous:oa,photoURL:Al,phoneNumber:rr,tenantId:Ro,stsTokenManager:ko,createdAt:Rl,lastLoginAt:qf});return Hd&&Array.isArray(Hd)&&(aa.providerData=Hd.map(yc=>Object.assign({},yc))),Iu&&(aa._redirectEventId=Iu),aa}static _fromIdTokenResponse(g,y,C=!1){return(0,l.Z)(function*(){const k=new ct;k.updateFromServerResponse(y);const B=new Bt({uid:y.localId,auth:g,stsTokenManager:k,isAnonymous:C});return yield mr(B),B})()}}const re=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,C){var k=this;return(0,l.Z)(function*(){k.storage[y]=C})()}_get(y){var C=this;return(0,l.Z)(function*(){const k=C.storage[y];return void 0===k?null:k})()}_remove(y){var C=this;return(0,l.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return w.type="NONE",w})();function X(w,g,y){return`firebase:${w}:${g}:${y}`}class oe{constructor(g,y,C){this.persistence=g,this.auth=y,this.userKey=C;const{config:k,name:B}=this.auth;this.fullUserKey=X(this.userKey,k.apiKey,B),this.fullPersistenceKey=X("persistence",k.apiKey,B),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Bt._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,l.Z)(function*(){if(y.persistence===g)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,C="authUser"){return(0,l.Z)(function*(){if(!y.length)return new oe(et(re),g,C);const k=(yield Promise.all(y.map(function(){var St=(0,l.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return St.apply(this,arguments)}}()))).filter(St=>St);let B=k[0]||et(re);const he=X(C,g.config.apiKey,g.name);let He=null;for(const St of y)try{const nn=yield St._get(he);if(nn){const Xn=Bt._fromJSON(g,nn);St!==B&&(He=Xn),B=St;break}}catch{}const gt=k.filter(St=>St._shouldAllowMigration);return B._shouldAllowMigration&&gt.length?(B=gt[0],He&&(yield B._set(he,He.toJSON())),yield Promise.all(y.map(function(){var St=(0,l.Z)(function*(nn){if(nn!==B)try{yield nn._remove(he)}catch{}});return function(nn){return St.apply(this,arguments)}}())),new oe(B,g,C)):new oe(B,g,C)})()}}function K(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ve(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(rt(g))return"Blackberry";if(qt(g))return"Webos";if(q(g))return"Safari";if((g.includes("chrome/")||ye(g))&&!g.includes("edge/"))return"Chrome";if(wt(g))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function F(w=(0,N.z$)()){return/firefox\//i.test(w)}function q(w=(0,N.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ye(w=(0,N.z$)()){return/crios\//i.test(w)}function Ve(w=(0,N.z$)()){return/iemobile/i.test(w)}function wt(w=(0,N.z$)()){return/android/i.test(w)}function rt(w=(0,N.z$)()){return/blackberry/i.test(w)}function qt(w=(0,N.z$)()){return/webos/i.test(w)}function xt(w=(0,N.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ln(w=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Gi(w=(0,N.z$)()){return xt(w)||wt(w)||qt(w)||rt(w)||/windows phone/i.test(w)||Ve(w)}function go(w,g=[]){let y;switch(w){case"Browser":y=K((0,N.z$)());break;case"Worker":y=`${K((0,N.z$)())}-${w}`;break;default:y=w}const C=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${R.SDK_VERSION}/${C}`}class $o{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const C=B=>new Promise((he,He)=>{try{he(g(B))}catch(gt){He(gt)}});C.onAbort=y,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===g)return;const C=[];try{for(const k of y.queue)yield k(g),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const B of C)try{B()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class cl{constructor(g,y,C){this.app=g,this.heartbeatServiceProvider=y,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _o(this),this.idTokenSubscription=new _o(this),this.beforeStateQueue=new $o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,y){var C=this;return y&&(this._popupRedirectResolver=et(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var k,B;if(!C._deleted&&(C.persistenceManager=yield oe.create(C,g),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(B=C.currentUser)||void 0===B?void 0:B.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,l.Z)(function*(){var C;const k=yield y.assertedPersistence.getCurrentUser();let B=k,he=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const He=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,gt=B?._redirectEventId,St=yield y.tryRedirectSignIn(g);(!He||He===gt)&&St?.user&&(B=St.user,he=!0)}if(!B)return y.directlySetCurrentUser(null);if(!B._redirectEventId){if(he)try{yield y.beforeStateQueue.runMiddleware(B)}catch(He){B=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(He))}return B?y.reloadAndSetCurrentUserOrClear(B):y.directlySetCurrentUser(null)}return de(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===B._redirectEventId?y.directlySetCurrentUser(B):y.reloadAndSetCurrentUserOrClear(B)})()}tryRedirectSignIn(g){var y=this;return(0,l.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,l.Z)(function*(){try{yield mr(g)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,l.Z)(function*(){const C=g?(0,N.m9)(g):null;return C&&de(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(g,y=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return g&&de(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(et(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new N.LL("auth","Firebase",g())}onAuthStateChanged(g,y,C){return this.registerStateListener(this.authStateSubscription,g,y,C)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,C){return this.registerStateListener(this.idTokenSubscription,g,y,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var C=this;return(0,l.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(y);return null===g?k.removeCurrentUser():k.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const C=g&&et(g)||y._popupRedirectResolver;de(C,y,"argument-error"),y.redirectPersistenceManager=yield oe.create(y,[et(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,l.Z)(function*(){var C,k;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===g?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,l.Z)(function*(){if(g===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,C,k){if(this._deleted)return()=>{};const B="function"==typeof y?y:y.next.bind(y),he=this._isInitialized?Promise.resolve():this._initializationPromise;return de(he,this,"internal-error"),he.then(()=>B(this.currentUser)),"function"==typeof y?g.addObserver(y,C,k):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var y;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const k=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return k&&(C["X-Firebase-Client"]=k),C})()}}function Ei(w){return(0,N.m9)(w)}class _o{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,N.ne)(y=>this.observer=y)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xa(w,g,y){const C=Ei(w);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const k=!!y?.disableWarnings,B=ul(g),{host:he,port:He}=function yo(w){const g=ul(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const B=k[1];return{host:B,port:qs(C.substr(B.length+1))}}{const[B,he]=C.split(":");return{host:B,port:qs(he)}}}(g);C.config.emulator={url:`${B}//${he}${null===He?"":`:${He}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:he,port:He,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function vn(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ul(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function qs(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Gn{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return _e("not implemented")}_getIdTokenResponse(g){return _e("not implemented")}_linkToIdToken(g,y){return _e("not implemented")}_getReauthenticationResolver(g){return _e("not implemented")}}function Ai(w,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:resetPassword",It(w,g))})).apply(this,arguments)}function Ri(w,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pt(w,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:update",It(w,g))})).apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPassword",It(w,g))})).apply(this,arguments)}function hs(w,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:sendOobCode",It(w,g))})).apply(this,arguments)}function Jr(w,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(w,g){return hs(w,g)})).apply(this,arguments)}function dl(w,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(w,g){return hs(w,g)})).apply(this,arguments)}function tn(w,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(w,g){return hs(w,g)})).apply(this,arguments)}function Rs(w,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(w,g){return hs(w,g)})).apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithEmailLink",It(w,g))})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithEmailLink",It(w,g))})).apply(this,arguments)}class me extends Gn{constructor(g,y,C,k=null){super("password",C),this._email=g,this._password=y,this._tenantId=k}static _fromEmailAndPassword(g,y){return new me(g,y,"password")}static _fromEmailAndCode(g,y,C=null){return new me(g,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return function qn(w,g){return ki.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Gr(w,g){return pi.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ee(g,"internal-error")}})()}_linkToIdToken(g,y){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Ri(g,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Da(w,g){return $.apply(this,arguments)}(g,{idToken:y,email:C._email,oobCode:C._password});default:Ee(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ce(w,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithIdp",It(w,g))})).apply(this,arguments)}class Ye extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ye(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ee("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k}=y,B=(0,j._T)(y,["providerId","signInMethod"]);if(!C||!k)return null;const he=new Ye(C,k);return he.idToken=B.idToken||void 0,he.accessToken=B.accessToken||void 0,he.secret=B.secret,he.nonce=B.nonce,he.pendingToken=B.pendingToken||null,he}_getIdTokenResponse(g){return ce(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,ce(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ce(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,N.xO)(y)}return g}}function sn(w,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:sendVerificationCode",It(w,g))})).apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPhoneNumber",It(w,g))})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(w,g){const y=yield gn(w,"POST","/v1/accounts:signInWithPhoneNumber",It(w,g));if(y.temporaryProof)throw Yn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const fd={USER_NOT_FOUND:"user-not-found"};function nr(){return(nr=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithPhoneNumber",It(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),fd)})).apply(this,arguments)}class Ks extends Gn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ks({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ks({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Vn(w,g){return ri.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function dn(w,g){return Rn.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function tr(w,g){return nr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:C,verificationCode:k}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:C,code:k}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:B}=g;return C||y||k||B?new Ks({verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:B}):null}}class $i{constructor(g){var y,C,k,B,he,He;const gt=(0,N.zd)((0,N.pd)(g)),St=null!==(y=gt.apiKey)&&void 0!==y?y:null,nn=null!==(C=gt.oobCode)&&void 0!==C?C:null,Xn=function hl(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=gt.mode)&&void 0!==k?k:null);de(St&&nn&&Xn,"argument-error"),this.apiKey=St,this.operation=Xn,this.code=nn,this.continueUrl=null!==(B=gt.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(he=gt.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(He=gt.tenantId)&&void 0!==He?He:null}static parseLink(g){const y=function Jc(w){const g=(0,N.zd)((0,N.pd)(w)).link,y=g?(0,N.zd)((0,N.pd)(g)).deep_link_id:null,C=(0,N.zd)((0,N.pd)(w)).deep_link_id;return(C?(0,N.zd)((0,N.pd)(C)).link:null)||C||y||g||w}(g);try{return new $i(y)}catch{return null}}}let nc=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,C){return me._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const k=$i.parseLink(C);return de(k,"argument-error"),me._fromEmailAndCode(y,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ys{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Sa extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class fl extends Sa{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return de("providerId"in y&&"signInMethod"in y,"argument-error"),Ye._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return de(g.idToken||g.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return fl.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return fl.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:B,nonce:he,providerId:He}=g;if(!C&&!k&&!y&&!B||!He)return null;try{return new fl(He)._credential({idToken:y,accessToken:C,nonce:he,pendingToken:B})}catch{return null}}}let zm=(()=>{class w extends Sa{constructor(){super("facebook.com")}static credential(y){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),pd=(()=>{class w extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:k}=y;if(!C&&!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Gm=(()=>{class w extends Sa{constructor(){super("github.com")}static credential(y){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class pl extends Gn{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return ce(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,ce(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ce(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k,pendingToken:B}=y;return C&&k&&B&&C===k?new pl(C,B):null}static _create(g,y){return new pl(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends Ys{constructor(g){de(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Os.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Os.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=pl.fromJSON(g);return de(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:C}=g;if(!y||!C)return null;try{return pl._create(C,y)}catch{return null}}}let Wo=(()=>{class w extends Sa{constructor(){super("twitter.com")}static credential(y,C){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=y;if(!C||!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Wm(w,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signUp",It(w,g))})).apply(this,arguments)}class es{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,C,k=!1){return(0,l.Z)(function*(){const B=yield Bt._fromIdTokenResponse(g,C,k),he=ic(C);return new es({user:B,providerId:he,_tokenResponse:C,operationType:y})})()}static _forOperation(g,y,C){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const k=ic(C);return new es({user:g,providerId:k,_tokenResponse:C,operationType:y})})()}}function ic(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function md(w){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(w){var g;const y=Ei(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new es({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield Wm(y,{returnSecureToken:!0}),k=yield es._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class eu extends N.ZR{constructor(g,y,C,k){var B;super(y.code,y.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:g.name,tenantId:null!==(B=g.tenantId)&&void 0!==B?B:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,y,C,k){return new eu(g,y,C,k)}}function gd(w,g,y,C){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?eu._fromErrorAndOperation(w,B,g,C):B})}function qo(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Ia(w,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(w,g){const y=(0,N.m9)(w);yield Ko(!0,y,g);const{providerUserInfo:C}=yield bn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),k=qo(C||[]);return y.providerData=y.providerData.filter(B=>k.has(B.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Ma(w,g){return sc.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(w,g,y=!1){const C=yield Dn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return es._forOperation(w,"link",C)})).apply(this,arguments)}function Ko(w,g,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(w,g,y){yield mr(g);const k=!1===w?"provider-already-linked":"no-such-provider";de(qo(g.providerData).has(y)===w,g.auth,k)})).apply(this,arguments)}function oc(w,g){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(w,g,y=!1){const{auth:C}=w,k="reauthenticate";try{const B=yield Dn(w,gd(C,k,g,w),y);de(B.idToken,C,"internal-error");const he=Tt(B.idToken);de(he,C,"internal-error");const{sub:He}=he;return de(w.uid===He,C,"user-mismatch"),es._forOperation(w,k,B)}catch(B){throw"auth/user-not-found"===B?.code&&Ee(C,"user-mismatch"),B}})).apply(this,arguments)}function ml(w,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(w,g,y=!1){const C="signIn",k=yield gd(w,C,g),B=yield es._fromIdTokenResponse(w,C,k);return y||(yield w._updateCurrentUser(B.user)),B})).apply(this,arguments)}function Ar(w,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(w,g){return ml(Ei(w),g)})).apply(this,arguments)}function nu(w,g){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(w,g){const y=(0,N.m9)(w);return yield Ko(!1,y,g.providerId),Ma(y,g)})).apply(this,arguments)}function iu(w,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(w,g){return oc((0,N.m9)(w),g)})).apply(this,arguments)}function Wi(w,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(w,g){return gn(w,"POST","/v1/accounts:signInWithCustomToken",It(w,g))})).apply(this,arguments)}function ac(w,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(w,g){const y=Ei(w),C=yield Wi(y,{token:g,returnSecureToken:!0}),k=yield es._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class Pi{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?lc._fromServerResponse(g,y):Ee(g,"internal-error")}}class lc extends Pi{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new lc(y)}}function Zo(w,g,y){var C;de((null===(C=y.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),de(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(de(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(de(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function yf(w,g,y){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w),k={requestType:"PASSWORD_RESET",email:g};y&&Zo(C,k,y),yield dl(C,k)})).apply(this,arguments)}function ru(w,g,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(w,g,y){yield Ai((0,N.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Qt(w,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(w,g){yield pt((0,N.m9)(w),{oobCode:g})})).apply(this,arguments)}function vf(w,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(w,g){const y=(0,N.m9)(w),C=yield Ai(y,{oobCode:g}),k=C.requestType;switch(de(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,y,"internal-error");default:de(C.email,y,"internal-error")}let B=null;return C.mfaInfo&&(B=Pi._fromServerResponse(Ei(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:B},operation:k}})).apply(this,arguments)}function bf(w,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(w,g){const{data:y}=yield vf((0,N.m9)(w),g);return y.email})).apply(this,arguments)}function _d(w,g,y){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(w,g,y){const C=Ei(w),k=yield Wm(C,{returnSecureToken:!0,email:g,password:y}),B=yield es._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(B.user),B})).apply(this,arguments)}function wf(w,g,y){return Ar((0,N.m9)(w),nc.credential(g,y))}function Fe(w,g,y){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w),k={requestType:"EMAIL_SIGNIN",email:g};de(y.handleCodeInApp,C,"argument-error"),y&&Zo(C,k,y),yield tn(C,k)})).apply(this,arguments)}function Ef(w,g){return"EMAIL_SIGNIN"===$i.parseLink(g)?.operation}function yd(w,g,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w),k=nc.credentialWithLink(g,y||be());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ar(C,k)})).apply(this,arguments)}function ou(w,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:createAuthUri",It(w,g))})).apply(this,arguments)}function ps(w,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(w,g){const C={identifier:g,continueUri:Ie()?be():"http://localhost"},{signinMethods:k}=yield ou((0,N.m9)(w),C);return k||[]})).apply(this,arguments)}function vd(w,g){return cc.apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(w,g){const y=(0,N.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Zo(y.auth,k,g);const{email:B}=yield Jr(y.auth,k);B!==w.email&&(yield w.reload())})).apply(this,arguments)}function Cf(w,g,y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Zo(C.auth,B,y);const{email:he}=yield Rs(C.auth,B);he!==w.email&&(yield w.reload())})).apply(this,arguments)}function ir(w,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(w,g){return dt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fa(w,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const C=(0,N.m9)(w),B={idToken:yield C.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},he=yield Dn(C,ir(C.auth,B));C.displayName=he.displayName||null,C.photoURL=he.photoUrl||null;const He=C.providerData.find(({providerId:gt})=>"password"===gt);He&&(He.displayName=C.displayName,He.photoURL=C.photoURL),yield C._updateTokensIfNecessary(he)})).apply(this,arguments)}function wo(w,g){return Na((0,N.m9)(w),g,null)}function bd(w,g){return Na((0,N.m9)(w),null,g)}function Na(w,g,y){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(w,g,y){const{auth:C}=w,B={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(B.email=g),y&&(B.password=y);const he=yield Dn(w,Ri(C,B));yield w._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class Eo{constructor(g,y,C={}){this.isNewUser=g,this.providerId=y,this.profile=C}}class vl extends Eo{constructor(g,y,C,k){super(g,y,C),this.username=k}}class Df extends Eo{constructor(g,y){super(g,"facebook.com",y)}}class lu extends vl{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class wd extends Eo{constructor(g,y){super(g,"google.com",y)}}class Sf extends vl{constructor(g,y,C){super(g,"twitter.com",y,C)}}function uc(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function xf(w){var g,y;if(!w)return null;const{providerId:C}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},B=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const he=null===(y=null===(g=Tt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(he)return new Eo(B,"anonymous"!==he&&"custom"!==he?he:null)}if(!C)return null;switch(C){case"facebook.com":return new Df(B,k);case"github.com":return new lu(B,k);case"google.com":return new wd(B,k);case"twitter.com":return new Sf(B,k,w.screenName||null);case"custom":case"anonymous":return new Eo(B,null);default:return new Eo(B,C,k)}}(y)}class On{constructor(g,y,C){this.type=g,this.credential=y,this.auth=C}static _fromIdtoken(g,y){return new On("enroll",g,y)}static _fromMfaPendingCredential(g){return new On("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,C;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return On._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return On._fromIdtoken(g.multiFactorSession.idToken)}return null}}class cu{constructor(g,y,C){this.session=g,this.hints=y,this.signInResolver=C}static _fromError(g,y){const C=Ei(g),k=y.customData._serverResponse,B=(k.mfaInfo||[]).map(He=>Pi._fromServerResponse(C,He));de(k.mfaPendingCredential,C,"internal-error");const he=On._fromMfaPendingCredential(k.mfaPendingCredential);return new cu(he,B,function(){var He=(0,l.Z)(function*(gt){const St=yield gt._process(C,he);delete k.mfaInfo,delete k.mfaPendingCredential;const nn=Object.assign(Object.assign({},k),{idToken:St.idToken,refreshToken:St.refreshToken});switch(y.operationType){case"signIn":const Xn=yield es._fromIdTokenResponse(C,y.operationType,nn);return yield C._updateCurrentUser(Xn.user),Xn;case"reauthenticate":return de(y.user,C,"internal-error"),es._forOperation(y.user,y.operationType,nn);default:Ee(C,"internal-error")}});return function(gt){return He.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,l.Z)(function*(){return y.signInResolver(g)})()}}function If(w,g){var y;const C=(0,N.m9)(w),k=g;return de(g.customData.operationType,C,"argument-error"),de(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),cu._fromError(C,k)}function qi(w,g){return dt(w,"POST","/v2/accounts/mfaEnrollment:start",It(w,g))}class xd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>Pi._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new xd(g)}getSession(){var g=this;return(0,l.Z)(function*(){return On._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var C=this;return(0,l.Z)(function*(){const k=g,B=yield C.getSession(),he=yield Dn(C.user,k._process(C.user.auth,B,y));return yield C.user._updateTokensIfNecessary(he),C.user.reload()})()}unenroll(g){var y=this;return(0,l.Z)(function*(){const C="string"==typeof g?g:g.uid,k=yield y.user.getIdToken(),B=yield Dn(y.user,function Qm(w,g){return dt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",It(w,g))}(y.user.auth,{idToken:k,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:he})=>he!==C),yield y.user._updateTokensIfNecessary(B);try{yield y.user.reload()}catch(he){if("auth/user-token-expired"!==he?.code)throw he}})()}}const bl=new WeakMap;function La(w){const g=(0,N.m9)(w);return bl.has(g)||bl.set(g,xd._fromUser(g)),bl.get(g)}const Js="__sak";class Ps{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const kr=(()=>{class w extends Ps{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dd(){const w=(0,N.z$)();return q(w)||xt(w)}()&&function ll(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),B=this.localCache[C];k!==B&&y(C,B,k)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((He,gt,St)=>{this.notifyListeners(He,St)});const k=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(k);if(y.newValue!==He)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!C)return}const B=()=>{const He=this.storage.getItem(k);!C&&this.localCache[k]===He||this.notifyListeners(k,He)},he=this.storage.getItem(k);!function zt(){return(0,N.w1)()&&10===document.documentMode}()||he===y.newValue||y.newValue===y.oldValue?B():setTimeout(B,10)}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const B of Array.from(k))B(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var k=()=>super._set,B=this;return(0,l.Z)(function*(){yield k().call(B,y,C),B.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,k=this;return(0,l.Z)(function*(){const B=yield C().call(k,y);return k.localCache[y]=JSON.stringify(B),B})()}_remove(y){var C=()=>super._remove,k=this;return(0,l.Z)(function*(){yield C().call(k,y),delete k.localCache[y]})()}}return w.type="LOCAL",w})(),El=(()=>{class w extends Ps{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return w.type="SESSION",w})();let Cl=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(B=>B.isListeningto(y));if(C)return C;const k=new w(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,l.Z)(function*(){const k=y,{eventId:B,eventType:he,data:He}=k.data,gt=C.handlersMap[he];if(!gt?.size)return;k.ports[0].postMessage({status:"ack",eventId:B,eventType:he});const St=Array.from(gt).map(function(){var Xn=(0,l.Z)(function*(ns){return ns(k.origin,He)});return function(ns){return Xn.apply(this,arguments)}}()),nn=yield function Xm(w){return Promise.all(w.map(function(){var g=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return g.apply(this,arguments)}}()))}(St);k.ports[0].postMessage({status:"done",eventId:B,eventType:he,response:nn})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Co(w="",g=10){let y="";for(let C=0;C<g;C++)y+=Math.floor(10*Math.random());return w+y}class Mf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,C=50){var k=this;return(0,l.Z)(function*(){const B=typeof MessageChannel<"u"?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let he,He;return new Promise((gt,St)=>{const nn=Co("",20);B.port1.start();const Xn=setTimeout(()=>{St(new Error("unsupported_event"))},C);He={messageChannel:B,onMessage(ns){const rr=ns;if(rr.data.eventId===nn)switch(rr.data.status){case"ack":clearTimeout(Xn),he=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),gt(rr.data.response);break;default:clearTimeout(Xn),clearTimeout(he),St(new Error("invalid_response"))}}},k.handlers.add(He),B.port1.addEventListener("message",He.onMessage),k.target.postMessage({eventType:g,eventId:nn,data:y},[B.port2])}).finally(()=>{He&&k.removeMessageHandler(He)})})()}}function hi(){return window}function Jo(){return typeof hi().WorkerGlobalScope<"u"&&"function"==typeof hi().importScripts}function ms(){return(ms=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dl="firebaseLocalStorageDb",ea="firebaseLocalStorage",Ua="fbase_key";class Fs{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Va(w,g){return w.transaction([ea],g?"readwrite":"readonly").objectStore(ea)}function xo(){const w=indexedDB.open(Dl,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(ea,{keyPath:Ua})}catch(k){y(k)}}),w.addEventListener("success",(0,l.Z)(function*(){const C=w.result;C.objectStoreNames.contains(ea)?g(C):(C.close(),yield function Sl(){const w=indexedDB.deleteDatabase(Dl);return new Fs(w).toPromise()}(),g(yield xo()))}))})}function Sd(w,g,y){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(w,g,y){const C=Va(w,!0).put({[Ua]:g,value:y});return new Fs(C).toPromise()})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(w,g){const y=Va(w,!1).get(g),C=yield new Fs(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ha(w,g){const y=Va(w,!0).delete(g);return new Fs(y).toPromise()}const hc=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield xo()),y.db})()}_withRetries(y){var C=this;return(0,l.Z)(function*(){let k=0;for(;;)try{const B=yield C._openDb();return yield y(B)}catch(B){if(k++>3)throw B;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return Jo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Cl._getInstance(function du(){return Jo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(k,B){return{keyProcessed:(yield y._poll()).includes(B.key)}});return function(k,B){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(k,B){return["keyChanged"]});return function(k,B){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var C,k;if(y.activeServiceWorker=yield function xl(){return ms.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Mf(y.activeServiceWorker);const B=yield y.sender._send("ping",{},800);B&&null!==(C=B[0])&&void 0!==C&&C.fulfilled&&null!==(k=B[0])&&void 0!==k&&k.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function uu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield xo();return yield Sd(y,Js,"1"),yield Ha(y,Js),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var k=this;return(0,l.Z)(function*(){return k._withPendingWrite((0,l.Z)(function*(){return yield k._withRetries(B=>Sd(B,y,C)),k.localCache[y]=C,k.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,l.Z)(function*(){const k=yield C._withRetries(B=>function Id(w,g){return Do.apply(this,arguments)}(B,y));return C.localCache[y]=k,k})()}_remove(y){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(k=>Ha(k,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const C=yield y._withRetries(he=>{const He=Va(he,!1).getAll();return new Fs(He).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const k=[],B=new Set;for(const{fbase_key:he,value:He}of C)B.add(he),JSON.stringify(y.localCache[he])!==JSON.stringify(He)&&(y.notifyListeners(he,He),k.push(he));for(const he of Object.keys(y.localCache))y.localCache[he]&&!B.has(he)&&(y.notifyListeners(he,null),k.push(he));return k})()}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const B of Array.from(k))B(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Md(w,g){return dt(w,"POST","/v2/accounts/mfaSignIn:start",It(w,g))}function gs(){return(gs=(0,l.Z)(function*(w){return(yield dt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tl(w){return new Promise((g,y)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=g,C.onerror=k=>{const B=Ae("internal-error");B.customData=k,y(B)},C.type="text/javascript",C.charset="UTF-8",function pu(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(C)})}function _s(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Or=1e12;class So{constructor(g){this.auth=g,this.counter=Or,this._widgets=new Map}render(g,y){const C=this.counter;return this._widgets.set(C,new Rf(g,this.auth.name,y||{})),this.counter++,C}reset(g){var y;const C=g||Or;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Or))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,l.Z)(function*(){var C;return null===(C=y._widgets.get(g||Or))||void 0===C||C.execute(),""})()}}class Rf{constructor(g,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof g?document.getElementById(g):g;de(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gu(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const za=_s("rcb"),kf=new Qe(3e4,6e4);class _u{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=hi().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return de(function ta(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(hi().grecaptcha):new Promise((C,k)=>{const B=hi().setTimeout(()=>{k(Ae(g,"network-request-failed"))},kf.get());hi()[za]=()=>{hi().clearTimeout(B),delete hi()[za];const He=hi().grecaptcha;if(!He)return void k(Ae(g,"internal-error"));const gt=He.render;He.render=(St,nn)=>{const Xn=gt(St,nn);return this.counter++,Xn},this.hostLanguage=y,C(He)},Tl(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:za,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(B),k(Ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=hi().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ml{load(g){return(0,l.Z)(function*(){return new So(g)})()}clearedOneInstance(){}}const na="recaptcha",Pf={theme:"light",type:"image"};class Rd{constructor(g,y=Object.assign({},Pf),C){this.parameters=y,this.type=na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ei(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof g?document.getElementById(g):g;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new _u,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(y)||new Promise(B=>{const he=He=>{He&&(g.tokenChangeListeners.delete(he),B(He))};g.tokenChangeListeners.add(he),g.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof g)g(y);else if("string"==typeof g){const C=hi()[g];"function"==typeof C&&C(y)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){de(Ie()&&!Jo(),g.auth,"internal-error"),yield function fc(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Af(w){return gs.apply(this,arguments)}(g.auth);de(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ff{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ks._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Nf(w,g,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(w,g,y){const C=Ei(w),k=yield Pd(C,g,(0,N.m9)(y));return new Ff(k,B=>Ar(C,B))})).apply(this,arguments)}function Lf(w,g,y){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w);yield Ko(!1,C,"phone");const k=yield Pd(C.auth,g,(0,N.m9)(y));return new Ff(k,B=>nu(C,B))})).apply(this,arguments)}function Od(w,g,y){return yu.apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w),k=yield Pd(C.auth,g,(0,N.m9)(y));return new Ff(k,B=>iu(C,B))})).apply(this,arguments)}function Pd(w,g,y){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(w,g,y){var C;const k=yield y.verify();try{let B;if(de("string"==typeof k,w,"argument-error"),de(y.type===na,w,"argument-error"),B="string"==typeof g?{phoneNumber:g}:g,"session"in B){const he=B.session;if("phoneNumber"in B)return de("enroll"===he.type,w,"internal-error"),(yield qi(w,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===he.type,w,"internal-error");const He=(null===(C=B.multiFactorHint)||void 0===C?void 0:C.uid)||B.multiFactorUid;return de(He,w,"missing-multi-factor-info"),(yield Md(w,{mfaPendingCredential:he.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield sn(w,{phoneNumber:B.phoneNumber,recaptchaToken:k});return he}}finally{y._reset()}})).apply(this,arguments)}function rv(w,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(w,g){yield Ma((0,N.m9)(w),g)})).apply(this,arguments)}let Bf=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Ei(y)}verifyPhoneNumber(y,C){return Pd(this.auth,y,(0,N.m9)(C))}static credential(y,C){return Ks._fromVerification(y,C)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:k}=y;return C&&k?Ks._fromTokenResponse(C,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ra(w,g){return g?et(g):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class si extends Gn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ce(g,this._buildIdpRequest())}_linkToIdToken(g,y){return ce(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return ce(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function pc(w){return ml(w.auth,new si(w),w.bypassAuthState)}function Ga(w){const{auth:g,user:y}=w;return de(y,g,"internal-error"),oc(y,new si(w),w.bypassAuthState)}function vu(w){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(w){const{auth:g,user:y}=w;return de(y,g,"internal-error"),Ma(y,new si(w),w.bypassAuthState)})).apply(this,arguments)}class $a{constructor(g,y,C,k,B=!1){this.auth=g,this.resolver=C,this.user=k,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,l.Z)(function*(C,k){g.pendingPromise={resolve:C,reject:k};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(B){g.reject(B)}});return function(C,k){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:B,tenantId:he,error:He,type:gt}=g;if(He)return void y.reject(He);const St={auth:y.auth,requestUri:C,sessionId:k,tenantId:he||void 0,postBody:B||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(gt)(St))}catch(nn){y.reject(nn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return pc;case"linkViaPopup":case"linkViaRedirect":return vu;case"reauthViaPopup":case"reauthViaRedirect":return Ga;default:Ee(this.auth,"internal-error")}}resolve(g){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jm=new Qe(2e3,1e4);function Nd(w,g,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(w,g,y){const C=Ei(w);ke(w,g,Ys);const k=ra(C,y);return new Pr(C,"signInViaPopup",g,k).executeNotNull()})).apply(this,arguments)}function eg(w,g,y){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w);ke(C.auth,g,Ys);const k=ra(C.auth,y);return new Pr(C.auth,"reauthViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}function Ld(w,g,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w);ke(C.auth,g,Ys);const k=ra(C.auth,y);return new Pr(C.auth,"linkViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}let Pr=(()=>{class w extends $a{constructor(y,C,k,B,he){super(y,C,B,he),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const C=yield y.execute();return de(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,l.Z)(function*(){Oe(1===y.filter.length,"Popup operations only handle one event");const C=Co();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(Ae(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Jm.get())};y()}}return w.currentPopupAction=null,w})();const Ls=new Map;class Fr extends $a{constructor(g,y,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,l.Z)(function*(){let C=Ls.get(y.auth._key());if(!C){try{const B=(yield function Io(w,g){return ys.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;C=()=>Promise.resolve(B)}catch(k){C=()=>Promise.reject(k)}Ls.set(y.auth._key(),C)}return y.bypassAuthState||Ls.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(C,g);if("unknown"!==g.type){if(g.eventId){const k=yield C.auth._redirectUserForId(g.eventId);if(k)return C.user=k,y().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ys(){return(ys=(0,l.Z)(function*(w,g){const y=I(g),C=S(w);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(y));return yield C._remove(y),k})).apply(this,arguments)}function wu(w,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(w,g){return S(w)._set(I(g),"true")})).apply(this,arguments)}function Ki(){Ls.clear()}function To(w,g){Ls.set(w._key(),g)}function S(w){return et(w._redirectPersistence)}function I(w){return X("pendingRedirect",w.config.apiKey,w.name)}function O(w,g,y){return function Q(w,g,y){return ue.apply(this,arguments)}(w,g,y)}function ue(){return(ue=(0,l.Z)(function*(w,g,y){const C=Ei(w);ke(w,g,Ys),yield C._initializationPromise;const k=ra(C,y);return yield wu(k,C),k._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function we(w,g,y){return function ze(w,g,y){return vt.apply(this,arguments)}(w,g,y)}function vt(){return(vt=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w);ke(C.auth,g,Ys),yield C.auth._initializationPromise;const k=ra(C.auth,y);yield wu(k,C.auth);const B=yield Mo(C);return k._openRedirect(C.auth,g,"reauthViaRedirect",B)})).apply(this,arguments)}function Dt(w,g,y){return function At(w,g,y){return Xt.apply(this,arguments)}(w,g,y)}function Xt(){return(Xt=(0,l.Z)(function*(w,g,y){const C=(0,N.m9)(w);ke(C.auth,g,Ys),yield C.auth._initializationPromise;const k=ra(C.auth,y);yield Ko(!1,C,g.providerId),yield wu(k,C.auth);const B=yield Mo(C);return k._openRedirect(C.auth,g,"linkViaRedirect",B)})).apply(this,arguments)}function Zt(w,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(w,g){return yield Ei(w)._initializationPromise,Ci(w,g,!1)})).apply(this,arguments)}function Ci(w,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(w,g,y=!1){const C=Ei(w),k=ra(C,g),he=yield new Fr(C,k,y).execute();return he&&!y&&(delete he.user._redirectEventId,yield C._persistUserIfCurrent(he.user),yield C._setRedirectUser(null,g)),he})).apply(this,arguments)}function Mo(w){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(w){const g=Co(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Us{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(y=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ov(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sv(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var C;if(g.error&&!sv(g)){const k=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Ae(this.auth,k))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const C=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eu(g))}saveEventToCache(g){this.cachedEventUids.add(Eu(g)),this.lastProcessedEventTime=Date.now()}}function Eu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function sv({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function tg(w){return ng.apply(this,arguments)}function ng(){return(ng=(0,l.Z)(function*(w,g={}){return dt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ig=/^https?/;function Ud(){return(Ud=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield tg(w);for(const y of g)try{if(AE(y))return}catch{}Ee(w,"unauthorized-domain")})).apply(this,arguments)}function AE(w){const g=be(),{protocol:y,hostname:C}=new URL(g);if(w.startsWith("chrome-extension://")){const he=new URL(w);return""===he.hostname&&""===C?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&he.hostname===C}if(!ig.test(y))return!1;if(Bd.test(w))return C===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const rg=new Qe(3e4,6e4);function lv(){const w=hi().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Vd=null;function Uf(w){return Vd=Vd||function cv(w){return new Promise((g,y)=>{var C,k,B;function he(){lv(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{lv(),y(Ae(w,"network-request-failed"))},timeout:rg.get()})}if(null!==(k=null===(C=hi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)g(gapi.iframes.getContext());else{if(null===(B=hi().gapi)||void 0===B||!B.load){const He=_s("iframefcb");return hi()[He]=()=>{gapi.load?he():y(Ae(w,"network-request-failed"))},Tl(`https://apis.google.com/js/api.js?onload=${He}`).catch(gt=>y(gt))}he()}}).catch(g=>{throw Vd=null,g})}(w),Vd}const RE=new Qe(5e3,15e3),OE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FE(w){const g=w.config;de(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?ut(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:w.name,v:R.SDK_VERSION},k=PE.get(w.config.apiHost);k&&(C.eid=k);const B=w._getFrameworks();return B.length&&(C.fw=B.join(",")),`${y}?${(0,N.xO)(C).slice(1)}`}function sg(){return sg=(0,l.Z)(function*(w){const g=yield Uf(w),y=hi().gapi;return de(y,w,"internal-error"),g.open({where:document.body,url:FE(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OE,dontclear:!0},C=>new Promise(function(){var k=(0,l.Z)(function*(B,he){yield C.restyle({setHideOnLeave:!1});const He=Ae(w,"network-request-failed"),gt=hi().setTimeout(()=>{he(He)},RE.get());function St(){hi().clearTimeout(gt),B(C)}C.ping(St).then(St,()=>{he(He)})});return function(B,he){return k.apply(this,arguments)}}()))}),sg.apply(this,arguments)}const uv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jf{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cu(w,g,y,C,k,B){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const he={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:C,v:R.SDK_VERSION,eventId:k};if(g instanceof Ys){g.setDefaultLanguage(w.languageCode),he.providerId=g.providerId||"",(0,N.xb)(g.getCustomParameters())||(he.customParameters=JSON.stringify(g.getCustomParameters()));for(const[gt,St]of Object.entries(B||{}))he[gt]=St}if(g instanceof Sa){const gt=g.getScopes().filter(St=>""!==St);gt.length>0&&(he.scopes=gt.join(","))}w.tenantId&&(he.tid=w.tenantId);const He=he;for(const gt of Object.keys(He))void 0===He[gt]&&delete He[gt];return`${function xu({config:w}){return w.emulator?ut(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,N.xO)(He).slice(1)}`}const Du="webStorageSupport",ts=class Gf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=El,this._completeRedirectFn=Ci,this._overrideRedirectResult=To}_openPopup(g,y,C,k){var B=this;return(0,l.Z)(function*(){var he;Oe(null===(he=B.eventManagers[g._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const He=Cu(g,y,C,be(),k);return function Ao(w,g,y,C=500,k=600){const B=Math.max((window.screen.availHeight-k)/2,0).toString(),he=Math.max((window.screen.availWidth-C)/2,0).toString();let He="";const gt=Object.assign(Object.assign({},uv),{width:C.toString(),height:k.toString(),top:B,left:he}),St=(0,N.z$)().toLowerCase();y&&(He=ye(St)?"_blank":y),F(St)&&(g=g||"http://localhost",gt.scrollbars="yes");const nn=Object.entries(gt).reduce((ns,[rr,Al])=>`${ns}${rr}=${Al},`,"");if(function wi(w=(0,N.z$)()){var g;return xt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(St)&&"_self"!==He)return function hv(w,g){const y=document.createElement("a");y.href=w,y.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(g||"",He),new jf(null);const Xn=window.open(g||"",He,nn);de(Xn,w,"popup-blocked");try{Xn.focus()}catch{}return new jf(Xn)}(g,He,Co())})()}_openRedirect(g,y,C,k){var B=this;return(0,l.Z)(function*(){return yield B._originValidation(g),function Xo(w){hi().location.href=w}(Cu(g,y,C,be(),k)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:k,promise:B}=this.eventManagers[y];return k?Promise.resolve(k):(Oe(B,"If manager is not set, promise should be"),B)}const C=this.initAndGetManager(g);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(g){var y=this;return(0,l.Z)(function*(){const C=yield function NE(w){return sg.apply(this,arguments)}(g),k=new Us(g);return C.register("authEvent",B=>(de(B?.authEvent,g,"invalid-auth-event"),{status:k.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:k},y.iframes[g._key()]=C,k})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Du,{type:Du},k=>{var B;const he=null===(B=k?.[0])||void 0===B?void 0:B[Du];void 0!==he&&y(!!he),Ee(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function av(w){return Ud.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Gi()||q()||xt()}};class $f{constructor(g){this.factorId=g}_process(g,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,C);case"signin":return this._finalizeSignIn(g,y.credential);default:return _e("unexpected MultiFactorSessionType")}}}class Su extends $f{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Su(g)}_finalizeEnroll(g,y,C){return function Tf(w,g){return dt(w,"POST","/v2/accounts/mfaEnrollment:finalize",It(w,g))}(g,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function ja(w,g){return dt(w,"POST","/v2/accounts/mfaSignIn:finalize",It(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lg=(()=>{class w{constructor(){}static assertion(y){return Su._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Nr="@firebase/auth";class fv{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,N.Pz)("authIdTokenMaxAge"),function gi(w){(0,R._registerComponent)(new H.wA("auth",(g,{options:y})=>{const C=g.getProvider("app").getImmediate(),k=g.getProvider("heartbeat"),{apiKey:B,authDomain:he}=C.options;return((He,gt)=>{de(B&&!B.includes(":"),"invalid-api-key",{appName:He.name}),de(!he?.includes(":"),"argument-error",{appName:He.name});const St={apiKey:B,authDomain:he,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:go(w)},nn=new cl(He,gt,St);return function lt(w,g){const y=g?.persistence||[],C=(Array.isArray(y)?y:[y]).map(et);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(C,g?.popupRedirectResolver)}(nn,y),nn})(C,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,C)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new H.wA("auth-internal",g=>{const y=Ei(g.getProvider("auth").getImmediate());return new fv(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Nr,"0.21.1",function Wf(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,R.registerVersion)(Nr,"0.21.1","esm2017")}("Browser")},2090:(se,Y,T)=>{T.d(Y,{$s:()=>ct,BH:()=>Re,DV:()=>Yn,Dv:()=>ci,G6:()=>Pe,GJ:()=>bi,L:()=>ne,LL:()=>xn,Pz:()=>Ae,Sg:()=>ke,UG:()=>_e,UI:()=>Tr,US:()=>H,Wj:()=>ni,Wl:()=>mn,Yr:()=>Ie,ZB:()=>G,ZR:()=>st,aH:()=>Ee,b$:()=>et,cI:()=>dt,dS:()=>Yt,eu:()=>Ze,g5:()=>R,gK:()=>zn,gQ:()=>ti,h$:()=>te,hl:()=>Ue,hu:()=>N,jU:()=>Oe,lb:()=>mr,m9:()=>an,ne:()=>Mi,p$:()=>z,pd:()=>jn,r3:()=>zr,ru:()=>it,tV:()=>J,uI:()=>de,ug:()=>Mr,vZ:()=>bn,w1:()=>lt,w9:()=>ei,xO:()=>Zn,xb:()=>er,z$:()=>$e,zI:()=>Qe,zd:()=>Ti});const N=function(re,X){if(!re)throw R(X)},R=function(re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+re)},ee=function(re){const X=[];let oe=0;for(let K=0;K<re.length;K++){let F=re.charCodeAt(K);F<128?X[oe++]=F:F<2048?(X[oe++]=F>>6|192,X[oe++]=63&F|128):55296==(64512&F)&&K+1<re.length&&56320==(64512&re.charCodeAt(K+1))?(F=65536+((1023&F)<<10)+(1023&re.charCodeAt(++K)),X[oe++]=F>>18|240,X[oe++]=F>>12&63|128,X[oe++]=F>>6&63|128,X[oe++]=63&F|128):(X[oe++]=F>>12|224,X[oe++]=F>>6&63|128,X[oe++]=63&F|128)}return X},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,X){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let F=0;F<re.length;F+=3){const q=re[F],ye=F+1<re.length,Ve=ye?re[F+1]:0,wt=F+2<re.length,rt=wt?re[F+2]:0;let Ln=(15&Ve)<<2|rt>>6,wi=63&rt;wt||(wi=64,ye||(Ln=64)),K.push(oe[q>>2],oe[(3&q)<<4|Ve>>4],oe[Ln],oe[wi])}return K.join("")},encodeString(re,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(re):this.encodeByteArray(ee(re),X)},decodeString(re,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(re):function(re){const X=[];let oe=0,K=0;for(;oe<re.length;){const F=re[oe++];if(F<128)X[K++]=String.fromCharCode(F);else if(F>191&&F<224){const q=re[oe++];X[K++]=String.fromCharCode((31&F)<<6|63&q)}else if(F>239&&F<365){const wt=((7&F)<<18|(63&re[oe++])<<12|(63&re[oe++])<<6|63&re[oe++])-65536;X[K++]=String.fromCharCode(55296+(wt>>10)),X[K++]=String.fromCharCode(56320+(1023&wt))}else{const q=re[oe++],ye=re[oe++];X[K++]=String.fromCharCode((15&F)<<12|(63&q)<<6|63&ye)}}return X.join("")}(this.decodeStringToByteArray(re,X))},decodeStringToByteArray(re,X){this.init_();const oe=X?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let F=0;F<re.length;){const q=oe[re.charAt(F++)],Ve=F<re.length?oe[re.charAt(F)]:0;++F;const rt=F<re.length?oe[re.charAt(F)]:64;++F;const xt=F<re.length?oe[re.charAt(F)]:64;if(++F,null==q||null==Ve||null==rt||null==xt)throw Error();K.push(q<<2|Ve>>4),64!==rt&&(K.push(Ve<<4&240|rt>>2),64!==xt&&K.push(rt<<6&192|xt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},te=function(re){const X=ee(re);return H.encodeByteArray(X,!0)},ne=function(re){return te(re).replace(/\./g,"")},J=function(re){try{return H.decodeString(re,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function z(re){return G(void 0,re)}function G(re,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return X}for(const oe in X)!X.hasOwnProperty(oe)||!Z(oe)||(re[oe]=G(re[oe],X[oe]));return re}function Z(re){return"__proto__"!==re}const pe=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=re&&J(re[1]);return X&&JSON.parse(X)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Ee=()=>{var re;return null===(re=pe())||void 0===re?void 0:re.config},Ae=re=>{var X;return null===(X=pe())||void 0===X?void 0:X[`_${re}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,oe)=>{this.resolve=X,this.reject=oe})}wrapCallback(X){return(oe,K)=>{oe?this.reject(oe):this.resolve(K),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(oe):X(oe,K))}}}function ke(re,X){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=X||"demo-project",F=re.iat||0,q=re.sub||re.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:F,exp:F+3600,auth_time:F,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},re);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(ye)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function _e(){var re;const X=null===(re=pe())||void 0===re?void 0:re.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function it(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const re=$e();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ie(){return!1}function Pe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise((re,X)=>{try{let oe=!0;const K="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(K);F.onsuccess=()=>{F.result.close(),oe||self.indexedDB.deleteDatabase(K),re(!0)},F.onupgradeneeded=()=>{oe=!1},F.onerror=()=>{var q;X((null===(q=F.error)||void 0===q?void 0:q.message)||"")}}catch(oe){X(oe)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(X,oe,K){super(oe),this.code=X,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}}class xn{constructor(X,oe,K){this.service=X,this.serviceName=oe,this.errors=K}create(X,...oe){const K=oe[0]||{},F=`${this.service}/${X}`,q=this.errors[X],ye=q?function Mt(re,X){return re.replace(It,(oe,K)=>{const F=X[K];return null!=F?String(F):`<${K}?>`})}(q,K):"Error";return new st(F,`${this.serviceName}: ${ye} (${F}).`,K)}}const It=/\{\$([^}]+)}/g;function dt(re){return JSON.parse(re)}function mn(re){return JSON.stringify(re)}const Tn=function(re){let X={},oe={},K={},F="";try{const q=re.split(".");X=dt(J(q[0])||""),oe=dt(J(q[1])||""),F=q[2],K=oe.d||{},delete oe.d}catch{}return{header:X,claims:oe,data:K,signature:F}},ei=function(re){const oe=Tn(re).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},bi=function(re){const X=Tn(re).claims;return"object"==typeof X&&!0===X.admin};function zr(re,X){return Object.prototype.hasOwnProperty.call(re,X)}function Yn(re,X){if(Object.prototype.hasOwnProperty.call(re,X))return re[X]}function er(re){for(const X in re)if(Object.prototype.hasOwnProperty.call(re,X))return!1;return!0}function Tr(re,X,oe){const K={};for(const F in re)Object.prototype.hasOwnProperty.call(re,F)&&(K[F]=X.call(oe,re[F],F,re));return K}function bn(re,X){if(re===X)return!0;const oe=Object.keys(re),K=Object.keys(X);for(const F of oe){if(!K.includes(F))return!1;const q=re[F],ye=X[F];if(li(q)&&li(ye)){if(!bn(q,ye))return!1}else if(q!==ye)return!1}for(const F of K)if(!oe.includes(F))return!1;return!0}function li(re){return null!==re&&"object"==typeof re}function Zn(re){const X=[];for(const[oe,K]of Object.entries(re))Array.isArray(K)?K.forEach(F=>{X.push(encodeURIComponent(oe)+"="+encodeURIComponent(F))}):X.push(encodeURIComponent(oe)+"="+encodeURIComponent(K));return X.length?"&"+X.join("&"):""}function Ti(re){const X={};return re.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[F,q]=K.split("=");X[decodeURIComponent(F)]=decodeURIComponent(q)}}),X}function jn(re){const X=re.indexOf("?");if(!X)return"";const oe=re.indexOf("#",X);return re.substring(X,oe>0?oe:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(X,oe){oe||(oe=0);const K=this.W_;if("string"==typeof X)for(let xt=0;xt<16;xt++)K[xt]=X.charCodeAt(oe)<<24|X.charCodeAt(oe+1)<<16|X.charCodeAt(oe+2)<<8|X.charCodeAt(oe+3),oe+=4;else for(let xt=0;xt<16;xt++)K[xt]=X[oe]<<24|X[oe+1]<<16|X[oe+2]<<8|X[oe+3],oe+=4;for(let xt=16;xt<80;xt++){const Ln=K[xt-3]^K[xt-8]^K[xt-14]^K[xt-16];K[xt]=4294967295&(Ln<<1|Ln>>>31)}let rt,qt,F=this.chain_[0],q=this.chain_[1],ye=this.chain_[2],Ve=this.chain_[3],wt=this.chain_[4];for(let xt=0;xt<80;xt++){xt<40?xt<20?(rt=Ve^q&(ye^Ve),qt=1518500249):(rt=q^ye^Ve,qt=1859775393):xt<60?(rt=q&ye|Ve&(q|ye),qt=2400959708):(rt=q^ye^Ve,qt=3395469782);const Ln=(F<<5|F>>>27)+rt+wt+qt+K[xt]&4294967295;wt=Ve,Ve=ye,ye=4294967295&(q<<30|q>>>2),q=F,F=Ln}this.chain_[0]=this.chain_[0]+F&4294967295,this.chain_[1]=this.chain_[1]+q&4294967295,this.chain_[2]=this.chain_[2]+ye&4294967295,this.chain_[3]=this.chain_[3]+Ve&4294967295,this.chain_[4]=this.chain_[4]+wt&4294967295}update(X,oe){if(null==X)return;void 0===oe&&(oe=X.length);const K=oe-this.blockSize;let F=0;const q=this.buf_;let ye=this.inbuf_;for(;F<oe;){if(0===ye)for(;F<=K;)this.compress_(X,F),F+=this.blockSize;if("string"==typeof X){for(;F<oe;)if(q[ye]=X.charCodeAt(F),++ye,++F,ye===this.blockSize){this.compress_(q),ye=0;break}}else for(;F<oe;)if(q[ye]=X[F],++ye,++F,ye===this.blockSize){this.compress_(q),ye=0;break}}this.inbuf_=ye,this.total_+=oe}digest(){const X=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let F=this.blockSize-1;F>=56;F--)this.buf_[F]=255&oe,oe/=256;this.compress_(this.buf_);let K=0;for(let F=0;F<5;F++)for(let q=24;q>=0;q-=8)X[K]=this.chain_[F]>>q&255,++K;return X}}function Mi(re,X){const oe=new Vt(re,X);return oe.subscribe.bind(oe)}class Vt{constructor(X,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{X(this)}).catch(K=>{this.error(K)})}next(X){this.forEachObserver(oe=>{oe.next(X)})}error(X){this.forEachObserver(oe=>{oe.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,oe,K){let F;if(void 0===X&&void 0===oe&&void 0===K)throw new Error("Missing Observer.");F=function Ht(re,X){if("object"!=typeof re||null===re)return!1;for(const oe of X)if(oe in re&&"function"==typeof re[oe])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:oe,complete:K},void 0===F.next&&(F.next=Dn),void 0===F.error&&(F.error=Dn),void 0===F.complete&&(F.complete=Dn);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),q}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,X)}sendOne(X,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{oe(this.observers[X])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const ci=function(re,X,oe,K){let F;if(K<X?F="at least "+X:K>oe&&(F=0===oe?"none":"no more than "+oe),F)throw new Error(re+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+F+".")};function zn(re,X){return`${re} failed: ${X} argument `}function ni(re,X,oe,K){if((!K||oe)&&"function"!=typeof oe)throw new Error(zn(re,X)+"must be a valid function.")}function mr(re,X,oe,K){if((!K||oe)&&("object"!=typeof oe||null===oe))throw new Error(zn(re,X)+"must be a valid context object.")}const Yt=function(re){const X=[];let oe=0;for(let K=0;K<re.length;K++){let F=re.charCodeAt(K);if(F>=55296&&F<=56319){const q=F-55296;K++,N(K<re.length,"Surrogate pair missing trail surrogate."),F=65536+(q<<10)+(re.charCodeAt(K)-56320)}F<128?X[oe++]=F:F<2048?(X[oe++]=F>>6|192,X[oe++]=63&F|128):F<65536?(X[oe++]=F>>12|224,X[oe++]=F>>6&63|128,X[oe++]=63&F|128):(X[oe++]=F>>18|240,X[oe++]=F>>12&63|128,X[oe++]=F>>6&63|128,X[oe++]=63&F|128)}return X},Mr=function(re){let X=0;for(let oe=0;oe<re.length;oe++){const K=re.charCodeAt(oe);K<128?X++:K<2048?X+=2:K>=55296&&K<=56319?(X+=4,oe++):X+=3}return X};function ct(re,X=1e3,oe=2){const K=X*Math.pow(oe,re),F=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+F)}function an(re){return re&&re._delegate?re._delegate:re}},6697:(se,Y,T)=>{var l=T(4650);let N=null;function R(){return N}class j{}const H=new l.OlP("DocumentToken");let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ne(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const J=new l.OlP("Location Initialized");let z=(()=>{class n extends te{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){G()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){G()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Z(){return new z((0,l.LFG)(H))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let Ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ve)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let ve=(()=>{class n extends Ge{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ge(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+Le(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends Ge{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ge(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+Le(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(ke(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Le(i))}normalize(t){return n.stripTrailingSlash(function Re(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=ge,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ge))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new Ee((0,l.LFG)(Ge))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}const gr=/\s+/,pt=[];let Gt=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=pt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gr):pt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gr):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(gr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ui{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ui(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Un(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Un(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Un(n,e){n.context.$implicit=e.item}let Oi=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function vo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Rs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ks=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Gr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Rs(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ks,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),pi=(()=>{class n{constructor(t,i,r){r._addDefault(new Rs(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ks,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Se=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})(),_r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const es="browser";function gd(n){return"server"===n}let Ma=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new sc((0,l.LFG)(H),window)}),n})();class sc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Aa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ko(this.window.history)||Ko(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ko(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class La extends j{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Js extends La{static makeCurrent(){!function ee(n){N||(N=n)}(new Js)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dd(){return Ps=Ps||document.querySelector("base"),Ps?Ps.getAttribute("href"):null}();return null==t?null:function Ba(n){dc=dc||document.createElement("a"),dc.setAttribute("href",n);const e=dc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ri(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let dc,Ps=null;const wl=new l.OlP("TRANSITION_ID"),iv=[{provide:l.ip1,useFactory:function kr(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=R(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[wl,H,l.zs3],multi:!0}];let Xm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cl=new l.OlP("EventManagerPlugins");let Co=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Mf{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=R().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let hi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Xo=(()=>{class n extends hi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Jo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Jo))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Jo(n){R().remove(n)}const xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ms=/%COMP%/g;function Fs(n,e){return e.flat(100).map(t=>t.replace(ms,n))}function Va(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sl=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new xo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Do(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case l.ifc.ShadowDom:return new Ha(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fs(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Co),l.LFG(Xo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(xl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Id(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Id(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=xl[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=xl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Va(i)):this.eventManager.addEventListener(e,t,Va(i))}}function Id(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Do extends xo{constructor(e,t,i,r){super(e),this.component=i;const s=Fs(r+"-"+i.id,i.styles);t.addStyles(s),this.contentAttr=function ea(n){return"_ngcontent-%COMP%".replace(ms,n)}(r+"-"+i.id),this.hostAttr=function Ua(n){return"_nghost-%COMP%".replace(ms,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ha extends xo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fs(r.id,r.styles);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fu=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=["alt","control","meta","shift"],Td={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Md=(()=>{class n extends Mf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Il.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=Td[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Il.forEach(c=>{c!==r&&(0,hc[c])(t)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const So=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:es},{provide:l.g9A,useValue:function _s(){Js.makeCurrent()},multi:!0},{provide:H,useFactory:function mu(){return(0,l.RDi)(document),document},deps:[]}]),Rf=new l.OlP(""),gu=[{provide:l.rWj,useClass:class El{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],za=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ad(){return new l.qLn},deps:[]},{provide:Cl,useClass:fu,multi:!0,deps:[H,l.R0b,l.Lbi]},{provide:Cl,useClass:Md,multi:!0,deps:[H]},{provide:Sl,useClass:Sl,deps:[Co,Xo,l.AFp]},{provide:l.FYo,useExisting:Sl},{provide:hi,useExisting:Xo},{provide:Xo,useClass:Xo,deps:[H]},{provide:Co,useClass:Co,deps:[Cl,l.R0b]},{provide:class tu{},useClass:Xm,deps:[]},[]];let kf=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:wl,useExisting:l.AFp},iv]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rf,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...za,...gu],imports:[_r,l.hGG]}),n})(),na=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ml(){return new na((0,l.LFG)(H))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(bu),i},providedIn:"root"}),n})(),bu=(()=>{class n extends eo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ld(n){return new bu(n.get(H))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();class Ns{}class Ls{}const Fr="*";function Io(n,e){return{type:7,name:n,definitions:e,options:{}}}function ys(n,e=null){return{type:4,styles:e,timings:n}}function mc(n,e=null){return{type:2,steps:n,options:e}}function Ki(n){return{type:6,styles:n,offset:null}}function To(n,e,t){return{type:0,name:n,styles:e,options:t}}function I(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Q(n=null){return{type:9,options:n}}function we(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function vt(n){Promise.resolve().then(n)}class Dt{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class At{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?vt(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function wr(n){return new l.vHH(3e3,!1)}function hv(){return typeof window<"u"&&typeof window.document<"u"}function zf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qa(n){switch(n.length){case 0:return new Dt;case 1:return n[0];default:return new At(n)}}function Cu(n,e,t,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const D=b.get("offset"),A=D==p,L=A&&_||new Map;b.forEach((U,ie)=>{let le=ie,qe=U;if("offset"!==ie)switch(le=e.normalizePropertyName(le,c),qe){case"!":qe=r.get(ie);break;case Fr:qe=s.get(ie);break;default:qe=e.normalizeStyleValue(ie,le,qe,c)}L.set(le,qe)}),A||d.push(L),_=L,p=D}),c.length)throw function Vf(n){return new l.vHH(3502,!1)}();return d}function xu(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Du(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Du(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Du(t,"destroy",n)))}}function Du(n,e,t){const s=Gf(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function Gf(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ts(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function $f(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Su=(n,e)=>!1,lg=(n,e,t)=>[],Nr=null;function gc(n){const e=n.parentNode||n.host;return e===Nr?null:e}(zf()||typeof Element<"u")&&(hv()?(Nr=(()=>document.documentElement)(),Su=(n,e)=>{for(;e;){if(e===n)return!0;e=gc(e)}return!1}):Su=(n,e)=>n.contains(e),lg=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let gi=null,_c=!1;const dg=Su,w=lg;let y=(()=>{class n{validateStyleProperty(t){return function cg(n){gi||(gi=function pv(){return typeof document<"u"?document.body:null}()||{},_c=!!gi.style&&"WebkitAppearance"in gi.style);let e=!0;return gi.style&&!function Wf(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gi.style,!e&&_c&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gi.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return dg(t,i)}getParentElement(t){return gc(t)}query(t,i,r){return w(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],p){return new Dt(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),C=(()=>{class n{}return n.NOOP=new y,n})();const He="ng-enter",gt="ng-leave",St="ng-trigger",nn=".ng-trigger",Xn="ng-animating",ns=".ng-animating";function rr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Al(parseFloat(e[1]),e[2])}function Al(n,e){return"s"===e?1e3*n:n}function Ro(n,e,t){return n.hasOwnProperty("duration")?n:function Iu(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(wr()),{duration:0,delay:0,easing:""};r=Al(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=Al(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function Ci(){return new l.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function vs(){return new l.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,wr())}return{duration:r,delay:s,easing:c}}(n,e,t)}function Rl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qf(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function oa(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Hd(n,e,t){return t?e+":"+t+";":""}function Yf(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Hd(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Hd(0,Mu(t),n.style[t]));n.setAttribute("style",e)}function ko(n,e,t){n.style&&(e.forEach((i,r)=>{const s=mg(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),zf()&&Yf(n))}function aa(n,e){n.style&&(e.forEach((t,i)=>{const r=mg(i);n.style[r]=""}),zf()&&Yf(n))}function yc(n){return Array.isArray(n)?1==n.length?n[0]:mc(n):n}const hg=new RegExp("{{\\s*(.+?)\\s*}}","g");function fg(n){let e=[];if("string"==typeof n){let t;for(;t=hg.exec(n);)e.push(t[1]);hg.lastIndex=0}return e}function Zf(n,e,t){const i=n.toString(),r=i.replace(hg,(s,c)=>{let d=e[c];return null==d&&(t.push(function sa(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function pg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const LE=/-+([a-z0-9])/g;function mg(n){return n.replace(LE,(...e)=>e[1].toUpperCase())}function Mu(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function to(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Bs(n){return new l.vHH(3004,!1)}()}}function sM(n,e){return window.getComputedStyle(n)[e]}function _g(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function GE(n,e,t){if(":"==n[0]){const p=function gv(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Vd(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function cv(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(Gd(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(Gd(c,r))}(i,t,e)):t.push(n),t}const jd=new Set(["true","1"]),zd=new Set(["false","0"]);function Gd(n,e){const t=jd.has(n)||zd.has(n),i=jd.has(e)||zd.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?jd.has(n):zd.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?jd.has(e):zd.has(e)),c&&d}}const WE=new RegExp("s*:selfs*,?","g");function _v(n,e,t,i){return new aM(n).build(e,t,i)}class aM{constructor(e){this._driver=e}build(e,t,i){const r=new yg(t);return this._resetContextStyleTimingState(r),to(this,yc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Eu(){return new l.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,t))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function sv(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{fg(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(pg(s.values()),t.errors.push(function ov(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=to(this,yc(e.animation),t);return{type:1,matchers:_g(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ou(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>to(this,i,t)),options:Ou(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=to(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Ou(e.options)}}visitAnimate(e,t){const i=function ku(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vv(Ro(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vv(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Ro(t,e);return vv(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ki({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Ki(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Fr?i.push(d):t.errors.push(new l.vHH(3002,!1)):i.push(qf(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),b=_.get(p);let D=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function Bd(n,e,t,i,r){return new l.vHH(3010,!1)}()),D=!1),s=b.startTime),D&&_.set(p,{startTime:s,endTime:r}),t.options&&function mv(n,e,t){const i=e.params||{},r=fg(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Mo(n){return new l.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ig(){return new l.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=e.steps.map(qe=>{const nt=this._makeStyleAst(qe,t);let ot=null!=nt.offset?nt.offset:function yv(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(nt.styles),at=0;return null!=ot&&(s++,at=nt.offset=ot),p=p||at<0||at>1,d=d||at<_,_=at,c.push(at),nt});p&&t.errors.push(function av(){return new l.vHH(3012,!1)}()),d&&t.errors.push(function Ud(){return new l.vHH(3200,!1)}());const D=e.steps.length;let A=0;s>0&&s<D?t.errors.push(function AE(){return new l.vHH(3202,!1)}()):0==s&&(A=1/(D-1));const L=D-1,U=t.currentTime,ie=t.currentAnimateTimings,le=ie.duration;return b.forEach((qe,nt)=>{const ot=A>0?nt==L?1:A*nt:c[nt],at=ot*le;t.currentTime=U+ie.delay+at,ie.duration=at,this._validateStyleAst(qe,t),qe.offset=ot,i.styles.push(qe)}),i}visitReference(e,t){return{type:8,animation:to(this,yc(e.animation),t),options:Ou(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ou(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ou(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function KE(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(WE,"")),n=n.replace(/@\*/g,nn).replace(/@\w+/g,t=>nn+"-"+t.slice(1)).replace(/:animating/g,ns),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ts(t.collectedStyles,t.currentQuerySelector,new Map);const d=to(this,yc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:Ou(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function rg(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ro(e.timings,t.errors,!0);return{type:12,animation:to(this,yc(e.animation),t),timings:i,options:null}}}class yg{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ou(n){return n?(n=Rl(n)).params&&(n.params=function YE(n){return n?Rl(n):null}(n.params)):n={},n}function vv(n,e,t){return{duration:n,delay:e,easing:t}}function ZE(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class vg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const QE=new RegExp(":enter","g"),wv=new RegExp(":leave","g");function wg(n,e,t,i,r,s=new Map,c=new Map,d,p,_=[]){return(new XE).buildKeyframes(n,e,t,i,r,s,c,d,p,_)}class XE{buildKeyframes(e,t,i,r,s,c,d,p,_,b=[]){_=_||new vg;const D=new kl(e,t,_,r,s,b,[]);D.options=p;const A=p.delay?rr(p.delay):0;D.currentTimeline.delayNextStep(A),D.currentTimeline.setStyles([c],null,D.errors,p),to(this,i,D);const L=D.timelines.filter(U=>U.containsAnimation());if(L.length&&d.size){let U;for(let ie=L.length-1;ie>=0;ie--){const le=L[ie];if(le.element===t){U=le;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([d],null,D.errors,p)}return L.length?L.map(U=>U.buildKeyframes()):[ZE(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:rr(Zf(s,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?rr(i.duration):null,d=null!=i.delay?rr(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),to(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qf);const c=rr(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>to(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?rr(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),to(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ro(t.params?Zf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?rr(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qf);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{t.currentQueryIndex=b;const D=t.createSubContext(e.options,_);s&&D.delayNextStep(s),_===t.element&&(p=D.currentTimeline),to(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const D=b.currentTime;to(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const Qf={};class kl{constructor(e,t,i,r,s,c,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Eg(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=rr(i.duration)),null!=i.delay&&(r.delay=rr(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=Zf(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new kl(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Qf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new cM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(QE,"."+this._enterClassName)).replace(wv,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function lv(n){return new l.vHH(3014,!1)}()),d}}class Eg{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Eg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Fr),this._currentKeyframe.set(t,Fr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function uM(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Fr)}else oa(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of c){const _=Zf(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Fr),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=oa(d,new Map,this._backFill);_.forEach((b,D)=>{"!"===b?e.add(D):b===Fr&&t.add(D)}),i||_.set("offset",p/this.duration),r.push(_)});const s=e.size?pg(e.values()):[],c=t.size?pg(t.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return ZE(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class cM extends Eg{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,p=oa(e[0]);p.set("offset",0),s.push(p);const _=oa(e[0]);_.set("offset",JE(d)),s.push(_);const b=e.length-1;for(let D=1;D<=b;D++){let A=oa(e[D]);const L=A.get("offset");A.set("offset",JE((t+L*i)/c)),s.push(A)}i=c,t=0,r="",e=s}return ZE(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function JE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class la{}const dM=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hM extends la{normalizePropertyName(e,t){return mg(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(dM.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Us(n,e){return new l.vHH(3005,!1)}())}return c+s}}function eC(n,e,t,i,r,s,c,d,p,_,b,D,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:D,errors:A}}const Ev={};class tC{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function nC(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,d,p,_,b){const D=[],A=this.ast.options&&this.ast.options.params||Ev,U=this.buildStyles(i,d&&d.params||Ev,D),ie=p&&p.params||Ev,le=this.buildStyles(r,ie,D),qe=new Set,nt=new Map,ot=new Map,at="void"===r,Ft={params:fM(ie,A),delay:this.ast.options?.delay},Nt=b?[]:wg(e,t,this.ast.animation,s,c,U,le,Ft,_,D);let Cn=0;if(Nt.forEach(Ea=>{Cn=Math.max(Ea.duration+Ea.delay,Cn)}),D.length)return eC(t,this._triggerName,i,r,at,U,le,[],[],nt,ot,Cn,D);Nt.forEach(Ea=>{const hd=Ea.element,g6=ts(nt,hd,new Set);Ea.preStyleProps.forEach(Vm=>g6.add(Vm));const ME=ts(ot,hd,new Set);Ea.postStyleProps.forEach(Vm=>ME.add(Vm)),hd!==t&&qe.add(hd)});const Ir=pg(qe.values());return eC(t,this._triggerName,i,r,at,U,le,Nt,Ir,nt,ot,Cn)}}function fM(n,e){const t=Rl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class pM{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Rl(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=Zf(c,r,t));const p=this.normalizer.normalizePropertyName(d,t);c=this.normalizer.normalizeStyleValue(d,p,c,t),i.set(d,c)})}),i}}class gM{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new pM(r.style,r.options&&r.options.params||{},i))}),Ka(this.states,"true","1"),Ka(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new tC(e,r,this.states))}),this.fallbackTransition=function Cg(n,e,t){return new tC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ka(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Jf=new vg;class iC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=_v(this._driver,t,i,[]);if(i.length)throw function OE(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=Cu(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const d=new Map;if(s?(c=wg(this._driver,t,s,He,gt,new Map,new Map,i,Jf,r),c.forEach(b=>{const D=ts(d,b.element,new Map);b.postStyleProps.forEach(A=>D.set(A,null))})):(r.push(function PE(){return new l.vHH(3300,!1)}()),c=[]),r.length)throw function FE(n){return new l.vHH(3504,!1)}();d.forEach((b,D)=>{b.forEach((A,L)=>{b.set(L,this._driver.computeStyle(D,L,Fr))})});const _=qa(c.map(b=>{const D=d.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function NE(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=Gf(t,"","","");return xu(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Cv="ng-animate-queued",sC="ng-animate-disabled",Dv=[],_M={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},no="__ng_removed";class Sv{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Tv(n){return n??null}(i?e.value:e),i){const s=Rl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const ep="void",Iv=new Sv(ep);class yM{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,io(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function sg(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function uv(n){return new l.vHH(3303,!1)}();if(!function Yi(n){return"start"==n||"done"==n}(i))throw function og(n,e){return new l.vHH(3400,!1)}();const s=ts(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=ts(this._engine.statesByElement,e,new Map);return d.has(t)||(io(e,St),io(e,St+"-"+t),d.set(t,Iv)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Hf(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new $d(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(io(e,St),io(e,St+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const _=new Sv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(t,_),p||(p=Iv),_.value!==ep&&p.value===_.value){if(!function dC(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const ie=[],le=s.matchStyles(p.value,p.params,ie),qe=s.matchStyles(_.value,_.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{aa(e,le),ko(e,qe)})}return}const A=ts(this._engine.playersByElement,e,[]);A.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let L=s.matchTransition(p.value,_.value,e,_.params),U=!1;if(!L){if(!r)return;L=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:p,toState:_,player:c,isFallbackTransition:U}),U||(io(e,Cv),c.onStart(()=>{Wd(e,Cv)})),c.onDone(()=>{let ie=this.players.indexOf(c);ie>=0&&this.players.splice(ie,1);const le=this._engine.playersByElement.get(e);if(le){let qe=le.indexOf(c);qe>=0&&le.splice(qe,1)}}),this.players.push(c),A.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,nn,!0);i.forEach(r=>{if(r[no])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(e,_,ep,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&qa(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||Iv,b=new Sv(ep),D=new $d(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[no];(!s||s===_M)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){io(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=Gf(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,xu(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class oC{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new yM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(xg(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!xg(t))return;const s=t[no];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),io(e,sC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wd(e,sC))}removeNode(e,t,i,r){if(xg(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[no]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return xg(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nn,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ns,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[no];if(t&&t.setForRemoval){if(e[no]=_M,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(sC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)io(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?qa(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ag(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new vg,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Rt=>{b.add(Rt);const Wt=this.driver.query(Rt,".ng-animate-queued",!0);for(let Jt=0;Jt<Wt.length;Jt++)b.add(Wt[Jt])});const D=this.bodyNode,A=Array.from(this.statesByElement.keys()),L=Mv(A,this.collectedEnterElements),U=new Map;let ie=0;L.forEach((Rt,Wt)=>{const Jt=He+ie++;U.set(Wt,Jt),Rt.forEach(Bn=>io(Bn,Jt))});const le=[],qe=new Set,nt=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Wt=this.collectedLeaveElements[Rt],Jt=Wt[no];Jt&&Jt.setForRemoval&&(le.push(Wt),qe.add(Wt),Jt.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Bn=>qe.add(Bn)):nt.add(Wt))}const ot=new Map,at=Mv(A,Array.from(qe));at.forEach((Rt,Wt)=>{const Jt=gt+ie++;ot.set(Wt,Jt),Rt.forEach(Bn=>io(Bn,Jt))}),e.push(()=>{L.forEach((Rt,Wt)=>{const Jt=U.get(Wt);Rt.forEach(Bn=>Wd(Bn,Jt))}),at.forEach((Rt,Wt)=>{const Jt=ot.get(Wt);Rt.forEach(Bn=>Wd(Bn,Jt))}),le.forEach(Rt=>{this.processLeaveNode(Rt)})});const Ft=[],Nt=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(t).forEach(Jt=>{const Bn=Jt.player,ds=Jt.element;if(Ft.push(Bn),this.collectedEnterElements.length){const Ws=ds[no];if(Ws&&Ws.setForMove){if(Ws.previousTriggersValues&&Ws.previousTriggersValues.has(Jt.triggerName)){const Hm=Ws.previousTriggersValues.get(Jt.triggerName),al=this.statesByElement.get(Jt.element);if(al&&al.has(Jt.triggerName)){const rM=al.get(Jt.triggerName);rM.value=Hm,al.set(Jt.triggerName,rM)}}return void Bn.destroy()}}const Xc=!D||!this.driver.containsElement(D,ds),Ca=ot.get(ds),gf=U.get(ds),Ji=this._buildInstruction(Jt,i,gf,Ca,Xc);if(Ji.errors&&Ji.errors.length)return void Nt.push(Ji);if(Xc)return Bn.onStart(()=>aa(ds,Ji.fromStyles)),Bn.onDestroy(()=>ko(ds,Ji.toStyles)),void r.push(Bn);if(Jt.isFallbackTransition)return Bn.onStart(()=>aa(ds,Ji.fromStyles)),Bn.onDestroy(()=>ko(ds,Ji.toStyles)),void r.push(Bn);const v6=[];Ji.timelines.forEach(Ws=>{Ws.stretchStartingKeyframe=!0,this.disabledNodes.has(Ws.element)||v6.push(Ws)}),Ji.timelines=v6,i.append(ds,Ji.timelines),c.push({instruction:Ji,player:Bn,element:ds}),Ji.queriedElements.forEach(Ws=>ts(d,Ws,[]).push(Bn)),Ji.preStyleProps.forEach((Ws,Hm)=>{if(Ws.size){let al=p.get(Hm);al||p.set(Hm,al=new Set),Ws.forEach((rM,lL)=>al.add(lL))}}),Ji.postStyleProps.forEach((Ws,Hm)=>{let al=_.get(Hm);al||_.set(Hm,al=new Set),Ws.forEach((rM,lL)=>al.add(lL))})});if(Nt.length){const Rt=[];Nt.forEach(Wt=>{Rt.push(function jf(n,e){return new l.vHH(3505,!1)}())}),Ft.forEach(Wt=>Wt.destroy()),this.reportError(Rt)}const Cn=new Map,Ir=new Map;c.forEach(Rt=>{const Wt=Rt.element;i.has(Wt)&&(Ir.set(Wt,Wt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,Cn))}),r.forEach(Rt=>{const Wt=Rt.element;this._getPreviousPlayers(Wt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(Bn=>{ts(Cn,Wt,[]).push(Bn),Bn.destroy()})});const Ea=le.filter(Rt=>wM(Rt,p,_)),hd=new Map;cC(hd,this.driver,nt,_,Fr).forEach(Rt=>{wM(Rt,p,_)&&Ea.push(Rt)});const ME=new Map;L.forEach((Rt,Wt)=>{cC(ME,this.driver,new Set(Rt),p,"!")}),Ea.forEach(Rt=>{const Wt=hd.get(Rt),Jt=ME.get(Rt);hd.set(Rt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(Jt?.entries()??[])]))});const Vm=[],_6=[],y6={};c.forEach(Rt=>{const{element:Wt,player:Jt,instruction:Bn}=Rt;if(i.has(Wt)){if(b.has(Wt))return Jt.onDestroy(()=>ko(Wt,Bn.toStyles)),Jt.disabled=!0,Jt.overrideTotalTime(Bn.totalTime),void r.push(Jt);let ds=y6;if(Ir.size>1){let Ca=Wt;const gf=[];for(;Ca=Ca.parentNode;){const Ji=Ir.get(Ca);if(Ji){ds=Ji;break}gf.push(Ca)}gf.forEach(Ji=>Ir.set(Ji,ds))}const Xc=this._buildAnimation(Jt.namespaceId,Bn,Cn,s,ME,hd);if(Jt.setRealPlayer(Xc),ds===y6)Vm.push(Jt);else{const Ca=this.playersByElement.get(ds);Ca&&Ca.length&&(Jt.parentPlayer=qa(Ca)),r.push(Jt)}}else aa(Wt,Bn.fromStyles),Jt.onDestroy(()=>ko(Wt,Bn.toStyles)),_6.push(Jt),b.has(Wt)&&r.push(Jt)}),_6.forEach(Rt=>{const Wt=s.get(Rt.element);if(Wt&&Wt.length){const Jt=qa(Wt);Rt.setRealPlayer(Jt)}}),r.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<le.length;Rt++){const Wt=le[Rt],Jt=Wt[no];if(Wd(Wt,gt),Jt&&Jt.hasAnimation)continue;let Bn=[];if(d.size){let Xc=d.get(Wt);Xc&&Xc.length&&Bn.push(...Xc);let Ca=this.driver.query(Wt,ns,!0);for(let gf=0;gf<Ca.length;gf++){let Ji=d.get(Ca[gf]);Ji&&Ji.length&&Bn.push(...Ji)}}const ds=Bn.filter(Xc=>!Xc.destroyed);ds.length?vM(this,Wt,ds):this.processLeaveNode(Wt)}return le.length=0,Vm.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Wt=this.players.indexOf(Rt);this.players.splice(Wt,1)}),Rt.play()}),Vm}elementContainsData(e,t){let i=!1;const r=t[no];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==ep;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,b=_!==s,D=ts(i,_,[]);this._getPreviousPlayers(_,b,c,d,t.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),D.push(L)})}aa(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,p=t.element,_=[],b=new Set,D=new Set,A=t.timelines.map(U=>{const ie=U.element;b.add(ie);const le=ie[no];if(le&&le.removedBeforeQueried)return new Dt(U.duration,U.delay);const qe=ie!==p,nt=function bM(n){const e=[];return uC(n,e),e}((i.get(ie)||Dv).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===ie),ot=s.get(ie),at=c.get(ie),Ft=Cu(0,this._normalizer,0,U.keyframes,ot,at),Nt=this._buildPlayer(U,Ft,nt);if(U.subTimeline&&r&&D.add(ie),qe){const Cn=new $d(e,d,ie);Cn.setRealPlayer(Nt),_.push(Cn)}return Nt});_.forEach(U=>{ts(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function aC(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),b.forEach(U=>io(U,Xn));const L=qa(A);return L.onDestroy(()=>{b.forEach(U=>Wd(U,Xn)),ko(p,t.toStyles)}),D.forEach(U=>{ts(r,U,[]).push(L)}),L}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Dt(e.duration,e.delay)}}class $d{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Dt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>xu(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ts(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xg(n){return n&&1===n.nodeType}function lC(n,e){const t=n.style.display;return n.style.display=e??"none",t}function cC(n,e,t,i,r){const s=[];t.forEach(p=>s.push(lC(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(D=>{const A=e.computeStyle(_,D,r);b.set(D,A),(!A||0==A.length)&&(_[no]=fL,c.push(_))}),n.set(_,b)});let d=0;return t.forEach(p=>lC(p,s[d++])),c}function Mv(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return e.forEach(d=>{const p=c(d);1!==p&&t.get(p).push(d)}),t}function io(n,e){n.classList?.add(e)}function Wd(n,e){n.classList?.remove(e)}function vM(n,e,t){qa(t).onDone(()=>n.processLeaveNode(e))}function uC(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof At?uC(i.players,e):e.push(i)}}function wM(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Av{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new oC(e,t,i),this._timelineEngine=new iC(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=_v(this._driver,s,p,[]);if(p.length)throw function kE(n,e){return new l.vHH(3404,!1)}();d=function mM(n,e,t){return new gM(n,e,t)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=$f(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=$f(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Rv=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ko(this._element,this._initialStyles),this._endStyles&&(ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(aa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(aa(this._element,this._endStyles),this._endStyles=null),ko(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Dg(n){let e=null;return n.forEach((t,i)=>{(function hC(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class kv{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sM(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class EM{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return dg(e,t)}getParentElement(e){return gc(e)}query(e,t,i){return w(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(L=>L instanceof kv);(function BE(n,e){return 0===n||0===e})(i,r)&&b.forEach(L=>{L.currentSnapshot.forEach((U,ie)=>_.set(ie,U))});let D=function Tu(n){return n.length?n[0]instanceof Map?n:n.map(e=>qf(e)):[]}(t).map(L=>oa(L));D=function UE(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(d=>c.set(d,sM(n,d)))}}return e}(e,D,_);const A=function tp(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Dg(e[0]),e.length>1&&(i=Dg(e[e.length-1]))):e instanceof Map&&(t=Dg(e)),t||i?new Rv(n,t,i):null}(e,D);return new kv(e,D,p,A)}}let CM=(()=>{class n extends Ns{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mc(t):t;return Sg(this._renderer,null,i,"register",[r]),new fC(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fC extends Ls{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pC(this._id,e,t||{},this._renderer)}}class pC{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Sg(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Sg(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Ig="@.disabled";let xM=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new Tg("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,t,b.name,b)};return i.data.animation.forEach(p),new mC(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Av),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Tg{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Ig?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mC extends Tg{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ig?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gC(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Pu(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let DM=(()=>{class n extends Av{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H),l.LFG(C),l.LFG(la),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _C=[{provide:Ns,useClass:CM},{provide:la,useFactory:function Pv(){return new hM}},{provide:Av,useClass:DM},{provide:l.FYo,useFactory:function Mg(n,e,t){return new xM(n,e,t)},deps:[Sl,Av,l.R0b]}],np=[{provide:C,useFactory:()=>new EM},{provide:l.QbO,useValue:"BrowserAnimations"},..._C],ip=[{provide:C,useClass:y},{provide:l.QbO,useValue:"NoopAnimations"},..._C];let Fu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ip:np}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:np,imports:[kf]}),n})();var $n=T(8996),Ni=T(9751);const{isArray:qd}=Array,{getPrototypeOf:IM,prototype:TM,keys:MM}=Object;function Ag(n){if(1===n.length){const e=n[0];if(qd(e))return{args:e,keys:null};if(function AM(n){return n&&"object"==typeof n&&IM(n)===TM}(e)){const t=MM(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var vc=T(8421),rp=T(3269),sr=T(5403),yt=T(4004);const{isArray:RM}=Array;function Fv(n){return(0,yt.U)(e=>function sp(n,e){return RM(e)?n(...e):n(e)}(n,e))}function Nu(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Kd(...n){const e=(0,rp.jO)(n),{args:t,keys:i}=Ag(n),r=new Ni.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let D=!1;(0,vc.Xf)(t[b]).subscribe((0,sr.x)(s,A=>{D||(D=!0,_--),d[b]=A},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(i?Nu(i,d):d),s.complete())}))}});return e?r.pipe(Fv(e)):r}let vC=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),bc=(()=>{class n extends vC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ca=new l.OlP("NgValueAccessor"),wC={provide:ca,useExisting:(0,l.Gpc)(()=>wc),multi:!0},Nv=new l.OlP("CompositionEventMode");let wc=(()=>{class n extends vC{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EC(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Nv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([wC]),l.qOj]}),n})();function Ya(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Yd(n){return null!=n&&"number"==typeof n.length}const $r=new l.OlP("NgValidators"),Ec=new l.OlP("NgAsyncValidators"),PM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oo{static min(e){return function Lv(n){return e=>{if(Ya(e.value)||Ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function CC(n){return e=>{if(Ya(e.value)||Ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return xC(e)}static requiredTrue(e){return function Lu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Za(n){return Ya(n.value)||PM.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function DC(n){return e=>Ya(e.value)||!Yd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function SC(n){return e=>Yd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function FM(n){if(!n)return Bv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ya(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return IC(e)}static composeAsync(e){return Po(e)}}function xC(n){return Ya(n.value)?{required:!0}:null}function Bv(n){return null}function Uv(n){return null!=n}function NM(n){return(0,l.QGY)(n)?(0,$n.D)(n):n}function Vv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Hv(n,e){return e.map(t=>t(n))}function jv(n){return n.map(e=>function LM(n){return!n.validate}(e)?e:t=>e.validate(t))}function IC(n){if(!n)return null;const e=n.filter(Uv);return 0==e.length?null:function(t){return Vv(Hv(t,e))}}function zv(n){return null!=n?IC(jv(n)):null}function Po(n){if(!n)return null;const e=n.filter(Uv);return 0==e.length?null:function(t){return Kd(Hv(t,e).map(NM)).pipe((0,yt.U)(Vv))}}function Gv(n){return null!=n?Po(jv(n)):null}function $v(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TC(n){return n._rawValidators}function MC(n){return n._rawAsyncValidators}function Wv(n){return n?Array.isArray(n)?n:[n]:[]}function Rg(n,e){return Array.isArray(n)?n.includes(e):n===e}function qv(n,e){const t=Wv(e);return Wv(n).forEach(r=>{Rg(t,r)||t.push(r)}),t}function AC(n,e){return Wv(e).filter(t=>!Rg(n,t))}class RC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bs extends RC{get formDirective(){return null}get path(){return null}}class jt extends RC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kv{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let op=(()=>{class n extends Kv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jt,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),kg=(()=>{class n extends Kv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const Ng="VALID",Lg="INVALID",ua="PENDING",ap="DISABLED";function Bg(n){return(Vg(n)?n.validators:n)||null}function Zv(n,e){return(Vg(e)?e.asyncValidators:n)||null}function Vg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function NC(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function LC(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class Hg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ng}get invalid(){return this.status===Lg}get pending(){return this.status==ua}get disabled(){return this.status===ap}get enabled(){return this.status!==ap}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AC(e,this._rawAsyncValidators))}hasValidator(e){return Rg(this._rawValidators,e)}hasAsyncValidator(e){return Rg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ua,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ap,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ng,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ng||this.status===ua)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ap:Ng}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator=!0;const t=NM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ap:this.errors?Lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(Lg)?Lg:Ng}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ug(n){return Array.isArray(n)?zv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function FC(n){return Array.isArray(n)?Gv(n):n||null}(this._rawAsyncValidators)}}class lp extends Hg{constructor(e,t,i){super(Bg(t),Zv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LC(this,0,e),Object.keys(e).forEach(i=>{NC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Qv extends lp{}const Cc=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xv}),Xv="always";function Qd(n,e){return[...e.path,n]}function cp(n,e,t=Xv){eb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function KM(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dp(n,e)})}(n,e),function Xd(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function YM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function BC(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jv(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),up(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ol(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eb(n,e){const t=TC(n);null!==e.validator?n.setValidators($v(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=MC(n);null!==e.asyncValidator?n.setAsyncValidators($v(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ol(e._rawValidators,r),Ol(e._rawAsyncValidators,r)}function up(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=TC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=MC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ol(e._rawValidators,i),Ol(e._rawAsyncValidators,i),t}function dp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jg(n,e){eb(n,e)}function fp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function $g(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tb(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===wc?t=s:function jC(n){return Object.getPrototypeOf(n.constructor)===bc}(s)?i=s:r=s}),r||i||t||null}const XM={provide:bs,useExisting:(0,l.Gpc)(()=>eh)},Jd=(()=>Promise.resolve())();let eh=(()=>{class n extends bs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new lp({},zv(t),Gv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),cp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jd.then(()=>{const i=this._findContainer(t.path),r=new lp({});jg(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Jd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,$g(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($r,10),l.Y36(Ec,10),l.Y36(Cc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([XM]),l.qOj]}),n})();function zC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wr=class extends Hg{constructor(e=null,t,i){super(Bg(t),Zv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rA={provide:jt,useExisting:(0,l.Gpc)(()=>pp)},WC=(()=>Promise.resolve())();let pp=(()=>{class n extends jt{constructor(t,i,r,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new Wr,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tb(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){WC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);WC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Qd(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,9),l.Y36($r,10),l.Y36(Ec,10),l.Y36(ca,10),l.Y36(l.sBO,8),l.Y36(Cc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([rA]),l.qOj,l.TTD]}),n})(),Wg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const sb=new l.OlP("NgModelWithFormControlWarning"),ob={provide:bs,useExisting:(0,l.Gpc)(()=>xc)};let xc=(()=>{class n extends bs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(up(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return cp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Jv(t.control||null,t,!1),function ZM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,$g(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Jv(i||null,t),(n=>n instanceof Wr)(r)&&(cp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);jg(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function hp(n,e){return up(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eb(this.form,this),this._oldForm&&up(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($r,10),l.Y36(Ec,10),l.Y36(Cc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ob]),l.qOj,l.TTD]}),n})();const lb={provide:jt,useExisting:(0,l.Gpc)(()=>qg)};let qg=(()=>{class n extends jt{set isDisabled(t){}constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tb(0,s)}ngOnChanges(t){this._added||this._setUpControl(),fp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,13),l.Y36($r,10),l.Y36(Ec,10),l.Y36(ca,10),l.Y36(sb,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([lb]),l.qOj,l.TTD]}),n})(),Bu=(()=>{class n{constructor(){this._validator=Bv}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const dA={provide:$r,useExisting:(0,l.Gpc)(()=>ih),multi:!0};let ih=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>xC}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([dA]),l.qOj]}),n})(),sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[da]}),n})();class ox extends Hg{constructor(e,t,i){super(Bg(t),Zv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){LC(this,0,e),e.forEach((i,r)=>{NC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ax(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return ax(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new lp(r,s)}record(t,i=null){const r=this._reduceControls(t);return new Qv(r,i)}control(t,i,r){let s={};return this.useNonNullable?(ax(i)?s=i:(s.validators=i,s.asyncValidators=r),new Wr(t,{...s,nonNullable:!0})):new Wr(t,i,r)}array(t,i,r){const s=t.map(c=>this._createControl(c));return new ox(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Wr||t instanceof Hg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cc,useValue:t.callSetDisabledState??Xv}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sx]}),n})(),Jg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Cc,useValue:t.callSetDisabledState??Xv}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sx]}),n})();var bt=T(9646),qr=T(1135);const e_=(0,T(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ro=T(4671),_p=T(9672);function Lr(...n){const e=(0,rp.yG)(n),t=(0,rp.jO)(n),{args:i,keys:r}=Ag(n);if(0===i.length)return(0,$n.D)([],e);const s=new Ni.y(function Uu(n,e,t=ro.y){return i=>{yp(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)yp(e,()=>{const _=(0,$n.D)(n[p],e);let b=!1;_.subscribe((0,sr.x)(i,D=>{s[p]=D,b||(b=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Nu(r,c):ro.y));return t?s.pipe(Fv(t)):s}function yp(n,e,t){n?(0,_p.f)(t,n,e):e()}var is=T(8189);function Fl(...n){return function gb(){return(0,is.J)(1)}()((0,$n.D)(n,(0,rp.yG)(n)))}function Dc(n){return new Ni.y(e=>{(0,vc.Xf)(n()).subscribe(e)})}var sh=T(9635),Kr=T(576);function Fo(n,e){const t=(0,Kr.m)(n)?n:()=>n,i=r=>r.error(t());return new Ni.y(e?r=>e.schedule(i,0,r):i)}var Vs=T(515),Yr=T(727),Zi=T(4482);function Sc(){return(0,Zi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,sr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class t_ extends Ni.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,sr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yr.w0.EMPTY)}return e}refCount(){return Sc()(this)}}var rn=T(7579),_i=T(3900),ws=T(5698);function Nl(...n){const e=(0,rp.yG)(n);return(0,Zi.e)((t,i)=>{(e?Fl(n,t,e):Fl(n,t)).subscribe(i)})}var Er=T(9300),Zr=T(5577);function vp(n){return(0,Zi.e)((e,t)=>{let i=!1;e.subscribe((0,sr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function _b(n=vA){return(0,Zi.e)((e,t)=>{let i=!1;e.subscribe((0,sr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function vA(){return new e_}function Ll(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Er.h)((r,s)=>n(r,s,i)):ro.y,(0,ws.q)(1),t?vp(e):_b(()=>new e_))}var Bl=T(4351),or=T(8505),Qa=T(262),Ul=T(5026);function bp(n){return n<=0?()=>Vs.E:(0,Zi.e)((e,t)=>{let i=[];e.subscribe((0,sr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function cx(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Er.h)((r,s)=>n(r,s,i)):ro.y,bp(1),t?vp(e):_b(()=>new e_))}function wp(n,e=!1){return(0,Zi.e)((t,i)=>{let r=0;t.subscribe((0,sr.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}function oh(n){return(0,Zi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ln="primary",Ic=Symbol("RouteTitle");class i_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tc(n){return new i_(n)}function ux(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ha(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!vb(n[r],e[r]))return!1;return!0}function vb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function r_(n){return Array.prototype.concat.apply([],n)}function s_(n){return n.length>0?n[n.length-1]:null}function Br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vl(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,$n.D)(Promise.resolve(n)):(0,bt.of)(n)}const Ep=!1,dx={exact:function wb(n,e,t){if(!Ac(n.segments,e.segments)||!Cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!wb(n.children[i],e.children[i],t))return!1;return!0},subset:Cb},hx={exact:function fx(n,e){return ha(n,e)},subset:function Eb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vb(n[t],e[t]))},ignored:()=>!0};function bb(n,e,t){return dx[t.paths](n.root,e.root,t.matrixParams)&&hx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cb(n,e,t){return xb(n,e,e.segments,t)}function xb(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ac(r,t)||e.hasChildren()||!Cp(r,t,i))}if(n.segments.length===t.length){if(!Ac(n.segments,t)||!Cp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Cb(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ac(n.segments,r)&&Cp(n.segments,r,i)&&n.children[ln])&&xb(n.children[ln],e,s,i)}}function Cp(n,e,t){return e.every((i,r)=>hx[t](n[r].parameters,i.parameters))}class Mc{constructor(e=new yn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return bA.serialize(this)}}class yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Br(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lh(this)}}class ah{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tc(this.parameters)),this._parameterMap}toString(){return _x(this)}}function Ac(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let No=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Db},providedIn:"root"}),n})();class Db{parse(e){const t=new bx(e);return new Mc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fa(e.root,!0)}`,i=function wA(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${l_(t)}=${l_(r)}`).join("&"):`${l_(t)}=${l_(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Sb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bA=new Db;function lh(n){return n.segments.map(e=>_x(e)).join("/")}function fa(n,e){if(!n.hasChildren())return lh(n);if(e){const t=n.children[ln]?fa(n.children[ln],!1):"",i=[];return Br(n.children,(r,s)=>{s!==ln&&i.push(`${s}:${fa(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function o_(n,e){let t=[];return Br(n.children,(i,r)=>{r===ln&&(t=t.concat(e(i,r)))}),Br(n.children,(i,r)=>{r!==ln&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===ln?[fa(n.children[ln],!1)]:[`${r}:${fa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${lh(n)}/${t[0]}`:`${lh(n)}/(${t.join("//")})`}}function a_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function l_(n){return a_(n).replace(/%3B/gi,";")}function mx(n){return a_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ib(n){return decodeURIComponent(n)}function gx(n){return Ib(n.replace(/\+/g,"%20"))}function _x(n){return`${mx(n.path)}${function yx(n){return Object.keys(n).map(e=>`;${mx(e)}=${mx(n[e])}`).join("")}(n.parameters)}`}const Cr=/^[^\/()?;=#]+/;function xp(n){const e=n.match(Cr);return e?e[0]:""}const EA=/^[^=?&#]+/,vx=/^[^&#]+/;class bx{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ln]=new yn(e,t)),i}parseSegment(){const e=xp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Ep);return this.capture(e),new ah(Ib(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=xp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=xp(this.remaining);r&&(i=r,this.capture(i))}e[Ib(t)]=Ib(i)}parseQueryParam(e){const t=function CA(n){const e=n.match(EA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function xA(n){const e=n.match(vx);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=gx(t),s=gx(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,Ep);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ln);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[ln]:new yn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Ep)}}function c_(n){return n.segments.length>0?new yn([],{[ln]:n}):n}function Hl(n){const e={};for(const i of Object.keys(n.children)){const s=Hl(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function DA(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new yn(n.segments.concat(e.segments),e.children)}return n}(new yn(n.segments,e))}function Vu(n){return n instanceof Mc}function Tb(n,e,t,i,r){if(0===t.length)return ch(e.root,e.root,e.root,i,r);const s=function Lo(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pa(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Br(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new pa(t,e,i)}(t);return s.toRoot()?ch(e.root,e.root,new yn([],{}),i,r):function c(p){const _=function Cx(n,e,t,i){if(n.isAbsolute)return new rs(e.root,!0,0);if(-1===i)return new rs(t,t===e.root,0);return function xx(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new rs(i,!1,r-s)}(t,i+(Hu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),b=_.processChildren?uh(_.segmentGroup,_.index,s.commands):Ab(_.segmentGroup,_.index,s.commands);return ch(e.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Hu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hs(n){return"object"==typeof n&&null!=n&&n.outlets}function ch(n,e,t,i,r){let c,s={};i&&Br(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===e?t:Mb(n,e,t);const d=c_(Hl(c));return new Mc(d,s,r)}function Mb(n,e,t){const i={};return Br(n.children,(r,s)=>{i[s]=r===e?t:Mb(r,e,t)}),new yn(n.segments,i)}class pa{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Hu(i[0]))throw new l.vHH(4003,!1);const r=i.find(Hs);if(r&&r!==s_(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rs{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Ab(n,e,t){if(n||(n=new yn([],{})),0===n.segments.length&&n.hasChildren())return uh(n,e,t);const i=function Rb(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(Hs(d))break;const p=`${d}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Dx(p,_,c))return s;i+=2}else{if(!Dx(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new yn(n.segments.slice(0,i.pathIndex),{});return s.children[ln]=new yn(n.segments.slice(i.pathIndex),n.children),uh(s,0,r)}return i.match&&0===r.length?new yn(n.segments,{}):i.match&&!n.hasChildren()?ju(n,e,t):i.match?uh(n,0,r):ju(n,e,t)}function uh(n,e,t){if(0===t.length)return new yn(n.segments,{});{const i=function SA(n){return Hs(n[0])?n[0].outlets:{[ln]:n}}(t),r={};return!i[ln]&&n.children[ln]&&1===n.numberOfChildren&&0===n.children[ln].segments.length?uh(n.children[ln],e,t):(Br(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Ab(n.children[c],e,s))}),Br(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new yn(n.segments,r))}}function ju(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Hs(s)){const p=IA(s.outlets);return new yn(i,p)}if(0===r&&Hu(t[0])){i.push(new ah(n.segments[e].path,kb(t[0]))),r++;continue}const c=Hs(s)?s.outlets[ln]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&Hu(d)?(i.push(new ah(c,kb(d))),r+=2):(i.push(new ah(c,{})),r++)}return new yn(i,{})}function IA(n){const e={};return Br(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ju(new yn([],{}),0,t))}),e}function kb(n){const e={};return Br(n,(t,i)=>e[i]=`${t}`),e}function Dx(n,e,t){return n==t.path&&ha(e,t.parameters)}const dh="imperative";class ma{constructor(e,t){this.id=e,this.url=t}}class hh extends ma{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zu extends ma{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dp extends ma{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ob extends ma{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class d_ extends ma{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h_ extends ma{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sx extends ma{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ix extends ma{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tx extends ma{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mx extends ma{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ax{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ox{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Px{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TA{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fx{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let AA=(()=>{class n{createUrlTree(t,i,r,s,c,d){return Tb(t||i.root,r,s,c,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return AA.\u0275fac(e)},providedIn:"root"}),n})();class Nx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Pb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Pb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fb(e,this._root).map(t=>t.value)}}function Pb(n,e){if(n===e.value)return e;for(const t of e.children){const i=Pb(n,t);if(i)return i}return null}function Fb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Fb(n,t);if(i.length)return i.unshift(e),i}return[]}class jl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Lx extends Nx{constructor(e,t){super(e),this.snapshot=t,f_(this,e)}toString(){return this.snapshot.toString()}}function Bx(n,e){const t=function kA(n,e){const c=new Sp([],{},{},"",{},ln,e,null,n.root,-1,{});return new Nb("",new jl(c,[]))}(n,e),i=new qr.X([new ah("",{})]),r=new qr.X({}),s=new qr.X({}),c=new qr.X({}),d=new qr.X(""),p=new Rc(i,r,c,d,s,ln,e,t.root);return p.snapshot=t.root,new Lx(new jl(p,[]),t)}class Rc{constructor(e,t,i,r,s,c,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,yt.U)(_=>_[Ic]))??(0,bt.of)(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Tc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Tc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ux(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Vx(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Sp{get title(){return this.data?.[Ic]}constructor(e,t,i,r,s,c,d,p,_,b,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nb extends Nx{constructor(e,t){super(t),this.url=e,f_(this,t)}toString(){return Lb(this._root)}}function f_(n,e){e.value._routerState=n,e.children.forEach(t=>f_(n,t))}function Lb(n){const e=n.children.length>0?` { ${n.children.map(Lb).join(", ")} } `:"";return`${n.value}${e}`}function p_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ha(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ha(e.params,t.params)||n.params.next(t.params),function yb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ha(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ha(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function m_(n,e){const t=ha(n.params,e.params)&&function px(n,e){return Ac(n,e)&&n.every((t,i)=>ha(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||m_(n.parent,e.parent))}function ph(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Bb(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ph(n,i,r);return ph(n,i)})}(n,e,t);return new jl(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>ph(n,d)),c}}const i=function Ub(n){return new Rc(new qr.X(n.url),new qr.X(n.params),new qr.X(n.queryParams),new qr.X(n.fragment),new qr.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ph(n,s));return new jl(i,r)}}const zl="ngNavigationCancelingError";function jx(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Vu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zx(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function zx(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[zl]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Gu(n){return OA(n)&&Vu(n.url)}function OA(n){return n&&n[zl]}class Vb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new g_,this.attachRef=null}}let g_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Vb,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ip=!1;let __=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(g_),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ip);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ip);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ip);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Ip);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new kL(t,d,r.injector);if(i&&function $t(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class kL{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Rc?this.route:e===g_?this.childContexts:this.parent.get(e,t)}}let Hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[__],encapsulation:2}),n})();function Gx(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function y_(n){const e=n.children&&n.children.map(y_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=Hb),t}function Bo(n){return n.outlet||ln}function zb(n,e){const t=n.filter(i=>Bo(i)===e);return t.push(...n.filter(i=>Bo(i)!==e)),t}function gh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class qx{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),p_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=fh(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Br(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=fh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=fh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=fh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new TA(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ox(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(p_(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),p_(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=gh(r.snapshot),p=d?.get(l._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Kx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class v_{constructor(e,t){this.component=e,this.route=t}}function PA(n,e,t){const i=n._root;return Ap(i,e?e._root:null,t,[i.value])}function _h(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function Ap(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fh(e);return n.children.forEach(c=>{(function FA(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function b_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ac(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ac(n.url,e.url)||!ha(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m_(n,e)||!ha(n.queryParams,e.queryParams);default:return!m_(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Kx(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Ap(n,e,s.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new v_(d.outlet.component,c))}else c&&yh(e,d,r),r.canActivateChecks.push(new Kx(i)),Ap(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Br(s,(c,d)=>yh(c,t.getContext(d),r)),r}function yh(n,e,t){const i=fh(n),r=n.value;Br(i,(s,c)=>{yh(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new v_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function vh(n){return"function"==typeof n}function w_(n){return n instanceof e_||"EmptyError"===n?.name}const Op=Symbol("INITIAL_VALUE");function bh(){return(0,_i.w)(n=>Lr(n.map(e=>e.pipe((0,ws.q)(1),Nl(Op)))).pipe((0,yt.U)(e=>{for(const t of e)if(!0!==t){if(t===Op)return Op;if(!1===t||t instanceof Mc)return t}return!0}),(0,Er.h)(e=>e!==Op),(0,ws.q)(1)))}function Jx(n){return(0,sh.z)((0,or.b)(e=>{if(Vu(e))throw jx(0,e)}),(0,yt.U)(e=>!0===e))}const C_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wh(n,e,t,i,r){const s=Gb(n,e,t);return s.matched?function HA(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,bt.of)(!0);const s=r.map(c=>{const d=_h(c,n);return Vl(function BA(n){return n&&vh(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))});return(0,bt.of)(s).pipe(bh(),Jx())}(i=Gx(e,i),e,t).pipe((0,yt.U)(c=>!0===c?s:{...C_})):(0,bt.of)(s)}function Gb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...C_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ux)(t,n,e);if(!r)return{...C_};const s={};Br(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function x_(n,e,t,i){if(t.length>0&&function HL(n,e,t){return t.some(i=>Pp(n,e,i)&&Bo(i)!==ln)}(n,t,i)){const s=new yn(e,function zA(n,e,t,i){const r={};r[ln]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Bo(s)!==ln){const c=new yn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Bo(s)]=c}return r}(n,e,i,new yn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function GA(n,e,t){return t.some(i=>Pp(n,e,i))}(n,t,i)){const s=new yn(n.segments,function jA(n,e,t,i,r){const s={};for(const c of i)if(Pp(n,t,c)&&!r[Bo(c)]){const d=new yn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[Bo(c)]=d}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new yn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Pp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function eD(n,e,t,i){return!!(Bo(n)===i||i!==ln&&Pp(e,t,n))&&("**"===n.path||Gb(e,n,t).matched)}function tD(n,e,t){return 0===e.length&&!n.children[t]}const kc=!1;class D_{constructor(e){this.segmentGroup=e||null}}class $b{constructor(e){this.urlTree=e}}function Fp(n){return Fo(new D_(n))}function Wb(n){return Fo(new $b(n))}class qb{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=x_(this.urlTree.root,[],[],this.config).segmentGroup,t=new yn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ln).pipe((0,yt.U)(s=>this.createUrlTree(Hl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Qa.K)(s=>{if(s instanceof $b)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof D_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ln).pipe((0,yt.U)(r=>this.createUrlTree(Hl(r),e.queryParams,e.fragment))).pipe((0,Qa.K)(r=>{throw r instanceof D_?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,kc)}createUrlTree(e,t,i){const r=c_(e);return new Mc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,yt.U)(s=>new yn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,$n.D)(r).pipe((0,Bl.b)(s=>{const c=i.children[s],d=zb(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,yt.U)(p=>({segment:p,outlet:s})))}),(0,Ul.R)((s,c)=>(s[c.outlet]=c.segment,s),{}),cx())}expandSegment(e,t,i,r,s,c){return(0,$n.D)(i).pipe((0,Bl.b)(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe((0,Qa.K)(_=>{if(_ instanceof D_)return(0,bt.of)(null);throw _}))),Ll(d=>!!d),(0,Qa.K)((d,p)=>{if(w_(d))return tD(t,r,s)?(0,bt.of)(new yn([],{})):Fp(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return eD(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):Fp(t):Fp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Wb(s):this.lineralizeSegments(i,s).pipe((0,Zr.z)(c=>{const d=new yn(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Gb(t,r,s);if(!d)return Fp(t);const D=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?Wb(D):this.lineralizeSegments(r,D).pipe((0,Zr.z)(A=>this.expandSegment(e,t,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=Gx(i,e),i.loadChildren?(i._loadedRoutes?(0,bt.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,yt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new yn(r,{})))):(0,bt.of)(new yn(r,{}))):wh(t,i,r,e).pipe((0,_i.w)(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Zr.z)(b=>{const D=b.injector??e,A=b.routes,{segmentGroup:L,slicedSegments:U}=x_(t,d,p,A),ie=new yn(L.segments,L.children);if(0===U.length&&ie.hasChildren())return this.expandChildren(D,A,ie).pipe((0,yt.U)(ot=>new yn(d,ot)));if(0===A.length&&0===U.length)return(0,bt.of)(new yn(d,{}));const le=Bo(i)===s;return this.expandSegment(D,ie,A,U,le?ln:s,!0).pipe((0,yt.U)(nt=>new yn(d.concat(nt.segments),nt.children)))})):Fp(t)))}getChildConfig(e,t,i){return t.children?(0,bt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,bt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function E_(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,bt.of)(!0);const s=r.map(c=>{const d=_h(c,n);return Vl(function NA(n){return n&&vh(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))});return(0,bt.of)(s).pipe(bh(),Jx())}(e,t,i).pipe((0,Zr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,or.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function nD(n){return Fo(zx(kc,3))}())):(0,bt.of)({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,bt.of)(i);if(r.numberOfChildren>1||!r.children[ln])return Fo(new l.vHH(4e3,kc));r=r.children[ln]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Mc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Br(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Br(t.children,(d,p)=>{c[p]=this.createSegmentGroup(e,d,i,r)}),new yn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,kc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class iD{}class ZA{constructor(e,t,i,r,s,c,d){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.urlSerializer=d}recognize(){const e=x_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ln).pipe((0,yt.U)(t=>{if(null===t)return null;const i=new Sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new jl(i,t),s=new Nb(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Ux(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,$n.D)(Object.keys(i.children)).pipe((0,Bl.b)(r=>{const s=i.children[r],c=zb(t,r);return this.processSegmentGroup(e,c,s,r)}),(0,Ul.R)((r,s)=>r&&s?(r.push(...s),r):null),wp(r=>null!==r),vp(null),cx(),(0,yt.U)(r=>{if(null===r)return null;const s=sD(r);return function Yb(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,$n.D)(t).pipe((0,Bl.b)(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,s)),Ll(c=>!!c),(0,Qa.K)(c=>{if(w_(c))return tD(i,r,s)?(0,bt.of)([]):(0,bt.of)(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!eD(t,i,r,s))return(0,bt.of)(null);let c;if("**"===t.path){const d=r.length>0?s_(r).parameters:{},p=aD(i)+r.length,_=new Sp(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),Bo(t),t.component??t._loadedComponent??null,t,oD(i),p,cD(t));c=(0,bt.of)({snapshot:_,consumedSegments:[],remainingSegments:[]})}else c=wh(i,t,r,e).pipe((0,yt.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const D=aD(i)+p.length;return{snapshot:new Sp(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lD(t),Bo(t),t.component??t._loadedComponent??null,t,oD(i),D,cD(t)),consumedSegments:p,remainingSegments:_}}));return c.pipe((0,_i.w)(d=>{if(null===d)return(0,bt.of)(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;e=t._injector??e;const D=t._loadedInjector??e,A=function QA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:U}=x_(i,_,b,A.filter(le=>void 0===le.redirectTo));if(0===U.length&&L.hasChildren())return this.processChildren(D,A,L).pipe((0,yt.U)(le=>null===le?null:[new jl(p,le)]));if(0===A.length&&0===U.length)return(0,bt.of)([new jl(p,[])]);const ie=Bo(t)===s;return this.processSegment(D,A,L,U,ie?ln:s).pipe((0,yt.U)(le=>null===le?null:[new jl(p,le)]))}))}}function rD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sD(n){const e=[],t=new Set;for(const i of n){if(!rD(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=sD(i.children);e.push(new jl(i.value,r))}return e.filter(i=>!t.has(i))}function oD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aD(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function lD(n){return n.data||{}}function cD(n){return n.resolve||{}}function fD(n){return"string"==typeof n.title||null===n.title}function Zb(n){return(0,_i.w)(e=>{const t=n(e);return t?(0,$n.D)(t).pipe((0,yt.U)(()=>e)):(0,bt.of)(e)})}const Oc=new l.OlP("ROUTES");let I_=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,bt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Vl(t.loadComponent()).pipe((0,yt.U)(pD),(0,or.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),oh(()=>{this.componentLoaders.delete(t)})),r=new t_(i,()=>new rn.x).pipe(Sc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,bt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,yt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(t).injector,_=r_(p.get(Oc,[],l.XFs.Self|l.XFs.Optional)));return{routes:_.map(y_),injector:p}}),oh(()=>{this.childrenLoaders.delete(i)})),c=new t_(s,()=>new rn.x).pipe(Sc());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return Vl(t()).pipe((0,yt.U)(pD),(0,Zr.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,bt.of)(r):(0,$n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pD(n){return function Qb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Eh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new rn.x,this.configLoader=(0,l.f3M)(I_),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(No),this.rootContexts=(0,l.f3M)(g_),this.navigationId=0,this.afterPreactivation=()=>(0,bt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Rx(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ax(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new qr.X({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Er.h)(i=>0!==i.id),(0,yt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,_i.w)(i=>{let r=!1,s=!1;return(0,bt.of)(i).pipe((0,or.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_i.w)(c=>{const d=t.browserUrlTree.toString(),p=!t.navigated||c.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new Ob(c.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Vs.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return mD(c.source)&&(t.browserUrlTree=c.extractedUrl),(0,bt.of)(c).pipe((0,_i.w)(b=>{const D=this.transitions?.getValue();return this.events.next(new hh(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),D!==this.transitions?.getValue()?Vs.E:Promise.resolve(b)}),function qA(n,e,t,i){return(0,_i.w)(r=>function WA(n,e,t,i,r){return new qb(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,yt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,or.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function JA(n,e,t,i,r){return(0,Zr.z)(s=>function YA(n,e,t,i,r,s,c="emptyOnly"){return new ZA(n,e,t,i,r,c,s).recognize().pipe((0,_i.w)(d=>null===d?function KA(n){return new Ni.y(e=>e.error(n))}(new iD):(0,bt.of)(d)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,yt.U)(c=>({...s,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,or.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const A=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(A,b)}t.browserUrlTree=b.urlAfterRedirects}const D=new h_(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(D)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:D,source:A,restoredState:L,extras:U}=c,ie=new hh(b,this.urlSerializer.serialize(D),A,L);this.events.next(ie);const le=Bx(D,this.rootComponentType).snapshot;return i={...c,targetSnapshot:le,urlAfterRedirects:D,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},(0,bt.of)(i)}{const b="";return this.events.next(new Ob(c.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Vs.E}}),(0,or.b)(c=>{const d=new Sx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,yt.U)(c=>i={...c,guards:PA(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Qx(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?(0,bt.of)({...t,guardsResult:!0}):function UA(n,e,t,i){return(0,$n.D)(n).pipe((0,Zr.z)(r=>function Xx(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,bt.of)(!0);const c=s.map(d=>{const p=gh(e)??r,_=_h(d,p);return Vl(function LA(n){return n&&vh(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):p.runInContext(()=>_(n,e,t,i))).pipe(Ll())});return(0,bt.of)(c).pipe(bh())}(r.component,r.route,t,e,i)),Ll(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Zr.z)(d=>d&&function Yx(n){return"boolean"==typeof n}(d)?function VA(n,e,t,i){return(0,$n.D)(e).pipe((0,Bl.b)(r=>Fl(function BL(n,e){return null!==n&&e&&e(new kx(n)),(0,bt.of)(!0)}(r.route.parent,i),function LL(n,e){return null!==n&&e&&e(new Px(n)),(0,bt.of)(!0)}(r.route,i),function VL(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Mp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Dc(()=>{const d=c.guards.map(p=>{const _=gh(c.node)??t,b=_h(p,_);return Vl(function kp(n){return n&&vh(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(Ll())});return(0,bt.of)(d).pipe(bh())}));return(0,bt.of)(s).pipe(bh())}(n,r.path,t),function UL(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,bt.of)(!0);const r=i.map(s=>Dc(()=>{const c=gh(e)??t,d=_h(s,c);return Vl(function Rp(n){return n&&vh(n.canActivate)}(d)?d.canActivate(e,n):c.runInContext(()=>d(e,n))).pipe(Ll())}));return(0,bt.of)(r).pipe(bh())}(n,r.route,t))),Ll(r=>!0!==r,!0))}(i,s,n,e):(0,bt.of)(d)),(0,yt.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,or.b)(c=>{if(i.guardsResult=c.guardsResult,Vu(c.guardsResult))throw jx(0,c.guardsResult);const d=new Ix(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),(0,Er.h)(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Zb(c=>{if(c.guards.canActivateChecks.length)return(0,bt.of)(c).pipe((0,or.b)(d=>{const p=new Tx(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),(0,_i.w)(d=>{let p=!1;return(0,bt.of)(d).pipe(function uD(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,bt.of)(t);let s=0;return(0,$n.D)(r).pipe((0,Bl.b)(c=>function dD(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!fD(r)&&(s[Ic]=r.title),function eR(n,e,t,i){const r=function tR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,bt.of)({});const s={};return(0,$n.D)(r).pipe((0,Zr.z)(c=>function hD(n,e,t,i){const r=gh(e)??i,s=_h(n,r);return Vl(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[c],e,t,i).pipe(Ll(),(0,or.b)(d=>{s[c]=d}))),bp(1),function n_(n){return(0,yt.U)(()=>n)}(s),(0,Qa.K)(c=>w_(c)?Vs.E:Fo(c)))}(s,n,e,i).pipe((0,yt.U)(c=>(n._resolvedData=c,n.data=Ux(n,t).resolve,r&&fD(r)&&(n.data[Ic]=r.title),null)))}(c.route,i,n,e)),(0,or.b)(()=>s++),bp(1),(0,Zr.z)(c=>s===r.length?(0,bt.of)(t):Vs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,or.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,or.b)(d=>{const p=new Mx(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Zb(c=>{const d=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,or.b)(b=>{p.component=b}),(0,yt.U)(()=>{})));for(const b of p.children)_.push(...d(b));return _};return Lr(d(c.targetSnapshot.root)).pipe(vp(),(0,ws.q)(1))}),Zb(()=>this.afterPreactivation()),(0,yt.U)(c=>{const d=function Hx(n,e,t){const i=ph(n,e._root,t?t._root:void 0);return new Lx(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,or.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(i=>(new qx(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,or.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new zu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),oh(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,Qa.K)(c=>{if(s=!0,OA(c)){Gu(c)||(t.navigated=!0,t.restoreHistory(i,!0));const d=new Dp(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),Gu(c)){const p=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||mD(i.source)};t.scheduleNavigation(p,dh,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const d=new d_(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(t.errorHandler(c))}catch(p){i.reject(p)}}return Vs.E}))}))}cancelNavigationTransition(t,i,r){const s=new Dp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mD(n){return n!==dh}let Xb=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ln);return i}getResolvedTitleForRoute(t){return t.data[Ic]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ch)},providedIn:"root"}),n})(),Ch=(()=>{class n extends Xb{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(zL)},providedIn:"root"}),n})();class iR{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let zL=(()=>{class n extends iR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xh=new l.OlP("",{providedIn:"root",factory:()=>({})});let rR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Jb)},providedIn:"root"}),n})(),Jb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vD(n){throw n}function e0(n,e,t){return e.parse("/")}const bD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(xh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||e0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(rR),this.routeReuseStrategy=(0,l.f3M)(gD),this.urlCreationStrategy=(0,l.f3M)(RA),this.titleStrategy=(0,l.f3M)(Xb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=r_((0,l.f3M)(Oc,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Eh),this.urlSerializer=(0,l.f3M)(No),this.location=(0,l.f3M)(Ee),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bx(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(t);this.scheduleNavigation(d,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(y_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=p?this.currentUrlTree.fragment:c;let b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,b,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Vu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,dh,null,i)}navigate(t,i={skipLocationChange:!1}){return function ED(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...bD}:!1===i?{...wD}:i,Vu(t))return bb(this.currentUrlTree,t,r);const s=this.parseUrl(t);return bb(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_,b;return c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((D,A)=>{d=D,p=A}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{constructor(t,i,r,s,c,d){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new rn.x;const p=c.nativeElement.tagName;this.isAnchorElement="A"===p||"AREA"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof zu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ur),l.Y36(Rc),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ge))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class CD{}let xD=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe((0,Er.h)(t=>t instanceof zu),(0,Bl.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,$n.D)(r).pipe((0,is.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,bt.of)(null);const s=r.pipe((0,Zr.z)(c=>null===c?(0,bt.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,$n.D)([s,c]).pipe((0,is.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ur),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(CD),l.LFG(I_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=new l.OlP("");let DD=(()=>{class n{constructor(t,i,r,s,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function $u(n,e){return{\u0275kind:n,\u0275providers:e}}function ID(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Ur),r=n.get(TD);1===n.get(r0)&&i.initialNavigation(),n.get(s0,null,l.XFs.Optional)?.setUpPreloading(),n.get(t0,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const TD=new l.OlP("",{factory:()=>new rn.x}),r0=new l.OlP("",{providedIn:"root",factory:()=>1});const s0=new l.OlP("");function MD(n){return $u(0,[{provide:s0,useExisting:xD},{provide:CD,useExisting:n}])}const AD=new l.OlP("ROUTER_FORROOT_GUARD"),KL=[Ee,{provide:No,useClass:Db},Ur,g_,{provide:Rc,useFactory:function SD(n){return n.routerState.root},deps:[Ur]},I_,[]];function fR(){return new l.PXZ("Router",Ur)}let Bp=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[KL,[],{provide:Oc,multi:!0,useValue:t},{provide:AD,useFactory:Up,deps:[[Ur,new l.FiY,new l.tp0]]},{provide:xh,useValue:i||{}},i?.useHash?{provide:Ge,useClass:xe}:{provide:Ge,useClass:ve},{provide:t0,useFactory:()=>{const n=(0,l.f3M)(Ma),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(xh),i=(0,l.f3M)(Eh),r=(0,l.f3M)(No);return t.scrollOffset&&n.setOffset(t.scrollOffset),new DD(r,i,n,e,t)}},i?.preloadingStrategy?MD(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:fR},i?.initialNavigation?_R(i):[],[{provide:M_,useFactory:ID},{provide:l.tb,multi:!0,useExisting:M_}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Oc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(AD,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Hb]}),n})();function Up(n){return"guarded"}function _R(n){return["disabled"===n.initialNavigation?$u(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ur);return()=>{e.setUpLocationChangeListener()}}},{provide:r0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$u(2,[{provide:r0,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(J,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Ur),c=e.get(TD);(function i(r){e.get(Ur).events.pipe((0,Er.h)(c=>c instanceof zu||c instanceof Dp||c instanceof d_),(0,yt.U)(c=>c instanceof zu||c instanceof Dp&&(0===c.code||1===c.code)&&null),(0,Er.h)(c=>null!==c),(0,ws.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),e.get(Eh).afterPreactivation=()=>(r(!0),c.closed?(0,bt.of)(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const M_=new l.OlP("");class Ja{}Ja.\u0275fac=function(e){return new(e||Ja)},Ja.\u0275mod=l.oAB({type:Ja}),Ja.\u0275inj=l.cJS({imports:[Bp.forRoot([{path:"",redirectTo:"login",pathMatch:"full"}],{useHash:!0}),Bp]});class $l{}function oi(n){return null!=n&&"false"!=`${n}`}function Sh(n,e=0){return function R_(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Wu(n){return Array.isArray(n)?n:[n]}function ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wl(n){return n instanceof l.SBq?n.nativeElement:n}$l.\u0275fac=function(e){return new(e||$l)},$l.\u0275mod=l.oAB({type:$l}),$l.\u0275inj=l.cJS({imports:[SL,Jg,Ja]});var RD=T(1144);const o0=["addListener","removeListener"],kD=["addEventListener","removeEventListener"],a0=["on","off"];function Ih(n,e,t,i){if((0,Kr.m)(t)&&(i=t,t=void 0),i)return Ih(n,e,t).pipe(Fv(i));const[r,s]=function vR(n){return(0,Kr.m)(n.addEventListener)&&(0,Kr.m)(n.removeEventListener)}(n)?kD.map(c=>d=>n[c](e,d,t)):function c0(n){return(0,Kr.m)(n.addListener)&&(0,Kr.m)(n.removeListener)}(n)?o0.map(l0(n,e)):function u0(n){return(0,Kr.m)(n.on)&&(0,Kr.m)(n.off)}(n)?a0.map(l0(n,e)):[];if(!r&&(0,RD.z)(n))return(0,Zr.z)(c=>Ih(c,e,t))((0,vc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ni.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function l0(n,e){return t=>i=>n[t](e,i)}var OD=T(4408);const Vp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Vp;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Yr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Vp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var d0=T(7565);const PD=new class h0 extends d0.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bR extends OD.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Vp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Vp.cancelAnimationFrame(t),e._scheduled=void 0)}});let k_,FD=1;const O_={};function f0(n){return n in O_&&(delete O_[n],!0)}const ND={setImmediate(n){const e=FD++;return O_[e]=!0,k_||(k_=Promise.resolve()),k_.then(()=>f0(e)&&n()),e},clearImmediate(n){f0(n)}},{setImmediate:LD,clearImmediate:BD}=ND,Vr={setImmediate(...n){const{delegate:e}=Vr;return(e?.setImmediate||LD)(...n)},clearImmediate(n){const{delegate:e}=Vr;return(e?.clearImmediate||BD)(n)},delegate:void 0},CR=new class ER extends d0.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Th extends OD.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Vr.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Vr.clearImmediate(t),e._scheduled=void 0)}});var p0=T(4986),VD=T(3532),Hp=T(1165);function jp(n,e=p0.z){return function UD(n){return(0,Zi.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,sr.x)(t,_=>{i=!0,r=_,s||(0,vc.Xf)(n(_)).subscribe(s=(0,sr.x)(t,d,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function xR(n=0,e,t=p0.P){let i=-1;return null!=e&&((0,VD.K)(e)?t=e:i=e),new Ni.y(r=>{let s=(0,Hp.q)(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}var lr=T(2722);let P_;try{P_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P_=!1}let Mh,cr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function eu(n){return n===es}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function m0(){if(Mh)return Mh;if("object"!=typeof document||!document)return Mh=new Set(F_),Mh;let n=document.createElement("input");return Mh=new Set(F_.filter(e=>(n.setAttribute("type",e),n.type===e))),Mh}let Ah,g0,Fc,Nc;function Pc(n){return function N_(){if(null==Ah&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ah=!0}))}finally{Ah=Ah||!1}return Ah}()?n:!!n.capture}function HD(){if(null==Fc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fc=!1,Fc;if("scrollBehavior"in document.documentElement.style)Fc=!0;else{const n=Element.prototype.scrollTo;Fc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fc}function Rh(){if("object"!=typeof document||!document)return 0;if(null==g0){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),g0=0,0===n.scrollLeft&&(n.scrollLeft=1,g0=0===n.scrollLeft?1:2),n.remove()}return g0}function qu(n){return n.composedPath?n.composedPath()[0]:n.target}function _0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const XL=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function SR(){return(0,l.f3M)(H)}}),IR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let el=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function TR(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?IR.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XL,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const GD=["contentWrapper"],$D=["*"],AR=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let Gp=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new rn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ni.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(jp(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,bt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Er.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Wl(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ih(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(cr),l.LFG(H,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y0=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new rn.x,this._elementScrolled=new Ni.y(c=>this.ngZone.runOutsideAngular(()=>Ih(this.elementRef.nativeElement,"scroll").pipe((0,lr.R)(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Rh()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Rh()?t.left=t.right:1==Rh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;HD()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==Rh()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Rh()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Gp),l.Y36(l.R0b),l.Y36(el,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),$p=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new rn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jp(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cr),l.LFG(l.R0b),l.LFG(H,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KD=new l.OlP("VIRTUAL_SCROLLABLE");let tB=(()=>{class n extends y0{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Gp),l.Y36(l.R0b),l.Y36(el,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const nB=typeof requestAnimationFrame<"u"?PD:CR;let iB=(()=>{class n extends tB{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=oi(t)}constructor(t,i,r,s,c,d,p,_){super(t,d,r,c),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=_,this._platform=(0,l.f3M)(cr),this._detachedSubject=new rn.x,this._renderedRangeSubject=new rn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ni.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Yr.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Nl(null),jp(0,nB)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,lr.R)(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function YD(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,c=s?"X":"Y";let p=`translate${c}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(p+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",c="rtl"==this.dir?.value;i="start"==t?c?s:r:"end"==t?c?r:s:t||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(AR,8),l.Y36(el,8),l.Y36(Gp),l.Y36($p),l.Y36(KD,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(GD,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:y0,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(KD)],n]}]),l.qOj,l.jDz],ngContentSelectors:$D,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Wp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ZD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zp,Wp,iB,zp,Wp]}),n})();function qp(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var V_=T(8372),uk=T(5684),T0=T(1884);const fS=new Set;let Oh,HB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jB(n){if(!fS.has(n))try{Oh||(Oh=document.createElement("style"),Oh.setAttribute("type","text/css"),document.head.appendChild(Oh)),Oh.sheet&&(Oh.sheet.insertRule(`@media ${n} {body{ }}`,0),fS.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pS=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new rn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return dk(Wu(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Lr(dk(Wu(t)).map(c=>this._registerQuery(c).observable));return s=Fl(s.pipe((0,ws.q)(1)),s.pipe((0,uk.T)(1),(0,V_.b)(0))),s.pipe((0,yt.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ni.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Nl(i),(0,yt.U)(({matches:c})=>({query:t,matches:c})),(0,lr.R)(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HB),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class m{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new rn.x,this._typeaheadSubscription=Yr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new rn.x,this.change=new rn.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,or.b)(t=>this._pressedLetters.push(t)),(0,V_.b)(e),(0,Er.h)(()=>this._pressedLetters.length>0),(0,yt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((r||qp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class v extends m{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function $B(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function WB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Y6=new l.OlP("cdk-input-modality-detector-options"),Z6={ignoreKeys:[18,17,224,91,16]},H_=Pc({passive:!0,capture:!0});let Q6=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new qr.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qu(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next($B(c)?"keyboard":"mouse"),this._mostRecentTarget=qu(c))},this._onTouchstart=c=>{WB(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qu(c))},this._options={...Z6,...s},this.modalityDetected=this._modality.pipe((0,uk.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,T0.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,H_),r.addEventListener("mousedown",this._onMousedown,H_),r.addEventListener("touchstart",this._onTouchstart,H_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,H_),document.removeEventListener("mousedown",this._onMousedown,H_),document.removeEventListener("touchstart",this._onTouchstart,H_))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cr),l.LFG(l.R0b),l.LFG(H),l.LFG(Y6,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X6=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function J6(){return null}}),e4=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let t4=0,mk=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+t4++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],c=s.getAttribute("aria-owns");c?-1===c.indexOf(t)&&s.setAttribute("aria-owns",c+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X6,8),l.LFG(l.R0b),l.LFG(H),l.LFG(e4,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n4=new l.OlP("cdk-focus-monitor-default-options"),mS=Pc({passive:!0,capture:!0});let KB=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rn.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=qu(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=Wl(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,bt.of)(null);const s=function jD(n){if(function DR(){if(null==Nc){const n=typeof document<"u"?document.head:null;Nc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Nc}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new rn.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Wl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Wl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=qu(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,mS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,mS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,lr.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(cr),l.LFG(Q6),l.LFG(H,8),l.LFG(n4,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YB="cdk-high-contrast-black-on-white",ZB="cdk-high-contrast-white-on-black",gk="cdk-high-contrast-active";let r4=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(pS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gk,YB,ZB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(gk,YB):2===i&&t.add(gk,ZB)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cr),l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s4=["text"];function o4(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function a4(n,e){if(1&n&&(l.TgZ(0,"span",6),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const l4=[[["mat-icon"]],"*"],c4=["mat-icon","*"],d4=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function u4(){return!0}});let Pn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(r4),l.LFG(d4,8),l.LFG(H))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zp,zp]}),n})();function _k(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=oi(e)}constructor(...e){super(...e),this._disabled=!1}}}function gS(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function yk(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=oi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function JB(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Sh(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function e2(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let t2=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();class f4{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const r2=Pc({passive:!0,capture:!0});class p4{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=qu(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,r2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,r2)))}}const s2={enterDuration:225,exitDuration:150},o2=Pc({passive:!0,capture:!0}),a2=["mousedown","touchstart"],l2=["mouseup","mouseleave","touchend","touchcancel"];class A0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...s2,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function g4(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),L=D.transitionDuration,U="none"===D.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,ie=new f4(this,b,i,U);b.style.transform="scale3d(1, 1, 1)",ie.state=0,i.persistent||(this._mostRecentTransientRipple=ie);let le=null;return!U&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qe=()=>this._finishRippleTransition(ie),nt=()=>this._destroyRipple(ie);b.addEventListener("transitionend",qe),b.addEventListener("transitioncancel",nt),le={onTransitionEnd:qe,onTransitionCancel:nt}}),this._activeRipples.set(ie,le),(U||!_)&&this._finishRippleTransition(ie),ie}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...s2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,a2.forEach(i=>{A0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{l2.forEach(t=>{this._triggerElement.addEventListener(t,this,o2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=$B(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!WB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(a2.forEach(t=>A0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&l2.forEach(t=>e.removeEventListener(t,this,o2)))}}A0._eventManager=new p4;const _4=new l.OlP("mat-ripple-global-options");let j_=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new A0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(cr),l.Y36(_4,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})(),y4=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn]}),n})();const c2=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),u2=new l.OlP("MatOptgroup");let b4=0;class w4{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let E4=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=oi(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+b4++,this.onSelectionChange=new l.vpe,this._stateChanges=new rn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!qp(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new w4(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(s4,7),2&t){let r;l.iGM(r=l.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),d2=(()=>{class n extends E4{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(c2,8),l.Y36(u2,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:c4,decls:7,vars:4,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(l4),l.YNc(0,o4,1,2,"mat-pseudo-checkbox",0),l.Hsn(1),l.TgZ(2,"span",1,2),l.Hsn(4,1),l.qZA(),l.YNc(5,a4,2,1,"span",3),l._UZ(6,"div",4)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(5),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[j_,Oi,y4],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox{margin-right:0;margin-left:16px}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_S,_r,Pn,v4]}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_r,Pn,Wp,Wp,Pn]}),n})(),I4=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=oi(t)}get inset(){return this._inset}set inset(t){this._inset=oi(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();const M4=["*",[["mat-toolbar-row"]]],A4=["*","mat-toolbar-row"],R4=gS(class{constructor(n){this._elementRef=n}});let h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),k4=(()=>{class n extends R4{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cr),l.Y36(H))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,h2,5),2&t){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:A4,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(M4),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();const f2=Pc({passive:!0});let P4=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Vs.E;const i=Wl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new rn.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,f2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,f2)}}),s}stopMonitoring(t){const i=Wl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Bc=T(6451);let p2=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N4=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Wl(t);return new Ni.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new rn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(p2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L4=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Sh(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,V_.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(N4),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),B4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[p2]}),n})();const U4=["matFormFieldNotchedOutline",""],V4=["*"],H4=["textField"],j4=["iconPrefixContainer"],z4=["textPrefixContainer"];function G4(n,e){1&n&&l._UZ(0,"span",19)}function $4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,G4,1,0,"span",18),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function W4(n,e){if(1&n&&l.YNc(0,$4,3,6,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function q4(n,e){1&n&&l._UZ(0,"div",20)}function K4(n,e){}function Y4(n,e){if(1&n&&l.YNc(0,K4,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function Z4(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,Y4,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function Q4(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function X4(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function J4(n,e){}function eq(n,e){if(1&n&&l.YNc(0,J4,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function tq(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function nq(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function iq(n,e){1&n&&l._UZ(0,"div",29)}function rq(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function sq(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function oq(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,sq,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const aq=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lq=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),cq=0;const m2=new l.OlP("MatError");let bk=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+cq++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&l.Ikx("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:m2,useExisting:n}])]}),n})(),uq=0,g2=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+uq++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const dq=new l.OlP("MatPrefix"),_2=new l.OlP("MatSuffix");let y2=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:_2,useExisting:n}])]}),n})(),v2=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function hq(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const b2="mdc-line-ripple--active",yS="mdc-line-ripple--deactivating";let w2=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,c=s.contains(yS);"opacity"===r.propertyName&&c&&s.remove(b2,yS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(yS),t.add(b2)}deactivate(){this._elementRef.nativeElement.classList.add(yS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),E2=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:U4,ngContentSelectors:V4,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const fq={transitionMessages:Io("transitionMessages",[To("enter",Ki({opacity:1,transform:"translateY(0%)"})),I("void => enter",[Ki({opacity:0,transform:"translateY(-5px)"}),ys("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const Ek=new l.OlP("MatFormField"),pq=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let C2=0,vS=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=oi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,c,d,p,_){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=c,this._defaults=d,this._animationMode=p,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+C2++,this._hintLabelId="mat-mdc-hint-"+C2++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new rn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=Boolean(d?.hideRequiredMarker),d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,lr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Bc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,lr.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,lr.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(el),l.Y36(cr),l.Y36(pq,8),l.Y36(l.QbO,8),l.Y36(H))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,z_,5),l.Suo(r,z_,7),l.Suo(r,wk,5),l.Suo(r,dq,5),l.Suo(r,_2,5),l.Suo(r,m2,5),l.Suo(r,g2,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._formFieldControl=s.first),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(H4,5),l.Gf(j4,5),l.Gf(z4,5),l.Gf(v2,5),l.Gf(E2,5),l.Gf(w2,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Ek,useExisting:n}])],ngContentSelectors:lq,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(l.F$t(aq),l.YNc(0,W4,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(4,q4,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,Z4,2,3,"div",5),l.YNc(7,Q4,3,0,"div",6),l.YNc(8,X4,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,eq,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,tq,2,0,"div",10),l.YNc(13,nq,2,0,"div",11),l.qZA(),l.YNc(14,iq,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,rq,2,1,"div",14),l.YNc(17,oq,5,2,"div",15),l.qZA()),2&t&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Oi,Se,ks,Gr,L4,g2,v2,E2,w2],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[fq.transitionMessages]},changeDetection:0}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,_r,B4,Pn]}),n})();const _q=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),yq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vq=0;const bq=e2(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new rn.x}});let xk=(()=>{class n extends bq{get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Oo.required)??!1}set required(t){this._required=oi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&m0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oi(t)}constructor(t,i,r,s,c,d,p,_,b,D){super(d,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+vq++,this.focused=!1,this.stateChanges=new rn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>m0().has(U)),this._iOSKeyupListener=U=>{const ie=U.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,L=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cr),l.Y36(jt,10),l.Y36(eh,8),l.Y36(xc,8),l.Y36(t2),l.Y36(_q,10),l.Y36(P4),l.Y36(l.R0b),l.Y36(Ek,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:wk,useExisting:n}]),l.qOj,l.TTD]}),n})(),wq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Ck,Ck,F4,Pn]}),n})();const Eq=["*"],Dq=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Sq=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Iq=new l.OlP("MAT_CARD_CONFIG");let G_=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Iq,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Eq,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Sq,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(l.F$t(Dq),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),bS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]}),n})(),Bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,_r,Pn]}),n})();class Dk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Sk extends Dk{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Ik extends Dk{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Uq extends Dk{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class Tk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Sk?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ik?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Uq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vq extends Tk{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let S2=(()=>{class n extends Tk{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(H))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const T2=HD();class Hq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ar(-this._previousScrollPosition.left),e.style.top=ar(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),T2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),T2&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class jq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class M2{enable(){}disable(){}attach(){}}function Mk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function A2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class zq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Mk(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Gq=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new M2,this.close=c=>new jq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Hq(this._viewportRuler,this._document),this.reposition=c=>new zq(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gp),l.LFG($p),l.LFG(l.R0b),l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ak{constructor(e){if(this.scrollStrategy=new M2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class $q{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let R2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wq=(()=>{class n extends R2{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qq=(()=>{class n extends R2{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=qu(s)},this._clickListener=s=>{const c=qu(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H),l.LFG(cr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_0()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),_0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H),l.LFG(cr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kq{constructor(e,t,i,r,s,c,d,p,_,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new rn.x,this._attachments=new rn.x,this._detachments=new rn.x,this._locationChanges=Yr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new rn.x,this._outsidePointerEvents=new rn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ws.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ar(this._config.width),e.height=ar(this._config.height),e.minWidth=ar(this._config.minWidth),e.minHeight=ar(this._config.minHeight),e.maxWidth=ar(this._config.maxWidth),e.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Wu(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,lr.R)((0,Bc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const O2="cdk-overlay-connected-position-bounding-box",Yq=/([A-Za-z%]+)$/;class Zq{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rn.x,this._resizeSubscription=Yr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(O2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),_=this._getOverlayPoint(p,t,d),b=this._getOverlayFit(_,t,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(O2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=F2(t);let{x:c,y:d}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let A=0-d,L=d+s.height-i.height,U=this._subtractOverflows(s.width,0-c,c+s.width-i.width),ie=this._subtractOverflows(s.height,A,L),le=U*ie;return{visibleArea:le,isCompletelyWithinViewport:s.width*s.height===le,fitsInViewportVertically:ie===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=P2(this._overlayRef.getConfig().minHeight),d=P2(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=F2(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let b=0,D=0;return b=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,D=r.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:D},{x:e.x+b,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $q(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,D,A;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;s=2*L,c=e.y-L,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)A=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,b=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;b=2*L,D=e.x-L,b>U&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-U/2)}return{top:c,left:D,bottom:d,right:A,width:b,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=ar(i.height),r.top=ar(i.top),r.bottom=ar(i.bottom),r.width=ar(i.width),r.left=ar(i.left),r.right=ar(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ar(s)),c&&(r.maxWidth=ar(c))}this._lastBoundingBoxSize=i,Kp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Kp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Kp(i,this._getExactOverlayY(t,e,b)),Kp(i,this._getExactOverlayX(t,e,b))}else i.position="static";let d="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=ar(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=ar(c.maxWidth):s&&(i.maxWidth="")),Kp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ar(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ar(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:A2(e,i),isOriginOutsideView:Mk(e,i),isOverlayClipped:A2(t,i),isOverlayOutsideView:Mk(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Wu(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Kp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function P2(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Yq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function F2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const N2="cdk-global-overlay-wrapper";class Qq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(N2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,D=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let L="",U="",ie="";p?ie="flex-start":"center"===b?(ie="center",A?U=D:L=D):A?"left"===b||"end"===b?(ie="flex-end",L=D):("right"===b||"start"===b)&&(ie="flex-start",U=D):"left"===b||"start"===b?(ie="flex-start",L=D):("right"===b||"end"===b)&&(ie="flex-end",U=D),e.position=this._cssPosition,e.marginLeft=p?"0":L,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":U,t.justifyContent=ie,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(N2),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Xq=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Qq}flexibleConnectedTo(t){return new Zq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p),l.LFG(H),l.LFG(cr),l.LFG(k2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jq=0,Yp=(()=>{class n{constructor(t,i,r,s,c,d,p,_,b,D,A,L){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=A,this._animationsModuleType=L}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Ak(t);return c.direction=c.direction||this._directionality.value,new Kq(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Jq++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new Vq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gq),l.LFG(k2),l.LFG(l._Vd),l.LFG(Xq),l.LFG(Wq),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(H),l.LFG(el),l.LFG(Ee),l.LFG(qq),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],L2=new l.OlP("cdk-connected-overlay-scroll-strategy");let Rk=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),B2=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=oi(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=oi(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=oi(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=oi(t)}get push(){return this._push}set push(t){this._push=oi(t)}constructor(t,i,r,s,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Yr.w0.EMPTY,this._attachSubscription=Yr.w0.EMPTY,this._detachSubscription=Yr.w0.EMPTY,this._positionSubscription=Yr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new Ik(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=e5);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!qp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ak({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Rk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(wp(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yp),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(L2),l.Y36(el,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.TTD]}),n})();const n5={provide:L2,deps:[Yp],useFactory:function t5(n){return()=>n.scrollStrategies.reposition()}};let kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Yp,n5],imports:[zp,I2,ZD,ZD]}),n})();const a5={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[Yp],useFactory:function o5(n){return()=>n.scrollStrategies.reposition()}};let l5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[a5],imports:[_r,_S,Pn,kk,Wp,Pn]}),n})();var Ok=T(3099);class Pk{}class Ph{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ph?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ph;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ph?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class c5{encodeKey(e){return H2(e)}encodeValue(e){return H2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const d5=/%(\d[a-f0-9])/gi,h5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H2(n){return encodeURIComponent(n).replace(d5,(e,t)=>h5[t]??e)}function wS(n){return`${n}`}class Fh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new c5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function u5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(d),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(wS):[wS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Fh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(wS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(wS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class f5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function j2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function z2(n){return typeof Blob<"u"&&n instanceof Blob}function G2(n){return typeof FormData<"u"&&n instanceof FormData}class R0{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function p5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ph),this.context||(this.context=new f5),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Fh,this.urlWithParams=t}serializeBody(){return null===this.body?null:j2(this.body)||z2(this.body)||G2(this.body)||function m5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G2(this.body)?null:z2(this.body)?this.body.type||null:j2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,A)=>D.set(A,e.setHeaders[A]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((D,A)=>D.set(A,e.setParams[A]),_)),new R0(t,i,s,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var Es=(()=>((Es=Es||{})[Es.Sent=0]="Sent",Es[Es.UploadProgress=1]="UploadProgress",Es[Es.ResponseHeader=2]="ResponseHeader",Es[Es.DownloadProgress=3]="DownloadProgress",Es[Es.Response=4]="Response",Es[Es.User=5]="User",Es))();class g5{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ph,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Fk extends g5{constructor(e={}){super(e),this.type=Es.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fk({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Nk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lk=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof R0)s=t;else{let p,_;p=r.headers instanceof Ph?r.headers:new Ph(r.headers),r.params&&(_=r.params instanceof Fh?r.params:new Fh({fromObject:r.params})),s=new R0(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,bt.of)(s).pipe((0,Bl.b)(p=>this.handler.handle(p)));if(t instanceof R0||"events"===r.observe)return c;const d=c.pipe((0,Er.h)(p=>p instanceof Fk));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,yt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,yt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,yt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,yt.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Fh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Nk(r,i))}post(t,i,r={}){return this.request("POST",t,Nk(r,i))}put(t,i,r={}){return this.request("PUT",t,Nk(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const M5=["*"];let CS;function k0(n){return function A5(){if(void 0===CS&&(CS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(CS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return CS}()?.createHTML(n)||n}function X2(n){return Error(`Unable to find icon with the name "${n}"`)}function J2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function eU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let xS=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Zp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw eU(r);const d=k0(c);return this._addSvgIconConfig(t,i,new Zp("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Zp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw eU(i);const c=k0(s);return this._addSvgIconSetConfig(t,new Zp("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw J2(t);const r=this._cachedIconsByUrl.get(i);return r?(0,bt.of)(DS(r)):this._loadSvgIconFromConfig(new Zp(t,null)).pipe((0,or.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,yt.U)(s=>DS(s)))}getNamedSvgIcon(t,i=""){const r=tU(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Fo(X2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,bt.of)(DS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,yt.U)(i=>DS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,bt.of)(r):Kd(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe((0,Qa.K)(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),(0,bt.of)(null)})))).pipe((0,yt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw X2(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,or.b)(i=>t.svgText=i),(0,yt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,bt.of)(null):this._fetchIcon(t).pipe((0,or.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(k0("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(k0("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function R5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!c)throw J2(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,yt.U)(_=>k0(_)),oh(()=>this._inProgressUrlFetches.delete(c)),(0,Ok.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(tU(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return O5(s)?new Zp(s.url,null,s.options):new Zp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lk,8),l.LFG(eo),l.LFG(H,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DS(n){return n.cloneNode(!0)}function tU(n,e){return n+":"+e}function O5(n){return!(!n.url||!n.options)}const P5=gS(class{constructor(n){this._elementRef=n}}),F5=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),N5=new l.OlP("mat-icon-location",{providedIn:"root",factory:function L5(){const n=(0,l.f3M)(H),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],B5=nU.map(n=>`[${n}]`).join(", "),U5=/^url\(['"]?#(.*?)['"]?\)$/;let O0=(()=>{class n extends P5{get inline(){return this._inline}set inline(t){this._inline=oi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,c,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Yr.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(B5),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)nU.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(U5):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ws.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(xS),l.$8M("aria-hidden"),l.Y36(N5),l.Y36(l.qLn),l.Y36(F5,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:M5,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),V5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,Pn]}),n})();const iU=["mat-button",""],rU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],sU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],oU=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",j5=["mat-icon-button",""],z5=["*"],G5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],$5=gS(_k(yk(class{constructor(n){this._elementRef=n}})));let Uk=(()=>{class n extends $5{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,l.f3M)(KB),this._isFab=!1;const c=t.nativeElement.classList;for(const d of G5)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(j_,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),q5=(()=>{class n extends Uk{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),Y_=(()=>{class n extends Uk{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:iU,ngContentSelectors:sU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(rU),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[j_],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Vk=(()=>{class n extends q5{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:iU,ngContentSelectors:sU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(rU),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[j_],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',oU],encapsulation:2,changeDetection:0}),n})(),Hk=(()=>{class n extends Uk{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(cr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:j5,ngContentSelectors:z5,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[j_],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',oU],encapsulation:2,changeDetection:0}),n})(),aU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,_S,Pn]}),n})();class Y5{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new rn.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let u8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ZD]}),n})(),I8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pn,u8,Pn]}),n})();const M8=["switch"],A8=["*"],R8=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),k8={provide:ca,useExisting:(0,l.Gpc)(()=>wU),multi:!0};class bU{constructor(e,t){this.source=e,this.checked=t}}let O8=0;const P8=JB(gS(yk(_k(class{constructor(n){this._elementRef=n}}))));let F8=(()=>{class n extends P8{get required(){return this._required}set required(t){this._required=oi(t)}get checked(){return this._checked}set checked(t){this._checked=oi(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,c,d,p){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=c,this._onChange=_=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===d,this.id=this._uniqueId=`${p}${++O8}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]}),n})(),wU=(()=>{class n extends F8{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,s,c,d){super(t,i,r,s,c,d,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new bU(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new bU(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(KB),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(R8),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&l.Gf(M8,5),2&t){let r;l.iGM(r=l.CRH())&&(i._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([k8]),l.qOj],ngContentSelectors:A8,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,i){if(1&t&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return i._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.TgZ(10,"div",10),l.O4$(),l.TgZ(11,"svg",11),l._UZ(12,"path",12),l.qZA(),l.TgZ(13,"svg",13),l._UZ(14,"path",14),l.qZA()()()()(),l.kcU(),l.TgZ(15,"label",15),l.NdJ("click",function(s){return s.stopPropagation()}),l.Hsn(16),l.qZA()()),2&t){const r=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==i.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),l.Q6J("tabIndex",i.tabIndex)("disabled",i.disabled),l.uIk("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),l.xp6(8),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l.xp6(6),l.Q6J("for",i.buttonId),l.uIk("id",i._labelId)}},dependencies:[j_],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),B8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[EU,Pn,_S,_r,EU,Pn]}),n})();const U8=["trigger"],V8=["panel"];function H8(n,e){if(1&n&&(l.TgZ(0,"span",10),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function j8(n,e){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function z8(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function G8(n,e){if(1&n&&(l.TgZ(0,"span",11),l.YNc(1,j8,2,1,"span",12),l.YNc(2,z8,1,0,"ng-content",13),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function $8(n,e){if(1&n){const t=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"div",15,16),l.NdJ("@transformPanel.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))}),l.Hsn(2,1),l.qZA()}if(2&n){const t=l.oxw();l.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),l.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const W8=[[["mat-select-trigger"]],"*"],q8=["mat-select-trigger","*"],K8={transformPanelWrap:Io("transformPanelWrap",[I("* => void",we("@transformPanel",[Q()],{optional:!0}))]),transformPanel:Io("transformPanel",[To("void",Ki({opacity:0,transform:"scale(1, 0.8)"})),I("void => showing",ys("120ms cubic-bezier(0, 0, 0.2, 1)",Ki({opacity:1,transform:"scale(1, 1)"}))),I("* => void",ys("100ms linear",Ki({opacity:0})))])};let CU=0;const xU=new l.OlP("mat-select-scroll-strategy"),Z8=new l.OlP("MAT_SELECT_CONFIG"),Q8={provide:xU,deps:[Yp],useFactory:function Y8(n){return()=>n.scrollStrategies.reposition()}},X8=new l.OlP("MatSelectTrigger");class J8{constructor(e,t){this.source=e,this.value=t}}const eK=yk(JB(_k(e2(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new rn.x}}))));let tK=(()=>{class n extends eK{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Oo.required)??!1}set required(t){this._required=oi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=oi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=oi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Sh(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,s,c,d,p,_,b,D,A,L,U,ie){super(c,s,p,_,D),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=b,this._liveAnnouncer=U,this._defaultOptions=ie,this._panelOpen=!1,this._compareWith=(le,qe)=>le===qe,this._uid="mat-select-"+CU++,this._triggerAriaLabelledBy=null,this._destroy=new rn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+CU++,this._panelDoneAnimatingStream=new rn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Dc(()=>{const le=this.options;return le?le.changes.pipe(Nl(le),(0,_i.w)(()=>(0,Bc.T)(...le.map(qe=>qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,ws.q)(1),(0,_i.w)(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe((0,Er.h)(le=>le),(0,yt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Er.h)(le=>!le),(0,yt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ie?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ie.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Y5(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T0.x)(),(0,lr.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,lr.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Nl(null),(0,lr.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!qp(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(t);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||qp(t))if(!c&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ws.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new v(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Bc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,lr.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Bc.T)(...this.options.map(i=>i._stateChanges)).pipe((0,lr.R)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($p),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(t2),l.Y36(l.SBq),l.Y36(el,8),l.Y36(eh,8),l.Y36(xc,8),l.Y36(Ek,8),l.Y36(jt,10),l.$8M("tabindex"),l.Y36(xU),l.Y36(mk),l.Y36(Z8,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(U8,5),l.Gf(V8,5),l.Gf(B2,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),nK=(()=>{class n extends tK{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}]}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,lr.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,s=function C4(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),c=i._getHostElement();r.scrollTop=0===t&&1===s?0:function x4(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(c.offsetTop,c.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new J8(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof Rk?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,X8,5),l.Suo(r,d2,5),l.Suo(r,u2,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:wk,useExisting:n},{provide:c2,useExisting:n}]),l.qOj],ngContentSelectors:q8,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(W8),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,H8,2,1,"span",3),l.YNc(5,G8,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()()()(),l.YNc(10,$8,3,9,"ng-template",9),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(5),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Gt,ks,Gr,pi,B2,Rk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[K8.transformPanel]},changeDetection:0}),n})(),iK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Q8],imports:[_r,kk,vk,Pn,Wp,Ck,vk,Pn]}),n})();const DU=["*"];class sK{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new oK(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class oK{constructor(e,t){this.row=e,this.col=t}}const SU=new l.OlP("MAT_GRID_LIST");let IU=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Sh(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Sh(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(SU,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&l.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:DU,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const aK=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Jk{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=TU(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Qp(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,r,s),this.setRowStyles(e,t,r,s)}setColStyles(e,t,i,r){let s=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",Qp(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class lK extends Jk{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=TU(this.fixedRowHeight),aK.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Qp(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Qp(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class cK extends Jk{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Qp(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Qp(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class uK extends Jk{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",Qp(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Qp(n){return`calc(${n})`}function TU(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let FS=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Sh(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new uK:t&&t.indexOf(":")>-1?new cK(t):new lK(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new sK);const t=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((s,c)=>{const d=t.positions[c];this._tileStyler.setStyle(s,d.row,d.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(el,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,IU,5),2&t){let s;l.iGM(s=l.CRH())&&(i._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[l._Bn([{provide:SU,useExisting:n}])],ngContentSelectors:DU,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div"),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),hK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[n2,Pn,n2,Pn]}),n})();function fK(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t.data.action," ")}}const pK=["label"];function mK(n,e){}const gK=Math.pow(2,31)-1;class eO{constructor(e,t){this._overlayRef=t,this._afterDismissed=new rn.x,this._afterOpened=new rn.x,this._onAction=new rn.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,gK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const MU=new l.OlP("MatSnackBarData");class NS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let _K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),yK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),vK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),bK=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eO),l.Y36(MU))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1),l.qZA(),l.YNc(2,fK,3,1,"div",1)),2&t&&(l.xp6(1),l.hij(" ",i.data.message,"\n"),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[Oi,Y_,_K,yK,vK],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const wK={snackBarState:Io("state",[To("void, hidden",Ki({transform:"scale(0.8)",opacity:0})),To("visible",Ki({transform:"scale(1)",opacity:1})),I("* => visible",ys("150ms cubic-bezier(0, 0, 0.2, 1)")),I("* => void, * => hidden",ys("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ki({opacity:0})))])};let EK=(()=>{class n extends Tk{constructor(t,i,r,s,c){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new rn.x,this._onExit=new rn.x,this._onEnter=new rn.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ws.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(cr),l.Y36(NS))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(S2,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),CK=(()=>{class n extends EK{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(pK,7),2&t){let r;l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:6,vars:2,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),l.YNc(4,mK,0,0,"ng-template",4),l.qZA(),l._UZ(5,"div"),l.qZA()()),2&t&&(l.xp6(5),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[S2],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[wK.snackBarState]}}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kk,I2,_r,aU,Pn,Pn]}),n})();const RU=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function xK(){return new NS}});let DK=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,c,d){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:NS,useValue:i}]}),c=new Sk(this.snackBarContainerComponent,i.viewContainerRef,s),d=t.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(t,i){const r={...new NS,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new eO(c,s);if(t instanceof l.Rgc){const p=new Ik(t,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new Sk(t,void 0,p),b=c.attachComponentPortal(_);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,lr.R)(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Ak;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,d=!c&&"center"!==t.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:eO,useValue:i},{provide:MU,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yp),l.LFG(mk),l.LFG(l.zs3),l.LFG(pS),l.LFG(n,12),l.LFG(RU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),SK=(()=>{class n extends DK{constructor(t,i,r,s,c,d){super(t,i,r,s,c,d),this.simpleSnackBarComponent=bK,this.snackBarContainerComponent=CK,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yp),l.LFG(mk),l.LFG(l.zs3),l.LFG(pS),l.LFG(n,12),l.LFG(RU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:AU}),n})();class Qu{}function IK(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"mat-card-content")(2,"button",3)(3,"mat-icon"),l._uU(4),l.qZA()(),l.TgZ(5,"div"),l._uU(6),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("routerLink",t.path)("disabled",t.disabled),l.xp6(2),l.Oqu(t.icon),l.xp6(2),l.Oqu(t.title)}}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275mod=l.oAB({type:Qu}),Qu.\u0275inj=l.cJS({imports:[S4,T4,O4,wq,Bq,l5,V5,aU,I8,B8,iK,vk,hK,AU]});class L0{constructor(){this.apps=[],this.apps=[{id:1,title:"Tic tac toe",disabled:!1,icon:"gamepad",path:"/game"},{id:2,title:"Smart toy",disabled:!0,icon:"smart_toy",path:"/game"},{id:3,title:"Basketball",disabled:!0,icon:"sports_volleyball",path:"/game"},{id:4,title:"Tetris",disabled:!0,icon:"sports_cricket",path:"/game"}]}}L0.\u0275fac=function(e){return new(e||L0)},L0.\u0275cmp=l.Xpm({type:L0,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"row"],["class","col col-6",4,"ngFor","ngForOf"],[1,"col","col-6"],["mat-icon-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),l._uU(3,"Mis aplicaciones"),l.qZA()(),l.TgZ(4,"mat-card-content")(5,"div",0),l.YNc(6,IK,7,4,"div",1),l.qZA()()()),2&e&&(l.xp6(6),l.Q6J("ngForOf",t.apps))},dependencies:[Jr,G_,$_,W_,O0,Hk,Gl],styles:["mat-card[_ngcontent-%COMP%]{margin:2em auto;justify-content:center}button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1rem;transform:scale(3)}"]});var Me=T(9671),TK=T(1808),V=T(2090),so=T(9681),ql=T(1877),Kl=T(4859),Cs=T(9653);const kU=(0,Cs.R7)({source:"Auth",events:{"Set User Logged In":(0,Cs.Ky)()}});var Wn=T(263);function tO(){return(0,Zi.e)((n,e)=>{let t,i=!1;n.subscribe((0,sr.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var Pt,Hr=T(2011),nO=(T(9568),T(3942)),MK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xu={},iO=iO||{},cn=MK||self;function LS(){}function BS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function B0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rO="closure_uid_"+(1e9*Math.random()>>>0),RK=0;function kK(n,e,t){return n.call.apply(n.bind,arguments)}function OK(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function js(n,e,t){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kK:OK).apply(null,arguments)}function US(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xs(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function Nh(){this.s=this.s,this.o=this.o}Nh.prototype.s=!1,Nh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function AK(n){Object.prototype.hasOwnProperty.call(n,rO)&&n[rO]||(n[rO]=++RK)}(this)},Nh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sO(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function PU(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(BS(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function zs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zs.prototype.h=function(){this.defaultPrevented=!0};var FK=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cn.addEventListener("test",LS,e),cn.removeEventListener("test",LS,e)}catch{}return n}();function VS(n){return/^[\s\xa0]*$/.test(n)}var FU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function oO(n,e){return n<e?-1:n>e?1:0}function HS(){var n=cn.navigator;return n&&(n=n.userAgent)?n:""}function Uc(n){return-1!=HS().indexOf(n)}function aO(n){return aO[" "](n),n}aO[" "]=LS;var jS,n,LK=Uc("Opera"),J_=Uc("Trident")||Uc("MSIE"),NU=Uc("Edge"),lO=NU||J_,LU=Uc("Gecko")&&!(-1!=HS().toLowerCase().indexOf("webkit")&&!Uc("Edge"))&&!(Uc("Trident")||Uc("MSIE"))&&!Uc("Edge"),BK=-1!=HS().toLowerCase().indexOf("webkit")&&!Uc("Edge");function BU(){var n=cn.document;return n?n.documentMode:void 0}e:{var cO="",uO=(n=HS(),LU?/rv:([^\);]+)(\)|;)/.exec(n):NU?/Edge\/([\d\.]+)/.exec(n):J_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BK?/WebKit\/(\S+)/.exec(n):LK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uO&&(cO=uO?uO[1]:""),J_){var dO=BU();if(null!=dO&&dO>parseFloat(cO)){jS=String(dO);break e}}jS=cO}var UK={};var HK=cn.document&&J_&&(BU()||parseInt(jS,10))||void 0;function U0(n,e){if(zs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(LU){e:{try{aO(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&U0.X.h.call(this)}}xs(U0,zs);var jK={2:"touch",3:"pen",4:"mouse"};U0.prototype.h=function(){U0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var V0="closure_listenable_"+(1e6*Math.random()|0),zK=0;function GK(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++zK,this.ba=this.ea=!1}function zS(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function fO(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function VU(n){const e={};for(const t in n)e[t]=n[t];return e}const HU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jU(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<HU.length;s++)t=HU[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function GS(n){this.src=n,this.g={},this.h=0}function pO(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=OU(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(zS(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mO(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}GS.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=mO(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new GK(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var gO="closure_lm_"+(1e6*Math.random()|0),_O={};function zU(n,e,t,i,r){if(i&&i.once)return $U(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zU(n,e[s],t,i,r);return null}return t=wO(t),n&&n[V0]?n.N(e,t,B0(i)?!!i.capture:!!i,r):GU(n,e,t,!1,i,r)}function GU(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=B0(r)?!!r.capture:!!r,d=vO(n);if(d||(n[gO]=d=new GS(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function $K(){const e=WK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)FK||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(qU(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function $U(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$U(n,e[s],t,i,r);return null}return t=wO(t),n&&n[V0]?n.O(e,t,B0(i)?!!i.capture:!!i,r):GU(n,e,t,!0,i,r)}function WU(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)WU(n,e[s],t,i,r);else i=B0(i)?!!i.capture:!!i,t=wO(t),n&&n[V0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mO(s=n.g[e],t,i,r))&&(zS(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=vO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mO(e,t,i,r)),(t=-1<n?e[n]:null)&&yO(t))}function yO(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[V0])pO(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(qU(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vO(e))?(pO(t,n),0==t.h&&(t.src=null,e[gO]=null)):zS(n)}}}function qU(n){return n in _O?_O[n]:_O[n]="on"+n}function WK(n,e){if(n.ba)n=!0;else{e=new U0(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&yO(n),n=t.call(i,e)}return n}function vO(n){return(n=n[gO])instanceof GS?n:null}var bO="__closure_events_fn_"+(1e9*Math.random()>>>0);function wO(n){return"function"==typeof n?n:(n[bO]||(n[bO]=function(e){return n.handleEvent(e)}),n[bO])}function ss(){Nh.call(this),this.i=new GS(this),this.P=this,this.I=null}function Ds(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new zs(e,n);else if(e instanceof zs)e.target=e.target||n;else{var r=e;jU(e=new zs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=$S(c,i,!0,e)&&r}if(r=$S(c=e.g=n,i,!0,e)&&r,r=$S(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=$S(c=e.g=t[s],i,!1,e)&&r}function $S(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var d=c.listener,p=c.ha||c.src;c.ea&&pO(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}xs(ss,Nh),ss.prototype[V0]=!0,ss.prototype.removeEventListener=function(n,e,t,i){WU(this,n,e,t,i)},ss.prototype.M=function(){if(ss.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)zS(t[i]);delete n.g[e],n.h--}}this.I=null},ss.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ss.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var EO=cn.JSON.stringify;function qK(){var n=ZU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CO,KU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YK,n=>n.reset());class YK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZK(n){cn.setTimeout(()=>{throw n},0)}function YU(n,e){CO||function QK(){var n=cn.Promise.resolve(void 0);CO=function(){n.then(XK)}}(),xO||(CO(),xO=!0),ZU.add(n,e)}var xO=!1,ZU=new class KK{constructor(){this.h=this.g=null}add(e,t){const i=KU.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function XK(){for(var n;n=qK();){try{n.h.call(n.g)}catch(t){ZK(t)}var e=KU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xO=!1}function WS(n,e){ss.call(this),this.h=n||1,this.g=e||cn,this.j=js(this.lb,this),this.l=Date.now()}function DO(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function SO(n,e,t){if("function"==typeof n)t&&(n=js(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=js(n.handleEvent,n)}return 2147483647<Number(e)?-1:cn.setTimeout(n,e||0)}function QU(n){n.g=SO(()=>{n.g=null,n.i&&(n.i=!1,QU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xs(WS,ss),(Pt=WS.prototype).ca=!1,Pt.R=null,Pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ds(this,"tick"),this.ca&&(DO(this),this.start()))}},Pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.M=function(){WS.X.M.call(this),DO(this),delete this.g};class JK extends Nh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QU(this)}M(){super.M(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function H0(n){Nh.call(this),this.h=n,this.g={}}xs(H0,Nh);var XU=[];function JU(n,e,t,i){Array.isArray(t)||(t&&(XU[0]=t.toString()),t=XU);for(var r=0;r<t.length;r++){var s=zU(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function eV(n){fO(n.g,function(e,t){this.g.hasOwnProperty(t)&&yO(e)},n),n.g={}}function qS(){this.g=!0}function ey(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return EO(t)}catch{return e}}(n,t)+(i?" "+i:"")})}H0.prototype.M=function(){H0.X.M.call(this),eV(this)},H0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qS.prototype.Aa=function(){this.g=!1},qS.prototype.info=function(){};var Xp={},tV=null;function KS(){return tV=tV||new ss}function nV(n){zs.call(this,Xp.Pa,n)}function j0(n){const e=KS();Ds(e,new nV(e))}function iV(n,e){zs.call(this,Xp.STAT_EVENT,n),this.stat=e}function oo(n){const e=KS();Ds(e,new iV(e,n))}function rV(n,e){zs.call(this,Xp.Qa,n),this.size=e}function z0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){n()},e)}Xp.Pa="serverreachability",xs(nV,zs),Xp.STAT_EVENT="statevent",xs(iV,zs),Xp.Qa="timingevent",xs(rV,zs);var YS={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sV={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function IO(){}function aV(){}IO.prototype.h=null;var AO,G0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function TO(){zs.call(this,"d")}function MO(){zs.call(this,"c")}function ZS(){}function $0(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new H0(this),this.O=rY,this.T=new WS(n=lO?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new lV}function lV(){this.i=null,this.g="",this.h=!1}xs(TO,zs),xs(MO,zs),xs(ZS,IO),ZS.prototype.g=function(){return new XMLHttpRequest},ZS.prototype.i=function(){return{}},AO=new ZS;var rY=45e3,RO={},QS={};function kO(n,e,t){n.K=1,n.v=tI(Ju(e)),n.s=t,n.P=!0,cV(n,null)}function cV(n,e){n.F=Date.now(),W0(n),n.A=Ju(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),vV(t.i,"t",i),n.C=0,t=n.l.H,n.h=new lV,n.g=zV(n.l,t?e:null,!n.s),0<n.N&&(n.L=new JK(js(n.La,n,n.g),n.N)),JU(n.S,n.g,"readystatechange",n.ib),e=n.H?VU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),j0(),function eY(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");c=2<=D.length&&"type"==D[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function uV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function dV(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=sY(n,t),r==QS){4==e&&(n.o=4,oo(14),i=!1),ey(n.j,n.m,null,"[Incomplete Response]");break}if(r==RO){n.o=4,oo(15),ey(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ey(n.j,n.m,r,null),OO(n,r)}uV(n)&&r!=QS&&r!=RO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,oo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),HO(e),e.K=!0,oo(11))):(ey(n.j,n.m,t,"[Invalid Chunked Response]"),Jp(n),q0(n))}function sY(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?QS:(t=Number(e.substring(t,i)),isNaN(t)?RO:(i+=1)+t>e.length?QS:(e=e.substr(i,t),n.C=i+t,e))}function W0(n){n.V=Date.now()+n.O,hV(n,n.O)}function hV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=z0(js(n.gb,n),e)}function XS(n){n.B&&(cn.clearTimeout(n.B),n.B=null)}function q0(n){0==n.l.G||n.I||UV(n.l,n)}function Jp(n){XS(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,DO(n.T),eV(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function OO(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||PO(t.h,n)))if(!n.J&&PO(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;aI(t),sI(t)}VO(t),oo(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=z0(js(t.cb,t),6e3));if(1>=EV(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else tm(t,11)}else if((n.J||t.g==n)&&aI(t),!VS(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const b=_[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const D=_[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(t.J=i=1.5*A,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const L=n.g;if(L){const U=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.h;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(FO(s,s.h),s.h=null))}if(i.D){const ie=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.za=ie,Bi(i.F,i.D,ie))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=jV(i,i.H?i.ka:null,i.V),c.J){CV(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(XS(d),W0(d)),i.g=c}else LV(i);0<t.i.length&&oI(t)}else"stop"!=_[0]&&"close"!=_[0]||tm(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?tm(t,7):UO(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}j0()}catch{}}function fV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(BS(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function aY(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(BS(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function oY(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(BS(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Pt=$0.prototype).setTimeout=function(n){this.O=n},Pt.ib=function(n){n=n.target;const e=this.L;e&&3==ed(n)?e.l():this.La(n)},Pt.La=function(n){try{if(n==this.g)e:{const b=ed(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||lO||this.g&&(this.h.h||this.g.fa()||RV(this.g)))){this.I||4!=b||7==e||j0(),XS(this);var t=this.g.aa();this.Y=t;t:if(uV(this)){var i=RV(this.g);n="";var r=i.length,s=4==ed(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jp(this),q0(this);var c="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function tY(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!VS(d)){var _=d;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,oo(12),Jp(this),q0(this);break e}ey(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,OO(this,t)}this.P?(dV(this,b,c),lO&&this.i&&3==b&&(JU(this.S,this.T,"tick",this.hb),this.T.start())):(ey(this.j,this.m,c,null),OO(this,c)),4==b&&Jp(this),this.i&&!this.I&&(4==b?UV(this.l,this):(this.i=!1,W0(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,oo(12)):(this.o=0,oo(13)),Jp(this),q0(this)}}}catch{}},Pt.hb=function(){if(this.g){var n=ed(this.g),e=this.g.fa();this.C<e.length&&(XS(this),dV(this,n,e),this.i&&4!=n&&W0(this))}},Pt.cancel=function(){this.I=!0,Jp(this)},Pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function nY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(j0(),oo(17)),Jp(this),this.o=2,q0(this)):hV(this,this.V-n)};var pV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function em(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof em){this.h=void 0!==e?e:n.h,JS(this,n.j),this.s=n.s,this.g=n.g,eI(this,n.m),this.l=n.l,e=n.i;var t=new Z0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mV(this,t),this.o=n.o}else n&&(t=String(n).match(pV))?(this.h=!!e,JS(this,t[1]||"",!0),this.s=K0(t[2]||""),this.g=K0(t[3]||"",!0),eI(this,t[4]),this.l=K0(t[5]||"",!0),mV(this,t[6]||"",!0),this.o=K0(t[7]||"")):(this.h=!!e,this.i=new Z0(null,this.h))}function Ju(n){return new em(n)}function JS(n,e,t){n.j=t?K0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mV(n,e,t){e instanceof Z0?(n.i=e,function pY(n,e){e&&!n.j&&(Lh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(_V(this,i),vV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Y0(e,hY)),n.i=new Z0(e,n.h))}function Bi(n,e,t){n.i.set(e,t)}function tI(n){return Bi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function K0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Y0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}em.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Y0(e,gV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Y0(e,gV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Y0(t,"/"==t.charAt(0)?dY:uY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Y0(t,fY)),n.join("")};var gV=/[#\/\?@]/g,uY=/[#\?:]/g,dY=/[#\?]/g,hY=/[#\?@]/g,fY=/#/g;function Z0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Lh(n){n.g||(n.g=new Map,n.h=0,n.i&&function lY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _V(n,e){Lh(n),e=ty(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yV(n,e){return Lh(n),e=ty(n,e),n.g.has(e)}function vV(n,e,t){_V(n,e),0<t.length&&(n.i=null,n.g.set(ty(n,e),sO(t)),n.h+=t.length)}function ty(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bV(n){this.l=n||gY,n=cn.PerformanceNavigationTiming?0<(n=cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cn.g&&cn.g.Ga&&cn.g.Ga()&&cn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=Z0.prototype).add=function(n,e){Lh(this),this.i=null,n=ty(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Pt.forEach=function(n,e){Lh(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Pt.oa=function(){Lh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Pt.W=function(n){Lh(this);let e=[];if("string"==typeof n)yV(this,n)&&(e=e.concat(this.g.get(ty(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Pt.set=function(n,e){return Lh(this),this.i=null,yV(this,n=ty(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var gY=10;function wV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EV(n){return n.h?1:n.g?n.g.size:0}function PO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FO(n,e){n.g?n.g.add(e):n.h=e}function CV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return sO(n.i)}function NO(){}function _Y(){this.g=new NO}function yY(n,e,t){const i=t||"";try{fV(n,function(r,s){let c=r;B0(r)&&(c=EO(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function nI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Q0(n){this.l=n.ac||null,this.j=n.jb||!1}function iI(n,e){ss.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=LO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bV.prototype.cancel=function(){if(this.i=xV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NO.prototype.stringify=function(n){return cn.JSON.stringify(n,void 0)},NO.prototype.parse=function(n){return cn.JSON.parse(n,void 0)},xs(Q0,IO),Q0.prototype.g=function(){return new iI(this.l,this.j)},Q0.prototype.i=function(n){return function(){return n}}({}),xs(iI,ss);var LO=0;function DV(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function X0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,J0(n)}function J0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pt=iI.prototype).open=function(n,e){if(this.readyState!=LO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,J0(this)},Pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||cn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,X0(this)),this.readyState=LO},Pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,J0(this)),this.g&&(this.readyState=3,J0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DV(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?X0(this):J0(this),3==this.readyState&&DV(this)}},Pt.Va=function(n){this.g&&(this.response=this.responseText=n,X0(this))},Pt.Ua=function(n){this.g&&(this.response=n,X0(this))},Pt.ga=function(){this.g&&X0(this)},Pt.setRequestHeader=function(n,e){this.v.append(n,e)},Pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(iI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bY=cn.JSON.parse;function dr(n){ss.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SV,this.K=this.L=!1}xs(dr,ss);var SV="",wY=/^https?$/i,EY=["POST","PUT"];function IV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TV(n),rI(n)}function TV(n){n.D||(n.D=!0,Ds(n,"complete"),Ds(n,"error"))}function MV(n){if(n.h&&typeof iO<"u"&&(!n.C[1]||4!=ed(n)||2!=n.aa()))if(n.v&&4==ed(n))SO(n.Ha,0,n);else if(Ds(n,"readystatechange"),4==ed(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(pV)[1]||null;if(!r&&cn.self&&cn.self.location){var s=cn.self.location.protocol;r=s.substr(0,s.length-1)}i=!wY.test(r?r.toLowerCase():"")}t=i}if(t)Ds(n,"complete"),Ds(n,"success");else{n.m=6;try{var c=2<ed(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",TV(n)}}finally{rI(n)}}}function rI(n,e){if(n.g){AV(n);const t=n.g,i=n.C[0]?LS:null;n.g=null,n.C=null,e||Ds(n,"ready");try{t.onreadystatechange=i}catch{}}}function AV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(cn.clearTimeout(n.A),n.A=null)}function ed(n){return n.g?n.g.readyState:0}function RV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case SV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kV(n){let e="";return fO(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function BO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=kV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bi(n,e,t))}function ew(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function OV(n){this.Ca=0,this.i=[],this.j=new qS,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ew("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ew("baseRetryDelayMs",5e3,n),this.bb=ew("retryDelaySeedMs",1e4,n),this.$a=ew("forwardChannelMaxRetries",2,n),this.ta=ew("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bV(n&&n.concurrentRequestLimit),this.Fa=new _Y,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function UO(n){if(PV(n),3==n.G){var e=n.U++,t=Ju(n.F);Bi(t,"SID",n.I),Bi(t,"RID",e),Bi(t,"TYPE","terminate"),tw(n,t),(e=new $0(n,n.j,e,void 0)).K=2,e.v=tI(Ju(t)),t=!1,cn.navigator&&cn.navigator.sendBeacon&&(t=cn.navigator.sendBeacon(e.v.toString(),"")),!t&&cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=zV(e.l,null),e.g.da(e.v)),e.F=Date.now(),W0(e)}HV(n)}function sI(n){n.g&&(HO(n),n.g.cancel(),n.g=null)}function PV(n){sI(n),n.u&&(cn.clearTimeout(n.u),n.u=null),aI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&cn.clearTimeout(n.m),n.m=null)}function oI(n){wV(n.h)||n.m||(n.m=!0,YU(n.Ja,n),n.C=0)}function FV(n,e){var t;t=e?e.m:n.U++;const i=Ju(n.F);Bi(i,"SID",n.I),Bi(i,"RID",t),Bi(i,"AID",n.T),tw(n,i),n.o&&n.s&&BO(i,n.o,n.s),t=new $0(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=NV(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),FO(n.h,t),kO(t,i,e)}function tw(n,e){n.ia&&fO(n.ia,function(t,i){Bi(e,i,t)}),n.l&&fV({},function(t,i){Bi(e,i,t)})}function NV(n,e,t){t=Math.min(n.i.length,t);var i=n.l?js(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{yY(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function LV(n){n.g||n.u||(n.Z=1,YU(n.Ia,n),n.A=0)}function VO(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=z0(js(n.Ia,n),VV(n,n.A)),n.A++,0))}function HO(n){null!=n.B&&(cn.clearTimeout(n.B),n.B=null)}function BV(n){n.g=new $0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ju(n.sa);Bi(e,"RID","rpc"),Bi(e,"SID",n.I),Bi(e,"CI",n.L?"0":"1"),Bi(e,"AID",n.T),Bi(e,"TYPE","xmlhttp"),tw(n,e),n.o&&n.s&&BO(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=tI(Ju(e)),t.s=null,t.P=!0,cV(t,n)}function aI(n){null!=n.v&&(cn.clearTimeout(n.v),n.v=null)}function UV(n,e){var t=null;if(n.g==e){aI(n),HO(n),n.g=null;var i=2}else{if(!PO(n.h,e))return;t=e.D,CV(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ds(i=KS(),new rV(i,t)),oI(n)}else LV(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function xY(n,e){return!(EV(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=z0(js(n.Ja,n,e),VV(n,n.C)),n.C++,0)))}(n,e)||2==i&&VO(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:tm(n,5);break;case 4:tm(n,10);break;case 3:tm(n,6);break;default:tm(n,2)}}function VV(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function tm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=js(n.kb,n);t||(t=new em("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||JS(t,"https"),tI(t)),function vY(n,e){const t=new qS;if(cn.Image){const i=new Image;i.onload=US(nI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=US(nI,t,i,"TestLoadImage: error",!1,e),i.onabort=US(nI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=US(nI,t,i,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else oo(2);n.G=0,n.l&&n.l.va(e),HV(n),PV(n)}function HV(n){if(n.G=0,n.la=[],n.l){const e=xV(n.h);(0!=e.length||0!=n.i.length)&&(PU(n.la,e),PU(n.la,n.i),n.h.i.length=0,sO(n.i),n.i.length=0),n.l.ua()}}function jV(n,e,t){var i=t instanceof em?Ju(t):new em(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),eI(i,i.m);else{var r=cn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new em(null,void 0);i&&JS(s,i),e&&(s.g=e),r&&eI(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Bi(i,t,e),Bi(i,"VER",n.ma),tw(n,i),i}function zV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Da&&!n.ra?new Q0({jb:!0}):n.ra)).Ka(n.H),e}function GV(){}function lI(){if(J_&&!(10<=Number(HK)))throw Error("Environmental error: no available transport.")}function ga(n,e){ss.call(this),this.g=new OV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!VS(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!VS(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ny(this)}function $V(n){TO.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WV(){MO.call(this),this.status=1}function ny(n){this.g=n}(Pt=dr.prototype).Ka=function(n){this.L=n},Pt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AO.g(),this.C=function oV(n){return n.h||(n.h=n.i())}(this.u?this.u:AO),this.g.onreadystatechange=js(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void IV(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=cn.FormData&&n instanceof cn.FormData,!(0<=OU(EY,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{AV(this),0<this.B&&((this.K=function CY(n){return J_&&function VK(){return function NK(n){var e=UK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=FU(String(jS)).split("."),t=FU("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=oO(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||oO(0==r[2].length,0==s[2].length)||oO(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.qa,this)):this.A=SO(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){IV(this,s)}},Pt.qa=function(){typeof iO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ds(this,"timeout"),this.abort(8))},Pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ds(this,"complete"),Ds(this,"abort"),rI(this))},Pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rI(this,!0)),dr.X.M.call(this)},Pt.Ha=function(){this.s||(this.F||this.v||this.l?MV(this):this.fb())},Pt.fb=function(){MV(this)},Pt.aa=function(){try{return 2<ed(this)?this.g.status:-1}catch{return-1}},Pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bY(e)}},Pt.Ea=function(){return this.m},Pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=OV.prototype).ma=8,Pt.G=1,Pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new $0(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=VU(s),jU(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=NV(this,r,e),Bi(t=Ju(this.F),"RID",n),Bi(t,"CVER",22),this.D&&Bi(t,"X-HTTP-Session-Id",this.D),tw(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(kV(s)))+"&"+e:this.o&&BO(t,this.o,s)),FO(this.h,r),this.Ya&&Bi(t,"TYPE","init"),this.O?(Bi(t,"$req",e),Bi(t,"SID","null"),r.Z=!0,kO(r,t,null)):kO(r,t,e),this.G=2}}else 3==this.G&&(n?FV(this,n):0==this.i.length||wV(this.h)||FV(this))},Pt.Ia=function(){if(this.u=null,BV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=z0(js(this.eb,this),n)}},Pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,oo(10),sI(this),BV(this))},Pt.cb=function(){null!=this.v&&(this.v=null,sI(this),VO(this),oo(19))},Pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),oo(2)):(this.j.info("Failed to ping google.com"),oo(1))},(Pt=GV.prototype).xa=function(){},Pt.wa=function(){},Pt.va=function(){},Pt.ua=function(){},Pt.Ra=function(){},lI.prototype.g=function(n,e){return new ga(n,e)},xs(ga,ss),ga.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;oo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=jV(n,null,n.V),oI(n)},ga.prototype.close=function(){UO(this.g)},ga.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=EO(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&oI(e)},ga.prototype.M=function(){this.g.l=null,delete this.j,UO(this.g),delete this.g,ga.X.M.call(this)},xs($V,TO),xs(WV,MO),xs(ny,GV),ny.prototype.xa=function(){Ds(this.g,"a")},ny.prototype.wa=function(n){Ds(this.g,new $V(n))},ny.prototype.va=function(n){Ds(this.g,new WV)},ny.prototype.ua=function(){Ds(this.g,"b")},lI.prototype.createWebChannel=lI.prototype.g,ga.prototype.send=ga.prototype.u,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,YS.NO_ERROR=0,YS.TIMEOUT=8,YS.HTTP_ERROR=6,sV.COMPLETE="complete",aV.EventType=G0,G0.OPEN="a",G0.CLOSE="b",G0.ERROR="c",G0.MESSAGE="d",ss.prototype.listen=ss.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.Oa,dr.prototype.getLastErrorCode=dr.prototype.Ea,dr.prototype.getStatus=dr.prototype.aa,dr.prototype.getResponseJson=dr.prototype.Sa,dr.prototype.getResponseText=dr.prototype.fa,dr.prototype.send=dr.prototype.da,dr.prototype.setWithCredentials=dr.prototype.Ka;var DY=Xu.createWebChannelTransport=function(){return new lI},SY=Xu.getStatEventTarget=function(){return KS()},jO=Xu.ErrorCode=YS,IY=Xu.EventType=sV,TY=Xu.Event=Xp,qV=Xu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},MY=Xu.FetchXmlHttpFactory=Q0,cI=Xu.WebChannel=aV,AY=Xu.XhrIo=dr;const KV="@firebase/firestore";class os{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let iy="9.16.0";const Bh=new ql.Yd("@firebase/firestore");function zO(){return Bh.logLevel}function Je(n,...e){if(Bh.logLevel<=ql.in.DEBUG){const t=e.map(GO);Bh.debug(`Firestore (${iy}): ${n}`,...t)}}function xr(n,...e){if(Bh.logLevel<=ql.in.ERROR){const t=e.map(GO);Bh.error(`Firestore (${iy}): ${n}`,...t)}}function nm(n,...e){if(Bh.logLevel<=ql.in.WARN){const t=e.map(GO);Bh.warn(`Firestore (${iy}): ${n}`,...t)}}function GO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const e=`FIRESTORE (${iy}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Ot(n,e){n||Ct()}function mt(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends V.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(os.UNAUTHENTICATED))}shutdown(){}}class PY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FY{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable((0,Me.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new YV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new os(e)}}class NY{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=os.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ot(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class LY{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new NY(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BY{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.A=t.token,new ZV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class QV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=UY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function un(n,e){return n<e?-1:n>e?1:0}function ry(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function XV(n){return n+"\0"}class Ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ui.fromMillis(Date.now())}static fromDate(e){return Ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ui(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Ui(0,0))}static max(){return new Ut(new Ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nw{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ct(),void 0===i?i=e.length-t:i>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===nw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fn extends nw{construct(e,t,i){return new Fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new We(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Fn(t)}static emptyPath(){return new Fn([])}}const VY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends nw{construct(e,t,i){return new hr(e,t,i)}static isValidIdentifier(e){return VY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new We(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new We(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new We(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new We(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Fn.fromString(e))}static fromName(e){return new ft(Fn.fromString(e).popFirst(5))}static empty(){return new ft(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Fn(e.slice()))}}class uI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function $O(n){return n.fields.find(e=>2===e.kind)}function im(n){return n.fields.filter(e=>2!==e.kind)}uI.UNKNOWN_ID=-1;class dI{constructor(e,t){this.fieldPath=e,this.kind=t}}class iw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new iw(0,_a.min())}}function JV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ut.fromTimestamp(1e9===i?new Ui(t+1,0):new Ui(t,i));return new _a(r,ft.empty(),e)}function eH(n){return new _a(n.readTime,n.key,-1)}class _a{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _a(Ut.min(),ft.empty(),-1)}static max(){return new _a(Ut.max(),ft.empty(),-1)}}function WO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(n.documentKey,e.documentKey),0!==t?t:un(n.largestBatchId,e.largestBatchId))}const tH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uh(n){return qO.apply(this,arguments)}function qO(){return qO=(0,Me.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==tH)throw n;Je("LocalStore","Unexpectedly lost primary lease")}),qO.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,i)=>{t(e)})}static reject(e){return new De((t,i)=>{i(e)})}static waitFor(e){return new De((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=De.resolve(!1);for(const i of e)t=t.next(r=>r?De.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new De((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;t(e[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(e,t){return new De((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class hI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Qr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new rw(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=KO(i.target.error);this.P.reject(new rw(e,r))}}static open(e,t,i,r){try{return new hI(t,e.transaction(r,i))}catch(s){throw new rw(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GY(t)}}class Yl{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Yl.D((0,V.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Je("SimpleDb","Removing database:",e),rm(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,V.hl)())return!1;if(Yl.N())return!0;const e=(0,V.z$)(),t=Yl.D(e),i=0<t&&t<10,r=Yl.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new rw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new We(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new We(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new rw(e,d))},s.onupgradeneeded=c=>{Je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Me.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const p=hI.open(s.db,e,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),De.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(Je("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zY{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return rm(this.q.delete())}}class rw extends We{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vh(n){return"IndexedDbTransactionError"===n.name}class GY{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rm(i)}add(e){return Je("SimpleDb","ADD",this.store.name,e,e),rm(this.store.add(e))}get(e){return rm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Je("SimpleDb","DELETE",this.store.name,e),rm(this.store.delete(e))}count(){return Je("SimpleDb","COUNT",this.store.name),rm(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new De((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new De((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new De((i,r)=>{t.onerror=s=>{const c=KO(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(e,t){const i=[];return new De((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new zY(d),_=t(d.primaryKey,d.value,p);if(_ instanceof De){const b=_.catch(D=>(p.done(),De.reject(D)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>De.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rm(n){return new De((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=KO(i.target.error);t(r)}})}let iH=!1;function KO(n){const e=Yl.D((0,V.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iH||(iH=!0,setTimeout(()=>{throw i},0)),i}}return n}class $Y{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{Je("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Vh(i)?Je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Uh(i)}yield t.nt(6e4)}))}}class WY{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return De.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Je("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,s)).next(d=>(Je("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=eH(s);WO(c,i)>0&&(i=c)}),new _a(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ya=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class qY{constructor(e,t,i,r,s,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Hh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}function rH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sw(n){return null==n}function ow(n){return 0===n&&1/n==-1/0}function oH(n){return"number"==typeof n&&Number.isInteger(n)&&!ow(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const YY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jh(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=YY.exec(n);if(Ot(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function om(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function YO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aH(n){const e=n.mapValue.fields.__previous_value__;return YO(e)?aH(e):e}function aw(n){const e=jh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ui(e.seconds,e.nanos)}const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fI={nullValue:"NULL_VALUE"};function am(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YO(n)?4:dH(n)?9007199254740991:10:Ct()}function Vc(n,e){if(n===e)return!0;const t=am(n);if(t!==am(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return aw(n).isEqual(aw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=jh(i.timestampValue),c=jh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,om(n.bytesValue).isEqual(om(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fr(i.geoPointValue.latitude)===fr(r.geoPointValue.latitude)&&fr(i.geoPointValue.longitude)===fr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fr(i.integerValue)===fr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=fr(i.doubleValue),c=fr(r.doubleValue);return s===c?ow(s)===ow(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return ry(n.arrayValue.values||[],e.arrayValue.values||[],Vc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(rH(s)!==rH(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Vc(s[d],c[d])))return!1;return!0}(n,e);default:return Ct()}var r}function lw(n,e){return void 0!==(n.values||[]).find(t=>Vc(t,e))}function Gh(n,e){if(n===e)return 0;const t=am(n),i=am(e);if(t!==i)return un(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return un(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=fr(r.integerValue||r.doubleValue),d=fr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return lH(n.timestampValue,e.timestampValue);case 4:return lH(aw(n),aw(e));case 5:return un(n.stringValue,e.stringValue);case 6:return function(r,s){const c=om(r),d=om(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=un(c[p],d[p]);if(0!==_)return _}return un(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=un(fr(r.latitude),fr(s.latitude));return 0!==c?c:un(fr(r.longitude),fr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Gh(c[p],d[p]);if(_)return _}return un(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===zh.mapValue&&s===zh.mapValue)return 0;if(r===zh.mapValue)return 1;if(s===zh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const D=un(d[b],_[b]);if(0!==D)return D;const A=Gh(c[d[b]],p[_[b]]);if(0!==A)return A}return un(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Ct()}}function lH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return un(n,e);const t=jh(n),i=jh(e),r=un(t.seconds,i.seconds);return 0!==r?r:un(t.nanos,i.nanos)}function sy(n){return ZO(n)}function ZO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=jh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?om(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=ZO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${ZO(i.fields[d])}`;return s+"}"}(n.mapValue):Ct();var e}function lm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QO(n){return!!n&&"integerValue"in n}function cw(n){return!!n&&"arrayValue"in n}function cH(n){return!!n&&"nullValue"in n}function uH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pI(n){return!!n&&"mapValue"in n}function uw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZY(n){return"nullValue"in n?fI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lm(Hh.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function QY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lm(Hh.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zh:Ct()}function hH(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fH(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class $h{constructor(e,t){this.position=e,this.inclusive=t}}function pH(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?ft.comparator(ft.fromName(c.referenceValue),t.key):Gh(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function mH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vc(n.position[t],e.position[t]))return!1;return!0}class gH{}class Mn extends gH{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new XY(e,t,i):"array-contains"===t?new tZ(e,i):"in"===t?new EH(e,i):"not-in"===t?new nZ(e,i):"array-contains-any"===t?new iZ(e,i):new Mn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new JY(e,i):new eZ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gh(t,this.value)):null!==t&&am(this.value)===am(t)&&this.matchesComparison(Gh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jn extends gH{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Jn(e,t)}matches(e){return oy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oy(n){return"and"===n.op}function XO(n){return"or"===n.op}function JO(n){return _H(n)&&oy(n)}function _H(n){for(const e of n.filters)if(e instanceof Jn)return!1;return!0}function e1(n){if(n instanceof Mn)return n.field.canonicalString()+n.op.toString()+sy(n.value);if(JO(n))return n.filters.map(e=>e1(e)).join(",");{const e=n.filters.map(t=>e1(t)).join(",");return`${n.op}(${e})`}}function yH(n,e){return n instanceof Mn?(t=n,(i=e)instanceof Mn&&t.op===i.op&&t.field.isEqual(i.field)&&Vc(t.value,i.value)):n instanceof Jn?function(t,i){return i instanceof Jn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,c)=>r&&yH(s,i.filters[c]),!0)}(n,e):void Ct();var t,i}function vH(n,e){const t=n.filters.concat(e);return Jn.create(t,n.op)}function bH(n){return n instanceof Mn?`${(e=n).field.canonicalString()} ${e.op} ${sy(e.value)}`:n instanceof Jn?function(e){return e.op.toString()+" {"+e.getFilters().map(bH).join(" ,")+"}"}(n):"Filter";var e}class XY extends Mn{constructor(e,t,i){super(e,t,i),this.key=ft.fromName(i.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class JY extends Mn{constructor(e,t){super(e,"in",t),this.keys=wH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eZ extends Mn{constructor(e,t){super(e,"not-in",t),this.keys=wH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ft.fromName(i.referenceValue))}class tZ extends Mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cw(t)&&lw(t.arrayValue,this.value)}}class EH extends Mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lw(this.value.arrayValue,t)}}class nZ extends Mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(lw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lw(this.value.arrayValue,t)}}class iZ extends Mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lw(this.value.arrayValue,i))}}class ay{constructor(e,t="asc"){this.field=e,this.dir=t}}function rZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pr{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mI(this.root,e,this.comparator,!1)}getReverseIterator(){return new mI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mI(this.root,e,this.comparator,!0)}}class mI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ss.RED,this.left=r??Ss.EMPTY,this.right=s??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ss(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ss.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ss(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CH(this.data.getIterator())}getIteratorFrom(e){return new CH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class CH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ly(n){return n.hasNext()?n.getNext():void 0}class Vo{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new Vo([])}unionWith(e){let t=new ai(hr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ry(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Is{constructor(e){this.value=e}static empty(){return new Is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uw(t)}setAll(e){let t=hr.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=uw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());pI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];pI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sm(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Is(uw(this.value))}}function xH(n){const e=[];return sm(n.fields,(t,i)=>{const r=new hr([t]);if(pI(i)){const s=xH(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Vo(e)}class Di{constructor(e,t,i,r,s,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Di(e,0,Ut.min(),Ut.min(),Ut.min(),Is.empty(),0)}static newFoundDocument(e,t,i,r){return new Di(e,1,t,Ut.min(),i,r,0)}static newNoDocument(e,t){return new Di(e,2,t,Ut.min(),Ut.min(),Is.empty(),0)}static newUnknownDocument(e,t){return new Di(e,3,t,Ut.min(),Ut.min(),Is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sZ{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ft=null}}function t1(n,e=null,t=[],i=[],r=null,s=null,c=null){return new sZ(n,e,t,i,r,s,c)}function cm(n){const e=mt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>e1(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),sw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sy(i)).join(",")),e.ft=t}return e.ft}function dw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mH(n.startAt,e.startAt)&&mH(n.endAt,e.endAt)}function gI(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _I(n,e){return n.filters.filter(t=>t instanceof Mn&&t.field.isEqual(e))}function DH(n,e,t){let i=fI,r=!0;for(const s of _I(n,e)){let c=fI,d=!0;switch(s.op){case"<":case"<=":c=ZY(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=fI}hH({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];hH({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function SH(n,e,t){let i=zh,r=!0;for(const s of _I(n,e)){let c=zh,d=!0;switch(s.op){case">=":case">":c=QY(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=zh}fH({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];fH({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class td{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.dt=null,this._t=null}}function IH(n,e,t,i,r,s,c,d){return new td(n,e,t,i,r,s,c,d)}function cy(n){return new td(n)}function TH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function n1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function r1(n){return null!==n.collectionGroup}function um(n){const e=mt(n);if(null===e.dt){e.dt=[];const t=yI(e),i=n1(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new ay(t)),e.dt.push(new ay(hr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ay(hr.keyField(),s))}}}return e.dt}function ao(n){const e=mt(n);if(!e._t)if("F"===e.limitType)e._t=t1(e.path,e.collectionGroup,um(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of um(e))t.push(new ay(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new $h(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $h(e.startAt.position,e.startAt.inclusive):null;e._t=t1(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function s1(n,e){e.getFirstInequalityField(),yI(n);const t=n.filters.concat([e]);return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vI(n,e,t){return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hw(n,e){return dw(ao(n),ao(e))&&n.limitType===e.limitType}function MH(n){return`${cm(ao(n))}|lt:${n.limitType}`}function o1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>bH(i)).join(", ")}]`),sw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sy(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sy(i)).join(",")),`Target(${t})`}(ao(n))}; limitType=${n.limitType})`}function a1(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ft.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of um(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=pH(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,um(t),i)||t.endAt&&!function(r,s,c){const d=pH(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,um(t),i)));var t,i}function AH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RH(n){return(e,t)=>{let i=!1;for(const r of um(n)){const s=oZ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function oZ(n,e,t){const i=n.field.isKeyField()?ft.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Gh(d,p):Ct()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ct()}}function kH(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ow(e)?"-0":e}}function OH(n){return{integerValue:""+n}}function PH(n,e){return oH(e)?OH(e):kH(n,e)}class bI{constructor(){this._=void 0}}function aZ(n,e,t){return n instanceof uy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof dm?NH(n,e):n instanceof hm?LH(n,e):function(i,r){const s=FH(i,r),c=BH(s)+BH(i.gt);return QO(s)&&QO(i.gt)?OH(c):kH(i.yt,c)}(n,e)}function lZ(n,e,t){return n instanceof dm?NH(n,e):n instanceof hm?LH(n,e):t}function FH(n,e){return n instanceof dy?QO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class uy extends bI{}class dm extends bI{constructor(e){super(),this.elements=e}}function NH(n,e){const t=UH(e);for(const i of n.elements)t.some(r=>Vc(r,i))||t.push(i);return{arrayValue:{values:t}}}class hm extends bI{constructor(e){super(),this.elements=e}}function LH(n,e){let t=UH(e);for(const i of n.elements)t=t.filter(r=>!Vc(r,i));return{arrayValue:{values:t}}}class dy extends bI{constructor(e,t){super(),this.yt=e,this.gt=t}}function BH(n){return fr(n.integerValue||n.doubleValue)}function UH(n){return cw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fw{constructor(e,t){this.field=e,this.transform=t}}class uZ{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class EI{}function VH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fy(n.key,Vi.none()):new hy(n.key,n.data,Vi.none());{const t=n.data,i=Is.empty();let r=new ai(hr.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new nd(n.key,i,new Vo(r.toArray()),Vi.none())}}function dZ(n,e,t){n instanceof hy?function(i,r,s){const c=i.value.clone(),d=zH(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof nd?function(i,r,s){if(!wI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=zH(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(jH(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pw(n,e,t,i){return n instanceof hy?function(r,s,c,d){if(!wI(r.precondition,s))return c;const p=r.value.clone(),_=GH(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof nd?function(r,s,c,d){if(!wI(r.precondition,s))return c;const p=GH(r.fieldTransforms,d,s),_=s.data;return _.setAll(jH(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(c=t,wI(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function hZ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=FH(i.transform,r||null);null!=s&&(null===t&&(t=Is.empty()),t.set(i.field,s))}return t||null}function HH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ry(t,i,(r,s)=>function cZ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof dm&&i instanceof dm||t instanceof hm&&i instanceof hm?ry(t.elements,i.elements,Vc):t instanceof dy&&i instanceof dy?Vc(t.gt,i.gt):t instanceof uy&&i instanceof uy);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class hy extends EI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nd extends EI{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function zH(n,e,t){const i=new Map;Ot(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,lZ(c,d,t[r]))}return i}function GH(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,aZ(s,c,e))}return i}class fy extends EI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l1 extends EI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fZ{constructor(e){this.count=e}}var jr,Nn;function $H(n){switch(n){default:return Ct();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function WH(n){if(void 0===n)return xr("GRPC error has no .code"),Te.UNKNOWN;switch(n){case jr.OK:return Te.OK;case jr.CANCELLED:return Te.CANCELLED;case jr.UNKNOWN:return Te.UNKNOWN;case jr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case jr.INTERNAL:return Te.INTERNAL;case jr.UNAVAILABLE:return Te.UNAVAILABLE;case jr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case jr.NOT_FOUND:return Te.NOT_FOUND;case jr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case jr.ABORTED:return Te.ABORTED;case jr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case jr.DATA_LOSS:return Te.DATA_LOSS;default:return Ct()}}(Nn=jr||(jr={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";class Wh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sm(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return sH(this.inner)}size(){return this.innerSize}}const pZ=new pr(ft.comparator);function Ho(){return pZ}const qH=new pr(ft.comparator);function mw(...n){let e=qH;for(const t of n)e=e.insert(t.key,t);return e}function KH(n){let e=qH;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hc(){return gw()}function YH(){return gw()}function gw(){return new Wh(n=>n.toString(),(n,e)=>n.isEqual(e))}const mZ=new pr(ft.comparator),gZ=new ai(ft.comparator);function pn(...n){let e=gZ;for(const t of n)e=e.add(t);return e}const _Z=new ai(un);function CI(){return _Z}class _w{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,yw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _w(Ut.min(),r,CI(),Ho(),pn())}}class yw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yw(i,t,pn(),pn(),pn())}}class xI{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class ZH{constructor(e,t){this.targetId=e,this.Et=t}}class QH{constructor(e,t,i=Xr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class XH{constructor(){this.At=0,this.Rt=ej(),this.bt=Xr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=pn(),t=pn(),i=pn();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ct()}}),new yw(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=ej()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class yZ{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ho(),this.qt=JH(),this.Ut=new ai(un)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const s=r.target;if(gI(s))if(0===i){const c=new ft(s.path);this.Qt(t,c,Di.newNoDocument(c,Ut.min()))}else Ot(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,c)=>{const d=this.Yt(c);if(d){if(s.current&&gI(d.target)){const p=new ft(d.target.path);null!==this.Lt.get(p)||this.te(c,p)||this.Qt(c,p,Di.newNoDocument(p,e))}s.St&&(t.set(c,s.Ct()),s.xt())}});let i=pn();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Yt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Lt.forEach((s,c)=>c.setReadTime(e));const r=new _w(e,t,this.Ut,this.Lt,i);return this.Lt=Ho(),this.qt=JH(),this.Ut=new ai(un),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new XH,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ai(un),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Je("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new XH),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function JH(){return new pr(ft.comparator)}function ej(){return new pr(ft.comparator)}const vZ={asc:"ASCENDING",desc:"DESCENDING"},bZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wZ={and:"AND",or:"OR"};class EZ{constructor(e,t){this.databaseId=e,this.wt=t}}function py(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tj(n,e){return n.wt?e.toBase64():e.toUint8Array()}function CZ(n,e){return py(n,e.toTimestamp())}function Dr(n){return Ot(!!n),Ut.fromTimestamp(function(e){const t=jh(e);return new Ui(t.seconds,t.nanos)}(n))}function c1(n,e){return(t=n,new Fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nj(n){const e=Fn.fromString(n);return Ot(dj(e)),e}function vw(n,e){return c1(n.databaseId,e.path)}function jc(n,e){const t=nj(e);if(t.get(1)!==n.databaseId.projectId)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new We(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(rj(t))}function u1(n,e){return c1(n.databaseId,e)}function ij(n){const e=nj(n);return 4===e.length?Fn.emptyPath():rj(e)}function bw(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rj(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sj(n,e,t){return{name:vw(n,e),fields:t.value.mapValue.fields}}function oj(n,e,t){const i=jc(n,e.name),r=Dr(e.updateTime),s=e.createTime?Dr(e.createTime):Ut.min(),c=new Is({mapValue:{fields:e.fields}}),d=Di.newFoundDocument(i,r,s,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function ww(n,e){let t;if(e instanceof hy)t={update:sj(n,e.key,e.value)};else if(e instanceof fy)t={delete:vw(n,e.key)};else if(e instanceof nd)t={update:sj(n,e.key,e.data),updateMask:RZ(e.fieldMask)};else{if(!(e instanceof l1))return Ct();t={verify:vw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof uy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dy)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw Ct()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:CZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ct()),t;var r}function d1(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Vi.updateTime(Dr(r.updateTime)):void 0!==r.exists?Vi.exists(r.exists):Vi.none():Vi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Ot("REQUEST_TIME"===c.setToServerValue),d=new uy):"appendMissingElements"in c?d=new dm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new hm(c.removeAllFromArray.values||[]):"increment"in c?d=new dy(s,c.increment):Ct();const p=hr.fromServerFormat(c.fieldPath);return new fw(p,d)}(n,r)):[];var r;if(e.update){const r=jc(n,e.update.name),s=new Is({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Vo((e.updateMask.fieldPaths||[]).map(_=>hr.fromServerFormat(_)));return new nd(r,s,c,t,i)}return new hy(r,s,t,i)}if(e.delete){const r=jc(n,e.delete);return new fy(r,t)}if(e.verify){const r=jc(n,e.verify);return new l1(r,t)}return Ct()}function aj(n,e){return{documents:[u1(n,e.path)]}}function h1(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=u1(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=u1(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return uj(Jn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:my((b=_).field),direction:TZ(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.wt||sw(_)?_:{value:_});var _,d,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function lj(n){let e=ij(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ot(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const D=cj(b);return D instanceof Jn&&JO(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new ay(gy((D=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;t.limit&&(d=function(b){let D;return D="object"==typeof b?b.value:b,sw(D)?null:D}(t.limit));let p=null;var b;t.startAt&&(p=new $h((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new $h(b.values||[],!b.before)}(t.endAt)),IH(e,r,c,s,d,"F",p,_)}function cj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gy(e.unaryFilter.field);return Mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=gy(e.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gy(e.unaryFilter.field);return Mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gy(e.unaryFilter.field);return Mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):void 0!==n.fieldFilter?Mn.create(gy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Jn.create(e.compositeFilter.filters.map(t=>cj(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ct()}}(e.compositeFilter.op))}(n):Ct();var e}function TZ(n){return vZ[n]}function MZ(n){return bZ[n]}function AZ(n){return wZ[n]}function my(n){return{fieldPath:n.canonicalString()}}function gy(n){return hr.fromServerFormat(n.fieldPath)}function uj(n){return n instanceof Mn?function(e){if("=="===e.op){if(uH(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NAN"}};if(cH(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uH(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NOT_NAN"}};if(cH(e.value))return{unaryFilter:{field:my(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:my(e.field),op:MZ(e.op),value:e.value}}}(n):n instanceof Jn?function(e){const t=e.getFilters().map(i=>uj(i));return 1===t.length?t[0]:{compositeFilter:{op:AZ(e.op),filters:t}}}(n):Ct()}function RZ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function lo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hj(e)),e=kZ(n.get(t),e);return hj(e)}function kZ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function hj(n){return n+"\x01\x01"}function zc(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Ct(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:Ct()}s=c+2}return new Fn(i)}const fj=["userId","batchId"];function DI(n,e){return[n,lo(e)]}function pj(n,e,t){return[n,lo(e),t]}const OZ={},PZ=["prefixPath","collectionGroup","readTime","documentId"],FZ=["prefixPath","collectionGroup","documentId"],NZ=["collectionGroup","readTime","prefixPath","documentId"],LZ=["canonicalId","targetId"],BZ=["targetId","path"],UZ=["path","targetId"],VZ=["collectionId","parent"],HZ=["indexId","uid"],jZ=["uid","sequenceNumber"],zZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GZ=["indexId","uid","orderedDocumentKey"],$Z=["userId","collectionPath","documentId"],WZ=["userId","collectionPath","largestBatchId"],qZ=["userId","collectionGroup","largestBatchId"],mj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KZ=[...mj,"documentOverlays"],gj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_j=gj,YZ=[..._j,"indexConfiguration","indexState","indexEntries"];class f1 extends nH{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function as(n,e){const t=mt(n);return Yl.M(t.se,e)}class p1{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&dZ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=YH();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const p=VH(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Ut.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&ry(this.mutations,e.mutations,(t,i)=>HH(t,i))&&ry(this.baseMutations,e.baseMutations,(t,i)=>HH(t,i))}}class m1{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ot(e.mutations.length===i.length);let r=mZ;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new m1(e,t,i,r)}}class g1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qh{constructor(e,t,i,r,s=Ut.min(),c=Ut.min(),d=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yj{constructor(e){this.ie=e}}function vj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:SI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:vw(r=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:py(r,s.version.toTimestamp()),createTime:py(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fm(e.version)};else{if(!e.isUnknownDocument())return Ct();i.unknownDocument={path:t.path.toArray(),version:fm(e.version)}}var r,s;return i}function SI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pm(n){const e=new Ui(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function mm(n,e){const t=(e.baseMutations||[]).map(s=>d1(n.ie,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>d1(n.ie,s)),r=Ui.fromMillis(e.localWriteTimeMs);return new p1(e.batchId,r,t,i)}function Ew(n){const e=pm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pm(n.lastLimboFreeSnapshotVersion):Ut.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=ao(cy(ij(r.documents[0])))):i=ao(lj(n.query)),new qh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function bj(n,e){const t=fm(e.snapshotVersion),i=fm(e.lastLimboFreeSnapshotVersion);let r;r=gI(e.target)?aj(n.ie,e.target):h1(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cm(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _1(n){const e=lj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vI(e,e.limit,"L"):e}function y1(n,e){return new g1(e.largestBatchId,d1(n.ie,e.overlayMutation))}function wj(n,e){const t=e.path.lastSegment();return[n,lo(e.path.popLast()),t]}function Ej(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fm(i.readTime),documentKey:lo(i.documentKey.path),largestBatchId:i.largestBatchId}}class QZ{getBundleMetadata(e,t){return Cj(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:pm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Cj(e).put({bundleId:(i=t).id,createTime:fm(Dr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return xj(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:_1(r.bundledQuery),readTime:pm(r.readTime)};var r})}saveNamedQuery(e,t){return xj(e).put({name:(i=t).name,readTime:fm(Dr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Cj(n){return as(n,"bundles")}function xj(n){return as(n,"namedQueries")}class II{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new II(e,t.uid||"")}getOverlay(e,t){return Cw(e).get(wj(this.userId,t)).next(i=>i?y1(this.yt,i):null)}getOverlays(e,t){const i=Hc();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new g1(t,c);r.push(this.oe(e,d))}),De.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(lo(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Cw(e).Y("collectionPathOverlayIndex",d))}),De.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Hc(),s=lo(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Cw(e).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=y1(this.yt,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Hc();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cw(e).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const D=y1(this.yt,_);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):b.done()}).next(()=>s)}oe(e,t){return Cw(e).put(function(i,r,s){const[c,d,p]=wj(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ww(i.ie,s.mutation)}}(this.yt,this.userId,t))}}function Cw(n){return as(n,"documentOverlays")}class gm{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(fr(e.integerValue));else if("doubleValue"in e){const i=fr(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),ow(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(om(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?dH(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ct()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),ft.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function XZ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Dj(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=XZ(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}gm.Ie=new gm;class JZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=Dj(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=Dj(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class e7{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class t7{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class xw{constructor(){this.$e=new JZ,this.Be=new e7(this.$e),this.Le=new t7(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class _m{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new _m(this.indexId,this.documentKey,this.arrayValue,i)}}function Kh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Sj(n.arrayValue,e.arrayValue),0!==t?t:(t=Sj(n.directionalValue,e.directionalValue),0!==t?t:ft.comparator(n.documentKey,e.documentKey)))}function Sj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class n7{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Ot(e.collectionGroup===this.collectionId);const t=$O(e);if(void 0!==t&&!this.We(t))return!1;const i=im(e);let r=0,s=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[s++],c))return!1;++r}for(;r<i.length;++r)if(s>=this.Ke.length||!this.He(this.Ke[s++],i[r]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ij(n){var e,t;if(Ot(n instanceof Mn||n instanceof Jn),n instanceof Mn){if(n instanceof EH){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Mn.create(n.field,"==",s)))||[];return Jn.create(r,"or")}return n}const i=n.filters.map(r=>Ij(r));return Jn.create(i,n.op)}function i7(n){if(0===n.getFilters().length)return[];const e=w1(Ij(n));return Ot(Tj(e)),v1(e)||b1(e)?[e]:e.getFilters()}function v1(n){return n instanceof Mn}function b1(n){return n instanceof Jn&&JO(n)}function Tj(n){return v1(n)||b1(n)||function(e){if(e instanceof Jn&&XO(e)){for(const t of e.getFilters())if(!v1(t)&&!b1(t))return!1;return!0}return!1}(n)}function w1(n){if(Ot(n instanceof Mn||n instanceof Jn),n instanceof Mn)return n;if(1===n.filters.length)return w1(n.filters[0]);const e=n.filters.map(i=>w1(i));let t=Jn.create(e,n.op);return t=TI(t),Tj(t)?t:(Ot(t instanceof Jn),Ot(oy(t)),Ot(t.filters.length>1),t.filters.reduce((i,r)=>E1(i,r)))}function E1(n,e){let t;return Ot(n instanceof Mn||n instanceof Jn),Ot(e instanceof Mn||e instanceof Jn),t=n instanceof Mn?e instanceof Mn?Jn.create([n,e],"and"):Mj(n,e):e instanceof Mn?Mj(e,n):function(i,r){if(Ot(i.filters.length>0&&r.filters.length>0),oy(i)&&oy(r))return vH(i,r.getFilters());const s=XO(i)?i:r,c=XO(i)?r:i,d=s.filters.map(p=>E1(p,c));return Jn.create(d,"or")}(n,e),TI(t)}function Mj(n,e){if(oy(e))return vH(e,n.getFilters());{const t=e.filters.map(i=>E1(n,i));return Jn.create(t,"or")}}function TI(n){if(Ot(n instanceof Mn||n instanceof Jn),n instanceof Mn)return n;const e=n.getFilters();if(1===e.length)return TI(e[0]);if(_H(n))return n;const t=e.map(r=>TI(r)),i=[];return t.forEach(r=>{r instanceof Mn?i.push(r):r instanceof Jn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Jn.create(i,n.op)}class r7{constructor(){this.Je=new C1}addToCollectionParentIndex(e,t){return this.Je.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(_a.min())}updateCollectionGroup(e,t,i){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class C1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ai(Fn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ai(Fn.comparator)).toArray()}}const MI=new Uint8Array(0);class s7{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new C1,this.Xe=new Wh(i=>cm(i),(i,r)=>dw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:i,parent:lo(r)};return Aj(e).put(s)}return De.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[XV(t),""],!1,!0);return Aj(e).W(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(zc(c.parent))}return i})}addFieldIndex(e,t){const i=AI(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=Sw(e);return s.next(d=>{c.put(Ej(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=AI(e),r=Sw(e),s=Dw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Dw(e);let r=!0;const s=new Map;return De.forEach(this.Ze(t),c=>this.tn(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=pn();const d=[];return De.forEach(s,(p,_)=>{var b;Je("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${cm(t)}`);const D=function(ot,at){const Ft=$O(at);if(void 0===Ft)return null;for(const Nt of _I(ot,Ft.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(_,p),A=function(ot,at){const Ft=new Map;for(const Nt of im(at))for(const Cn of _I(ot,Nt.fieldPath))switch(Cn.op){case"==":case"in":Ft.set(Nt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return Ft.set(Nt.fieldPath.canonicalString(),Cn.value),Array.from(Ft.values())}return null}(_,p),L=function(ot,at){const Ft=[];let Nt=!0;for(const Cn of im(at)){const Ir=0===Cn.kind?DH(ot,Cn.fieldPath,ot.startAt):SH(ot,Cn.fieldPath,ot.startAt);Ft.push(Ir.value),Nt&&(Nt=Ir.inclusive)}return new $h(Ft,Nt)}(_,p),U=function(ot,at){const Ft=[];let Nt=!0;for(const Cn of im(at)){const Ir=0===Cn.kind?SH(ot,Cn.fieldPath,ot.endAt):DH(ot,Cn.fieldPath,ot.endAt);Ft.push(Ir.value),Nt&&(Nt=Ir.inclusive)}return new $h(Ft,Nt)}(_,p),ie=this.en(p,_,L),le=this.en(p,_,U),qe=this.nn(p,_,A),nt=this.sn(p.indexId,D,ie,L.inclusive,le,U.inclusive,qe);return De.forEach(nt,ot=>i.J(ot,t.limit).next(at=>{at.forEach(Ft=>{const Nt=ft.fromSegments(Ft.documentKey);c.has(Nt)||(c=c.add(Nt),d.push(Nt))})}))}).next(()=>d)}return De.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:i7(Jn.create(e.filters,"and")).map(i=>t1(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,s,c,d){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),_=p/(null!=t?t.length:1),b=[];for(let D=0;D<p;++D){const A=t?this.rn(t[D/_]):MI,L=this.on(e,A,i[D%_],r),U=this.un(e,A,s[D%_],c),ie=d.map(le=>this.on(e,A,le,!0));b.push(...this.createRange(L,U,ie))}return b}on(e,t,i,r){const s=new _m(e,ft.empty(),t,i);return r?s:s.Ue()}un(e,t,i,r){const s=new _m(e,ft.empty(),t,i);return r?s.Ue():s}tn(e,t){const i=new n7(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.je(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;const r=this.Ze(t);return De.forEach(r,s=>this.tn(e,s).next(c=>{c?0!==i&&c.fields.length<function(d){let p=new ai(hr.comparator),_=!1;for(const b of d.filters)for(const D of b.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:p=p.add(D.field));for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new xw;for(const r of im(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);gm.Ie.ue(s,c)}return i.Fe()}rn(e){const t=new xw;return gm.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new xw;return gm.Ie.ue(lm(this.databaseId,t),i.qe(function(r){const s=im(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new xw);let s=0;for(const c of im(e)){const d=i[s++];for(const p of r)if(this.hn(t,c.fieldPath)&&cw(d))r=this.ln(r,c,d);else{const _=p.qe(c.kind);gm.Ie.ue(d,_)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new xw;p.seed(d.Fe()),gm.Ie.ue(c,p.qe(t.kind)),s.push(p)}return s}hn(e,t){return!!e.filters.find(i=>i instanceof Mn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=AI(e),r=Sw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const c=[];return De.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const D=b?new iw(b.sequenceNumber,new _a(pm(b.readTime),new ft(zc(b.documentKey)),b.largestBatchId)):iw.empty(),A=_.fields.map(([L,U])=>new dI(hr.fromServerFormat(L),U));return new uI(_.indexId,_.collectionGroup,A,D)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:un(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=AI(e),s=Sw(e);return this.dn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>De.forEach(d,p=>s.put(Ej(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return De.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?De.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),De.forEach(d,p=>this._n(e,r,p).next(_=>{const b=this.wn(s,p);return _.isEqual(b)?De.resolve():this.mn(e,s,p,_,b)}))))})}gn(e,t,i,r){return Dw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return Dw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=Dw(e);let s=new ai(Kh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(c,d)=>{s=s.add(new _m(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}wn(e,t){let i=new ai(Kh);const r=this.cn(t,e);if(null==r)return i;const s=$O(t);if(null!=s){const c=e.data.field(s.fieldPath);if(cw(c))for(const d of c.arrayValue.values||[])i=i.add(new _m(t.indexId,e.key,this.rn(d),r))}else i=i.add(new _m(t.indexId,e.key,MI,r));return i}mn(e,t,i,r,s){Je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,p,_,b,D){const A=d.getIterator(),L=p.getIterator();let U=ly(A),ie=ly(L);for(;U||ie;){let le=!1,qe=!1;if(U&&ie){const nt=_(U,ie);nt<0?qe=!0:nt>0&&(le=!0)}else null!=U?qe=!0:le=!0;le?(b(ie),ie=ly(L)):qe?(D(U),U=ly(A)):(U=ly(A),ie=ly(L))}}(r,s,Kh,d=>{c.push(this.gn(e,t,i,d))},d=>{c.push(this.yn(e,t,i,d))}),De.waitFor(c)}dn(e){let t=1;return Sw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>Kh(c,d)).filter((c,d,p)=>!d||0!==Kh(c,p[d-1]));const r=[];r.push(e);for(const c of i){const d=Kh(c,e),p=Kh(c,t);if(0===d)r[0]=e.Ue();else if(d>0&&p<0)r.push(c),r.push(c.Ue());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,MI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,MI,[]]))}return s}pn(e,t){return Kh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rj)}getMinOffset(e,t){return De.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||Ct())).next(Rj)}}function Aj(n){return as(n,"collectionParents")}function Dw(n){return as(n,"indexEntries")}function AI(n){return as(n,"indexConfiguration")}function Sw(n){return as(n,"indexState")}function Rj(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;WO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new _a(e.readTime,e.documentKey,t)}const kj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new jo(e,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Oj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.Z({range:c},(b,D,A)=>(d++,A.delete()));s.push(p.next(()=>{Ot(1===d)}));const _=[];for(const b of t.mutations){const D=pj(e,b.key.path,t.batchId);s.push(r.delete(D)),_.push(b.key)}return De.waitFor(s).next(()=>_)}function RI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct();e=n.noDocument}return JSON.stringify(e).length}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class kI{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){Ot(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new kI(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=_y(e),c=Yh(e);return c.add({}).next(d=>{Ot("number"==typeof d);const p=new p1(d,t,i,r),_=function(A,L,U){const ie=U.baseMutations.map(qe=>ww(A.ie,qe)),le=U.mutations.map(qe=>ww(A.ie,qe));return{userId:L,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:ie,mutations:le}}(this.yt,this.userId,p),b=[];let D=new ai((A,L)=>un(A.canonicalString(),L.canonicalString()));for(const A of r){const L=pj(this.userId,A.key.path,d);D=D.add(A.key.path.popLast()),b.push(c.put(_)),b.push(s.put(L,OZ))}return D.forEach(A=>{b.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.In[d]=p.keys()}),De.waitFor(b).next(()=>p)})}lookupMutationBatch(e,t){return Yh(e).get(t).next(i=>i?(Ot(i.userId===this.userId),mm(this.yt,i)):null)}Tn(e,t){return this.In[t]?De.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Yh(e).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Ot(d.batchId>=i),s=mm(this.yt,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).W("userMutationsIndex",t).next(i=>i.map(r=>mm(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=DI(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return _y(e).Z({range:r},(c,d,p)=>{const[_,b,D]=c,A=zc(b);if(_===this.userId&&t.path.isEqual(A))return Yh(e).get(D).next(L=>{if(!L)throw Ct();Ot(L.userId===this.userId),s.push(mm(this.yt,L))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(un);const r=[];return t.forEach(s=>{const c=DI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=_y(e).Z({range:d},(_,b,D)=>{const[A,L,U]=_,ie=zc(L);A===this.userId&&s.path.isEqual(ie)?i=i.add(U):D.done()});r.push(p)}),De.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=DI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new ai(un);return _y(e).Z({range:c},(p,_,b)=>{const[D,A,L]=p,U=zc(A);D===this.userId&&i.isPrefixOf(U)?U.length===r&&(d=d.add(L)):b.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Yh(e).get(s).next(c=>{if(null===c)throw Ct();Ot(c.userId===this.userId),i.push(mm(this.yt,c))}))}),De.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Oj(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),De.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return _y(e).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=zc(s[1]);r.push(p)}else d.done()}).next(()=>{Ot(0===r.length)})})}containsKey(e,t){return Pj(e,this.userId,t)}Rn(e){return Fj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pj(n,e,t){const i=DI(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return _y(n).Z({range:s,X:!0},(d,p,_)=>{const[b,D,A]=d;b===e&&D===r&&(c=!0),_.done()}).next(()=>c)}function Yh(n){return as(n,"mutations")}function _y(n){return as(n,"documentMutations")}function Fj(n){return as(n,"mutationQueues")}class ym{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ym(0)}static vn(){return new ym(-1)}}class o7{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new ym(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ut.fromTimestamp(new Ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return yy(e).Z((c,d)=>{const p=Ew(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>De.waitFor(s)).next(()=>r)}forEachTarget(e,t){return yy(e).Z((i,r)=>{const s=Ew(r);t(s)})}Vn(e){return Nj(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}Sn(e,t){return Nj(e).put("targetGlobalKey",t)}Dn(e,t){return yy(e).put(bj(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=cm(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return yy(e).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=Ew(d);dw(t,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Zh(e);return t.forEach(c=>{const d=lo(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),De.waitFor(r)}removeMatchingKeys(e,t,i){const r=Zh(e);return De.forEach(t,s=>{const c=lo(s.path);return De.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Zh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Zh(e);let s=pn();return r.Z({range:i,X:!0},(c,d,p)=>{const _=zc(c[1]),b=new ft(_);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=lo(t.path),r=IDBKeyRange.bound([i],[XV(i)],!1,!0);let s=0;return Zh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}ne(e,t){return yy(e).get(t).next(i=>i?Ew(i):null)}}function yy(n){return as(n,"targets")}function Nj(n){return as(n,"targetGlobal")}function Zh(n){return as(n,"targetDocuments")}function Lj([n,e],[t,i]){const r=un(n,t);return 0===r?un(e,i):r}class a7{constructor(e){this.xn=e,this.buffer=new ai(Lj),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Lj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l7{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Vh(i)?Je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Uh(i)}yield t.Fn(3e5)}))}}class c7{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return De.resolve(ya.at);const i=new a7(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(kj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kj):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,s,c,d,p,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(_=Date.now(),zO()<=ql.in.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class u7{constructor(e,t){this.db=e,this.garbageCollector=new c7(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return OI(e,i)}removeReference(e,t,i){return OI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return OI(e,t)}Gn(e,t){return function(i,r){let s=!1;return Fj(i).tt(c=>Pj(i,c,r).next(d=>(d&&(s=!0),De.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(c,d)=>{if(d<=t){const p=this.Gn(e,c).next(_=>{if(!_)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Ut.min()),Zh(e).delete([0,lo(c.path)])))});r.push(p)}}).next(()=>De.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return OI(e,t)}Kn(e,t){const i=Zh(e);let r,s=ya.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==ya.at&&t(new ft(zc(r)),s),s=_,r=p):s=ya.at}).next(()=>{s!==ya.at&&t(new ft(zc(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OI(n,e){return Zh(n).put((i=n.currentSequenceNumber,{targetId:0,path:lo(e.path),sequenceNumber:i}));var i}class Bj{constructor(){this.changes=new Wh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?De.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d7{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return vm(e).put(i)}removeEntry(e,t,i){return vm(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],SI(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Di.newInvalidDocument(t);return vm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:Di.newInvalidDocument(t)};return vm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(r,s)=>{i={document:this.jn(t,s),size:RI(s)}}).next(()=>i)}getEntries(e,t){let i=Ho();return this.zn(e,t,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=Ho(),r=new pr(ft.comparator);return this.zn(e,t,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,RI(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return De.resolve();let r=new ai(jj);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Iw(r.first()),Iw(r.last())),c=r.getIterator();let d=c.getNext();return vm(e).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const D=ft.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&jj(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(Iw(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),SI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vm(e).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Ho();for(const p of c){const _=this.jn(ft.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ho();const c=Hj(t,i),d=Hj(t,_a.max());return vm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const D=this.jn(ft.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new h7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Vj(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Qn(e,t){return Vj(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function ZZ(n,e){let t;if(e.document)t=oj(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ft.fromSegments(e.noDocument.path),r=pm(e.noDocument.readTime);t=Di.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct();{const i=ft.fromSegments(e.unknownDocument.path),r=pm(e.unknownDocument.version);t=Di.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ui(i[0],i[1]);return Ut.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Ut.min()))return i}return Di.newInvalidDocument(e)}}function Uj(n){return new d7(n)}class h7 extends Bj{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Wh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ai((s,c)=>un(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const p=vj(this.Yn.yt,c);r=r.add(s.path.popLast());const _=RI(p);i+=_-d.size,t.push(this.Yn.addEntry(e,s,p))}else if(i-=d.size,this.trackRemovals){const p=vj(this.Yn.yt,c.convertToNoDocument(Ut.min()));t.push(this.Yn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),De.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function Vj(n){return as(n,"remoteDocumentGlobal")}function vm(n){return as(n,"remoteDocumentsV14")}function Iw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hj(n,e){const t=e.documentKey.path.toArray();return[n,SI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=un(t[s],i[s]),r)return r;return r=un(t.length,i.length),r||(r=un(t[t.length-2],i[i.length-2]),r||un(t[t.length-1],i[i.length-1]))}class f7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&pw(i.mutation,r,Vo.empty(),Ui.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pn()){const r=Hc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=mw();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=Ho();const c=gw(),d=gw();return t.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof nd)?s=s.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),pw(b.mutation,_,b.mutation.getFieldMask(),Ui.now())):c.set(_.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),t.forEach((_,b)=>{var D;return d.set(_,new f7(b,null!==(D=c.get(_))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(e,t){const i=gw();let r=new pr((c,d)=>c-d),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let b=i.get(p)||Vo.empty();b=d.applyToLocalView(_,b),i.set(p,b);const D=(r.get(d.batchId)||pn()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,D=YH();b.forEach(A=>{if(!s.has(A)){const L=VH(t.get(A),i.get(A));null!==L&&D.set(A,L),s=s.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,D))}return De.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ft.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):r1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):De.resolve(Hc());let d=-1,p=s;return c.next(_=>De.forEach(_,(b,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(b)?De.resolve():this.remoteDocumentCache.getEntry(e,b).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,p,_,pn())).next(b=>({batchId:d,changes:KH(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(i=>{let r=mw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=mw();return this.indexManager.getCollectionParents(e,r).next(c=>De.forEach(c,d=>{const p=(_=t,b=d.child(r),new td(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,Di.newInvalidDocument(_)))});let c=mw();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&pw(_.mutation,p,Vo.empty(),Ui.now()),a1(t,p)&&(c=c.insert(d,p))}),c})}}class p7{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return De.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Dr(i.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:_1(i.bundledQuery),readTime:Dr(i.readTime)}),De.resolve();var i}}class m7{constructor(){this.overlays=new pr(ft.comparator),this.es=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hc();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.oe(e,t,s)}),De.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),De.resolve()}getOverlaysForCollection(e,t,i){const r=Hc(),s=t.length+1,c=new ft(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return De.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new pr((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=Hc(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=Hc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return De.resolve(d)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new g1(t,i));let s=this.es.get(t);void 0===s&&(s=pn(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class x1{constructor(){this.ns=new ai(ls.ss),this.rs=new ai(ls.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new ls(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new ls(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new ft(new Fn([])),i=new ls(t,e),r=new ls(t,e+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ft(new Fn([])),i=new ls(t,e),r=new ls(t,e+1);let s=pn();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new ls(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ls{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ft.comparator(e.key,t.key)||un(e._s,t._s)}static os(e,t){return un(e._s,t._s)||ft.comparator(e.key,t.key)}}class g7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ai(ls.ss)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const c=new p1(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new ls(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return De.resolve(c)}lookupMutationBatch(e,t){return De.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ls(t,0),r=new ls(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(un);return t.forEach(r=>{const s=new ls(r,0),c=new ls(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),De.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ft.isDocumentKey(s)||(s=s.child(""));const c=new ls(new ft(s),0);let d=new ai(un);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),De.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ot(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return De.forEach(t.mutations,r=>{const s=new ls(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new ls(t,0),r=this.gs.firstAfterOrEqual(i);return De.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return De.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _7{constructor(e){this.Es=e,this.docs=new pr(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return De.resolve(i?i.document.mutableCopy():Di.newInvalidDocument(t))}getEntries(e,t){let i=Ho();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Di.newInvalidDocument(r))}),De.resolve(i)}getAllFromCollection(e,t,i){let r=Ho();const s=new ft(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||WO(eH(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return De.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Ct()}As(e,t){return De.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new y7(this)}getSize(e){return De.resolve(this.size)}}class y7 extends Bj{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),De.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class v7{constructor(e){this.persistence=e,this.Rs=new Wh(t=>cm(t),dw),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.bs=0,this.Ps=new x1,this.targetCount=0,this.vs=ym.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),De.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ym(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Dn(t),De.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),De.waitFor(s).next(()=>r)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return De.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),De.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),De.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return De.resolve(i)}containsKey(e,t){return De.resolve(this.Ps.containsKey(t))}}class Gj{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ya(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new v7(this),this.indexManager=new r7,this.remoteDocumentCache=new _7(i=>this.referenceDelegate.xs(i)),this.yt=new yj(t),this.Ns=new p7(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new g7(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Je("MemoryPersistence","Starting transaction:",e);const r=new b7(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return De.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class b7 extends nH{constructor(e){super(),this.currentSequenceNumber=e}}class PI{constructor(e){this.persistence=e,this.Fs=new x1,this.$s=null}static Bs(e){return new PI(e)}get Ls(){if(this.$s)return this.$s;throw Ct()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),De.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),De.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Ls,i=>{const r=ft.fromPath(i);return this.qs(e,r).next(s=>{s||t.removeEntry(r,Ut.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return De.or([()=>De.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class w7{constructor(e){this.yt=e}$(e,t,i,r){const s=new hI("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fj,{unique:!0}),d.createObjectStore("documentMutations"),$j(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=De.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),$j(e)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fj,{unique:!0});const b=p.store("mutations"),D=_.map(A=>b.put(A));return De.waitFor(D)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Us(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:$Z});p.createIndex("collectionPathOverlayIndex",WZ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",qZ,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:PZ});p.createIndex("documentKeyIndex",FZ),p.createIndex("collectionGroupIndex",NZ)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:HZ}).createIndex("sequenceNumberIndex",jZ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:zZ}).createIndex("documentKeyIndex",GZ,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=RI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>De.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>De.forEach(d,p=>{Ot(p.userId===s.userId);const _=mm(this.yt,p);return Oj(e,s.userId,_).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new Fn(c),_=[0,lo(p)];s.push(t.get(_).next(b=>b?De.resolve():t.put({targetId:0,path:lo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>De.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:VZ});const i=t.store("collectionParents"),r=new C1,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:lo(p)})}};return t.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Fn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=zc(d);return s(b.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=Ew(r),c=bj(this.yt,s);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=t.store("remoteDocumentsV14"),p=(_=c,_.document?new ft(Fn.fromString(_.document.name).popFirst(5)):_.noDocument?ft.fromSegments(_.noDocument.path):_.unknownDocument?ft.fromSegments(_.unknownDocument.path):Ct()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>De.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Uj(this.yt),s=new Gj(PI.Bs,this.yt.ie);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:pn();mm(this.yt,p).keys().forEach(D=>b=b.add(D)),d.set(p.userId,b)}),De.forEach(d,(p,_)=>{const b=new os(_),D=II.re(this.yt,b),A=s.getIndexManager(b),L=kI.re(b,this.yt,A,s.referenceDelegate);return new zj(r,L,D,A).recalculateAndSaveOverlaysForDocumentKeys(new f1(t,ya.at),p).next()})})}}function $j(n){n.createObjectStore("targetDocuments",{keyPath:BZ}).createIndex("documentTargetsIndex",UZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LZ,{unique:!0}),n.createObjectStore("targetGlobal")}const D1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class S1{constructor(e,t,i,r,s,c,d,p,_,b,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=A=>Promise.resolve(),!S1.C())throw new We(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u7(this,r),this.ii=t+"main",this.yt=new yj(p),this.ri=new Yl(this.ii,this.Xs,new w7(this.yt)),this.Cs=new o7(this.referenceDelegate,this.yt),this.remoteDocumentCache=Uj(this.yt),this.Ns=new QZ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(Te.FAILED_PRECONDITION,D1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ya(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Me.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>FI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Vh(e))return Je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Tw(e).get("owner").next(t=>De.resolve(this.mi(t)))}gi(e){return FI(e).delete(this.clientId)}yi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=as(i,"clientMetadata");return r.W().next(s=>{const c=e.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return De.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?De.resolve(!0):Tw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new We(Te.FAILED_PRECONDITION,D1);return!1}}return!(!this.networkEnabled||!this.inForeground)||FI(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new f1(t,ya.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>FI(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return kI.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new s7(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return II.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Xs)?YZ:14===c?_j:13===c?gj:12===c?KZ:11===c?mj:void Ct();var c;let d;return this.ri.runTransaction(e,r,s,p=>(d=new f1(p,this.Ss?this.Ss.next():ya.at),"readwrite-primary"===t?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new We(Te.FAILED_PRECONDITION,tH);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(e){return Tw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new We(Te.FAILED_PRECONDITION,D1)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tw(e).put("owner",t)}static C(){return Yl.C()}_i(e){const t=Tw(e);return t.get("owner").next(i=>this.mi(i)?(Je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(xr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,V.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return xr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tw(n){return as(n,"owner")}function FI(n){return as(n,"clientMetadata")}function I1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class T1{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=pn(),r=pn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new T1(e,t.fromCache,i,r)}}class Wj{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(TH(t))return De.resolve(null);let i=ao(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vI(t,null,"F"),i=ao(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=pn(...s);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.Fi(t,d);return this.$i(t,_,c,p.readTime)?this.ki(e,vI(t,null,"F")):this.Bi(e,_,t,p)}))})))}Oi(e,t,i,r){return TH(t)||r.isEqual(Ut.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,i,r)?this.Mi(e,t):(zO()<=ql.in.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),o1(t)),this.Bi(e,c,t,JV(r,-1)))})}Fi(e,t){let i=new ai(RH(e));return t.forEach((r,s)=>{a1(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return zO()<=ql.in.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",o1(t)),this.Ni.getDocumentsMatchingQuery(e,t,_a.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class E7{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new pr(un),this.Ui=new Wh(s=>cm(s),dw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function qj(n,e,t,i){return new E7(n,e,t,i)}function Kj(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,Me.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=pn();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),M1.apply(this,arguments)}function C7(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,D=b.keys();let A=De.resolve();return D.forEach(L=>{A=A.next(()=>_.getEntry(d,L)).next(U=>{const ie=p.docVersions.get(L);Ot(null!==ie),U.version.compareTo(ie)<0&&(b.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),_.addEntry(U)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=pn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Yj(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function x7(n,e){const t=mt(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const d=[];e.targetChanges.forEach((b,D)=>{const A=r.get(D);if(!A)return;d.push(t.Cs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>t.Cs.addMatchingKeys(s,b.addedDocuments,D)));let L=A.withSequenceNumber(s.currentSequenceNumber);var U,ie,le;e.targetMismatches.has(D)?L=L.withResumeToken(Xr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):b.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(b.resumeToken,i)),r=r.insert(D,L),ie=L,le=b,(0===(U=A).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,L))});let p=Ho(),_=pn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(Zj(s,c,e.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Ut.min())){const b=t.Cs.getLastRemoteSnapshotVersion(s).next(D=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return De.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(t.qi=r,s))}function Zj(n,e,t){let i=pn(),r=pn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=Ho();return t.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Ut.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function D7(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vy(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,De.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new qh(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function by(n,e,t){return A1.apply(this,arguments)}function A1(){return A1=(0,Me.Z)(function*(n,e,t){const i=mt(n),r=i.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Vh(c))throw c;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),A1.apply(this,arguments)}function NI(n,e,t){const i=mt(n);let r=Ut.min(),s=pn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=mt(d),D=b.Ui.get(_);return void 0!==D?De.resolve(b.qi.get(D)):b.Cs.getTargetData(p,_)}(i,c,ao(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Ut.min(),t?s:pn())).next(d=>(Jj(i,AH(e),d),{documents:d,Hi:s})))}function Qj(n,e){const t=mt(n),i=mt(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,e).next(c=>c?c.target:null))}function Xj(n,e){const t=mt(n),i=t.Ki.get(e)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,JV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Jj(t,e,r),r))}function Jj(n,e,t){let i=n.Ki.get(e)||Ut.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function R1(){return R1=(0,Me.Z)(function*(n,e,t,i){const r=mt(n);let s=pn(),c=Ho();for(const _ of t){const b=e.Ji(_.metadata.name);_.document&&(s=s.add(b));const D=e.Yi(_);D.setReadTime(e.Xi(_.metadata.readTime)),c=c.insert(b,D)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield vy(r,(_=i,ao(cy(Fn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>Zj(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),R1.apply(this,arguments)}function I7(n,e){return k1.apply(this,arguments)}function k1(){return k1=(0,Me.Z)(function*(n,e,t=pn()){const i=yield vy(n,ao(_1(e.bundledQuery))),r=mt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Dr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(Xr.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),k1.apply(this,arguments)}function e3(n,e){return`firestore_clients_${n}_${e}`}function t3(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function O1(n,e){return`firestore_targets_${n}_${e}`}class LI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new We(r.error.code,r.error.message))),c?new LI(e,t,r.state,s):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new We(i.error.code,i.error.message))),s?new Mw(e,i.state,r):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=CI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=oH(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new BI(e,s):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class P1{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new P1(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class F1{constructor(){this.activeTargetIds=CI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N1{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new pr(un),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=e3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new F1),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(e3(e.persistenceKey,r));if(s){const c=BI.Zi(r,s);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(O1(this.persistenceKey,e));if(i){const r=Mw.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O1(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Je("SharedClientState","READ",e,t),t}setItem(e,t){Je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let c=ya.at;if(null!=s)try{const d=JSON.parse(s);Ot("number"==typeof d),c=d}catch(d){xr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==ya.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new LI(this.currentUser,e,t,i),s=t3(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=t3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=O1(this.persistenceKey,e),s=new Mw(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return BI.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return LI.Zi(new os(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Mw.Zi(r,t)}yr(e){return P1.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=CI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class n3{constructor(){this.Lr=new F1,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new F1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T7{Ur(e){}shutdown(){}}class r3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const M7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A7{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class R7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const c=this.ho(e,t);Je("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(e,c,d,i).then(p=>(Je("RestConnection","Received: ",p),p),p=>{throw nm("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}_o(e,t,i,r,s,c){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+iy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${M7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,c)=>{const d=new AY;d.setWithCredentials(!0),d.listenOnce(IY.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jO.NO_ERROR:const _=d.getResponseJson();Je("Connection","XHR received:",JSON.stringify(_)),s(_);break;case jO.TIMEOUT:Je("Connection",'RPC "'+e+'" timed out'),c(new We(Te.DEADLINE_EXCEEDED,"Request time out"));break;case jO.HTTP_ERROR:const b=d.getStatus();if(Je("Connection",'RPC "'+e+'" failed with status:',b,"response text:",d.getResponseText()),b>0){let D=d.getResponseJson();Array.isArray(D)&&(D=D[0]);const A=D?.error;if(A&&A.status&&A.message){const L=function(U){const ie=U.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(ie)>=0?ie:Te.UNKNOWN}(A.status);c(new We(L,A.message))}else c(new We(Te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new We(Te.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Je("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DY(),c=SY(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new MY({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const p=r.join("");Je("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,D=!1;const A=new A7({Hr:U=>{D?Je("Connection","Not sending because WebChannel is closed:",U):(b||(Je("Connection","Opening WebChannel transport."),_.open(),b=!0),Je("Connection","WebChannel sending:",U),_.send(U))},Jr:()=>_.close()}),L=(U,ie,le)=>{U.listen(ie,qe=>{try{le(qe)}catch(nt){setTimeout(()=>{throw nt},0)}})};return L(_,cI.EventType.OPEN,()=>{D||Je("Connection","WebChannel transport opened.")}),L(_,cI.EventType.CLOSE,()=>{D||(D=!0,Je("Connection","WebChannel transport closed"),A.io())}),L(_,cI.EventType.ERROR,U=>{D||(D=!0,nm("Connection","WebChannel transport errored:",U),A.io(new We(Te.UNAVAILABLE,"The operation could not be completed")))}),L(_,cI.EventType.MESSAGE,U=>{var ie;if(!D){const le=U.data[0];Ot(!!le);const nt=le.error||(null===(ie=le[0])||void 0===ie?void 0:ie.error);if(nt){Je("Connection","WebChannel received error:",nt);const ot=nt.status;let at=function(Nt){const Cn=jr[Nt];if(void 0!==Cn)return WH(Cn)}(ot),Ft=nt.message;void 0===at&&(at=Te.INTERNAL,Ft="Unknown error status: "+ot+" with message "+nt.message),D=!0,A.io(new We(at,Ft)),_.close()}else Je("Connection","WebChannel received:",le),A.ro(le)}}),L(c,TY.STAT_EVENT,U=>{U.stat===qV.PROXY?Je("Connection","Detected buffering proxy"):U.stat===qV.NOPROXY&&Je("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.so()},0),A}}function s3(){return typeof window<"u"?window:null}function UI(){return typeof document<"u"?document:null}function Aw(n){return new EZ(n,!0)}class L1{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class o3{constructor(e,t,i,r,s,c,d,p){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new L1(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Me.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Me.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new We(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Me.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k7 extends o3{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function DZ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Ct(),r=e.targetChange.targetIds||[],s=function(p,_){return p.wt?(Ot(void 0===_||"string"==typeof _),Xr.fromBase64String(_||"")):(Ot(void 0===_||_ instanceof Uint8Array),Xr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=void 0===p.code?Te.UNKNOWN:WH(p.code);return new We(_,p.message||"")}(c);t=new QH(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=jc(n,i.document.name),s=Dr(i.document.updateTime),c=i.document.createTime?Dr(i.document.createTime):Ut.min(),d=new Is({mapValue:{fields:i.document.fields}}),p=Di.newFoundDocument(r,s,c,d);t=new xI(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=jc(n,i.document),s=i.readTime?Dr(i.readTime):Ut.min(),c=Di.newNoDocument(r,s);t=new xI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=jc(n,i.document);t=new xI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ct();{const i=e.filter,s=new fZ(i.count||0);t=new ZH(i.targetId,s)}}var p;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return Ut.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ut.min():s.readTime?Dr(s.readTime):Ut.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=bw(this.yt),t.addTarget=function(r,s){let c;const d=s.target;return c=gI(d)?{documents:aj(r,d)}:{query:h1(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=tj(r,s.resumeToken):s.snapshotVersion.compareTo(Ut.min())>0&&(c.readTime=py(r,s.snapshotVersion.toTimestamp())),c}(this.yt,e);const i=function IZ(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=bw(this.yt),t.removeTarget=e,this.Bo(t)}}class O7 extends o3{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function SZ(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(i,r){let s=Dr(i.updateTime?i.updateTime:r);return s.isEqual(Ut.min())&&(s=Dr(r)),new uZ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.Zo(i,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=bw(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ww(this.yt,i))};this.Bo(t)}}class P7 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new We(Te.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Te.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class N7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(xr(t),this.ou=!1):Je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class L7{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(d=>{i.enqueueAndForget((0,Me.Z)(function*(){var p;id(c)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Me.Z)(function*(_){const b=mt(_);b._u.add(4),yield wy(b),b.gu.set("Unknown"),b._u.delete(4),yield Rw(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new N7(i,r)}}function Rw(n){return U1.apply(this,arguments)}function U1(){return U1=(0,Me.Z)(function*(n){if(id(n))for(const e of n.wu)yield e(!0)}),U1.apply(this,arguments)}function wy(n){return V1.apply(this,arguments)}function V1(){return V1=(0,Me.Z)(function*(n){for(const e of n.wu)yield e(!1)}),V1.apply(this,arguments)}function VI(n,e){const t=mt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),z1(t)?j1(t):Cy(t).ko()&&H1(t,e))}function kw(n,e){const t=mt(n),i=Cy(t);t.du.delete(e),i.ko()&&a3(t,e),0===t.du.size&&(i.ko()?i.Fo():id(t)&&t.gu.set("Unknown"))}function H1(n,e){n.yu.Ot(e.targetId),Cy(n).zo(e)}function a3(n,e){n.yu.Ot(e),Cy(n).Ho(e)}function j1(n){n.yu=new yZ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Cy(n).start(),n.gu.uu()}function z1(n){return id(n)&&!Cy(n).No()&&n.du.size>0}function id(n){return 0===mt(n)._u.size}function l3(n){n.yu=void 0}function B7(n){return G1.apply(this,arguments)}function G1(){return G1=(0,Me.Z)(function*(n){n.du.forEach((e,t)=>{H1(n,e)})}),G1.apply(this,arguments)}function U7(n,e){return $1.apply(this,arguments)}function $1(){return $1=(0,Me.Z)(function*(n,e){l3(n),z1(n)?(n.gu.hu(e),j1(n)):n.gu.set("Unknown")}),$1.apply(this,arguments)}function V7(n,e,t){return W1.apply(this,arguments)}function W1(){return W1=(0,Me.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof QH&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield HI(n,i)}else if(e instanceof xI?n.yu.Kt(e):e instanceof ZH?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Ut.min()))try{const i=yield Yj(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.Zt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Xr.EMPTY_BYTE_STRING,p.snapshotVersion)),a3(r,d);const _=new qh(p.target,d,1,p.sequenceNumber);H1(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Je("RemoteStore","Failed to raise snapshot:",i),yield HI(n,i)}var i}),W1.apply(this,arguments)}function HI(n,e,t){return q1.apply(this,arguments)}function q1(){return q1=(0,Me.Z)(function*(n,e,t){if(!Vh(e))throw e;n._u.add(1),yield wy(n),n.gu.set("Offline"),t||(t=()=>Yj(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Rw(n)}))}),q1.apply(this,arguments)}function c3(n,e){return e().catch(t=>HI(n,t,e))}function Ey(n){return K1.apply(this,arguments)}function K1(){return K1=(0,Me.Z)(function*(n){const e=mt(n),t=Qh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;H7(e);)try{const r=yield D7(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,j7(e,r)}catch(r){yield HI(e,r)}u3(e)&&d3(e)}),K1.apply(this,arguments)}function H7(n){return id(n)&&n.fu.length<10}function j7(n,e){n.fu.push(e);const t=Qh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function u3(n){return id(n)&&!Qh(n).No()&&n.fu.length>0}function d3(n){Qh(n).start()}function z7(n){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,Me.Z)(function*(n){Qh(n).eu()}),Y1.apply(this,arguments)}function G7(n){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,Me.Z)(function*(n){const e=Qh(n);for(const t of n.fu)e.Xo(t.mutations)}),Z1.apply(this,arguments)}function $7(n,e,t){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,Me.Z)(function*(n,e,t){const i=n.fu.shift(),r=m1.from(i,e,t);yield c3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ey(n)}),Q1.apply(this,arguments)}function W7(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,Me.Z)(function*(n,e){var t;e&&Qh(n).Yo&&(yield(t=(0,Me.Z)(function*(i,r){if($H(s=r.code)&&s!==Te.ABORTED){const c=i.fu.shift();Qh(i).Mo(),yield c3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Ey(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),u3(n)&&d3(n)}),X1.apply(this,arguments)}function h3(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,Me.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const i=id(t);t._u.add(3),yield wy(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Rw(t)}),J1.apply(this,arguments)}function eP(n,e){return tP.apply(this,arguments)}function tP(){return tP=(0,Me.Z)(function*(n,e){const t=mt(n);e?(t._u.delete(2),yield Rw(t)):e||(t._u.add(2),yield wy(t),t.gu.set("Unknown"))}),tP.apply(this,arguments)}function Cy(n){return n.pu||(n.pu=function(e,t,i){const r=mt(e);return r.su(),new k7(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:B7.bind(null,n),Zr:U7.bind(null,n),Wo:V7.bind(null,n)}),n.wu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.pu.Mo(),z1(n)?j1(n):n.gu.set("Unknown")):(yield n.pu.stop(),l3(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Qh(n){return n.Iu||(n.Iu=function(e,t,i){const r=mt(e);return r.su(),new O7(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:z7.bind(null,n),Zr:W7.bind(null,n),tu:G7.bind(null,n),Zo:$7.bind(null,n)}),n.wu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Iu.Mo(),yield Ey(n)):(yield n.Iu.stop(),n.fu.length>0&&(Je("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class nP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new nP(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Vh(n))return new We(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class Dy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ft.comparator(t.key,i.key):(t,i)=>ft.comparator(t.key,i.key),this.keyedMap=mw(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new Dy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Dy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class f3{constructor(){this.Tu=new pr(ft.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ct():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Sy{constructor(e,t,i,r,s,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Sy(e,t,Dy.emptySet(t),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class q7{constructor(){this.Au=void 0,this.listeners=[]}}class K7{constructor(){this.queries=new Wh(e=>MH(e),hw),this.onlineState="Unknown",this.Ru=new Set}}function iP(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,Me.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new q7),r)try{s.Au=yield t.onListen(i)}catch(c){const d=xy(c,`Initialization of query '${o1(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&aP(t)}),rP.apply(this,arguments)}function sP(n,e){return oP.apply(this,arguments)}function oP(){return oP=(0,Me.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),oP.apply(this,arguments)}function Y7(n,e){const t=mt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&aP(t)}function Z7(n,e,t){const i=mt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function aP(n){n.Ru.forEach(e=>{e.next()})}class lP{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Sy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Q7{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class p3{constructor(e){this.yt=e}Ji(e){return jc(this.yt,e)}Yi(e){return e.metadata.exists?oj(this.yt,e.document,!1):Di.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Dr(e)}}class X7{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=m3(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Fn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new p3(this.yt);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||pn()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function S7(n,e,t,i){return R1.apply(this,arguments)}(e.localStore,new p3(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield I7(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function m3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class g3{constructor(e){this.key=e}}class _3{constructor(e){this.key=e}}class y3{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=pn(),this.mutatedKeys=pn(),this.Gu=RH(e),this.Qu=new Dy(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new f3,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,D)=>{const A=r.get(b),L=a1(this.query,D)?D:null,U=!!A&&this.mutatedKeys.has(A.key),ie=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let le=!1;A&&L?A.data.isEqual(L.data)?U!==ie&&(i.track({type:3,doc:L}),le=!0):this.Hu(A,L)||(i.track({type:2,doc:L}),le=!0,(p&&this.Gu(L,p)>0||_&&this.Gu(L,_)<0)&&(d=!0)):!A&&L?(i.track({type:0,doc:L}),le=!0):A&&!L&&(i.track({type:1,doc:A}),le=!0,(p||_)&&(d=!0)),le&&(L?(c=c.add(L),s=ie?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((_,b)=>function(D,A){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return L(D)-L(A)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(i);const c=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new Sy(this.query,e.Qu,r,s,e.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new f3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new _3(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new g3(i))}),t}tc(e){this.qu=e.Hi,this.Ku=pn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Sy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class J7{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class e9{constructor(e){this.key=e,this.nc=!1}}class t9{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Wh(d=>MH(d),hw),this.rc=new Map,this.oc=new Set,this.uc=new pr(ft.comparator),this.cc=new Map,this.ac=new x1,this.hc={},this.lc=new Map,this.fc=ym.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function n9(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,Me.Z)(function*(n,e){const t=kP(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield vy(t.localStore,ao(e));t.isPrimaryClient&&VI(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield uP(t,e,i,"current"===d,c.resumeToken)}return r}),cP.apply(this,arguments)}function uP(n,e,t,i,r){return dP.apply(this,arguments)}function dP(){return dP=(0,Me.Z)(function*(n,e,t,i,r){n._c=(D,A,L)=>{return(U=(0,Me.Z)(function*(ie,le,qe,nt){let ot=le.view.Wu(qe);ot.$i&&(ot=yield NI(ie.localStore,le.query,!1).then(({documents:Nt})=>le.view.Wu(Nt,ot)));const at=nt&&nt.targetChanges.get(le.targetId),Ft=le.view.applyChanges(ot,ie.isPrimaryClient,at);return wP(ie,le.targetId,Ft.Xu),Ft.snapshot}),function(ie,le,qe,nt){return U.apply(this,arguments)})(n,D,A,L);var U};const s=yield NI(n.localStore,e,!0),c=new y3(e,s.Hi),d=c.Wu(s.documents),p=yw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,p);wP(n,t,_.Xu);const b=new J7(e,t,c);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),dP.apply(this,arguments)}function i9(n,e){return hP.apply(this,arguments)}function hP(){return hP=(0,Me.Z)(function*(n,e){const t=mt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!hw(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield by(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),kw(t.remoteStore,i.targetId),Iy(t,i.targetId)}).catch(Uh))):(Iy(t,i.targetId),yield by(t.localStore,i.targetId,!0))}),hP.apply(this,arguments)}function fP(){return fP=(0,Me.Z)(function*(n,e,t){const i=OP(n);try{const r=yield function(s,c){const d=mt(s),p=Ui.now(),_=c.reduce((A,L)=>A.add(L.key),pn());let b,D;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let L=Ho(),U=pn();return d.Gi.getEntries(A,_).next(ie=>{L=ie,L.forEach((le,qe)=>{qe.isValidDocument()||(U=U.add(le))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,L)).next(ie=>{b=ie;const le=[];for(const qe of c){const nt=hZ(qe,b.get(qe.key).overlayedDocument);null!=nt&&le.push(new nd(qe.key,nt,xH(nt.value.mapValue),Vi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,le,c)}).next(ie=>{D=ie;const le=ie.applyToLocalDocumentSet(b,U);return d.documentOverlayCache.saveOverlays(A,ie.batchId,le)})}).then(()=>({batchId:D.batchId,changes:KH(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.hc[s.currentUser.toKey()];p||(p=new pr(un)),p=p.insert(c,d),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield rd(i,r.changes),yield Ey(i.remoteStore)}catch(r){const s=xy(r,"Failed to persist write");t.reject(s)}}),fP.apply(this,arguments)}function v3(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,Me.Z)(function*(n,e){const t=mt(n);try{const i=yield x7(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.cc.get(s);c&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Ot(c.nc):r.removedDocuments.size>0&&(Ot(c.nc),c.nc=!1))}),yield rd(t,i,e)}catch(i){yield Uh(i)}}),pP.apply(this,arguments)}function b3(n,e,t){const i=mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=mt(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const D of b.listeners)D.bu(c)&&(p=!0)}),p&&aP(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function s9(n,e,t){return mP.apply(this,arguments)}function mP(){return mP=(0,Me.Z)(function*(n,e,t){const i=mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let c=new pr(ft.comparator);c=c.insert(s,Di.newNoDocument(s,Ut.min()));const d=pn().add(s),p=new _w(Ut.min(),new Map,new ai(un),c,d);yield v3(i,p),i.uc=i.uc.remove(s),i.cc.delete(e),EP(i)}else yield by(i.localStore,e,!1).then(()=>Iy(i,e,t)).catch(Uh)}),mP.apply(this,arguments)}function o9(n,e){return gP.apply(this,arguments)}function gP(){return gP=(0,Me.Z)(function*(n,e){const t=mt(n),i=e.batch.batchId;try{const r=yield C7(t.localStore,e);bP(t,i,null),vP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield rd(t,r)}catch(r){yield Uh(r)}}),gP.apply(this,arguments)}function a9(n,e,t){return _P.apply(this,arguments)}function _P(){return _P=(0,Me.Z)(function*(n,e,t){const i=mt(n);try{const r=yield function(s,c){const d=mt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(Ot(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,e);bP(i,e,t),vP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield rd(i,r)}catch(r){yield Uh(r)}}),_P.apply(this,arguments)}function yP(){return yP=(0,Me.Z)(function*(n,e){const t=mt(n);id(t.remoteStore)||Je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=mt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=xy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),yP.apply(this,arguments)}function vP(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function bP(n,e,t){const i=mt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||w3(n,i)})}function w3(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(kw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),EP(n))}function wP(n,e,t){for(const i of t)i instanceof g3?(n.ac.addReference(i.key,e),c9(n,i)):i instanceof _3?(Je("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||w3(n,i.key)):Ct()}function c9(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Je("SyncEngine","New document in limbo: "+t),n.oc.add(i),EP(n))}function EP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ft(Fn.fromString(e)),i=n.fc.next();n.cc.set(i,new e9(t)),n.uc=n.uc.insert(t,i),VI(n.remoteStore,new qh(ao(cy(t.path)),i,2,ya.at))}}function rd(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=(0,Me.Z)(function*(n,e,t){const i=mt(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=T1.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,Me.Z)(function*(p,_){const b=mt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>De.forEach(_,A=>De.forEach(A.Si,L=>b.persistence.referenceDelegate.addReference(D,A.targetId,L)).next(()=>De.forEach(A.Di,L=>b.persistence.referenceDelegate.removeReference(D,A.targetId,L)))))}catch(D){if(!Vh(D))throw D;Je("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const A=D.targetId;if(!D.fromCache){const L=b.qi.get(A),ie=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);b.qi=b.qi.insert(A,ie)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),CP.apply(this,arguments)}function u9(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,Me.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const i=yield Kj(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(d=>{d.reject(new We(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rd(t,i.ji)}var r}),xP.apply(this,arguments)}function d9(n,e){const t=mt(n),i=t.cc.get(e);if(i&&i.nc)return pn().add(i.key);{let r=pn();const s=t.rc.get(e);if(!s)return r;for(const c of s){const d=t.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function h9(n,e){return DP.apply(this,arguments)}function DP(){return DP=(0,Me.Z)(function*(n,e){const t=mt(n),i=yield NI(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&wP(t,e.targetId,r.Xu),r}),DP.apply(this,arguments)}function f9(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,Me.Z)(function*(n,e){const t=mt(n);return Xj(t.localStore,e).then(i=>rd(t,i))}),SP.apply(this,arguments)}function p9(n,e,t,i){return IP.apply(this,arguments)}function IP(){return IP=(0,Me.Z)(function*(n,e,t,i){const r=mt(n),s=yield function(c,d){const p=mt(c),_=mt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(D=>D?p.localDocuments.getDocuments(b,D):De.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Ey(r.remoteStore):"acknowledged"===t||"rejected"===t?(bP(r,e,i||null),vP(r,e),d=e,mt(mt(r.localStore).mutationQueue).An(d)):Ct(),yield rd(r,s)):Je("SyncEngine","Cannot apply mutation batch with id: "+e)}),IP.apply(this,arguments)}function TP(){return TP=(0,Me.Z)(function*(n,e){const t=mt(n);if(kP(t),OP(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield E3(t,i.toArray());t.dc=!0,yield eP(t.remoteStore,!0);for(const s of r)VI(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Iy(t,c),by(t.localStore,c,!0))),kw(t.remoteStore,c)}),yield r,yield E3(t,i),function(s){const c=mt(s);c.cc.forEach((d,p)=>{kw(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new pr(ft.comparator)}(t),t.dc=!1,yield eP(t.remoteStore,!1)}}),TP.apply(this,arguments)}function E3(n,e,t){return MP.apply(this,arguments)}function MP(){return MP=(0,Me.Z)(function*(n,e,t){const i=mt(n),r=[],s=[];for(const c of e){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield vy(i.localStore,ao(p[0]));for(const _ of p){const b=i.ic.get(_),D=yield h9(i,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield Qj(i.localStore,c);d=yield vy(i.localStore,_),yield uP(i,C3(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),MP.apply(this,arguments)}function C3(n){return IH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function g9(n){const e=mt(n);return mt(mt(e.localStore).persistence).vi()}function _9(n,e,t,i){return AP.apply(this,arguments)}function AP(){return AP=(0,Me.Z)(function*(n,e,t,i){const r=mt(n);if(r.dc)return void Je("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Xj(r.localStore,AH(s[0])),d=_w.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xr.EMPTY_BYTE_STRING);yield rd(r,c,d);break}case"rejected":yield by(r.localStore,e,!0),Iy(r,e,i);break;default:Ct()}}),AP.apply(this,arguments)}function y9(n,e,t){return RP.apply(this,arguments)}function RP(){return RP=(0,Me.Z)(function*(n,e,t){const i=kP(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Je("SyncEngine","Adding an already active target "+r);continue}const s=yield Qj(i.localStore,r),c=yield vy(i.localStore,s);yield uP(i,C3(s),c.targetId,!1,c.resumeToken),VI(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield by(i.localStore,r,!1).then(()=>{kw(i.remoteStore,r),Iy(i,r)}).catch(Uh))}}),RP.apply(this,arguments)}function kP(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s9.bind(null,e),e.sc.Wo=Y7.bind(null,e.eventManager),e.sc.wc=Z7.bind(null,e.eventManager),e}function OP(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a9.bind(null,e),e}class x3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.yt=Aw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return qj(this.persistence,new Wj,e.initialUser,this.yt)}yc(e){return new Gj(PI.Bs,this.yt)}gc(e){return new n3}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class D3 extends x3{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield OP(i.Ac.syncEngine),yield Ey(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return qj(this.persistence,new Wj,e.initialUser,this.yt)}Tc(e,t){return new l7(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new WY(t,this.persistence);return new $Y(e.asyncQueue,i)}yc(e){const t=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new S1(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,s3(),UI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new n3}}class b9 extends D3{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof N1&&(i.sharedClientState.syncEngine={Fr:p9.bind(null,r),$r:_9.bind(null,r),Br:y9.bind(null,r),vi:g9.bind(null,r),Mr:f9.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Me.Z)(function*(c){yield function m9(n,e){return TP.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(e){const t=s3();if(!N1.C(t))throw new We(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new N1(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class PP{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>b3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u9.bind(null,i.syncEngine),yield eP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new K7}createDatastore(e){const t=Aw(e.databaseInfo.databaseId),i=new R7(e.databaseInfo);return new P7(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>b3(this.syncEngine,d,0),c=r3.C()?new r3:new T7,new L7(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,p,_){const b=new t9(i,r,s,c,d,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const i=mt(t);Je("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield wy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FP(n,e,t){if(!t)throw new We(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S3(n,e,t,i){if(!0===e&&!0===i)throw new We(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I3(n){if(!ft.isDocumentKey(n))throw new We(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T3(n){if(ft.isDocumentKey(n))throw new We(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ct()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new We(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jI(n);throw new We(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function M3(n,e){if(e<=0)throw new We(Te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const A3=new Map;class R3{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,S3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new OY;switch(t.type){case"gapi":return new LY(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new We(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=A3.get(e);t&&(Je("ComponentProvider","Removing Datastore"),A3.delete(e),t.terminate())}(this),Promise.resolve()}}class Si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class Ts{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Gc extends Ts{constructor(e,t,i){super(e,t,cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new ft(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function O3(n,e,...t){if(n=(0,V.m9)(n),FP("collection","path",e),n instanceof Ow){const i=Fn.fromString(e,...t);return T3(i),new Gc(n,null,i)}{if(!(n instanceof Si||n instanceof Gc))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return T3(i),new Gc(n.firestore,null,i)}}function zI(n,e,...t){if(n=(0,V.m9)(n),1===arguments.length&&(e=QV.R()),FP("doc","path",e),n instanceof Ow){const i=Fn.fromString(e,...t);return I3(i),new Si(n,null,new ft(i))}{if(!(n instanceof Si||n instanceof Gc))throw new We(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return I3(i),new Si(n.firestore,n instanceof Gc?n.converter:null,new ft(i))}}function P3(n,e){return n=(0,V.m9)(n),e=(0,V.m9)(e),(n instanceof Si||n instanceof Gc)&&(e instanceof Si||e instanceof Gc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function NP(n,e){return n=(0,V.m9)(n),e=(0,V.m9)(e),n instanceof Ts&&e instanceof Ts&&n.firestore===e.firestore&&hw(n._query,e._query)&&n.converter===e.converter}function F3(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class E9{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Qr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new Q7(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class D9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new We(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(s,c){const d=mt(s),p=bw(d.yt)+"/documents",_={documents:c.map(L=>vw(d.yt,L))},b=yield d._o("BatchGetDocuments",p,_,c.length),D=new Map;b.forEach(L=>{const U=function xZ(n,e){return"found"in e?function(t,i){Ot(!!i.found);const r=jc(t,i.found.name),s=Dr(i.found.updateTime),c=i.found.createTime?Dr(i.found.createTime):Ut.min(),d=new Is({mapValue:{fields:i.found.fields}});return Di.newFoundDocument(r,s,c,d)}(n,e):"missing"in e?function(t,i){Ot(!!i.missing),Ot(!!i.readTime);const r=jc(t,i.missing),s=Dr(i.readTime);return Di.newNoDocument(r,s)}(n,e):Ct()}(d.yt,L);D.set(U.key.toString(),U)});const A=[];return c.forEach(L=>{const U=D.get(L.toString());Ot(!!U),A.push(U)}),A}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new fy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ft.fromPath(r);e.mutations.push(new l1(s,e.precondition(s)))}),yield(i=(0,Me.Z)(function*(r,s){const c=mt(r),d=bw(c.yt)+"/documents",p={writes:s.map(_=>ww(c.yt,_))};yield c.ao("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ct();t=Ut.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new We(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ut.min())?Vi.exists(!1):Vi.updateTime(t):Vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new We(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(t)}return Vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class S9{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new L1(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Me.Z)(function*(){const t=new D9(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!sw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$H(t)}return!1}}class I9{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=os.UNAUTHENTICATED,this.clientId=QV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Me.Z)(function*(d){Je("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function N3(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(s){i.isEqual(s)||(yield Kj(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),LP.apply(this,arguments)}function L3(n,e){return BP.apply(this,arguments)}function BP(){return BP=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UP(n);Je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>h3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>h3(e.remoteStore,s)),n.onlineComponents=e}),BP.apply(this,arguments)}function UP(n){return VP.apply(this,arguments)}function VP(){return VP=(0,Me.Z)(function*(n){return n.offlineComponents||(Je("FirestoreClient","Using default OfflineComponentProvider"),yield N3(n,new x3)),n.offlineComponents}),VP.apply(this,arguments)}function $I(n){return HP.apply(this,arguments)}function HP(){return HP=(0,Me.Z)(function*(n){return n.onlineComponents||(Je("FirestoreClient","Using default OnlineComponentProvider"),yield L3(n,new PP)),n.onlineComponents}),HP.apply(this,arguments)}function B3(n){return UP(n).then(e=>e.persistence)}function WI(n){return UP(n).then(e=>e.localStore)}function jP(n){return $I(n).then(e=>e.remoteStore)}function zP(n){return $I(n).then(e=>e.syncEngine)}function Ty(n){return GP.apply(this,arguments)}function GP(){return GP=(0,Me.Z)(function*(n){const e=yield $I(n),t=e.eventManager;return t.onListen=n9.bind(null,e.syncEngine),t.onUnlisten=i9.bind(null,e.syncEngine),t}),GP.apply(this,arguments)}function V3(n,e,t={}){const i=new Qr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,s,c,d,p){const _=new GI({next:D=>{s.enqueueAndForget(()=>sP(r,b));const A=D.docs.has(c);!A&&D.fromCache?p.reject(new We(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&D.fromCache&&d&&"server"===d.source?p.reject(new We(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new lP(cy(c.path),_,{includeMetadataChanges:!0,Nu:!0});return iP(r,b)}(yield Ty(n),n.asyncQueue,e,t,i)})),i.promise}function H3(n,e,t={}){const i=new Qr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,s,c,d,p){const _=new GI({next:D=>{s.enqueueAndForget(()=>sP(r,b)),D.fromCache&&"server"===d.source?p.reject(new We(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new lP(c,_,{includeMetadataChanges:!0,Nu:!0});return iP(r,b)}(yield Ty(n),n.asyncQueue,e,t,i)})),i.promise}class F9{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new L1(this,"async_queue_retry"),this.Wc=()=>{const t=UI();t&&Je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=UI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=UI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Qr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Vh(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=nP.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&Ct()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function $P(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class N9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ii extends Ow{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new F9,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||j3(this),this._firestoreClient.terminate()}}function Sr(n){return n._firestoreClient||j3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function j3(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qY(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new I9(n._authCredentials,n._appCheckCredentials,n._queue,i)}function z3(n,e,t){const i=new Qr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield N3(n,t),yield L3(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===Te.FAILED_PRECONDITION||c.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;nm("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function G3(n){if(n._initialized||n._terminated)throw new We(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $c(Xr.fromBase64String(e))}catch(t){throw new We(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $c(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new We(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bm{constructor(e){this._methodName=e}}class qI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const W9=/^__.*__$/;class q9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new hy(e,this.data,t,this.fieldTransforms)}}class $3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class KI{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new KI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return QI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(W3(this.sa)&&W9.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class K9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||Aw(e)}da(e,t,i,r=!1){return new KI({sa:e,methodName:t,fa:i,path:hr.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function wm(n){const e=n._freezeSettings(),t=Aw(n._databaseId);return new K9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YI(n,e,t,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,e,t,r);YP("Data must be an object, but it was:",c,i);const d=Y3(i,c);let p,_;if(s.merge)p=new Vo(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const A=ZP(e,D,t);if(!c.contains(A))throw new We(Te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Q3(b,A)||b.push(A)}p=new Vo(b),_=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=c.fieldTransforms;return new q9(new Is(d),p,_)}class Pw extends bm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pw}}function q3(n,e,t){return new KI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class WP extends bm{_toFieldTransform(e){return new fw(e.path,new uy)}isEqual(e){return e instanceof WP}}class Y9 extends bm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=q3(this,e,!0),i=this._a.map(s=>Em(s,t)),r=new dm(i);return new fw(e.path,r)}isEqual(e){return this===e}}class Z9 extends bm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=q3(this,e,!0),i=this._a.map(s=>Em(s,t)),r=new hm(i);return new fw(e.path,r)}isEqual(e){return this===e}}class Q9 extends bm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new dy(e.yt,PH(e.yt,this.wa));return new fw(e.path,t)}isEqual(e){return this===e}}function qP(n,e,t,i){const r=n.da(1,e,t);YP("Data must be an object, but it was:",r,i);const s=[],c=Is.empty();sm(i,(p,_)=>{const b=ZI(e,p,t);_=(0,V.m9)(_);const D=r.ca(b);if(_ instanceof Pw)s.push(b);else{const A=Em(_,D);null!=A&&(s.push(b),c.set(b,A))}});const d=new Vo(s);return new $3(c,d,r.fieldTransforms)}function KP(n,e,t,i,r,s){const c=n.da(1,e,t),d=[ZP(e,i,t)],p=[r];if(s.length%2!=0)throw new We(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(ZP(e,s[A])),p.push(s[A+1]);const _=[],b=Is.empty();for(let A=d.length-1;A>=0;--A)if(!Q3(_,d[A])){const L=d[A];let U=p[A];U=(0,V.m9)(U);const ie=c.ca(L);if(U instanceof Pw)_.push(L);else{const le=Em(U,ie);null!=le&&(_.push(L),b.set(L,le))}}const D=new Vo(_);return new $3(b,D,c.fieldTransforms)}function K3(n,e,t,i=!1){return Em(t,n.da(i?4:3,e))}function Em(n,e){if(Z3(n=(0,V.m9)(n)))return YP("Unsupported field value:",e,n),Y3(n,e);if(n instanceof bm)return function(t,i){if(!W3(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=Em(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,V.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PH(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ui.fromDate(t);return{timestampValue:py(i.yt,r)}}if(t instanceof Ui){const r=new Ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:py(i.yt,r)}}if(t instanceof qI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $c)return{bytesValue:tj(i.yt,t._byteString)};if(t instanceof Si){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:c1(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${jI(t)}`)}(n,e)}function Y3(n,e){const t={};return sH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sm(n,(i,r)=>{const s=Em(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function Z3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ui||n instanceof qI||n instanceof $c||n instanceof Si||n instanceof bm)}function YP(n,e,t){if(!Z3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jI(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function ZP(n,e,t){if((e=(0,V.m9)(e))instanceof sd)return e._internalPath;if("string"==typeof e)return ZI(n,e);throw QI("Field path arguments must be of type string or ",n,!1,void 0,t)}const X9=new RegExp("[~\\*/\\[\\]]");function ZI(n,e,t){if(e.search(X9)>=0)throw QI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw QI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function QI(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new We(Te.INVALID_ARGUMENT,d+n+p)}function Q3(n,e){return n.some(t=>t.isEqual(e))}class Fw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class J9 extends Fw{data(){return super.data()}}function XI(n,e){return"string"==typeof e?ZI(n,e):e instanceof sd?e._internalPath:e._delegate._internalPath}function X3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new We(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QP{}class Nw extends QP{}function Xh(n,e,...t){let i=[];e instanceof QP&&i.push(e),i=i.concat(t),function(r){const s=r.filter(d=>d instanceof My).length,c=r.filter(d=>d instanceof Lw).length;if(s>1||s>0&&c>0)throw new We(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Lw extends Nw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Lw(e,t,i)}_apply(e){const t=this._parse(e);return nz(e._query,t),new Ts(e.firestore,e.converter,s1(e._query,t))}_parse(e){const t=wm(e.firestore);return function(r,s,c,d,p,_,b){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new We(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){tz(b,_);const A=[];for(const L of b)A.push(ez(d,r,L));D={arrayValue:{values:A}}}else D=ez(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||tz(b,_),D=K3(c,"where",b,"in"===_||"not-in"===_);return Mn.create(p,_,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class My extends QP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new My(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const c=r.getFlattenedFilters();for(const d of c)nz(s,d),s=s1(s,d)}(e._query,t),new Ts(e.firestore,e.converter,s1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class XP extends Nw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new XP(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new We(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new We(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ay(r,s);return function(d,p){if(null===n1(d)){const _=yI(d);null!==_&&iz(0,_,p.field)}}(i,c),c}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new td(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class JI extends Nw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new JI(e,t,i)}_apply(e){return new Ts(e.firestore,e.converter,vI(e._query,this._limit,this._limitType))}}class eT extends Nw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new eT(e,t,i)}_apply(e){const t=J3(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(r=t,new td((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tT extends Nw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new tT(e,t,i)}_apply(e){const t=J3(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(r=t,new td((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function J3(n,e,t,i){if(t[0]=(0,V.m9)(t[0]),t[0]instanceof Fw)return function(r,s,c,d,p){if(!d)throw new We(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of um(r))if(b.field.isKeyField())_.push(lm(s,d.key));else{const D=d.data.field(b.field);if(YO(D))throw new We(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const A=b.field.canonicalString();throw new We(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}_.push(D)}return new $h(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=wm(n.firestore);return function(s,c,d,p,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new We(Te.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let L=0;L<_.length;L++){const U=_[L];if(D[L].field.isKeyField()){if("string"!=typeof U)throw new We(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!r1(s)&&-1!==U.indexOf("/"))throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const ie=s.path.child(Fn.fromString(U));if(!ft.isDocumentKey(ie))throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const le=new ft(ie);A.push(lm(c,le))}else{const ie=K3(d,p,U);A.push(ie)}}return new $h(A,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function ez(n,e,t){if("string"==typeof(t=(0,V.m9)(t))){if(""===t)throw new We(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r1(e)&&-1!==t.indexOf("/"))throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Fn.fromString(t));if(!ft.isDocumentKey(i))throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lm(n,new ft(i))}if(t instanceof Si)return lm(n,t._key);throw new We(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jI(t)}.`)}function tz(n,e){if(!Array.isArray(n)||0===n.length)throw new We(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new We(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function nz(n,e){if(e.isInequality()){const i=yI(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new We(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=n1(n);null!==s&&iz(0,r,s)}const t=function(i,r){for(const s of i)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new We(Te.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iz(n,e,t){if(!t.isEqual(e))throw new We(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class JP{convertValue(e,t="none"){switch(am(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(om(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){const i={};return sm(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new qI(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=aH(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(aw(e));default:return null}}convertTimestamp(e){const t=jh(e);return new Ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Fn.fromString(e);Ot(dj(i));const r=new Hh(i.get(1),i.get(3)),s=new ft(i.popFirst(5));return r.isEqual(t)||xr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function nT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class lQ extends JP{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}class Cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends Fw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(XI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bw extends od{data(e={}){return super.data(e)}}class Jh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bw(this._firestore,this._userDataWriter,i.key,i,new Cm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Bw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Bw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Cm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:cQ(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function sz(n,e){return n instanceof od&&e instanceof od?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&NP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ef extends JP{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}function oz(n,e,t){n=An(n,Si);const i=An(n.firestore,Ii),r=nT(n.converter,e,t);return Ay(i,[YI(wm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Vi.none())])}function az(n,e,t,...i){n=An(n,Si);const r=An(n.firestore,Ii),s=wm(r);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof sd?KP(s,"updateDoc",n._key,e,t,i):qP(s,"updateDoc",n._key,e),Ay(r,[c.toMutation(n._key,Vi.exists(!0))])}function lz(n,...e){var t,i,r;n=(0,V.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||$P(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if($P(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,_,b;if(n instanceof Si)_=An(n.firestore,Ii),b=cy(n._key.path),p={next:D=>{e[c]&&e[c](eF(_,n,D))},error:e[c+1],complete:e[c+2]};else{const D=An(n,Ts);_=An(D.firestore,Ii),b=D._query;const A=new ef(_);p={next:L=>{e[c]&&e[c](new Jh(_,A,D,L))},error:e[c+1],complete:e[c+2]},X3(n._query)}return function(D,A,L,U){const ie=new GI(U),le=new lP(A,ie,L);return D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return iP(yield Ty(D),le)})),()=>{ie.bc(),D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return sP(yield Ty(D),le)}))}}(Sr(_),b,d,p)}function Ay(n,e){return function(t,i){const r=new Qr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function r9(n,e,t){return fP.apply(this,arguments)}(yield zP(t),i,r)})),r.promise}(Sr(n),e)}function eF(n,e,t){const i=t.docs.get(e._key),r=new ef(n);return new od(n,r,e._key,i,new Cm(t.hasPendingWrites,t.fromCache),e.converter)}const vQ={maxAttempts:5};class cz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wm(e)}set(e,t,i){this._verifyNotCommitted();const r=tf(e,this._firestore),s=nT(r.converter,t,i),c=YI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Vi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=tf(e,this._firestore);let c;return c="string"==typeof(t=(0,V.m9)(t))||t instanceof sd?KP(this._dataReader,"WriteBatch.update",s._key,t,i,r):qP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tf(e,this._firestore);return this._mutations=this._mutations.concat(new fy(t._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tf(n,e){if((n=(0,V.m9)(n)).firestore!==e)throw new We(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bQ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wm(e)}get(e){const t=tf(e,this._firestore),i=new lQ(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Ct();const s=r[0];if(s.isFoundDocument())return new Fw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Fw(this._firestore,i,t._key,null,t.converter);throw Ct()})}set(e,t,i){const r=tf(e,this._firestore),s=nT(r.converter,t,i),c=YI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=tf(e,this._firestore);let c;return c="string"==typeof(t=(0,V.m9)(t))||t instanceof sd?KP(this._dataReader,"Transaction.update",s._key,t,i,r):qP(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=tf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tf(e,this._firestore),i=new ef(this._firestore);return super.get(e).then(r=>new od(this._firestore,i,t._key,r._document,new Cm(!1,!1),t.converter))}}function tF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dz(){if(typeof Uint8Array>"u")throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function hz(){if(!function KY(){return typeof atob<"u"}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){iy=so.SDK_VERSION,(0,so._registerComponent)(new Kl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new Ii(new FY(t.getProvider("auth-internal")),new BY(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new We(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(KV,"3.8.1",n),(0,so.registerVersion)(KV,"3.8.1","esm2017")}();class Uw{constructor(e){this._delegate=e}static fromBase64String(e){return hz(),new Uw($c.fromBase64String(e))}static fromUint8Array(e){return dz(),new Uw($c.fromUint8Array(e))}toBase64(){return hz(),this._delegate.toBase64()}toUint8Array(){return dz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nF(n){return function MQ(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class AQ{enableIndexedDbPersistence(e,t){return function B9(n,e){G3(n=An(n,Ii));const t=Sr(n),i=n._freezeSettings(),r=new PP;return z3(t,r,new D3(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function U9(n){G3(n=An(n,Ii));const e=Sr(n),t=n._freezeSettings(),i=new PP;return z3(e,i,new b9(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function V9(n){if(n._initialized&&!n._terminated)throw new We(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(i){if(!Yl.C())return Promise.resolve();const r=i+"main";yield Yl.delete(r)}),function(i){return t.apply(this,arguments)})(I1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class fz{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function k3(n,e,t,i={}){var r;const s=(n=An(n,Ow))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=os.MOCK_USER;else{c=(0,V.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new We(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new os(p)}n._authCredentials=new PY(new YV(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function j9(n){return function T9(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield B3(n),t=yield jP(n);return e.setNetworkEnabled(!0),function(i){const r=mt(i);return r._u.delete(0),Rw(r)}(t)}))}(Sr(n=An(n,Ii)))}(this._delegate)}disableNetwork(){return function z9(n){return function M9(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield B3(n),t=yield jP(n);return e.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const s=mt(r);s._u.add(0),yield wy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Sr(n=An(n,Ii)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,S3("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function H9(n){return function(e){const t=new Qr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function l9(n,e){return yP.apply(this,arguments)}(yield zP(e),t)})),t.promise}(Sr(n=An(n,Ii)))}(this._delegate)}onSnapshotsInSync(e){return function yQ(n,e){return function k9(n,e){const t=new GI(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield Ty(n),r=t,mt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield Ty(n),r=t,void mt(i).Ru.delete(r);var i,r}))}}(Sr(n=An(n,Ii)),$P(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ry(this,O3(this._delegate,e))}catch(t){throw co(t,"collection()","Firestore.collection()")}}doc(e){try{return new nl(this,zI(this._delegate,e))}catch(t){throw co(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new uo(this,function w9(n,e){if(n=An(n,Ow),FP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(t=e,new td(Fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw co(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wQ(n,e,t){n=An(n,Ii);const i=Object.assign(Object.assign({},vQ),t);return function(r){if(r.maxAttempts<1)throw new We(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new Qr;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const p=yield function U3(n){return $I(n).then(e=>e.datastore)}(r);new S9(r.asyncQueue,p,c,s,d).run()})),d.promise}(Sr(n),r=>e(new bQ(n,r)),i)}(this._delegate,t=>e(new pz(this,t)))}batch(){return Sr(this._delegate),new mz(new cz(this._delegate,e=>Ay(this._delegate,e)))}loadBundle(e){return function G9(n,e){const t=Sr(n=An(n,Ii)),i=new N9;return function O9(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return F3(p,_);if(p instanceof ArrayBuffer)return F3(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new E9(p,c);var p}(t,Aw(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function v9(n,e,t){const i=mt(n);var r;(r=(0,Me.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(A,L){const U=mt(A),ie=Dr(L.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",le=>U.Ns.getBundleMetadata(le,L.id)).then(le=>!!le&&le.createTime.compareTo(ie)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(A=p).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);d._updateProgress(m3(p));const _=new X7(p,s.localStore,c.yt);let b=yield c.mc();for(;b;){const A=yield _.Fu(b);A&&d._updateProgress(A),b=yield c.mc()}const D=yield _.complete();return yield rd(s,D.Lu,void 0),yield function(A,L){const U=mt(A);return U.persistence.runTransaction("Save bundle","readwrite",ie=>U.Ns.saveBundleMetadata(ie,L))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.Bu)}catch(p){return nm("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var A}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zP(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function $9(n,e){return function P9(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,i){const r=mt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield WI(n),e)}))}(Sr(n=An(n,Ii)),e).then(t=>t?new Ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new uo(this,t):null)}}class iT extends JP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uw(new $c(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nl.forKey(t,this.firestore,null)}}class pz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new iT(e)}get(e){const t=Dm(e);return this._delegate.get(t).then(i=>new Vw(this._firestore,new od(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Dm(e);return i?(tF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Dm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Dm(e);return this._delegate.delete(t),this}}class mz{constructor(e){this._delegate=e}set(e,t,i){const r=Dm(e);return i?(tF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Dm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Dm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=xm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new xm(e,new iT(e),t),r.set(t,s)),s}}xm.INSTANCES=new WeakMap;class nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iT(e)}static forPath(e,t,i){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nl(t,new Si(t._delegate,i,new ft(e)))}static forKey(e,t,i){return new nl(t,new Si(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ry(this.firestore,O3(this._delegate,e))}catch(t){throw co(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,V.m9)(e))instanceof Si&&P3(this._delegate,e)}set(e,t){t=tF("DocumentReference.set",t);try{return t?oz(this._delegate,e,t):oz(this._delegate,e)}catch(i){throw co(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?az(this._delegate,e):az(this._delegate,e,t,...i)}catch(r){throw co(r,"updateDoc()","DocumentReference.update()")}}delete(){return function gQ(n){return Ay(An(n.firestore,Ii),[new fy(n._key,Vi.none())])}(this._delegate)}onSnapshot(...e){const t=gz(e),i=_z(e,r=>new Vw(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return lz(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function dQ(n){n=An(n,Si);const e=An(n.firestore,Ii),t=Sr(e),i=new ef(e);return function A9(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,s,c){try{const d=yield function(p,_){const b=mt(p);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new We(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=xy(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield WI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new od(e,i,n._key,r,new Cm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function hQ(n){n=An(n,Si);const e=An(n.firestore,Ii);return V3(Sr(e),n._key,{source:"server"}).then(t=>eF(e,n,t))}(this._delegate):function uQ(n){n=An(n,Si);const e=An(n.firestore,Ii);return V3(Sr(e),n._key).then(t=>eF(e,n,t))}(this._delegate),t.then(i=>new Vw(this.firestore,new od(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new nl(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function co(n,e,t){return n.message=n.message.replace(e,t),n}function gz(n){for(const e of n)if("object"==typeof e&&!nF(e))return e;return{}}function _z(n,e){var t,i;let r;return r=nF(n[0])?n[0]:nF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Vw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sz(this._delegate,e._delegate)}}class Hw extends Vw{data(e){const t=this._delegate.data(e);return function kY(n,e){n||Ct()}(void 0!==t),t}}class uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iT(e)}where(e,t,i){try{return new uo(this.firestore,Xh(this._delegate,function eQ(n,e,t){const i=e,r=XI("where",n);return Lw._create(r,i,t)}(e,t,i)))}catch(r){throw co(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new uo(this.firestore,Xh(this._delegate,function tQ(n,e="asc"){const t=e,i=XI("orderBy",n);return XP._create(i,t)}(e,t)))}catch(i){throw co(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new uo(this.firestore,Xh(this._delegate,function nQ(n){return M3("limit",n),JI._create("limit",n,"F")}(e)))}catch(t){throw co(t,"limit()","Query.limit()")}}limitToLast(e){try{return new uo(this.firestore,Xh(this._delegate,function iQ(n){return M3("limitToLast",n),JI._create("limitToLast",n,"L")}(e)))}catch(t){throw co(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new uo(this.firestore,Xh(this._delegate,function rQ(...n){return eT._create("startAt",n,!0)}(...e)))}catch(t){throw co(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new uo(this.firestore,Xh(this._delegate,function sQ(...n){return eT._create("startAfter",n,!1)}(...e)))}catch(t){throw co(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new uo(this.firestore,Xh(this._delegate,function oQ(...n){return tT._create("endBefore",n,!1)}(...e)))}catch(t){throw co(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new uo(this.firestore,Xh(this._delegate,function aQ(...n){return tT._create("endAt",n,!0)}(...e)))}catch(t){throw co(t,"endAt()","Query.endAt()")}}isEqual(e){return NP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function pQ(n){n=An(n,Ts);const e=An(n.firestore,Ii),t=Sr(e),i=new ef(e);return function R9(n,e){const t=new Qr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,s,c){try{const d=yield NI(r,s,!0),p=new y3(s,d.Hi),_=p.Wu(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=xy(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield WI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate):"server"===e?.source?function mQ(n){n=An(n,Ts);const e=An(n.firestore,Ii),t=Sr(e),i=new ef(e);return H3(t,n._query,{source:"server"}).then(r=>new Jh(e,i,n,r))}(this._delegate):function fQ(n){n=An(n,Ts);const e=An(n.firestore,Ii),t=Sr(e),i=new ef(e);return X3(n._query),H3(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate),t.then(i=>new iF(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gz(e),i=_z(e,r=>new iF(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return lz(this._delegate,t,i)}withConverter(e){return new uo(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}class kQ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kQ(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Hw(this._firestore,i))})}isEqual(e){return sz(this._delegate,e._delegate)}}class Ry extends uo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nl(this.firestore,e):null}doc(e){try{return new nl(this.firestore,void 0===e?zI(this._delegate):zI(this._delegate,e))}catch(t){throw co(t,"doc()","CollectionReference.doc()")}}add(e){return function _Q(n,e){const t=An(n.firestore,Ii),i=zI(n),r=nT(n.converter,e);return Ay(t,[YI(wm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new nl(this.firestore,t))}isEqual(e){return P3(this._delegate,e._delegate)}withConverter(e){return new Ry(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function Dm(n){return An(n,Si)}class rF{constructor(...e){this._delegate=new sd(...e)}static documentId(){return new rF(hr.keyField().canonicalString())}isEqual(e){return(e=(0,V.m9)(e))instanceof sd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CQ(){return new WP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sm(e)}static delete(){const e=function EQ(){return new Pw("deleteField")}();return e._methodName="FieldValue.delete",new Sm(e)}static arrayUnion(...e){const t=function xQ(...n){return new Y9("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sm(t)}static arrayRemove(...e){const t=function DQ(...n){return new Z9("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sm(t)}static increment(e){const t=function SQ(n){return new Q9("increment",n)}(e);return t._methodName="FieldValue.increment",new Sm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OQ={Firestore:fz,GeoPoint:qI,Timestamp:Ui,Blob:Uw,Transaction:pz,WriteBatch:mz,DocumentReference:nl,DocumentSnapshot:Vw,Query:uo,QueryDocumentSnapshot:Hw,QuerySnapshot:iF,CollectionReference:Ry,FieldPath:rF,FieldValue:Sm,setLogLevel:function RQ(n){!function RY(n){Bh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FQ(n){(function PQ(n,e){n.INTERNAL.registerComponent(new Kl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},OQ)))})(n,(e,t)=>new fz(e,t,new AQ)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(nO.Z);var rT=T(5363),NQ=T(4707);function yz(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Ok.B)({connector:()=>new NQ.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function vz(n,e){return(0,Kr.m)(e)?(0,_i.w)(()=>n,e):(0,_i.w)(()=>n)}var sF=T(9468);T(259);const aF=new Map,wz={activated:!1,tokenObservers:[]},HQ={initialized:!1,enabled:!1};function Ms(n){return aF.get(n)||Object.assign({},wz)}function oT(){return HQ}class qQ{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new V.BH,yield function KQ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new V.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ho=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Cz(n){if(!Ms(n).activated)throw ho.create("use-before-activation",{appName:n.name})}function uF(n,e){return dF.apply(this,arguments)}function dF(){return dF=(0,Me.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,d;try{c=yield fetch(n,s)}catch(D){throw ho.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw ho.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(D){throw ho.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),dF.apply(this,arguments)}function XQ(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const jw="firebase-app-check-store";let cT=null;function Dz(){return cT||(cT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ho.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(jw,{keyPath:"compositeKey"})}}catch(t){e(ho.create("storage-open",{originalErrorMessage:t?.message}))}}),cT)}function hF(){return hF=(0,Me.Z)(function*(n,e){const i=(yield Dz()).transaction(jw,"readwrite"),s=i.objectStore(jw).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(ho.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),hF.apply(this,arguments)}const zw=new ql.Yd("@firebase/app-check");function mF(n,e){return(0,V.hl)()?function nX(n,e){return function Sz(n,e){return hF.apply(this,arguments)}(function Tz(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Mz(){return oT().enabled}function Az(){return _F.apply(this,arguments)}function _F(){return _F=(0,Me.Z)(function*(){const n=oT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),_F.apply(this,arguments)}const lX={error:"UNKNOWN_ERROR"};function cX(n){return V.US.encodeString(JSON.stringify(n),!1)}function uT(n){return yF.apply(this,arguments)}function yF(){return yF=(0,Me.Z)(function*(n,e=!1){const t=n.app;Cz(t);const i=Ms(t);let s,r=i.token;if(r&&!ky(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(ky(p)?r=p:yield mF(t,void 0))}if(!e&&r&&ky(r))return{token:r.token};let d,c=!1;if(Mz()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uF(XQ(t,yield Az()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield mF(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Ms(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?zw.warn(p.message):zw.error(p),s=p}return r?s?d=ky(r)?{token:r.token,internalError:s}:Oz(s):(d={token:r.token},i.token=r,yield mF(t,r)):d=Oz(s),c&&kz(t,d),d}),yF.apply(this,arguments)}function bF(n,e){const t=Ms(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Rz(n){const{app:e}=n,t=Ms(e);let i=t.tokenRefresher;i||(i=function uX(n){const{app:e}=n;return new qQ((0,Me.Z)(function*(){let i;if(i=Ms(e).token?yield uT(n,!0):yield uT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ms(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kz(n,e){const t=Ms(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function ky(n){return n.expireTimeMillis-Date.now()>0}function Oz(n){return{token:cX(lX),error:n}}class dX{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ms(this.app);for(const t of e)bF(this.app,t.next);return Promise.resolve()}}const Hz="app-check-internal";!function DX(){(0,so._registerComponent)(new Kl.wA("app-check",n=>function hX(n,e){return new dX(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Hz).initialize()})),(0,so._registerComponent)(new Kl.wA(Hz,n=>function fX(n){return{getToken:e=>uT(n,e),addTokenListener:e=>function vF(n,e,t,i){const{app:r}=n,s=Ms(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&ky(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),Rz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Rz(n))}(n,"INTERNAL",e),removeTokenListener:e=>bF(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,so.registerVersion)("@firebase/app-check","0.6.1")}();class Gw{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var DF=T(9260);const SF=new l.OlP("angularfire2.auth.use-emulator"),IF=new l.OlP("angularfire2.auth.settings"),TF=new l.OlP("angularfire2.auth.tenant-id"),MF=new l.OlP("angularfire2.auth.langugage-code"),AF=new l.OlP("angularfire2.auth.use-device-language"),RF=new l.OlP("angularfire.auth.persistence"),kF=(n,e,t,i,r,s,c,d)=>(0,Hr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[t,i,r,s,c,d]);let hT=(()=>{class n{constructor(t,i,r,s,c,d,p,_,b,D,A,L){const U=new rn.x,ie=(0,bt.of)(void 0).pipe((0,rT.Q)(c.outsideAngular),(0,_i.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,9568)))),(0,yt.U)(()=>(0,Hr.on)(t,s,i)),(0,yt.U)(le=>kF(le,s,d,_,b,D,p,A)),yz({bufferSize:1,refCount:!1}));if(gd(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,bt.of)(null);else{ie.pipe(Ll()).subscribe();const qe=ie.pipe((0,_i.w)(at=>at.getRedirectResult().then(Ft=>Ft,()=>null)),Wn.iC,yz({bufferSize:1,refCount:!1})),nt=ie.pipe((0,_i.w)(at=>new Ni.y(Ft=>({unsubscribe:s.runOutsideAngular(()=>at.onAuthStateChanged(Nt=>Ft.next(Nt),Nt=>Ft.error(Nt),()=>Ft.complete()))})))),ot=ie.pipe((0,_i.w)(at=>new Ni.y(Ft=>({unsubscribe:s.runOutsideAngular(()=>at.onIdTokenChanged(Nt=>Ft.next(Nt),Nt=>Ft.error(Nt),()=>Ft.complete()))}))));this.authState=qe.pipe(vz(nt),(0,sF.R)(c.outsideAngular),(0,rT.Q)(c.insideAngular)),this.user=qe.pipe(vz(ot),(0,sF.R)(c.outsideAngular),(0,rT.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,_i.w)(at=>at?(0,$n.D)(at.getIdToken()):(0,bt.of)(null))),this.idTokenResult=this.user.pipe((0,_i.w)(at=>at?(0,$n.D)(at.getIdTokenResult()):(0,bt.of)(null))),this.credential=(0,Bc.T)(qe,U,this.authState.pipe((0,Er.h)(at=>!at))).pipe((0,yt.U)(at=>at?.user?at:null),(0,sF.R)(c.outsideAngular),(0,rT.Q)(c.insideAngular))}return(0,Hr.pX)(this,ie,s,{spy:{apply:(le,qe,nt)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&nt.then(ot=>U.next(ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr.Dh),l.LFG(Hr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(SF,8),l.LFG(IF,8),l.LFG(TF,8),l.LFG(MF,8),l.LFG(AF,8),l.LFG(RF,8),l.LFG(Gw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zz(n,e){return function RX(n,e=p0.z){return new Ni.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function OF(n,e){return zz(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function fT(n,e){return OF(n,e).pipe(Nl(void 0),tO(),(0,yt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=t?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function Gz(n,e,t){return fT(n,t).pipe((0,Ul.R)((i,r)=>function OX(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PX(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return PF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return PF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,T0.x)(),(0,yt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function PF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function $z(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Wz{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=fT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nl(void 0),tO(),(0,Er.h)(([i,r])=>r.length>0||!i),(0,yt.U)(([i,r])=>r),Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ul.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$z(e);return Gz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return OF(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Wn.iC)}get(e){return(0,$n.D)(this.query.get(e)).pipe(Wn.iC)}add(e){return this.ref.add(e)}doc(e){return new qz(this.ref.doc(e),this.afs)}}class qz{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Zz(i,t);return new Wz(r,s,this.afs)}snapshotChanges(){return function kX(n,e){return zz(n,e).pipe(Nl(void 0),tO(),(0,yt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$n.D)(this.ref.get(e)).pipe(Wn.iC)}}class FX{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?fT(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Er.h)(t=>t.length>0),Wn.iC):fT(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ul.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$z(e);return Gz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return OF(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Wn.iC)}get(e){return(0,$n.D)(this.query.get(e)).pipe(Wn.iC)}}const Kz=new l.OlP("angularfire2.enableFirestorePersistence"),Yz=new l.OlP("angularfire2.firestore.persistenceSettings"),NX=new l.OlP("angularfire2.firestore.settings"),LX=new l.OlP("angularfire2.firestore.use-emulator");function Zz(n,e=(t=>t)){return{query:e(n),ref:n}}let Qz=(()=>{class n{constructor(t,i,r,s,c,d,p,_,b,D,A,L,U,ie,le,qe,nt){this.schedulers=p;const ot=(0,Hr.on)(t,d,i),at=b;D&&kF(ot,d,A,U,ie,le,L,qe),[this.firestore,this.persistenceEnabled$]=(0,Hr.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const Ft=d.runOutsideAngular(()=>ot.firestore());if(s&&Ft.settings(s),at&&Ft.useEmulator(...at),r&&!gd(c)){const Nt=()=>{try{return(0,$n.D)(Ft.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),(0,bt.of)(!1)}};return[Ft,d.runOutsideAngular(Nt)]}return[Ft,(0,bt.of)(!1)]},[s,at,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=Zz(r,i),d=this.schedulers.ngZone.run(()=>s);return new Wz(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new FX(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new qz(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr.Dh),l.LFG(Hr.xv,8),l.LFG(Kz,8),l.LFG(NX,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(Yz,8),l.LFG(LX,8),l.LFG(hT,8),l.LFG(SF,8),l.LFG(IF,8),l.LFG(TF,8),l.LFG(MF,8),l.LFG(AF,8),l.LFG(RF,8),l.LFG(Gw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BX=(()=>{class n{constructor(){DF.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Kz,useValue:!0},{provide:Yz,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Qz]}),n})();class Oy{constructor(){this.storeDataSubjects=new Map}init(){Object.keys(localStorage).forEach(t=>{const i=JSON.parse(localStorage[t]);i&&this.storeDataSubjects.set(t,new qr.X(i))})}watch(e){this.storeDataSubjects.has(e)||this.storeDataSubjects.set(e,new qr.X(null));let t=localStorage.getItem(e),i=this.storeDataSubjects.get(e);return t="undefined"==t?void 0:JSON.parse(t),i&&i.next(t),i?i.asObservable():null}set(e,t){let i=JSON.stringify(t);localStorage.setItem(e,i);let r=this.storeDataSubjects.get(e);this.storeDataSubjects.has(e)&&r?r.next(t):this.storeDataSubjects.set(e,new qr.X(i))}get(e){let t=localStorage.getItem(e);return JSON.parse(t)}remove(e){localStorage.removeItem(e);let t=this.storeDataSubjects.get(e);this.storeDataSubjects.has(e)&&t?t.next(null):this.storeDataSubjects.set(e,new qr.X(null))}getKeyList(e){return Array.from(this.storeDataSubjects.keys()).filter(i=>i.includes(e))}}Oy.\u0275fac=function(e){return new(e||Oy)},Oy.\u0275prov=l.Yz7({token:Oy,factory:Oy.\u0275fac,providedIn:"root"});class Zl{constructor(e,t,i,r,s){var c=this;this.afs=e,this.afAuth=t,this.router=i,this.storageService=r,this.store=s,this.isUserAuthenticated=!1,this.afAuth.authState.subscribe(function(){var d=(0,Me.Z)(function*(p){p?(c.isUserAuthenticated=!0,c.storageService.set("users",p),yield c.router.navigate(["home"])):c.storageService.set("users",!1)});return function(p){return d.apply(this,arguments)}}())}setUserData(e){var t=this;return(0,Me.Z)(function*(){return t.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})})()}signIn(e,t){var i=this;return(0,Me.Z)(function*(){return i.afAuth.signInWithEmailAndPassword(e,t).then(r=>{i.afAuth.authState.subscribe(s=>{s&&(i.isUserAuthenticated=!0,i.setUserData(r.user),i.storageService.set("users",s),i.router.navigate(["home"]))})})})()}signOut(){var e=this;return(0,Me.Z)(function*(){return e.afAuth.signOut().then(()=>{e.isUserAuthenticated=!1,e.store.dispatch(kU.setUserLoggedIn({userAuthenticated:e.isUserAuthenticated})),localStorage.removeItem("user"),e.router.navigate(["login"])})})()}signUp(e,t){var i=this;return(0,Me.Z)(function*(){return i.afAuth.createUserWithEmailAndPassword(e,t).then(r=>{i.setUserData(r.user)})})()}sendVerificationMail(){var e=this;return(0,Me.Z)(function*(){return e.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{e.router.navigate(["verify-email-address"])})})()}forgotPassword(e){return this.afAuth.sendPasswordResetEmail(e,{url:"https://alexchristianqr.github.io/game-apps/#/login"})}get isLoggedIn(){return this.isUserAuthenticated}googleAuth(){var e=this;return(0,Me.Z)(function*(){return e.authLogin(new TK.Q).then(t=>{e.router.navigate(["home"])})})()}authLogin(e){var t=this;return(0,Me.Z)(function*(){return t.afAuth.signInWithPopup(e).then(i=>{t.router.navigate(["home"]),t.setUserData(i.user)}).catch(i=>{window.alert(i)})})()}}Zl.\u0275fac=function(e){return new(e||Zl)(l.LFG(Qz),l.LFG(hT),l.LFG(Ur),l.LFG(Oy),l.LFG(Cs.yh))},Zl.\u0275prov=l.Yz7({token:Zl,factory:Zl.\u0275fac,providedIn:"root"});class Im{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!!this.authService.isLoggedIn||this.router.navigate(["login"])}}Im.\u0275fac=function(e){return new(e||Im)(l.LFG(Zl),l.LFG(Ur))},Im.\u0275prov=l.Yz7({token:Im,factory:Im.\u0275fac,providedIn:"root"});const UX=[{path:"home",component:L0,canActivate:[Im]}];class Py{}Py.\u0275fac=function(e){return new(e||Py)},Py.\u0275mod=l.oAB({type:Py}),Py.\u0275inj=l.cJS({imports:[_r,Qu,$l,Bp.forRoot(UX,{useHash:!0})]});var VX=T(7712);function HX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",16),l.NdJ("click",function(){const s=l.CHM(t).index,c=l.oxw();return l.KtG(c.makeHumanMove(s))}),l.TgZ(1,"div")(2,"div",17),l._uU(3),l.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;l.xp6(1),l.Tol("div"+i),l.xp6(2),l.hij(" ","X"===t||"O"===t?t:""," ")}}function jX(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",19),l._uU(2),l.qZA()()),2&n){const t=l.oxw(2);l.xp6(2),l.Oqu(t.winner)}}function zX(n,e){if(1&n&&(l.TgZ(0,"mat-card-content")(1,"mat-grid-list",18)(2,"mat-grid-tile"),l.YNc(3,jX,3,1,"div",9),l.qZA()()()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngIf",!t.playing)}}function GX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.toggleGame(!0))}),l._uU(1,"Empezar juego"),l.qZA()}}function $X(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.toggleGame(!1))}),l._uU(1,"Reiniciar partida"),l.qZA()}}function WX(n,e){if(1&n&&(l.TgZ(0,"mat-option",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.text)}}const{GameStep:qX}=VX.Z;class $w{constructor(){this.gameBoard=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],this.gameState=[0,1,2,3,4,5,6,7,8],this.playing=!1,this.computerFirst=!1,this.dataLevels=[{value:"Easy",text:"F\xe1cil"},{value:"Normal",text:"Normal"},{value:"Hard",text:"Dif\xedcil"}],this.difficulty="Normal",this.breakpoint=1,this.breakpoint2=8,this.breakpoint3=6}ngOnInit(){this.breakpoint=window.innerWidth<=319?3:1}onResize(e){this.breakpoint=e.target.innerWidth<=319?2:1}toggleGame(e){e!==this.playing&&(this.gameBoard=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],this.gameState=[0,1,2,3,4,5,6,7,8],this.winner=void 0,e&&this.computerFirst&&this.makeComputerMove(),this.playing=e)}makeHumanMove(e){!this.playing||"number"!=typeof this.gameState[e]||(this.gameState[e]="X",setTimeout(()=>{this.makeComputerMove()},250))}makeComputerMove(){const i=qX(this.gameState,{huPlayer:"X",aiPlayer:"O"},this.difficulty);this.gameState=i.board,i.winner&&(this.winner={huPlayer:"\xa1Ganaste t\xfa \u{1f9d1}!",aiPlayer:"\xa1Gan\xf3 el robot \u{1f916}!",draw:"\xa1Es un empate!"}[i.winner],this.playing=!1)}checkForWinner(e){let t=[];for(let i=0;i<3;i++)e[i][0]===e[i][1]&&e[i][1]===e[i][2]&&t.push(e[i][0]);for(let i=0;i<3;i++)e[0][i]===e[1][i]&&e[1][i]===e[2][i]&&t.push(e[0][i]);return e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&t.push(e[0][0]),e[0][2]===e[1][1]&&e[1][1]===e[2][0]&&t.push(e[0][2]),null}}$w.\u0275fac=function(e){return new(e||$w)},$w.\u0275cmp=l.Xpm({type:$w,selectors:[["app-game"]],decls:42,vars:9,consts:[[1,"row"],[1,"col","col-2","mx-auto"],["mat-button","","routerLink","/home"],[1,"col","col-10","mx-auto","my-auto"],[3,"cols","rowHeight","resize"],[1,"parent"],[3,"click",4,"ngFor","ngForOf"],["cols","2","rowHeight","6:2"],[2,"text-align","center"],[4,"ngIf"],["cols","1","rowHeight","4:1"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["color","primary",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"playing",2,"align-items","center","display","flex","height","100%","justify-content","center","width","100%"],["cols","1","rowHeight","9:2"],[2,"font-weight","bold","font-size","1.25rem"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0)(3,"div",1)(4,"button",2)(5,"mat-icon"),l._uU(6,"arrow_back "),l.qZA()()(),l.TgZ(7,"div",3)(8,"h1"),l._uU(9,"Tres en linea"),l.qZA()()()(),l.TgZ(10,"mat-card-content")(11,"mat-grid-list",4),l.NdJ("resize",function(r){return t.onResize(r)},!1,l.Jf7),l.TgZ(12,"mat-grid-tile")(13,"div",5),l.YNc(14,HX,4,3,"div",6),l.qZA()()()(),l.TgZ(15,"mat-card-content")(16,"mat-grid-list",7)(17,"mat-grid-tile")(18,"div",8)(19,"strong"),l._uU(20,"X"),l.qZA()()(),l.TgZ(21,"mat-grid-tile")(22,"div",8)(23,"strong"),l._uU(24,"O"),l.qZA()()()()(),l.YNc(25,zX,4,1,"mat-card-content",9),l.TgZ(26,"mat-card-content")(27,"mat-grid-list",10)(28,"mat-grid-tile")(29,"div",8),l.YNc(30,GX,2,0,"button",11),l.YNc(31,$X,2,0,"button",12),l.qZA()()(),l.TgZ(32,"mat-grid-list",10)(33,"mat-grid-tile")(34,"mat-slide-toggle",13),l.NdJ("ngModelChange",function(r){return t.computerFirst=r}),l._uU(35,"\u{1f916} El Robot empieza primero"),l.qZA()(),l.TgZ(36,"mat-grid-tile")(37,"mat-form-field")(38,"mat-label"),l._uU(39,"Nivel"),l.qZA(),l.TgZ(40,"mat-select",14),l.NdJ("ngModelChange",function(r){return t.difficulty=r}),l.YNc(41,WX,2,2,"mat-option",15),l.qZA()()()()()()),2&e&&(l.xp6(11),l.Q6J("cols",t.breakpoint)("rowHeight",t.breakpoint2+":"+t.breakpoint3),l.xp6(3),l.Q6J("ngForOf",t.gameState),l.xp6(11),l.Q6J("ngIf",!t.playing&&t.winner),l.xp6(5),l.Q6J("ngIf",!t.playing),l.xp6(1),l.Q6J("ngIf",t.playing),l.xp6(3),l.Q6J("ngModel",t.computerFirst),l.xp6(6),l.Q6J("ngModel",t.difficulty),l.xp6(1),l.Q6J("ngForOf",t.dataLevels))},dependencies:[Jr,Oi,vS,z_,G_,$_,W_,O0,Y_,wU,nK,d2,FS,IU,op,pp,Gl],styles:[".parent[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:0;grid-row-gap:0}.div0[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:5rem;background-color:#f1f1f1}.div1[_ngcontent-%COMP%]{grid-area:1/2/2/3;width:100%;height:5rem;background-color:#f8f8f8}.div2[_ngcontent-%COMP%]{grid-area:1/3/2/4;width:100%;height:5rem;background-color:#f1f1f1}.div3[_ngcontent-%COMP%]{grid-area:2/1/3/2;width:100%;height:5rem;background-color:#f8f8f8}.div4[_ngcontent-%COMP%]{grid-area:2/2/3/3;width:100%;height:5rem;background-color:#f1f1f1}.div5[_ngcontent-%COMP%]{grid-area:2/3/3/4;width:100%;height:5rem;background-color:#f8f8f8}.div6[_ngcontent-%COMP%]{grid-area:3/1/4/2;width:100%;height:5rem;background-color:#f1f1f1}.div7[_ngcontent-%COMP%]{grid-area:3/2/4/3;width:100%;height:5rem;background-color:#f8f8f8}.div8[_ngcontent-%COMP%]{grid-area:3/3/4/4;width:100%;height:5rem;background-color:#f1f1f1}.playing[_ngcontent-%COMP%]{cursor:pointer}"]});const KX=[{path:"game",component:$w,canActivate:[Im]}];class Fy{}Fy.\u0275fac=function(e){return new(e||Fy)},Fy.\u0275mod=l.oAB({type:Fy}),Fy.\u0275inj=l.cJS({imports:[_r,Qu,$l,Bp.forRoot(KX,{useHash:!0})]});var YX=T(5032);class ad{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return Xz(this,e)}do(e,t,i){const{kind:r,value:s,error:c}=this;return"N"===r?e?.(s):"E"===r?t?.(c):i?.()}accept(e,t,i){var r;return(0,Kr.m)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,r="N"===e?(0,bt.of)(t):"E"===e?Fo(()=>i):"C"===e?Vs.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new ad("N",e)}static createError(e){return new ad("E",void 0,e)}static createComplete(){return ad.completeNotification}}function Xz(n,e){var t,i,r;const{kind:s,value:c,error:d}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,c):"E"===s?null===(i=e.error)||void 0===i||i.call(e,d):null===(r=e.complete)||void 0===r||r.call(e)}function Jz(n,e,t,i){return(0,Zi.e)((r,s)=>{let c;e&&"function"!=typeof e?({duration:t,element:c,connector:i}=e):c=e;const d=new Map,p=U=>{d.forEach(U),U(s)},_=U=>p(ie=>ie.error(U));let b=0,D=!1;const A=new sr.Q(s,U=>{try{const ie=n(U);let le=d.get(ie);if(!le){d.set(ie,le=i?i():new rn.x);const qe=function L(U,ie){const le=new Ni.y(qe=>{b++;const nt=ie.subscribe(qe);return()=>{nt.unsubscribe(),0==--b&&D&&A.unsubscribe()}});return le.key=U,le}(ie,le);if(s.next(qe),t){const nt=(0,sr.x)(le,()=>{le.complete(),nt?.unsubscribe()},void 0,void 0,()=>d.delete(ie));A.add((0,vc.Xf)(t(qe)).subscribe(nt))}}le.next(c?c(U):U)}catch(ie){_(ie)}},()=>p(U=>U.complete()),_,()=>d.clear(),()=>(D=!0,0===b));r.subscribe(A)})}function eG(n,e){return e?t=>t.pipe(eG((i,r)=>(0,vc.Xf)(n(i,r)).pipe((0,yt.U)((s,c)=>e(i,s,r,c))))):(0,Zi.e)((t,i)=>{let r=0,s=null,c=!1;t.subscribe((0,sr.x)(i,d=>{s||(s=(0,sr.x)(i,void 0,()=>{s=null,c&&i.complete()}),(0,vc.Xf)(n(d,r++)).subscribe(s))},()=>{c=!0,!s&&i.complete()}))})}ad.completeNotification=new ad("C");const pT="__@ngrx/effects_create__";function nG(n){return Object.getPrototypeOf(n)}function FF(n){return"function"==typeof n}function NF(n){return n.filter(FF)}function nJ(n,e,t){const i=nG(n).constructor.name,r=function tG(n){return function eJ(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(pT))&&n[i][pT].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][pT]}))}(n)}(n).map(({propertyName:s,dispatch:c,useEffectsErrorHandler:d})=>{const p="function"==typeof n[s]?n[s]():n[s],_=d?t(p,e):p;return!1===c?_.pipe(function ZX(){return(0,Zi.e)((n,e)=>{n.subscribe((0,sr.x)(e,YX.Z))})}()):_.pipe(function QX(){return(0,Zi.e)((n,e)=>{n.subscribe((0,sr.x)(e,t=>{e.next(ad.createNext(t))},()=>{e.next(ad.createComplete()),e.complete()},t=>{e.next(ad.createError(t)),e.complete()}))})}()).pipe((0,yt.U)(D=>({effect:n[s],notification:D,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,Bc.T)(...r)}function iG(n,e,t=10){return n.pipe((0,Qa.K)(i=>(e&&e.handleError(i),t<=1?n:iG(n,e,t-1))))}let rJ=(()=>{class n extends Ni.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Y$))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rG=new l.OlP("@ngrx/effects Internal Root Guard"),mT=new l.OlP("@ngrx/effects User Provided Effects"),LF=new l.OlP("@ngrx/effects Internal Root Effects"),sG=new l.OlP("@ngrx/effects Internal Root Effects Instances"),oG=new l.OlP("@ngrx/effects Internal Feature Effects"),aG=new l.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),sJ=new l.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>iG}),lG="@ngrx/effects/init";function gJ(n){return BF(n,"ngrxOnInitEffects")}function BF(n,e){return n&&e in n&&"function"==typeof n[e]}(0,Cs.PH)(lG);let UF=(()=>{class n extends rn.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Jz(t=>function tJ(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?nG(t):t),(0,Zr.z)(t=>t.pipe(Jz(_J))),(0,Zr.z)(t=>{const i=t.pipe(eG(s=>function yJ(n,e){return t=>{const i=nJ(t,n,e);return function pJ(n){return BF(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,yt.U)(s=>(function aJ(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function lJ(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function cJ({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function uJ(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,Er.h)(s=>"N"===s.kind&&null!=s.value),function XX(){return(0,Zi.e)((n,e)=>{n.subscribe((0,sr.x)(e,t=>Xz(t,e)))})}()),r=t.pipe((0,ws.q)(1),(0,Er.h)(gJ),(0,yt.U)(s=>s.ngrxOnInitEffects()));return(0,Bc.T)(i,r)}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.qLn),l.LFG(sJ))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _J(n){return function hJ(n){return BF(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let VF=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UF),l.LFG(Cs.yh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cG=(()=>{class n{constructor(t,i,r,s,c,d,p){this.sources=t,i.start();for(const _ of s)t.addEffects(_);r.dispatch({type:lG})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UF),l.LFG(VF),l.LFG(Cs.yh),l.LFG(sG),l.LFG(Cs.cr,8),l.LFG(Cs.CK,8),l.LFG(rG,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),vJ=(()=>{class n{constructor(t,i,r,s){const c=i.flat();for(const d of c)t.addEffects(d)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cG),l.LFG(aG),l.LFG(Cs.cr,8),l.LFG(Cs.CK,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),uG=(()=>{class n{static forFeature(...t){const i=t.flat(),r=NF(i);return{ngModule:vJ,providers:[r,{provide:oG,multi:!0,useValue:i},{provide:mT,multi:!0,useValue:[]},{provide:aG,multi:!0,useFactory:dG,deps:[oG,mT]}]}}static forRoot(...t){const i=t.flat(),r=NF(i);return{ngModule:cG,providers:[r,{provide:LF,useValue:[i]},{provide:rG,useFactory:bJ},{provide:mT,multi:!0,useValue:[]},{provide:sG,useFactory:dG,deps:[LF,mT]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function dG(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>FF(i)?(0,l.f3M)(i):i)}function bJ(){const n=(0,l.f3M)(VF,{optional:!0,skipSelf:!0}),e=(0,l.f3M)(LF,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}class Ny{constructor(e,t){this.actions$=e,this.store$=t}}Ny.\u0275fac=function(e){return new(e||Ny)(l.LFG(rJ),l.LFG(Cs.yh))},Ny.\u0275prov=l.Yz7({token:Ny,factory:Ny.\u0275fac});const EJ=(0,Cs.Tz)({name:"auth",reducer:(0,Cs.Lq)({isLoggedIn:!1},(0,Cs.on)(kU.setUserLoggedIn,(n,e)=>({isLoggedIn:e.userAuthenticated})))});function CJ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"El usuario o la contrase\xf1a no es v\xe1lido"),l.qZA())}function xJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onSubmit())}),l._uU(1,"Entrar"),l.qZA()}}function DJ(n,e){1&n&&(l.TgZ(0,"button",15),l._uU(1,"Entrando..."),l.qZA())}class Ww{constructor(e,t){this.formBuilder=e,this.authService=t,this.loading=!1,this.hidePwd=!0,this.formGroup=e.group({email:e.control("invitado@gmail.com",[Oo.required,Oo.email]),password:e.control("Invitado2023.",[Oo.required])})}onSubmit(){var e=this;return(0,Me.Z)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:t,password:i}=e.formGroup.value;return e.authService.signIn(t,i).catch(()=>{e.submitted=!1,e.loading=!1})})()}}function SJ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"El usuario no se ha registrado, vuelve a intentarlo"),l.qZA())}function IJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onSubmit())}),l._uU(1,"Registar"),l.qZA()}}function TJ(n,e){1&n&&(l.TgZ(0,"button",12),l._uU(1,"Registrando..."),l.qZA()),2&n&&l.Q6J("disabled",!0)}Ww.\u0275fac=function(e){return new(e||Ww)(l.Y36(lx),l.Y36(Zl))},Ww.\u0275cmp=l.Xpm({type:Ww,selectors:[["app-login"]],decls:36,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"row"],[1,"col","col-12"],[1,"float-end"],["mat-button","","routerLink","/forgot"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","disabled","",4,"ngIf"],["mat-button","","routerLink","/register"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","disabled",""]],template:function(e,t){1&e&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),l._uU(3,"Inicio de sesi\xf3n"),l.qZA()(),l.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Email"),l.qZA(),l._UZ(10,"input",3),l.TgZ(11,"mat-error"),l._uU(12,"Ingrese un email v\xe1lido"),l.qZA()(),l.TgZ(13,"mat-form-field",2)(14,"mat-label"),l._uU(15,"Contrase\xf1a"),l.qZA(),l._UZ(16,"input",4),l.TgZ(17,"button",5),l.NdJ("click",function(){return t.hidePwd=!t.hidePwd}),l.TgZ(18,"mat-icon"),l._uU(19),l.qZA()(),l.TgZ(20,"mat-error"),l._uU(21,"Ingrese una contrase\xf1a v\xe1lida"),l.qZA()(),l.TgZ(22,"div",6)(23,"div",7)(24,"div",8)(25,"a",9),l._uU(26,"Olvide mi contrase\xf1a"),l.qZA()()()(),l.YNc(27,CJ,2,0,"mat-error",10),l.qZA()()(),l.TgZ(28,"mat-card-footer"),l.YNc(29,xJ,2,0,"button",11),l.YNc(30,DJ,2,0,"button",12),l.qZA(),l.TgZ(31,"mat-card-footer")(32,"div"),l._uU(33,"\xbfNo tienes una cuenta? "),l.TgZ(34,"a",13),l._uU(35,"registrate"),l.qZA()()()()),2&e&&(l.xp6(5),l.Q6J("formGroup",t.formGroup),l.xp6(11),l.Q6J("type",t.hidePwd?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",t.hidePwd),l.xp6(2),l.Oqu(t.hidePwd?"visibility_off":"visibility"),l.xp6(8),l.Q6J("ngIf",!1===t.submitted),l.xp6(2),l.Q6J("ngIf",!t.loading),l.xp6(1),l.Q6J("ngIf",t.loading))},dependencies:[Oi,xk,vS,z_,bk,y2,G_,$_,bS,W_,O0,Vk,Y_,Hk,FS,Wg,wc,op,kg,ih,xc,qg,Gl]});class qw{constructor(e,t,i,r){this.formBuilder=e,this.route=t,this.router=i,this.authService=r,this.loading=!1,this.hidePwd=!0,this.formGroup=e.group({displayName:e.control(null,[Oo.required]),email:e.control(null,[Oo.required,Oo.email]),password:e.control(null,[Oo.required,Oo.minLength(6)])})}ngOnInit(){this.formGroup.reset({displayName:null,email:null,password:null,emailVerified:null,photoURL:null})}onSubmit(){var e=this;return(0,Me.Z)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:t,password:i}=e.formGroup.value;return e.authService.signUp(t,i).catch(r=>{e.submitted=!1,e.loading=!1})})()}}function MJ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"No se ha enviado el enlace"),l.qZA())}function AJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onSubmit())}),l._uU(1,"Enviar enlace"),l.qZA()}}function RJ(n,e){1&n&&(l.TgZ(0,"button",9),l._uU(1,"Enviando..."),l.qZA()),2&n&&l.Q6J("disabled",!0)}qw.\u0275fac=function(e){return new(e||qw)(l.Y36(lx),l.Y36(Rc),l.Y36(Ur),l.Y36(Zl))},qw.\u0275cmp=l.Xpm({type:qw,selectors:[["app-register"]],decls:37,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["matInput","","formControlName","displayName","name","displayname","required",""],["matInput","","type","email","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),l._uU(3,"Crear usuario"),l.qZA()(),l.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Nombre completo"),l.qZA(),l._UZ(10,"input",3),l.TgZ(11,"mat-error"),l._uU(12,"Ingrese un nombre v\xe1lido"),l.qZA()(),l.TgZ(13,"mat-form-field",2)(14,"mat-label"),l._uU(15,"Email"),l.qZA(),l._UZ(16,"input",4),l.TgZ(17,"mat-error"),l._uU(18,"Ingrese un email v\xe1lido"),l.qZA()(),l.TgZ(19,"mat-form-field",2)(20,"mat-label"),l._uU(21,"Contrase\xf1a"),l.qZA(),l._UZ(22,"input",5),l.TgZ(23,"button",6),l.NdJ("click",function(){return t.hidePwd=!t.hidePwd}),l.TgZ(24,"mat-icon"),l._uU(25),l.qZA()(),l.TgZ(26,"mat-error"),l._uU(27,"Ingrese una contrase\xf1a v\xe1lida"),l.qZA()(),l.YNc(28,SJ,2,0,"mat-error",7),l.qZA()()(),l.TgZ(29,"mat-card-footer"),l.YNc(30,IJ,2,0,"button",8),l.YNc(31,TJ,2,1,"button",9),l.qZA(),l.TgZ(32,"mat-card-footer")(33,"div"),l._uU(34,"Ya tengo una cuenta "),l.TgZ(35,"a",10),l._uU(36,"Iniciar sesi\xf3n"),l.qZA()()()()),2&e&&(l.xp6(5),l.Q6J("formGroup",t.formGroup),l.xp6(17),l.Q6J("type",t.hidePwd?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",t.hidePwd),l.xp6(2),l.Oqu(t.hidePwd?"visibility_off":"visibility"),l.xp6(3),l.Q6J("ngIf",!1===t.submitted),l.xp6(2),l.Q6J("ngIf",!t.loading),l.xp6(1),l.Q6J("ngIf",t.loading))},dependencies:[Oi,xk,vS,z_,bk,y2,G_,$_,bS,W_,O0,Vk,Y_,Hk,FS,Wg,wc,op,kg,ih,xc,qg,Gl]});class Kw{constructor(e,t,i,r,s){this.formBuilder=e,this.route=t,this.router=i,this.authService=r,this.snackBar=s,this.loading=!1,this.formGroup=e.group({email:e.control(null,[Oo.required,Oo.email])})}onSubmit(){var e=this;return(0,Me.Z)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:t}=e.formGroup.value;return e.authService.forgotPassword(t).then(()=>{e.submitted=void 0,e.loading=!1,e.snackBar.open("Enlace enviado con \xe9xito, porfavor revise su correo","",{duration:3e3})}).catch(()=>{e.submitted=!1,e.loading=!1,e.snackBar.open("El enlace no se ha enviado","",{duration:3e3})})})()}}Kw.\u0275fac=function(e){return new(e||Kw)(l.Y36(lx),l.Y36(Rc),l.Y36(Ur),l.Y36(Zl),l.Y36(SK))},Kw.\u0275cmp=l.Xpm({type:Kw,selectors:[["app-forgot"]],decls:22,vars:4,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),l._uU(3,"\xbfOlvidaste tu contrase\xf1a?"),l.qZA()(),l.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Email"),l.qZA(),l._UZ(10,"input",3),l.TgZ(11,"mat-error"),l._uU(12,"Ingrese un email v\xe1lido"),l.qZA()(),l.YNc(13,MJ,2,0,"mat-error",4),l.qZA()()(),l.TgZ(14,"mat-card-footer"),l.YNc(15,AJ,2,0,"button",5),l.YNc(16,RJ,2,1,"button",6),l.qZA(),l.TgZ(17,"mat-card-footer")(18,"div"),l._uU(19,"Ya tengo una cuenta "),l.TgZ(20,"a",7),l._uU(21,"Iniciar sesi\xf3n"),l.qZA()()()()),2&e&&(l.xp6(5),l.Q6J("formGroup",t.formGroup),l.xp6(8),l.Q6J("ngIf",!1===t.submitted),l.xp6(2),l.Q6J("ngIf",!t.loading),l.xp6(1),l.Q6J("ngIf",t.loading))},dependencies:[Oi,xk,vS,z_,bk,G_,$_,bS,W_,Vk,Y_,FS,Wg,wc,op,kg,ih,xc,qg,Gl]});const kJ=[{path:"login",component:Ww},{path:"register",component:qw},{path:"forgot",component:Kw}];class Ly{}Ly.\u0275fac=function(e){return new(e||Ly)},Ly.\u0275mod=l.oAB({type:Ly}),Ly.\u0275inj=l.cJS({imports:[_r,Qu,$l,Bp.forRoot(kJ,{useHash:!0}),Cs.Aw.forFeature(EJ),uG.forFeature([Ny])]});class By{}function OJ(n,e){1&n&&(l.TgZ(0,"button",5)(1,"mat-icon"),l._uU(2,"power_settings_new"),l.qZA(),l._uU(3," Login "),l.qZA())}function PJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.logout())}),l.TgZ(1,"mat-icon"),l._uU(2,"exit_to_app"),l.qZA(),l._uU(3," Logout "),l.qZA()}}By.\u0275fac=function(e){return new(e||By)},By.\u0275mod=l.oAB({type:By}),By.\u0275inj=l.cJS({imports:[Py,Fy,Ly]});class Yw{constructor(e){this.authService=e,this.title="GAME APPS",this.destroySub=new rn.x}ngOnDestroy(){this.destroySub.next()}get isAuthenticated(){return this.authService.isUserAuthenticated}logout(){var e=this;return(0,Me.Z)(function*(){return e.authService.signOut()})()}}Yw.\u0275fac=function(e){return new(e||Yw)(l.Y36(Zl))},Yw.\u0275cmp=l.Xpm({type:Yw,selectors:[["app-root"]],decls:16,vars:3,consts:[["color","primary"],["role","button","mat-button","","routerLink","/"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/login",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"button",1)(3,"mat-icon"),l._uU(4,"grid_view"),l.qZA(),l._uU(5),l.qZA()()(),l._UZ(6,"mat-divider"),l.TgZ(7,"mat-toolbar",0)(8,"div")(9,"button",2)(10,"mat-icon"),l._uU(11,"home"),l.qZA(),l._uU(12,"Home"),l.qZA(),l.YNc(13,OJ,4,0,"button",3),l.YNc(14,PJ,4,0,"button",4),l.qZA()(),l._UZ(15,"router-outlet")),2&e&&(l.xp6(5),l.hij(" ",t.title," "),l.xp6(8),l.Q6J("ngIf",!t.isAuthenticated),l.xp6(1),l.Q6J("ngIf",t.isAuthenticated))},dependencies:[Oi,__,Gl,I4,k4,h2,O0,Y_]});var FJ=T(1365);const hG="@firebase/database";let HF="";function pG(n){HF=n}class LJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,V.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,V.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class BJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,V.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const mG=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LJ(e)}}catch{}return new BJ},Tm=mG("localStorage"),jF=mG("sessionStorage"),Uy=new ql.Yd("@firebase/database"),gG=function(){let n=1;return function(){return n++}}(),_G=function(n){const e=(0,V.dS)(n),t=new V.gQ;t.update(e);const i=t.digest();return V.US.encodeByteArray(i)},Zw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Zw.apply(null,i):e+="object"==typeof i?(0,V.Wl)(i):i,e+=" "}return e};let Mm=null,yG=!0;const vG=function(n,e){(0,V.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Uy.logLevel=ql.in.VERBOSE,Mm=Uy.log.bind(Uy),e&&jF.set("logging_enabled",!0)):"function"==typeof n?Mm=n:(Mm=null,jF.remove("logging_enabled"))},cs=function(...n){if(!0===yG&&(yG=!1,null===Mm&&!0===jF.get("logging_enabled")&&vG(!0)),Mm){const e=Zw.apply(null,n);Mm(e)}},Qw=function(n){return function(...e){cs(n,...e)}},zF=function(...n){const e="FIREBASE INTERNAL ERROR: "+Zw(...n);Uy.error(e)},Wc=function(...n){const e=`FIREBASE FATAL ERROR: ${Zw(...n)}`;throw Uy.error(e),new Error(e)},Gs=function(...n){const e="FIREBASE WARNING: "+Zw(...n);Uy.warn(e)},gT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},nf="[MIN_NAME]",ld="[MAX_NAME]",Am=function(n,e){if(n===e)return 0;if(n===nf||e===ld)return-1;if(e===nf||n===ld)return 1;{const t=EG(n),i=EG(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},HJ=function(n,e){return n===e?0:n<e?-1:1},Xw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Wl)(e))},GF=function(n){if("object"!=typeof n||null===n)return(0,V.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,V.Wl)(e[i]),t+=":",t+=GF(n[e[i]]);return t+="}",t},bG=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function us(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const wG=function(n){(0,V.hu)(!gT(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let A=parseInt(b.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),D+=A}return D.toLowerCase()},$J=new RegExp("^-?(0*)\\d{1,10}$"),EG=function(n){if($J.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Vy=function(n){try{n()}catch(e){setTimeout(()=>{throw Gs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Jw=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class YJ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Gs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ZJ{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gs(e)}}let eE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const IG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AG="websocket",RG="long_polling";class WF{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function kG(n,e,t){let i;if((0,V.hu)("string"==typeof e,"typeof type must == string"),(0,V.hu)("object"==typeof t,"typeof params must == object"),e===AG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==RG)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function QJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return us(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class XJ{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,V.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,V.p$)(this.counters_)}}const qF={},KF={};function YF(n){const e=n.toString();return qF[e]||(qF[e]=new XJ),qF[e]}class eee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Vy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rf{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qw(e),this.stats_=YF(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),kG(t,RG,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new eee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ZF((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&IG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rf.forceAllow_=!0}static forceDisallow(){rf.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!rf.forceAllow_&&(rf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,V.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,V.h$)(t),r=bG(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,V.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ZF{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=gG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ZF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){cs("frame writing exception"),d.stack&&cs(d.stack),cs(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||cs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,V.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{cs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let yT=null;typeof MozWebSocket<"u"?yT=MozWebSocket:typeof WebSocket<"u"&&(yT=WebSocket);let Hy=(()=>{class n{constructor(t,i,r,s,c,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qw(this.connId),this.stats_=YF(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&IG.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),kG(t,AG,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tm.set("previous_websocket_failure",!0);try{let r;if((0,V.Yr)()){r={headers:{"User-Agent":`Firebase/5/${HF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new yT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==yT&&!n.forceDisallow_}static previouslyFailed(){return Tm.isInMemoryStorage||!0===Tm.get("previous_websocket_failure")}markConnectionHealthy(){Tm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,V.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,V.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=bG(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),UG=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[rf,Hy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Hy&&Hy.isAvailable();let r=i&&!Hy.previouslyFailed();if(t.webSocketOnly&&(i||Gs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class WG{constructor(e,t,i,r,s,c,d,p,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qw("c:"+this.id+":"),this.transportManager_=new UG(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Jw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xw("t",e),i=Xw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xw("t",e),i=Xw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?zF("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zF("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Gs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Jw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qG{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class KG{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,V.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,V.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class vT extends KG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vT}getInitialEvent(e){return(0,V.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Kn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Hn(){return new Kn("")}function wn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function sf(n){return n.pieces_.length-n.pieceNum_}function fi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Kn(n.pieces_,e)}function XF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function tE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function QG(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Kn(e,0)}function Hi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Kn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Kn(t,0)}function En(n){return n.pieceNum_>=n.pieces_.length}function fo(n,e){const t=wn(n),i=wn(e);if(null===t)return e;if(t===i)return fo(fi(n),fi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Eee(n,e){const t=tE(n,0),i=tE(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Am(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function JF(n,e){if(sf(n)!==sf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function il(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(sf(n)>sf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Cee{constructor(e,t){this.errorPrefix_=t,this.parts_=tE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);XG(this)}}function XG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rm(n))}function Rm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eN extends KG{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new eN}getInitialEvent(e){return(0,V.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const nE=1e3;let wT,km=(()=>{class n extends qG{constructor(t,i,r,s,c,d,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Qw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&vT.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,V.Wl)(c)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new V.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,V.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,V.r3)(t,"w")){const r=(0,V.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Gs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,V.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,V.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,V.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,V.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):zF("Unrecognized action received from server: "+(0,V.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Me.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};t.realtime_={close:b,sendRequest:function(L){(0,V.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(L)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[L,U]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);p?cs("getToken() completed but was canceled"):(cs("getToken() completed. Creating connection."),t.authToken_=L&&L.accessToken,t.appCheckToken_=U&&U.token,_=new WG(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ie=>{Gs(ie+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(L){t.log_("Failed to get token: "+L),p||(t.repoInfo_.nodeAdmin&&Gs(L),b())}}})()}interrupt(t){cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=nE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>GF(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Kn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){cs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){cs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+HF.replace(/\./g,"-")]=1,(0,V.uI)()?t["framework.cordova"]=1:(0,V.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vT.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Sn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Sn(e,t)}}class bT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Sn(nf,e),r=new Sn(nf,t);return 0!==this.compare(i,r)}minPost(){return Sn.MIN}}class t$ extends bT{static get __EMPTY_NODE(){return wT}static set __EMPTY_NODE(e){wT=e}compare(e,t){return Am(e.name,t.name)}isDefinedOn(e){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Sn.MIN}maxPost(){return new Sn(ld,wT)}makePost(e,t){return(0,V.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Sn(e,wT)}toString(){return".key"}}const qc=new t$;class ET{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nN,Ql=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??zo.EMPTY_NODE,this.right=c??zo.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return zo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class zo{constructor(e,t=zo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ql.BLACK,null,null))}remove(e){return new zo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ql.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ET(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ET(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ET(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ET(this.root_,null,this.comparator_,!0,e)}}function Ree(n,e){return Am(n.name,e.name)}function tN(n,e){return Am(n,e)}zo.EMPTY_NODE=new class Aee{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ql(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const n$=function(n){return"number"==typeof n?"number:"+wG(n):"string:"+n},i$=function(n){if(n.isLeafNode()){const e=n.val();(0,V.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,V.r3)(e,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===nN||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===nN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let r$,s$,o$,jy=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),i$(this.priorityNode_)}static set __childrenNodeConstructor(t){r$=t}static get __childrenNodeConstructor(){return r$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return En(t)?this:".priority"===wn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=wn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,V.hu)(".priority"!==r||1===sf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(fi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+n$(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?wG(this.value_):this.value_,this.lazyHash_=_G(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,V.hu)(s>=0,"Unknown leaf type: "+i),(0,V.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const yi=new class Fee extends bT{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Am(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Sn.MIN}maxPost(){return new Sn(ld,new jy("[PRIORITY-POST]",o$))}makePost(e,t){const i=s$(e);return new Sn(t,new jy("[PRIORITY-POST]",i))}toString(){return".priority"}},Nee=Math.log(2);class Lee{constructor(e){this.count=parseInt(Math.log(e+1)/Nee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const CT=function(n,e,t,i){n.sort(e);const r=function(p,_){const b=_-p;let D,A;if(0===b)return null;if(1===b)return D=n[p],A=t?t(D):D,new Ql(A,D.node,Ql.BLACK,null,null);{const L=parseInt(b/2,10)+p,U=r(p,L),ie=r(L+1,_);return D=n[L],A=t?t(D):D,new Ql(A,D.node,Ql.BLACK,U,ie)}},d=function(p){let _=null,b=null,D=n.length;const A=function(U,ie){const le=D-U,qe=D;D-=U;const nt=r(le+1,qe),ot=n[le],at=t?t(ot):ot;L(new Ql(at,ot.node,ie,null,nt))},L=function(U){_?(_.left=U,_=U):(b=U,_=U)};for(let U=0;U<p.count;++U){const ie=p.nextBitIsOne(),le=Math.pow(2,p.count-(U+1));ie?A(le,Ql.BLACK):(A(le,Ql.BLACK),A(le,Ql.RED))}return b}(new Lee(n.length));return new zo(i||e,d)};let iN;const zy={};class cd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,V.hu)(zy&&yi,"ChildrenNode.ts has not been loaded"),iN=iN||new cd({".priority":zy},{".priority":yi}),iN}get(e){const t=(0,V.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zo?t:null}hasIndex(e){return(0,V.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,V.hu)(e!==qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Sn.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?CT(i,e.getCompare()):zy;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const b=Object.assign({},this.indexes_);return b[p]=d,new cd(b,_)}addToIndexes(e,t){const i=(0,V.UI)(this.indexes_,(r,s)=>{const c=(0,V.DV)(this.indexSet_,s);if((0,V.hu)(c,"Missing index implementation for "+s),r===zy){if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(Sn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&d.push(_),_=p.getNext();return d.push(e),CT(d,c.getCompare())}return zy}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new Sn(e.name,d))),p.insert(e,e.node)}});return new cd(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,V.UI)(this.indexes_,r=>{if(r===zy)return r;{const s=t.get(e.name);return s?r.remove(new Sn(e.name,s)):r}});return new cd(i,this.indexSet_)}}let iE,hn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&i$(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return iE||(iE=new n(new zo(tN),null,cd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||iE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?iE:i}}getChild(t){const i=wn(t);return null===i?this:this.getImmediateChild(i).getChild(fi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Sn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?iE:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=wn(t);if(null===r)return i;{(0,V.hu)(".priority"!==wn(t)||1===sf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(fi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(yi,(d,p)=>{i[d]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+n$(this.getPriority().val())+":"),this.forEachChild(yi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":_G(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Sn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Sn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Sn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Sn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Sn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===rE?-1:0}withIndex(t){if(t===qc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===qc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(yi),s=i.getIterator(yi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===qc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const rE=new class Bee extends hn{constructor(){super(new zo(tN),hn.EMPTY_NODE,cd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hn.EMPTY_NODE}isEmpty(){return!1}};function Qi(n,e=null){if(null===n)return hn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,V.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jy(n,Qi(e));if(n instanceof Array){let t=hn.EMPTY_NODE;return us(n,(i,r)=>{if((0,V.r3)(n,i)&&"."!==i.substring(0,1)){const s=Qi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Qi(e))}{const t=[];let i=!1;if(us(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Qi(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Sn(c,p)))}}),0===t.length)return hn.EMPTY_NODE;const s=CT(t,Ree,c=>c.name,tN);if(i){const c=CT(t,yi.getCompare());return new hn(s,Qi(e),new cd({".priority":c},{".priority":yi}))}return new hn(s,Qi(e),cd.Default)}}Object.defineProperties(Sn,{MIN:{value:new Sn(nf,hn.EMPTY_NODE)},MAX:{value:new Sn(ld,rE)}}),t$.__EMPTY_NODE=hn.EMPTY_NODE,jy.__childrenNodeConstructor=hn,function kee(n){nN=n}(rE),function Pee(n){o$=n}(rE),function Oee(n){s$=n}(Qi);class rN extends bT{constructor(e){super(),this.indexPath_=e,(0,V.hu)(!En(e)&&".priority"!==wn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Am(e.name,t.name):s}makePost(e,t){const i=Qi(e),r=hn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Sn(t,r)}maxPost(){const e=hn.EMPTY_NODE.updateChild(this.indexPath_,rE);return new Sn(ld,e)}toString(){return tE(this.indexPath_,0).join("/")}}const sN=new class Vee extends bT{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Am(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Sn.MIN}maxPost(){return Sn.MAX}makePost(e,t){const i=Qi(e);return new Sn(t,i)}toString(){return".value"}};function a$(n){return{type:"value",snapshotNode:n}}function Gy(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function sE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function oE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class oN{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,V.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(sE(t,d)):(0,V.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Gy(t,i)):c.trackChildChange(oE(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(yi,(r,s)=>{t.hasChild(r)||i.trackChildChange(sE(r,s))}),t.isLeafNode()||t.forEachChild(yi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(oE(r,s,c))}else i.trackChildChange(Gy(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?hn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class aE{constructor(e){this.indexedFilter_=new oN(e.getIndex()),this.index_=e.getIndex(),this.startPost_=aE.getStartPost_(e),this.endPost_=aE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,c){return this.matches(new Sn(t,i))||(i=hn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=hn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(hn.EMPTY_NODE);const s=this;return t.forEachChild(yi,(c,d)=>{s.matches(new Sn(c,d))||(r=r.updateImmediateChild(c,hn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class jee{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new aE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Sn(t,i))||(i=hn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=hn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=hn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),c++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(hn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const d=s.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:r=r.updateImmediateChild(d.name,hn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(A,L)=>D(L,A)}else c=this.index_.getCompare();const d=e;(0,V.hu)(d.numChildren()===this.limit_,"");const p=new Sn(t,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(t)){const D=d.getImmediateChild(t);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===t||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const L=null==A?1:c(A,p);if(b&&!i.isEmpty()&&L>=0)return s?.trackChildChange(oE(t,i,D)),d.updateImmediateChild(t,i);{s?.trackChildChange(sE(t,D));const ie=d.updateImmediateChild(t,hn.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(s?.trackChildChange(Gy(A.name,A.node)),ie.updateImmediateChild(A.name,A.node)):ie}}return i.isEmpty()?e:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(sE(_.name,_.node)),s.trackChildChange(Gy(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(_.name,hn.EMPTY_NODE)):e}}class xT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ld}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yi}copy(){const e=new xT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aN(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function lN(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function DT(n,e){const t=n.copy();return t.index_=e,t}function l$(n){const e={};if(n.isDefault())return e;let t;if(n.index_===yi?t="$priority":n.index_===sN?t="$value":n.index_===qc?t="$key":((0,V.hu)(n.index_ instanceof rN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,V.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,V.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,V.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,V.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,V.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function c$(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==yi&&(e.i=n.index_.toString()),e}class ST extends qG{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Qw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,V.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=ST.getListenId_(e,i),d={};this.listens_[c]=d;const p=l$(e._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,V.DV)(this.listens_,c)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(e,t){const i=ST.getListenId_(e,t);delete this.listens_[i]}get(e){const t=l$(e._queryParams),i=e._path.toString(),r=new V.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,V.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,V.cI)(d.responseText)}catch{Gs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Gs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Kee{constructor(){this.rootNode_=hn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function IT(){return{value:null,children:new Map}}function $y(n,e,t){if(En(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=wn(e);n.children.has(i)||n.children.set(i,IT()),$y(n.children.get(i),e=fi(e),t)}}function cN(n,e){if(En(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(yi,(i,r)=>{$y(n,new Kn(i),r)}),cN(n,e)}}if(n.children.size>0){const t=wn(e);return e=fi(e),n.children.has(t)&&cN(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function uN(n,e,t){null!==n.value?t(e,n.value):function Yee(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{uN(r,new Kn(e.toString()+"/"+i),t)})}class Zee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&us(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Jee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Zee(e);const i=1e4+2e4*Math.random();Jw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;us(e,(r,s)=>{s>0&&(0,V.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Jw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rl||(rl={})),rl))();function fN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class TT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=rl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(En(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Kn(e));return new TT(Hn(),t,this.revert)}}return(0,V.hu)(wn(this.path)===e,"operationForChild called for unrelated child."),new TT(fi(this.path),this.affectedTree,this.revert)}}class lE{constructor(e,t){this.source=e,this.path=t,this.type=rl.LISTEN_COMPLETE}operationForChild(e){return En(this.path)?new lE(this.source,Hn()):new lE(this.source,fi(this.path))}}class Om{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=rl.OVERWRITE}operationForChild(e){return En(this.path)?new Om(this.source,Hn(),this.snap.getImmediateChild(e)):new Om(this.source,fi(this.path),this.snap)}}class Wy{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=rl.MERGE}operationForChild(e){if(En(this.path)){const t=this.children.subtree(new Kn(e));return t.isEmpty()?null:t.value?new Om(this.source,Hn(),t.value):new Wy(this.source,Hn(),t)}return(0,V.hu)(wn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wy(this.source,fi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class af{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(En(e))return this.isFullyInitialized()&&!this.filtered_;const t=wn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ete{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cE(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,p)=>function ite(n,e,t){if(null==e.childName||null==t.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new Sn(e.childName,e.snapshotNode),r=new Sn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function nte(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(p,n.query_))})})}function MT(n,e){return{eventCache:n,serverCache:e}}function uE(n,e,t,i){return MT(new af(e,t,i),n.serverCache)}function d$(n,e,t,i){return MT(n.eventCache,new af(e,t,i))}function AT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Pm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pN;class vi{constructor(e,t=(()=>(pN||(pN=new zo(HJ)),pN))()){this.value=e,this.children=t}static fromObject(e){let t=new vi(null);return us(e,(i,r)=>{t=t.set(new Kn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Hn(),value:this.value};if(En(e))return null;{const i=wn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(fi(e),t);return null!=s?{path:Hi(new Kn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(En(e))return this;{const t=wn(e),i=this.children.get(t);return null!==i?i.subtree(fi(e)):new vi(null)}}set(e,t){if(En(e))return new vi(t,this.children);{const i=wn(e),s=(this.children.get(i)||new vi(null)).set(fi(e),t),c=this.children.insert(i,s);return new vi(this.value,c)}}remove(e){if(En(e))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const t=wn(e),i=this.children.get(t);if(i){const r=i.remove(fi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new vi(null):new vi(this.value,s)}return this}}get(e){if(En(e))return this.value;{const t=wn(e),i=this.children.get(t);return i?i.get(fi(e)):null}}setTree(e,t){if(En(e))return t;{const i=wn(e),s=(this.children.get(i)||new vi(null)).setTree(fi(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new vi(this.value,c)}}fold(e){return this.fold_(Hn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Hi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Hn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(En(e))return null;{const s=wn(e),c=this.children.get(s);return c?c.findOnPath_(fi(e),Hi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Hn(),t)}foreachOnPath_(e,t,i){if(En(e))return this;{this.value&&i(t,this.value);const r=wn(e),s=this.children.get(r);return s?s.foreachOnPath_(fi(e),Hi(t,r),i):new vi(null)}}foreach(e){this.foreach_(Hn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Hi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Xl{constructor(e){this.writeTree_=e}static empty(){return new Xl(new vi(null))}}function dE(n,e,t){if(En(e))return new Xl(new vi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=fo(r,e);return s=s.updateChild(c,t),new Xl(n.writeTree_.set(r,s))}{const r=new vi(t),s=n.writeTree_.setTree(e,r);return new Xl(s)}}}function mN(n,e,t){let i=n;return us(t,(r,s)=>{i=dE(i,Hi(e,r),s)}),i}function h$(n,e){if(En(e))return Xl.empty();{const t=n.writeTree_.setTree(e,new vi(null));return new Xl(t)}}function gN(n,e){return null!=Fm(n,e)}function Fm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(fo(t.path,e)):null}function f$(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(yi,(i,r)=>{e.push(new Sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Sn(i,r.value))}),e}function lf(n,e){if(En(e))return n;{const t=Fm(n,e);return new Xl(null!=t?new vi(t):n.writeTree_.subtree(e))}}function _N(n){return n.writeTree_.isEmpty()}function qy(n,e){return p$(Hn(),n.writeTree_,e)}function p$(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,V.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=p$(Hi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Hi(n,".priority"),i)),t}}function RT(n,e){return v$(e,n)}function cte(n,e){if(n.snap)return il(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&il(Hi(n.path,t),e))return!0;return!1}function dte(n){return n.visible}function m$(n,e,t){let i=Xl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)il(t,c)?(d=fo(t,c),i=dE(i,d,s.snap)):il(c,t)&&(d=fo(c,t),i=dE(i,Hn(),s.snap.getChild(d)));else{if(!s.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(il(t,c))d=fo(t,c),i=mN(i,d,s.children);else if(il(c,t))if(d=fo(c,t),En(d))i=mN(i,Hn(),s.children);else{const p=(0,V.DV)(s.children,wn(d));if(p){const _=p.getChild(fi(d));i=dE(i,Hn(),_)}}}}}return i}function g$(n,e,t,i,r){if(i||r){const s=lf(n.visibleWrites,e);return!r&&_N(s)?t:r||null!=t||gN(s,Hn())?qy(m$(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(il(_.path,e)||il(e,_.path))},e),t||hn.EMPTY_NODE):null}{const s=Fm(n.visibleWrites,e);if(null!=s)return s;{const c=lf(n.visibleWrites,e);return _N(c)?t:null!=t||gN(c,Hn())?qy(c,t||hn.EMPTY_NODE):null}}}function kT(n,e,t,i){return g$(n.writeTree,n.treePath,e,t,i)}function yN(n,e){return function hte(n,e,t){let i=hn.EMPTY_NODE;const r=Fm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(yi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=lf(n.visibleWrites,e);return t.forEachChild(yi,(c,d)=>{const p=qy(lf(s,new Kn(c)),d);i=i.updateImmediateChild(c,p)}),f$(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return f$(lf(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function _$(n,e,t,i){return function fte(n,e,t,i,r){(0,V.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Hi(e,t);if(gN(n.visibleWrites,s))return null;{const c=lf(n.visibleWrites,s);return _N(c)?r.getChild(t):qy(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function OT(n,e){return function mte(n,e){return Fm(n.visibleWrites,e)}(n.writeTree,Hi(n.treePath,e))}function vN(n,e,t){return function pte(n,e,t,i){const r=Hi(e,t),s=Fm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?qy(lf(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function y$(n,e){return v$(Hi(n.treePath,e),n.writeTree)}function v$(n,e){return{treePath:n,writeTree:e}}class vte{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,V.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,oE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,sE(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Gy(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,V.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,oE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const b$=new class bte{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class bN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new af(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pm(this.viewCache_),s=function yte(n,e,t,i,r,s){return function gte(n,e,t,i,r,s,c){let d;const p=lf(n.visibleWrites,e),_=Fm(p,Hn());if(null!=_)d=_;else{if(null==t)return[];d=qy(p,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],D=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let L=A.getNext();for(;L&&b.length<r;)0!==D(L,i)&&b.push(L),L=A.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function w$(n,e,t,i,r,s){const c=e.eventCache;if(null!=OT(i,t))return e;{let d,p;if(En(t))if((0,V.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Pm(e),D=yN(i,_ instanceof hn?_:hn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const _=kT(i,Pm(e));d=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=wn(t);if(".priority"===_){(0,V.hu)(1===sf(t),"Can't have a priority with additional path components");const b=c.getNode();p=e.serverCache.getNode();const D=_$(i,t,b,p);d=null!=D?n.filter.updatePriority(b,D):c.getNode()}else{const b=fi(t);let D;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const A=_$(i,t,c.getNode(),p);D=null!=A?c.getNode().getImmediateChild(_).updateChild(b,A):c.getNode().getImmediateChild(_)}else D=vN(i,_,e.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),_,D,b,r,s):c.getNode()}}return uE(e,d,c.isFullyInitialized()||En(t),n.filter.filtersNodes())}}function PT(n,e,t,i,r,s,c,d){const p=e.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(En(t))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const L=p.getNode().updateChild(t,i);_=b.updateFullNode(p.getNode(),L,null)}else{const L=wn(t);if(!p.isCompleteForPath(t)&&sf(t)>1)return e;const U=fi(t),le=p.getNode().getImmediateChild(L).updateChild(U,i);_=".priority"===L?b.updatePriority(p.getNode(),le):b.updateChild(p.getNode(),L,le,U,b$,null)}const D=d$(e,_,p.isFullyInitialized()||En(t),b.filtersNodes());return w$(n,D,t,r,new bN(r,D,s),d)}function wN(n,e,t,i,r,s,c){const d=e.eventCache;let p,_;const b=new bN(r,e,s);if(En(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=uE(e,_,!0,n.filter.filtersNodes());else{const D=wn(t);if(".priority"===D)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=uE(e,_,d.isFullyInitialized(),d.isFiltered());else{const A=fi(t),L=d.getNode().getImmediateChild(D);let U;if(En(A))U=i;else{const ie=b.getCompleteChild(D);U=null!=ie?".priority"===XF(A)&&ie.getChild(QG(A)).isEmpty()?ie:ie.updateChild(A,i):hn.EMPTY_NODE}p=L.equals(U)?e:uE(e,n.filter.updateChild(d.getNode(),D,U,A,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function E$(n,e){return n.eventCache.isCompleteForChild(e)}function C$(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function EN(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=En(t)?i:new vi(null).setTree(t,i);const b=e.serverCache.getNode();return _.children.inorderTraversal((D,A)=>{if(b.hasChild(D)){const U=C$(0,e.serverCache.getNode().getImmediateChild(D),A);p=PT(n,p,new Kn(D),U,r,s,c,d)}}),_.children.inorderTraversal((D,A)=>{const L=!e.serverCache.isCompleteForChild(D)&&null===A.value;if(!b.hasChild(D)&&!L){const ie=C$(0,e.serverCache.getNode().getImmediateChild(D),A);p=PT(n,p,new Kn(D),ie,r,s,c,d)}}),p}class Mte{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new oN(i.getIndex()),s=function zee(n){return n.loadsAllData()?new oN(n.getIndex()):n.hasLimit()?new jee(n):new aE(n)}(i);this.processor_=function wte(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,p=r.updateFullNode(hn.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(hn.EMPTY_NODE,d.getNode(),null),b=new af(p,c.isFullyInitialized(),r.filtersNodes()),D=new af(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=MT(D,b),this.eventGenerator_=new ete(this.query_)}get query(){return this.query_}}function kte(n,e){const t=Pm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!En(e)&&!t.getImmediateChild(wn(e)).isEmpty())?t.getChild(e):null}function x$(n){return 0===n.eventRegistrations_.length}function D$(n,e,t){const i=[];if(t){(0,V.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function S$(n,e,t,i){e.type===rl.MERGE&&null!==e.source.queryId&&((0,V.hu)(Pm(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(AT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Cte(n,e,t,i,r){const s=new vte;let c,d;if(t.type===rl.OVERWRITE){const _=t;_.source.fromUser?c=wN(n,e,_.path,_.snap,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!En(_.path),c=PT(n,e,_.path,_.snap,i,r,d,s))}else if(t.type===rl.MERGE){const _=t;_.source.fromUser?c=function Dte(n,e,t,i,r,s,c){let d=e;return i.foreach((p,_)=>{const b=Hi(t,p);E$(e,wn(b))&&(d=wN(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Hi(t,p);E$(e,wn(b))||(d=wN(n,d,b,_,r,s,c))}),d}(n,e,_.path,_.children,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),c=EN(n,e,_.path,_.children,i,r,d,s))}else if(t.type===rl.ACK_USER_WRITE){const _=t;c=_.revert?function Tte(n,e,t,i,r,s){let c;if(null!=OT(i,t))return e;{const d=new bN(i,e,r),p=e.eventCache.getNode();let _;if(En(t)||".priority"===wn(t)){let b;if(e.serverCache.isFullyInitialized())b=kT(i,Pm(e));else{const D=e.serverCache.getNode();(0,V.hu)(D instanceof hn,"serverChildren would be complete if leaf node"),b=yN(i,D)}_=n.filter.updateFullNode(p,b,s)}else{const b=wn(t);let D=vN(i,b,e.serverCache);null==D&&e.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,fi(t),d,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,hn.EMPTY_NODE,fi(t),d,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=kT(i,Pm(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=OT(i,Hn()),uE(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Ste(n,e,t,i,r,s,c){if(null!=OT(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(En(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return PT(n,e,t,p.getNode().getChild(t),r,s,d,c);if(En(t)){let _=new vi(null);return p.getNode().forEachChild(qc,(b,D)=>{_=_.set(new Kn(b),D)}),EN(n,e,t,_,r,s,d,c)}return e}{let _=new vi(null);return i.foreach((b,D)=>{const A=Hi(t,b);p.isCompleteForPath(A)&&(_=_.set(b,p.getNode().getChild(A)))}),EN(n,e,t,_,r,s,d,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==rl.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+t.type);c=function Ite(n,e,t,i,r){const s=e.serverCache;return w$(n,d$(e,s.getNode(),s.isFullyInitialized()||En(t),s.isFiltered()),t,i,b$,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function xte(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=AT(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(a$(AT(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Ete(n,e){(0,V.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,V.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,I$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function I$(n,e,t,i){return function tte(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Hee(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),cE(n,r,"child_removed",e,i,t),cE(n,r,"child_added",e,i,t),cE(n,r,"child_moved",s,i,t),cE(n,r,"child_changed",e,i,t),cE(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let FT,LT;class T${constructor(){this.views=new Map}}function CN(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,V.hu)(null!=s,"SyncTree gave us an op for an invalid query."),S$(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(S$(c,e,t,i));return s}}function M$(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=kT(t,r?i:null),p=!1;d?p=!0:i instanceof hn?(d=yN(t,i),p=!1):(d=hn.EMPTY_NODE,p=!1);const _=MT(new af(d,p,!1),new af(i,r,!1));return new Mte(e,_)}return c}function A$(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function cf(n,e){let t=null;for(const i of n.views.values())t=t||kte(i,e);return t}function R$(n,e){return e._queryParams.loadsAllData()?NT(n):n.views.get(e._queryIdentifier)}function k$(n,e){return null!=R$(n,e)}function uf(n){return null!=NT(n)}function NT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let jte=1;class O${constructor(e){this.listenProvider_=e,this.syncPointTree_=new vi(null),this.pendingWriteTree_=function _te(){return{visibleWrites:Xl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xN(n,e,t,i,r){return function ste(n,e,t,i,r){(0,V.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=dE(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Ky(n,new Om({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function df(n,e,t=!1){const i=function ate(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function lte(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,V.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&cte(d,i.path)?r=!1:il(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function ute(n){n.visibleWrites=m$(n.allWrites,dte,Hn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=h$(n.visibleWrites,i.path):us(i.children,p=>{n.visibleWrites=h$(n.visibleWrites,Hi(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new vi(null);return null!=i.snap?s=s.set(Hn(),!0):us(i.children,c=>{s=s.set(new Kn(c),!0)}),Ky(n,new TT(i.path,s,t))}return[]}function hE(n,e,t){return Ky(n,new Om({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function BT(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===e._queryIdentifier||k$(c,e))){const p=function Ute(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=uf(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(D$(_,t,i)),x$(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(D$(p,t,i)),x$(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!uf(n)&&s.push(new(function Nte(){return(0,V.hu)(FT,"Reference.ts has not been loaded"),FT}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function Lte(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!r){const b=-1!==_.findIndex(A=>A._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(A,L)=>uf(L));if(b&&!D){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const L=function Yte(n){return n.fold((e,t,i)=>{if(t&&uf(t))return[NT(t)];{let r=[];return t&&(r=A$(t)),us(i,(s,c)=>{r=r.concat(c)}),r}})}(A);for(let U=0;U<L.length;++U){const ie=L[U],le=ie.query,qe=L$(n,ie);n.listenProvider_.startListening(pE(le),fE(n,le),qe.hashFn,qe.onComplete)}}}!D&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(pE(e),null):_.forEach(A=>{const L=n.queryToTagMap.get(VT(A));n.listenProvider_.stopListening(pE(A),L)}))}!function Zte(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=VT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function P$(n,e,t,i){const r=SN(n,i);if(null!=r){const s=IN(r),c=s.path,d=s.queryId,p=fo(c,e);return TN(n,c,new Om(fN(d),p,t))}return[]}function DN(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(A,L)=>{const U=fo(A,r);s=s||cf(L,U),c=c||uf(L)});let p,d=n.syncPointTree_.get(r);d?(c=c||uf(d),s=s||cf(d,Hn())):(d=new T$,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=hn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((L,U)=>{const ie=cf(U,Hn());ie&&(s=s.updateImmediateChild(L,ie))}));const _=k$(d,e);if(!_&&!e._queryParams.loadsAllData()){const A=VT(e);(0,V.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const L=function Qte(){return jte++}();n.queryToTagMap.set(A,L),n.tagToQueryMap.set(L,A)}let D=function Bte(n,e,t,i,r,s){const c=M$(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Ote(n,e){n.eventRegistrations_.push(e)}(c,t),function Pte(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(yi,(s,c)=>{i.push(Gy(s,c))}),t.isFullyInitialized()&&i.push(a$(t.getNode())),I$(n,i,t.getNode(),e)}(c,t)}(d,e,t,RT(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const A=R$(d,e);D=D.concat(function Xte(n,e,t){const i=e._path,r=fE(n,e),s=L$(n,t),c=n.listenProvider_.startListening(pE(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,V.hu)(!uf(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,D)=>{if(!En(_)&&b&&uf(b))return[NT(b).query];{let A=[];return b&&(A=A.concat(A$(b).map(L=>L.query))),us(D,(L,U)=>{A=A.concat(U)}),A}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(pE(b),fE(n,b))}}return c}(n,e,A))}return D}function UT(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const _=cf(d,fo(c,e));if(_)return _});return g$(r,e,s,t,!0)}function Ky(n,e){return F$(e,n.syncPointTree_,null,RT(n.pendingWriteTree_,Hn()))}function F$(n,e,t,i){if(En(n.path))return N$(n,e,t,i);{const r=e.get(Hn());null==t&&null!=r&&(t=cf(r,Hn()));let s=[];const c=wn(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const _=t?t.getImmediateChild(c):null,b=y$(i,c);s=s.concat(F$(d,p,_,b))}return r&&(s=s.concat(CN(r,n,i,t))),s}}function N$(n,e,t,i){const r=e.get(Hn());null==t&&null!=r&&(t=cf(r,Hn()));let s=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,_=y$(i,c),b=n.operationForChild(c);b&&(s=s.concat(N$(b,d,p,_)))}),r&&(s=s.concat(CN(r,n,i,t))),s}function L$(n,e){const t=e.query,i=fE(n,t);return{hashFn:()=>(function Ate(n){return n.viewCache_.serverCache.getNode()}(e)||hn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Wte(n,e,t){const i=SN(n,t);if(i){const r=IN(i),s=r.path,c=r.queryId,d=fo(s,e);return TN(n,s,new lE(fN(c),d))}return[]}(n,t._path,i):function $te(n,e){return Ky(n,new lE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function GJ(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return BT(n,t,null,s)}}}}function fE(n,e){const t=VT(e);return n.queryToTagMap.get(t)}function VT(n){return n._path.toString()+"$"+n._queryIdentifier}function SN(n,e){return n.tagToQueryMap.get(e)}function IN(n){const e=n.indexOf("$");return(0,V.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Kn(n.substr(0,e))}}function TN(n,e,t){const i=n.syncPointTree_.get(e);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),CN(i,t,RT(n.pendingWriteTree_,e),null)}function pE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Hte(){return(0,V.hu)(LT,"Reference.ts has not been loaded"),LT}())(n._repo,n._path):n}class MN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new MN(t)}node(){return this.node_}}class AN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Hi(this.path_,e);return new AN(this.syncTree_,t)}node(){return UT(this.syncTree_,this.path_)}}const B$=function(n,e,t){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ene(n[".sv"],e,t):"object"==typeof n[".sv"]?tne(n[".sv"],e):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ene=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},tne=function(n,e,t){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,V.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},U$=function(n,e,t,i){return kN(e,new AN(t,n),i)},RN=function(n,e,t){return kN(n,new MN(e),t)};function kN(n,e,t){const i=n.getPriority().val(),r=B$(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=B$(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new jy(d,Qi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new jy(r))),c.forEachChild(yi,(d,p)=>{const _=kN(p,e.getImmediateChild(d),t);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class ON{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function HT(n,e){let t=e instanceof Kn?e:new Kn(e),i=n,r=wn(t);for(;null!==r;){const s=(0,V.DV)(i.node.children,r)||{children:{},childCount:0};i=new ON(r,i,s),t=fi(t),r=wn(t)}return i}function Nm(n){return n.node.value}function PN(n,e){n.node.value=e,FN(n)}function V$(n){return n.node.childCount>0}function jT(n,e){us(n.node.children,(t,i)=>{e(new ON(t,n,i))})}function H$(n,e,t,i){t&&!i&&e(n),jT(n,r=>{H$(r,e,!0,i)}),t&&i&&e(n)}function mE(n){return new Kn(null===n.parent?n.name:mE(n.parent)+"/"+n.name)}function FN(n){null!==n.parent&&function rne(n,e,t){const i=function nne(n){return void 0===Nm(n)&&!V$(n)}(t),r=(0,V.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,FN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,FN(n))}(n.parent,n.name,n)}const sne=/[\[\].#$\/\u0000-\u001F\u007F]/,one=/[\[\].#$\u0000-\u001F\u007F]/,NN=10485760,zT=function(n){return"string"==typeof n&&0!==n.length&&!sne.test(n)},j$=function(n){return"string"==typeof n&&0!==n.length&&!one.test(n)},gE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!gT(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},Kc=function(n,e,t,i){i&&void 0===e||_E((0,V.gK)(n,"value"),e,t)},_E=function(n,e,t){const i=t instanceof Kn?new Cee(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Rm(i));if("function"==typeof e)throw new Error(n+"contains a function "+Rm(i)+" with contents = "+e.toString());if(gT(e))throw new Error(n+"contains "+e.toString()+" "+Rm(i));if("string"==typeof e&&e.length>NN/3&&(0,V.ug)(e)>NN)throw new Error(n+"contains a string greater than "+NN+" utf8 bytes "+Rm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(us(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!zT(c)))throw new Error(n+" contains an invalid key ("+c+") "+Rm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function xee(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,V.ug)(e),XG(n)})(i,c),_E(n,d,i),function Dee(n){const e=n.parts_.pop();n.byteLength_-=(0,V.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Rm(i)+" in addition to actual children.")}},z$=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,V.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];us(e,(c,d)=>{const p=new Kn(c);if(_E(r,d,Hi(t,p)),".priority"===XF(p)&&!gE(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=tE(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!zT(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Eee);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&il(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},LN=function(n,e,t){if(!t||void 0!==e){if(gT(e))throw new Error((0,V.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gE(e))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yE=function(n,e,t,i){if(!(i&&void 0===t||zT(t)))throw new Error((0,V.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vE=function(n,e,t,i){if(!(i&&void 0===t||j$(t)))throw new Error((0,V.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sl=function(n,e){if(".info"===wn(e))throw new Error(n+" failed = Can't modify data under /.info/")},G$=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!zT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),j$(n)}(t))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class une{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function GT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!JF(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function $$(n,e,t){GT(n,t),W$(n,i=>JF(i,e))}function va(n,e,t){GT(n,t),W$(n,i=>il(i,e)||il(e,i))}function W$(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(dne(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function dne(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Mm&&cs("event: "+t.toString()),Vy(i)}}}const q$="repo_interrupt";class fne{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new une,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=IT(),this.transactionQueueTree_=new ON,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function K$(n){const t=n.infoData_.getNode(new Kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function bE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:K$(n)})}function Y$(n,e,t,i,r){n.dataUpdateCount++;const s=new Kn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,V.UI)(t,_=>Qi(_));c=function qte(n,e,t,i){const r=SN(n,i);if(r){const s=IN(r),c=s.path,d=s.queryId,p=fo(c,e),_=vi.fromObject(t);return TN(n,c,new Wy(fN(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Qi(t);c=P$(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,V.UI)(t,_=>Qi(_));c=function Gte(n,e,t){const i=vi.fromObject(t);return Ky(n,new Wy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Qi(t);c=hE(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=Zy(n,s)),va(n.eventQueue_,d,c)}function Z$(n,e){BN(n,"connected",e),!1===e&&function yne(n){Yy(n,"onDisconnectEvents");const e=bE(n),t=IT();uN(n.onDisconnect_,Hn(),(r,s)=>{const c=U$(r,s,n.serverSyncTree_,e);$y(t,r,c)});let i=[];uN(t,Hn(),(r,s)=>{i=i.concat(hE(n.serverSyncTree_,r,s));const c=jN(n,r);Zy(n,c)}),n.onDisconnect_=IT(),va(n.eventQueue_,Hn(),i)}(n)}function BN(n,e,t){const i=new Kn("/.info/"+e),r=Qi(t);n.infoData_.updateSnapshot(i,r);const s=hE(n.infoSyncTree_,i,r);va(n.eventQueue_,i,s)}function $T(n){return n.nextWriteId_++}function UN(n,e,t,i,r){Yy(n,"set",{path:e.toString(),value:t,priority:i});const s=bE(n),c=Qi(t,i),d=UT(n.serverSyncTree_,e),p=RN(c,d,s),_=$T(n),b=xN(n.serverSyncTree_,e,p,_,!0);GT(n.eventQueue_,b),n.server_.put(e.toString(),c.val(!0),(A,L)=>{const U="ok"===A;U||Gs("set at "+e+" failed: "+A);const ie=df(n.serverSyncTree_,_,!U);va(n.eventQueue_,e,ie),hf(0,r,A,L)});const D=jN(n,e);Zy(n,D),va(n.eventQueue_,D,[])}function vne(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&cN(n.onDisconnect_,e),hf(0,t,i,r)})}function Q$(n,e,t,i){const r=Qi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&$y(n.onDisconnect_,e,r),hf(0,i,s,c)})}function VN(n,e,t){let i;i=".info"===wn(e._path)?BT(n.infoSyncTree_,e,t):BT(n.serverSyncTree_,e,t),$$(n.eventQueue_,e._path,i)}function X$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(q$)}function Yy(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),cs(t,...e)}function hf(n,e,t,i){e&&Vy(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function HN(n,e,t){return UT(n.serverSyncTree_,e,t)||hn.EMPTY_NODE}function WT(n,e=n.transactionQueueTree_){if(e||qT(n,e),Nm(e)){const t=eW(n,e);(0,V.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Dne(n,e,t){const i=t.map(_=>_.currentWriteId),r=HN(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=fo(e,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,_=>{Yy(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let A=0;A<t.length;A++)t[A].status=2,b=b.concat(df(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&D.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();qT(n,HT(n.transactionQueueTree_,e)),WT(n,n.transactionQueueTree_),va(n.eventQueue_,e,b);for(let A=0;A<D.length;A++)Vy(D[A])}else{if("datastale"===_)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{Gs("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=_}Zy(n,e)}},c)}(n,mE(e),t)}else V$(e)&&jT(e,t=>{WT(n,t)})}function Zy(n,e){const t=J$(n,e),i=mE(t);return function Sne(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],_=fo(t,p.path);let D,b=!1;if((0,V.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,r=r.concat(df(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",r=r.concat(df(n.serverSyncTree_,p.currentWriteId,!0));else{const A=HN(n,p.path,c);p.currentInputSnapshot=A;const L=e[d].update(A.val());if(void 0!==L){_E("transaction failed: Data returned ",L,p.path);let U=Qi(L);"object"==typeof L&&null!=L&&(0,V.r3)(L,".priority")||(U=U.updatePriority(A.getPriority()));const le=p.currentWriteId,qe=bE(n),nt=RN(U,A,qe);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=nt,p.currentWriteId=$T(n),c.splice(c.indexOf(le),1),r=r.concat(xN(n.serverSyncTree_,p.path,nt,p.currentWriteId,p.applyLocally)),r=r.concat(df(n.serverSyncTree_,le,!0))}else b=!0,D="nodata",r=r.concat(df(n.serverSyncTree_,p.currentWriteId,!0))}va(n.eventQueue_,t,r),r=[],b&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===D?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(D),!1,null)))}qT(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Vy(i[d]);WT(n,n.transactionQueueTree_)}(n,eW(n,t),i),i}function J$(n,e){let t,i=n.transactionQueueTree_;for(t=wn(e);null!==t&&void 0===Nm(i);)i=HT(i,t),t=wn(e=fi(e));return i}function eW(n,e){const t=[];return tW(n,e,t),t.sort((i,r)=>i.order-r.order),t}function tW(n,e,t){const i=Nm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);jT(e,r=>{tW(n,r,t)})}function qT(n,e){const t=Nm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,PN(e,t.length>0?t:void 0)}jT(e,i=>{qT(n,i)})}function jN(n,e){const t=mE(J$(n,e)),i=HT(n.transactionQueueTree_,e);return function ine(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{zN(n,r)}),zN(n,i),H$(i,r=>{zN(n,r)}),t}function zN(n,e){const t=Nm(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,V.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,V.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(df(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?PN(e,void 0):t.length=s+1,va(n.eventQueue_,mE(e),r);for(let c=0;c<i.length;c++)Vy(i[c])}}const GN=function(n,e){const t=Mne(n),i=t.namespace;return"firebase.com"===t.domain&&Wc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Wc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new WF(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Kn(t.pathString)}},Mne=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(b,D)),b<D&&(r=function Ine(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,D)));const A=function Tne(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Gs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));_=e.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(e.substring(_+1),10)):_=e.length;const L=e.slice(0,_);if("localhost"===L.toLowerCase())t="localhost";else if(L.split(".").length<=2)t=L;else{const U=e.indexOf(".");i=e.substring(0,U).toLowerCase(),t=e.substring(U+1),s=i}"ns"in A&&(s=A.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}},nW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ane=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=nW.charAt(t%64),t=Math.floor(t/64);(0,V.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=nW.charAt(e[r]);return(0,V.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class iW{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class rW{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $N{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class sW{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new V.BH;return vne(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){sl("OnDisconnect.remove",this._path);const e=new V.BH;return Q$(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){sl("OnDisconnect.set",this._path),Kc("OnDisconnect.set",e,this._path,!1);const t=new V.BH;return Q$(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){sl("OnDisconnect.setWithPriority",this._path),Kc("OnDisconnect.setWithPriority",e,this._path,!1),LN("OnDisconnect.setWithPriority",t,!1);const i=new V.BH;return function bne(n,e,t,i,r){const s=Qi(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&$y(n.onDisconnect_,e,s),hf(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){sl("OnDisconnect.update",this._path),z$("OnDisconnect.update",e,this._path,!1);const t=new V.BH;return function wne(n,e,t,i){if((0,V.xb)(t))return cs("onDisconnect().update() called with empty data.  Don't do anything."),void hf(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&us(t,(c,d)=>{const p=Qi(d);$y(n.onDisconnect_,Hi(e,c),p)}),hf(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Go{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return En(this._path)?null:XF(this._path)}get ref(){return new ol(this._repo,this._path)}get _queryIdentifier(){const e=c$(this._queryParams),t=GF(e);return"{}"===t?"default":t}get _queryObject(){return c$(this._queryParams)}isEqual(e){if(!((e=(0,V.m9)(e))instanceof Go))return!1;const t=this._repo===e._repo,i=JF(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function wee(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function KT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ff(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===qc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==nf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ld)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===yi){if(null!=e&&!gE(e)||null!=t&&!gE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof rN||n.getIndex()===sN,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function YT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ol extends Go{constructor(e,t){super(e,t,new xT,!1)}get parent(){const e=QG(this._path);return null===e?null:new ol(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Lm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Kn(e),i=Bm(this.ref,e);return new Lm(this._node.getChild(t),i,yi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Lm(r,Bm(this.ref,i),yi)))}hasChild(e){const t=new Kn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oW(n,e){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==e?Bm(n._root,e):n._root}function aW(n,e){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const t=GN(e,n._repo.repoInfo_.nodeAdmin);G$("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Wc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),oW(n,t.path.toString())}function Bm(n,e){return null===wn((n=(0,V.m9)(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vE("child","path",t,!1)):vE("child","path",e,!1),new ol(n._repo,Hi(n._path,e));var t}function WN(n,e){n=(0,V.m9)(n),sl("set",n._path),Kc("set",e,n._path,!1);const t=new V.BH;return UN(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Fne(n,e){z$("update",e,n._path,!1);const t=new V.BH;return function _ne(n,e,t,i){Yy(n,"update",{path:e.toString(),value:t});let r=!0;const s=bE(n),c={};if(us(t,(d,p)=>{r=!1,c[d]=U$(Hi(e,d),Qi(p),n.serverSyncTree_,s)}),r)cs("update() called with empty data.  Don't do anything."),hf(0,i,"ok",void 0);else{const d=$T(n),p=function zte(n,e,t,i){!function ote(n,e,t,i){(0,V.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=mN(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=vi.fromObject(t);return Ky(n,new Wy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);GT(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,b)=>{const D="ok"===_;D||Gs("update at "+e+" failed: "+_);const A=df(n.serverSyncTree_,d,!D),L=A.length>0?Zy(n,e):e;va(n.eventQueue_,L,A),hf(0,i,_,b)}),us(t,_=>{const b=jN(n,Hi(e,_));Zy(n,b)}),va(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Nne(n){n=(0,V.m9)(n);const e=new $N(()=>{}),t=new wE(e);return function gne(n,e,t){const i=function Kte(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,b)=>{const D=fo(_,t);i=i||cf(b,D)});let r=n.syncPointTree_.get(t);r?i=i||cf(r,Hn()):(r=new T$,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new af(i,!0,!1):null;return function Rte(n){return AT(n.viewCache_)}(M$(r,e,RT(n.pendingWriteTree_,e._path),s?c.getNode():hn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=Qi(r).withIndex(e._queryParams.getIndex());let c;if(DN(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=hE(n.serverSyncTree_,e._path,s);else{const d=fE(n.serverSyncTree_,e);c=P$(n.serverSyncTree_,e._path,s,d)}return va(n.eventQueue_,e._path,c),BT(n.serverSyncTree_,e,t,null,!0),s},r=>(Yy(n,"get for query "+(0,V.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Lm(i,new ol(n._repo,n._path),n._queryParams.getIndex()))}class wE{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new iW("value",this,new Lm(e.snapshotNode,new ol(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rW(this,e,t):null}matches(e){return e instanceof wE&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ZT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rW(this,e,t):null}createEvent(e,t){(0,V.hu)(null!=e.childName,"Child events should have a childName.");const i=Bm(new ol(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new iW(e.type,this,new Lm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ZT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function EE(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(b,D)=>{VN(n._repo,n,d),p(b,D)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new $N(t,s||void 0),d="value"===e?new wE(c):new ZT(e,c);return function Ene(n,e,t){let i;i=".info"===wn(e._path)?DN(n.infoSyncTree_,e,t):DN(n.serverSyncTree_,e,t),$$(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>VN(n._repo,n,d)}function qN(n,e,t,i){return EE(n,"value",e,t,i)}function lW(n,e,t,i){return EE(n,"child_added",e,t,i)}function cW(n,e,t,i){return EE(n,"child_changed",e,t,i)}function uW(n,e,t,i){return EE(n,"child_moved",e,t,i)}function dW(n,e,t,i){return EE(n,"child_removed",e,t,i)}function hW(n,e,t){let i=null;const r=t?new $N(t):null;"value"===e?i=new wE(r):e&&(i=new ZT(e,r)),VN(n._repo,n,i)}class Jl{}class fW extends Jl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kc("endAt",this._value,e._path,!0);const t=lN(e._queryParams,this._value,this._key);if(YT(t),ff(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class Bne extends Jl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kc("endBefore",this._value,e._path,!1);const t=function qee(n,e,t){let i;return i=lN(n,e,n.index_===qc||t?t:nf),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(YT(t),ff(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class pW extends Jl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kc("startAt",this._value,e._path,!0);const t=aN(e._queryParams,this._value,this._key);if(YT(t),ff(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class Hne extends Jl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kc("startAfter",this._value,e._path,!1);const t=function Wee(n,e,t){let i;return i=aN(n,e,n.index_===qc||t?t:ld),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(YT(t),ff(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class zne extends Jl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function Gee(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class $ne extends Jl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function $ee(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class qne extends Jl{constructor(e){super(),this._path=e}_apply(e){KT(e,"orderByChild");const t=new Kn(this._path);if(En(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new rN(t),r=DT(e._queryParams,i);return ff(r),new Go(e._repo,e._path,r,!0)}}class Yne extends Jl{_apply(e){KT(e,"orderByKey");const t=DT(e._queryParams,qc);return ff(t),new Go(e._repo,e._path,t,!0)}}class Qne extends Jl{_apply(e){KT(e,"orderByPriority");const t=DT(e._queryParams,yi);return ff(t),new Go(e._repo,e._path,t,!0)}}class Jne extends Jl{_apply(e){KT(e,"orderByValue");const t=DT(e._queryParams,sN);return ff(t),new Go(e._repo,e._path,t,!0)}}class tie extends Jl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Kc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new fW(this._value,this._key)._apply(new pW(this._value,this._key)._apply(e))}}function ec(n,...e){let t=(0,V.m9)(n);for(const i of e)t=i._apply(t);return t}(function Fte(n){(0,V.hu)(!FT,"__referenceConstructor has already been defined"),FT=n})(ol),function Vte(n){(0,V.hu)(!LT,"__referenceConstructor has already been defined"),LT=n}(ol);const KN={};function gW(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Wc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=GN(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=GN(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new eE(eE.OWNER):new ZJ(n.name,n.options,e);G$("Invalid Firebase Database URL",c),En(c.path)||Wc("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function oie(n,e,t,i){let r=KN[e.name];r||(r={},KN[e.name]=r);let s=r[n.toURLString()];return s&&Wc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fne(n,false,t,i),r[n.toURLString()]=s,s}(d,n,b,new YJ(n.name,t));return new lie(D,n)}class lie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function pne(n,e,t){if(n.stats_=YF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ST(n.repoInfo_,(i,r,s,c)=>{Y$(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Z$(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new km(n.repoInfo_,e,(i,r,s,c)=>{Y$(n,i,r,s,c)},i=>{Z$(n,i)},i=>{!function mne(n,e){us(e,(t,i)=>{BN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function JJ(n,e){const t=n.toString();return KF[t]||(KF[t]=e()),KF[t]}(n.repoInfo_,()=>new Jee(n.stats_,n.server_)),n.infoData_=new Kee,n.infoSyncTree_=new O$({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=hE(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),BN(n,"connected",!1),n.serverSyncTree_=new O$({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);va(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ol(this._repo,Hn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sie(n,e){const t=KN[e];(!t||t[n.key]!==n)&&Wc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),X$(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Wc("Cannot call "+e+" on a deleted database.")}}function _W(){UG.IS_TRANSPORT_INITIALIZED&&Gs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cie(){_W(),rf.forceDisallow()}function uie(){_W(),Hy.forceDisallow(),rf.forceAllow()}function fie(n,e){vG(n,e)}const mie={".sv":"timestamp"};class yie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}km.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},km.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function pie(n){pG(so.SDK_VERSION),(0,so._registerComponent)(new Kl.wA("database",(e,{instanceIdentifier:t})=>gW(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(hG,"0.14.1",n),(0,so.registerVersion)(hG,"0.14.1","esm2017")}();const Eie=new ql.Yd("@firebase/database-compat"),vW=function(n){Eie.warn("FIREBASE WARNING: "+n)};class Die{constructor(e){this._delegate=e}cancel(e){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,vW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Sie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),vE("DataSnapshot.child","path",e,!1),new pf(this._database,this._delegate.child(e))}hasChild(e){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),vE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new pf(this._database,t)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class As{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",t,!1);const c=As.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{t.call(c.context,new pf(this.database,_),b)};d.userCallback=t,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return qN(this._delegate,d,p),t;case"child_added":return lW(this._delegate,d,p),t;case"child_removed":return dW(this._delegate,d,p),t;case"child_changed":return cW(this._delegate,d,p),t;case"child_moved":return uW(this._delegate,d,p),t;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,V.Wj)("Query.off","callback",t,!0),(0,V.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,hW(this._delegate,e,r)}else hW(this._delegate,e)}get(){return Nne(this._delegate).then(e=>new pf(this.database,e))}once(e,t,i,r){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",t,!0);const s=As.getCancelAndContextArgs_("Query.once",i,r),c=new V.BH,d=(_,b)=>{const D=new pf(this.database,_);t&&t.call(s.context,D,b),c.resolve(D)};d.userCallback=t,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":qN(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":lW(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":dW(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":cW(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":uW(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new As(this.database,ec(this._delegate,function Gne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zne(n)}(e)))}limitToLast(e){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new As(this.database,ec(this._delegate,function Wne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $ne(n)}(e)))}orderByChild(e){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new As(this.database,ec(this._delegate,function Kne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vE("orderByChild","path",n,!1),new qne(n)}(e)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new As(this.database,ec(this._delegate,function Zne(){return new Yne}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new As(this.database,ec(this._delegate,function Xne(){return new Qne}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new As(this.database,ec(this._delegate,function eie(){return new Jne}()))}startAt(e=null,t){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new As(this.database,ec(this._delegate,function Vne(n=null,e){return yE("startAt","key",e,!0),new pW(n,e)}(e,t)))}startAfter(e=null,t){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new As(this.database,ec(this._delegate,function jne(n,e){return yE("startAfter","key",e,!0),new Hne(n,e)}(e,t)))}endAt(e=null,t){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new As(this.database,ec(this._delegate,function Lne(n,e){return yE("endAt","key",e,!0),new fW(n,e)}(e,t)))}endBefore(e=null,t){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new As(this.database,ec(this._delegate,function Une(n,e){return yE("endBefore","key",e,!0),new Bne(n,e)}(e,t)))}equalTo(e,t){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new As(this.database,ec(this._delegate,function nie(n,e){return yE("equalTo","key",e,!0),new tie(n,e)}(e,t)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof As))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,V.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,V.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,V.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new ba(this.database,new ol(this._delegate._repo,this._delegate._path))}}class ba extends As{constructor(e,t){super(e,new Go(t._repo,t._path,new xT,!1)),this.database=e,this._delegate=t}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ba(this.database,Bm(this._delegate,e))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ba(this.database,e):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new ba(this.database,this._delegate.root)}set(e,t){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",t,!0);const i=WN(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,vW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sl("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",t,!0);const i=Fne(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Pne(n,e,t){if(sl("setWithPriority",n._path),Kc("setWithPriority",e,n._path,!1),LN("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new V.BH;return UN(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",e,!0);const t=function kne(n){return sl("remove",n._path),WN(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,V.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function vie(n,e,t){var i;if(n=(0,V.m9)(n),sl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new V.BH,d=qN(n,()=>{});return function xne(n,e,t,i,r,s){Yy(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:gG(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=HN(n,e,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{_E("transaction failed: Data returned ",p,c.path),c.status=0;const _=HT(n.transactionQueueTree_,e),b=Nm(_)||[];let D;b.push(c),PN(_,b),"object"==typeof p&&null!==p&&(0,V.r3)(p,".priority")?(D=(0,V.DV)(p,".priority"),(0,V.hu)(gE(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(UT(n.serverSyncTree_,e)||hn.EMPTY_NODE).getPriority().val();const A=bE(n),L=Qi(p,D),U=RN(L,d,A);c.currentOutputSnapshotRaw=L,c.currentOutputSnapshotResolved=U,c.currentWriteId=$T(n);const ie=xN(n.serverSyncTree_,e,U,c.currentWriteId,c.applyLocally);va(n.eventQueue_,e,ie),WT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,b)=>{let D=null;p?s.reject(p):(D=new Lm(b,new ol(n._repo,n._path),yi),s.resolve(new yie(_,D)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Sie(s.committed,new pf(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",t,!0);const i=function One(n,e){n=(0,V.m9)(n),sl("setPriority",n._path),LN("setPriority",e,!1);const t=new V.BH;return UN(n._repo,Hi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",t,!0);const i=function Rne(n,e){n=(0,V.m9)(n),sl("push",n._path),Kc("push",e,n._path,!0);const t=K$(n._repo),i=Ane(t),r=Bm(n,i),s=Bm(n,i);let c;return c=null!=e?WN(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new ba(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new ba(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return sl("Reference.onDisconnect",this._delegate._path),new Die(new sW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class CE{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cie,forceLongPolling:uie}}useEmulator(e,t,i={}){!function yW(n,e,t,i={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Wc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Wc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new eE(eE.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,n.app.options.projectId);s=new eE(c)}!function rie(n,e,t,i){n.repoInfo_=new WF(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,V.Dv)("database.ref",0,1,arguments.length),e instanceof ba){const t=aW(this._delegate,e.toString());return new ba(this,t)}{const t=oW(this._delegate,e);return new ba(this,t)}}refFromURL(e){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=aW(this._delegate,e);return new ba(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function die(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),X$(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function hie(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function Cne(n){n.persistentConnection_&&n.persistentConnection_.resume(q$)}(n._repo)}(this._delegate)}}CE.ServerValue={TIMESTAMP:function gie(){return mie}(),increment:n=>function _ie(n){return{".sv":{increment:n}}}(n)};var Tie=Object.freeze({__proto__:null,initStandalone:function Iie({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){pG(t);const c=new Kl.zt("auth-internal",new Kl.H0("database-standalone"));return c.setComponent(new Kl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new CE(gW(n,c,void 0,e,s),n),namespace:r}}});const Mie=CE.ServerValue;function bW(n){return null==n}function wW(n){return"function"==typeof n.set}function EW(n,e){return wW(e)?e:n.ref(e)}function CW(n,e){if(function Rie(n){return"string"==typeof n}(n))return e.stringCase();if(wW(n))return e.firebaseCase();if(function kie(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function xE(n,e,t="on",i=p0.z){return new Ni.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,yt.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,Ok.B)())}function xW(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Fie(n,e){const{payload:t,prevKey:i,key:r}=e,s=xW(n,r),c=function Pie(n,e){if(bW(e))return 0;{const t=xW(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function DW(n){return(bW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function SW(n,e,t){return function Oie(n,e,t){return xE(n,"value","once",t).pipe((0,_i.w)(i=>{const r=[(0,bt.of)(i)];return e.forEach(s=>r.push(xE(n,s,"on",t))),(0,Bc.T)(...r).pipe((0,Ul.R)(Fie,[]))}),(0,T0.x)())}(n,e=DW(e),t)}function IW(n,e,t){const i=(e=DW(e)).map(r=>xE(n,r,"on",t));return(0,Bc.T)(...i)}function TW(n,e){return function(i,r){return CW(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Uie(n){return function(t){return t?CW(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function MW(n,e){return function(){return xE(n,"value","on",e)}}!function Aie(n){n.INTERNAL.registerComponent(new Kl.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new CE(r,i)},"PUBLIC").setServiceProps({Reference:ba,Query:As,Database:CE,DataSnapshot:pf,enableLogging:fie,INTERNAL:Tie,ServerValue:Mie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.1")}(nO.Z);const jie=new l.OlP("angularfire2.realtimeDatabaseURL"),zie=new l.OlP("angularfire2.database.use-emulator");let Gie=(()=>{class n{constructor(t,i,r,s,c,d,p,_,b,D,A,L,U,ie,le){this.schedulers=d;const qe=p,nt=(0,Hr.on)(t,c,i);_&&kF(nt,c,b,A,L,U,D,ie),this.database=(0,Hr.cc)(`${nt.name}.database.${r}`,"AngularFireDatabase",nt.name,()=>{const ot=c.runOutsideAngular(()=>nt.database(r||void 0));return qe&&ot.useEmulator(...qe),ot},[qe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>EW(this.database,t));let s=r;return i&&(s=i(r)),function Vie(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:TW(i,"update"),set:TW(i,"set"),push:r=>i.push(r),remove:Uie(i),snapshotChanges:r=>SW(n,r,t).pipe(Wn.iC),stateChanges:r=>IW(n,r,t).pipe(Wn.iC),auditTrail:r=>function Nie(n,e,t){return function Bie(n,e,t){return function Lie(n,e){return xE(n,"value","on",e).pipe((0,yt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe((0,FJ.M)(e),(0,yt.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function NJ(n){return(0,Zi.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,sr.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,yt.U)(r=>r.actions))}(n,IW(n,e).pipe((0,Ul.R)((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Wn.iC),valueChanges:(r,s)=>SW(n,r,t).pipe((0,yt.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Wn.iC)}}(s,this)}object(t){return function Hie(n,e){return{query:n,snapshotChanges:()=>MW(n,e.schedulers.outsideAngular)().pipe(Wn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>MW(n,e.schedulers.outsideAngular)().pipe(Wn.iC,(0,yt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EW(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr.Dh),l.LFG(Hr.xv,8),l.LFG(jie,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(zie,8),l.LFG(hT,8),l.LFG(SF,8),l.LFG(IF,8),l.LFG(TF,8),l.LFG(MF,8),l.LFG(AF,8),l.LFG(RF,8),l.LFG(Gw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$ie=(()=>{class n{constructor(){DF.Z.registerVersion("angularfire",Wn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gie]}),n})();const AW="firebasestorage.googleapis.com",RW="storageBucket";class Xi extends V.ZR{constructor(e,t,i=0){super(YN(e),`Firebase Storage: ${t} (${YN(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return YN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function YN(n){return"storage/"+n}function ZN(){return new Xi("unknown","An unknown error occurred, please check the error payload for server response.")}function kW(){return new Xi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function OW(){return new Xi("canceled","User canceled the upload/download.")}function PW(){return new Xi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qy(n){return new Xi("invalid-argument",n)}function FW(){return new Xi("app-deleted","The Firebase app was deleted.")}function NW(n){return new Xi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function DE(n,e){return new Xi("invalid-format","String does not match format '"+n+"': "+e)}function SE(n){throw new Xi("internal-error","Internal error: "+n)}class $s{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=$s.makeFromUrl(e,t)}catch{return new $s(e,"")}if(""===i.path)return i;throw function tre(n){return new Xi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(at){at.path_=decodeURIComponent(at.path)}const D=t.replace(/[.]/g,"\\."),ot=[{regex:d,indices:{bucket:1,path:3},postModify:function s(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===AW?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let at=0;at<ot.length;at++){const Ft=ot[at],Nt=Ft.regex.exec(e);if(Nt){let Ir=Nt[Ft.indices.path];Ir||(Ir=""),i=new $s(Nt[Ft.indices.bucket],Ir),Ft.postModify(i);break}}if(null==i)throw function ere(n){return new Xi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class ore{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QT(n){return"string"==typeof n||n instanceof String}function LW(n){return QN()&&n instanceof Blob}function QN(){return typeof Blob<"u"&&!(0,V.UG)()}function XN(n,e,t,i){if(i<e)throw Qy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Qy(`Invalid value for '${n}'. Expected ${t} or less.`)}function ud(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function BW(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var mf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(mf||(mf={})),mf))();function UW(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class hre{constructor(e,t,i,r,s,c,d,p,_,b,D,A=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=D,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,U)=>{this.resolve_=L,this.reject_=U,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function cre(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=ZN();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?FW():OW():kW())};this.canceled_?t(0,new XT(!1,null,!0)):this.backoffId_=function are(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...le){_||(_=!0,e.apply(null,le))}function D(le){r=setTimeout(()=>{r=null,n(L,p())},le)}function A(){s&&clearTimeout(s)}function L(le,...qe){if(_)return void A();if(le)return A(),void b.call(null,le,...qe);if(p()||c)return A(),void b.call(null,le,...qe);let ot;i<64&&(i*=2),1===d?(d=2,ot=0):ot=1e3*(i+Math.random()),D(ot)}let U=!1;function ie(le){U||(U=!0,A(),!_&&(null!==r?(le||(d=2),clearTimeout(r),D(0)):le||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,ie(!0)},t),ie}((i,r)=>{if(r)return void i(!1,new XT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===mf.NO_ERROR,p=s.getStatus();if(!d||UW(p,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===mf.ABORT;return void i(!1,new XT(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new XT(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function lre(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class XT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function vre(...n){const e=function yre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(QN())return new Blob(n);throw new Xi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class JN{constructor(e,t){this.data=e,this.contentType=t||null}}function eL(n,e){switch(n){case wa.RAW:return new JN(VW(e));case wa.BASE64:case wa.BASE64URL:return new JN(HW(n,e));case wa.DATA_URL:return new JN(function Cre(n){const e=new jW(n);return e.base64?HW(wa.BASE64,e.rest):function Ere(n){let e;try{e=decodeURIComponent(n)}catch{throw DE(wa.DATA_URL,"Malformed data URL.")}return VW(e)}(e.rest)}(e),function xre(n){return new jW(n).contentType}(e))}throw ZN()}function VW(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function HW(n,e){switch(n){case wa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw DE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case wa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw DE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function wre(n){if(typeof atob>"u")throw function sre(n){return new Xi("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:DE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class jW{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw DE(wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Dre(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Yc{constructor(e,t){let i=0,r="";LW(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(LW(this.data_)){const r=function bre(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Yc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Yc(i,!0)}}static getBlob(...e){if(QN()){const t=e.map(i=>i instanceof Yc?i.data_:i);return new Yc(vre.apply(null,t))}{const t=e.map(c=>QT(c)?eL(wa.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Yc(r,!0)}}uploadData(){return this.data_}}function tL(n){let e;try{e=JSON.parse(n)}catch{return null}return function dre(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function zW(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Tre(n,e){return e}class po{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Tre}}let JT=null;function IE(){if(JT)return JT;const n=[];n.push(new po("bucket")),n.push(new po("generation")),n.push(new po("metageneration")),n.push(new po("name","fullPath",!0));const t=new po("name");t.xform=function e(s,c){return function Mre(n){return!QT(n)||n.length<2?n:zW(n)}(c)},n.push(t);const r=new po("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new po("timeCreated")),n.push(new po("updated")),n.push(new po("md5Hash",null,!0)),n.push(new po("cacheControl",null,!0)),n.push(new po("contentDisposition",null,!0)),n.push(new po("contentEncoding",null,!0)),n.push(new po("contentLanguage",null,!0)),n.push(new po("contentType",null,!0)),n.push(new po("metadata","customMetadata",!0)),JT=n,JT}function GW(n,e,t){const i=tL(e);return null===i?null:function Rre(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function Are(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new $s(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function nL(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const $W="prefixes";class Zc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qc(n){if(!n)throw ZN()}function eM(n,e){return function t(i,r){const s=GW(n,r,e);return Qc(null!==s),s}}function Xy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Xie(){return new Xi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Qie(){return new Xi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Zie(n){return new Xi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Jie(n){return new Xi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function TE(n){const e=Xy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function Yie(n){return new Xi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function qW(n,e,t){const r=ud(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Zc(r,"GET",eM(n,t),c);return d.errorHandler=TE(e),d}function Lre(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=ud(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Zc(d,"GET",function Fre(n,e){return function t(i,r){const s=function Pre(n,e,t){const i=tL(t);return null===i?null:function Ore(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$W])for(const r of t[$W]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new $s(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new $s(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Qc(null!==s),s}}(n,e.bucket),_);return b.urlParams=s,b.errorHandler=Xy(e),b}function YW(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Hre(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class tM{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function iL(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Qc(!1)}return Qc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const $re={STATE_CHANGED:"state_changed"},mo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rL(n){switch(n){case"running":case"pausing":case"canceling":return mo.RUNNING;case"paused":return mo.PAUSED;case"success":return mo.SUCCESS;case"canceled":return mo.CANCELED;default:return mo.ERROR}}class Wre{constructor(e,t,i){if(function ure(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Jy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class qre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw SE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw SE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw SE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw SE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw SE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Kre extends qre{initXhr(){this.xhr_.responseType="text"}}function tc(){return new Kre}class JW{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=IE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(UW(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=kW()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function jre(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=YW(e,i,r),d={name:c.fullPath},p=ud(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=nL(c,t),U=new Zc(p,"POST",function L(ie){let le;iL(ie);try{le=ie.getResponseHeader("X-Goog-Upload-URL")}catch{Qc(!1)}return Qc(QT(le)),le},n.maxUploadRetryTime);return U.urlParams=d,U.headers=b,U.body=D,U.errorHandler=Xy(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function zre(n,e,t,i){const p=new Zc(t,"POST",function s(_){const b=iL(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qc(!1)}D||Qc(!1);const A=Number(D);return Qc(!isNaN(A)),new tM(A,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Xy(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,tc,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new tM(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function Gre(n,e,t,i,r,s,c,d){const p=new tM(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function ire(){return new Xi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const D=p.current;let L="";L=0===b?"finalize":_===b?"upload, finalize":"upload";const U={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":`${p.current}`},ie=i.slice(D,D+b);if(null===ie)throw PW();const ot=new Zc(t,"POST",function le(at,Ft){const Nt=iL(at,["active","final"]),Cn=p.current+b,Ir=i.size();let Ea;return Ea="final"===Nt?eM(e,s)(at,Ft):null,new tM(Cn,Ir,"final"===Nt,Ea)},e.maxUploadRetryTime);return ot.headers=U,ot.body=ie.uploadData(),ot.progressCallback=d||null,ot.errorHandler=Xy(n),ot}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,tc,r,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=qW(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function ZW(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let ot="";for(let at=0;at<2;at++)ot+=Math.random().toString().slice(2);return ot}();c["Content-Type"]="multipart/related; boundary="+p;const _=YW(e,i,r),b=nL(_,t),L=Yc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===L)throw PW();const U={name:_.fullPath},ie=ud(s,n.host,n._protocol),qe=n.maxUploadRetryTime,nt=new Zc(ie,"POST",eM(n,t),qe);return nt.urlParams=U,nt.headers=c,nt.body=L.uploadData(),nt.errorHandler=Xy(e),nt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=OW(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=rL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new Wre(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(rL(this._state)){case mo.SUCCESS:Jy(this._resolve.bind(null,this.snapshot))();break;case mo.CANCELED:case mo.ERROR:Jy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rL(this._state)){case mo.RUNNING:case mo.PAUSED:e.next&&Jy(e.next.bind(e,this.snapshot))();break;case mo.SUCCESS:e.complete&&Jy(e.complete.bind(e))();break;default:e.error&&Jy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Um{constructor(e,t){this._service=e,this._location=t instanceof $s?t:$s.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Um(e,t)}get root(){const e=new $s(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zW(this._location.path)}get storage(){return this._service}get parent(){const e=function Sre(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new $s(this._location.bucket,e);return new Um(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw NW(e)}}function t6(n,e,t){return sL.apply(this,arguments)}function sL(){return sL=(0,Me.Z)(function*(n,e,t){const r=yield n6(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield t6(n,e,r.nextPageToken))}),sL.apply(this,arguments)}function n6(n,e){null!=e&&"number"==typeof e.maxResults&&XN("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Lre(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,tc)}function ose(n){n._throwIfRoot("getDownloadURL");const e=function Bre(n,e,t){const r=ud(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Zc(r,"GET",function Nre(n,e){return function t(i,r){const s=GW(n,r,e);return Qc(null!==s),function kre(n,e,t,i){const r=tL(e);if(null===r||!QT(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const D=n.fullPath;return ud("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+BW({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=TE(e),d}(n.storage,n._location,IE());return n.storage.makeRequestWithTokens(e,tc).then(t=>{if(null===t)throw function rre(){return new Xi("no-download-url","The given file does not have any download URLs.")}();return t})}function i6(n,e){const t=function Ire(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new $s(n._location.bucket,t);return new Um(n.storage,i)}function r6(n,e){if(n instanceof oL){const t=n;if(null==t._bucket)throw function nre(){return new Xi("no-default-bucket","No default bucket found. Did you set the '"+RW+"' property when initializing the app?")}();const i=new Um(t,t._bucket);return null!=e?r6(i,e):i}return void 0!==e?i6(n,e):n}function use(n,e){if(e&&function lse(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof oL)return function cse(n,e){return new Um(n,e)}(n,e);throw Qy("To use ref(service, url), the first argument must be a Storage instance.")}return r6(n,e)}function s6(n,e){const t=e?.[RW];return null==t?null:$s.makeFromBucketSpec(t,n)}class oL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=AW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$s.makeFromBucketSpec(r,this._host):s6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?$s.makeFromBucketSpec(this._url,e):s6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Um(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new ore(FW());{const c=function _re(n,e,t,i,r,s,c=!0){const d=BW(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function mre(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function fre(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function pre(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function gre(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new hre(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,Me.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const o6="@firebase/storage";function c6(n,e){return use(n=(0,V.m9)(n),e)}function bse(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new oL(t,i,r,e,so.SDK_VERSION)}!function wse(){(0,so._registerComponent)(new Kl.wA("storage",bse,"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(o6,"0.10.1",""),(0,so.registerVersion)(o6,"0.10.1","esm2017")}();class nM{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class d6{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new nM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new nM(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new nM(c,this,this._ref)):{next:t.next?c=>t.next(new nM(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class h6{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new dd(e,this._service))}get items(){return this._delegate.items.map(e=>new dd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class dd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function vse(n,e){return i6(n,e)}(this._delegate,e);return new dd(t,this.storage)}get root(){return new dd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new dd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new d6(function hse(n,e,t){return function tse(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new JW(n,new Yc(e),t)}(n=(0,V.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=wa.RAW,i){this._throwIfRoot("putString");const r=eL(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new d6(new JW(this._delegate,new Yc(r.data,!0),s),this)}listAll(){return function gse(n){return function ise(n){const e={prefixes:[],items:[]};return t6(n,e).then(()=>e)}(n=(0,V.m9)(n))}(this._delegate).then(e=>new h6(e,this.storage))}list(e){return function mse(n,e){return n6(n=(0,V.m9)(n),e)}(this._delegate,e||void 0).then(t=>new h6(t,this.storage))}getMetadata(){return function fse(n){return function rse(n){n._throwIfRoot("getMetadata");const e=qW(n.storage,n._location,IE());return n.storage.makeRequestWithTokens(e,tc)}(n=(0,V.m9)(n))}(this._delegate)}updateMetadata(e){return function pse(n,e){return function sse(n,e){n._throwIfRoot("updateMetadata");const t=function Ure(n,e,t,i){const s=ud(e.fullServerUrl(),n.host,n._protocol),d=nL(t,i),_=n.maxOperationRetryTime,b=new Zc(s,"PATCH",eM(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=TE(e),b}(n.storage,n._location,e,IE());return n.storage.makeRequestWithTokens(t,tc)}(n=(0,V.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function _se(n){return ose(n=(0,V.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function yse(n){return function ase(n){n._throwIfRoot("deleteObject");const e=function Vre(n,e){const i=ud(e.fullServerUrl(),n.host,n._protocol),d=new Zc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=TE(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tc)}(n=(0,V.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw NW(e)}}class f6{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(p6(e))throw Qy("ref() expected a child path but got a URL, use refFromURL instead.");return new dd(c6(this._delegate,e),this)}refFromURL(e){if(!p6(e))throw Qy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$s.makeFromUrl(e,this._delegate.host)}catch{throw Qy("refFromUrl() expected a valid full URL but got an invalid one.")}return new dd(c6(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function u6(n,e,t,i={}){!function dse(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,V.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function p6(n){return/^[A-Za-z]+:\/\//.test(n)}function Dse(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new f6(t,i)}function m6(n){const e=function Ise(n){return new Ni.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe((0,V_.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,yt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function iM(n){return{getDownloadURL:()=>(0,bt.of)(void 0).pipe(Wn.fc,(0,_i.w)(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>(0,bt.of)(void 0).pipe(Wn.fc,(0,_i.w)(()=>n.getMetadata()),Wn.iC),delete:()=>(0,$n.D)(n.delete()),child:e=>iM(n.child(e)),updateMetadata:e=>(0,$n.D)(n.updateMetadata(e)),put:(e,t)=>m6(n.put(e,t)),putString:(e,t,i)=>m6(n.putString(e,t,i)),list:e=>(0,$n.D)(n.list(e)),listAll:()=>(0,$n.D)(n.listAll())}}!function Sse(n){const e={TaskState:mo,TaskEvent:$re,StringFormat:wa,Storage:f6,Reference:dd};n.INTERNAL.registerComponent(new Kl.wA("storage-compat",Dse,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.1")}(nO.Z);const Tse=new l.OlP("angularfire2.storageBucket"),Mse=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Ase=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Rse=new l.OlP("angularfire2.storage.use-emulator");let kse=(()=>{class n{constructor(t,i,r,s,c,d,p,_,b,D){const A=(0,Hr.on)(t,c,i);this.storage=(0,Hr.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const L=c.runOutsideAngular(()=>A.storage(r||void 0)),U=b;return U&&L.useEmulator(...U),p&&L.setMaxUploadRetryTime(p),_&&L.setMaxOperationRetryTime(_),L},[p,_])}ref(t){return iM(this.storage.ref(t))}refFromURL(t){return iM(this.storage.refFromURL(t))}upload(t,i,r){return iM(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr.Dh),l.LFG(Hr.xv,8),l.LFG(Tse,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(Mse,8),l.LFG(Ase,8),l.LFG(Rse,8),l.LFG(Gw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ose=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Pse=(()=>{class n{constructor(){DF.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kse],imports:[Ose]}),n})();class ev{}ev.\u0275fac=function(e){return new(e||ev)},ev.\u0275mod=l.oAB({type:ev}),ev.\u0275inj=l.cJS({imports:[Hr.hO.initializeApp({apiKey:"AIzaSyAdPpQH5iwVufuPLpIoOeCNlnCaF3aOefU",authDomain:"game-apps-e5fcc.firebaseapp.com",projectId:"game-apps-e5fcc",storageBucket:"game-apps-e5fcc.appspot.com",messagingSenderId:"698497390636",appId:"1:698497390636:web:6b7f0c2dfc99e884115989",measurementId:"G-2RY0T555GP"},"game-apps"),Hr.hO,BX,$ie,Pse]});var Nse=T(825);class tv{}tv.\u0275fac=function(e){return new(e||tv)},tv.\u0275mod=l.oAB({type:tv,bootstrap:[Yw]}),tv.\u0275inj=l.cJS({providers:[Zl],imports:[Fu,kf,By,$l,Qu,ev,Cs.Aw.forRoot({}),uG.forRoot([]),Nse.FT.instrument({maxAge:50,logOnly:true})]}),(0,l.G48)(),So().bootstrapModule(tv).catch(n=>console.error(n))},1135:(se,Y,T)=>{T.d(Y,{X:()=>N});var l=T(7579);class N extends l.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const j=super._subscribe(ee);return!j.closed&&ee.next(this._value),j}getValue(){const{hasError:ee,thrownError:j,_value:H}=this;if(ee)throw j;return this._throwIfClosed(),H}next(ee){super.next(this._value=ee)}}},9751:(se,Y,T)=>{T.d(Y,{y:()=>ne});var l=T(930),N=T(727),R=T(8822),ee=T(9635),j=T(2416),H=T(576),te=T(2806);let ne=(()=>{class Z{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Le=new Z;return Le.source=this,Le.operator=Ce,Le}subscribe(Ce,Le,Ge){const pe=function G(Z){return Z&&Z instanceof l.Lv||function z(Z){return Z&&(0,H.m)(Z.next)&&(0,H.m)(Z.error)&&(0,H.m)(Z.complete)}(Z)&&(0,N.Nn)(Z)}(Ce)?Ce:new l.Hp(Ce,Le,Ge);return(0,te.x)(()=>{const{operator:ve,source:xe}=this;pe.add(ve?ve.call(pe,xe):xe?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Le){Ce.error(Le)}}forEach(Ce,Le){return new(Le=J(Le))((Ge,pe)=>{const ve=new l.Hp({next:xe=>{try{Ce(xe)}catch(Ee){pe(Ee),ve.unsubscribe()}},error:pe,complete:Ge});this.subscribe(ve)})}_subscribe(Ce){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ce)}[R.L](){return this}pipe(...Ce){return(0,ee.U)(Ce)(this)}toPromise(Ce){return new(Ce=J(Ce))((Le,Ge)=>{let pe;this.subscribe(ve=>pe=ve,ve=>Ge(ve),()=>Le(pe))})}}return Z.create=ge=>new Z(ge),Z})();function J(Z){var ge;return null!==(ge=Z??j.v.Promise)&&void 0!==ge?ge:Promise}},4707:(se,Y,T)=>{T.d(Y,{t:()=>R});var l=T(7579),N=T(6063);class R extends l.x{constructor(j=1/0,H=1/0,te=N.l){super(),this._bufferSize=j,this._windowTime=H,this._timestampProvider=te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=H===1/0,this._bufferSize=Math.max(1,j),this._windowTime=Math.max(1,H)}next(j){const{isStopped:H,_buffer:te,_infiniteTimeWindow:ne,_timestampProvider:J,_windowTime:z}=this;H||(te.push(j),!ne&&te.push(J.now()+z)),this._trimBuffer(),super.next(j)}_subscribe(j){this._throwIfClosed(),this._trimBuffer();const H=this._innerSubscribe(j),{_infiniteTimeWindow:te,_buffer:ne}=this,J=ne.slice();for(let z=0;z<J.length&&!j.closed;z+=te?1:2)j.next(J[z]);return this._checkFinalizedStatuses(j),H}_trimBuffer(){const{_bufferSize:j,_timestampProvider:H,_buffer:te,_infiniteTimeWindow:ne}=this,J=(ne?1:2)*j;if(j<1/0&&J<te.length&&te.splice(0,te.length-J),!ne){const z=H.now();let G=0;for(let Z=1;Z<te.length&&te[Z]<=z;Z+=2)G=Z;G&&te.splice(0,G+1)}}}},7579:(se,Y,T)=>{T.d(Y,{x:()=>te});var l=T(9751),N=T(727);const ee=(0,T(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=T(8737),H=T(2806);let te=(()=>{class J extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Z=new ne(this,this);return Z.operator=G,Z}_throwIfClosed(){if(this.closed)throw new ee}next(G){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(G)}})}error(G){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Z}=this;for(;Z.length;)Z.shift().error(G)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Z,isStopped:ge,observers:Ce}=this;return Z||ge?N.Lc:(this.currentObservers=null,Ce.push(G),new N.w0(()=>{this.currentObservers=null,(0,j.P)(Ce,G)}))}_checkFinalizedStatuses(G){const{hasError:Z,thrownError:ge,isStopped:Ce}=this;Z?G.error(ge):Ce&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return J.create=(z,G)=>new ne(z,G),J})();class ne extends te{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Z||Z.call(G,z)}error(z){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Z||Z.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,Z;return null!==(Z=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==Z?Z:N.Lc}}},930:(se,Y,T)=>{T.d(Y,{Hp:()=>Ge,Lv:()=>Z});var l=T(576),N=T(727),R=T(2416),ee=T(7849),j=T(5032);const H=J("C",void 0,void 0);function J(Ae,Re,ke){return{kind:Ae,value:Re,error:ke}}var z=T(3410),G=T(2806);class Z extends N.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,N.Nn)(Re)&&Re.add(this)):this.destination=Ee}static create(Re,ke,$e){return new Ge(Re,ke,$e)}next(Re){this.isStopped?xe(function ne(Ae){return J("N",Ae,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?xe(function te(Ae){return J("E",void 0,Ae)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?xe(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function Ce(Ae,Re){return ge.call(Ae,Re)}class Le{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Re)}catch($e){pe($e)}}error(Re){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Re)}catch($e){pe($e)}else pe(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(ke){pe(ke)}}}class Ge extends Z{constructor(Re,ke,$e){let de;if(super(),(0,l.m)(Re)||!Re)de={next:Re??void 0,error:ke??void 0,complete:$e??void 0};else{let _e;this&&R.v.useDeprecatedNextContext?(_e=Object.create(Re),_e.unsubscribe=()=>this.unsubscribe(),de={next:Re.next&&Ce(Re.next,_e),error:Re.error&&Ce(Re.error,_e),complete:Re.complete&&Ce(Re.complete,_e)}):de=Re}this.destination=new Le(de)}}function pe(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,ee.h)(Ae)}function xe(Ae,Re){const{onStoppedNotification:ke}=R.v;ke&&z.z.setTimeout(()=>ke(Ae,Re))}const Ee={closed:!0,next:j.Z,error:function ve(Ae){throw Ae},complete:j.Z}},727:(se,Y,T)=>{T.d(Y,{Lc:()=>H,w0:()=>j,Nn:()=>te});var l=T(576);const R=(0,T(3888).d)(J=>function(G){J(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Z,ge)=>`${ge+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ee=T(8737);class j{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ce of G)Ce.remove(this);else G.remove(this);const{initialTeardown:Z}=this;if((0,l.m)(Z))try{Z()}catch(Ce){z=Ce instanceof R?Ce.errors:[Ce]}const{_finalizers:ge}=this;if(ge){this._finalizers=null;for(const Ce of ge)try{ne(Ce)}catch(Le){z=z??[],Le instanceof R?z=[...z,...Le.errors]:z.push(Le)}}if(z)throw new R(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ne(z);else{if(z instanceof j){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,ee.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,ee.P)(G,z),z instanceof j&&z._removeParent(this)}}j.EMPTY=(()=>{const J=new j;return J.closed=!0,J})();const H=j.EMPTY;function te(J){return J instanceof j||J&&"closed"in J&&(0,l.m)(J.remove)&&(0,l.m)(J.add)&&(0,l.m)(J.unsubscribe)}function ne(J){(0,l.m)(J)?J():J.unsubscribe()}},2416:(se,Y,T)=>{T.d(Y,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(se,Y,T)=>{T.d(Y,{E:()=>N});const N=new(T(9751).y)(j=>j.complete())},8996:(se,Y,T)=>{T.d(Y,{D:()=>Re});var l=T(8421),N=T(5363),R=T(9468),H=T(9751),ne=T(2202),J=T(576),z=T(9672);function Z(ke,$e){if(!ke)throw new Error("Iterable cannot be null");return new H.y(de=>{(0,z.f)(de,$e,()=>{const _e=ke[Symbol.asyncIterator]();(0,z.f)(de,$e,()=>{_e.next().then(Oe=>{Oe.done?de.complete():de.next(Oe.value)})},0,!0)})})}var ge=T(3670),Ce=T(8239),Le=T(1144),Ge=T(6495),pe=T(2206),ve=T(4532),xe=T(3260);function Re(ke,$e){return $e?function Ae(ke,$e){if(null!=ke){if((0,ge.c)(ke))return function ee(ke,$e){return(0,l.Xf)(ke).pipe((0,R.R)($e),(0,N.Q)($e))}(ke,$e);if((0,Le.z)(ke))return function te(ke,$e){return new H.y(de=>{let _e=0;return $e.schedule(function(){_e===ke.length?de.complete():(de.next(ke[_e++]),de.closed||this.schedule())})})}(ke,$e);if((0,Ce.t)(ke))return function j(ke,$e){return(0,l.Xf)(ke).pipe((0,R.R)($e),(0,N.Q)($e))}(ke,$e);if((0,pe.D)(ke))return Z(ke,$e);if((0,Ge.T)(ke))return function G(ke,$e){return new H.y(de=>{let _e;return(0,z.f)(de,$e,()=>{_e=ke[ne.h](),(0,z.f)(de,$e,()=>{let Oe,it;try{({value:Oe,done:it}=_e.next())}catch(et){return void de.error(et)}it?de.complete():de.next(Oe)},0,!0)}),()=>(0,J.m)(_e?.return)&&_e.return()})}(ke,$e);if((0,xe.L)(ke))return function Ee(ke,$e){return Z((0,xe.Q)(ke),$e)}(ke,$e)}throw(0,ve.z)(ke)}(ke,$e):(0,l.Xf)(ke)}},8421:(se,Y,T)=>{T.d(Y,{Xf:()=>ge});var l=T(655),N=T(1144),R=T(8239),ee=T(9751),j=T(3670),H=T(2206),te=T(4532),ne=T(6495),J=T(3260),z=T(576),G=T(7849),Z=T(8822);function ge(Ae){if(Ae instanceof ee.y)return Ae;if(null!=Ae){if((0,j.c)(Ae))return function Ce(Ae){return new ee.y(Re=>{const ke=Ae[Z.L]();if((0,z.m)(ke.subscribe))return ke.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,N.z)(Ae))return function Le(Ae){return new ee.y(Re=>{for(let ke=0;ke<Ae.length&&!Re.closed;ke++)Re.next(Ae[ke]);Re.complete()})}(Ae);if((0,R.t)(Ae))return function Ge(Ae){return new ee.y(Re=>{Ae.then(ke=>{Re.closed||(Re.next(ke),Re.complete())},ke=>Re.error(ke)).then(null,G.h)})}(Ae);if((0,H.D)(Ae))return ve(Ae);if((0,ne.T)(Ae))return function pe(Ae){return new ee.y(Re=>{for(const ke of Ae)if(Re.next(ke),Re.closed)return;Re.complete()})}(Ae);if((0,J.L)(Ae))return function xe(Ae){return ve((0,J.Q)(Ae))}(Ae)}throw(0,te.z)(Ae)}function ve(Ae){return new ee.y(Re=>{(function Ee(Ae,Re){var ke,$e,de,_e;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ke=(0,l.KL)(Ae);!($e=yield ke.next()).done;)if(Re.next($e.value),Re.closed)return}catch(Oe){de={error:Oe}}finally{try{$e&&!$e.done&&(_e=ke.return)&&(yield _e.call(ke))}finally{if(de)throw de.error}}Re.complete()})})(Ae,Re).catch(ke=>Re.error(ke))})}},6451:(se,Y,T)=>{T.d(Y,{T:()=>H});var l=T(8189),N=T(8421),R=T(515),ee=T(3269),j=T(8996);function H(...te){const ne=(0,ee.yG)(te),J=(0,ee._6)(te,1/0),z=te;return z.length?1===z.length?(0,N.Xf)(z[0]):(0,l.J)(J)((0,j.D)(z,ne)):R.E}},9646:(se,Y,T)=>{T.d(Y,{of:()=>R});var l=T(3269),N=T(8996);function R(...ee){const j=(0,l.yG)(ee);return(0,N.D)(ee,j)}},5403:(se,Y,T)=>{T.d(Y,{Q:()=>R,x:()=>N});var l=T(930);function N(ee,j,H,te,ne){return new R(ee,j,H,te,ne)}class R extends l.Lv{constructor(j,H,te,ne,J,z){super(j),this.onFinalize=J,this.shouldUnsubscribe=z,this._next=H?function(G){try{H(G)}catch(Z){j.error(Z)}}:super._next,this._error=ne?function(G){try{ne(G)}catch(Z){j.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(G){j.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},262:(se,Y,T)=>{T.d(Y,{K:()=>ee});var l=T(8421),N=T(5403),R=T(4482);function ee(j){return(0,R.e)((H,te)=>{let z,ne=null,J=!1;ne=H.subscribe((0,N.x)(te,void 0,void 0,G=>{z=(0,l.Xf)(j(G,ee(j)(H))),ne?(ne.unsubscribe(),ne=null,z.subscribe(te)):J=!0})),J&&(ne.unsubscribe(),ne=null,z.subscribe(te))})}},4351:(se,Y,T)=>{T.d(Y,{b:()=>R});var l=T(5577),N=T(576);function R(ee,j){return(0,N.m)(j)?(0,l.z)(ee,j,1):(0,l.z)(ee,1)}},8372:(se,Y,T)=>{T.d(Y,{b:()=>ee});var l=T(4986),N=T(4482),R=T(5403);function ee(j,H=l.z){return(0,N.e)((te,ne)=>{let J=null,z=null,G=null;const Z=()=>{if(J){J.unsubscribe(),J=null;const Ce=z;z=null,ne.next(Ce)}};function ge(){const Ce=G+j,Le=H.now();if(Le<Ce)return J=this.schedule(void 0,Ce-Le),void ne.add(J);Z()}te.subscribe((0,R.x)(ne,Ce=>{z=Ce,G=H.now(),J||(J=H.schedule(ge,j),ne.add(J))},()=>{Z(),ne.complete()},void 0,()=>{z=J=null}))})}},1884:(se,Y,T)=>{T.d(Y,{x:()=>ee});var l=T(4671),N=T(4482),R=T(5403);function ee(H,te=l.y){return H=H??j,(0,N.e)((ne,J)=>{let z,G=!0;ne.subscribe((0,R.x)(J,Z=>{const ge=te(Z);(G||!H(z,ge))&&(G=!1,z=ge,J.next(Z))}))})}function j(H,te){return H===te}},9300:(se,Y,T)=>{T.d(Y,{h:()=>R});var l=T(4482),N=T(5403);function R(ee,j){return(0,l.e)((H,te)=>{let ne=0;H.subscribe((0,N.x)(te,J=>ee.call(j,J,ne++)&&te.next(J)))})}},4004:(se,Y,T)=>{T.d(Y,{U:()=>R});var l=T(4482),N=T(5403);function R(ee,j){return(0,l.e)((H,te)=>{let ne=0;H.subscribe((0,N.x)(te,J=>{te.next(ee.call(j,J,ne++))}))})}},8189:(se,Y,T)=>{T.d(Y,{J:()=>R});var l=T(5577),N=T(4671);function R(ee=1/0){return(0,l.z)(N.y,ee)}},5577:(se,Y,T)=>{T.d(Y,{z:()=>ne});var l=T(4004),N=T(8421),R=T(4482),ee=T(9672),j=T(5403),te=T(576);function ne(J,z,G=1/0){return(0,te.m)(z)?ne((Z,ge)=>(0,l.U)((Ce,Le)=>z(Z,Ce,ge,Le))((0,N.Xf)(J(Z,ge))),G):("number"==typeof z&&(G=z),(0,R.e)((Z,ge)=>function H(J,z,G,Z,ge,Ce,Le,Ge){const pe=[];let ve=0,xe=0,Ee=!1;const Ae=()=>{Ee&&!pe.length&&!ve&&z.complete()},Re=$e=>ve<Z?ke($e):pe.push($e),ke=$e=>{Ce&&z.next($e),ve++;let de=!1;(0,N.Xf)(G($e,xe++)).subscribe((0,j.x)(z,_e=>{ge?.(_e),Ce?Re(_e):z.next(_e)},()=>{de=!0},void 0,()=>{if(de)try{for(ve--;pe.length&&ve<Z;){const _e=pe.shift();Le?(0,ee.f)(z,Le,()=>ke(_e)):ke(_e)}Ae()}catch(_e){z.error(_e)}}))};return J.subscribe((0,j.x)(z,Re,()=>{Ee=!0,Ae()})),()=>{Ge?.()}}(Z,ge,J,G)))}},5363:(se,Y,T)=>{T.d(Y,{Q:()=>ee});var l=T(9672),N=T(4482),R=T(5403);function ee(j,H=0){return(0,N.e)((te,ne)=>{te.subscribe((0,R.x)(ne,J=>(0,l.f)(ne,j,()=>ne.next(J),H),()=>(0,l.f)(ne,j,()=>ne.complete(),H),J=>(0,l.f)(ne,j,()=>ne.error(J),H)))})}},5026:(se,Y,T)=>{T.d(Y,{R:()=>ee});var l=T(4482),N=T(5403);function R(j,H,te,ne,J){return(z,G)=>{let Z=te,ge=H,Ce=0;z.subscribe((0,N.x)(G,Le=>{const Ge=Ce++;ge=Z?j(ge,Le,Ge):(Z=!0,Le),ne&&G.next(ge)},J&&(()=>{Z&&G.next(ge),G.complete()})))}}function ee(j,H){return(0,l.e)(R(j,H,arguments.length>=2,!0))}},3099:(se,Y,T)=>{T.d(Y,{B:()=>j});var l=T(8421),N=T(7579),R=T(930),ee=T(4482);function j(te={}){const{connector:ne=(()=>new N.x),resetOnError:J=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=te;return Z=>{let ge,Ce,Le,Ge=0,pe=!1,ve=!1;const xe=()=>{Ce?.unsubscribe(),Ce=void 0},Ee=()=>{xe(),ge=Le=void 0,pe=ve=!1},Ae=()=>{const Re=ge;Ee(),Re?.unsubscribe()};return(0,ee.e)((Re,ke)=>{Ge++,!ve&&!pe&&xe();const $e=Le=Le??ne();ke.add(()=>{Ge--,0===Ge&&!ve&&!pe&&(Ce=H(Ae,G))}),$e.subscribe(ke),!ge&&Ge>0&&(ge=new R.Hp({next:de=>$e.next(de),error:de=>{ve=!0,xe(),Ce=H(Ee,J,de),$e.error(de)},complete:()=>{pe=!0,xe(),Ce=H(Ee,z),$e.complete()}}),(0,l.Xf)(Re).subscribe(ge))})(Z)}}function H(te,ne,...J){if(!0===ne)return void te();if(!1===ne)return;const z=new R.Hp({next:()=>{z.unsubscribe(),te()}});return(0,l.Xf)(ne(...J)).subscribe(z)}},5684:(se,Y,T)=>{T.d(Y,{T:()=>N});var l=T(9300);function N(R){return(0,l.h)((ee,j)=>R<=j)}},9468:(se,Y,T)=>{T.d(Y,{R:()=>N});var l=T(4482);function N(R,ee=0){return(0,l.e)((j,H)=>{H.add(R.schedule(()=>j.subscribe(H),ee))})}},3900:(se,Y,T)=>{T.d(Y,{w:()=>ee});var l=T(8421),N=T(4482),R=T(5403);function ee(j,H){return(0,N.e)((te,ne)=>{let J=null,z=0,G=!1;const Z=()=>G&&!J&&ne.complete();te.subscribe((0,R.x)(ne,ge=>{J?.unsubscribe();let Ce=0;const Le=z++;(0,l.Xf)(j(ge,Le)).subscribe(J=(0,R.x)(ne,Ge=>ne.next(H?H(ge,Ge,Le,Ce++):Ge),()=>{J=null,Z()}))},()=>{G=!0,Z()}))})}},5698:(se,Y,T)=>{T.d(Y,{q:()=>ee});var l=T(515),N=T(4482),R=T(5403);function ee(j){return j<=0?()=>l.E:(0,N.e)((H,te)=>{let ne=0;H.subscribe((0,R.x)(te,J=>{++ne<=j&&(te.next(J),j<=ne&&te.complete())}))})}},2722:(se,Y,T)=>{T.d(Y,{R:()=>j});var l=T(4482),N=T(5403),R=T(8421),ee=T(5032);function j(H){return(0,l.e)((te,ne)=>{(0,R.Xf)(H).subscribe((0,N.x)(ne,()=>ne.complete(),ee.Z)),!ne.closed&&te.subscribe(ne)})}},8505:(se,Y,T)=>{T.d(Y,{b:()=>j});var l=T(576),N=T(4482),R=T(5403),ee=T(4671);function j(H,te,ne){const J=(0,l.m)(H)||te||ne?{next:H,error:te,complete:ne}:H;return J?(0,N.e)((z,G)=>{var Z;null===(Z=J.subscribe)||void 0===Z||Z.call(J);let ge=!0;z.subscribe((0,R.x)(G,Ce=>{var Le;null===(Le=J.next)||void 0===Le||Le.call(J,Ce),G.next(Ce)},()=>{var Ce;ge=!1,null===(Ce=J.complete)||void 0===Ce||Ce.call(J),G.complete()},Ce=>{var Le;ge=!1,null===(Le=J.error)||void 0===Le||Le.call(J,Ce),G.error(Ce)},()=>{var Ce,Le;ge&&(null===(Ce=J.unsubscribe)||void 0===Ce||Ce.call(J)),null===(Le=J.finalize)||void 0===Le||Le.call(J)}))}):ee.y}},7414:(se,Y,T)=>{T.d(Y,{V:()=>J});var l=T(4986),N=T(1165),R=T(4482),ee=T(8421),j=T(3888),H=T(5403),te=T(9672);const ne=(0,j.d)(G=>function(ge=null){G(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ge});function J(G,Z){const{first:ge,each:Ce,with:Le=z,scheduler:Ge=Z??l.z,meta:pe=null}=(0,N.q)(G)?{first:G}:"number"==typeof G?{each:G}:G;if(null==ge&&null==Ce)throw new TypeError("No timeout provided.");return(0,R.e)((ve,xe)=>{let Ee,Ae,Re=null,ke=0;const $e=de=>{Ae=(0,te.f)(xe,Ge,()=>{try{Ee.unsubscribe(),(0,ee.Xf)(Le({meta:pe,lastValue:Re,seen:ke})).subscribe(xe)}catch(_e){xe.error(_e)}},de)};Ee=ve.subscribe((0,H.x)(xe,de=>{Ae?.unsubscribe(),ke++,xe.next(Re=de),Ce>0&&$e(Ce)},void 0,void 0,()=>{Ae?.closed||Ae?.unsubscribe(),Re=null})),!ke&&$e(null!=ge?"number"==typeof ge?ge:+ge-Ge.now():Ce)})}function z(G){throw new ne(G)}},1365:(se,Y,T)=>{T.d(Y,{M:()=>te});var l=T(4482),N=T(5403),R=T(8421),ee=T(4671),j=T(5032),H=T(3269);function te(...ne){const J=(0,H.jO)(ne);return(0,l.e)((z,G)=>{const Z=ne.length,ge=new Array(Z);let Ce=ne.map(()=>!1),Le=!1;for(let Ge=0;Ge<Z;Ge++)(0,R.Xf)(ne[Ge]).subscribe((0,N.x)(G,pe=>{ge[Ge]=pe,!Le&&!Ce[Ge]&&(Ce[Ge]=!0,(Le=Ce.every(ee.y))&&(Ce=null))},j.Z));z.subscribe((0,N.x)(G,Ge=>{if(Le){const pe=[Ge,...ge];G.next(J?J(...pe):pe)}}))})}},4408:(se,Y,T)=>{T.d(Y,{o:()=>j});var l=T(727);class N extends l.w0{constructor(te,ne){super()}schedule(te,ne=0){return this}}const R={setInterval(H,te,...ne){const{delegate:J}=R;return J?.setInterval?J.setInterval(H,te,...ne):setInterval(H,te,...ne)},clearInterval(H){const{delegate:te}=R;return(te?.clearInterval||clearInterval)(H)},delegate:void 0};var ee=T(8737);class j extends N{constructor(te,ne){super(te,ne),this.scheduler=te,this.work=ne,this.pending=!1}schedule(te,ne=0){var J;if(this.closed)return this;this.state=te;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,ne)),this.pending=!0,this.delay=ne,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(G,this.id,ne),this}requestAsyncId(te,ne,J=0){return R.setInterval(te.flush.bind(te,this),J)}recycleAsyncId(te,ne,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return ne;null!=ne&&R.clearInterval(ne)}execute(te,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(te,ne);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ne){let z,J=!1;try{this.work(te)}catch(G){J=!0,z=G||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:te,scheduler:ne}=this,{actions:J}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(J,this),null!=te&&(this.id=this.recycleAsyncId(ne,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(se,Y,T)=>{T.d(Y,{v:()=>R});var l=T(6063);class N{constructor(j,H=N.now){this.schedulerActionCtor=j,this.now=H}schedule(j,H=0,te){return new this.schedulerActionCtor(this,j).schedule(te,H)}}N.now=l.l.now;class R extends N{constructor(j,H=N.now){super(j,H),this.actions=[],this._active=!1}flush(j){const{actions:H}=this;if(this._active)return void H.push(j);let te;this._active=!0;do{if(te=j.execute(j.state,j.delay))break}while(j=H.shift());if(this._active=!1,te){for(;j=H.shift();)j.unsubscribe();throw te}}}},4986:(se,Y,T)=>{T.d(Y,{P:()=>ee,z:()=>R});var l=T(4408);const R=new(T(7565).v)(l.o),ee=R},6063:(se,Y,T)=>{T.d(Y,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(se,Y,T)=>{T.d(Y,{N:()=>j});var l=T(4408),R=T(7565);const j=new class ee extends R.v{}(class N extends l.o{constructor(ne,J){super(ne,J),this.scheduler=ne,this.work=J}schedule(ne,J=0){return J>0?super.schedule(ne,J):(this.delay=J,this.state=ne,this.scheduler.flush(this),this)}execute(ne,J){return J>0||this.closed?super.execute(ne,J):this._execute(ne,J)}requestAsyncId(ne,J,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(ne,J,z):(ne.flush(this),0)}})},3410:(se,Y,T)=>{T.d(Y,{z:()=>l});const l={setTimeout(N,R,...ee){const{delegate:j}=l;return j?.setTimeout?j.setTimeout(N,R,...ee):setTimeout(N,R,...ee)},clearTimeout(N){const{delegate:R}=l;return(R?.clearTimeout||clearTimeout)(N)},delegate:void 0}},2202:(se,Y,T)=>{T.d(Y,{h:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(se,Y,T)=>{T.d(Y,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(se,Y,T)=>{T.d(Y,{_6:()=>H,jO:()=>ee,yG:()=>j});var l=T(576),N=T(3532);function R(te){return te[te.length-1]}function ee(te){return(0,l.m)(R(te))?te.pop():void 0}function j(te){return(0,N.K)(R(te))?te.pop():void 0}function H(te,ne){return"number"==typeof R(te)?te.pop():ne}},8737:(se,Y,T)=>{function l(N,R){if(N){const ee=N.indexOf(R);0<=ee&&N.splice(ee,1)}}T.d(Y,{P:()=>l})},3888:(se,Y,T)=>{function l(N){const ee=N(j=>{Error.call(j),j.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}T.d(Y,{d:()=>l})},2806:(se,Y,T)=>{T.d(Y,{O:()=>ee,x:()=>R});var l=T(2416);let N=null;function R(j){if(l.v.useDeprecatedSynchronousErrorHandling){const H=!N;if(H&&(N={errorThrown:!1,error:null}),j(),H){const{errorThrown:te,error:ne}=N;if(N=null,te)throw ne}}else j()}function ee(j){l.v.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=j)}},9672:(se,Y,T)=>{function l(N,R,ee,j=0,H=!1){const te=R.schedule(function(){ee(),H?N.add(this.schedule(null,j)):this.unsubscribe()},j);if(N.add(te),!H)return te}T.d(Y,{f:()=>l})},4671:(se,Y,T)=>{function l(N){return N}T.d(Y,{y:()=>l})},1144:(se,Y,T)=>{T.d(Y,{z:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(se,Y,T)=>{T.d(Y,{D:()=>N});var l=T(576);function N(R){return Symbol.asyncIterator&&(0,l.m)(R?.[Symbol.asyncIterator])}},1165:(se,Y,T)=>{function l(N){return N instanceof Date&&!isNaN(N)}T.d(Y,{q:()=>l})},576:(se,Y,T)=>{function l(N){return"function"==typeof N}T.d(Y,{m:()=>l})},3670:(se,Y,T)=>{T.d(Y,{c:()=>R});var l=T(8822),N=T(576);function R(ee){return(0,N.m)(ee[l.L])}},6495:(se,Y,T)=>{T.d(Y,{T:()=>R});var l=T(2202),N=T(576);function R(ee){return(0,N.m)(ee?.[l.h])}},8239:(se,Y,T)=>{T.d(Y,{t:()=>N});var l=T(576);function N(R){return(0,l.m)(R?.then)}},3260:(se,Y,T)=>{T.d(Y,{L:()=>ee,Q:()=>R});var l=T(655),N=T(576);function R(j){return(0,l.FC)(this,arguments,function*(){const te=j.getReader();try{for(;;){const{value:ne,done:J}=yield(0,l.qq)(te.read());if(J)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ne)}}finally{te.releaseLock()}})}function ee(j){return(0,N.m)(j?.getReader)}},3532:(se,Y,T)=>{T.d(Y,{K:()=>N});var l=T(576);function N(R){return R&&(0,l.m)(R.schedule)}},4482:(se,Y,T)=>{T.d(Y,{A:()=>N,e:()=>R});var l=T(576);function N(ee){return(0,l.m)(ee?.lift)}function R(ee){return j=>{if(N(j))return j.lift(function(H){try{return ee(H,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(se,Y,T)=>{function l(){}T.d(Y,{Z:()=>l})},9635:(se,Y,T)=>{T.d(Y,{U:()=>R,z:()=>N});var l=T(4671);function N(...ee){return R(ee)}function R(ee){return 0===ee.length?l.y:1===ee.length?ee[0]:function(H){return ee.reduce((te,ne)=>ne(te),H)}}},7849:(se,Y,T)=>{T.d(Y,{h:()=>R});var l=T(2416),N=T(3410);function R(ee){N.z.setTimeout(()=>{const{onUnhandledError:j}=l.v;if(!j)throw ee;j(ee)})}},4532:(se,Y,T)=>{function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(Y,{z:()=>l})},177:(se,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0});var T=function(){function R(ee,j){for(var H=0;H<j.length;H++){var te=j[H];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ee,te.key,te)}}return function(ee,j,H){return j&&R(ee.prototype,j),H&&R(ee,H),ee}}(),N=function(){function R(){!function l(R,ee){if(!(R instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,R)}return T(R,null,[{key:"playerWon",value:function(j,H){return j[0]===H&&j[1]===H&&j[2]===H||j[3]===H&&j[4]===H&&j[5]===H||j[6]===H&&j[7]===H&&j[8]===H||j[0]===H&&j[3]===H&&j[6]===H||j[1]===H&&j[4]===H&&j[7]===H||j[2]===H&&j[5]===H&&j[8]===H||j[0]===H&&j[4]===H&&j[8]===H||j[2]===H&&j[4]===H&&j[6]===H}},{key:"isGameFinished",value:function(j,H){if(!this.isMovesLeft(j,H))return!0;var ne=H.aiPlayer;return!(!this.playerWon(j,H.huPlayer)&&!this.playerWon(j,ne))}},{key:"getEmptyIndexies",value:function(j,H){var te=H.huPlayer,ne=H.aiPlayer;return j.filter(function(J){return J!==te&&J!==ne})}},{key:"isMovesLeft",value:function(j,H){return 0!==this.getEmptyIndexies(j,H).length}}]),R}();Y.default=N},6769:(se,Y,T)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function j(H,te,ne){var J=te.huPlayer,z=te.aiPlayer;function Z(pe,ve){var xe=function G(){return N.default.playerWon(H,J)?-10:N.default.playerWon(H,z)?10:0}();if(10===Math.abs(xe))return xe;if(!N.default.isMovesLeft(H,te))return 0;var Ee=99999999,Ae=N.default.getEmptyIndexies(H,te);return ve?(Ee*=-1,Ae.forEach(function(Re){H[Re]=z;var ke=Z(pe+1,!1);Ee=Math.max(Ee,ke),H[Re]=Re}),Ee):(Ae.forEach(function(Re){H[Re]=J;var ke=Z(pe+1,!0);Ee=Math.min(Ee,ke),H[Re]=Re}),Ee)}function ge(){var pe=-99999999,ve=void 0;return N.default.getEmptyIndexies(H,te).forEach(function(Ee){H[Ee]=z;var Ae=Z(0,!1);H[Ee]=Ee,Ae>pe&&(ve=Ee,pe=Ae)}),ve}function Ce(){var pe=N.default.getEmptyIndexies(H,te);return pe[Math.floor(Math.random()*pe.length)]}var Ge=-1;switch(ne){case"Easy":Ge=Ce();break;case"Normal":Ge=function Le(){var pe=ge(),ve=Ce();return Math.random()<.75?pe:ve}();break;case"Hard":Ge=ge();break;default:throw Error("Difficulty not valid!")}return Ge};var N=function R(H){return H&&H.__esModule?H:{default:H}}(T(177))},5861:(se,Y,T)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function H(te,ne,J){var Le,Ge,z={winner:null,board:null};if(N.default.isGameFinished(te,ne)){var Z=(Le=N.default.playerWon(te,ne.huPlayer),Ge=N.default.playerWon(te,ne.aiPlayer),Le?"huPlayer":Ge?"aiPlayer":"draw");z.board=te,z.winner=Z}else{var ge=function G(){var Le=(0,ee.default)(te,ne,J),Ge=Array.from(te);return void 0!==Le&&(Ge[Le]=ne.aiPlayer),Ge}();if(N.default.isGameFinished(ge,ne)){var Ce=N.default.playerWon(ge,ne.aiPlayer)?"aiPlayer":"draw";z.board=ge,z.winner=Ce}else z.board=ge}return z};var N=j(T(177)),ee=j(T(6769));function j(te){return te&&te.__esModule?te:{default:te}}},7712:(se,Y,T)=>{var R=H(T(6769)),j=H(T(5861));function H(ne){return ne&&ne.__esModule?ne:{default:ne}}Y.Z={ComputerMove:R.default,GameStep:j.default}},655:(se,Y,T)=>{function ee(be,Ie){var Pe={};for(var Ue in be)Object.prototype.hasOwnProperty.call(be,Ue)&&Ie.indexOf(Ue)<0&&(Pe[Ue]=be[Ue]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Ue=Object.getOwnPropertySymbols(be);Ze<Ue.length;Ze++)Ie.indexOf(Ue[Ze])<0&&Object.prototype.propertyIsEnumerable.call(be,Ue[Ze])&&(Pe[Ue[Ze]]=be[Ue[Ze]])}return Pe}function Z(be,Ie,Pe,Ue){return new(Pe||(Pe=Promise))(function(Qe,ut){function st(It){try{Mt(Ue.next(It))}catch(dt){ut(dt)}}function xn(It){try{Mt(Ue.throw(It))}catch(dt){ut(dt)}}function Mt(It){It.done?Qe(It.value):function Ze(Qe){return Qe instanceof Pe?Qe:new Pe(function(ut){ut(Qe)})}(It.value).then(st,xn)}Mt((Ue=Ue.apply(be,Ie||[])).next())})}function Ae(be){return this instanceof Ae?(this.v=be,this):new Ae(be)}function Re(be,Ie,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Ue=Pe.apply(be,Ie||[]),Qe=[];return Ze={},ut("next"),ut("throw"),ut("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function ut(mn){Ue[mn]&&(Ze[mn]=function(Tn){return new Promise(function(In,gn){Qe.push([mn,Tn,In,gn])>1||st(mn,Tn)})})}function st(mn,Tn){try{!function xn(mn){mn.value instanceof Ae?Promise.resolve(mn.value.v).then(Mt,It):dt(Qe[0][2],mn)}(Ue[mn](Tn))}catch(In){dt(Qe[0][3],In)}}function Mt(mn){st("next",mn)}function It(mn){st("throw",mn)}function dt(mn,Tn){mn(Tn),Qe.shift(),Qe.length&&st(Qe[0][0],Qe[0][1])}}function $e(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ie=be[Symbol.asyncIterator];return Ie?Ie.call(be):(be=function Ge(be){var Ie="function"==typeof Symbol&&Symbol.iterator,Pe=Ie&&be[Ie],Ue=0;if(Pe)return Pe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Ue>=be.length&&(be=void 0),{value:be&&be[Ue++],done:!be}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Pe={},Ue("next"),Ue("throw"),Ue("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Ue(Qe){Pe[Qe]=be[Qe]&&function(ut){return new Promise(function(st,xn){!function Ze(Qe,ut,st,xn){Promise.resolve(xn).then(function(Mt){Qe({value:Mt,done:st})},ut)}(st,xn,(ut=be[Qe](ut)).done,ut.value)})}}}T.d(Y,{FC:()=>Re,KL:()=>$e,_T:()=>ee,mG:()=>Z,qq:()=>Ae})},9671:(se,Y,T)=>{function l(R,ee,j,H,te,ne,J){try{var z=R[ne](J),G=z.value}catch(Z){return void j(Z)}z.done?ee(G):Promise.resolve(G).then(H,te)}function N(R){return function(){var ee=this,j=arguments;return new Promise(function(H,te){var ne=R.apply(ee,j);function J(G){l(ne,H,te,J,z,"next",G)}function z(G){l(ne,H,te,J,z,"throw",G)}J(void 0)})}}T.d(Y,{Z:()=>N})},4650:(se,Y,T)=>{T.d(Y,{$8M:()=>_u,$WT:()=>ii,$Z:()=>BC,AFp:()=>L_,AaK:()=>ne,BQk:()=>i_,CHM:()=>Ef,CRH:()=>k_,CZH:()=>b0,CqO:()=>vb,D6c:()=>Oh,EJc:()=>tS,EiD:()=>aC,EpF:()=>ux,F$t:()=>bb,F4k:()=>ha,FYo:()=>bc,FiY:()=>ue,G48:()=>SB,Gf:()=>wR,GfV:()=>wC,GkF:()=>Tc,Gpc:()=>G,Gre:()=>Px,Hsn:()=>fx,Ikx:()=>Bb,JOm:()=>Ao,JVY:()=>hM,JZr:()=>Ge,Jf7:()=>Lv,KtG:()=>yd,L6k:()=>eC,LAX:()=>tC,LFG:()=>Xe,Lbi:()=>sB,Lck:()=>iR,MAs:()=>Qa,MMx:()=>Jb,MR2:()=>EM,NdJ:()=>r_,O4$:()=>cu,OlP:()=>fn,Oqu:()=>d_,P3R:()=>dC,PXZ:()=>vB,Q6J:()=>Ul,QGY:()=>yb,QbO:()=>OR,Qsj:()=>ca,R0b:()=>Uo,RDi:()=>lM,Rgc:()=>Ja,SBq:()=>Kd,Sil:()=>aB,Suo:()=>FD,TTD:()=>Ta,TgZ:()=>wp,Tol:()=>Mb,Udp:()=>Tb,W1O:()=>BD,WFA:()=>s_,X6Q:()=>DB,XFs:()=>_t,Xpm:()=>go,Xts:()=>Rv,Y36:()=>Ol,YKP:()=>gD,YNc:()=>Bl,Yjl:()=>qs,Yz7:()=>dt,Z0I:()=>gn,ZZ4:()=>hS,_Bn:()=>Xb,_UZ:()=>oh,_Vd:()=>sp,_c5:()=>VB,_uU:()=>Ob,aQg:()=>I0,c2e:()=>PR,cJS:()=>Tn,cg1:()=>Vb,d8E:()=>Ub,dDg:()=>mB,dqk:()=>Vt,eBb:()=>Ev,eFA:()=>qR,ekj:()=>Hu,eoX:()=>GR,f3M:()=>ct,g9A:()=>kR,h0i:()=>Ch,hGG:()=>fS,hij:()=>h_,iGM:()=>PD,ifc:()=>Ve,ip1:()=>QD,jDz:()=>vD,kL8:()=>Ip,kcU:()=>qi,lG2:()=>yo,lqb:()=>Fu,lri:()=>jR,mCW:()=>Cg,n5z:()=>gu,n_E:()=>A_,oAB:()=>_o,oxw:()=>dx,pB0:()=>uL,q3G:()=>Yi,q4F:()=>EC,qLn:()=>Yd,qOj:()=>Qg,qZA:()=>n_,qzn:()=>Xf,rWj:()=>zR,sBO:()=>IB,s_b:()=>Wu,soG:()=>B_,tBr:()=>Q,tb:()=>JD,tp0:()=>ze,uIk:()=>gb,vHH:()=>pe,vpe:()=>Xa,wAp:()=>$t,xp6:()=>Kv,ynx:()=>Ic,z2F:()=>C0,z3N:()=>la,zSh:()=>Pv,zs3:()=>Zd});var l=T(7579),N=T(727),R=T(9751),ee=T(6451),j=T(3099);function H(o){for(let a in o)if(o[a]===H)return a;throw Error("Could not find renamed property on target object.")}function te(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ne(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ne).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function J(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const z=H({__forward_ref__:H});function G(o){return o.__forward_ref__=G,o.toString=function(){return ne(this())},o}function Z(o){return ge(o)?o():o}function ge(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===G}function Ce(o){return o&&!!o.\u0275providers}const Ge="https://g.co/ng/security#xss";class pe extends Error{constructor(a,u){super(function ve(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function xe(o){return"string"==typeof o?o:null==o?"":String(o)}function $e(o,a){throw new pe(-201,!1)}function ut(o,a){null==o&&function st(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function dt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Tn(o){return{providers:o.providers||[],imports:o.imports||[]}}function In(o){return ei(o,er)||ei(o,bn)}function gn(o){return null!==In(o)}function ei(o,a){return o.hasOwnProperty(a)?o[a]:null}function Yn(o){return o&&(o.hasOwnProperty(Tr)||o.hasOwnProperty(li))?o[Tr]:null}const er=H({\u0275prov:H}),Tr=H({\u0275inj:H}),bn=H({ngInjectableDef:H}),li=H({ngInjectorDef:H});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Zn;function jn(o){const a=Zn;return Zn=o,a}function ti(o,a,u){const h=In(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&_t.Optional?null:void 0!==a?a:void $e(ne(o))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ci={},zn="__NG_DI_FLAG__",ji="ngTempTokenPath",mr=/\n/gm,Mr="__source";let en;function zi(o){const a=en;return en=o,a}function Qn(o,a=_t.Default){if(void 0===en)throw new pe(-203,!1);return null===en?ti(o,void 0,a):en.get(o,a&_t.Optional?null:void 0,a)}function Xe(o,a=_t.Default){return(function Ti(){return Zn}()||Qn)(Z(o),a)}function ct(o,a=_t.Default){return Xe(o,kt(a))}function kt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Bt(o){const a=[];for(let u=0;u<o.length;u++){const h=Z(o[u]);if(Array.isArray(h)){if(0===h.length)throw new pe(900,!1);let f,m=_t.Default;for(let v=0;v<h.length;v++){const E=h[v],x=re(E);"number"==typeof x?-1===x?f=E.token:m|=x:f=E}a.push(Xe(f,m))}else a.push(Xe(h))}return a}function an(o,a){return o[zn]=a,o.prototype[zn]=a,o}function re(o){return o[zn]}function K(o){return{toString:o}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),Ve=(()=>{return(o=Ve||(Ve={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ve;var o})();const wt={},rt=[],qt=H({\u0275cmp:H}),xt=H({\u0275dir:H}),Ln=H({\u0275pipe:H}),wi=H({\u0275mod:H}),zt=H({\u0275fac:H}),Gi=H({__NG_ELEMENT_ID__:H});let ll=0;function go(o){return K(()=>{const u=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||rt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ve.Emulated,id:"c"+ll++,styles:o.styles||rt,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=o.dependencies,v=o.features;return f.inputs=ul(o.inputs,h),f.outputs=ul(o.outputs),v&&v.forEach(E=>E(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(cl).filter(Ei):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ai).filter(Ei):null,f})}function cl(o){return vn(o)||Gn(o)}function Ei(o){return null!==o}function _o(o){return K(()=>({type:o.type,bootstrap:o.bootstrap||rt,declarations:o.declarations||rt,imports:o.imports||rt,exports:o.exports||rt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ul(o,a){if(null==o)return wt;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,a&&(a[f]=m)}return u}const yo=go;function qs(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function vn(o){return o[qt]||null}function Gn(o){return o[xt]||null}function Ai(o){return o[Ln]||null}function ii(o){const a=vn(o)||Gn(o)||Ai(o);return null!==a&&a.standalone}function Ri(o,a){const u=o[wi]||null;if(!u&&!0===a)throw new Error(`Type ${ne(o)} does not have '\u0275mod' property.`);return u}const $=18;function tr(o){return Array.isArray(o)&&"object"==typeof o[1]}function nr(o){return Array.isArray(o)&&!0===o[1]}function Ks(o){return 0!=(4&o.flags)}function hl(o){return o.componentOffset>-1}function Jc(o){return 1==(1&o.flags)}function $i(o){return null!==o.template}function jm(o){return 0!=(256&o[2])}function qo(o,a){return o.hasOwnProperty(zt)?o[zt]:null}class Ia{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ta(){return Ma}function Ma(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ko),sc}function sc(){const o=oc(this),a=o?.current;if(a){const u=o.previous;if(u===wt)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Ko(o,a,u,h){const f=this.declaredInputs[u],m=oc(o)||function tu(o,a){return o[Aa]=a}(o,{previous:wt,current:null}),v=m.current||(m.current={}),E=m.previous,x=E[f];v[f]=new Ia(x&&x.currentValue,a,E===wt),o[h]=a}Ta.ngInherit=!0;const Aa="__ngSimpleChanges__";function oc(o){return o[Aa]||null}function di(o){for(;Array.isArray(o);)o=o[0];return o}function bo(o,a){return di(a[o])}function Wi(o,a){return di(a[o.index])}function ac(o,a){return o.data[a]}function Pi(o,a){const u=a[o];return tr(u)?u:u[0]}function Zo(o){return 64==(64&o[2])}function fs(o,a){return null==a?null:o[a]}function ru(o){o[$]=0}function Qo(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const Qt={lFrame:Km(null),bindingsEnabled:!0};function _d(){return Qt.bindingsEnabled}function Fe(){return Qt.lFrame.lView}function _n(){return Qt.lFrame.tView}function Ef(o){return Qt.lFrame.contextLView=o,o[8]}function yd(o){return Qt.lFrame.contextLView=null,o}function Fi(){let o=ou();for(;null!==o&&64===o.type;)o=o.parent;return o}function ou(){return Qt.lFrame.currentTNode}function ps(o,a){const u=Qt.lFrame;u.currentTNode=o,u.isParent=a}function Oa(){return Qt.lFrame.isParent}function vd(){Qt.lFrame.isParent=!1}function Qs(){return Qt.lFrame.bindingIndex++}function wo(o){const a=Qt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function au(o,a){const u=Qt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Eo(a)}function Eo(o){Qt.lFrame.currentDirectiveIndex=o}function vl(o){const a=Qt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Df(){return Qt.lFrame.currentQueryIndex}function lu(o){Qt.lFrame.currentQueryIndex=o}function wd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Sf(o,a,u){if(u&_t.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||u&_t.Host||(f=wd(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const h=Qt.lFrame=qm();return h.currentTNode=a,h.lView=o,!0}function uc(o){const a=qm(),u=o[1];Qt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function qm(){const o=Qt.lFrame,a=null===o?null:o.child;return null===a?Km(o):a}function Km(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ym(){const o=Qt.lFrame;return Qt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ed=Ym;function Zm(){const o=Ym();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Rr(){return Qt.lFrame.selectedIndex}function Xs(o){Qt.lFrame.selectedIndex=o}function On(){const o=Qt.lFrame;return ac(o.tView,o.selectedIndex)}function cu(){Qt.lFrame.currentNamespace="svg"}function qi(){!function Tf(){Qt.lFrame.currentNamespace=null}()}function bl(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:M,ngOnDestroy:P}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),x&&(o.viewHooks||(o.viewHooks=[])).push(-u,x),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=P&&(o.destroyHooks||(o.destroyHooks=[])).push(u,P)}}function La(o,a,u){Dd(o,a,3,u)}function Js(o,a,u,h){(3&o[2])===u&&Dd(o,a,u,h)}function Ps(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Dd(o,a,u,h){const m=h??-1,v=a.length-1;let E=0;for(let x=void 0!==h?65535&o[$]:0;x<v;x++)if("number"==typeof a[x+1]){if(E=a[x],null!=h&&E>=h)break}else a[x]<0&&(o[$]+=65536),(E<m||-1==m)&&(dc(o,u,a,x),o[$]=(4294901760&o[$])+x+2),x++}function dc(o,a,u,h){const f=u[h]<0,m=u[h+1],E=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[$]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class wl{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Xo(o,a,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],E=u[h++];o.setAttribute(a,v,E,m)}else{const m=f,v=u[++h];xl(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),h++}}return h}function Jo(o){return 3===o||4===o||6===o}function xl(o){return 64===o.charCodeAt(0)}function ms(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?u=f:0===u||uu(o,u,f,null,-1===u||2===u?a[++h]:null)}}return o}function uu(o,a,u,h,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function du(o){return-1!==o}function Dl(o){return 32767&o}function ea(o,a){let u=function hu(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Ua=!0;function Fs(o){const a=Ua;return Ua=o,a}let Sd=0;const vr={};function Do(o,a){const u=fu(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Ha(h.data,o),Ha(a,null),Ha(h.blueprint,null));const f=Il(o,a),m=o.injectorIndex;if(du(f)){const v=Dl(f),E=ea(f,a),x=E[1].data;for(let M=0;M<8;M++)a[m+M]=E[v+M]|x[v+M]}return a[m+8]=f,m}function Ha(o,a){o.push(0,0,0,0,0,0,0,0,a)}function fu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Il(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=a;for(;null!==f;){if(h=Of(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Td(o,a,u){!function Id(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Gi)&&(h=u[Gi]),null==h&&(h=u[Gi]=Sd++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function Md(o,a,u){if(u&_t.Optional||void 0!==o)return o;$e()}function ja(o,a,u,h){if(u&_t.Optional&&void 0===h&&(h=null),!(u&(_t.Self|_t.Host))){const f=o[9],m=jn(void 0);try{return f?f.get(a,h,u&_t.Optional):ti(a,h,u&_t.Optional)}finally{jn(m)}}return Md(h,0,u)}function Af(o,a,u,h=_t.Default,f){if(null!==o){if(1024&a[2]){const v=function kf(o,a,u,h,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=gs(m,v,u,h|_t.Self,vr);if(E!==vr)return E;let x=m.parent;if(!x){const M=v[21];if(M){const P=M.get(u,vr,h);if(P!==vr)return P}x=Of(v),v=v[15]}m=x}return f}(o,a,u,h,vr);if(v!==vr)return v}const m=gs(o,a,u,h,vr);if(m!==vr)return m}return ja(a,u,h,f)}function gs(o,a,u,h,f){const m=function Ad(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Gi)?o[Gi]:void 0;return"number"==typeof a?a>=0?255&a:Rf:a}(u);if("function"==typeof m){if(!Sf(a,o,h))return h&_t.Host?Md(f,0,h):ja(a,u,h,f);try{const v=m(h);if(null!=v||h&_t.Optional)return v;$e()}finally{Ed()}}else if("number"==typeof m){let v=null,E=fu(o,a),x=-1,M=h&_t.Host?a[16][6]:null;for((-1===E||h&_t.SkipSelf)&&(x=-1===E?Il(o,a):a[E+8],-1!==x&&Or(h,!1)?(v=a[1],E=Dl(x),a=ea(x,a)):E=-1);-1!==E;){const P=a[1];if(mu(m,E,P.data)){const W=pu(E,a,u,v,h,M);if(W!==vr)return W}x=a[E+8],-1!==x&&Or(h,a[1].data[E+8]===M)&&mu(m,E,a)?(v=P,E=Dl(x),a=ea(x,a)):E=-1}}return f}function pu(o,a,u,h,f,m){const v=a[1],E=v.data[o+8],P=Tl(E,v,u,null==h?hl(E)&&Ua:h!=v&&0!=(3&E.type),f&_t.Host&&m===E);return null!==P?_s(a,v,P,E):vr}function Tl(o,a,u,h,f){const m=o.providerIndexes,v=a.data,E=1048575&m,x=o.directiveStart,P=m>>20,ae=f?E+P:o.directiveEnd;for(let fe=h?E:E+P;fe<ae;fe++){const Ne=v[fe];if(fe<x&&u===Ne||fe>=x&&Ne.type===u)return fe}if(f){const fe=v[x];if(fe&&$i(fe)&&fe.type===u)return x}return null}function _s(o,a,u,h){let f=o[u];const m=a.data;if(function kr(o){return o instanceof wl}(f)){const v=f;v.resolving&&function Ae(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new pe(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Ee(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():xe(o)}(m[u]));const E=Fs(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?jn(v.injectImpl):null;Sf(o,h,_t.Default);try{f=o[u]=v.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function xd(o,a,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const v=Ma(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==x&&jn(x),Fs(E),v.resolving=!1,Ed()}}return f}function mu(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Or(o,a){return!(o&_t.Self||o&_t.Host&&a)}class So{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Af(this._tNode,this._lView,a,kt(h),u)}}function Rf(){return new So(Fi(),Fe())}function gu(o){return K(()=>{const a=o.prototype.constructor,u=a[zt]||za(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[zt]||za(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function za(o){return ge(o)?()=>{const a=za(Z(o));return a&&a()}:qo(o)}function Of(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function _u(o){return function hc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(Jo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(Fi(),o)}const Ml="__parameters__";function fc(o,a,u){return K(()=>{const h=function Rd(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return E.annotation=v,E;function E(x,M,P){const W=x.hasOwnProperty(Ml)?x[Ml]:Object.defineProperty(x,Ml,{value:[]})[Ml];for(;W.length<=P;)W.push(null);return(W[P]=W[P]||[]).push(v),x}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class fn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=dt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $a(o,a){o.forEach(u=>Array.isArray(u)?$a(u,a):a(u))}function Jm(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Nd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Wa(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function Pr(o,a,u){let h=Ls(o,a);return h>=0?o[1|h]=u:(h=~h,function Ld(o,a,u,h){let f=o.length;if(f==a)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function Ns(o,a){const u=Ls(o,a);if(u>=0)return o[1|u]}function Ls(o,a){return function Io(o,a,u){let h=0,f=o.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=o[m<<u];if(a===v)return m<<u;v>a?f=m:h=m+1}return~(f<<u)}(o,a,1)}const Q=an(fc("Inject",o=>({token:o})),-1),ue=an(fc("Optional"),8),ze=an(fc("SkipSelf"),4);var Ao=(()=>((Ao=Ao||{})[Ao.Important=1]="Important",Ao[Ao.DashCase=2]="DashCase",Ao))();const xu=new Map;let Du=0;const Wf="__ngContext__";function gi(o,a){tr(a)?(o[Wf]=a[20],function ts(o){xu.set(o[20],o)}(a)):o[Wf]=a}function He(o,a){return undefined(o,a)}function St(o){const a=o[3];return nr(a)?a[3]:a}function ns(o){return Al(o[13])}function rr(o){return Al(o[4])}function Al(o){for(;null!==o&&!nr(o);)o=o[4];return o}function Ro(o,a,u,h,f){if(null!=h){let m,v=!1;nr(h)?m=h:tr(h)&&(v=!0,h=h[0]);const E=di(h);0===o&&null!==u?null==f?BE(a,u,E):Mu(a,u,E,f||null,!0):1===o&&null!==u?Mu(a,u,E,f||null,!0):2===o?function jd(o,a,u){const h=Au(o,a);h&&function to(o,a,u,h){o.removeChild(a,u,h)}(o,h,a,u)}(a,E,v):3===o&&a.destroyNode(E),null!=m&&function _v(o,a,u,h,f){const m=u[7];m!==di(u)&&Ro(a,o,h,m,f);for(let E=10;E<u.length;E++){const x=u[E];Gd(x[1],x,o,a,h,m)}}(a,o,m,u,f)}}function Tu(o,a,u){return o.createElement(a,u)}function yc(o,a){const u=o[9],h=u.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Qo(f,-1)),u.splice(h,1)}function mv(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&yc(f,h),a>0&&(o[u-1][4]=h[4]);const m=Nd(o,10+a);!function Kf(o,a){Gd(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function hg(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Gd(o,a,u,3,null,null),function Yf(o){let a=o[13];if(!a)return fg(o[1],o);for(;a;){let u=null;if(tr(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)tr(a)&&fg(a[1],a),a=a[3];null===a&&(a=o),tr(a)&&fg(a[1],a),u=a&&a[4]}a=u}}(a)}}function fg(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function pg(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=a[u[h]];if(!(f instanceof wl)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=f[m[v]],x=m[v+1];try{x.call(E)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function Zf(o,a){const u=o.cleanup,h=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+3];v>=0?h[f=v]():h[f=-v].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&nr(a[3])){u!==a[3]&&yc(u,a);const h=a[19];null!==h&&h.detachView(o)}!function Su(o){xu.delete(o[20])}(a)}}function LE(o,a,u){return function mg(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:m}=o.data[h.directiveStart+f];if(m===Ve.None||m===Ve.Emulated)return null}return Wi(h,u)}}(o,a.parent,u)}function Mu(o,a,u,h,f){o.insertBefore(a,u,h,f)}function BE(o,a,u){o.appendChild(a,u)}function UE(o,a,u,h,f){null!==h?Mu(o,a,u,h,f):BE(o,a,u)}function Au(o,a){return o.parentNode(a)}function VE(o,a,u){return jE(o,a,u)}let yg,bv,bg,jE=function HE(o,a,u){return 40&o.type?Wi(o,u):null};function Ru(o,a,u,h){const f=LE(o,h,a),m=a[11],E=VE(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(u))for(let x=0;x<u.length;x++)UE(m,f,u[x],E,!1);else UE(m,f,u,E,!1)}function _g(o,a){if(null!==a){const u=a.type;if(3&u)return Wi(a,o);if(4&u)return gv(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return _g(o,h);{const f=o[a.index];return nr(f)?gv(-1,f):di(f)}}if(32&u)return He(a,o)()||di(o[a.index]);{const h=GE(o,a);return null!==h?Array.isArray(h)?h[0]:_g(St(o[16]),h):_g(o,a.next)}}return null}function GE(o,a){return null!==a?o[16][6].projection[a.projection]:null}function gv(o,a){const u=10+o+1;if(u<a.length){const h=a[u],f=h[1].firstChild;if(null!==f)return _g(h,f)}return a[7]}function zd(o,a,u,h,f,m,v){for(;null!=u;){const E=h[u.index],x=u.type;if(v&&0===a&&(E&&gi(di(E),h),u.flags|=2),32!=(32&u.flags))if(8&x)zd(o,a,u.child,h,f,m,!1),Ro(a,o,f,E,m);else if(32&x){const M=He(u,h);let P;for(;P=M();)Ro(a,o,f,P,m);Ro(a,o,f,E,m)}else 16&x?WE(o,a,h,u,f,m):Ro(a,o,f,E,m);u=v?u.projectionNext:u.next}}function Gd(o,a,u,h,f,m){zd(u,h,o.firstChild,a,f,m,!1)}function WE(o,a,u,h,f,m){const v=u[16],x=v[6].projection[h.projection];if(Array.isArray(x))for(let M=0;M<x.length;M++)Ro(a,o,f,x[M],m);else zd(o,a,x,v[3],f,m,!0)}function KE(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function YE(o,a,u){const{mergedAttrs:h,classes:f,styles:m}=u;null!==h&&Xo(o,a,h),null!==f&&KE(o,a,f),null!==m&&function aM(o,a,u){o.setAttribute(a,"style",u)}(o,a,m)}function ku(o){return function yv(){if(void 0===yg&&(yg=null,Vt.trustedTypes))try{yg=Vt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return yg}()?.createHTML(o)||o}function lM(o){bv=o}function Qf(o){return function wv(){if(void 0===bg&&(bg=null,Vt.trustedTypes))try{bg=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return bg}()?.createScriptURL(o)||o}class kl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}class Eg extends kl{getTypeName(){return"HTML"}}class cM extends kl{getTypeName(){return"Style"}}class JE extends kl{getTypeName(){return"Script"}}class uM extends kl{getTypeName(){return"URL"}}class cL extends kl{getTypeName(){return"ResourceURL"}}function la(o){return o instanceof kl?o.changingThisBreaksApplicationSecurity:o}function Xf(o,a){const u=function dM(o){return o instanceof kl&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${Ge})`)}return u===a}function hM(o){return new Eg(o)}function eC(o){return new cM(o)}function Ev(o){return new JE(o)}function tC(o){return new uM(o)}function uL(o){return new cL(o)}class fM{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ku(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class pM{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ku(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ku(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const gM=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Cg(o){return(o=String(o)).match(gM)?o:"unsafe:"+o}function Ka(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Jf(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const iC=Ka("area,br,col,hr,img,wbr"),Cv=Ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rC=Ka("rp,rt"),xv=Jf(iC,Jf(Cv,Ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jf(rC,Ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jf(rC,Cv)),Dv=Ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),no=Jf(Dv,Ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sv=Ka("script,style,template");class ep{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!xv.hasOwnProperty(u))return this.sanitizedSomething=!0,!Sv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,E=v.toLowerCase();if(!no.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=m.value;Dv[E]&&(x=Cg(x)),this.buf.push(" ",v,'="',oC(x),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();xv.hasOwnProperty(u)&&!iC.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(oC(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Iv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yM=/([^\#-~ |!])/g;function oC(o){return o.replace(/&/g,"&amp;").replace(Iv,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(yM,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $d;function aC(o,a){let u=null;try{$d=$d||function nC(o){const a=new pM(o);return function mM(){try{return!!(new window.DOMParser).parseFromString(ku(""),"text/html")}catch{return!1}}()?new fM(a):a}(o);let h=a?String(a):"";u=$d.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=$d.getInertBodyElement(h)}while(h!==m);return ku((new ep).sanitizeChildren(Tv(u)||u))}finally{if(u){const h=Tv(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Tv(o){return"content"in o&&function xg(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function Mv(o){const a=tp();return a?a.sanitize(Yi.URL,o)||"":Xf(o,"URL")?la(o):Cg(xe(o))}function io(o){const a=tp();if(a)return Qf(a.sanitize(Yi.RESOURCE_URL,o)||"");if(Xf(o,"ResourceURL"))return Qf(la(o));throw new pe(904,!1)}function dC(o,a,u){return function uC(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?io:Mv}(a,u)(o)}function tp(){const o=Fe();return o&&o[12]}const Rv=new fn("ENVIRONMENT_INITIALIZER"),Dg=new fn("INJECTOR",-1),hC=new fn("INJECTOR_DEF_TYPES");class kv{get(a,u=ci){if(u===ci){const h=new Error(`NullInjectorError: No provider for ${ne(a)}!`);throw h.name="NullInjectorError",h}return u}}function EM(o){return{\u0275providers:o}}function CM(...o){return{\u0275providers:fC(0,o),\u0275fromNgModule:!0}}function fC(o,...a){const u=[],h=new Set;let f;return $a(a,m=>{const v=m;Sg(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&pC(f,u),u}function pC(o,a){for(let u=0;u<o.length;u++){const{providers:f}=o[u];Ig(f,m=>{a.push(m)})}}function Sg(o,a,u,h){if(!(o=Z(o)))return!1;let f=null,m=Yn(o);const v=!m&&vn(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const x=o.ngModule;if(m=Yn(x),!m)return!1;f=x}const E=h.has(f);if(v){if(E)return!1;if(h.add(f),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of x)Sg(M,a,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let M;h.add(f);try{$a(m.imports,P=>{Sg(P,a,u,h)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&pC(M,a)}if(!E){const M=qo(f)||(()=>new f);a.push({provide:f,useFactory:M,deps:rt},{provide:hC,useValue:f,multi:!0},{provide:Rv,useValue:()=>Xe(f),multi:!0})}const x=m.providers;null==x||E||Ig(x,P=>{a.push(P)})}}return f!==o&&void 0!==o.providers}function Ig(o,a){for(let u of o)Ce(u)&&(u=u.\u0275providers),Array.isArray(u)?Ig(u,a):a(u)}const xM=H({provide:String,useValue:H});function Tg(o){return null!==o&&"object"==typeof o&&xM in o}function Pu(o){return"function"==typeof o}const Pv=new fn("Set Injector scope."),Mg={},_C={};let np;function ip(){return void 0===np&&(np=new kv),np}class Fu{}class SM extends Fu{get destroyed(){return this._destroyed}constructor(a,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(a,v=>this.processProvider(v)),this.records.set(Dg,qd(void 0,this)),f.has("environment")&&this.records.set(Fu,qd(void 0,this));const m=this.records.get(Pv);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(hC.multi,rt,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=zi(this),h=jn(void 0);try{return a()}finally{zi(u),jn(h)}}get(a,u=ci,h=_t.Default){this.assertNotDestroyed(),h=kt(h);const f=zi(this),m=jn(void 0);try{if(!(h&_t.SkipSelf)){let E=this.records.get(a);if(void 0===E){const x=function MM(o){return"function"==typeof o||"object"==typeof o&&o instanceof fn}(a)&&In(a);E=x&&this.injectableDefInScope(x)?qd(yC(a),Mg):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(h&_t.Self?ip():this.parent).get(a,u=h&_t.Optional&&u===ci?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[ji]=v[ji]||[]).unshift(ne(a)),f)throw v;return function X(o,a,u,h){const f=o[ji];throw a[Mr]&&f.unshift(a[Mr]),o.message=function oe(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ne(a);if(Array.isArray(a))f=a.map(ne).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ne(E)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(mr,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[ji]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{jn(m),zi(f)}}resolveInjectorInitializers(){const a=zi(this),u=jn(void 0);try{const h=this.get(Rv.multi,rt,_t.Self);for(const f of h)f()}finally{zi(a),jn(u)}}toString(){const a=[],u=this.records;for(const h of u.keys())a.push(ne(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(a){let u=Pu(a=Z(a))?a:Z(a&&a.provide);const h=function $n(o){return Tg(o)?qd(void 0,o.useValue):qd(Ni(o),Mg)}(a);if(Pu(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=qd(void 0,Mg,!0),f.factory=()=>Bt(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,h)}hydrate(a,u){return u.value===Mg&&(u.value=_C,u.value=u.factory()),"object"==typeof u.value&&u.value&&function TM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Z(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function yC(o){const a=In(o),u=null!==a?a.factory:qo(o);if(null!==u)return u;if(o instanceof fn)throw new pe(204,!1);if(o instanceof Function)return function pL(o){const a=o.length;if(a>0)throw Wa(a,"?"),new pe(204,!1);const u=function bi(o){const a=o&&(o[er]||o[bn]);if(a){const u=function zr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new pe(204,!1)}function Ni(o,a,u){let h;if(Pu(o)){const f=Z(o);return qo(f)||yC(f)}if(Tg(o))h=()=>Z(o.useValue);else if(function gC(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Bt(o.deps||[]));else if(function mC(o){return!(!o||!o.useExisting)}(o))h=()=>Xe(Z(o.useExisting));else{const f=Z(o&&(o.useClass||o.provide));if(!function IM(o){return!!o.deps}(o))return qo(f)||yC(f);h=()=>new f(...Bt(o.deps))}return h}function qd(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Ag(o,a){for(const u of o)Array.isArray(u)?Ag(u,a):u&&Ce(u)?Ag(u.\u0275providers,a):a(u)}class AM{}class vc{}class RM{resolveComponentFactory(a){throw function rp(o){const a=Error(`No component factory found for ${ne(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let sp=(()=>{class o{}return o.NULL=new RM,o})();function Fv(){return Nu(Fi(),Fe())}function Nu(o,a){return new Kd(Wi(o,a))}let Kd=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=Fv,o})();function vC(o){return o instanceof Kd?o.nativeElement:o}class bc{}let ca=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function kM(){const o=Fe(),u=Pi(Fi().index,o);return(tr(u)?u:o)[11]}(),o})(),bC=(()=>{class o{}return o.\u0275prov=dt({token:o,providedIn:"root",factory:()=>null}),o})();class wC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const EC=new wC("15.1.2"),Nv={};function Ya(o){return o.ngOriginalError}class Yd{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Ya(a);for(;u&&Ya(u);)u=Ya(u);return u||null}}function Lv(o){return o.ownerDocument.defaultView}function Za(o){return o instanceof Function?o():o}function Vv(o,a,u){let h=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}u=f+1}}const Hv="ng-template";function LM(o,a,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==Vv(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function jv(o){return 4===o.type&&o.value!==Hv}function IC(o,a,u){return a===(4!==o.type||u?o.value:Hv)}function zv(o,a,u){let h=4;const f=o.attrs||[],m=function MC(o){for(let a=0;a<o.length;a++)if(Jo(o[a]))return a;return o.length}(f);let v=!1;for(let E=0;E<a.length;E++){const x=a[E];if("number"!=typeof x){if(!v)if(4&h){if(h=2|1&h,""!==x&&!IC(o,x,u)||""===x&&1===a.length){if(Po(h))return!1;v=!0}}else{const M=8&h?x:a[++E];if(8&h&&null!==o.attrs){if(!LM(o.attrs,M,u)){if(Po(h))return!1;v=!0}continue}const W=Gv(8&h?"class":x,f,jv(o),u);if(-1===W){if(Po(h))return!1;v=!0;continue}if(""!==M){let ae;ae=W>m?"":f[W+1].toLowerCase();const fe=8&h?ae:null;if(fe&&-1!==Vv(fe,M,0)||2&h&&M!==ae){if(Po(h))return!1;v=!0}}}}else{if(!v&&!Po(h)&&!Po(x))return!1;if(v&&Po(x))continue;v=!1,h=x|1&h}}return Po(h)||v}function Po(o){return 0==(1&o)}function Gv(o,a,u,h){if(null===a)return-1;let f=0;if(h||!u){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function Wv(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function $v(o,a,u=!1){for(let h=0;h<a.length;h++)if(zv(o,a[h],u))return!0;return!1}function Rg(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function qv(o,a){return o?":not("+a.trim()+")":a}function AC(o){let a=o[0],u=1,h=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&h){const E=o[++u];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!Po(v)&&(a+=qv(m,f),f=""),h=v,m=m||!Po(h);u++}return""!==f&&(a+=qv(m,f)),a}const jt={};function Kv(o){BM(_n(),Fe(),Rr()+o,!1)}function BM(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&La(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Js(a,m,0,u)}Xs(u)}function HM(o,a=null,u=null,h){const f=jM(o,a,u,h);return f.resolveInjectorInitializers(),f}function jM(o,a=null,u=null,h,f=new Set){const m=[u||rt,CM(o)];return h=h||("object"==typeof o?void 0:ne(o)),new SM(m,a||ip(),h||null,f)}let Zd=(()=>{class o{static create(u,h){if(Array.isArray(u))return HM({name:""},h,u,"");{const f=u.name??"";return HM({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=ci,o.NULL=new kv,o.\u0275prov=dt({token:o,providedIn:"any",factory:()=>Xe(Dg)}),o.__NG_ELEMENT_ID__=-1,o})();function Ol(o,a=_t.Default){const u=Fe();return null===u?Xe(o,a):Af(Fi(),u,Z(o),a)}function BC(){throw new Error("invalid")}function up(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h+1];if(-1!==m){const v=o.data[m];lu(u[h]),v.contentQueries(2,a[m],m)}}}function dp(o,a,u,h,f,m,v,E,x,M,P){const W=a.blueprint.slice();return W[0]=f,W[2]=76|h,(null!==P||o&&1024&o[2])&&(W[2]|=1024),ru(W),W[3]=W[15]=o,W[8]=u,W[10]=v||o&&o[10],W[11]=E||o&&o[11],W[12]=x||o&&o[12]||null,W[9]=M||o&&o[9]||null,W[6]=m,W[20]=function Gf(){return Du++}(),W[21]=P,W[16]=2==a.type?o[16]:W,W}function Xd(o,a,u,h,f){let m=o.data[a];if(null===m)m=function jg(o,a,u,h,f){const m=ou(),v=Oa(),x=o.data[a]=function XM(o,a,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,a,h,f);return null===o.firstChild&&(o.firstChild=x),null!==m&&(v?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(o,a,u,h,f),function bd(){return Qt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function ka(){const o=Qt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ps(m,!0),m}function hp(o,a,u,h){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function UC(o,a,u){uc(a);try{const h=o.viewQuery;null!==h&&lb(1,h,u);const f=o.template;null!==f&&Gg(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&up(o,a),o.staticViewQueries&&lb(2,o.viewQuery,u);const m=o.components;null!==m&&function YM(o,a){for(let u=0;u<a.length;u++)xc(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Zm()}}function zg(o,a,u,h){const f=a[2];if(128!=(128&f)){uc(a);try{ru(a),function Fa(o){return Qt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Gg(o,a,u,2,h);const v=3==(3&f);if(v){const M=o.preOrderCheckHooks;null!==M&&La(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Js(a,M,0,null),Ps(a,0)}if(function lA(o){for(let a=ns(o);null!==a;a=rr(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const f=u[h];512&f[2]||Qo(f[3],1),f[2]|=512}}}(a),function sb(o){for(let a=ns(o);null!==a;a=rr(a))for(let u=10;u<a.length;u++){const h=a[u],f=h[1];Zo(h)&&zg(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&up(o,a),v){const M=o.contentCheckHooks;null!==M&&La(a,M)}else{const M=o.contentHooks;null!==M&&Js(a,M,1),Ps(a,1)}!function eb(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Xs(~f);else{const m=f,v=u[++h],E=u[++h];au(v,m),E(2,a[m])}}}finally{Xs(-1)}}(o,a);const E=o.components;null!==E&&function KM(o,a){for(let u=0;u<a.length;u++)YC(o,a[u])}(a,E);const x=o.viewQuery;if(null!==x&&lb(2,x,h),v){const M=o.viewCheckHooks;null!==M&&La(a,M)}else{const M=o.viewHooks;null!==M&&Js(a,M,2),Ps(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Qo(a[3],-1))}finally{Zm()}}}function Gg(o,a,u,h,f){const m=Rr(),v=2&h;try{Xs(-1),v&&a.length>22&&BM(o,a,22,!1),u(h,f)}finally{Xs(m)}}function VC(o,a,u){if(Ks(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function HC(o,a,u){_d()&&(function iA(o,a,u,h){const f=u.directiveStart,m=u.directiveEnd;hl(u)&&function wL(o,a,u){const h=Wi(a,o),f=jC(u),m=o[10],v=th(o,dp(o,f,null,u.onPush?32:16,h,a,m,m.createRenderer(h,u),null,null,null));o[a.index]=v}(a,u,o.data[f+u.componentOffset]),o.firstCreatePass||Do(u,a),gi(h,a);const v=u.initialInputs;for(let E=f;E<m;E++){const x=o.data[E],M=_s(a,o,E,u);gi(M,a),null!==v&&KC(0,E-f,M,x,0,v),$i(x)&&(Pi(u.index,a)[8]=_s(a,o,E,u))}}(o,a,u,Wi(u,a)),64==(64&u.flags)&&nb(o,a,u))}function fp(o,a,u=Wi){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],E=-1===v?u(a,o):o[v];o[f++]=E}}}function jC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=$g(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function $g(o,a,u,h,f,m,v,E,x,M){const P=22+h,W=P+f,ae=function tb(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:jt);return u}(P,W),fe="function"==typeof M?M():M;return ae[1]={type:o,blueprint:ae,template:u,queries:null,viewQuery:E,declTNode:a,data:ae.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:fe,incompleteFirstPass:!1}}function QM(o,a,u,h){const f=ZC(a);null===u?f.push(h):(f.push(u),o.firstCreatePass&&cb(o).push(h,f.length-1))}function Jd(o,a,u,h){for(let f in o)if(o.hasOwnProperty(f)){u=null===u?{}:u;const m=o[f];null===h?eh(u,a,f,m):h.hasOwnProperty(f)&&eh(u,a,h[f],m)}return u}function eh(o,a,u,h){o.hasOwnProperty(u)?o[u].push(a,h):o[u]=[a,h]}function Wr(o,a,u,h,f,m,v,E){const x=Wi(a,u);let P,M=a.inputs;!E&&null!=M&&(P=M[h])?(ub(o,u,P,h,f),hl(a)&&JM(u,a.index)):3&a.type&&(h=function GC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=v?v(f,a.value||"",h):f,m.setProperty(x,h,f))}function JM(o,a){const u=Pi(a,o);16&u[2]||(u[2]|=32)}function $C(o,a,u,h){let f=!1;if(_d()){const m=null===h?null:{"":-1},v=function WC(o,a){const u=o.directiveRegistry;let h=null,f=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];if($v(a,v.selectors,!1))if(h||(h=[]),$i(v))if(null!==v.findHostDirectiveDefs){const E=[];f=f||new Map,v.findHostDirectiveDefs(v,E,f),h.unshift(...E,v),pp(o,a,E.length)}else h.unshift(v),pp(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,h,f),h.push(v)}return null===h?null:[h,f]}(o,u);let E,x;null===v?E=x=null:[E,x]=v,null!==E&&(f=!0,nA(o,a,u,E,m,x)),m&&function Wg(o,a,u){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new pe(-301,!1);h.push(a[f],m)}}}(u,h,m)}return u.mergedAttrs=ms(u.mergedAttrs,u.attrs),f}function nA(o,a,u,h,f,m){for(let M=0;M<h.length;M++)Td(Do(u,a),o,h[M].type);!function qC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}(u,o.data.length,h.length);for(let M=0;M<h.length;M++){const P=h[M];P.providersResolver&&P.providersResolver(P)}let v=!1,E=!1,x=hp(o,a,h.length,null);for(let M=0;M<h.length;M++){const P=h[M];u.mergedAttrs=ms(u.mergedAttrs,P.hostAttrs),oA(o,u,a,x,P),sA(x,P,f),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const W=P.type.prototype;!v&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),v=!0),!E&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),E=!0),x++}!function zC(o,a,u){const f=a.directiveEnd,m=o.data,v=a.attrs,E=[];let x=null,M=null;for(let P=a.directiveStart;P<f;P++){const W=m[P],ae=u?u.get(W):null,Ne=ae?ae.outputs:null;x=Jd(W.inputs,P,x,ae?ae.inputs:null),M=Jd(W.outputs,P,M,Ne);const tt=null===x||null===v||jv(a)?null:aA(x,P,v);E.push(tt)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=8),x.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=x,a.outputs=M}(o,u,m)}function nb(o,a,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function xf(){return Qt.lFrame.currentDirectiveIndex}();try{Xs(m);for(let E=h;E<f;E++){const x=o.data[E],M=a[E];Eo(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&rA(x,M)}}finally{Xs(-1),Eo(v)}}function rA(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function pp(o,a,u){a.componentOffset=u,(o.components||(o.components=[])).push(a.index)}function sA(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;$i(a)&&(u[""]=o)}}function oA(o,a,u,h,f){o.data[h]=f;const m=f.factory||(f.factory=qo(f.type)),v=new wl(m,$i(f),Ol);o.blueprint[h]=v,u[h]=v,function vL(o,a,u,h,f){const m=f.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~a.index;(function bL(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=E&&v.push(E),v.push(u,h,m)}}(o,a,h,hp(o,u,f.hostVars,jt),f)}function da(o,a,u,h,f,m){const v=Wi(o,a);!function ib(o,a,u,h,f,m,v){if(null==m)o.removeAttribute(a,f,u);else{const E=null==v?xe(m):v(m,h||"",f);o.setAttribute(a,f,E,u)}}(a[11],v,m,o.value,u,h,f)}function KC(o,a,u,h,f,m){const v=m[a];if(null!==v){const E=h.setInput;for(let x=0;x<v.length;){const M=v[x++],P=v[x++],W=v[x++];null!==E?h.setInput(u,W,M,P):u[P]=W}}}function aA(o,a,u){let h=null,f=0;for(;f<u.length;){const m=u[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===h&&(h=[]);const v=o[m];for(let E=0;E<v.length;E+=2)if(v[E]===a){h.push(m,v[E+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function rb(o,a,u,h){return[o,!0,!1,a,null,0,h,u,null,null]}function YC(o,a){const u=Pi(a,o);if(Zo(u)){const h=u[1];48&u[2]?zg(h,u,h.template,u[8]):u[5]>0&&ob(u)}}function ob(o){for(let h=ns(o);null!==h;h=rr(h))for(let f=10;f<h.length;f++){const m=h[f];if(Zo(m))if(512&m[2]){const v=m[1];zg(v,m,v.template,m[8])}else m[5]>0&&ob(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Pi(u[h],o);Zo(f)&&f[5]>0&&ob(f)}}function xc(o,a){const u=Pi(a,o),h=u[1];(function cA(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),UC(h,u,u[8])}function th(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function ab(o){for(;o;){o[2]|=32;const a=St(o);if(jm(o)&&!a)return o;o=a}return null}function nh(o,a,u,h=!0){const f=a[10];f.begin&&f.begin();try{zg(o,a,o.template,u)}catch(v){throw h&&Kg(a,v),v}finally{f.end&&f.end()}}function lb(o,a,u){lu(0),a(o,u)}function ZC(o){return o[7]||(o[7]=[])}function cb(o){return o.cleanup||(o.cleanup=[])}function QC(o,a,u){return(null===o||$i(o))&&(u=function iu(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function Kg(o,a){const u=o[9],h=u?u.get(Yd,null):null;h&&h.handleError(a)}function ub(o,a,u,h,f){for(let m=0;m<u.length;){const v=u[m++],E=u[m++],x=a[v],M=o.data[v];null!==M.setInput?M.setInput(x,f,h,E):x[E]=f}}function mp(o,a,u){let h=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?m=E:1==m?f=J(f,E):2==m&&(h=J(h,E+": "+a[++v]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}function Yg(o,a,u,h,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(di(m)),nr(m))for(let E=10;E<m.length;E++){const x=m[E],M=x[1].firstChild;null!==M&&Yg(x[1],x,M,h)}const v=u.type;if(8&v)Yg(o,a,u.child,h);else if(32&v){const E=He(u,a);let x;for(;x=E();)h.push(x)}else if(16&v){const E=GE(a,u);if(Array.isArray(E))h.push(...E);else{const x=St(a[16]);Yg(x[1],x,E,h,!0)}}u=f?u.projectionNext:u.next}return h}class Zg{get rootNodes(){const a=this._lView,u=a[1];return Yg(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(nr(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(mv(a,h),Nd(u,h))}this._attachedToViewContainer=!1}hg(this._lView[1],this._lView)}onDestroy(a){QM(this._lView[1],this._lView,null,a)}markForCheck(){ab(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(o,a){Gd(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=a}}class db extends Zg{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;nh(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class XC extends sp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=vn(a);return new gp(u,this.ngModule)}}function hb(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Bu{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,h){h=kt(h);const f=this.injector.get(a,Nv,h);return f!==Nv||u===Nv?f:this.parentInjector.get(a,u,h)}}class gp extends vc{get inputs(){return hb(this.componentDef.inputs)}get outputs(){return hb(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function RC(o){return o.map(AC).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,h,f){let m=(f=f||this.ngModule)instanceof Fu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Bu(a,m):a,E=v.get(bc,null);if(null===E)throw new pe(407,!1);const x=v.get(bC,null),M=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",W=h?function ZM(o,a,u){return o.selectRootElement(a,u===Ve.ShadowDom)}(M,h,this.componentDef.encapsulation):Tu(M,P,function JC(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(P)),ae=this.componentDef.onPush?288:272,fe=$g(0,null,null,1,0,null,null,null,null,null),Ne=dp(null,fe,null,ae,null,null,E,M,x,v,null);let tt,ht;uc(Ne);try{const Et=this.componentDef;let Kt,Ke=null;Et.findHostDirectiveDefs?(Kt=[],Ke=new Map,Et.findHostDirectiveDefs(Et,Kt,Ke),Kt.push(Et)):Kt=[Et];const on=function tx(o,a){const u=o[1];return o[22]=a,Xd(u,22,2,"#host",null)}(Ne,W),xi=function dA(o,a,u,h,f,m,v,E){const x=f[1];!function hA(o,a,u,h){for(const f of o)a.mergedAttrs=ms(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(mp(a,a.mergedAttrs,!0),null!==u&&YE(h,u,a))}(h,o,a,v);const M=m.createRenderer(a,u),P=dp(f,jC(u),null,u.onPush?32:16,f[o.index],o,m,M,E||null,null,null);return x.firstCreatePass&&pp(x,o,h.length-1),th(f,P),f[o.index]=P}(on,W,Et,Kt,Ne,E,M);ht=ac(fe,22),W&&function fb(o,a,u,h){if(h)Xo(o,u,["ng-version",EC.full]);else{const{attrs:f,classes:m}=function bs(o){const a=[],u=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++h]):8===f&&u.push(m);else{if(!Po(f))break;f=m}h++}return{attrs:a,classes:u}}(a.selectors[0]);f&&Xo(o,u,f),m&&m.length>0&&KE(o,u,m.join(" "))}}(M,Et,W,h),void 0!==u&&function fA(o,a,u){const h=o.projection=[];for(let f=0;f<a.length;f++){const m=u[f];h.push(null!=m?Array.from(m):null)}}(ht,this.ngContentSelectors,u),tt=function ih(o,a,u,h,f,m){const v=Fi(),E=f[1],x=Wi(v,f);nA(E,f,v,u,null,h);for(let P=0;P<u.length;P++)gi(_s(f,E,v.directiveStart+P,v),f);nb(E,f,v),x&&gi(x,f);const M=_s(f,E,v.directiveStart+v.componentOffset,v);if(o[8]=f[8]=M,null!==m)for(const P of m)P(M,a);return VC(E,v,o),M}(xi,Et,Kt,Ke,Ne,[nx]),UC(fe,Ne,null)}finally{Zm()}return new ex(this.componentType,tt,Nu(ht,Ne),Ne,ht)}}class ex extends AM{constructor(a,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new db(f),this.componentType=a}setInput(a,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[a])){const m=this._rootLView;ub(m[1],m,f,a,u),JM(m,this._tNode.index)}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function nx(){const o=Fi();bl(Fe()[1],o)}function Qg(o){let a=function ix(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let f;if($i(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new pe(903,!1);f=a.\u0275dir}if(f){if(u){h.push(f);const v=o;v.inputs=Xg(o.inputs),v.declaredInputs=Xg(o.declaredInputs),v.outputs=Xg(o.outputs);const E=f.hostBindings;E&&CL(o,E);const x=f.viewQuery,M=f.contentQueries;if(x&&mA(o,x),M&&rx(o,M),te(o.inputs,f.inputs),te(o.declaredInputs,f.declaredInputs),te(o.outputs,f.outputs),$i(f)&&f.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(o),E===Qg&&(u=!1)}}a=Object.getPrototypeOf(a)}!function pA(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=ms(f.hostAttrs,u=ms(u,f.hostAttrs))}}(h)}function Xg(o){return o===wt?{}:o===rt?[]:o}function mA(o,a){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{a(h,f),u(h,f)}:a}function rx(o,a){const u=o.contentQueries;o.contentQueries=u?(h,f,m)=>{a(h,f,m),u(h,f,m)}:a}function CL(o,a){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{a(h,f),u(h,f)}:a}let pb=null;function rh(){if(!pb){const o=Vt.Symbol;if(o&&o.iterator)pb=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(pb=h)}}}return pb}function Jg(o){return!!mb(o)&&(Array.isArray(o)||!(o instanceof Map)&&rh()in o)}function mb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Lr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function gb(o,a,u,h){const f=Fe();return Lr(f,Qs(),a)&&(_n(),da(On(),f,o,a,u,h)),gb}function Dc(o,a,u,h){return Lr(o,Qs(),u)?a+xe(u)+h:jt}function Bl(o,a,u,h,f,m,v,E){const x=Fe(),M=_n(),P=o+22,W=M.firstCreatePass?function Ll(o,a,u,h,f,m,v,E,x){const M=a.consts,P=Xd(a,o,4,v||null,fs(M,E));$C(a,u,P,fs(M,x)),bl(a,P);const W=P.tViews=$g(2,P,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,P),W.queries=a.queries.embeddedTView(P)),P}(P,M,x,a,u,h,f,m,v):M.data[P];ps(W,!1);const ae=x[11].createComment("");Ru(M,x,ae,W),gi(ae,x),th(x,x[P]=rb(ae,x,ae,W)),Jc(W)&&HC(M,x,W),null!=v&&fp(x,W,E)}function Qa(o){return function Zs(o,a){return o[a]}(function cc(){return Qt.lFrame.contextLView}(),22+o)}function Ul(o,a,u){const h=Fe();return Lr(h,Qs(),a)&&Wr(_n(),On(),h,o,a,h[11],u,!1),Ul}function bp(o,a,u,h,f){const v=f?"class":"style";ub(o,u,a.inputs[v],v,h)}function wp(o,a,u,h){const f=Fe(),m=_n(),v=22+o,E=f[11],x=f[v]=Tu(E,a,function Qm(){return Qt.lFrame.currentNamespace}()),M=m.firstCreatePass?function cx(o,a,u,h,f,m,v){const E=a.consts,M=Xd(a,o,2,f,fs(E,m));return $C(a,u,M,fs(E,v)),null!==M.attrs&&mp(M,M.attrs,!1),null!==M.mergedAttrs&&mp(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(v,m,f,0,a,u,h):m.data[v];return ps(M,!0),YE(E,x,M),32!=(32&M.flags)&&Ru(m,f,x,M),0===function _l(){return Qt.lFrame.elementDepthCount}()&&gi(x,f),function bf(){Qt.lFrame.elementDepthCount++}(),Jc(M)&&(HC(m,f,M),VC(m,M,f)),null!==h&&fp(f,M),wp}function n_(){let o=Fi();Oa()?vd():(o=o.parent,ps(o,!1));const a=o;!function yl(){Qt.lFrame.elementDepthCount--}();const u=_n();return u.firstCreatePass&&(bl(u,o),Ks(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Cl(o){return 0!=(8&o.flags)}(a)&&bp(u,a,Fe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Co(o){return 0!=(16&o.flags)}(a)&&bp(u,a,Fe(),a.stylesWithoutHost,!1),n_}function oh(o,a,u,h){return wp(o,a,u,h),n_(),oh}function Ic(o,a,u){const h=Fe(),f=_n(),m=o+22,v=f.firstCreatePass?function ln(o,a,u,h,f){const m=a.consts,v=fs(m,h),E=Xd(a,o,8,"ng-container",v);return null!==v&&mp(E,v,!0),$C(a,u,E,fs(m,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(m,f,h,a,u):f.data[m];ps(v,!0);const E=h[m]=h[11].createComment("");return Ru(f,h,E,v),gi(E,h),Jc(v)&&(HC(f,h,v),VC(f,v,h)),null!=u&&fp(h,v),Ic}function i_(){let o=Fi();const a=_n();return Oa()?vd():(o=o.parent,ps(o,!1)),a.firstCreatePass&&(bl(a,o),Ks(o)&&a.queries.elementEnd(o)),i_}function Tc(o,a,u){return Ic(o,a,u),i_(),Tc}function ux(){return Fe()}function yb(o){return!!o&&"function"==typeof o.then}function ha(o){return!!o&&"function"==typeof o.subscribe}const vb=ha;function r_(o,a,u,h){const f=Fe(),m=_n(),v=Fi();return Br(m,f,f[11],v,o,a,h),r_}function s_(o,a){const u=Fi(),h=Fe(),f=_n();return Br(f,h,QC(vl(f.data),u,h),u,o,a),s_}function Br(o,a,u,h,f,m,v){const E=Jc(h),M=o.firstCreatePass&&cb(o),P=a[8],W=ZC(a);let ae=!0;if(3&h.type||v){const tt=Wi(h,a),ht=v?v(tt):tt,Et=W.length,Kt=v?on=>v(di(on[h.index])):h.index;let Ke=null;if(!v&&E&&(Ke=function IL(o,a,u,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const E=a[7],x=f[m+2];return E.length>x?E[x]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,h.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=m,Ke.__ngLastListenerFn__=m,ae=!1;else{m=Ep(h,a,P,m,!1);const on=u.listen(ht,f,m);W.push(m,on),M&&M.push(f,Kt,Et,Et+1)}}else m=Ep(h,a,P,m,!1);const fe=h.outputs;let Ne;if(ae&&null!==fe&&(Ne=fe[f])){const tt=Ne.length;if(tt)for(let ht=0;ht<tt;ht+=2){const xi=a[Ne[ht]][Ne[ht+1]].subscribe(m),ur=W.length;W.push(m,xi),M&&M.push(f,h.index,ur,-(ur+1))}}}function Vl(o,a,u,h){try{return!1!==u(h)}catch(f){return Kg(o,f),!1}}function Ep(o,a,u,h,f){return function m(v){if(v===Function)return h;ab(o.componentOffset>-1?Pi(o.index,a):a);let x=Vl(a,0,h,v),M=m.__ngNextListenerFn__;for(;M;)x=Vl(a,0,M,v)&&x,M=M.__ngNextListenerFn__;return f&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function dx(o=1){return function nv(o){return(Qt.lFrame.contextLView=function Cd(o,a){for(;o>0;)a=a[15],o--;return a}(o,Qt.lFrame.contextLView))[8]}(o)}function hx(o,a){let u=null;const h=function TC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?$v(o,m,!0):Rg(h,m))return f}else u=f}return u}function bb(o){const a=Fe()[16][6];if(!a.projection){const h=a.projection=Wa(o?o.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const v=o?hx(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function fx(o,a=0,u){const h=Fe(),f=_n(),m=Xd(f,22+o,16,null,u||null);null===m.projection&&(m.projection=a),vd(),32!=(32&m.flags)&&function $E(o,a,u){WE(a[11],0,a,u,LE(o,u,a),VE(u.parent||a[6],u,a))}(f,h,m)}function o_(o,a){return o<<17|a<<2}function No(o){return o>>17&32767}function lh(o){return 2|o}function fa(o){return(131068&o)>>2}function a_(o,a){return-131069&o|a<<2}function Sb(o){return 1|o}function yx(o,a,u,h,f){const m=o[u+1],v=null===a;let E=h?No(m):fa(m),x=!1;for(;0!==E&&(!1===x||v);){const P=o[E+1];wA(o[E],a)&&(x=!0,o[E+1]=h?Sb(P):lh(P)),E=h?No(P):fa(P)}x&&(o[u+1]=h?lh(m):Sb(m))}function wA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ls(o,a)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xp(o){return o.substring(Cr.key,Cr.keyEnd)}function vx(o,a){const u=Cr.textEnd;return u===a?-1:(a=Cr.keyEnd=function DA(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Cr.key=a,u),Hl(o,a,u))}function Hl(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function Tb(o,a,u){return Lo(o,a,u,!1),Tb}function Hu(o,a){return Lo(o,a,null,!0),Hu}function Mb(o){rs(Pr,pa,o,!0)}function pa(o,a){for(let u=function CA(o){return function c_(o){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=o.length}(o),vx(o,Hl(o,0,Cr.textEnd))}(a);u>=0;u=vx(a,u))Pr(o,xp(a),!0)}function Lo(o,a,u,h){const f=Fe(),m=_n(),v=wo(2);m.firstUpdatePass&&Cx(m,o,v,h),a!==jt&&Lr(f,v,a)&&dh(m,m.data[Rr()],f,f[11],o,f[v+1]=function zu(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ne(la(o)))),o}(a,u),h,v)}function rs(o,a,u,h){const f=_n(),m=wo(2);f.firstUpdatePass&&Cx(f,null,m,h);const v=Fe();if(u!==jt&&Lr(v,m,u)){const E=f.data[Rr()];if(Dp(E,h)&&!Ex(f,m)){let x=h?E.classesWithoutHost:E.stylesWithoutHost;null!==x&&(u=J(x,u||"")),bp(f,E,v,u,h)}else!function Dx(o,a,u,h,f,m,v,E){f===jt&&(f=rt);let x=0,M=0,P=0<f.length?f[0]:null,W=0<m.length?m[0]:null;for(;null!==P||null!==W;){const ae=x<f.length?f[x+1]:void 0,fe=M<m.length?m[M+1]:void 0;let tt,Ne=null;P===W?(x+=2,M+=2,ae!==fe&&(Ne=W,tt=fe)):null===W||null!==P&&P<W?(x+=2,Ne=P):(M+=2,Ne=W,tt=fe),null!==Ne&&dh(o,a,u,h,Ne,tt,v,E),P=x<f.length?f[x]:null,W=M<m.length?m[M]:null}}(f,E,v,v[11],v[m+1],v[m+1]=function IA(o,a,u){if(null==u||""===u)return rt;const h=[],f=la(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(h,m,f[m]);else"string"==typeof f&&a(h,f);return h}(o,a,u),h,m)}}function Ex(o,a){return a>=o.expandoStartIndex}function Cx(o,a,u,h){const f=o.data;if(null===f[u+1]){const m=f[Rr()],v=Ex(o,u);Dp(m,h)&&null===a&&!v&&(a=!1),a=function xx(o,a,u,h){const f=vl(o);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(u=ju(u=Rb(null,o,a,u,h),a.attrs,h),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(u=Rb(f,o,a,u,h),null===m){let x=function SA(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==fa(h))return o[No(h)]}(o,a,h);void 0!==x&&Array.isArray(x)&&(x=Rb(null,o,a,x[1],h),x=ju(x,a.attrs,h),function Ab(o,a,u,h){o[No(u?a.classBindings:a.styleBindings)]=h}(o,a,h,x))}else m=function uh(o,a,u){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=ju(h,o[m].hostAttrs,u);return ju(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,h),function gx(o,a,u,h,f,m){let v=m?a.classBindings:a.styleBindings,E=No(v),x=fa(v);o[h]=u;let P,M=!1;if(Array.isArray(u)?(P=u[1],(null===P||Ls(u,P)>0)&&(M=!0)):P=u,f)if(0!==x){const ae=No(o[E+1]);o[h+1]=o_(ae,E),0!==ae&&(o[ae+1]=a_(o[ae+1],h)),o[E+1]=function bA(o,a){return 131071&o|a<<17}(o[E+1],h)}else o[h+1]=o_(E,0),0!==E&&(o[E+1]=a_(o[E+1],h)),E=h;else o[h+1]=o_(x,0),0===E?E=h:o[x+1]=a_(o[x+1],h),x=h;M&&(o[h+1]=lh(o[h+1])),yx(o,P,h,!0),yx(o,P,h,!1),function _x(o,a,u,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Ls(m,a)>=0&&(u[h+1]=Sb(u[h+1]))}(a,P,o,h,m),v=o_(E,x),m?a.classBindings=v:a.styleBindings=v}(f,m,a,u,v,h)}}function Rb(o,a,u,h,f){let m=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(m=a[E],h=ju(h,m.hostAttrs,f),m!==o);)E++;return null!==o&&(u.directiveStylingLast=E),h}function ju(o,a,u){const h=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Pr(o,v,!!u||a[++m]))}return void 0===o?null:o}function dh(o,a,u,h,f,m,v,E){if(!(3&a.type))return;const x=o.data,M=x[E+1],P=function l_(o){return 1==(1&o)}(M)?ma(x,a,u,f,fa(M),v):void 0;hh(P)||(hh(m)||function Db(o){return 2==(2&o)}(M)&&(m=ma(x,null,u,f,E,v)),function qE(o,a,u,h,f){if(a)f?o.addClass(u,h):o.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:Ao.DashCase;null==f?o.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ao.Important),o.setStyle(u,h,f,m))}}(h,v,bo(Rr(),u),f,m))}function ma(o,a,u,h,f,m){const v=null===a;let E;for(;f>0;){const x=o[f],M=Array.isArray(x),P=M?x[1]:x,W=null===P;let ae=u[f+1];ae===jt&&(ae=W?rt:void 0);let fe=W?Ns(ae,h):P===h?ae:void 0;if(M&&!hh(fe)&&(fe=Ns(x,h)),hh(fe)&&(E=fe,v))return E;const Ne=o[f+1];f=v?No(Ne):fa(Ne)}if(null!==a){let x=m?a.residualClasses:a.residualStyles;null!=x&&(E=Ns(x,h))}return E}function hh(o){return void 0!==o}function Dp(o,a){return 0!=(o.flags&(a?8:16))}function Ob(o,a=""){const u=Fe(),h=_n(),f=o+22,m=h.firstCreatePass?Xd(h,f,1,a,null):h.data[f],v=u[f]=function Iu(o,a){return o.createText(a)}(u[11],a);Ru(h,u,v,m),ps(m,!1)}function d_(o){return h_("",o,""),d_}function h_(o,a,u){const h=Fe(),f=Dc(h,o,a,u);return f!==jt&&function Pl(o,a,u){const h=bo(a,o);!function Rl(o,a,u){o.setValue(a,u)}(o[11],h,u)}(h,Rr(),f),h_}function Px(o,a,u){rs(Pr,pa,Dc(Fe(),o,a,u),!0)}function Bb(o,a,u){const h=Fe();return Lr(h,Qs(),a)&&Wr(_n(),On(),h,o,a,h[11],u,!0),Bb}function Ub(o,a,u){const h=Fe();if(Lr(h,Qs(),a)){const m=_n(),v=On();Wr(m,v,h,o,a,QC(vl(m.data),v,h),u,!0)}return Ub}const zl=void 0;var zx=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jx(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Gu={};function Vb(o){const a=function Hb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=__(a);if(u)return u;const h=a.split("-")[0];if(u=__(h),u)return u;if("en"===h)return zx;throw new pe(701,!1)}function Ip(o){return Vb(o)[$t.PluralCase]}function __(o){return o in Gu||(Gu[o]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[o]),Gu[o]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Tp="en-US";let $x=Tp;function S_(o,a,u,h,f){if(o=Z(o),Array.isArray(o))for(let m=0;m<o.length;m++)S_(o[m],a,u,h,f);else{const m=_n(),v=Fe();let E=Pu(o)?o:Z(o.provide),x=Ni(o);const M=Fi(),P=1048575&M.providerIndexes,W=M.directiveStart,ae=M.providerIndexes>>20;if(Pu(o)||!o.multi){const fe=new wl(x,f,Ol),Ne=Qb(E,a,f?P:P+ae,W);-1===Ne?(Td(Do(M,v),m,E),Oc(m,o,a.length),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(fe),v.push(fe)):(u[Ne]=fe,v[Ne]=fe)}else{const fe=Qb(E,a,P+ae,W),Ne=Qb(E,a,P,P+ae),ht=Ne>=0&&u[Ne];if(f&&!ht||!f&&!(fe>=0&&u[fe])){Td(Do(M,v),m,E);const Et=function mD(o,a,u,h,f){const m=new wl(o,u,Ol);return m.multi=[],m.index=a,m.componentProviders=0,I_(m,f,h&&!u),m}(f?T_:pD,u.length,f,h,x);!f&&ht&&(u[Ne].providerFactory=Et),Oc(m,o,a.length,0),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(Et),v.push(Et)}else Oc(m,o,fe>-1?fe:Ne,I_(u[f?Ne:fe],x,!f&&h));!f&&h&&ht&&u[Ne].componentProviders++}}}function Oc(o,a,u,h){const f=Pu(a),m=function DM(o){return!!o.useClass}(a);if(f||m){const x=(m?Z(a.useClass):a).prototype.ngOnDestroy;if(x){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const P=M.indexOf(u);-1===P?M.push(u,[h,x]):M[P+1].push(h,x)}else M.push(u,x)}}}function I_(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function Qb(o,a,u,h){for(let f=u;f<h;f++)if(a[f]===o)return f;return-1}function pD(o,a,u,h){return Eh(this.multi,[])}function T_(o,a,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=_s(u,u[1],this.providerFactory.index,h);m=E.slice(0,v),Eh(f,m);for(let x=v;x<E.length;x++)m.push(E[x])}else m=[],Eh(f,m);return m}function Eh(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Xb(o,a=[]){return u=>{u.providersResolver=(h,f)=>function nR(o,a,u){const h=_n();if(h.firstCreatePass){const f=$i(o);S_(u,h.data,h.blueprint,f,!0),S_(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class Ch{}class gD{}function iR(o,a){return new _D(o,a??null)}class _D extends Ch{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XC(this);const h=Ri(a);this._bootstrapComponents=Za(h.bootstrap),this._r3Injector=jM(a,u,[{provide:Ch,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],ne(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class xh extends gD{constructor(a){super(),this.moduleType=a}create(a){return new _D(this.moduleType,a)}}class rR extends Ch{constructor(a,u,h){super(),this.componentFactoryResolver=new XC(this),this.instance=null;const f=new SM([...a,{provide:Ch,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],u||ip(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Jb(o,a,u=null){return new rR(o,a,u).injector}let yD=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=fC(0,u.type),f=h.length>0?Jb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=dt({token:o,providedIn:"environment",factory:()=>new o(Xe(Fu))}),o})();function vD(o){o.getStandaloneInjector=a=>a.get(yD).getOrCreateStandaloneInjector(o)}function M_(o){return a=>{setTimeout(o,void 0,a)}}const Xa=class _R extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){let f=a,m=u||(()=>null),v=h;if(a&&"object"==typeof a){const x=a;f=x.next?.bind(x),m=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(m=M_(m),f&&(f=M_(f)),v&&(v=M_(v)));const E=super.subscribe({next:f,error:m,complete:v});return a instanceof N.w0&&a.add(E),E}};function YL(){return this._results[rh()]()}class A_{get changes(){return this._changes||(this._changes=new Xa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=rh(),h=A_.prototype;h[u]||(h[u]=YL)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const f=function br(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function vu(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=a[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ja=(()=>{class o{}return o.__NG_ELEMENT_ID__=Sh,o})();const $l=Ja,oi=class extends $l{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a,u){const h=this._declarationTContainer.tViews,f=dp(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),UC(h,f,a),new Zg(f)}};function Sh(){return R_(Fi(),Fe())}function R_(o,a){return 4&o.type?new oi(a,o,Nu(o,a)):null}let Wu=(()=>{class o{}return o.__NG_ELEMENT_ID__=ar,o})();function ar(){return kD(Fi(),Fe())}const Wl=Wu,yR=class extends Wl{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const a=Il(this._hostTNode,this._hostLView);if(du(a)){const u=ea(a,this._hostLView),h=Dl(a);return new So(u[1].data[h+8],u)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=RD(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=a.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(a,u,h,f,m){const v=a&&!function Ga(o){return"function"==typeof o}(a);let E;if(v)E=u;else{const W=u||{};E=W.index,h=W.injector,f=W.projectableNodes,m=W.environmentInjector||W.ngModuleRef}const x=v?a:new gp(vn(a)),M=h||this.parentInjector;if(!m&&null==x.ngModule){const ae=(v?M:this.parentInjector).get(Fu,null);ae&&(m=ae)}const P=x.create(M,f,void 0,m);return this.insert(P.hostView,E),P}insert(a,u){const h=a._lView,f=h[1];if(function yf(o){return nr(o[3])}(h)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const W=h[3],ae=new yR(W,W[6],W[3]);ae.detach(ae.indexOf(a))}}const m=this._adjustIndex(u),v=this._lContainer;!function ko(o,a,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=a),h<m-10?(a[4]=u[f],Jm(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function aa(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const E=a[19];null!==E&&E.insertView(o),a[2]|=64}(f,h,v,m);const E=gv(m,v),x=h[11],M=Au(x,v[7]);return null!==M&&function oa(o,a,u,h,f,m){h[0]=f,h[6]=a,Gd(o,h,u,1,f,m)}(f,v[6],x,h,M,E),a.attachToViewContainerRef(),Jm(o0(v),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=RD(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=mv(this._lContainer,u);h&&(Nd(o0(this._lContainer),u),hg(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=mv(this._lContainer,u);return h&&null!=Nd(o0(this._lContainer),u)?new Zg(h):null}_adjustIndex(a,u=0){return a??this.length+u}};function RD(o){return o[8]}function o0(o){return o[8]||(o[8]=[])}function kD(o,a){let u;const h=a[o.index];if(nr(h))u=h;else{let f;if(8&o.type)f=di(h);else{const m=a[11];f=m.createComment("");const v=Wi(o,a);Mu(m,Au(m,v),f,function gg(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=u=rb(h,a,f,o),th(a,u)}return new yR(u,o,a)}class a0{constructor(a){this.queryList=a,this.matches=null}clone(){return new a0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ih{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ih(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==LD(a,u).matches&&this.queries[u].setDirty()}}class l0{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class c0{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new c0(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class u0{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new u0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,u,vR(u,m)),this.matchTNodeWithReadOption(a,u,Tl(u,a,m,!1,!1))}else h===Ja?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Tl(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Kd||f===Wu||f===Ja&&4&u.type)this.addMatch(u.index,-2);else{const m=Tl(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function vR(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function Vp(o,a,u,h){return-1===u?function OD(o,a){return 11&o.type?Nu(o,a):4&o.type?R_(o,a):null}(a,o):-2===u?function bR(o,a,u){return u===Kd?Nu(a,o):u===Ja?R_(a,o):u===Wu?kD(a,o):void 0}(o,a,h):_s(o,o[1],u,a)}function d0(o,a,u,h){const f=a[19].queries[h];if(null===f.matches){const m=o.data,v=u.matches,E=[];for(let x=0;x<v.length;x+=2){const M=v[x];E.push(M<0?null:Vp(a,m[M],v[x+1],u.metadata.read))}f.matches=E}return f.matches}function h0(o,a,u,h){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=d0(o,a,f,u);for(let E=0;E<m.length;E+=2){const x=m[E];if(x>0)h.push(v[E/2]);else{const M=m[E+1],P=a[-x];for(let W=10;W<P.length;W++){const ae=P[W];ae[17]===ae[3]&&h0(ae[1],ae,M,h)}if(null!==P[9]){const W=P[9];for(let ae=0;ae<W.length;ae++){const fe=W[ae];h0(fe[1],fe,M,h)}}}}}return h}function PD(o){const a=Fe(),u=_n(),h=Df();lu(h+1);const f=LD(u,h);if(o.dirty&&function lc(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?h0(u,a,h,[]):d0(u,a,f,h);o.reset(m,vC),o.notifyOnChanges()}return!0}return!1}function wR(o,a,u){const h=_n();h.firstCreatePass&&(ND(h,new l0(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),f0(h,Fe(),a)}function FD(o,a,u,h){const f=_n();if(f.firstCreatePass){const m=Fi();ND(f,new l0(a,u,h),m.index),function ZL(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}f0(f,Fe(),u)}function k_(){return function O_(o,a){return o[19].queries[a].queryList}(Fe(),Df())}function f0(o,a,u){const h=new A_(4==(4&u));QM(o,a,h,h.destroy),null===a[19]&&(a[19]=new Ih),a[19].queries.push(new a0(h))}function ND(o,a,u){null===o.queries&&(o.queries=new c0),o.queries.track(new u0(a,u))}function LD(o,a){return o.queries.getByIndex(a)}function BD(o,a){return R_(o,a)}function v0(...o){}const QD=new fn("Application Initializer");let b0=(()=>{class o{constructor(u){this.appInits=u,this.resolve=v0,this.reject=v0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(yb(m))u.push(m);else if(vb(m)){const v=new Promise((E,x)=>{m.subscribe({complete:E,error:x})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Xe(QD,8))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const L_=new fn("AppId",{providedIn:"root",factory:function XD(){return`${w0()}${w0()}${w0()}`}});function w0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kR=new fn("Platform Initializer"),sB=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JD=new fn("appBootstrapListener"),OR=new fn("AnimationModuleType");let PR=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const B_=new fn("LocaleId",{providedIn:"root",factory:()=>ct(B_,_t.Optional|_t.SkipSelf)||function FR(){return typeof $localize<"u"&&$localize.locale||Tp}()}),tS=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oB{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let aB=(()=>{class o{compileModuleSync(u){return new xh(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Za(Ri(u).declarations).reduce((v,E)=>{const x=vn(E);return x&&v.push(new gp(x)),v},[]);return new oB(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const cB=(()=>Promise.resolve(0))();function rS(o){typeof Zone>"u"?cB.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Uo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function uB(){let o=Vt.requestAnimationFrame,a=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function fB(o){const a=()=>{!function hB(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,U_(o),o.isCheckStableRunning=!0,sS(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),U_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,E)=>{try{return VR(o),u.invokeTask(f,m,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),HR(o)}},onInvoke:(u,h,f,m,v,E,x)=>{try{return VR(o),u.invoke(f,m,v,E,x)}finally{o.shouldCoalesceRunChangeDetection&&a(),HR(o)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,U_(o),sS(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new pe(909,!1)}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,dB,v0,v0);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const dB={};function sS(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function U_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function VR(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function HR(o){o._nesting--,sS(o)}class pB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,f){return a.apply(u,h)}}const jR=new fn(""),zR=new fn("");let oS,mB=(()=>{class o{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oS||(function gB(o){oS=o}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),rS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rS(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Xe(Uo),Xe(GR),Xe(zR))},o.\u0275prov=dt({token:o,factory:o.\u0275fac}),o})(),GR=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return oS?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ku=null;const $R=new fn("AllowMultipleToken"),aS=new fn("PlatformDestroyListeners");class vB{constructor(a,u){this.name=a,this.token=u}}function qR(o,a,u=[]){const h=`Platform: ${a}`,f=new fn(h);return(m=[])=>{let v=E0();if(!v||v.injector.get($R,!1)){const E=[...u,...m,{provide:f,useValue:!0}];o?o(E):function bB(o){if(Ku&&!Ku.get($R,!1))throw new pe(400,!1);Ku=o;const a=o.get(YR);(function WR(o){const a=o.get(kR,null);a&&a.forEach(u=>u())})(o)}(function KR(o=[],a){return Zd.create({name:a,providers:[{provide:Pv,useValue:"platform"},{provide:aS,useValue:new Set([()=>Ku=null])},...o]})}(E,h))}return function EB(o){const a=E0();if(!a)throw new pe(401,!1);return a}()}}function E0(){return Ku?.get(YR)??null}let YR=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function QR(o,a){let u;return u="noop"===o?new pB:("zone.js"===o?void 0:o)||new Uo(a),u}(h?.ngZone,function ZR(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Uo,useValue:f}];return f.run(()=>{const v=Zd.create({providers:m,parent:this.injector,name:u.moduleType.name}),E=u.create(v),x=E.injector.get(Yd,null);if(!x)throw new pe(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:P=>{x.handleError(P)}});E.onDestroy(()=>{x0(this._modules,E),M.unsubscribe()})}),function XR(o,a,u){try{const h=u();return yb(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(x,f,()=>{const M=E.injector.get(b0);return M.runInitializers(),M.donePromise.then(()=>(function y_(o){ut(o,"Expected localeId to be defined"),"string"==typeof o&&($x=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(B_,Tp)||Tp),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,h=[]){const f=JR({},h);return function _B(o,a,u){const h=new xh(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(C0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new pe(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(aS,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Xe(Zd))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function JR(o,a){return Array.isArray(a)?a.reduce(JR,o):{...o,...a}}let C0=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new R.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new R.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),rS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ee.T)(m,v.pipe((0,j.B)()))}bootstrap(u,h){const f=u instanceof vc;if(!this._injector.get(b0).done)throw!f&&ii(u),new pe(405,false);let v;v=f?u:this._injector.get(sp).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function yB(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ch),M=v.create(Zd.NULL,[],h||v.selector,E),P=M.location.nativeElement,W=M.injector.get(jR,null);return W?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),x0(this.components,M),W?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;x0(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(JD,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>x0(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Xe(Uo),Xe(Fu),Xe(Yd))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function x0(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}function DB(){return!1}function SB(){}let IB=(()=>{class o{}return o.__NG_ELEMENT_ID__=TB,o})();function TB(o){return function MB(o,a,u){if(hl(o)&&!u){const h=Pi(o.index,a);return new Zg(h,h)}return 47&o.type?new Zg(a[16],a):null}(Fi(),Fe(),16==(16&o))}class rk{constructor(){}supports(a){return Jg(a)}create(a){return new FB(a)}}const PB=(o,a)=>a;class FB{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||PB}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<ok(h,f,m)?u:h,E=ok(v,f,m),x=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const M=E-f,P=x-f;if(M!=P){for(let ae=0;ae<M;ae++){const fe=ae<m.length?m[ae]:m[ae]=0,Ne=fe+ae;P<=Ne&&Ne<M&&(m[ae]=fe+1)}m[v.previousIndex]=P-M}}E!==x&&a(v,E,x)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Jg(a))throw new pe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)m=a[E],v=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,E),h=!0),u=u._next}else f=0,function qr(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[rh()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,E=>{v=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,E,v,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new NB(u,h),m,f),a}_verifyReinsertion(a,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new sk),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sk),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class NB{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LB{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class sk{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new LB,this.map.set(u,h)),h.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ok(o,a,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+a+f}class ak{constructor(){}supports(a){return a instanceof Map||mb(a)}create(){return new BB}}class BB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||mb(a)))throw new pe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new UB(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class UB{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lk(){return new hS([new rk])}let hS=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||lk()),deps:[[o,new ze,new ue]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new pe(901,!1)}}return o.\u0275prov=dt({token:o,providedIn:"root",factory:lk}),o})();function ck(){return new I0([new ak])}let I0=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||ck()),deps:[[o,new ze,new ue]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new pe(901,!1)}}return o.\u0275prov=dt({token:o,providedIn:"root",factory:ck}),o})();const VB=qR(null,"core",[]);let fS=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Xe(C0))},o.\u0275mod=_o({type:o}),o.\u0275inj=Tn({}),o})();function Oh(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(se,Y,T)=>{T.d(Y,{Z:()=>Le});var l=T(2090),N=T(4859),R=T(9681),ee=T(1877);class j{constructor(pe,ve){this._delegate=pe,this.firebase=ve,(0,R._addComponent)(pe,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(pe,ve=R._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(pe);return!Ee.isInitialized()&&"EXPLICIT"===(null===(xe=Ee.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:ve})}_removeServiceInstance(pe,ve=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(ve)}_addComponent(pe){(0,R._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,R._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function J(){const Ge=function ne(Ge){const pe={},ve={__esModule:!0,initializeApp:function Ae(de,_e={}){const Oe=R.initializeApp(de,_e);if((0,l.r3)(pe,Oe.name))return pe[Oe.name];const it=new Ge(Oe,ve);return pe[Oe.name]=it,it},app:Ee,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ke(de){const _e=de.name,Oe=_e.replace("-compat","");if(R._registerComponent(de)&&"PUBLIC"===de.type){const it=(et=Ee())=>{if("function"!=typeof et[Oe])throw te.create("invalid-app-argument",{appName:_e});return et[Oe]()};void 0!==de.serviceProps&&(0,l.ZB)(it,de.serviceProps),ve[Oe]=it,Ge.prototype[Oe]=function(...et){return this._getService.bind(this,_e).apply(this,de.multipleInstances?et:[])}}return"PUBLIC"===de.type?ve[Oe]:null},removeApp:function xe(de){delete pe[de]},useAsService:function $e(de,_e){return"serverAuth"===_e?null:_e},modularAPIs:R}};function Ee(de){if(!(0,l.r3)(pe,de=de||R._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:de});return pe[de]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Re(){return Object.keys(pe).map(de=>pe[de])}}),Ee.App=Ge,ve}(j);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function pe(ve){(0,l.ZB)(Ge,ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ge}(),G=new ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=z;!function Ce(Ge){(0,R.registerVersion)("@firebase/app-compat","0.2.1",Ge)}()},9681:(se,Y,T)=>{T.r(Y),T.d(Y,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>xn,_addOrOverwriteComponent:()=>Mt,_apps:()=>ut,_clearComponents:()=>Tn,_components:()=>st,_getProvider:()=>dt,_registerComponent:()=>It,_removeServiceInstance:()=>mn,deleteApp:()=>Tr,getApp:()=>Yn,getApps:()=>er,initializeApp:()=>zr,onLog:()=>_t,registerVersion:()=>li,setLogLevel:()=>Zn});var l=T(9671),N=T(4859),R=T(1877),ee=T(2090),j=T(8766);class H{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function te(Xe){return"VERSION"===Xe.getComponent()?.type}(ct)){const kt=ct.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(ct=>ct).join(" ")}}const ne="@firebase/app",J="0.9.1",z=new R.Yd("@firebase/app"),Ze="[DEFAULT]",Qe={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,st=new Map;function xn(Xe,Be){try{Xe.container.addComponent(Be)}catch(ct){z.debug(`Component ${Be.name} failed to register with FirebaseApp ${Xe.name}`,ct)}}function Mt(Xe,Be){Xe.container.addOrOverwriteComponent(Be)}function It(Xe){const Be=Xe.name;if(st.has(Be))return z.debug(`There were multiple attempts to register component ${Be}.`),!1;st.set(Be,Xe);for(const ct of ut.values())xn(ct,Xe);return!0}function dt(Xe,Be){const ct=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),Xe.container.getProvider(Be)}function mn(Xe,Be,ct=Ze){dt(Xe,Be).clearInstance(ct)}function Tn(){st.clear()}const gn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(Be,ct,kt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const bi="9.16.0";function zr(Xe,Be={}){let ct=Xe;"object"!=typeof Be&&(Be={name:Be});const kt=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},Be),Bt=kt.name;if("string"!=typeof Bt||!Bt)throw gn.create("bad-app-name",{appName:String(Bt)});if(ct||(ct=(0,ee.aH)()),!ct)throw gn.create("no-options");const an=ut.get(Bt);if(an){if((0,ee.vZ)(ct,an.options)&&(0,ee.vZ)(kt,an.config))return an;throw gn.create("duplicate-app",{appName:Bt})}const re=new N.H0(Bt);for(const oe of st.values())re.addComponent(oe);const X=new ei(ct,kt,re);return ut.set(Bt,X),X}function Yn(Xe=Ze){const Be=ut.get(Xe);if(!Be&&Xe===Ze)return zr();if(!Be)throw gn.create("no-app",{appName:Xe});return Be}function er(){return Array.from(ut.values())}function Tr(Xe){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(Xe){const Be=Xe.name;ut.has(Be)&&(ut.delete(Be),yield Promise.all(Xe.container.getProviders().map(ct=>ct.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function li(Xe,Be,ct){var kt;let Bt=null!==(kt=Qe[Xe])&&void 0!==kt?kt:Xe;ct&&(Bt+=`-${ct}`);const an=Bt.match(/\s|\//),re=Be.match(/\s|\//);if(an||re){const X=[`Unable to register library "${Bt}" with version "${Be}":`];return an&&X.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),an&&re&&X.push("and"),re&&X.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void z.warn(X.join(" "))}It(new N.wA(`${Bt}-version`,()=>({library:Bt,version:Be}),"VERSION"))}function _t(Xe,Be){if(null!==Xe&&"function"!=typeof Xe)throw gn.create("invalid-log-argument");(0,R.Am)(Xe,Be)}function Zn(Xe){(0,R.Ub)(Xe)}const ti="firebase-heartbeat-store";let Mi=null;function Vt(){return Mi||(Mi=(0,j.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,Be)=>{0===Be&&Xe.createObjectStore(ti)}}).catch(Xe=>{throw gn.create("idb-open",{originalErrorMessage:Xe.message})})),Mi}function Ht(){return(Ht=(0,l.Z)(function*(Xe){try{return(yield Vt()).transaction(ti).objectStore(ti).get(zn(Xe))}catch(Be){if(Be instanceof ee.ZR)z.warn(Be.message);else{const ct=gn.create("idb-get",{originalErrorMessage:Be?.message});z.warn(ct.message)}}})).apply(this,arguments)}function Dn(Xe,Be){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(Xe,Be){try{const kt=(yield Vt()).transaction(ti,"readwrite");return yield kt.objectStore(ti).put(Be,zn(Xe)),kt.done}catch(ct){if(ct instanceof ee.ZR)z.warn(ct.message);else{const kt=gn.create("idb-set",{originalErrorMessage:ct?.message});z.warn(kt.message)}}})).apply(this,arguments)}function zn(Xe){return`${Xe.name}!${Xe.options.appId}`}class mr{constructor(Be){this.container=Be,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new en(ct),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Be=this;return(0,l.Z)(function*(){const kt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Yt();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Be._heartbeatsCache.heartbeats.some(an=>an.date===Bt))return Be._heartbeatsCache.heartbeats.push({date:Bt,agent:kt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(an=>{const re=new Date(an.date).valueOf();return Date.now()-re<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,l.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const ct=Yt(),{heartbeatsToSend:kt,unsentEntries:Bt}=function Mr(Xe,Be=1024){const ct=[];let kt=Xe.slice();for(const Bt of Xe){const an=ct.find(re=>re.agent===Bt.agent);if(an){if(an.dates.push(Bt.date),zi(ct)>Be){an.dates.pop();break}}else if(ct.push({agent:Bt.agent,dates:[Bt.date]}),zi(ct)>Be){ct.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:ct,unsentEntries:kt}}(Be._heartbeatsCache.heartbeats),an=(0,ee.L)(JSON.stringify({version:2,heartbeats:kt}));return Be._heartbeatsCache.lastSentHeartbeatDate=ct,Bt.length>0?(Be._heartbeatsCache.heartbeats=Bt,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),an})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class en{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,l.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function Tt(Xe){return Ht.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var ct=this;return(0,l.Z)(function*(){var kt;if(yield ct._canUseIndexedDBPromise){const an=yield ct.read();return Dn(ct.app,{lastSentHeartbeatDate:null!==(kt=Be.lastSentHeartbeatDate)&&void 0!==kt?kt:an.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var ct=this;return(0,l.Z)(function*(){var kt;if(yield ct._canUseIndexedDBPromise){const an=yield ct.read();return Dn(ct.app,{lastSentHeartbeatDate:null!==(kt=Be.lastSentHeartbeatDate)&&void 0!==kt?kt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...Be.heartbeats]})}})()}}function zi(Xe){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Qn(Xe){It(new N.wA("platform-logger",Be=>new H(Be),"PRIVATE")),It(new N.wA("heartbeat",Be=>new mr(Be),"PRIVATE")),li(ne,J,Xe),li(ne,J,"esm2017"),li("fire-js","")}("")},4859:(se,Y,T)=>{T.d(Y,{H0:()=>ne,wA:()=>R,zt:()=>j});var l=T(9671),N=T(2090);class R{constructor(z,G,Z){this.name=z,this.instanceFactory=G,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ee="[DEFAULT]";class j{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const Z=new N.BH;if(this.instancesDeferred.set(G,Z),this.isInitialized(G)||this.shouldAutoInitialize())try{const ge=this.getOrInitializeService({instanceIdentifier:G});ge&&Z.resolve(ge)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const Z=this.normalizeInstanceIdentifier(z?.identifier),ge=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Ce){if(ge)return null;throw Ce}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function te(J){return"EAGER"===J.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[G,Z]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(G);try{const Ce=this.getOrInitializeService({instanceIdentifier:ge});Z.resolve(Ce)}catch{}}}}clearInstance(z=ee){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...G.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ee){return this.instances.has(z)}getOptions(z=ee){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,Z=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ge=this.getOrInitializeService({instanceIdentifier:Z,options:G});for(const[Ce,Le]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Ce)&&Le.resolve(ge);return ge}onInit(z,G){var Z;const ge=this.normalizeInstanceIdentifier(G),Ce=null!==(Z=this.onInitCallbacks.get(ge))&&void 0!==Z?Z:new Set;Ce.add(z),this.onInitCallbacks.set(ge,Ce);const Le=this.instances.get(ge);return Le&&z(Le,ge),()=>{Ce.delete(z)}}invokeOnInitCallbacks(z,G){const Z=this.onInitCallbacks.get(G);if(Z)for(const ge of Z)try{ge(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let Z=this.instances.get(z);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(J=z,J===ee?void 0:J),options:G}),this.instances.set(z,Z),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(Z,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Z)}catch{}var J;return Z||null}normalizeInstanceIdentifier(z=ee){return this.component?this.component.multipleInstances?z:ee:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new j(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(se,Y,T)=>{T.d(Y,{Am:()=>J,Ub:()=>ne,Yd:()=>te,in:()=>N});const l=[];var N=(()=>{return(z=N||(N={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",N;var z})();const R={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},ee=N.INFO,j={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},H=(z,G,...Z)=>{if(G<z.logLevel)return;const ge=(new Date).toISOString(),Ce=j[G];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ce](`[${ge}]  ${z.name}:`,...Z)};class te{constructor(G){this.name=G,this._logLevel=ee,this._logHandler=H,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in N))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...G),this._logHandler(this,N.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...G),this._logHandler(this,N.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,N.INFO,...G),this._logHandler(this,N.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,N.WARN,...G),this._logHandler(this,N.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...G),this._logHandler(this,N.ERROR,...G)}}function ne(z){l.forEach(G=>{G.setLogLevel(z)})}function J(z,G){for(const Z of l){let ge=null;G&&G.level&&(ge=R[G.level]),Z.userLogHandler=null===z?null:(Ce,Le,...Ge)=>{const pe=Ge.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");Le>=(ge??Ce.logLevel)&&z({level:N[Le].toLowerCase(),message:pe,args:Ge,type:Ce.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(Y,T){if(this.action=Y,this.timestamp=T,this.type=PERFORM_ACTION,typeof Y.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(Y){this.timestamp=Y,this.type=RESET}}class Rollback{constructor(Y){this.timestamp=Y,this.type=ROLLBACK}}class Commit{constructor(Y){this.timestamp=Y,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(Y){this.id=Y,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(Y,T,l=!0){this.start=Y,this.end=T,this.active=l,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(Y){this.index=Y,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(Y){this.actionId=Y,this.type=JUMP_TO_ACTION}}class ImportState{constructor(Y){this.nextLiftedState=Y,this.type=IMPORT_STATE}}class LockChanges{constructor(Y){this.status=Y,this.type=LOCK_CHANGES}}class PauseRecording{constructor(Y){this.status=Y,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(se){const Y={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},T="function"==typeof se?se():se,R=Object.assign({},Y,{features:T.features||!!T.logOnly&&{pause:!0,export:!0,test:!0}||Y.features},T);if(R.maxAge&&R.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${R.maxAge}`);return R}function difference(se,Y){return se.filter(T=>Y.indexOf(T)<0)}function unliftState(se){const{computedStates:Y,currentStateIndex:T}=se;if(T>=Y.length){const{state:N}=Y[Y.length-1];return N}const{state:l}=Y[T];return l}function unliftAction(se){return se.actionsById[se.nextActionId-1]}function liftAction(se){return new PerformAction(se,+Date.now())}function sanitizeActions(se,Y){return Object.keys(Y).reduce((T,l)=>{const N=Number(l);return T[N]=sanitizeAction(se,Y[N],N),T},{})}function sanitizeAction(se,Y,T){return{...Y,action:se(Y.action,T)}}function sanitizeStates(se,Y){return Y.map((T,l)=>({state:sanitizeState(se,T.state,l),error:T.error}))}function sanitizeState(se,Y,T){return se(Y,T)}function shouldFilterActions(se){return se.predicate||se.actionsSafelist||se.actionsBlocklist}function filterLiftedState(se,Y,T,l){const N=[],R={},ee=[];return se.stagedActionIds.forEach((j,H)=>{const te=se.actionsById[j];te&&(H&&isActionFiltered(se.computedStates[H],te,Y,T,l)||(R[j]=te,N.push(j),ee.push(se.computedStates[H])))}),{...se,stagedActionIds:N,actionsById:R,computedStates:ee}}function isActionFiltered(se,Y,T,l,N){const R=T&&!T(se,Y.action),ee=l&&!Y.action.type.match(l.map(H=>escapeRegExp(H)).join("|")),j=N&&Y.action.type.match(N.map(H=>escapeRegExp(H)).join("|"));return R||ee||j}function escapeRegExp(se){return se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class se extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return se.\u0275fac=function(){let Y;return function(l){return(Y||(Y=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(se)))(l||se)}}(),se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:se,factory:se.\u0275fac}),se})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(se,Y,T){this.config=Y,this.dispatcher=T,this.devtoolsExtension=se,this.createActionStreams()}notify(se,Y){if(this.devtoolsExtension)if(se.type===PERFORM_ACTION){if(Y.isLocked||Y.isPaused)return;const T=unliftState(Y);if(shouldFilterActions(this.config)&&isActionFiltered(T,se,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const l=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,T,Y.currentStateIndex):T,N=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,se,Y.nextActionId):se;this.sendToReduxDevtools(()=>this.extensionConnection.send(N,l))}else{const T={...Y,stagedActionIds:Y.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,Y.actionsById):Y.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,Y.computedStates):Y.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,T,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(se=>{const Y=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=Y,Y.init(),Y.subscribe(T=>se.next(T)),Y.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const se=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),Y=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.START)),T=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.STOP)),l=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(j=>j.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>j),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j))),R=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),ee=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T));this.start$=Y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>R)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(se){const Y={name:se.name,features:se.features,serialize:se.serialize,autoPause:se.autoPause??!1,trace:se.trace??!1,traceLimit:se.traceLimit??75};return!1!==se.maxAge&&(Y.maxAge=se.maxAge),Y}sendToReduxDevtools(se){try{se()}catch(Y){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",Y)}}}return DevtoolsExtension.\u0275fac=function se(Y){return new(Y||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(se,Y,T,l,N){if(l)return{state:T,error:"Interrupted by an error up the chain"};let ee,R=T;try{R=se(T,Y)}catch(j){ee=j.toString(),N.handleError(j)}return{state:R,error:ee}}function recomputeStates(se,Y,T,l,N,R,ee,j,H){if(Y>=se.length&&se.length===R.length)return se;const te=se.slice(0,Y),ne=R.length-(H?1:0);for(let J=Y;J<ne;J++){const z=R[J],G=N[z].action,Z=te[J-1],ge=Z?Z.state:l,Ce=Z?Z.error:void 0,Ge=ee.indexOf(z)>-1?Z:computeNextEntry(T,G,ge,Ce,j);te.push(Ge)}return H&&te.push(se[se.length-1]),te}function liftInitialState(se,Y){return{monitorState:Y(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:se,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(se,Y,T,l,N={}){return R=>(ee,j)=>{let{monitorState:H,actionsById:te,nextActionId:ne,stagedActionIds:J,skippedActionIds:z,committedState:G,currentStateIndex:Z,computedStates:ge,isLocked:Ce,isPaused:Le}=ee||Y;function Ge(xe){let Ee=xe,Ae=J.slice(1,Ee+1);for(let Re=0;Re<Ae.length;Re++){if(ge[Re+1].error){Ee=Re,Ae=J.slice(1,Ee+1);break}delete te[Ae[Re]]}z=z.filter(Re=>-1===Ae.indexOf(Re)),J=[0,...J.slice(Ee+1)],G=ge[Ee].state,ge=ge.slice(Ee),Z=Z>Ee?Z-Ee:0}function pe(){te={0:liftAction(INIT_ACTION)},ne=1,J=[0],z=[],G=ge[Z].state,Z=0,ge=[]}ee||(te=Object.create(te));let ve=0;switch(j.type){case LOCK_CHANGES:Ce=j.status,ve=1/0;break;case PAUSE_RECORDING:Le=j.status,Le?(J=[...J,ne],te[ne]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ne++,ve=J.length-1,ge=ge.concat(ge[ge.length-1]),Z===J.length-2&&Z++,ve=1/0):pe();break;case RESET:te={0:liftAction(INIT_ACTION)},ne=1,J=[0],z=[],G=se,Z=0,ge=[];break;case COMMIT:pe();break;case ROLLBACK:te={0:liftAction(INIT_ACTION)},ne=1,J=[0],z=[],Z=0,ge=[];break;case TOGGLE_ACTION:{const{id:xe}=j;z=-1===z.indexOf(xe)?[xe,...z]:z.filter(Ae=>Ae!==xe),ve=J.indexOf(xe);break}case SET_ACTIONS_ACTIVE:{const{start:xe,end:Ee,active:Ae}=j,Re=[];for(let ke=xe;ke<Ee;ke++)Re.push(ke);z=Ae?difference(z,Re):[...z,...Re],ve=J.indexOf(xe);break}case JUMP_TO_STATE:Z=j.index,ve=1/0;break;case JUMP_TO_ACTION:{const xe=J.indexOf(j.actionId);-1!==xe&&(Z=xe),ve=1/0;break}case SWEEP:J=difference(J,z),z=[],Z=Math.min(Z,J.length-1);break;case PERFORM_ACTION:{if(Ce)return ee||Y;if(Le||ee&&isActionFiltered(ee.computedStates[Z],j,N.predicate,N.actionsSafelist,N.actionsBlocklist)){const Ee=ge[ge.length-1];ge=[...ge.slice(0,-1),computeNextEntry(R,j.action,Ee.state,Ee.error,T)],ve=1/0;break}N.maxAge&&J.length===N.maxAge&&Ge(1),Z===J.length-1&&Z++;const xe=ne++;te[xe]=j,J=[...J,xe],ve=J.length-1;break}case IMPORT_STATE:({monitorState:H,actionsById:te,nextActionId:ne,stagedActionIds:J,skippedActionIds:z,committedState:G,currentStateIndex:Z,computedStates:ge,isLocked:Ce,isPaused:Le}=j.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ve=0,N.maxAge&&J.length>N.maxAge&&(ge=recomputeStates(ge,ve,R,G,te,J,z,T,Le),Ge(J.length-N.maxAge),ve=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ge.filter(Ee=>Ee.error).length>0)ve=0,N.maxAge&&J.length>N.maxAge&&(ge=recomputeStates(ge,ve,R,G,te,J,z,T,Le),Ge(J.length-N.maxAge),ve=1/0);else{if(!Le&&!Ce){Z===J.length-1&&Z++;const Ee=ne++;te[Ee]=new PerformAction(j,+Date.now()),J=[...J,Ee],ve=J.length-1,ge=recomputeStates(ge,ve,R,G,te,J,z,T,Le)}ge=ge.map(Ee=>({...Ee,state:R(Ee.state,RECOMPUTE_ACTION)})),Z=J.length-1,N.maxAge&&J.length>N.maxAge&&Ge(J.length-N.maxAge),ve=1/0}break;default:ve=1/0}return ge=recomputeStates(ge,ve,R,G,te,J,z,T,Le),H=l(H,j),{monitorState:H,actionsById:te,nextActionId:ne,stagedActionIds:J,skippedActionIds:z,committedState:G,currentStateIndex:Z,computedStates:ge,isLocked:Ce,isPaused:Le}}}let StoreDevtools=(()=>{class se{constructor(T,l,N,R,ee,j,H,te){const ne=liftInitialState(H,te.monitor),J=liftReducerWith(H,ne,j,te.monitor,te),z=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(l.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),R.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),T,R.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),G=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(J)),Z=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),ge=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(G),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:pe},[ve,xe])=>{let Ee=xe(pe,ve);return ve.type!==PERFORM_ACTION&&shouldFilterActions(te)&&(Ee=filterLiftedState(Ee,te.predicate,te.actionsSafelist,te.actionsBlocklist)),R.notify(ve,Ee),{state:Ee,action:ve}},{state:ne,action:null})).subscribe(({state:pe,action:ve})=>{Z.next(pe),ve.type===PERFORM_ACTION&&ee.next(ve.action)}),Ce=R.start$.subscribe(()=>{this.refresh()}),Le=Z.asObservable(),Ge=Le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ce,this.stateSubscription=ge,this.dispatcher=T,this.liftedState=Le,this.state=Ge}dispatch(T){this.dispatcher.next(T)}next(T){this.dispatcher.next(T)}error(T){}complete(){}performAction(T){this.dispatch(new PerformAction(T,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(T){this.dispatch(new ToggleAction(T))}jumpToAction(T){this.dispatch(new JumpToAction(T))}jumpToState(T){this.dispatch(new JumpToState(T))}importState(T){this.dispatch(new ImportState(T))}lockChanges(T){this.dispatch(new LockChanges(T))}pauseRecording(T){this.dispatch(new PauseRecording(T))}}return se.\u0275fac=function(T){return new(T||se)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:se,factory:se.\u0275fac}),se})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(se,Y){return Boolean(se)||Y.monitor!==noMonitor}function createReduxDevtoolsExtension(){const se="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[se]<"u"?window[se]:null}function provideStoreDevtools(se={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:se},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(se){return se.state}let StoreDevtoolsModule=(()=>{class se{static instrument(T={}){return{ngModule:se,providers:[provideStoreDevtools(T)]}}}return se.\u0275fac=function(T){return new(T||se)},se.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:se}),se.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),se})()},9653:(se,Y,T)=>{T.d(Y,{UO:()=>$e,qg:()=>ke,Y6:()=>it,mK:()=>li,n$:()=>bn,Y$:()=>jn,FR:()=>Mi,yh:()=>Dn,CK:()=>ks,Aw:()=>Gr,cr:()=>Rs,wb:()=>_t,PH:()=>Ce,R7:()=>xe,Tz:()=>Ln,Lq:()=>Da,on:()=>pi,Ky:()=>Le});var l=T(4650),N=T(1135),R=T(9751),ee=T(7579),j=T(233),H=T(5363),te=T(1365),ne=T(5026),J=T(4004),G=T(1884);const Z={};function Ce($,me){if(Z[$]=(Z[$]||0)+1,"function"==typeof me)return pe($,(...Se)=>({...me(...Se),type:$}));switch(me?me._as:"empty"){case"empty":return pe($,()=>({type:$}));case"props":return pe($,Se=>({...Se,type:$}));default:throw new Error("Unexpected config.")}}function Le(){return{_as:"props",_p:void 0}}function pe($,me){return Object.defineProperty(me,"type",{value:$,writable:!1})}function ve($){return $.charAt(0).toUpperCase()+$.substring(1)}function xe($){const{source:me,events:ce}=$;return Object.keys(ce).reduce((Se,je)=>({...Se,[Ae(je)]:Ce(Re(me,je),ce[je])}),{})}function Ae($){return $.trim().toLowerCase().split(" ").map((me,ce)=>0===ce?me:ve(me)).join("")}function Re($,me){return`[${$}] ${me}`}const ke="@ngrx/store/init";let $e=(()=>{class $ extends N.X{constructor(){super({type:ke})}next(ce){if("function"==typeof ce)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ce>"u")throw new TypeError("Actions must be objects");if(typeof ce.type>"u")throw new TypeError("Actions must have a type property");super.next(ce)}complete(){}ngOnDestroy(){super.complete()}}return $.\u0275fac=function(ce){return new(ce||$)},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac}),$})();const de=[$e],_e=new l.OlP("@ngrx/store Internal Root Guard"),Oe=new l.OlP("@ngrx/store Internal Initial State"),it=new l.OlP("@ngrx/store Initial State"),et=new l.OlP("@ngrx/store Reducer Factory"),Lt=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),lt=new l.OlP("@ngrx/store Initial Reducers"),be=new l.OlP("@ngrx/store Internal Initial Reducers"),Ie=new l.OlP("@ngrx/store Store Features"),Pe=new l.OlP("@ngrx/store Internal Store Reducers"),Ue=new l.OlP("@ngrx/store Internal Feature Reducers"),Ze=new l.OlP("@ngrx/store Internal Feature Configs"),Qe=new l.OlP("@ngrx/store Internal Store Features"),ut=new l.OlP("@ngrx/store Internal Feature Reducers Token"),st=new l.OlP("@ngrx/store Feature Reducers"),xn=new l.OlP("@ngrx/store User Provided Meta Reducers"),Mt=new l.OlP("@ngrx/store Meta Reducers"),It=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),dt=new l.OlP("@ngrx/store User Runtime Checks Config"),mn=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),Tn=new l.OlP("@ngrx/store Internal Runtime Checks"),In=new l.OlP("@ngrx/store Check if Action types are unique");function bi($,me={}){const ce=Object.keys($),Se={};for(let Ye=0;Ye<ce.length;Ye++){const sn=ce[Ye];"function"==typeof $[sn]&&(Se[sn]=$[sn])}const je=Object.keys(Se);return function(sn,kn){sn=void 0===sn?me:sn;let Vn=!1;const ri={};for(let dn=0;dn<je.length;dn++){const Rn=je[dn],tr=sn[Rn],nr=(0,Se[Rn])(tr,kn);ri[Rn]=nr,Vn=Vn||nr!==tr}return Vn?ri:sn}}function Yn(...$){return function(me){if(0===$.length)return me;const ce=$[$.length-1];return $.slice(0,-1).reduceRight((je,Ye)=>Ye(je),ce(me))}}function er($,me){return Array.isArray(me)&&me.length>0&&($=Yn.apply(null,[...me,$])),(ce,Se)=>{const je=$(ce);return(Ye,sn)=>je(Ye=void 0===Ye?Se:Ye,sn)}}new l.OlP("@ngrx/store Root Store Provider"),new l.OlP("@ngrx/store Feature State Provider");class bn extends R.y{}class li extends $e{}const _t="@ngrx/store/update-reducers";let Zn=(()=>{class $ extends N.X{constructor(ce,Se,je,Ye){super(Ye(je,Se)),this.dispatcher=ce,this.initialState=Se,this.reducers=je,this.reducerFactory=Ye}get currentReducers(){return this.reducers}addFeature(ce){this.addFeatures([ce])}addFeatures(ce){const Se=ce.reduce((je,{reducers:Ye,reducerFactory:sn,metaReducers:kn,initialState:Vn,key:ri})=>{const dn="function"==typeof Ye?function Tr($){const me=Array.isArray($)&&$.length>0?Yn(...$):ce=>ce;return(ce,Se)=>(ce=me(ce),(je,Ye)=>ce(je=void 0===je?Se:je,Ye))}(kn)(Ye,Vn):er(sn,kn)(Ye,Vn);return je[ri]=dn,je},{});this.addReducers(Se)}removeFeature(ce){this.removeFeatures([ce])}removeFeatures(ce){this.removeReducers(ce.map(Se=>Se.key))}addReducer(ce,Se){this.addReducers({[ce]:Se})}addReducers(ce){this.reducers={...this.reducers,...ce},this.updateReducers(Object.keys(ce))}removeReducer(ce){this.removeReducers([ce])}removeReducers(ce){ce.forEach(Se=>{this.reducers=function zr($,me){return Object.keys($).filter(ce=>ce!==me).reduce((ce,Se)=>Object.assign(ce,{[Se]:$[Se]}),{})}(this.reducers,Se)}),this.updateReducers(ce)}updateReducers(ce){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:_t,features:ce})}ngOnDestroy(){this.complete()}}return $.\u0275fac=function(ce){return new(ce||$)(l.LFG(li),l.LFG(it),l.LFG(lt),l.LFG(et))},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac}),$})();const Ti=[Zn,{provide:bn,useExisting:Zn},{provide:li,useExisting:$e}];let jn=(()=>{class $ extends ee.x{ngOnDestroy(){this.complete()}}return $.\u0275fac=function(){let me;return function(Se){return(me||(me=l.n5z($)))(Se||$)}}(),$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac}),$})();const ti=[jn];class Mi extends R.y{}let Vt=(()=>{class $ extends N.X{constructor(ce,Se,je,Ye){super(Ye);const ri=ce.pipe((0,H.Q)(j.N)).pipe((0,te.M)(Se)).pipe((0,ne.R)(Tt,{state:Ye}));this.stateSubscription=ri.subscribe(({state:dn,action:Rn})=>{this.next(dn),je.next(Rn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return $.INIT=ke,$.\u0275fac=function(ce){return new(ce||$)(l.LFG($e),l.LFG(bn),l.LFG(jn),l.LFG(it))},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac}),$})();function Tt($={state:void 0},[me,ce]){const{state:Se}=$;return{state:ce(Se,me),action:me}}const Ht=[Vt,{provide:Mi,useExisting:Vt}];let Dn=(()=>{class $ extends R.y{constructor(ce,Se,je){super(),this.actionsObserver=Se,this.reducerManager=je,this.source=ce}select(ce,...Se){return zn.call(null,ce,...Se)(this)}lift(ce){const Se=new $(this,this.actionsObserver,this.reducerManager);return Se.operator=ce,Se}dispatch(ce){this.actionsObserver.next(ce)}next(ce){this.actionsObserver.next(ce)}error(ce){this.actionsObserver.error(ce)}complete(){this.actionsObserver.complete()}addReducer(ce,Se){this.reducerManager.addReducer(ce,Se)}removeReducer(ce){this.reducerManager.removeReducer(ce)}}return $.\u0275fac=function(ce){return new(ce||$)(l.LFG(Mi),l.LFG($e),l.LFG(Zn))},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac}),$})();const ci=[Dn];function zn($,me,...ce){return function(je){let Ye;if("string"==typeof $){const sn=[me,...ce].filter(Boolean);Ye=je.pipe(function z(...$){const me=$.length;if(0===me)throw new Error("list of properties cannot be empty.");return(0,J.U)(ce=>{let Se=ce;for(let je=0;je<me;je++){const Ye=Se?.[$[je]];if(!(typeof Ye<"u"))return;Se=Ye}return Se})}($,...sn))}else{if("function"!=typeof $)throw new TypeError(`Unexpected type '${typeof $}' in select operator, expected 'string' or 'function'`);Ye=je.pipe((0,J.U)(sn=>$(sn,me)))}return Ye.pipe((0,G.x)())}}const ji="https://ngrx.io/guide/store/configuration/runtime-checks";function ni($){return void 0===$}function mr($){return null===$}function Yt($){return Array.isArray($)}function Qn($){return"object"==typeof $&&null!==$}function Be($){if(!function Xe($){return Qn($)&&!Yt($)}($))return!1;const me=Object.getPrototypeOf($);return me===Object.prototype||null===me}function ct($){return"function"==typeof $}function oe($,me){return $===me}function K($,me,ce){for(let Se=0;Se<$.length;Se++)if(!ce($[Se],me[Se]))return!0;return!1}function q($,me=oe,ce=oe){let Ye,Se=null,je=null;return{memoized:function ri(){if(void 0!==Ye)return Ye.result;if(!Se)return je=$.apply(null,arguments),Se=arguments,je;if(!K(arguments,Se,me))return je;const dn=$.apply(null,arguments);return Se=arguments,ce(je,dn)?je:(je=dn,dn)},reset:function sn(){Se=null,je=null},setResult:function kn(dn){Ye={result:dn}},clearResult:function Vn(){Ye=void 0}}}function ye(...$){return function wt($,me={stateFn:Ve}){return function(...ce){let Se=ce;if(Array.isArray(Se[0])){const[dn,...Rn]=Se;Se=[...dn,...Rn]}else 1===Se.length&&function qt($){return!!$&&"object"==typeof $&&Object.values($).every(me=>"function"==typeof me)}(Se[0])&&(Se=function xt($){const me=Object.values($),ce=Object.keys($);return[...me,(...je)=>ce.reduce((Ye,sn,kn)=>({...Ye,[sn]:je[kn]}),{})]}(Se[0]));const je=Se.slice(0,Se.length-1),Ye=Se[Se.length-1],sn=je.filter(dn=>dn.release&&"function"==typeof dn.release),kn=$(function(...dn){return Ye.apply(null,dn)}),Vn=q(function(dn,Rn){return me.stateFn.apply(null,[dn,je,Rn,kn])});return Object.assign(Vn.memoized,{release:function ri(){Vn.reset(),kn.reset(),sn.forEach(dn=>dn.release())},projector:kn.memoized,setResult:Vn.setResult,clearResult:Vn.clearResult})}}(q)(...$)}function Ve($,me,ce,Se){if(void 0===ce){const Ye=me.map(sn=>sn($));return Se.memoized.apply(null,Ye)}const je=me.map(Ye=>Ye($,ce));return Se.memoized.apply(null,[...je,ce])}function Ln($){const{name:me,reducer:ce,extraSelectors:Se}=$,je=function rt($){return ye(me=>{const ce=me[$];return(0,l.X6Q)()&&!($ in me)&&console.warn(`@ngrx/store: The feature name "${$}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${$}', ...) or StoreModule.forFeature('${$}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ce},me=>me)}(me),Ye=function wi($,me){const ce=function zt($){return $(void 0,{type:"@ngrx/feature/init"})}(me);return(Be(ce)?Object.keys(ce):[]).reduce((je,Ye)=>({...je,[`select${ve(Ye)}`]:ye($,sn=>sn?.[Ye])}),{})}(je,ce),sn={[`select${ve(me)}State`]:je,...Ye},kn=Se?Se(sn):{};return{name:me,reducer:ce,...sn,...kn}}function Gi($){return $ instanceof l.OlP?(0,l.f3M)($):$}function ll($,me){return me.map((ce,Se)=>{if($[Se]instanceof l.OlP){const je=(0,l.f3M)($[Se]);return{key:ce.key,reducerFactory:je.reducerFactory?je.reducerFactory:bi,metaReducers:je.metaReducers?je.metaReducers:[],initialState:je.initialState}}return ce})}function go($){return $.map(me=>me instanceof l.OlP?(0,l.f3M)(me):me)}function $o($){return"function"==typeof $?$():$}function cl($,me){return $.concat(me)}function Ei(){if((0,l.f3M)(Dn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function xa($){Object.freeze($);const me=ct($);return Object.getOwnPropertyNames($).forEach(ce=>{if(!ce.startsWith("\u0275")&&function Bt($,me){return Object.prototype.hasOwnProperty.call($,me)}($,ce)&&(!me||"caller"!==ce&&"callee"!==ce&&"arguments"!==ce)){const Se=$[ce];(Qn(Se)||ct(Se))&&!Object.isFrozen(Se)&&xa(Se)}}),$}function yo($,me=[]){return(ni($)||mr($))&&0===me.length?{path:["root"],value:$}:Object.keys($).reduce((Se,je)=>{if(Se)return Se;const Ye=$[je];return function kt($){return ct($)&&$.hasOwnProperty("\u0275cmp")}(Ye)?Se:!(ni(Ye)||mr(Ye)||function zi($){return"number"==typeof $}(Ye)||function en($){return"boolean"==typeof $}(Ye)||function Mr($){return"string"==typeof $}(Ye)||Yt(Ye))&&(Be(Ye)?yo(Ye,[...me,je]):{path:[...me,je],value:Ye})},!1)}function qs($,me){if(!1===$)return;const ce=$.path.join("."),Se=new Error(`Detected unserializable ${me} at "${ce}". ${ji}#strict${me}serializability`);throw Se.value=$.value,Se.unserializablePath=ce,Se}function Gn($){return(0,l.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...$}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ai({strictActionSerializability:$,strictStateSerializability:me}){return ce=>$||me?function ul($,me){return function(ce,Se){me.action(Se)&&qs(yo(Se),"action");const je=$(ce,Se);return me.state()&&qs(yo(je),"state"),je}}(ce,{action:Se=>$&&!Ri(Se),state:()=>me}):ce}function ii({strictActionImmutability:$,strictStateImmutability:me}){return ce=>$||me?function _o($,me){return function(ce,Se){const je=me.action(Se)?xa(Se):Se,Ye=$(ce,je);return me.state()?xa(Ye):Ye}}(ce,{action:Se=>$&&!Ri(Se),state:()=>me}):ce}function Ri($){return $.type.startsWith("@ngrx")}function gr({strictActionWithinNgZone:$}){return me=>$?function vn($,me){return function(ce,Se){if(me.action(Se)&&!l.R0b.isInAngularZone())throw new Error(`Action '${Se.type}' running outside NgZone. ${ji}#strictactionwithinngzone`);return $(ce,Se)}}(me,{action:ce=>$&&!Ri(ce)}):me}function pt($){return[{provide:mn,useValue:$},{provide:dt,useFactory:qn,deps:[mn]},{provide:Tn,deps:[dt],useFactory:Gn},{provide:Mt,multi:!0,deps:[Tn],useFactory:ii},{provide:Mt,multi:!0,deps:[Tn],useFactory:Ai},{provide:Mt,multi:!0,deps:[Tn],useFactory:gr}]}function Gt(){return[{provide:In,multi:!0,deps:[Tn],useFactory:ki}]}function qn($){return $}function ki($){if(!$.strictActionTypeUniqueness)return;const me=Object.entries(Z).filter(([,ce])=>ce>1).map(([ce])=>ce);if(me.length)throw new Error(`Action types are registered more than once, ${me.map(ce=>`"${ce}"`).join(", ")}. ${ji}#strictactiontypeuniqueness`)}function ui($={},me={}){return[{provide:_e,useFactory:Ei},{provide:Oe,useValue:me.initialState},{provide:it,useFactory:$o,deps:[Oe]},{provide:be,useValue:$},{provide:Pe,useExisting:$ instanceof l.OlP?$:be},{provide:lt,deps:[be,[new l.tBr(Pe)]],useFactory:Gi},{provide:xn,useValue:me.metaReducers?me.metaReducers:[]},{provide:It,deps:[Mt,xn],useFactory:cl},{provide:Lt,useValue:me.reducerFactory?me.reducerFactory:bi},{provide:et,deps:[Lt,It],useFactory:er},de,Ti,ti,Ht,ci,pt(me.runtimeChecks),Gt()]}function vo($,me,ce={}){return[{provide:Ze,multi:!0,useValue:$ instanceof Object?{}:ce},{provide:Ie,multi:!0,useValue:{key:$ instanceof Object?$.name:$,reducerFactory:ce instanceof l.OlP||!ce.reducerFactory?bi:ce.reducerFactory,metaReducers:ce instanceof l.OlP||!ce.metaReducers?[]:ce.metaReducers,initialState:ce instanceof l.OlP||!ce.initialState?void 0:ce.initialState}},{provide:Qe,deps:[Ze,Ie],useFactory:ll},{provide:Ue,multi:!0,useValue:$ instanceof Object?$.reducer:me},{provide:ut,multi:!0,useExisting:me instanceof l.OlP?me:Ue},{provide:st,multi:!0,deps:[Ue,[new l.tBr(ut)]],useFactory:go},Gt()]}let Rs=(()=>{class ${constructor(ce,Se,je,Ye,sn,kn){}}return $.\u0275fac=function(ce){return new(ce||$)(l.LFG($e),l.LFG(bn),l.LFG(jn),l.LFG(Dn),l.LFG(_e,8),l.LFG(In,8))},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})(),ks=(()=>{class ${constructor(ce,Se,je,Ye,sn){this.features=ce,this.featureReducers=Se,this.reducerManager=je;const kn=ce.map((Vn,ri)=>{const Rn=Se.shift()[ri];return{...Vn,reducers:Rn,initialState:$o(Vn.initialState)}});je.addFeatures(kn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return $.\u0275fac=function(ce){return new(ce||$)(l.LFG(Qe),l.LFG(st),l.LFG(Zn),l.LFG(Rs),l.LFG(In,8))},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})(),Gr=(()=>{class ${static forRoot(ce,Se){return{ngModule:Rs,providers:[...ui(ce,Se)]}}static forFeature(ce,Se,je={}){return{ngModule:ks,providers:[...vo(ce,Se,je)]}}}return $.\u0275fac=function(ce){return new(ce||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})();function pi(...$){return{reducer:$.pop(),types:$.map(Se=>Se.type)}}function Da($,...me){const ce=new Map;for(const Se of me)for(const je of Se.types){const Ye=ce.get(je);ce.set(je,Ye?(kn,Vn)=>Se.reducer(Ye(kn,Vn),Vn):Se.reducer)}return function(Se=$,je){const Ye=ce.get(je.type);return Ye?Ye(Se,je):Se}}},259:(se,Y,T)=>{T.d(Y,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=T(9681);(0,l.registerVersion)("firebase","9.16.0","app")},9260:(se,Y,T)=>{T.d(Y,{Z:()=>l.Z});var l=T(3942);l.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(se,Y,T)=>{T.r(Y);var l=T(9671),N=T(3942),R=T(1808),ee=T(2090),te=(T(9681),T(1877),T(4859));function ne(){return window}function G(){return(G=(0,l.Z)(function*(K,F,q){var ye;const{BuildInfo:Ve}=ne();(0,R.ap)(F.sessionId,"AuthEvent did not contain a session ID");const wt=yield ve(F.sessionId),rt={};return(0,R.aq)()?rt.ibi=Ve.packageName:(0,R.ar)()?rt.apn=Ve.packageName:(0,R.as)(K,"operation-not-supported-in-this-environment"),Ve.displayName&&(rt.appDisplayName=Ve.displayName),rt.sessionId=wt,(0,R.at)(K,q,F.type,void 0,null!==(ye=F.eventId)&&void 0!==ye?ye:void 0,rt)})).apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(K){const{BuildInfo:F}=ne(),q={};(0,R.aq)()?q.iosBundleId=F.packageName:(0,R.ar)()?q.androidPackageName=F.packageName:(0,R.as)(K,"operation-not-supported-in-this-environment"),yield(0,R.au)(K,q)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(K,F,q){const{cordova:ye}=ne();let Ve=()=>{};try{yield new Promise((wt,rt)=>{let qt=null;function xt(){var zt;wt();const Gi=null===(zt=ye.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Gi&&Gi(),"function"==typeof q?.close&&q.close()}function Ln(){qt||(qt=window.setTimeout(()=>{rt((0,R.aw)(K,"redirect-cancelled-by-user"))},2e3))}function wi(){"visible"===document?.visibilityState&&Ln()}F.addPassiveListener(xt),document.addEventListener("resume",Ln,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",wi,!1),Ve=()=>{F.removePassiveListener(xt),document.removeEventListener("resume",Ln,!1),document.removeEventListener("visibilitychange",wi,!1),qt&&window.clearTimeout(qt)}})}finally{Ve()}})).apply(this,arguments)}function ve(K){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(K){const F=Ee(K),q=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(q)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ee(K){if((0,R.ap)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const F=new ArrayBuffer(K.length),q=new Uint8Array(F);for(let ye=0;ye<K.length;ye++)q[ye]=K.charCodeAt(ye);return q}class Re extends R.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(F)),super.onEvent(F)}initialized(){var F=this;return(0,l.Z)(function*(){yield F.initPromise})()}}function de(K){return _e.apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(K){const F=yield et()._get(Lt(K));return F&&(yield et()._remove(Lt(K))),F})).apply(this,arguments)}function it(){const K=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const ye=Math.floor(Math.random()*F.length);K.push(F.charAt(ye))}return K.join("")}function et(){return(0,R.az)(R.b)}function Lt(K){return(0,R.aA)("authEvent",K.config.apiKey,K.name)}function Ie(K){if(!K?.includes("?"))return{};const[F,...q]=K.split("?");return(0,ee.zd)(q.join("?"))}const Ze=class Ue{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(F){var q=this;return(0,l.Z)(function*(){const ye=F._key();let Ve=q.eventManagers.get(ye);return Ve||(Ve=new Re(F),q.eventManagers.set(ye,Ve),q.attachCallbackListeners(F,Ve)),Ve})()}_openPopup(F){(0,R.as)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,q,ye,Ve){var wt=this;return(0,l.Z)(function*(){!function pe(K){var F,q,ye,Ve,wt,rt,qt,xt,Ln,wi;const zt=ne();(0,R.ax)("function"==typeof(null===(F=zt?.universalLinks)||void 0===F?void 0:F.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(q=zt?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(wt=null===(Ve=null===(ye=zt?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===wt?void 0:wt.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(xt=null===(qt=null===(rt=zt?.cordova)||void 0===rt?void 0:rt.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===xt?void 0:xt.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(wi=null===(Ln=zt?.cordova)||void 0===Ln?void 0:Ln.InAppBrowser)||void 0===wi?void 0:wi.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const rt=yield wt._initialize(F);yield rt.initialized(),rt.resetRedirect(),(0,R.aD)(),yield wt._originValidation(F);const qt=function ke(K,F,q=null){return{type:F,eventId:q,urlResponse:null,sessionId:it(),postBody:null,tenantId:K.tenantId,error:(0,R.aw)(K,"no-auth-event")}}(F,ye,Ve);yield function $e(K,F){return et()._set(Lt(K),F)}(F,qt);const xt=yield function z(K,F,q){return G.apply(this,arguments)}(F,qt,q),Ln=yield function Ce(K){const{cordova:F}=ne();return new Promise(q=>{F.plugins.browsertab.isAvailable(ye=>{let Ve=null;ye?F.plugins.browsertab.openUrl(K):Ve=F.InAppBrowser.open(K,(0,R.av)()?"_blank":"_system","location=yes"),q(Ve)})})}(xt);return function Le(K,F,q){return Ge.apply(this,arguments)}(F,rt,Ln)})()}_isIframeWebStorageSupported(F,q){throw new Error("Method not implemented.")}_originValidation(F){const q=F._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function Z(K){return ge.apply(this,arguments)}(F)),this.originValidationPromises[q]}attachCallbackListeners(F,q){const{universalLinks:ye,handleOpenURL:Ve,BuildInfo:wt}=ne(),rt=setTimeout((0,l.Z)(function*(){yield de(F),q.onEvent(Qe())}),500),qt=function(){var wi=(0,l.Z)(function*(zt){clearTimeout(rt);const Gi=yield de(F);let ll=null;Gi&&zt?.url&&(ll=function Oe(K,F){var q,ye;const Ve=function be(K){const F=Ie(K),q=F.link?decodeURIComponent(F.link):void 0,ye=Ie(q).link,Ve=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return Ie(Ve).link||Ve||ye||q||K}(F);if(Ve.includes("/__/auth/callback")){const wt=Ie(Ve),rt=wt.firebaseError?function lt(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(wt.firebaseError)):null,qt=null===(ye=null===(q=rt?.code)||void 0===q?void 0:q.split("auth/"))||void 0===ye?void 0:ye[1],xt=qt?(0,R.aw)(qt):null;return xt?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:Ve,postBody:null}}return null}(Gi,zt.url)),q.onEvent(ll||Qe())});return function(Gi){return wi.apply(this,arguments)}}();typeof ye<"u"&&"function"==typeof ye.subscribe&&ye.subscribe(null,qt);const xt=Ve,Ln=`${wt.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var wi=(0,l.Z)(function*(zt){if(zt.toLowerCase().startsWith(Ln)&&qt({url:zt}),"function"==typeof xt)try{xt(zt)}catch(Gi){console.error(Gi)}});return function(zt){return wi.apply(this,arguments)}}()}};function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function It(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function mn(K=(0,ee.z$)()){return!("file:"!==It()&&"ionic:"!==It()&&"capacitor:"!==It()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function bi(){try{const K=self.localStorage,F=R.aI();if(K)return K.setItem(F,"1"),K.removeItem(F),!function ei(K=(0,ee.z$)()){return function In(){return(0,ee.w1)()&&11===document?.documentMode}()||function gn(K=(0,ee.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,ee.hl)()}catch{return zr()&&(0,ee.hl)()}return!1}function zr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return(function dt(){return"http:"===It()||"https:"===It()}()||(0,ee.ru)()||mn())&&!function Tn(){return(0,ee.b$)()||(0,ee.UG)()}()&&bi()&&!zr()}function er(){return mn()&&typeof document<"u"}function bn(){return(bn=(0,l.Z)(function*(){return!!er()&&new Promise(K=>{const F=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),K(!0)})})})).apply(this,arguments)}const _t={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=R.ax,Ti="persistence";function ti(K){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(K){yield K._initializationPromise;const F=Tt(),q=R.aA(Ti,K.config.apiKey,K.name);F&&F.setItem(q,K._getPersistence())})).apply(this,arguments)}function Tt(){var K;try{return(null===(K=function li(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Ht=R.ax;class Dn{constructor(){this.browserResolver=R.az(R.k),this.cordovaResolver=R.az(Ze),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(F){var q=this;return(0,l.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,q,ye,Ve){var wt=this;return(0,l.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openPopup(F,q,ye,Ve)})()}_openRedirect(F,q,ye,Ve){var wt=this;return(0,l.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openRedirect(F,q,ye,Ve)})()}_isIframeWebStorageSupported(F,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,q)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,l.Z)(function*(){if(F.underlyingResolver)return;const q=yield function Tr(){return bn.apply(this,arguments)}();F.underlyingResolver=q?F.cordovaResolver:F.browserResolver})()}}function ci(K){return K.unwrap()}function ji(K){return mr(K)}function mr(K){const{_tokenResponse:F}=K instanceof ee.ZR?K.customData:K;if(!F)return null;if(!(K instanceof ee.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return R.P.credentialFromResult(K);const q=F.providerId;if(!q||q===R.o.PASSWORD)return null;let ye;switch(q){case R.o.GOOGLE:ye=R.Q;break;case R.o.FACEBOOK:ye=R.N;break;case R.o.GITHUB:ye=R.T;break;case R.o.TWITTER:ye=R.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:wt,oauthTokenSecret:rt,pendingToken:qt,nonce:xt}=F;return wt||rt||Ve||qt?qt?q.startsWith("saml.")?R.aL._create(q,qt):R.J._fromParams({providerId:q,signInMethod:q,pendingToken:qt,idToken:Ve,accessToken:wt}):new R.U(q).credential({idToken:Ve,accessToken:wt,rawNonce:xt}):null}return K instanceof ee.ZR?ye.credentialFromError(K):ye.credentialFromResult(K)}function Yt(K,F){return F.catch(q=>{throw q instanceof ee.ZR&&function ni(K,F){var q;const ye=null===(q=F.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new zi(K,R.an(K,F));else if(ye){const Ve=mr(F),wt=F;Ve&&(wt.credential=Ve,wt.tenantId=ye.tenantId||void 0,wt.email=ye.email||void 0,wt.phoneNumber=ye.phoneNumber||void 0)}}(K,q),q}).then(q=>{const Ve=q.user;return{operationType:q.operationType,credential:ji(q),additionalUserInfo:R.al(q),user:Qn.getOrCreate(Ve)}})}function Mr(K,F){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(K,F){const q=yield F;return{verificationId:q.verificationId,confirm:ye=>Yt(K,q.confirm(ye))}})).apply(this,arguments)}class zi{constructor(F,q){this.resolver=q,this.auth=function zn(K){return K.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Yt(ci(this.auth),this.resolver.resolveSignIn(F))}}class Qn{constructor(F){this._delegate=F,this.multiFactor=R.ao(F)}static getOrCreate(F){return Qn.USER_MAP.has(F)||Qn.USER_MAP.set(F,new Qn(F)),Qn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var q=this;return(0,l.Z)(function*(){return Yt(q.auth,R.Z(q._delegate,F))})()}linkWithPhoneNumber(F,q){var ye=this;return(0,l.Z)(function*(){return Mr(ye.auth,R.l(ye._delegate,F,q))})()}linkWithPopup(F){var q=this;return(0,l.Z)(function*(){return Yt(q.auth,R.d(q._delegate,F,Dn))})()}linkWithRedirect(F){var q=this;return(0,l.Z)(function*(){return yield ti(R.aE(q.auth)),R.g(q._delegate,F,Dn)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var q=this;return(0,l.Z)(function*(){return Yt(q.auth,R._(q._delegate,F))})()}reauthenticateWithPhoneNumber(F,q){return Mr(this.auth,R.r(this._delegate,F,q))}reauthenticateWithPopup(F){return Yt(this.auth,R.e(this._delegate,F,Dn))}reauthenticateWithRedirect(F){var q=this;return(0,l.Z)(function*(){return yield ti(R.aE(q.auth)),R.h(q._delegate,F,Dn)})()}sendEmailVerification(F){return R.ab(this._delegate,F)}unlink(F){var q=this;return(0,l.Z)(function*(){return yield R.ak(q._delegate,F),q})()}updateEmail(F){return R.ag(this._delegate,F)}updatePassword(F){return R.ah(this._delegate,F)}updatePhoneNumber(F){return R.u(this._delegate,F)}updateProfile(F){return R.af(this._delegate,F)}verifyBeforeUpdateEmail(F,q){return R.ac(this._delegate,F,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const Xe=R.ax;let Be=(()=>{class K{constructor(q,ye){if(this.app=q,ye.isInitialized())return this._delegate=ye.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=q.options;Xe(Ve,"invalid-api-key",{appName:q.name}),Xe(Ve,"invalid-api-key",{appName:q.name});const wt=typeof window<"u"?Dn:void 0;this._delegate=ye.initialize({options:{persistence:kt(Ve,q.name),popupRedirectResolver:wt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,ye){R.G(this._delegate,q,ye)}applyActionCode(q){return R.a2(this._delegate,q)}checkActionCode(q){return R.a3(this._delegate,q)}confirmPasswordReset(q,ye){return R.a1(this._delegate,q,ye)}createUserWithEmailAndPassword(q,ye){var Ve=this;return(0,l.Z)(function*(){return Yt(Ve._delegate,R.a5(Ve._delegate,q,ye))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return R.aa(this._delegate,q)}isSignInWithEmailLink(q){return R.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,l.Z)(function*(){Xe(Yn(),q._delegate,"operation-not-supported-in-this-environment");const ye=yield R.j(q._delegate,Dn);return ye?Yt(q._delegate,Promise.resolve(ye)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function ut(K,F){(0,R.aE)(K)._logFramework(F)}(this._delegate,q)}onAuthStateChanged(q,ye,Ve){const{next:wt,error:rt,complete:qt}=ct(q,ye,Ve);return this._delegate.onAuthStateChanged(wt,rt,qt)}onIdTokenChanged(q,ye,Ve){const{next:wt,error:rt,complete:qt}=ct(q,ye,Ve);return this._delegate.onIdTokenChanged(wt,rt,qt)}sendSignInLinkToEmail(q,ye){return R.a7(this._delegate,q,ye)}sendPasswordResetEmail(q,ye){return R.a0(this._delegate,q,ye||void 0)}setPersistence(q){var ye=this;return(0,l.Z)(function*(){let Ve;switch(function jn(K,F){Zn(Object.values(_t).includes(F),K,"invalid-persistence-type"),(0,ee.b$)()?Zn(F!==_t.SESSION,K,"unsupported-persistence-type"):(0,ee.UG)()?Zn(F===_t.NONE,K,"unsupported-persistence-type"):zr()?Zn(F===_t.NONE||F===_t.LOCAL&&(0,ee.hl)(),K,"unsupported-persistence-type"):Zn(F===_t.NONE||bi(),K,"unsupported-persistence-type")}(ye._delegate,q),q){case _t.SESSION:Ve=R.a;break;case _t.LOCAL:Ve=(yield R.az(R.i)._isAvailable())?R.i:R.b;break;case _t.NONE:Ve=R.L;break;default:return R.as("argument-error",{appName:ye._delegate.name})}return ye._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Yt(this._delegate,R.X(this._delegate))}signInWithCredential(q){return Yt(this._delegate,R.Y(this._delegate,q))}signInWithCustomToken(q){return Yt(this._delegate,R.$(this._delegate,q))}signInWithEmailAndPassword(q,ye){return Yt(this._delegate,R.a6(this._delegate,q,ye))}signInWithEmailLink(q,ye){return Yt(this._delegate,R.a9(this._delegate,q,ye))}signInWithPhoneNumber(q,ye){return Mr(this._delegate,R.s(this._delegate,q,ye))}signInWithPopup(q){var ye=this;return(0,l.Z)(function*(){return Xe(Yn(),ye._delegate,"operation-not-supported-in-this-environment"),Yt(ye._delegate,R.c(ye._delegate,q,Dn))})()}signInWithRedirect(q){var ye=this;return(0,l.Z)(function*(){return Xe(Yn(),ye._delegate,"operation-not-supported-in-this-environment"),yield ti(ye._delegate),R.f(ye._delegate,q,Dn)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return R.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=_t,K})();function ct(K,F,q){let ye=K;"function"!=typeof K&&({next:ye,error:F,complete:q}=K);const Ve=ye;return{next:rt=>Ve(rt&&Qn.getOrCreate(rt)),error:F,complete:q}}function kt(K,F){const q=function Vt(K,F){const q=Tt();if(!q)return[];const ye=R.aA(Ti,K,F);switch(q.getItem(ye)){case _t.NONE:return[R.L];case _t.LOCAL:return[R.i,R.a];case _t.SESSION:return[R.a];default:return[]}}(K,F);if(typeof self<"u"&&!q.includes(R.i)&&q.push(R.i),typeof window<"u")for(const ye of[R.b,R.a])q.includes(ye)||q.push(ye);return q.includes(R.L)||q.push(R.L),q}class Bt{constructor(){this.providerId="phone",this._delegate=new R.P(ci(N.Z.auth()))}static credential(F,q){return R.P.credential(F,q)}verifyPhoneNumber(F,q){return this._delegate.verifyPhoneNumber(F,q)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=R.P.PROVIDER_ID;const an=R.ax;class re{constructor(F,q,ye=N.Z.app()){var Ve;an(null===(Ve=ye.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:ye.name}),this._delegate=new R.R(F,q,ye.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(K){K.INTERNAL.registerComponent(new te.wA("auth-compat",F=>{const q=F.getProvider("app-compat").getImmediate(),ye=F.getProvider("auth");return new Be(q,ye)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:re,TwitterAuthProvider:R.W,Auth:Be,AuthCredential:R.H,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.3.1")}(N.Z)},8766:(se,Y,T)=>{T.d(Y,{Lj:()=>Ae,X3:()=>Ee});var l=T(9671);let R,ee;const te=new WeakMap,ne=new WeakMap,J=new WeakMap,z=new WeakMap,G=new WeakMap;let Ce={get(_e,Oe,it){if(_e instanceof IDBTransaction){if("done"===Oe)return ne.get(_e);if("objectStoreNames"===Oe)return _e.objectStoreNames||J.get(_e);if("store"===Oe)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return ve(_e[Oe])},set:(_e,Oe,it)=>(_e[Oe]=it,!0),has:(_e,Oe)=>_e instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in _e};function pe(_e){return"function"==typeof _e?function Ge(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...Oe){return _e.apply(xe(this),Oe),ve(te.get(this))}:function(...Oe){return ve(_e.apply(xe(this),Oe))}:function(Oe,...it){const et=_e.call(xe(this),Oe,...it);return J.set(et,Oe.sort?Oe.sort():[Oe]),ve(et)}}(_e):(_e instanceof IDBTransaction&&function ge(_e){if(ne.has(_e))return;const Oe=new Promise((it,et)=>{const Lt=()=>{_e.removeEventListener("complete",lt),_e.removeEventListener("error",be),_e.removeEventListener("abort",be)},lt=()=>{it(),Lt()},be=()=>{et(_e.error||new DOMException("AbortError","AbortError")),Lt()};_e.addEventListener("complete",lt),_e.addEventListener("error",be),_e.addEventListener("abort",be)});ne.set(_e,Oe)}(_e),((_e,Oe)=>Oe.some(it=>_e instanceof it))(_e,function j(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Ce):_e)}function ve(_e){if(_e instanceof IDBRequest)return function Z(_e){const Oe=new Promise((it,et)=>{const Lt=()=>{_e.removeEventListener("success",lt),_e.removeEventListener("error",be)},lt=()=>{it(ve(_e.result)),Lt()},be=()=>{et(_e.error),Lt()};_e.addEventListener("success",lt),_e.addEventListener("error",be)});return Oe.then(it=>{it instanceof IDBCursor&&te.set(it,_e)}).catch(()=>{}),G.set(Oe,_e),Oe}(_e);if(z.has(_e))return z.get(_e);const Oe=pe(_e);return Oe!==_e&&(z.set(_e,Oe),G.set(Oe,_e)),Oe}const xe=_e=>G.get(_e);function Ee(_e,Oe,{blocked:it,upgrade:et,blocking:Lt,terminated:lt}={}){const be=indexedDB.open(_e,Oe),Ie=ve(be);return et&&be.addEventListener("upgradeneeded",Pe=>{et(ve(be.result),Pe.oldVersion,Pe.newVersion,ve(be.transaction))}),it&&be.addEventListener("blocked",()=>it()),Ie.then(Pe=>{lt&&Pe.addEventListener("close",()=>lt()),Lt&&Pe.addEventListener("versionchange",()=>Lt())}).catch(()=>{}),Ie}function Ae(_e,{blocked:Oe}={}){const it=indexedDB.deleteDatabase(_e);return Oe&&it.addEventListener("blocked",()=>Oe()),ve(it).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],$e=new Map;function de(_e,Oe){if(!(_e instanceof IDBDatabase)||Oe in _e||"string"!=typeof Oe)return;if($e.get(Oe))return $e.get(Oe);const it=Oe.replace(/FromIndex$/,""),et=Oe!==it,Lt=ke.includes(it);if(!(it in(et?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Re.includes(it))return;const lt=function(){var be=(0,l.Z)(function*(Ie,...Pe){const Ue=this.transaction(Ie,Lt?"readwrite":"readonly");let Ze=Ue.store;return et&&(Ze=Ze.index(Pe.shift())),(yield Promise.all([Ze[it](...Pe),Lt&&Ue.done]))[0]});return function(Pe){return be.apply(this,arguments)}}();return $e.set(Oe,lt),lt}!function Le(_e){Ce=_e(Ce)}(_e=>({..._e,get:(Oe,it,et)=>de(Oe,it)||_e.get(Oe,it,et),has:(Oe,it)=>!!de(Oe,it)||_e.has(Oe,it)}))}},se=>{se(se.s=6697)}]);