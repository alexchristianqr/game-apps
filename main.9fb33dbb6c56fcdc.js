"use strict";(self.webpackChunkgame_apps=self.webpackChunkgame_apps||[]).push([[179],{2011:(le,Z,T)=>{T.d(Z,{Dh:()=>re,GT:()=>j,cc:()=>Ce,hO:()=>ye,on:()=>W,pX:()=>G,xv:()=>ee});var o=T(4650),V=T(9260),O=T(8405);le=T.hmd(le);const J=["ngOnDestroy"],G=(Ie,Ne,Re,Ae={})=>new Proxy(Ie,{get:(Se,Ue)=>Re.runOutsideAngular(()=>{var Ke;if(Ie[Ue])return!(null===(Ke=Ae?.spy)||void 0===Ke)&&Ke.get&&Ae.spy.get(Ue,Ie[Ue]),Ie[Ue];if(J.indexOf(Ue)>-1)return()=>{};const qe=Ne.toPromise().then(be=>{const ot=be&&be[Ue];return"function"==typeof ot?ot.bind(be):ot&&ot.then?ot.then(Tt=>Re.run(()=>Tt)):Re.run(()=>ot)});return new Proxy(()=>{},{get:(be,ot)=>qe[ot],apply:(be,ot,Tt)=>qe.then(mt=>{var Xt;const yt=mt&&mt(...Tt);return!(null===(Xt=Ae?.spy)||void 0===Xt)&&Xt.apply&&Ae.spy.apply(Ue,Tt,yt),yt})})})}),j=(Ie,Ne)=>{Ne.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ae=>{Object.defineProperty(Ie.prototype,Ae,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ae))})})};class ne{constructor(Ne){return Ne}}const re=new o.OlP("angularfire2.app.options"),ee=new o.OlP("angularfire2.app.name");function W(Ie,Ne,Re){const Se="object"==typeof Re&&Re||{};Se.name=Se.name||"string"==typeof Re&&Re||"[DEFAULT]";const Ke=V.Z.apps.filter(qe=>qe&&qe.name===Se.name)[0]||Ne.runOutsideAngular(()=>V.Z.initializeApp(Ie,Se));try{JSON.stringify(Ie)!==JSON.stringify(Ke.options)&&q("error",`${Ke.name} Firebase App already initialized with different options${le.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ke)}const q=(Ie,...Ne)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...Ne)},Q={provide:ne,useFactory:W,deps:[re,o.R0b,[new o.FiY,ee]]};let ye=(()=>{class Ie{constructor(Re){V.Z.registerVersion("angularfire",O.q4.full,"core"),V.Z.registerVersion("angularfire",O.q4.full,"app-compat"),V.Z.registerVersion("angular",o.q4F.full,Re.toString())}static initializeApp(Re,Ae){return{ngModule:Ie,providers:[{provide:re,useValue:Re},{provide:ee,useValue:Ae}]}}}return Ie.\u0275fac=function(Re){return new(Re||Ie)(o.LFG(o.Lbi))},Ie.\u0275mod=o.oAB({type:Ie}),Ie.\u0275inj=o.cJS({providers:[Q]}),Ie})();function Ce(Ie,Ne,Re,Ae,Se){const[,Ue,Ke]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ie)||[];if(Ue)return function Ve(Ie,Ne){try{return Ie.toString()===Ne.toString()}catch{return Ie===Ne}}(Se,Ke)||(ve("error",`${Ne} was already initialized on the ${Re} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Se,was:Ke})),Ue;{const qe=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ie,qe,Se]),qe}}const We=!!le.hot,ve=(Ie,...Ne)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(le,Z,T)=>{T.d(Z,{q4:()=>zc,iC:()=>Wl,fc:()=>nu,HU:()=>Ph,vb:()=>jm,JM:()=>Xg});var o=T(4650),V=T(259),O=T(5861),J=T(6881),G=T(2090),j=T(4859),ne=T(1877);const re=(x,S)=>S.some(R=>x instanceof R);let ee,W;const ye=new WeakMap,Ce=new WeakMap,Ve=new WeakMap,We=new WeakMap,ve=new WeakMap;let Re={get(x,S,R){if(x instanceof IDBTransaction){if("done"===S)return Ce.get(x);if("objectStoreNames"===S)return x.objectStoreNames||Ve.get(x);if("store"===S)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Ke(x[S])},set:(x,S,R)=>(x[S]=R,!0),has:(x,S)=>x instanceof IDBTransaction&&("done"===S||"store"===S)||S in x};function Ue(x){return"function"==typeof x?function Se(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...S){return x.apply(qe(this),S),Ke(ye.get(this))}:function(...S){return Ke(x.apply(qe(this),S))}:function(S,...R){const $=x.call(qe(this),S,...R);return Ve.set($,S.sort?S.sort():[S]),Ke($)}}(x):(x instanceof IDBTransaction&&function Ne(x){if(Ce.has(x))return;const S=new Promise((R,$)=>{const se=()=>{x.removeEventListener("complete",he),x.removeEventListener("error",ke),x.removeEventListener("abort",ke)},he=()=>{R(),se()},ke=()=>{$(x.error||new DOMException("AbortError","AbortError")),se()};x.addEventListener("complete",he),x.addEventListener("error",ke),x.addEventListener("abort",ke)});Ce.set(x,S)}(x),re(x,function q(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Re):x)}function Ke(x){if(x instanceof IDBRequest)return function Ie(x){const S=new Promise((R,$)=>{const se=()=>{x.removeEventListener("success",he),x.removeEventListener("error",ke)},he=()=>{R(Ke(x.result)),se()},ke=()=>{$(x.error),se()};x.addEventListener("success",he),x.addEventListener("error",ke)});return S.then(R=>{R instanceof IDBCursor&&ye.set(R,x)}).catch(()=>{}),ve.set(S,x),S}(x);if(We.has(x))return We.get(x);const S=Ue(x);return S!==x&&(We.set(x,S),ve.set(S,x)),S}const qe=x=>ve.get(x),Tt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],Xt=new Map;function yt(x,S){if(!(x instanceof IDBDatabase)||S in x||"string"!=typeof S)return;if(Xt.get(S))return Xt.get(S);const R=S.replace(/FromIndex$/,""),$=S!==R,se=mt.includes(R);if(!(R in($?IDBIndex:IDBObjectStore).prototype)||!se&&!Tt.includes(R))return;const he=function(){var ke=(0,O.Z)(function*(et,...it){const Ct=this.transaction(et,se?"readwrite":"readonly");let Ut=Ct.store;return $&&(Ut=Ut.index(it.shift())),(yield Promise.all([Ut[R](...it),se&&Ct.done]))[0]});return function(it){return ke.apply(this,arguments)}}();return Xt.set(S,he),he}!function Ae(x){Re=x(Re)}(x=>({...x,get:(S,R,$)=>yt(S,R)||x.get(S,R,$),has:(S,R)=>!!yt(S,R)||x.has(S,R)}));const Xr="@firebase/installations",mi="0.6.4",sr=1e4,Ar=`w:${mi}`,Vr="FIS_v2",cs="https://firebaseinstallations.googleapis.com/v1",me=36e5,ze=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(x){return x instanceof G.ZR&&x.code.includes("request-failed")}function at({projectId:x}){return`${cs}/projects/${x}/installations`}function qt(x){return{token:x.token,requestStatus:2,expiresIn:Nn(x.expiresIn),creationTime:Date.now()}}function vn(x,S){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(x,S){const $=(yield S.json()).error;return ze.create("request-failed",{requestName:x,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function yn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ii(x){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(x){const S=yield x();return S.status>=500&&S.status<600?x():S})).apply(this,arguments)}function Nn(x){return Number(x.replace("s","000"))}function ct(){return(ct=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:S},{fid:R}){const $=at(x),se=yn(x),he=S.getImmediate({optional:!0});if(he){const Ct=yield he.getHeartbeatsHeader();Ct&&se.append("x-firebase-client",Ct)}const et={method:"POST",headers:se,body:JSON.stringify({fid:R,authVersion:Vr,appId:x.appId,sdkVersion:Ar})},it=yield ii(()=>fetch($,et));if(it.ok){const Ct=yield it.json();return{fid:Ct.fid||R,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:qt(Ct.authToken)}}throw yield vn("Create Installation",it)})).apply(this,arguments)}function Kn(x){return new Promise(S=>{setTimeout(S,x)})}const ri=/^[cdef][\w-]{21}$/,ui="";function or(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const R=function _n(x){return function _r(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return ri.test(R)?R:ui}catch{return ui}}function Jt(x){return`${x.appName}!${x.appId}`}const wt=new Map;function Vt(x,S){const R=Jt(x);Yn(R,S),function Vi(x,S){const R=function hi(){return!Zn&&"BroadcastChannel"in self&&(Zn=new BroadcastChannel("[Firebase] FID Change"),Zn.onmessage=x=>{Yn(x.data.key,x.data.fid)}),Zn}();R&&R.postMessage({key:x,fid:S}),function en(){0===wt.size&&Zn&&(Zn.close(),Zn=null)}()}(R,S)}function Yn(x,S){const R=wt.get(x);if(R)for(const $ of R)$(S)}let Zn=null;const kr="firebase-installations-database",ln=1,vr="firebase-installations-store";let Kt=null;function si(){return Kt||(Kt=function be(x,S,{blocked:R,upgrade:$,blocking:se,terminated:he}={}){const ke=indexedDB.open(x,S),et=Ke(ke);return $&&ke.addEventListener("upgradeneeded",it=>{$(Ke(ke.result),it.oldVersion,it.newVersion,Ke(ke.transaction))}),R&&ke.addEventListener("blocked",()=>R()),et.then(it=>{he&&it.addEventListener("close",()=>he()),se&&it.addEventListener("versionchange",()=>se())}).catch(()=>{}),et}(kr,ln,{upgrade:(x,S)=>{0===S&&x.createObjectStore(vr)}})),Kt}function Gn(x,S){return gi.apply(this,arguments)}function gi(){return(gi=(0,O.Z)(function*(x,S){const R=Jt(x),se=(yield si()).transaction(vr,"readwrite"),he=se.objectStore(vr),ke=yield he.get(R);return yield he.put(S,R),yield se.done,(!ke||ke.fid!==S.fid)&&Vt(x,S.fid),S})).apply(this,arguments)}function oi(x){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(x){const S=Jt(x),$=(yield si()).transaction(vr,"readwrite");yield $.objectStore(vr).delete(S),yield $.done})).apply(this,arguments)}function Ui(x,S){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(x,S){const R=Jt(x),se=(yield si()).transaction(vr,"readwrite"),he=se.objectStore(vr),ke=yield he.get(R),et=S(ke);return void 0===et?yield he.delete(R):yield he.put(et,R),yield se.done,et&&(!ke||ke.fid!==et.fid)&&Vt(x,et.fid),et})).apply(this,arguments)}function ie(x){return X.apply(this,arguments)}function X(){return X=(0,O.Z)(function*(x){let S;const R=yield Ui(x.appConfig,$=>{const se=function B(x){return At(x||{fid:or(),registrationStatus:0})}($),he=function U(x,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ze.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},$=function P(x,S){return oe.apply(this,arguments)}(x,R);return{installationEntry:R,registrationPromise:$}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Be(x)}:{installationEntry:S}}(x,se);return S=he.registrationPromise,he.installationEntry});return R.fid===ui?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}}),X.apply(this,arguments)}function oe(){return oe=(0,O.Z)(function*(x,S){try{const R=yield function gn(x,S){return ct.apply(this,arguments)}(x,S);return Gn(x.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield oi(x.appConfig):yield Gn(x.appConfig,{fid:S.fid,registrationStatus:0}),R}}),oe.apply(this,arguments)}function Be(x){return ut.apply(this,arguments)}function ut(){return(ut=(0,O.Z)(function*(x){let S=yield Ot(x.appConfig);for(;1===S.registrationStatus;)yield Kn(100),S=yield Ot(x.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:$}=yield ie(x);return $||R}return S})).apply(this,arguments)}function Ot(x){return Ui(x,S=>{if(!S)throw ze.create("installation-not-found");return At(S)})}function At(x){return function sn(x){return 1===x.registrationStatus&&x.registrationTime+sr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Bn(){return(Bn=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:S},R){const $=function Yt(x,{fid:S}){return`${at(x)}/${S}/authTokens:generate`}(x,R),se=function kn(x,{refreshToken:S}){const R=yn(x);return R.append("Authorization",function pi(x){return`${Vr} ${x}`}(S)),R}(x,R),he=S.getImmediate({optional:!0});if(he){const Ct=yield he.getHeartbeatsHeader();Ct&&se.append("x-firebase-client",Ct)}const et={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:Ar,appId:x.appId}})},it=yield ii(()=>fetch($,et));if(it.ok)return qt(yield it.json());throw yield vn("Generate Auth Token",it)})).apply(this,arguments)}function Di(x){return Es.apply(this,arguments)}function Es(){return Es=(0,O.Z)(function*(x,S=!1){let R;const $=yield Ui(x.appConfig,he=>{if(!tn(he))throw ze.create("not-registered");const ke=he.authToken;if(!S&&function Dt(x){return 2===x.requestStatus&&!function En(x){const S=Date.now();return S<x.creationTime||x.creationTime+x.expiresIn<S+me}(x)}(ke))return he;if(1===ke.requestStatus)return R=function Pe(x,S){return pe.apply(this,arguments)}(x,S),he;{if(!navigator.onLine)throw ze.create("app-offline");const et=function mn(x){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:S})}(he);return R=function Et(x,S){return Nt.apply(this,arguments)}(x,et),et}});return R?yield R:$.authToken}),Es.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*(x,S){let R=yield Ye(x.appConfig);for(;1===R.authToken.requestStatus;)yield Kn(100),R=yield Ye(x.appConfig);const $=R.authToken;return 0===$.requestStatus?Di(x,S):$})).apply(this,arguments)}function Ye(x){return Ui(x,S=>{if(!tn(S))throw ze.create("not-registered");return function Yi(x){return 1===x.requestStatus&&x.requestTime+sr<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Nt(){return Nt=(0,O.Z)(function*(x,S){try{const R=yield function Ft(x,S){return Bn.apply(this,arguments)}(x,S),$=Object.assign(Object.assign({},S),{authToken:R});return yield Gn(x.appConfig,$),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const $=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Gn(x.appConfig,$)}else yield oi(x.appConfig);throw R}}),Nt.apply(this,arguments)}function tn(x){return void 0!==x&&2===x.registrationStatus}function Fa(){return(Fa=(0,O.Z)(function*(x){const S=x,{installationEntry:R,registrationPromise:$}=yield ie(S);return $?$.catch(console.error):Di(S).catch(console.error),R.fid})).apply(this,arguments)}function Cs(){return Cs=(0,O.Z)(function*(x,S=!1){const R=x;return yield function Ti(x){return lt.apply(this,arguments)}(R),(yield Di(R,S)).token}),Cs.apply(this,arguments)}function lt(){return(lt=(0,O.Z)(function*(x){const{registrationPromise:S}=yield ie(x);S&&(yield S)})).apply(this,arguments)}function Mi(x){return ze.create("missing-app-config-values",{valueName:x})}const nn="installations",br=x=>{const S=x.getProvider("app").getImmediate(),R=function La(x){if(!x||!x.options)throw Mi("App Configuration");if(!x.name)throw Mi("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!x.options[R])throw Mi(R);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,J._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Vs=x=>{const S=x.getProvider("app").getImmediate(),R=(0,J._getProvider)(S,nn).getImmediate();return{getId:()=>function Si(x){return Fa.apply(this,arguments)}(R),getToken:se=>function Sd(x){return Cs.apply(this,arguments)}(R,se)}};(function ds(){(0,J._registerComponent)(new j.wA(nn,br,"PUBLIC")),(0,J._registerComponent)(new j.wA("installations-internal",Vs,"PRIVATE"))})(),(0,J.registerVersion)(Xr,mi),(0,J.registerVersion)(Xr,mi,"esm2017");const fi="@firebase/remote-config",xe=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hg{constructor(S,R,$,se){this.client=S,this.storage=R,this.storageCache=$,this.logger=se}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-R,se=$<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${se}.`),se}fetch(S){var R=this;return(0,O.Z)(function*(){const[$,se]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(se&&R.isCachedDataFresh(S.cacheMaxAgeMillis,$))return se;S.eTag=se&&se.eTag;const he=yield R.client.fetch(S),ke=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&ke.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(ke),he})()}}function Yu(x=navigator){return x.languages&&x.languages[0]||x.language}class bm{constructor(S,R,$,se,he,ke){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=$,this.projectId=se,this.apiKey=he,this.appId=ke}fetch(S){var R=this;return(0,O.Z)(function*(){const[$,se]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},it={sdk_version:R.sdkVersion,app_instance_id:$,app_instance_id_token:se,app_id:R.appId,language_code:Yu()},Ct={method:"POST",headers:et,body:JSON.stringify(it)},Ut=fetch(ke,Ct),bt=new Promise((Gr,Gs)=>{S.signal.addEventListener(()=>{const su=new Error("The operation was aborted.");su.name="AbortError",Gs(su)})});let dr;try{yield Promise.race([Ut,bt]),dr=yield Ut}catch(Gr){let Gs="fetch-client-network";throw"AbortError"===Gr?.name&&(Gs="fetch-timeout"),xe.create(Gs,{originalErrorMessage:Gr?.message})}let Xi=dr.status;const Wc=dr.headers.get("ETag")||void 0;let ru,ga;if(200===dr.status){let Gr;try{Gr=yield dr.json()}catch(Gs){throw xe.create("fetch-client-parse",{originalErrorMessage:Gs?.message})}ru=Gr.entries,ga=Gr.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?Xi=500:"NO_CHANGE"===ga?Xi=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(ru={}),304!==Xi&&200!==Xi)throw xe.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:Wc,config:ru}})()}}class Qu{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,O.Z)(function*(){const $=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,$)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:$}){var se=this;return(0,O.Z)(function*(){yield function Zu(x,S){return new Promise((R,$)=>{const se=Math.max(S-Date.now(),0),he=setTimeout(R,se);x.addEventListener(()=>{clearTimeout(he),$(xe.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const he=yield se.client.fetch(S);return yield se.storage.deleteThrottleMetadata(),he}catch(he){if(!function jg(x){if(!(x instanceof G.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}(he))throw he;const ke={throttleEndTimeMillis:Date.now()+(0,G.$s)($),backoffCount:$+1};return yield se.storage.setThrottleMetadata(ke),se.attemptFetch(S,ke)}})()}}class wm{constructor(S,R,$,se,he){this.app=S,this._client=R,this._storageCache=$,this._storage=se,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Do(x,S){const R=x.target.error||void 0;return xe.create(S,{originalErrorMessage:R&&R?.message})}const Ai="app_namespace_store";class eh{constructor(S,R,$,se=function Em(){return new Promise((x,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=$=>{S(Do($,"storage-open"))},R.onsuccess=$=>{x($.target.result)},R.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(Ai,{keyPath:"compositeKey"})}}catch(R){S(xe.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=$,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,O.Z)(function*(){const $=yield R.openDbPromise;return new Promise((se,he)=>{const et=$.transaction([Ai],"readonly").objectStore(Ai),it=R.createCompositeKey(S);try{const Ct=et.get(it);Ct.onerror=Ut=>{he(Do(Ut,"storage-get"))},Ct.onsuccess=Ut=>{const bt=Ut.target.result;se(bt?bt.value:void 0)}}catch(Ct){he(xe.create("storage-get",{originalErrorMessage:Ct?.message}))}})})()}set(S,R){var $=this;return(0,O.Z)(function*(){const se=yield $.openDbPromise;return new Promise((he,ke)=>{const it=se.transaction([Ai],"readwrite").objectStore(Ai),Ct=$.createCompositeKey(S);try{const Ut=it.put({compositeKey:Ct,value:R});Ut.onerror=bt=>{ke(Do(bt,"storage-set"))},Ut.onsuccess=()=>{he()}}catch(Ut){ke(xe.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(S){var R=this;return(0,O.Z)(function*(){const $=yield R.openDbPromise;return new Promise((se,he)=>{const et=$.transaction([Ai],"readwrite").objectStore(Ai),it=R.createCompositeKey(S);try{const Ct=et.delete(it);Ct.onerror=Ut=>{he(Do(Ut,"storage-delete"))},Ct.onsuccess=()=>{se()}}catch(Ct){he(xe.create("storage-delete",{originalErrorMessage:Ct?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class So{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const R=S.storage.getLastFetchStatus(),$=S.storage.getLastSuccessfulFetchTimestampMillis(),se=S.storage.getActiveConfig(),he=yield R;he&&(S.lastFetchStatus=he);const ke=yield $;ke&&(S.lastSuccessfulFetchTimestampMillis=ke);const et=yield se;et&&(S.activeConfig=et)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function nh(){return yc.apply(this,arguments)}function yc(){return(yc=(0,O.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}!function Va(){(0,J._registerComponent)(new j.wA("remote-config",function x(S,{instanceIdentifier:R}){const $=S.getProvider("app").getImmediate(),se=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xe.create("registration-window");if(!(0,G.hl)())throw xe.create("indexed-db-unavailable");const{projectId:he,apiKey:ke,appId:et}=$.options;if(!he)throw xe.create("registration-project-id");if(!ke)throw xe.create("registration-api-key");if(!et)throw xe.create("registration-app-id");const it=new eh(et,$.name,R=R||"firebase"),Ct=new So(it),Ut=new ne.Yd(fi);Ut.logLevel=ne.in.ERROR;const bt=new bm(se,J.SDK_VERSION,R,he,ke,et),dr=new Qu(bt,it),Xi=new Hg(dr,it,Ct,Ut),Wc=new wm($,Xi,Ct,it,Ut);return function Zi(x){const S=(0,G.m9)(x);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Wc),Wc},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(fi,"0.4.4"),(0,J.registerVersion)(fi,"0.4.4","esm2017")}();const Cm=(x,S)=>S.some(R=>x instanceof R);let To,Td;const Ua=new WeakMap,ea=new WeakMap,ai=new WeakMap,Tl=new WeakMap,wc=new WeakMap;let na={get(x,S,R){if(x instanceof IDBTransaction){if("done"===S)return ea.get(x);if("objectStoreNames"===S)return x.objectStoreNames||ai.get(x);if("store"===S)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Rr(x[S])},set:(x,S,R)=>(x[S]=R,!0),has:(x,S)=>x instanceof IDBTransaction&&("done"===S||"store"===S)||S in x};function xc(x){return"function"==typeof x?function Dm(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Im(){return Td||(Td=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...S){return x.apply(Qi(this),S),Rr(Ua.get(this))}:function(...S){return Rr(x.apply(Qi(this),S))}:function(S,...R){const $=x.call(Qi(this),S,...R);return ai.set($,S.sort?S.sort():[S]),Rr($)}}(x):(x instanceof IDBTransaction&&function ta(x){if(ea.has(x))return;const S=new Promise((R,$)=>{const se=()=>{x.removeEventListener("complete",he),x.removeEventListener("error",ke),x.removeEventListener("abort",ke)},he=()=>{R(),se()},ke=()=>{$(x.error||new DOMException("AbortError","AbortError")),se()};x.addEventListener("complete",he),x.addEventListener("error",ke),x.addEventListener("abort",ke)});ea.set(x,S)}(x),Cm(x,function bc(){return To||(To=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,na):x)}function Rr(x){if(x instanceof IDBRequest)return function Hi(x){const S=new Promise((R,$)=>{const se=()=>{x.removeEventListener("success",he),x.removeEventListener("error",ke)},he=()=>{R(Rr(x.result)),se()},ke=()=>{$(x.error),se()};x.addEventListener("success",he),x.addEventListener("error",ke)});return S.then(R=>{R instanceof IDBCursor&&Ua.set(R,x)}).catch(()=>{}),wc.set(S,x),S}(x);if(Tl.has(x))return Tl.get(x);const S=xc(x);return S!==x&&(Tl.set(x,S),wc.set(S,x)),S}const Qi=x=>wc.get(x);function Ml(x,S,{blocked:R,upgrade:$,blocking:se,terminated:he}={}){const ke=indexedDB.open(x,S),et=Rr(ke);return $&&ke.addEventListener("upgradeneeded",it=>{$(Rr(ke.result),it.oldVersion,it.newVersion,Rr(ke.transaction))}),R&&ke.addEventListener("blocked",()=>R()),et.then(it=>{he&&it.addEventListener("close",()=>he()),se&&it.addEventListener("versionchange",()=>se())}).catch(()=>{}),et}function Mo(x,{blocked:S}={}){const R=indexedDB.deleteDatabase(x);return S&&R.addEventListener("blocked",()=>S()),Rr(R).then(()=>{})}const ih=["get","getKey","getAll","getAllKeys","count"],ao=["put","add","delete","clear"],Al=new Map;function Ha(x,S){if(!(x instanceof IDBDatabase)||S in x||"string"!=typeof S)return;if(Al.get(S))return Al.get(S);const R=S.replace(/FromIndex$/,""),$=S!==R,se=ao.includes(R);if(!(R in($?IDBIndex:IDBObjectStore).prototype)||!se&&!ih.includes(R))return;const he=function(){var ke=(0,O.Z)(function*(et,...it){const Ct=this.transaction(et,se?"readwrite":"readonly");let Ut=Ct.store;return $&&(Ut=Ut.index(it.shift())),(yield Promise.all([Ut[R](...it),se&&Ct.done]))[0]});return function(it){return ke.apply(this,arguments)}}();return Al.set(S,he),he}!function lr(x){na=x(na)}(x=>({...x,get:(S,R,$)=>Ha(S,R)||x.get(S,R,$),has:(S,R)=>!!Ha(S,R)||x.has(S,R)}));const jt="/firebase-messaging-sw.js",Ec="/firebase-cloud-messaging-push-scope",Sm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Md="https://fcmregistrations.googleapis.com/v1",Ad="google.c.a.c_id",kd="google.c.a.c_l",rh="google.c.a.ts",sh="google.c.a.e";var Fe=(()=>{return(x=Fe||(Fe={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Fe;var x})();function Qt(x){const S=new Uint8Array(x);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rd(x){const R=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(R),se=new Uint8Array($.length);for(let he=0;he<$.length;++he)se[he]=$.charCodeAt(he);return se}const kl="fcm_token_details_db",yi=5,oh="fcm_token_object_Store";function us(){return us=(0,O.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(kl))return null;let S=null;return(yield Ml(kl,yi,{upgrade:($=(0,O.Z)(function*(se,he,ke,et){var it;if(he<2||!se.objectStoreNames.contains(oh))return;const Ct=et.objectStore(oh),Ut=yield Ct.index("fcmSenderId").get(x);if(yield Ct.clear(),Ut)if(2===he){const bt=Ut;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;S={token:bt.fcmToken,createTime:null!==(it=bt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Qt(bt.vapidKey)}}}else if(3===he){const bt=Ut;S={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Qt(bt.auth),p256dh:Qt(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Qt(bt.vapidKey)}}}else if(4===he){const bt=Ut;S={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Qt(bt.auth),p256dh:Qt(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Qt(bt.vapidKey)}}}}),function(he,ke,et,it){return $.apply(this,arguments)})})).close(),yield Mo(kl),yield Mo("fcm_vapid_details_db"),yield Mo("undefined"),function Cc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:S}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var $}),us.apply(this,arguments)}const ah="firebase-messaging-database",lh=1,Ao="firebase-messaging-store";let za=null;function cr(){return za||(za=Ml(ah,lh,{upgrade:(x,S)=>{0===S&&x.createObjectStore(Ao)}})),za}function jr(x){return ko.apply(this,arguments)}function ko(){return ko=(0,O.Z)(function*(x){const S=dh(x),$=yield(yield cr()).transaction(Ao).objectStore(Ao).get(S);if($)return $;{const se=yield function ja(x){return us.apply(this,arguments)}(x.appConfig.senderId);if(se)return yield lo(x,se),se}}),ko.apply(this,arguments)}function lo(x,S){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(x,S){const R=dh(x),se=(yield cr()).transaction(Ao,"readwrite");return yield se.objectStore(Ao).put(S,R),yield se.done,S})).apply(this,arguments)}function ia(){return(ia=(0,O.Z)(function*(x){const S=dh(x),$=(yield cr()).transaction(Ao,"readwrite");yield $.objectStore(Ao).delete(S),yield $.done})).apply(this,arguments)}function dh({appConfig:x}){return x.appId}const bi=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ic(x,S){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,O.Z)(function*(x,S){const R=yield Ol(x),$=Sc(S),se={method:"POST",headers:R,body:JSON.stringify($)};let he;try{he=yield(yield fetch(Od(x.appConfig),se)).json()}catch(ke){throw bi.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(he.error)throw bi.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw bi.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function Dc(){return(Dc=(0,O.Z)(function*(x,S){const R=yield Ol(x),$=Sc(S.subscriptionOptions),se={method:"PATCH",headers:R,body:JSON.stringify($)};let he;try{he=yield(yield fetch(`${Od(x.appConfig)}/${S.token}`,se)).json()}catch(ke){throw bi.create("token-update-failed",{errorInfo:ke?.toString()})}if(he.error)throw bi.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw bi.create("token-update-no-token");return he.token})).apply(this,arguments)}function hh(x,S){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(x,S){const $={method:"DELETE",headers:yield Ol(x)};try{const he=yield(yield fetch(`${Od(x.appConfig)}/${S}`,$)).json();if(he.error)throw bi.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(se){throw bi.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function Od({projectId:x}){return`${Md}/projects/${x}/registrations`}function Ol(x){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,O.Z)(function*({appConfig:x,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Sc({p256dh:x,auth:S,endpoint:R,vapidKey:$}){const se={web:{endpoint:R,auth:S,p256dh:x}};return $!==Sm&&(se.web.applicationPubKey=$),se}const fh=6048e5;function mh(){return mh=(0,O.Z)(function*(x){const S=yield function $g(x,S){return ph.apply(this,arguments)}(x.swRegistration,x.vapidKey),R={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:S.endpoint,auth:Qt(S.getKey("auth")),p256dh:Qt(S.getKey("p256dh"))},$=yield jr(x.firebaseDependencies);if($){if(function Wg(x,S){return S.vapidKey===x.vapidKey&&S.endpoint===x.endpoint&&S.auth===x.auth&&S.p256dh===x.p256dh}($.subscriptionOptions,R))return Date.now()>=$.createTime+fh?function ei(x,S){return Fd.apply(this,arguments)}(x,{token:$.token,createTime:Date.now(),subscriptionOptions:R}):$.token;try{yield hh(x.firebaseDependencies,$.token)}catch(se){console.warn(se)}return $a(x.firebaseDependencies,R)}return $a(x.firebaseDependencies,R)}),mh.apply(this,arguments)}function js(){return js=(0,O.Z)(function*(x){const S=yield jr(x.firebaseDependencies);S&&(yield hh(x.firebaseDependencies,S.token),yield function ch(x){return ia.apply(this,arguments)}(x.firebaseDependencies));const R=yield x.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),js.apply(this,arguments)}function Fd(){return Fd=(0,O.Z)(function*(x,S){try{const R=yield function uh(x,S){return Dc.apply(this,arguments)}(x.firebaseDependencies,S),$=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield lo(x.firebaseDependencies,$),R}catch(R){throw yield function wr(x){return js.apply(this,arguments)}(x),R}}),Fd.apply(this,arguments)}function $a(x,S){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,O.Z)(function*(x,S){const $={token:yield Ic(x,S),createTime:Date.now(),subscriptionOptions:S};return yield lo(x,$),$.token})).apply(this,arguments)}function ph(){return(ph=(0,O.Z)(function*(x,S){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rd(S)})})).apply(this,arguments)}function Mc(x){const S={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Ld(x,S){if(!S.notification)return;x.notification={};const R=S.notification.title;R&&(x.notification.title=R);const $=S.notification.body;$&&(x.notification.body=$);const se=S.notification.image;se&&(x.notification.image=se);const he=S.notification.icon;he&&(x.notification.icon=he)}(S,x),function gh(x,S){S.data&&(x.data=S.data)}(S,x),function _h(x,S){var R,$,se,he,ke;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;x.fcmOptions={};const et=null!==(se=null===($=S.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==se?se:null===(he=S.notification)||void 0===he?void 0:he.click_action;et&&(x.fcmOptions.link=et);const it=null===(ke=S.fcmOptions)||void 0===ke?void 0:ke.analytics_label;it&&(x.fcmOptions.analyticsLabel=it)}(S,x),S}function Wa(x,S){const R=[];for(let $=0;$<x.length;$++)R.push(x.charAt($)),$<S.length&&R.push(S.charAt($));return R.join("")}function co(x){return bi.create("missing-app-config-values",{valueName:x})}Wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qg{constructor(S,R,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Pl(x){if(!x||!x.options)throw co("App Configuration Object");if(!x.name)throw co("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=x;for(const $ of S)if(!R[$])throw co($);return{appName:x.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:se,installations:R,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Tm(x){return kc.apply(this,arguments)}function kc(){return(kc=(0,O.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(jt,{scope:Ec}),x.swRegistration.update().catch(()=>{})}catch(S){throw bi.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function uo(){return(uo=(0,O.Z)(function*(x,S){if(!S&&!x.swRegistration&&(yield Tm(x)),S||!x.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");x.swRegistration=S}})).apply(this,arguments)}function Nl(){return(Nl=(0,O.Z)(function*(x,S){S?x.vapidKey=S:x.vapidKey||(x.vapidKey=Sm)})).apply(this,arguments)}function qa(){return qa=(0,O.Z)(function*(x,S){if(!navigator)throw bi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bi.create("permission-blocked");return yield function Bd(x,S){return Nl.apply(this,arguments)}(x,S?.vapidKey),yield function vh(x,S){return uo.apply(this,arguments)}(x,S?.serviceWorkerRegistration),function Nd(x){return mh.apply(this,arguments)}(x)}),qa.apply(this,arguments)}function Ro(){return(Ro=(0,O.Z)(function*(x,S,R){const $=function ra(x){switch(x){case Fe.NOTIFICATION_CLICKED:return"notification_open";case Fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:R[Ad],message_name:R[kd],message_time:R[rh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sa(){return sa=(0,O.Z)(function*(x,S){const R=S.data;if(!R.isFirebaseMessaging)return;x.onMessageHandler&&R.messageType===Fe.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Mc(R)):x.onMessageHandler.next(Mc(R)));const $=R.data;(function Ac(x){return"object"==typeof x&&!!x&&Ad in x})($)&&"1"===$[sh]&&(yield function yh(x,S,R){return Ro.apply(this,arguments)}(x,R.messageType,$))}),sa.apply(this,arguments)}const Ya="@firebase/messaging",Ll=x=>{const S=new qg(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Ka(x,S){return sa.apply(this,arguments)}(S,R)),S},Vd=x=>{const S=x.getProvider("messaging").getImmediate();return{getToken:$=>function Rc(x,S){return qa.apply(this,arguments)}(S,$)}};function Mm(){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,O.Z)(function*(){try{yield(0,G.eu)()}catch{return!1}return typeof window<"u"&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bl(){(0,J._registerComponent)(new j.wA("messaging",Ll,"PUBLIC")),(0,J._registerComponent)(new j.wA("messaging-internal",Vd,"PRIVATE")),(0,J.registerVersion)(Ya,"0.12.4"),(0,J.registerVersion)(Ya,"0.12.4","esm2017")}();const Oo="analytics",Pc="firebase_id",xh="origin",Vl=6e4,Eh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nc="https://www.googletagmanager.com/gtag/js",ji=new ne.Yd("@firebase/analytics"),li=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Am(x){if(!x.startsWith(Nc)){const S=li.create("invalid-gtag-resource",{gtagURL:x});return ji.warn(S.message),""}return x}function Po(x){return Promise.all(x.map(S=>S.catch(R=>R)))}function No(){return(No=(0,O.Z)(function*(x,S,R,$,se,he){const ke=$[se];try{if(ke)yield S[ke];else{const it=(yield Po(R)).find(Ct=>Ct.measurementId===se);it&&(yield S[it.appId])}}catch(et){ji.error(et)}x("config",se,he)})).apply(this,arguments)}function oa(){return(oa=(0,O.Z)(function*(x,S,R,$,se){try{let he=[];if(se&&se.send_to){let ke=se.send_to;Array.isArray(ke)||(ke=[ke]);const et=yield Po(R);for(const it of ke){const Ct=et.find(bt=>bt.measurementId===it),Ut=Ct&&S[Ct.appId];if(!Ut){he=[];break}he.push(Ut)}}0===he.length&&(he=Object.values(S)),yield Promise.all(he),x("event",$,se||{})}catch(he){ji.error(he)}})).apply(this,arguments)}const Lc=30,ca=new class Ch{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Rm(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Cn(){return(Cn=(0,O.Z)(function*(x){var S;const{appId:R,apiKey:$}=x,se={method:"GET",headers:Rm($)},he=Eh.replace("{app-id}",R),ke=yield fetch(he,se);if(200!==ke.status&&304!==ke.status){let et="";try{const it=yield ke.json();null!==(S=it.error)&&void 0!==S&&S.message&&(et=it.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:et})}return ke.json()})).apply(this,arguments)}function Dh(){return(Dh=(0,O.Z)(function*(x,S=ca,R){const{appId:$,apiKey:se,measurementId:he}=x.options;if(!$)throw li.create("no-app-id");if(!se){if(he)return{measurementId:he,appId:$};throw li.create("no-api-key")}const ke=S.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new By;return setTimeout((0,O.Z)(function*(){et.abort()}),void 0!==R?R:Vl),qd({appId:$,apiKey:se,measurementId:he},ke,et,S)})).apply(this,arguments)}function qd(x,S,R){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,O.Z)(function*(x,{throttleEndTimeMillis:S,backoffCount:R},$,se=ca){var he;const{appId:ke,measurementId:et}=x;try{yield function Om(x,S){return new Promise((R,$)=>{const se=Math.max(S-Date.now(),0),he=setTimeout(R,se);x.addEventListener(()=>{clearTimeout(he),$(li.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}($,S)}catch(it){if(et)return ji.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ke,measurementId:et};throw it}try{const it=yield function Ih(x){return Cn.apply(this,arguments)}(x);return se.deleteThrottleMetadata(ke),it}catch(it){const Ct=it;if(!function Ly(x){if(!(x instanceof G.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Ct)){if(se.deleteThrottleMetadata(ke),et)return ji.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:ke,measurementId:et};throw it}const Ut=503===Number(null===(he=Ct?.customData)||void 0===he?void 0:he.httpStatus)?(0,G.$s)(R,se.intervalMillis,Lc):(0,G.$s)(R,se.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Ut,backoffCount:R+1};return se.setThrottleMetadata(ke,bt),ji.debug(`Calling attemptFetch again in ${Ut} millis`),qd(x,bt,$,se)}}),Kd.apply(this,arguments)}class By{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let da,Ja;function Pm(){return(Pm=(0,O.Z)(function*(x,S,R,$,se){if(se&&se.global)x("event",R,$);else{const he=yield S;x("event",R,Object.assign(Object.assign({},$),{send_to:he}))}})).apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(){if(!(0,G.hl)())return ji.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(x){return ji.warn(li.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function xr(){return xr=(0,O.Z)(function*(x,S,R,$,se,he,ke){var et;const it=function Wd(x){return Dh.apply(this,arguments)}(x);it.then(Xi=>{R[Xi.measurementId]=Xi.appId,x.options.measurementId&&Xi.measurementId!==x.options.measurementId&&ji.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xi=>ji.error(Xi)),S.push(it);const Ct=function hs(){return Lo.apply(this,arguments)}().then(Xi=>{if(Xi)return $.getId()}),[Ut,bt]=yield Promise.all([it,Ct]);(function la(x){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(Nc)&&R.src.includes(x))return R;return null})(he)||function Qa(x,S){const R=function Fc(x,S){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(x,S)),R}("firebase-js-sdk-policy",{createScriptURL:Am}),$=document.createElement("script"),se=`${Nc}?l=${x}&id=${S}`;$.src=R?R?.createScriptURL(se):se,$.async=!0,document.head.appendChild($)}(he,Ut.measurementId),Ja&&(se("consent","default",Ja),function jl(x){Ja=x}(void 0)),se("js",new Date);const dr=null!==(et=ke?.config)&&void 0!==et?et:{};return dr[xh]="firebase",dr.update=!0,null!=bt&&(dr[Pc]=bt),se("config",Ut.measurementId,dr),da&&(se("set",da),function Uc(x){da=x}(void 0)),Ut.measurementId}),xr.apply(this,arguments)}class fs{constructor(S){this.app=S}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},Nm=[];const Qd={};let Fm,ti,Wn="dataLayer",zr="gtag",ua=!1;function Th(x,S,R){!function tl(){const x=[];if((0,G.ru)()&&x.push("This is a browser extension environment."),(0,G.zI)()||x.push("Cookies are not available."),x.length>0){const S=x.map(($,se)=>`(${se+1}) ${$}`).join(" "),R=li.create("invalid-analytics-context",{errorInfo:S});ji.warn(R.message)}}();const $=x.options.appId;if(!$)throw li.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw li.create("no-api-key");ji.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[$])throw li.create("already-exists",{id:$});if(!ua){!function zd(x){let S=[];Array.isArray(window[x])?S=window[x]:window[x]=S}(Wn);const{wrappedGtag:he,gtagCore:ke}=function aa(x,S,R,$,se){let he=function(...ke){window[$].push(arguments)};return window[se]&&"function"==typeof window[se]&&(he=window[se]),window[se]=function Ul(x,S,R,$){function he(){return he=(0,O.Z)(function*(ke,...et){try{if("event"===ke){const[it,Ct]=et;yield function km(x,S,R,$,se){return oa.apply(this,arguments)}(x,S,R,it,Ct)}else if("config"===ke){const[it,Ct]=et;yield function Gd(x,S,R,$,se,he){return No.apply(this,arguments)}(x,S,R,$,it,Ct)}else if("consent"===ke){const[it]=et;x("consent","update",it)}else if("get"===ke){const[it,Ct,Ut]=et;x("get",it,Ct,Ut)}else if("set"===ke){const[it]=et;x("set",it)}else x(ke,...et)}catch(it){ji.error(it)}}),he.apply(this,arguments)}return function se(ke){return he.apply(this,arguments)}}(he,x,S,R),{gtagCore:he,wrappedGtag:window[se]}}(xi,Nm,Qd,Wn,zr);ti=he,Fm=ke,ua=!0}return xi[$]=function el(x,S,R,$,se,he,ke){return xr.apply(this,arguments)}(x,Nm,Qd,S,Fm,Wn,R),new fs(x)}function nl(){return ms.apply(this,arguments)}function ms(){return(ms=(0,O.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}const kh="@firebase/analytics";!function Jd(){(0,J._registerComponent)(new j.wA(Oo,(S,{options:R})=>Th(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,J._registerComponent)(new j.wA("analytics-internal",function x(S){try{const R=S.getProvider(Oo).getImmediate();return{logEvent:($,se,he)=>function Bm(x,S,R,$){x=(0,G.m9)(x),function Vy(x,S,R,$,se){return Pm.apply(this,arguments)}(ti,xi[x.app.options.appId],S,R,$).catch(se=>ji.error(se))}(R,$,se,he)}}catch(R){throw li.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,J.registerVersion)(kh,"0.10.0"),(0,J.registerVersion)(kh,"0.10.0","esm2017")}();var Um=T(233),Yg=T(4986),rl=T(8505),eu=T(5363),Hm=T(9468);const zc=new o.GfV("7.6.1"),Rh="__angularfire_symbol__analyticsIsSupportedValue",sl="__angularfire_symbol__analyticsIsSupported",Gc="__angularfire_symbol__remoteConfigIsSupportedValue",$l="__angularfire_symbol__remoteConfigIsSupported",$c="__angularfire_symbol__messagingIsSupportedValue",fa="__angularfire_symbol__messagingIsSupported";function Xg(x,S,R){if(S){if(1===S.length)return S[0];const he=S.filter(ke=>ke.app===R);if(1===he.length)return he[0]}return R.container.getProvider(x).getImmediate({optional:!0})}globalThis[sl]||(globalThis[sl]=nl().then(x=>globalThis[Rh]=x).catch(()=>globalThis[Rh]=!1)),globalThis[fa]||(globalThis[fa]=Mm().then(x=>globalThis[$c]=x).catch(()=>globalThis[$c]=!1)),globalThis[$l]||(globalThis[$l]=nh().then(x=>globalThis[Gc]=x).catch(()=>globalThis[Gc]=!1));const jm=(x,S)=>{const R=S?[S]:(0,V.C6)(),$=[];return R.forEach(se=>{se.container.getProvider(x).instances.forEach(ke=>{$.includes(ke)||$.push(ke)})}),$};function ma(){}class zm{constructor(S,R=Um.N){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,$){const se=this.zone;return this.delegate.schedule(function(ke){se.runGuarded(()=>{S.apply(this,[ke])})},R,$)}}class Gm{constructor(S){this.zone=S,this.task=null}call(S,R){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)),R.pipe((0,rl.b)({next:$,complete:$,error:$})).subscribe(S).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ph=(()=>{class x{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new zm(Zone.current)),this.insideAngular=R.run(()=>new zm(Zone.current,Yg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(R){return new(R||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Is(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function nu(x){return x.pipe((0,eu.Q)(Is().outsideAngular))}function Wl(x){return Is(),function iu(x){return function(R){return(R=R.lift(new Gm(x.ngZone))).pipe((0,Hm.R)(x.outsideAngular),(0,eu.Q)(x.insideAngular))}}(Is())(x)}},1389:(le,Z,T)=>{T.d(Z,{$:()=>jt,A:()=>q,D:()=>Ce,I:()=>Jn,J:()=>br,L:()=>Us,N:()=>Ui,P:()=>el,Q:()=>eh,R:()=>Vc,U:()=>th,V:()=>nh,W:()=>yc,X:()=>oo,Y:()=>bc,Z:()=>Im,_:()=>wc,a:()=>Or,a0:()=>Sm,a1:()=>Ad,a2:()=>zg,a3:()=>oh,a4:()=>us,a5:()=>ah,a6:()=>Ao,a7:()=>cr,a8:()=>ko,a9:()=>Hs,aA:()=>be,aB:()=>Zg,aC:()=>oi,aD:()=>yr,aE:()=>Gc,aF:()=>Lm,aG:()=>jc,aH:()=>In,aL:()=>zs,aO:()=>To,aa:()=>ch,ab:()=>dh,ac:()=>Gg,ad:()=>uh,ae:()=>hh,af:()=>Od,ai:()=>fh,aj:()=>mh,ak:()=>wr,an:()=>Dm,ao:()=>Ld,aq:()=>Nl,ar:()=>Ya,as:()=>Tt,at:()=>At,au:()=>Be,av:()=>Ae,aw:()=>Gr,ax:()=>jm,ay:()=>sn,az:()=>Se,b:()=>Oc,c:()=>ti,d:()=>Th,e:()=>Xd,f:()=>kh,g:()=>eu,h:()=>Um,i:()=>$d,j:()=>Rh,k:()=>$m,l:()=>Hl,m:()=>Lh,p:()=>re,r:()=>Sh,s:()=>Fo,u:()=>hs});var o=T(5861),V=T(2090),O=T(6881),J=T(7582),G=T(1877),j=T(4859);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ve=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new G.Yd("@firebase/auth");function Re(w,...p){Ie.logLevel<=G.in.ERROR&&Ie.error(`Auth (${O.SDK_VERSION}): ${w}`,...p)}function Ae(w,...p){throw qe(w,...p)}function Se(w,...p){return qe(w,...p)}function Ue(w,p,v){const E=Object.assign(Object.assign({},Ve()),{[p]:v});return new V.LL("auth","Firebase",E).create(p,{appName:w.name})}function Ke(w,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&Ae(w,"argument-error"),Ue(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(w,...p){if("string"!=typeof w){const v=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(v,...E)}return We.create(w,...p)}function be(w,p,...v){if(!w)throw qe(p,...v)}function ot(w){const p="INTERNAL ASSERTION FAILED: "+w;throw Re(p),new Error(p)}function Tt(w,p){w||ot(p)}function mt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Xt(){return"http:"===yt()||"https:"===yt()}function yt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class sr{constructor(p,v){this.shortDelay=p,this.longDelay=v,Tt(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ar(w,p){Tt(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class Vr{static initialize(p,v,E){this.fetchImpl=p,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new sr(3e4,6e4);function de(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function ge(w,p,v,E){return Te.apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(w,p,v,E,k={}){return ze(w,k,(0,o.Z)(function*(){let L={},ue={};E&&("GET"===p?ue=E:L={body:JSON.stringify(E)});const De=(0,V.xO)(Object.assign({key:w.config.apiKey},ue)).slice(1),tt=yield w._getAdditionalHeaders();return tt["Content-Type"]="application/json",w.languageCode&&(tt["X-Firebase-Locale"]=w.languageCode),Vr.fetch()(vn(w,w.config.apiHost,v,De),Object.assign({method:p,headers:tt,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ze(w,p,v){return Le.apply(this,arguments)}function Le(){return(Le=(0,o.Z)(function*(w,p,v){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},cs),p);try{const k=new kt(w),L=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const ue=yield L.json();if("needConfirmation"in ue)throw yn(w,"account-exists-with-different-credential",ue);if(L.ok&&!("errorMessage"in ue))return ue;{const De=L.ok?ue.errorMessage:ue.error.message,[tt,dt]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw yn(w,"credential-already-in-use",ue);if("EMAIL_EXISTS"===tt)throw yn(w,"email-already-in-use",ue);if("USER_DISABLED"===tt)throw yn(w,"user-disabled",ue);const St=E[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Ue(w,St,dt);Ae(w,St)}}catch(k){if(k instanceof V.ZR)throw k;Ae(w,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function at(w,p,v,E){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(w,p,v,E,k={}){const L=yield ge(w,p,v,E,k);return"mfaPendingCredential"in L&&Ae(w,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function vn(w,p,v,E){const k=`${p}${v}?${E}`;return w.config.emulator?Ar(w.config,k):`${w.config.apiScheme}://${k}`}class kt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(w,p,v){const E={appName:w.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const k=Se(w,p,E);return k.customData._tokenResponse=v,k}function ii(){return(ii=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Nn(){return(Nn=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gn(){return(gn=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ct(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ri(){return(ri=(0,o.Z)(function*(w,p=!1){const v=(0,V.m9)(w),E=yield v.getIdToken(p),k=or(E);be(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const L="object"==typeof k.firebase?k.firebase:void 0,ue=L?.sign_in_provider;return{claims:k,token:E,authTime:ct(ui(k.auth_time)),issuedAtTime:ct(ui(k.iat)),expirationTime:ct(ui(k.exp)),signInProvider:ue||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(w){return 1e3*Number(w)}function or(w){const[p,v,E]=w.split(".");if(void 0===p||void 0===v||void 0===E)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,V.tV)(v);return k?JSON.parse(k):(Re("Failed to decode base64 JWT payload"),null)}catch(k){return Re("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Jt(w,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(w,p,v=!1){if(v)return p;try{return yield p}catch(E){throw E instanceof V.ZR&&function Vt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield v.iteration()}),E)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&p.schedule(!0))}p.schedule()})()}}class Bi{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ct(this.lastLoginAt),this.creationTime=ct(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(w){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,o.Z)(function*(w){var p;const v=w.auth,E=yield w.getIdToken(),k=yield Jt(w,function pi(w,p){return gn.apply(this,arguments)}(v,{idToken:E}));be(k?.users.length,v,"internal-error");const L=k.users[0];w._notifyReloadListener(L);const ue=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?function kr(w){return w.map(p=>{var{providerId:v}=p,E=(0,J._T)(p,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(L.providerUserInfo):[],De=function en(w,p){return[...w.filter(E=>!p.some(k=>k.providerId===E.providerId)),...p]}(w.providerData,ue),St=!!w.isAnonymous&&!(w.email&&L.passwordHash||De?.length),dn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:De,metadata:new Bi(L.createdAt,L.lastLoginAt),isAnonymous:St};Object.assign(w,dn)}),Vi.apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(w){const p=(0,V.m9)(w);yield Yn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(w,p){const v=yield ze(w,{},(0,o.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:L}=w.config,ue=vn(w,k,"/v1/token",`key=${L}`),De=yield w._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",Vr.fetch()(ue,{method:"POST",headers:De,body:E})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){be(p.idToken,"internal-error"),be(typeof p.idToken<"u","internal-error"),be(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function _n(w){const p=or(w);return be(p,"internal-error"),be(typeof p.exp<"u","internal-error"),be(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var E=this;return(0,o.Z)(function*(){return be(!E.accessToken||E.refreshToken,p,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var E=this;return(0,o.Z)(function*(){const{accessToken:k,refreshToken:L,expiresIn:ue}=yield function ln(w,p){return vr.apply(this,arguments)}(p,v);E.updateTokensAndExpiration(k,L,Number(ue))})()}updateTokensAndExpiration(p,v,E){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,v){const{refreshToken:E,accessToken:k,expirationTime:L}=v,ue=new Kt;return E&&(be("string"==typeof E,"internal-error",{appName:p}),ue.refreshToken=E),k&&(be("string"==typeof k,"internal-error",{appName:p}),ue.accessToken=k),L&&(be("number"==typeof L,"internal-error",{appName:p}),ue.expirationTime=L),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return ot("not implemented")}}function si(w,p){be("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Gn{constructor(p){var{uid:v,auth:E,stsTokenManager:k}=p,L=(0,J._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Bi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,o.Z)(function*(){const E=yield Jt(v,v.stsTokenManager.getToken(v.auth,p));return be(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(p){return function _r(w){return ri.apply(this,arguments)}(this,p)}reload(){return function Zn(w){return hi.apply(this,arguments)}(this)}_assign(p){this!==p&&(be(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new Gn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var E=this;return(0,o.Z)(function*(){let k=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),k=!0),v&&(yield Yn(E)),yield E.auth._persistUserIfCurrent(E),k&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,o.Z)(function*(){const v=yield p.getIdToken();return yield Jt(p,function kn(w,p){return ii.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var E,k,L,ue,De,tt,dt,St;const dn=null!==(E=v.displayName)&&void 0!==E?E:void 0,es=null!==(k=v.email)&&void 0!==k?k:void 0,va=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,$r=null!==(ue=v.photoURL)&&void 0!==ue?ue:void 0,e_=null!==(De=v.tenantId)&&void 0!==De?De:void 0,ya=null!==(tt=v._redirectEventId)&&void 0!==tt?tt:void 0,au=null!==(dt=v.createdAt)&&void 0!==dt?dt:void 0,Qm=null!==(St=v.lastLoginAt)&&void 0!==St?St:void 0,{uid:Bh,emailVerified:Xm,isAnonymous:Jm,providerData:ep,stsTokenManager:ll}=v;be(Bh&&ll,p,"internal-error");const Vh=Kt.fromJSON(this.name,ll);be("string"==typeof Bh,p,"internal-error"),si(dn,p.name),si(es,p.name),be("boolean"==typeof Xm,p,"internal-error"),be("boolean"==typeof Jm,p,"internal-error"),si(va,p.name),si($r,p.name),si(e_,p.name),si(ya,p.name),si(au,p.name),si(Qm,p.name);const Uh=new Gn({uid:Bh,auth:p,email:es,emailVerified:Xm,displayName:dn,isAnonymous:Jm,photoURL:$r,phoneNumber:va,tenantId:e_,stsTokenManager:Vh,createdAt:au,lastLoginAt:Qm});return ep&&Array.isArray(ep)&&(Uh.providerData=ep.map(tp=>Object.assign({},tp))),ya&&(Uh._redirectEventId=ya),Uh}static _fromIdTokenResponse(p,v,E=!1){return(0,o.Z)(function*(){const k=new Kt;k.updateFromServerResponse(v);const L=new Gn({uid:v.localId,auth:p,stsTokenManager:k,isAnonymous:E});return yield Yn(L),L})()}}const gi=new Map;function oi(w){Tt(w instanceof Function,"Expected a class definition");let p=gi.get(w);return p?(Tt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,gi.set(w,p),p)}const Ui=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(v,E){var k=this;return(0,o.Z)(function*(){k.storage[v]=E})()}_get(v){var E=this;return(0,o.Z)(function*(){const k=E.storage[v];return void 0===k?null:k})()}_remove(v){var E=this;return(0,o.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return w.type="NONE",w})();function yr(w,p,v){return`firebase:${w}:${p}:${v}`}class ie{constructor(p,v,E){this.persistence=p,this.auth=v,this.userKey=E;const{config:k,name:L}=this.auth;this.fullUserKey=yr(this.userKey,k.apiKey,L),this.fullPersistenceKey=yr("persistence",k.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?Gn._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,o.Z)(function*(){if(v.persistence===p)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,E="authUser"){return(0,o.Z)(function*(){if(!v.length)return new ie(oi(Ui),p,E);const k=(yield Promise.all(v.map(function(){var dt=(0,o.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let L=k[0]||oi(Ui);const ue=yr(E,p.config.apiKey,p.name);let De=null;for(const dt of v)try{const St=yield dt._get(ue);if(St){const dn=Gn._fromJSON(p,St);dt!==L&&(De=dn),L=dt;break}}catch{}const tt=k.filter(dt=>dt._shouldAllowMigration);return L._shouldAllowMigration&&tt.length?(L=tt[0],De&&(yield L._set(ue,De.toJSON())),yield Promise.all(v.map(function(){var dt=(0,o.Z)(function*(St){if(St!==L)try{yield St._remove(ue)}catch{}});return function(St){return dt.apply(this,arguments)}}())),new ie(L,p,E)):new ie(L,p,E)})()}}function X(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(oe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(B(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ut(p))return"Blackberry";if(Ot(p))return"Webos";if(U(p))return"Safari";if((p.includes("chrome/")||P(p))&&!p.includes("edge/"))return"Chrome";if(Be(p))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function B(w=(0,V.z$)()){return/firefox\//i.test(w)}function U(w=(0,V.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function P(w=(0,V.z$)()){return/crios\//i.test(w)}function oe(w=(0,V.z$)()){return/iemobile/i.test(w)}function Be(w=(0,V.z$)()){return/android/i.test(w)}function ut(w=(0,V.z$)()){return/blackberry/i.test(w)}function Ot(w=(0,V.z$)()){return/webos/i.test(w)}function At(w=(0,V.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function sn(w=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Yt(w=(0,V.z$)()){return At(w)||Be(w)||Ot(w)||ut(w)||/windows phone/i.test(w)||oe(w)}function Es(w,p=[]){let v;switch(w){case"Browser":v=X((0,V.z$)());break;case"Worker":v=`${X((0,V.z$)())}-${w}`;break;default:v=w}const E=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${O.SDK_VERSION}/${E}`}function pe(){return(pe=(0,o.Z)(function*(w){return(yield ge(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ye(w,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(w,p){return ge(w,"GET","/v2/recaptchaConfig",de(w,p))})).apply(this,arguments)}function Nt(w){return void 0!==w&&void 0!==w.getResponse}function tn(w){return void 0!==w&&void 0!==w.enterprise}class Dt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function mn(w){return new Promise((p,v)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=k=>{const L=Se("internal-error");L.customData=k,v(L)},E.type="text/javascript",E.charset="UTF-8",function En(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function Yi(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Sd="NO_RECAPTCHA";class Cs{constructor(p){this.type="recaptcha-enterprise",this.auth=In(p)}verify(p="verify",v=!1){var E=this;return(0,o.Z)(function*(){function L(){return L=(0,o.Z)(function*(De){if(!v){if(null==De.tenantId&&null!=De._agentRecaptchaConfig)return De._agentRecaptchaConfig.siteKey;if(null!=De.tenantId&&void 0!==De._tenantRecaptchaConfigs[De.tenantId])return De._tenantRecaptchaConfigs[De.tenantId].siteKey}return new Promise(function(){var tt=(0,o.Z)(function*(dt,St){Ye(De,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dn=>{if(void 0!==dn.recaptchaKey){const es=new Dt(dn);return null==De.tenantId?De._agentRecaptchaConfig=es:De._tenantRecaptchaConfigs[De.tenantId]=es,dt(es.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(dn=>{St(dn)})});return function(dt,St){return tt.apply(this,arguments)}}())}),L.apply(this,arguments)}function ue(De,tt,dt){const St=window.grecaptcha;tn(St)?St.enterprise.ready(()=>{St.enterprise.execute(De,{action:p}).then(dn=>{tt(dn)}).catch(()=>{tt(Sd)})}):dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((De,tt)=>{(function k(De){return L.apply(this,arguments)})(E.auth).then(dt=>{if(!v&&tn(window.grecaptcha))ue(dt,De,tt);else{if(typeof window>"u")return void tt(new Error("RecaptchaVerifier is only supported in browser"));mn("https://www.google.com/recaptcha/enterprise.js?render="+dt).then(()=>{ue(dt,De,tt)}).catch(St=>{tt(St)})}}).catch(dt=>{tt(dt)})})})()}}function Ti(w,p,v){return lt.apply(this,arguments)}function lt(){return(lt=(0,o.Z)(function*(w,p,v,E=!1){const k=new Cs(w);let L;try{L=yield k.verify(v)}catch{L=yield k.verify(v,!0)}const ue=Object.assign({},p);return Object.assign(ue,E?{captchaResp:L}:{captchaResponse:L}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}class Zt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const E=L=>new Promise((ue,De)=>{try{ue(p(L))}catch(tt){De(tt)}});E.onAbort=v,this.queue.push(E);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,o.Z)(function*(){if(v.auth.currentUser===p)return;const E=[];try{for(const k of v.queue)yield k(p),k.onAbort&&E.push(k.onAbort)}catch(k){E.reverse();for(const L of E)try{L()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class $n{constructor(p,v,E,k){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=E,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ro(this),this.idTokenSubscription=new ro(this),this.beforeStateQueue=new Zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(p,v){var E=this;return v&&(this._popupRedirectResolver=oi(v)),this._initializationPromise=this.queue((0,o.Z)(function*(){var k,L;if(!E._deleted&&(E.persistenceManager=yield ie.create(E,p),!E._deleted)){if(null!==(k=E._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,o.Z)(function*(){var E;const k=yield v.assertedPersistence.getCurrentUser();let L=k,ue=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const De=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,tt=L?._redirectEventId,dt=yield v.tryRedirectSignIn(p);(!De||De===tt)&&dt?.user&&(L=dt.user,ue=!0)}if(!L)return v.directlySetCurrentUser(null);if(!L._redirectEventId){if(ue)try{yield v.beforeStateQueue.runMiddleware(L)}catch(De){L=k,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(De))}return L?v.reloadAndSetCurrentUserOrClear(L):v.directlySetCurrentUser(null)}return be(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===L._redirectEventId?v.directlySetCurrentUser(L):v.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var v=this;return(0,o.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,o.Z)(function*(){try{yield Yn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function mi(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,o.Z)(function*(){const E=p?(0,V.m9)(p):null;return E&&be(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(p,v=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return p&&be(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,o.Z)(function*(){yield v.assertedPersistence.setPersistence(oi(p))}))}initializeRecaptchaConfig(){var p=this;return(0,o.Z)(function*(){const v=yield Ye(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Dt(v);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Cs(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,v,E){return this.registerStateListener(this.authStateSubscription,p,v,E)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,E){return this.registerStateListener(this.idTokenSubscription,p,v,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var E=this;return(0,o.Z)(function*(){const k=yield E.getOrInitRedirectPersistenceManager(v);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,o.Z)(function*(){if(!v.redirectPersistenceManager){const E=p&&oi(p)||v._popupRedirectResolver;be(E,v,"argument-error"),v.redirectPersistenceManager=yield ie.create(v,[oi(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,o.Z)(function*(){var E,k;return v._isInitialized&&(yield v.queue((0,o.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===p?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,o.Z)(function*(){if(p===v.currentUser)return v.queue((0,o.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,E,k){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return be(ue,this,"internal-error"),ue.then(()=>L(this.currentUser)),"function"==typeof v?p.addObserver(v,E,k):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,o.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var v;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();k&&(E["X-Firebase-Client"]=k);const L=yield p._getAppCheckToken();return L&&(E["X-Firebase-AppCheck"]=L),E})()}_getAppCheckToken(){var p=this;return(0,o.Z)(function*(){var v;const E=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return E?.error&&function Ne(w,...p){Ie.logLevel<=G.in.WARN&&Ie.warn(`Auth (${O.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function In(w){return(0,V.m9)(w)}class ro{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(v=>this.observer=v)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jn(w,p,v){const E=In(w);be(E._canInitEmulator,E,"emulator-config-failed"),be(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const k=!!v?.disableWarnings,L=La(p),{host:ue,port:De}=function Mi(w){const p=La(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(E);if(k){const L=k[1];return{host:L,port:nn(E.substr(L.length+1))}}{const[L,ue]=E.split(":");return{host:L,port:nn(ue)}}}(p);E.config.emulator={url:`${L}//${ue}${null===De?"":`:${De}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ue,port:De,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Xo(){function w(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function La(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function nn(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class br{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return ot("not implemented")}_getIdTokenResponse(p){return ot("not implemented")}_linkToIdToken(p,v){return ot("not implemented")}_getReauthenticationResolver(p){return ot("not implemented")}}function Vs(w,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:resetPassword",de(w,p))})).apply(this,arguments)}function fi(w,p){return so.apply(this,arguments)}function so(){return(so=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function we(){return(we=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:update",de(w,p))})).apply(this,arguments)}function fe(w,p){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPassword",de(w,p))})).apply(this,arguments)}function Ge(w,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:sendOobCode",de(w,p))})).apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(w,p){return Ge(w,p)})).apply(this,arguments)}function Vn(w,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(w,p){return Ge(w,p)})).apply(this,arguments)}function Dn(w,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(w,p){return Ge(w,p)})).apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(w,p){return Ge(w,p)})).apply(this,arguments)}function Jo(){return(Jo=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithEmailLink",de(w,p))})).apply(this,arguments)}function Dl(){return(Dl=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithEmailLink",de(w,p))})).apply(this,arguments)}class Hr extends br{constructor(p,v,E,k=null){super("password",E),this._email=p,this._password=v,this._tenantId=k}static _fromEmailAndPassword(p,v){return new Hr(p,v,"password")}static _fromEmailAndCode(p,v,E=null){return new Hr(p,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,o.Z)(function*(){var E;switch(v.signInMethod){case"password":const k={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const L=yield Ti(p,k,"signInWithPassword");return fe(p,L)}return fe(p,k).catch(function(){var L=(0,o.Z)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const De=yield Ti(p,k,"signInWithPassword");return fe(p,De)}return Promise.reject(ue)});return function(ue){return L.apply(this,arguments)}}());case"emailLink":return function Ur(w,p){return Jo.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,v){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return fi(p,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function vc(w,p){return Dl.apply(this,arguments)}(p,{idToken:v,email:E._email,oobCode:E._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Io(w,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithIdp",de(w,p))})).apply(this,arguments)}class Us extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new Us(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):Ae("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:k}=v,L=(0,J._T)(v,["providerId","signInMethod"]);if(!E||!k)return null;const ue=new Us(E,k);return ue.idToken=L.idToken||void 0,ue.accessToken=L.accessToken||void 0,ue.secret=L.secret,ue.nonce=L.nonce,ue.pendingToken=L.pendingToken||null,ue}_getIdTokenResponse(p){return Io(p,this.buildRequest())}_linkToIdToken(p,v){const E=this.buildRequest();return E.idToken=v,Io(p,E)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Io(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,V.xO)(v)}return p}}function Yu(){return(Yu=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:sendVerificationCode",de(w,p))})).apply(this,arguments)}function Zu(){return(Zu=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPhoneNumber",de(w,p))})).apply(this,arguments)}function Qu(){return(Qu=(0,o.Z)(function*(w,p){const v=yield at(w,"POST","/v1/accounts:signInWithPhoneNumber",de(w,p));if(v.temporaryProof)throw yn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Xu={USER_NOT_FOUND:"user-not-found"};function wm(){return(wm=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPhoneNumber",de(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Xu)})).apply(this,arguments)}class Do extends br{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new Do({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new Do({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function bm(w,p){return Zu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function jg(w,p){return Qu.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ju(w,p){return wm.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:E,verificationCode:k}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:E,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:E,phoneNumber:k,temporaryProof:L}=p;return E||v||k||L?new Do({verificationId:v,verificationCode:E,phoneNumber:k,temporaryProof:L}):null}}class Ba{constructor(p){var v,E,k,L,ue,De;const tt=(0,V.zd)((0,V.pd)(p)),dt=null!==(v=tt.apiKey)&&void 0!==v?v:null,St=null!==(E=tt.oobCode)&&void 0!==E?E:null,dn=function Ai(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=tt.mode)&&void 0!==k?k:null);be(dt&&St&&dn,"argument-error"),this.apiKey=dt,this.operation=dn,this.code=St,this.continueUrl=null!==(L=tt.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ue=tt.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(De=tt.tenantId)&&void 0!==De?De:null}static parseLink(p){const v=function xm(w){const p=(0,V.zd)((0,V.pd)(w)).link,v=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(w)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||v||p||w}(p);try{return new Ba(v)}catch{return null}}}let eh=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,E){return Hr._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const k=Ba.parseLink(E);return be(k,"argument-error"),Hr._fromEmailAndCode(v,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class So{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Va extends So{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oo extends Va{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return be("providerId"in v&&"signInMethod"in v,"argument-error"),Us._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return be(p.idToken||p.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:k,pendingToken:L,nonce:ue,providerId:De}=p;if(!E&&!k&&!v&&!L||!De)return null;try{return new oo(De)._credential({idToken:v,accessToken:E,nonce:ue,pendingToken:L})}catch{return null}}}let th=(()=>{class w extends Va{constructor(){super("facebook.com")}static credential(v){return Us._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),nh=(()=>{class w extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return Us._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:k}=v;if(!E&&!k)return null;try{return w.credential(E,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),yc=(()=>{class w extends Va{constructor(){super("github.com")}static credential(v){return Us._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class To extends br{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return Io(p,this.buildRequest())}_linkToIdToken(p,v){const E=this.buildRequest();return E.idToken=v,Io(p,E)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Io(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:k,pendingToken:L}=v;return E&&k&&L&&E===k?new To(E,L):null}static _create(p,v){return new To(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bc extends So{constructor(p){be(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return bc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return bc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=To.fromJSON(p);return be(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:E}=p;if(!v||!E)return null;try{return To._create(E,v)}catch{return null}}}let Im=(()=>{class w extends Va{constructor(){super("twitter.com")}static credential(v,E){return Us._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:k}=v;if(!E||!k)return null;try{return w.credential(E,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ua(w,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signUp",de(w,p))})).apply(this,arguments)}class ai{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,E,k=!1){return(0,o.Z)(function*(){const L=yield Gn._fromIdTokenResponse(p,E,k),ue=Tl(E);return new ai({user:L,providerId:ue,_tokenResponse:E,operationType:v})})()}static _forOperation(p,v,E){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const k=Tl(E);return new ai({user:p,providerId:k,_tokenResponse:E,operationType:v})})()}}function Tl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function wc(w){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(w){var p;const v=In(w);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new ai({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield Ua(v,{returnSecureToken:!0}),k=yield ai._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class ta extends V.ZR{constructor(p,v,E,k){var L;super(v.code,v.message),this.operationType=E,this.user=k,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,v,E,k){return new ta(p,v,E,k)}}function na(w,p,v,E){return("reauthenticate"===p?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?ta._fromErrorAndOperation(w,L,p,E):L})}function lr(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function Dm(w,p){return xc.apply(this,arguments)}function xc(){return xc=(0,o.Z)(function*(w,p){const v=(0,V.m9)(w);yield Ml(!0,v,p);const{providerUserInfo:E}=yield function an(w,p){return Nn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),k=lr(E||[]);return v.providerData=v.providerData.filter(L=>k.has(L.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),xc.apply(this,arguments)}function Rr(w,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.Z)(function*(w,p,v=!1){const E=yield Jt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),v);return ai._forOperation(w,"link",E)})).apply(this,arguments)}function Ml(w,p,v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,o.Z)(function*(w,p,v){yield Yn(p);const k=!1===w?"provider-already-linked":"no-such-provider";be(lr(p.providerData).has(v)===w,p.auth,k)})).apply(this,arguments)}function ih(w,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,o.Z)(function*(w,p,v=!1){const{auth:E}=w,k="reauthenticate";try{const L=yield Jt(w,na(E,k,p,w),v);be(L.idToken,E,"internal-error");const ue=or(L.idToken);be(ue,E,"internal-error");const{sub:De}=ue;return be(w.uid===De,E,"user-mismatch"),ai._forOperation(w,k,L)}catch(L){throw"auth/user-not-found"===L?.code&&Ae(E,"user-mismatch"),L}})).apply(this,arguments)}function Al(w,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(w,p,v=!1){const E="signIn",k=yield na(w,E,p),L=yield ai._fromIdTokenResponse(w,E,k);return v||(yield w._updateCurrentUser(L.user)),L})).apply(this,arguments)}function jt(w,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(w,p){return Al(In(w),p)})).apply(this,arguments)}function Sm(w,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,o.Z)(function*(w,p){const v=(0,V.m9)(w);return yield Ml(!1,v,p.providerId),Rr(v,p)})).apply(this,arguments)}function Ad(w,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,o.Z)(function*(w,p){return ih((0,V.m9)(w),p)})).apply(this,arguments)}function sh(){return(sh=(0,o.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithCustomToken",de(w,p))})).apply(this,arguments)}function zg(w,p){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,o.Z)(function*(w,p){const v=In(w),E=yield function rh(w,p){return sh.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),k=yield ai._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(k.user),k}),Fe.apply(this,arguments)}class Qt{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Rd._fromServerResponse(p,v):"totpInfo"in v?kl._fromServerResponse(p,v):Ae(p,"internal-error")}}class Rd extends Qt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Rd(v)}}class kl extends Qt{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new kl(v)}}function yi(w,p,v){var E;be((null===(E=v.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),be(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(be(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(be(v.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function oh(w,p,v){return ja.apply(this,arguments)}function ja(){return ja=(0,o.Z)(function*(w,p,v){var E;const k=In(w),L={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ue=yield Ti(k,L,"getOobCode",!0);v&&yi(k,ue,v),yield Vn(k,ue)}else v&&yi(k,L,v),yield Vn(k,L).catch(function(){var ue=(0,o.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const tt=yield Ti(k,L,"getOobCode",!0);v&&yi(k,tt,v),yield Vn(k,tt)}});return function(De){return ue.apply(this,arguments)}}())}),ja.apply(this,arguments)}function us(w,p,v){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(w,p,v){yield Vs((0,V.m9)(w),{oobCode:p,newPassword:v})})).apply(this,arguments)}function ah(w,p){return lh.apply(this,arguments)}function lh(){return lh=(0,o.Z)(function*(w,p){yield function Y(w,p){return we.apply(this,arguments)}((0,V.m9)(w),{oobCode:p})}),lh.apply(this,arguments)}function Ao(w,p){return za.apply(this,arguments)}function za(){return(za=(0,o.Z)(function*(w,p){const v=(0,V.m9)(w),E=yield Vs(v,{oobCode:p}),k=E.requestType;switch(be(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(E.mfaInfo,v,"internal-error");default:be(E.email,v,"internal-error")}let L=null;return E.mfaInfo&&(L=Qt._fromServerResponse(In(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:k}})).apply(this,arguments)}function cr(w,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,o.Z)(function*(w,p){const{data:v}=yield Ao((0,V.m9)(w),p);return v.email})).apply(this,arguments)}function ko(w,p,v){return lo.apply(this,arguments)}function lo(){return lo=(0,o.Z)(function*(w,p,v){var E;const k=In(w),L={returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"};let ue;if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const dt=yield Ti(k,L,"signUpPassword");ue=Ua(k,dt)}else ue=Ua(k,L).catch(function(){var dt=(0,o.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dn=yield Ti(k,L,"signUpPassword");return Ua(k,dn)}return Promise.reject(St)});return function(St){return dt.apply(this,arguments)}}());const De=yield ue.catch(dt=>Promise.reject(dt)),tt=yield ai._fromIdTokenResponse(k,"signIn",De);return yield k._updateCurrentUser(tt.user),tt}),lo.apply(this,arguments)}function Hs(w,p,v){return jt((0,V.m9)(w),eh.credential(p,v))}function ch(w,p,v){return ia.apply(this,arguments)}function ia(){return ia=(0,o.Z)(function*(w,p,v){var E;const k=In(w),L={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ue(De,tt){be(tt.handleCodeInApp,k,"argument-error"),tt&&yi(k,De,tt)}if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const De=yield Ti(k,L,"getOobCode",!0);ue(De,v),yield Dn(k,De)}else ue(L,v),yield Dn(k,L).catch(function(){var De=(0,o.Z)(function*(tt){if("auth/missing-recaptcha-token"!==tt.code)return Promise.reject(tt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dt=yield Ti(k,L,"getOobCode",!0);ue(dt,v),yield Dn(k,dt)}});return function(tt){return De.apply(this,arguments)}}())}),ia.apply(this,arguments)}function dh(w,p){return"EMAIL_SIGNIN"===Ba.parseLink(p)?.operation}function Gg(w,p,v){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w),k=eh.credentialWithLink(p,v||mt());return be(k._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),jt(E,k)})).apply(this,arguments)}function Rl(){return(Rl=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:createAuthUri",de(w,p))})).apply(this,arguments)}function uh(w,p){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,o.Z)(function*(w,p){const E={identifier:p,continueUri:Xt()?mt():"http://localhost"},{signinMethods:k}=yield function Ic(w,p){return Rl.apply(this,arguments)}((0,V.m9)(w),E);return k||[]}),Dc.apply(this,arguments)}function hh(w,p){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,o.Z)(function*(w,p){const v=(0,V.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&yi(v.auth,k,p);const{email:L}=yield function hn(w,p){return Fn.apply(this,arguments)}(v.auth,k);L!==w.email&&(yield w.reload())}),Ga.apply(this,arguments)}function Od(w,p,v){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};v&&yi(E.auth,L,v);const{email:ue}=yield function _c(w,p){return Zi.apply(this,arguments)}(E.auth,L);ue!==w.email&&(yield w.reload())}),Ol.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(w,p){return ge(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fh(w,p){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,o.Z)(function*(w,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const E=(0,V.m9)(w),L={idToken:yield E.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},ue=yield Jt(E,function Pd(w,p){return Sc.apply(this,arguments)}(E.auth,L));E.displayName=ue.displayName||null,E.photoURL=ue.photoUrl||null;const De=E.providerData.find(({providerId:tt})=>"password"===tt);De&&(De.displayName=E.displayName,De.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ue)}),Nd.apply(this,arguments)}function mh(w,p){return js((0,V.m9)(w),p,null)}function wr(w,p){return js((0,V.m9)(w),null,p)}function js(w,p,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,o.Z)(function*(w,p,v){const{auth:E}=w,L={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(L.email=p),v&&(L.password=v);const ue=yield Jt(w,fi(E,L));yield w._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class $a{constructor(p,v,E={}){this.isNewUser=p,this.providerId=v,this.profile=E}}class Tc extends $a{constructor(p,v,E,k){super(p,v,E),this.username=k}}class $g extends $a{constructor(p,v){super(p,"facebook.com",v)}}class ph extends Tc{constructor(p,v){super(p,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Wg extends $a{constructor(p,v){super(p,"google.com",v)}}class Mc extends Tc{constructor(p,v,E){super(p,"twitter.com",v,E)}}function Ld(w){const{user:p,_tokenResponse:v}=w;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Fd(w){var p,v;if(!w)return null;const{providerId:E}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},L=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const ue=null===(v=null===(p=or(w.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(ue)return new $a(L,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!E)return null;switch(E){case"facebook.com":return new $g(L,k);case"github.com":return new ph(L,k);case"google.com":return new Wg(L,k);case"twitter.com":return new Mc(L,k,w.screenName||null);case"custom":case"anonymous":return new $a(L,null);default:return new $a(L,E,k)}}(v)}class uo{constructor(p,v,E){this.type=p,this.credential=v,this.auth=E}static _fromIdtoken(p,v){return new uo("enroll",p,v)}static _fromMfaPendingCredential(p){return new uo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,E;if(p?.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return uo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return uo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Bd{constructor(p,v,E){this.session=p,this.hints=v,this.signInResolver=E}static _fromError(p,v){const E=In(p),k=v.customData._serverResponse,L=(k.mfaInfo||[]).map(De=>Qt._fromServerResponse(E,De));be(k.mfaPendingCredential,E,"internal-error");const ue=uo._fromMfaPendingCredential(k.mfaPendingCredential);return new Bd(ue,L,function(){var De=(0,o.Z)(function*(tt){const dt=yield tt._process(E,ue);delete k.mfaInfo,delete k.mfaPendingCredential;const St=Object.assign(Object.assign({},k),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(v.operationType){case"signIn":const dn=yield ai._fromIdTokenResponse(E,v.operationType,St);return yield E._updateCurrentUser(dn.user),dn;case"reauthenticate":return be(v.user,E,"internal-error"),ai._forOperation(v.user,v.operationType,St);default:Ae(E,"internal-error")}});return function(tt){return De.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,o.Z)(function*(){return v.signInResolver(p)})()}}function Nl(w,p){var v;const E=(0,V.m9)(w),k=p;return be(p.customData.operationType,E,"argument-error"),be(null===(v=k.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),Bd._fromError(E,k)}class Ka{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>Qt._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Ka(p)}getSession(){var p=this;return(0,o.Z)(function*(){return uo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var E=this;return(0,o.Z)(function*(){const k=p,L=yield E.getSession(),ue=yield Jt(E.user,k._process(E.user.auth,L,v));return yield E.user._updateTokensIfNecessary(ue),E.user.reload()})()}unenroll(p){var v=this;return(0,o.Z)(function*(){const E="string"==typeof p?p:p.uid,k=yield v.user.getIdToken();try{const L=yield Jt(v.user,function ra(w,p){return ge(w,"POST","/v2/accounts/mfaEnrollment:withdraw",de(w,p))}(v.user.auth,{idToken:k,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ue})=>ue!==E),yield v.user._updateTokensIfNecessary(L),yield v.user.reload()}catch(L){throw L}})()}}const sa=new WeakMap;function Ya(w){const p=(0,V.m9)(w);return sa.has(p)||sa.set(p,Ka._fromUser(p)),sa.get(p)}const Fl="__sak";class Ll{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oc=(()=>{class w extends Ll{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vd(){const w=(0,V.z$)();return U(w)||At(w)}()&&function Di(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const k=this.storage.getItem(E),L=this.localCache[E];k!==L&&v(E,L,k)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((De,tt,dt)=>{this.notifyListeners(De,dt)});const k=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(k);if(v.newValue!==De)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!E)return}const L=()=>{const De=this.storage.getItem(k);!E&&this.localCache[k]===De||this.notifyListeners(k,De)},ue=this.storage.getItem(k);!function Bn(){return(0,V.w1)()&&10===document.documentMode}()||ue===v.newValue||v.newValue===v.oldValue?L():setTimeout(L,10)}notifyListeners(v,E){this.localCache[v]=E;const k=this.listeners[v];if(k)for(const L of Array.from(k))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var k=()=>super._set,L=this;return(0,o.Z)(function*(){yield k().call(L,v,E),L.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,k=this;return(0,o.Z)(function*(){const L=yield E().call(k,v);return k.localCache[v]=JSON.stringify(L),L})()}_remove(v){var E=()=>super._remove,k=this;return(0,o.Z)(function*(){yield E().call(k,v),delete k.localCache[v]})()}}return w.type="LOCAL",w})(),Or=(()=>{class w extends Ll{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return w.type="SESSION",w})();let jd=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(L=>L.isListeningto(v));if(E)return E;const k=new w(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,o.Z)(function*(){const k=v,{eventId:L,eventType:ue,data:De}=k.data,tt=E.handlersMap[ue];if(!tt?.size)return;k.ports[0].postMessage({status:"ack",eventId:L,eventType:ue});const dt=Array.from(tt).map(function(){var dn=(0,o.Z)(function*(es){return es(k.origin,De)});return function(es){return dn.apply(this,arguments)}}()),St=yield function bh(w){return Promise.all(w.map(function(){var p=(0,o.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return p.apply(this,arguments)}}()))}(dt);k.ports[0].postMessage({status:"done",eventId:L,eventType:ue,response:St})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function zs(w="",p=10){let v="";for(let E=0;E<p;E++)v+=Math.floor(10*Math.random());return w+v}class wh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,E=50){var k=this;return(0,o.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ue,De;return new Promise((tt,dt)=>{const St=zs("",20);L.port1.start();const dn=setTimeout(()=>{dt(new Error("unsupported_event"))},E);De={messageChannel:L,onMessage(es){const va=es;if(va.data.eventId===St)switch(va.data.status){case"ack":clearTimeout(dn),ue=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),tt(va.data.response);break;default:clearTimeout(dn),clearTimeout(ue),dt(new Error("invalid_response"))}}},k.handlers.add(De),L.port1.addEventListener("message",De.onMessage),k.target.postMessage({eventType:p,eventId:St,data:v},[L.port2])}).finally(()=>{De&&k.removeMessageHandler(De)})})()}}function wi(){return window}function Pc(){return typeof wi().WorkerGlobalScope<"u"&&"function"==typeof wi().importScripts}function Vl(){return(Vl=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ji="firebaseLocalStorageDb",Za=1,li="firebaseLocalStorage",Am="fbase_key";class Po{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Fc(w,p){return w.transaction([li],p?"readwrite":"readonly").objectStore(li)}function zd(){const w=indexedDB.open(ji,Za);return new Promise((p,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(li,{keyPath:Am})}catch(k){v(k)}}),w.addEventListener("success",(0,o.Z)(function*(){const E=w.result;E.objectStoreNames.contains(li)?p(E):(E.close(),yield function Qa(){const w=indexedDB.deleteDatabase(ji);return new Po(w).toPromise()}(),p(yield zd()))}))})}function Gd(w,p,v){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(w,p,v){const E=Fc(w,!0).put({[Am]:p,value:v});return new Po(E).toPromise()})).apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(w,p){const v=Fc(w,!1).get(p),E=yield new Po(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ul(w,p){const v=Fc(w,!0).delete(p);return new Po(v).toPromise()}const $d=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.Z)(function*(){return v.db||(v.db=yield zd()),v.db})()}_withRetries(v){var E=this;return(0,o.Z)(function*(){let k=0;for(;;)try{const L=yield E._openDb();return yield v(L)}catch(L){if(k++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.Z)(function*(){return Pc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.Z)(function*(){v.receiver=jd._getInstance(function Nc(){return Pc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(k,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(k,L){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(k,L){return["keyChanged"]});return function(k,L){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.Z)(function*(){var E,k;if(v.activeServiceWorker=yield function xh(){return Vl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new wh(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);L&&null!==(E=L[0])&&void 0!==E&&E.fulfilled&&null!==(k=L[0])&&void 0!==k&&k.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Eh(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const v=yield zd();return yield Gd(v,Fl,"1"),yield Ul(v,Fl),!0}catch{}return!1})()}_withPendingWrite(v){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var k=this;return(0,o.Z)(function*(){return k._withPendingWrite((0,o.Z)(function*(){return yield k._withRetries(L=>Gd(L,v,E)),k.localCache[v]=E,k.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,o.Z)(function*(){const k=yield E._withRetries(L=>function km(w,p){return oa.apply(this,arguments)}(L,v));return E.localCache[v]=k,k})()}_remove(v){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(k=>Ul(k,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.Z)(function*(){const E=yield v._withRetries(ue=>{const De=Fc(ue,!1).getAll();return new Po(De).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const k=[],L=new Set;for(const{fbase_key:ue,value:De}of E)L.add(ue),JSON.stringify(v.localCache[ue])!==JSON.stringify(De)&&(v.notifyListeners(ue,De),k.push(ue));for(const ue of Object.keys(v.localCache))v.localCache[ue]&&!L.has(ue)&&(v.notifyListeners(ue,null),k.push(ue));return k})()}notifyListeners(v,E){this.localCache[v]=E;const k=this.listeners[v];if(k)for(const L of Array.from(k))L(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Wd=1e12;class Dh{constructor(p){this.auth=p,this.counter=Wd,this._widgets=new Map}render(p,v){const E=this.counter;return this._widgets.set(E,new qd(p,this.auth.name,v||{})),this.counter++,E}reset(p){var v;const E=p||Wd;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(p){var v;return(null===(v=this._widgets.get(p||Wd))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,o.Z)(function*(){var E;return null===(E=v._widgets.get(p||Wd))||void 0===E||E.execute(),""})()}}class qd{constructor(p,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;be(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kd(w){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(v.charAt(Math.floor(Math.random()*v.length)));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Om=Yi("rcb"),Ly=new sr(3e4,6e4);class da{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wi().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return be(function Vy(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&Nt(wi().grecaptcha)?Promise.resolve(wi().grecaptcha):new Promise((E,k)=>{const L=wi().setTimeout(()=>{k(Se(p,"network-request-failed"))},Ly.get());wi()[Om]=()=>{wi().clearTimeout(L),delete wi()[Om];const De=wi().grecaptcha;if(!De||!Nt(De))return void k(Se(p,"internal-error"));const tt=De.render;De.render=(dt,St)=>{const dn=tt(dt,St);return this.counter++,dn},this.hostLanguage=v,E(De)},mn(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Om,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),k(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=wi().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pm{load(p){return(0,o.Z)(function*(){return new Dh(p)})()}clearedOneInstance(){}}const zi="recaptcha",Bc={theme:"light",type:"image"};class Vc{constructor(p,v=Object.assign({},Bc),E){this.parameters=v,this.type=zi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(E),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;be(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pm:new da,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(v)||new Promise(L=>{const ue=De=>{De&&(p.tokenChangeListeners.delete(ue),L(De))};p.tokenChangeListeners.add(ue),p.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof p)p(v);else if("string"==typeof p){const E=wi()[p];"function"==typeof E&&E(v)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){be(Xt()&&!Pc(),p.auth,"internal-error"),yield function Yd(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function Pe(w){return pe.apply(this,arguments)}(p.auth);be(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jr{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=Do._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function Fo(w,p,v){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,o.Z)(function*(w,p,v){const E=In(w),k=yield jl(E,p,(0,V.m9)(v));return new Jr(k,L=>jt(E,L))})).apply(this,arguments)}function Hl(w,p,v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w);yield Ml(!1,E,"phone");const k=yield jl(E.auth,p,(0,V.m9)(v));return new Jr(k,L=>Sm(E,L))})).apply(this,arguments)}function Sh(w,p,v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w),k=yield jl(E.auth,p,(0,V.m9)(v));return new Jr(k,L=>Ad(E,L))})).apply(this,arguments)}function jl(w,p,v){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,o.Z)(function*(w,p,v){var E;const k=yield v.verify();try{let L;if(be("string"==typeof k,w,"argument-error"),be(v.type===zi,w,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const ue=L.session;if("phoneNumber"in L)return be("enroll"===ue.type,w,"internal-error"),(yield function Rc(w,p){return ge(w,"POST","/v2/accounts/mfaEnrollment:start",de(w,p))}(w,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{be("signin"===ue.type,w,"internal-error");const De=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return be(De,w,"missing-multi-factor-info"),(yield function Ch(w,p){return ge(w,"POST","/v2/accounts/mfaSignIn:start",de(w,p))}(w,{mfaPendingCredential:ue.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield function Hg(w,p){return Yu.apply(this,arguments)}(w,{phoneNumber:L.phoneNumber,recaptchaToken:k});return ue}}finally{v._reset()}}),Uc.apply(this,arguments)}function hs(w,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,o.Z)(function*(w,p){yield Rr((0,V.m9)(w),p)})).apply(this,arguments)}let el=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=In(v)}verifyPhoneNumber(v,E){return jl(this.auth,v,(0,V.m9)(E))}static credential(v,E){return Do._fromVerification(v,E)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:k}=v;return E&&k?Do._fromTokenResponse(E,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function xr(w,p){return p?oi(p):(be(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class fs extends br{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Io(p,this._buildIdpRequest())}_linkToIdToken(p,v){return Io(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return Io(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function xi(w){return Al(w.auth,new fs(w),w.bypassAuthState)}function Nm(w){const{auth:p,user:v}=w;return be(v,p,"internal-error"),ih(v,new fs(w),w.bypassAuthState)}function Qd(w){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(function*(w){const{auth:p,user:v}=w;return be(v,p,"internal-error"),Rr(v,new fs(w),w.bypassAuthState)})).apply(this,arguments)}class zr{constructor(p,v,E,k,L=!1){this.auth=p,this.resolver=E,this.user=k,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,o.Z)(function*(E,k){p.pendingPromise={resolve:E,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(E,k){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:k,postBody:L,tenantId:ue,error:De,type:tt}=p;if(De)return void v.reject(De);const dt={auth:v.auth,requestUri:E,sessionId:k,tenantId:ue||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(tt)(dt))}catch(St){v.reject(St)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return xi;case"linkViaPopup":case"linkViaRedirect":return Qd;case"reauthViaPopup":case"reauthViaRedirect":return Nm;default:Ae(this.auth,"internal-error")}}resolve(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fm=new sr(2e3,1e4);function ti(w,p,v){return ua.apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(w,p,v){const E=In(w);Ke(w,p,So);const k=xr(E,v);return new Hc(E,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function Xd(w,p,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w);Ke(E.auth,p,So);const k=xr(E.auth,v);return new Hc(E.auth,"reauthViaPopup",p,k,E).executeNotNull()})).apply(this,arguments)}function Th(w,p,v){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w);Ke(E.auth,p,So);const k=xr(E.auth,v);return new Hc(E.auth,"linkViaPopup",p,k,E).executeNotNull()})).apply(this,arguments)}let Hc=(()=>{class w extends zr{constructor(v,E,k,L,ue){super(v,E,L,ue),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.Z)(function*(){const E=yield v.execute();return be(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,o.Z)(function*(){Tt(1===v.filter.length,"Popup operations only handle one event");const E=zs();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(Se(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,k;this.pollId=null!==(k=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Fm.get())};v()}}return w.currentPopupAction=null,w})();const nl="pendingRedirect",ms=new Map;class Gl extends zr{constructor(p,v,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,o.Z)(function*(){let E=ms.get(v.auth._key());if(!E){try{const L=(yield function Kg(w,p){return il.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;E=()=>Promise.resolve(L)}catch(k){E=()=>Promise.reject(k)}ms.set(v.auth._key(),E)}return v.bypassAuthState||ms.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(E,p);if("unknown"!==p.type){if(p.eventId){const k=yield E.auth._redirectUserForId(p.eventId);if(k)return E.user=k,v().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function il(){return(il=(0,o.Z)(function*(w,p){const v=Ah(p),E=Bm(w);if(!(yield E._isAvailable()))return!1;const k="true"===(yield E._get(v));return yield E._remove(v),k})).apply(this,arguments)}function Mh(w,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(w,p){return Bm(w)._set(Ah(p),"true")})).apply(this,arguments)}function jc(){ms.clear()}function Lm(w,p){ms.set(w._key(),p)}function Bm(w){return oi(w._redirectPersistence)}function Ah(w){return yr(nl,w.config.apiKey,w.name)}function kh(w,p,v){return function Vm(w,p,v){return Jd.apply(this,arguments)}(w,p,v)}function Jd(){return(Jd=(0,o.Z)(function*(w,p,v){const E=In(w);Ke(w,p,So),yield E._initializationPromise;const k=xr(E,v);return yield Mh(k,E),k._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Um(w,p,v){return function Yg(w,p,v){return rl.apply(this,arguments)}(w,p,v)}function rl(){return(rl=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w);Ke(E.auth,p,So),yield E.auth._initializationPromise;const k=xr(E.auth,v);yield Mh(k,E.auth);const L=yield $c(E);return k._openRedirect(E.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function eu(w,p,v){return function Hm(w,p,v){return zc.apply(this,arguments)}(w,p,v)}function zc(){return(zc=(0,o.Z)(function*(w,p,v){const E=(0,V.m9)(w);Ke(E.auth,p,So),yield E.auth._initializationPromise;const k=xr(E.auth,v);yield Ml(!1,E,p.providerId),yield Mh(k,E.auth);const L=yield $c(E);return k._openRedirect(E.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function Rh(w,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(w,p){return yield In(w)._initializationPromise,Gc(w,p,!1)})).apply(this,arguments)}function Gc(w,p){return $l.apply(this,arguments)}function $l(){return($l=(0,o.Z)(function*(w,p,v=!1){const E=In(w),k=xr(E,p),ue=yield new Gl(E,k,v).execute();return ue&&!v&&(delete ue.user._redirectEventId,yield E._persistUserIfCurrent(ue.user),yield E._setRedirectUser(null,p)),ue})).apply(this,arguments)}function $c(w){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(w){const p=zs(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class Zg{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(v=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Xg(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qg(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var E;if(p.error&&!Qg(p)){const k=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(Se(this.auth,k))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const E=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tu(p))}saveEventToCache(p){this.cachedEventUids.add(tu(p)),this.lastProcessedEventTime=Date.now()}}function tu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Qg({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function jm(w){return ma.apply(this,arguments)}function ma(){return(ma=(0,o.Z)(function*(w,p={}){return ge(w,"GET","/v1/projects",p)})).apply(this,arguments)}const zm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gm=/^https?/;function Is(){return(Is=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield jm(w);for(const v of p)try{if(Nh(v))return}catch{}Ae(w,"unauthorized-domain")})).apply(this,arguments)}function Nh(w){const p=mt(),{protocol:v,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const ue=new URL(w);return""===ue.hostname&&""===E?"chrome-extension:"===v&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&ue.hostname===E}if(!Gm.test(v))return!1;if(zm.test(w))return E===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(E)}const pa=new sr(3e4,6e4);function nu(){const w=wi().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Wl=null;const Bo=new sr(5e3,15e3),Fh="__/auth/iframe",x="emulator/auth/iframe",S={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $(w){const p=w.config;be(p.authDomain,w,"auth-domain-config-required");const v=p.emulator?Ar(p,x):`https://${w.config.authDomain}/${Fh}`,E={apiKey:p.apiKey,appName:w.name,v:O.SDK_VERSION},k=R.get(w.config.apiHost);k&&(E.eid=k);const L=w._getFrameworks();return L.length&&(E.fw=L.join(",")),`${v}?${(0,V.xO)(E).slice(1)}`}function he(){return he=(0,o.Z)(function*(w){const p=yield function iu(w){return Wl=Wl||function ho(w){return new Promise((p,v)=>{var E,k,L;function ue(){nu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{nu(),v(Se(w,"network-request-failed"))},timeout:pa.get()})}if(null!==(k=null===(E=wi().gapi)||void 0===E?void 0:E.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(L=wi().gapi)||void 0===L||!L.load){const De=Yi("iframefcb");return wi()[De]=()=>{gapi.load?ue():v(Se(w,"network-request-failed"))},mn(`https://apis.google.com/js/api.js?onload=${De}`).catch(tt=>v(tt))}ue()}}).catch(p=>{throw Wl=null,p})}(w),Wl}(w),v=wi().gapi;return be(v,w,"internal-error"),p.open({where:document.body,url:$(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S,dontclear:!0},E=>new Promise(function(){var k=(0,o.Z)(function*(L,ue){yield E.restyle({setHideOnLeave:!1});const De=Se(w,"network-request-failed"),tt=wi().setTimeout(()=>{ue(De)},Bo.get());function dt(){wi().clearTimeout(tt),L(E)}E.ping(dt).then(dt,()=>{ue(De)})});return function(L,ue){return k.apply(this,arguments)}}()))}),he.apply(this,arguments)}const ke={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},et=500,it=600,Ct="_blank",Ut="http://localhost";class bt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wc="__/auth/handler",ru="emulator/auth/handler",ga=encodeURIComponent("fac");function Gr(w,p,v,E,k,L){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(w,p,v,E,k,L){be(w.config.authDomain,w,"auth-domain-config-required"),be(w.config.apiKey,w,"invalid-api-key");const ue={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:E,v:O.SDK_VERSION,eventId:k};if(p instanceof So){p.setDefaultLanguage(w.languageCode),ue.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(ue.customParameters=JSON.stringify(p.getCustomParameters()));for(const[St,dn]of Object.entries(L||{}))ue[St]=dn}if(p instanceof Va){const St=p.getScopes().filter(dn=>""!==dn);St.length>0&&(ue.scopes=St.join(","))}w.tenantId&&(ue.tid=w.tenantId);const De=ue;for(const St of Object.keys(De))void 0===De[St]&&delete De[St];const tt=yield w._getAppCheckToken(),dt=tt?`#${ga}=${encodeURIComponent(tt)}`:"";return`${function su({config:w}){return w.emulator?Ar(w,ru):`https://${w.authDomain}/${Wc}`}(w)}?${(0,V.xO)(De).slice(1)}${dt}`})).apply(this,arguments)}const qc="webStorageSupport",$m=class Uy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Or,this._completeRedirectFn=Gc,this._overrideRedirectResult=Lm}_openPopup(p,v,E,k){var L=this;return(0,o.Z)(function*(){var ue;Tt(null===(ue=L.eventManagers[p._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const De=yield Gr(p,v,E,mt(),k);return function dr(w,p,v,E=et,k=it){const L=Math.max((window.screen.availHeight-k)/2,0).toString(),ue=Math.max((window.screen.availWidth-E)/2,0).toString();let De="";const tt=Object.assign(Object.assign({},ke),{width:E.toString(),height:k.toString(),top:L,left:ue}),dt=(0,V.z$)().toLowerCase();v&&(De=P(dt)?Ct:v),B(dt)&&(p=p||Ut,tt.scrollbars="yes");const St=Object.entries(tt).reduce((es,[va,$r])=>`${es}${va}=${$r},`,"");if(function Ft(w=(0,V.z$)()){var p;return At(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(dt)&&"_self"!==De)return function Xi(w,p){const v=document.createElement("a");v.href=w,v.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(p||"",De),new bt(null);const dn=window.open(p||"",De,St);be(dn,w,"popup-blocked");try{dn.focus()}catch{}return new bt(dn)}(p,De,zs())})()}_openRedirect(p,v,E,k){var L=this;return(0,o.Z)(function*(){return yield L._originValidation(p),function Oo(w){wi().location.href=w}(yield Gr(p,v,E,mt(),k)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:k,promise:L}=this.eventManagers[v];return k?Promise.resolve(k):(Tt(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(p);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(p){var v=this;return(0,o.Z)(function*(){const E=yield function se(w){return he.apply(this,arguments)}(p),k=new Zg(p);return E.register("authEvent",L=>(be(L?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:k},v.iframes[p._key()]=E,k})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(qc,{type:qc},k=>{var L;const ue=null===(L=k?.[0])||void 0===L?void 0:L[qc];void 0!==ue&&v(!!ue),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ph(w){return Is.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return Yt()||U()||At()}};class Wm{constructor(p){this.factorId=p}_process(p,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,E);case"signin":return this._finalizeSignIn(p,v.credential);default:return ot("unexpected MultiFactorSessionType")}}}class ql extends Wm{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ql(p)}_finalizeEnroll(p,v,E){return function qa(w,p){return ge(w,"POST","/v2/accounts/mfaEnrollment:finalize",de(w,p))}(p,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function ca(w,p){return ge(w,"POST","/v2/accounts/mfaSignIn:finalize",de(w,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lh=(()=>{class w{constructor(){}static assertion(v){return ql._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var $s="@firebase/auth";class _a{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,o.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Yc(w){(0,O._registerComponent)(new j.wA("auth",(p,{options:v})=>{const E=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),L=p.getProvider("app-check-internal"),{apiKey:ue,authDomain:De}=E.options;be(ue&&!ue.includes(":"),"invalid-api-key",{appName:E.name});const tt={apiKey:ue,authDomain:De,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(w)},dt=new $n(E,k,L,tt);return function Bs(w,p){const v=p?.persistence||[],E=(Array.isArray(v)?v:[v]).map(oi);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(E,p?.popupRedirectResolver)}(dt,v),dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,E)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new j.wA("auth-internal",p=>{const v=In(p.getProvider("auth").getImmediate());return new _a(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)($s,"0.23.2",function Km(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,O.registerVersion)($s,"0.23.2","esm2017")}("Browser")},2090:(le,Z,T)=>{T.d(Z,{$s:()=>oi,BH:()=>Ue,DV:()=>Nn,Dv:()=>Yn,G6:()=>Ar,GJ:()=>ii,L:()=>ee,LL:()=>Te,Pz:()=>Se,Sg:()=>Ke,UG:()=>ot,UI:()=>gn,US:()=>j,Wj:()=>hi,Wl:()=>qt,Yr:()=>sr,ZB:()=>Q,ZR:()=>ge,aH:()=>Ae,b$:()=>Xt,cI:()=>at,dS:()=>kr,eu:()=>cs,g5:()=>O,gK:()=>Vi,gQ:()=>_n,h$:()=>re,hl:()=>Vr,hu:()=>V,jU:()=>Tt,lb:()=>en,m9:()=>yr,ne:()=>Jt,p$:()=>q,pd:()=>or,r3:()=>an,ru:()=>mt,tV:()=>W,uI:()=>be,ug:()=>ln,vZ:()=>ct,w1:()=>Xr,w9:()=>kn,xO:()=>ri,xb:()=>pi,z$:()=>qe,zI:()=>me,zd:()=>ui});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(ie,X){if(!ie)throw O(X)},O=function(ie){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ie)},J=function(ie){const X=[];let B=0;for(let U=0;U<ie.length;U++){let P=ie.charCodeAt(U);P<128?X[B++]=P:P<2048?(X[B++]=P>>6|192,X[B++]=63&P|128):55296==(64512&P)&&U+1<ie.length&&56320==(64512&ie.charCodeAt(U+1))?(P=65536+((1023&P)<<10)+(1023&ie.charCodeAt(++U)),X[B++]=P>>18|240,X[B++]=P>>12&63|128,X[B++]=P>>6&63|128,X[B++]=63&P|128):(X[B++]=P>>12|224,X[B++]=P>>6&63|128,X[B++]=63&P|128)}return X},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,X){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let P=0;P<ie.length;P+=3){const oe=ie[P],Be=P+1<ie.length,ut=Be?ie[P+1]:0,Ot=P+2<ie.length,At=Ot?ie[P+2]:0;let Bn=(15&ut)<<2|At>>6,Yt=63&At;Ot||(Yt=64,Be||(Bn=64)),U.push(B[oe>>2],B[(3&oe)<<4|ut>>4],B[Bn],B[Yt])}return U.join("")},encodeString(ie,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ie):this.encodeByteArray(J(ie),X)},decodeString(ie,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ie):function(ie){const X=[];let B=0,U=0;for(;B<ie.length;){const P=ie[B++];if(P<128)X[U++]=String.fromCharCode(P);else if(P>191&&P<224){const oe=ie[B++];X[U++]=String.fromCharCode((31&P)<<6|63&oe)}else if(P>239&&P<365){const Ot=((7&P)<<18|(63&ie[B++])<<12|(63&ie[B++])<<6|63&ie[B++])-65536;X[U++]=String.fromCharCode(55296+(Ot>>10)),X[U++]=String.fromCharCode(56320+(1023&Ot))}else{const oe=ie[B++],Be=ie[B++];X[U++]=String.fromCharCode((15&P)<<12|(63&oe)<<6|63&Be)}}return X.join("")}(this.decodeStringToByteArray(ie,X))},decodeStringToByteArray(ie,X){this.init_();const B=X?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let P=0;P<ie.length;){const oe=B[ie.charAt(P++)],ut=P<ie.length?B[ie.charAt(P)]:0;++P;const At=P<ie.length?B[ie.charAt(P)]:64;++P;const Ft=P<ie.length?B[ie.charAt(P)]:64;if(++P,null==oe||null==ut||null==At||null==Ft)throw new ne;U.push(oe<<2|ut>>4),64!==At&&(U.push(ut<<4&240|At>>2),64!==Ft&&U.push(At<<6&192|Ft))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const re=function(ie){const X=J(ie);return j.encodeByteArray(X,!0)},ee=function(ie){return re(ie).replace(/\./g,"")},W=function(ie){try{return j.decodeString(ie,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function q(ie){return Q(void 0,ie)}function Q(ie,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return X}for(const B in X)!X.hasOwnProperty(B)||!ye(B)||(ie[B]=Q(ie[B],X[B]));return ie}function ye(ie){return"__proto__"!==ie}const Ie=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=ie&&W(ie[1]);return X&&JSON.parse(X)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},Ae=()=>{var ie;return null===(ie=Ie())||void 0===ie?void 0:ie.config},Se=ie=>{var X;return null===(X=Ie())||void 0===X?void 0:X[`_${ie}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,B)=>{this.resolve=X,this.reject=B})}wrapCallback(X){return(B,U)=>{B?this.reject(B):this.resolve(U),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(B):X(B,U))}}}function Ke(ie,X){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=X||"demo-project",P=ie.iat||0,oe=ie.sub||ie.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:P,exp:P+3600,auth_time:P,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Be)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function ot(){var ie;const X=null===(ie=Ie())||void 0===ie?void 0:ie.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tt(){return"object"==typeof self&&self.self===self}function mt(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xr(){const ie=qe();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function sr(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function Ar(){return!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vr(){try{return"object"==typeof indexedDB}catch{return!1}}function cs(){return new Promise((ie,X)=>{try{let B=!0;const U="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(U);P.onsuccess=()=>{P.result.close(),B||self.indexedDB.deleteDatabase(U),ie(!0)},P.onupgradeneeded=()=>{B=!1},P.onerror=()=>{var oe;X((null===(oe=P.error)||void 0===oe?void 0:oe.message)||"")}}catch(B){X(B)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ge extends Error{constructor(X,B,U){super(B),this.code=X,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(X,B,U){this.service=X,this.serviceName=B,this.errors=U}create(X,...B){const U=B[0]||{},P=`${this.service}/${X}`,oe=this.errors[X],Be=oe?function ze(ie,X){return ie.replace(Le,(B,U)=>{const P=X[U];return null!=P?String(P):`<${U}?>`})}(oe,U):"Error";return new ge(P,`${this.serviceName}: ${Be} (${P}).`,U)}}const Le=/\{\$([^}]+)}/g;function at(ie){return JSON.parse(ie)}function qt(ie){return JSON.stringify(ie)}const vn=function(ie){let X={},B={},U={},P="";try{const oe=ie.split(".");X=at(W(oe[0])||""),B=at(W(oe[1])||""),P=oe[2],U=B.d||{},delete B.d}catch{}return{header:X,claims:B,data:U,signature:P}},kn=function(ie){const B=vn(ie).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},ii=function(ie){const X=vn(ie).claims;return"object"==typeof X&&!0===X.admin};function an(ie,X){return Object.prototype.hasOwnProperty.call(ie,X)}function Nn(ie,X){if(Object.prototype.hasOwnProperty.call(ie,X))return ie[X]}function pi(ie){for(const X in ie)if(Object.prototype.hasOwnProperty.call(ie,X))return!1;return!0}function gn(ie,X,B){const U={};for(const P in ie)Object.prototype.hasOwnProperty.call(ie,P)&&(U[P]=X.call(B,ie[P],P,ie));return U}function ct(ie,X){if(ie===X)return!0;const B=Object.keys(ie),U=Object.keys(X);for(const P of B){if(!U.includes(P))return!1;const oe=ie[P],Be=X[P];if(Kn(oe)&&Kn(Be)){if(!ct(oe,Be))return!1}else if(oe!==Be)return!1}for(const P of U)if(!B.includes(P))return!1;return!0}function Kn(ie){return null!==ie&&"object"==typeof ie}function ri(ie){const X=[];for(const[B,U]of Object.entries(ie))Array.isArray(U)?U.forEach(P=>{X.push(encodeURIComponent(B)+"="+encodeURIComponent(P))}):X.push(encodeURIComponent(B)+"="+encodeURIComponent(U));return X.length?"&"+X.join("&"):""}function ui(ie){const X={};return ie.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[P,oe]=U.split("=");X[decodeURIComponent(P)]=decodeURIComponent(oe)}}),X}function or(ie){const X=ie.indexOf("?");if(!X)return"";const B=ie.indexOf("#",X);return ie.substring(X,B>0?B:void 0)}class _n{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(X,B){B||(B=0);const U=this.W_;if("string"==typeof X)for(let Ft=0;Ft<16;Ft++)U[Ft]=X.charCodeAt(B)<<24|X.charCodeAt(B+1)<<16|X.charCodeAt(B+2)<<8|X.charCodeAt(B+3),B+=4;else for(let Ft=0;Ft<16;Ft++)U[Ft]=X[B]<<24|X[B+1]<<16|X[B+2]<<8|X[B+3],B+=4;for(let Ft=16;Ft<80;Ft++){const Bn=U[Ft-3]^U[Ft-8]^U[Ft-14]^U[Ft-16];U[Ft]=4294967295&(Bn<<1|Bn>>>31)}let At,sn,P=this.chain_[0],oe=this.chain_[1],Be=this.chain_[2],ut=this.chain_[3],Ot=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(At=ut^oe&(Be^ut),sn=1518500249):(At=oe^Be^ut,sn=1859775393):Ft<60?(At=oe&Be|ut&(oe|Be),sn=2400959708):(At=oe^Be^ut,sn=3395469782);const Bn=(P<<5|P>>>27)+At+Ot+sn+U[Ft]&4294967295;Ot=ut,ut=Be,Be=4294967295&(oe<<30|oe>>>2),oe=P,P=Bn}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+oe&4294967295,this.chain_[2]=this.chain_[2]+Be&4294967295,this.chain_[3]=this.chain_[3]+ut&4294967295,this.chain_[4]=this.chain_[4]+Ot&4294967295}update(X,B){if(null==X)return;void 0===B&&(B=X.length);const U=B-this.blockSize;let P=0;const oe=this.buf_;let Be=this.inbuf_;for(;P<B;){if(0===Be)for(;P<=U;)this.compress_(X,P),P+=this.blockSize;if("string"==typeof X){for(;P<B;)if(oe[Be]=X.charCodeAt(P),++Be,++P,Be===this.blockSize){this.compress_(oe),Be=0;break}}else for(;P<B;)if(oe[Be]=X[P],++Be,++P,Be===this.blockSize){this.compress_(oe),Be=0;break}}this.inbuf_=Be,this.total_+=B}digest(){const X=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&B,B/=256;this.compress_(this.buf_);let U=0;for(let P=0;P<5;P++)for(let oe=24;oe>=0;oe-=8)X[U]=this.chain_[P]>>oe&255,++U;return X}}function Jt(ie,X){const B=new wt(ie,X);return B.subscribe.bind(B)}class wt{constructor(X,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{X(this)}).catch(U=>{this.error(U)})}next(X){this.forEachObserver(B=>{B.next(X)})}error(X){this.forEachObserver(B=>{B.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,B,U){let P;if(void 0===X&&void 0===B&&void 0===U)throw new Error("Missing Observer.");P=function jn(ie,X){if("object"!=typeof ie||null===ie)return!1;for(const B of X)if(B in ie&&"function"==typeof ie[B])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:B,complete:U},void 0===P.next&&(P.next=Bi),void 0===P.error&&(P.error=Bi),void 0===P.complete&&(P.complete=Bi);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),oe}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,X)}sendOne(X,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{B(this.observers[X])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bi(){}const Yn=function(ie,X,B,U){let P;if(U<X?P="at least "+X:U>B&&(P=0===B?"none":"no more than "+B),P)throw new Error(ie+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+P+".")};function Vi(ie,X){return`${ie} failed: ${X} argument `}function hi(ie,X,B,U){if((!U||B)&&"function"!=typeof B)throw new Error(Vi(ie,X)+"must be a valid function.")}function en(ie,X,B,U){if((!U||B)&&("object"!=typeof B||null===B))throw new Error(Vi(ie,X)+"must be a valid context object.")}const kr=function(ie){const X=[];let B=0;for(let U=0;U<ie.length;U++){let P=ie.charCodeAt(U);if(P>=55296&&P<=56319){const oe=P-55296;U++,V(U<ie.length,"Surrogate pair missing trail surrogate."),P=65536+(oe<<10)+(ie.charCodeAt(U)-56320)}P<128?X[B++]=P:P<2048?(X[B++]=P>>6|192,X[B++]=63&P|128):P<65536?(X[B++]=P>>12|224,X[B++]=P>>6&63|128,X[B++]=63&P|128):(X[B++]=P>>18|240,X[B++]=P>>12&63|128,X[B++]=P>>6&63|128,X[B++]=63&P|128)}return X},ln=function(ie){let X=0;for(let B=0;B<ie.length;B++){const U=ie.charCodeAt(B);U<128?X++:U<2048?X+=2:U>=55296&&U<=56319?(X+=4,B++):X+=3}return X},Kt=1e3,si=2,Gn=144e5,gi=.5;function oi(ie,X=Kt,B=si){const U=X*Math.pow(B,ie),P=Math.round(gi*U*(Math.random()-.5)*2);return Math.min(Gn,U+P)}function yr(ie){return ie&&ie._delegate?ie._delegate:ie}},5460:(le,Z,T)=>{var o=T(4650);let V=null;function O(){return V}class G{}const j=new o.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function re(){return(0,o.LFG)(W)}()},providedIn:"platform"}),n})();const ee=new o.OlP("Location Initialized");let W=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){q()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){q()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Q(){return new W((0,o.LFG)(j))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ye(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ie)},providedIn:"root"}),n})();const ve=new o.OlP("appBaseHref");let Ie=(()=>{class n extends We{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ye(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+Ve(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+Ve(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ne),o.LFG(ve,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ne=(()=>{class n extends We{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ye(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+Ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+Ve(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ne),o.LFG(ve,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ke(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(Ue(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ve(i))}normalize(t){return n.stripTrailingSlash(function Se(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=ye,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(o.LFG(We))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new Re((0,o.LFG)(We))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}const Ti=/\s+/,lt=[];let Zt=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=lt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ti):lt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ti):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ti).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _i{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _i(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,l),Jn(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Jn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Jn(n,e){n.context.$implicit=e.item}let Mi=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function Xo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class br{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Vs=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ds=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new br(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Vs,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fi=(()=>{class n{constructor(t,i,r){r._addDefault(new br(t,i))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Vs,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),xe=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})(),Ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const xm="browser",Ba="server";function Va(n){return n===Ba}let yc=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Cm((0,o.LFG)(j),window)}),n})();class Cm{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Td(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _h extends G{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ac extends _h{static makeCurrent(){!function J(n){V||(V=n)}(new Ac)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pl(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}();return null==t?null:function qg(n){co=co||document.createElement("a"),co.setAttribute("href",n);const e=co.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Cs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let co,Wa=null;const Tm=new o.OlP("TRANSITION_ID"),vh=[{provide:o.ip1,useFactory:function kc(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Tm,j,o.zs3],multi:!0}];let Bd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Nl=new o.OlP("EventManagerPlugins");let Rc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Nl),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let yh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ro=(()=>{class n extends yh{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ka=/%COMP%/g,Bl=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Oc(n,e){return e.flat(100).map(t=>t.replace(Ka,n))}function Hd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Or=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new bh(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof Pc?r.applyToHost(t):r instanceof Oo&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(i.encapsulation){case o.ifc.Emulated:s=new Pc(l,u,i,this.appId,m);break;case o.ifc.ShadowDom:return new wi(l,u,t,i);default:s=new Oo(l,u,i,m)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Rc),o.LFG(Ro),o.LFG(o.AFp),o.LFG(Bl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class bh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ra[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(wh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ra[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ra[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hd(i)):this.eventManager.addEventListener(e,t,Hd(i))}}function wh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wi extends bh{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Oc(r.id,r.styles);for(const l of s){const u=document.createElement("style");u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oo extends bh{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Oc(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Pc extends Oo{constructor(e,t,i,r,s){const l=r+"-"+i.id;super(e,t,i,s,l),this.contentAttr=function Mm(n){return"_ngcontent-%COMP%".replace(Ka,n)}(l),this.hostAttr=function Ud(n){return"_nghost-%COMP%".replace(Ka,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let xh=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=["alt","control","meta","shift"],Eh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ji=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Vl.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),l+=_+".")}),l+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(t,i){let r=Eh[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Vl.forEach(l=>{l!==r&&(0,Nc[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const km=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:xm},{provide:o.g9A,useValue:function Qa(){Ac.makeCurrent()},multi:!0},{provide:j,useFactory:function Gd(){return(0,o.RDi)(document),document},deps:[]}]),oa=new o.OlP(""),Ul=[{provide:o.rWj,useClass:class uo{addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const u=function(m){l=l||m,s--,0==s&&i(l)};r.forEach(function(m){m.whenStable(u)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],aa=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function zd(){return new o.qLn},deps:[]},{provide:Nl,useClass:xh,multi:!0,deps:[j,o.R0b,o.Lbi]},{provide:Nl,useClass:ji,multi:!0,deps:[j]},{provide:Or,useClass:Or,deps:[Rc,Ro,o.AFp,Bl]},{provide:o.FYo,useExisting:Or},{provide:yh,useExisting:Ro},{provide:Ro,useClass:Ro,deps:[j]},{provide:Rc,useClass:Rc,deps:[Nl,o.R0b]},{provide:class Im{},useClass:Bd,deps:[]},[]];let la=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Tm,useExisting:o.AFp},vh]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(oa,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...aa,...Ul],imports:[Ai,o.hGG]}),n})(),Rm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ca(){return new Rm((0,o.LFG)(j))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ja=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):o.LFG(Uc),i},providedIn:"root"}),n})(),Uc=(()=>{class n extends Ja{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${o.JZr})`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function jl(n){return new Uc(n.get(j))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();class Lo{}class el{}const xr="*";function fs(n,e){return{type:7,name:n,definitions:e,options:{}}}function xi(n,e=null){return{type:4,styles:e,timings:n}}function Qd(n,e=null){return{type:2,steps:n,options:e}}function Wn(n){return{type:6,styles:n,offset:null}}function zr(n,e,t){return{type:0,name:n,styles:e,options:t}}function ti(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Xd(n=null){return{type:9,options:n}}function Th(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Hc(n){Promise.resolve().then(n)}class nl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ms{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Hc(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Gl="!";function il(n){return new o.vHH(3e3,!1)}function Wl(){return typeof window<"u"&&typeof window.document<"u"}function iu(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bo(n){switch(n.length){case 0:return new nl;case 1:return n[0];default:return new ms(n)}}function Fh(n,e,t,i,r=new Map,s=new Map){const l=[],u=[];let m=-1,_=null;if(i.forEach(b=>{const I=b.get("offset"),A=I==m,F=A&&_||new Map;b.forEach((z,te)=>{let ae=te,je=z;if("offset"!==te)switch(ae=e.normalizePropertyName(ae,l),je){case Gl:je=r.get(te);break;case xr:je=s.get(te);break;default:je=e.normalizeStyleValue(te,ae,je,l)}F.set(ae,je)}),A||u.push(F),_=F,m=I}),l.length)throw function tu(n){return new o.vHH(3502,!1)}();return u}function x(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&S(t,"start",n)));break;case"done":n.onDone(()=>i(t&&S(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&S(t,"destroy",n)))}}function S(n,e,t){const s=R(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function R(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function $(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function se(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let he=(n,e)=>!1,ke=(n,e,t)=>[],et=null;function it(n){const e=n.parentNode||n.host;return e===et?null:e}(iu()||typeof Element<"u")&&(Wl()?(et=(()=>document.documentElement)(),he=(n,e)=>{for(;e;){if(e===n)return!0;e=it(e)}return!1}):he=(n,e)=>n.contains(e),ke=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let bt=null,dr=!1;const ga=he,Gr=ke;let su=(()=>{class n{validateStyleProperty(t){return function Xi(n){bt||(bt=function ru(){return typeof document<"u"?document.body:null}()||{},dr=!!bt.style&&"WebkitAppearance"in bt.style);let e=!0;return bt.style&&!function Ut(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bt.style,!e&&dr&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bt.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return ga(t,i)}getParentElement(t){return it(t)}query(t,i,r){return Gr(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,u=[],m){return new nl(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qc=(()=>{class n{}return n.NOOP=new su,n})();const Uy=1e3,ql="ng-enter",Lh="ng-leave",Kl="ng-trigger",Kc=".ng-trigger",qm="ng-animating",ol=".ng-animating";function $s(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ou(parseFloat(e[1]),e[2])}function ou(n,e){return"s"===e?n*Uy:n}function _a(n,e,t){return n.hasOwnProperty("duration")?n:function Km(n,e,t){let r,s=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(il()),{duration:0,delay:0,easing:""};r=ou(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(s=ou(parseFloat(m),u[4]));const _=u[5];_&&(l=_)}else r=n;if(!t){let u=!1,m=e.length;r<0&&(e.push(function Mh(){return new o.vHH(3100,!1)}()),u=!0),s<0&&(e.push(function ha(){return new o.vHH(3101,!1)}()),u=!0),u&&e.splice(m,0,il())}return{duration:r,delay:s,easing:l}}(n,e,t)}function Yc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Jg(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function al(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Hy(n,e,t){return t?e+":"+t+";":""}function w(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Hy(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Hy(0,dn(t),n.style[t]));n.setAttribute("style",e)}function p(n,e,t){n.style&&(e.forEach((i,r)=>{const s=St(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),iu()&&w(n))}function v(n,e){n.style&&(e.forEach((t,i)=>{const r=St(i);n.style[r]=""}),iu()&&w(n))}function E(n){return Array.isArray(n)?1==n.length?n[0]:Qd(n):n}const L=new RegExp("{{\\s*(.+?)\\s*}}","g");function ue(n){let e=[];if("string"==typeof n){let t;for(;t=L.exec(n);)e.push(t[1]);L.lastIndex=0}return e}function De(n,e,t){const i=n.toString(),r=i.replace(L,(s,l)=>{let u=e[l];return null==u&&(t.push(function Lm(n){return new o.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function tt(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dt=/-+([a-z0-9])/g;function St(n){return n.replace(dt,(...e)=>e[1].toUpperCase())}function dn(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $r(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Bm(n){return new o.vHH(3004,!1)}()}}function e_(n,e){return window.getComputedStyle(n)[e]}const ll="*";function Vh(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Uh(n,e,t){if(":"==n[0]){const m=function tp(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function $c(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function $l(n){return new o.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(zh(r,l));"<"==s[0]&&!(r==ll&&l==ll)&&e.push(zh(l,r))}(i,t,e)):t.push(n),t}const Hh=new Set(["true","1"]),jh=new Set(["false","0"]);function zh(n,e){const t=Hh.has(n)||jh.has(n),i=Hh.has(e)||jh.has(e);return(r,s)=>{let l=n==ll||n==r,u=e==ll||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?Hh.has(n):jh.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?Hh.has(e):jh.has(e)),l&&u}}const Kx=new RegExp("s*:selfs*,?","g");function jy(n,e,t,i){return new bM(n).build(e,t,i)}class bM{constructor(e){this._driver=e}build(e,t,i){const r=new t_(t);return this._resetContextStyleTimingState(r),$r(this,E(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function kh(){return new o.vHH(3006,!1)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const m=u,_=m.name;_.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,s.push(this.visitState(m,t))}),m.name=_}else if(1==u.type){const m=this.visitTransition(u,t);i+=m.queryCount,r+=m.depCount,l.push(m)}else t.errors.push(function Vm(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{ue(m).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(tt(s.values()),t.errors.push(function Jd(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=$r(this,E(e.animation),t);return{type:1,matchers:Vh(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:lu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>$r(this,i,t)),options:lu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const u=$r(this,l,t);return r=Math.max(r,t.currentTime),u});return t.currentTime=r,{type:3,steps:s,options:lu(e.options)}}visitAnimate(e,t){const i=function Gh(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Gy(_a(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Gy(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=_a(t,e);return Gy(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Wn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,u=!1;if(!l){u=!0;const _={};i.easing&&(_.easing=i.easing),l=Wn(_)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,t);m.isEmptyStep=u,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let u of r)"string"==typeof u?u===xr?i.push(u):t.errors.push(new o.vHH(3002,!1)):i.push(Jg(u));let s=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!s))for(let m of u.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,m)=>{const _=t.collectedStyles.get(t.currentQuerySelector),b=_.get(m);let I=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function rl(n,e,t,i,r){return new o.vHH(3010,!1)}()),I=!1),s=b.startTime),I&&_.set(m,{startTime:s,endTime:r}),t.options&&function k(n,e,t){const i=e.params||{},r=ue(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function jc(n){return new o.vHH(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function eu(){return new o.vHH(3011,!1)}()),i;let s=0;const l=[];let u=!1,m=!1,_=0;const b=e.steps.map(je=>{const Qe=this._makeStyleAst(je,t);let Je=null!=Qe.offset?Qe.offset:function zy(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Qe.styles),st=0;return null!=Je&&(s++,st=Qe.offset=Je),m=m||st<0||st>1,u=u||st<_,_=st,l.push(st),Qe});m&&t.errors.push(function Hm(){return new o.vHH(3012,!1)}()),u&&t.errors.push(function zc(){return new o.vHH(3200,!1)}());const I=e.steps.length;let A=0;s>0&&s<I?t.errors.push(function Rh(){return new o.vHH(3202,!1)}()):0==s&&(A=1/(I-1));const F=I-1,z=t.currentTime,te=t.currentAnimateTimings,ae=te.duration;return b.forEach((je,Qe)=>{const Je=A>0?Qe==F?1:A*Qe:l[Qe],st=Je*ae;t.currentTime=z+te.delay+st,te.duration=st,this._validateStyleAst(je,t),je.offset=Je,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:$r(this,E(e.animation),t),options:lu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:lu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:lu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function Zx(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Kx,"")),n=n.replace(/@\*/g,Kc).replace(/@\w+/g,t=>Kc+"-"+t.slice(1)).replace(/:animating/g,ol),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,$(t.collectedStyles,t.currentQuerySelector,new Map);const u=$r(this,E(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:e.selector,options:lu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sl(){return new o.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_a(e.timings,t.errors,!0);return{type:12,animation:$r(this,E(e.animation),t),timings:i,options:null}}}class t_{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lu(n){return n?(n=Yc(n)).params&&(n.params=function Qx(n){return n?Yc(n):null}(n.params)):n={},n}function Gy(n,e,t){return{duration:n,delay:e,easing:t}}function Xx(n,e,t,i,r,s,l=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:u}}class n_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Jx=new RegExp(":enter","g"),Wy=new RegExp(":leave","g");function r_(n,e,t,i,r,s=new Map,l=new Map,u,m,_=[]){return(new eE).buildKeyframes(n,e,t,i,r,s,l,u,m,_)}class eE{buildKeyframes(e,t,i,r,s,l,u,m,_,b=[]){_=_||new n_;const I=new Yl(e,t,_,r,s,b,[]);I.options=m;const A=m.delay?$s(m.delay):0;I.currentTimeline.delayNextStep(A),I.currentTimeline.setStyles([l],null,I.errors,m),$r(this,i,I);const F=I.timelines.filter(z=>z.containsAnimation());if(F.length&&u.size){let z;for(let te=F.length-1;te>=0;te--){const ae=F[te];if(ae.element===t){z=ae;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([u],null,I.errors,m)}return F.length?F.map(z=>z.buildKeyframes()):[Xx(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:$s(De(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?$s(i.duration):null,u=null!=i.delay?$s(i.delay):null;return 0!==l&&e.forEach(m=>{const _=t.appendInstructionToTimeline(m,l,u);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),$r(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=np);const l=$s(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>$r(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?$s(e.options.delay):0;e.steps.forEach(l=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),$r(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _a(t.params?De(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(m=>{u.forwardTime((m.offset||0)*s),u.setStyles(m.styles,m.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?$s(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=np);let l=i;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=u.length;let m=null;u.forEach((_,b)=>{t.currentQueryIndex=b;const I=t.createSubContext(e.options,_);s&&I.delayNextStep(s),_===t.element&&(m=I.currentTimeline),$r(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),u=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=u-m;break;case"full":m=i.currentStaggerTime}const b=t.currentTimeline;m&&b.delayNextStep(m);const I=b.currentTime;$r(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const np={};class Yl{constructor(e,t,i,r,s,l,u,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=np,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new s_(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=$s(i.duration)),null!=i.delay&&(r.delay=$s(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!l.hasOwnProperty(u))&&(l[u]=De(s[u],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Yl(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=np,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new xM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let u=[];if(r&&u.push(this.element),e.length>0){e=(e=e.replace(Jx,"."+this._enterClassName)).replace(Wy,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),u.push(..._)}return!s&&0==u.length&&l.push(function Gc(n){return new o.vHH(3014,!1)}()),u}}class s_{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new s_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||xr),this._currentKeyframe.set(t,xr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function EM(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,xr)}else al(r,t)}),t}(e,this._globalTimelineStyles);for(let[u,m]of l){const _=De(m,s,i);this._pendingStyles.set(u,_),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??xr),this._updateStyle(u,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,m)=>{const _=al(u,new Map,this._backFill);_.forEach((b,I)=>{b===Gl?e.add(I):b===xr&&t.add(I)}),i||_.set("offset",m/this.duration),r.push(_)});const s=e.size?tt(e.values()):[],l=t.size?tt(t.values()):[];if(i){const u=r[0],m=new Map(u);u.set("offset",0),m.set("offset",1),r=[u,m]}return Xx(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class xM extends s_{constructor(e,t,i,r,s,l,u=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,u=t/l,m=al(e[0]);m.set("offset",0),s.push(m);const _=al(e[0]);_.set("offset",tE(u)),s.push(_);const b=e.length-1;for(let I=1;I<=b;I++){let A=al(e[I]);const F=A.get("offset");A.set("offset",tE((t+F*i)/l)),s.push(A)}i=l,t=0,r="",e=s}return Xx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function tE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ba{}const CM=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class IM extends ba{normalizePropertyName(e,t){return St(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(CM.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Ah(n,e){return new o.vHH(3005,!1)}())}return l+s}}function nE(n,e,t,i,r,s,l,u,m,_,b,I,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:u,queriedElements:m,preStyleProps:_,postStyleProps:b,totalTime:I,errors:A}}const qy={};class iE{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function rE(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,u,m,_,b){const I=[],A=this.ast.options&&this.ast.options.params||qy,z=this.buildStyles(i,u&&u.params||qy,I),te=m&&m.params||qy,ae=this.buildStyles(r,te,I),je=new Set,Qe=new Map,Je=new Map,st="void"===r,Lt={params:DM(te,A),delay:this.ast.options?.delay},$t=b?[]:r_(e,t,this.ast.animation,s,l,z,ae,Lt,_,I);let Pn=0;if($t.forEach(no=>{Pn=Math.max(no.duration+no.delay,Pn)}),I.length)return nE(t,this._triggerName,i,r,st,z,ae,[],[],Qe,Je,Pn,I);$t.forEach(no=>{const Ku=no.element,p5=$(Qe,Ku,new Set);no.preStyleProps.forEach(Bg=>p5.add(Bg));const Wx=$(Je,Ku,new Set);no.postStyleProps.forEach(Bg=>Wx.add(Bg)),Ku!==t&&je.add(Ku)});const pr=tt(je.values());return nE(t,this._triggerName,i,r,st,z,ae,$t,pr,Qe,Je,Pn)}}function DM(n,e){const t=Yc(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class SM{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Yc(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,u)=>{l&&(l=De(l,r,t));const m=this.normalizer.normalizePropertyName(u,t);l=this.normalizer.normalizeStyleValue(u,m,l,t),i.set(u,l)})}),i}}class MM{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new SM(r.style,r.options&&r.options.params||{},i))}),cl(this.states,"true","1"),cl(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new iE(e,r,this.states))}),this.fallbackTransition=function o_(n,e,t){return new iE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function cl(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rp=new n_;class sE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=jy(this._driver,t,i,r);if(i.length)throw function Qg(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=Fh(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const u=new Map;if(s?(l=r_(this._driver,t,s,ql,Lh,new Map,new Map,i,rp,r),l.forEach(b=>{const I=$(u,b.element,new Map);b.postStyleProps.forEach(A=>I.set(A,null))})):(r.push(function Xg(){return new o.vHH(3300,!1)}()),l=[]),r.length)throw function jm(n){return new o.vHH(3504,!1)}();u.forEach((b,I)=>{b.forEach((A,F)=>{b.set(F,this._driver.computeStyle(I,F,xr))})});const _=Bo(l.map(b=>{const I=u.get(b.element);return this._buildPlayer(b,new Map,I)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ma(n){return new o.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=R(t,"","","");return x(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ky="ng-animate-queued",aE="ng-animate-disabled",Zy=[],AM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fo="__ng_removed";class Qy{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Jy(n){return n??null}(i?e.value:e),i){const s=Yc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const sp="void",Xy=new Qy(sp);class kM{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function zm(n,e){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function Gm(n){return new o.vHH(3303,!1)}();if(!function ur(n){return"start"==n||"done"==n}(i))throw function Ph(n,e){return new o.vHH(3400,!1)}();const s=$(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const u=$(this._engine.statesByElement,e,new Map);return u.has(t)||(mo(e,Kl),mo(e,Kl+"-"+t),u.set(t,Xy)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers.has(t)||u.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Is(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new $h(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(mo(e,Kl),mo(e,Kl+"-"+t),this._engine.statesByElement.set(e,u=new Map));let m=u.get(t);const _=new Qy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),u.set(t,_),m||(m=Xy),_.value!==sp&&m.value===_.value){if(!function fE(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,_.params)){const te=[],ae=s.matchStyles(m.value,m.params,te),je=s.matchStyles(_.value,_.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{v(e,ae),p(e,je)})}return}const A=$(this._engine.playersByElement,e,[]);A.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let F=s.matchTransition(m.value,_.value,e,_.params),z=!1;if(!F){if(!r)return;F=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:m,toState:_,player:l,isFallbackTransition:z}),z||(mo(e,Ky),l.onStart(()=>{Wh(e,Ky)})),l.onDone(()=>{let te=this.players.indexOf(l);te>=0&&this.players.splice(te,1);const ae=this._engine.playersByElement.get(e);if(ae){let je=ae.indexOf(l);je>=0&&ae.splice(je,1)}}),this.players.push(l),A.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Kc,!0);i.forEach(r=>{if(r[fo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const u=[];if(s.forEach((m,_)=>{if(l.set(_,m.value),this._triggers.has(_)){const b=this.trigger(e,_,sp,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Bo(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,_=i.get(l)||Xy,b=new Qy(sp),I=new $h(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:_,toState:b,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[fo];(!s||s===AM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){mo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(u=>{if(u.name==i.triggerName){const m=R(s,i.triggerName,i.fromState.value,i.toState.value);m._data=e,x(i.player,u.phase,m,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class lE{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(t);for(;u;){const m=r.get(u);if(m){const _=i.indexOf(m);i.splice(_+1,0,e),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(a_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!a_(t))return;const s=t[fo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mo(e,aE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wh(e,aE))}removeNode(e,t,i,r){if(a_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[fo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return a_(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Kc,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ol,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fo];if(t&&t.setForRemoval){if(e[fo]=AM,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)mo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Bo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Nh(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new n_,r=[],s=new Map,l=[],u=new Map,m=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Mt=>{b.add(Mt);const Wt=this.driver.query(Mt,".ng-animate-queued",!0);for(let on=0;on<Wt.length;on++)b.add(Wt[on])});const I=this.bodyNode,A=Array.from(this.statesByElement.keys()),F=eb(A,this.collectedEnterElements),z=new Map;let te=0;F.forEach((Mt,Wt)=>{const on=ql+te++;z.set(Wt,on),Mt.forEach(zn=>mo(zn,on))});const ae=[],je=new Set,Qe=new Set;for(let Mt=0;Mt<this.collectedLeaveElements.length;Mt++){const Wt=this.collectedLeaveElements[Mt],on=Wt[fo];on&&on.setForRemoval&&(ae.push(Wt),je.add(Wt),on.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(zn=>je.add(zn)):Qe.add(Wt))}const Je=new Map,st=eb(A,Array.from(je));st.forEach((Mt,Wt)=>{const on=Lh+te++;Je.set(Wt,on),Mt.forEach(zn=>mo(zn,on))}),e.push(()=>{F.forEach((Mt,Wt)=>{const on=z.get(Wt);Mt.forEach(zn=>Wh(zn,on))}),st.forEach((Mt,Wt)=>{const on=Je.get(Wt);Mt.forEach(zn=>Wh(zn,on))}),ae.forEach(Mt=>{this.processLeaveNode(Mt)})});const Lt=[],$t=[];for(let Mt=this._namespaceList.length-1;Mt>=0;Mt--)this._namespaceList[Mt].drainQueuedTransitions(t).forEach(on=>{const zn=on.player,xs=on.element;if(Lt.push(zn),this.collectedEnterElements.length){const io=xs[fo];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(on.triggerName)){const Vg=io.previousTriggersValues.get(on.triggerName),Il=this.statesByElement.get(on.element);if(Il&&Il.has(on.triggerName)){const yM=Il.get(on.triggerName);yM.value=Vg,Il.set(on.triggerName,yM)}}return void zn.destroy()}}const Dd=!I||!this.driver.containsElement(I,xs),Na=Je.get(xs),ym=z.get(xs),gr=this._buildInstruction(on,i,ym,Na,Dd);if(gr.errors&&gr.errors.length)return void $t.push(gr);if(Dd)return zn.onStart(()=>v(xs,gr.fromStyles)),zn.onDestroy(()=>p(xs,gr.toStyles)),void r.push(zn);if(on.isFallbackTransition)return zn.onStart(()=>v(xs,gr.fromStyles)),zn.onDestroy(()=>p(xs,gr.toStyles)),void r.push(zn);const v5=[];gr.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||v5.push(io)}),gr.timelines=v5,i.append(xs,gr.timelines),l.push({instruction:gr,player:zn,element:xs}),gr.queriedElements.forEach(io=>$(u,io,[]).push(zn)),gr.preStyleProps.forEach((io,Vg)=>{if(io.size){let Il=m.get(Vg);Il||m.set(Vg,Il=new Set),io.forEach((yM,HL)=>Il.add(HL))}}),gr.postStyleProps.forEach((io,Vg)=>{let Il=_.get(Vg);Il||_.set(Vg,Il=new Set),io.forEach((yM,HL)=>Il.add(HL))})});if($t.length){const Mt=[];$t.forEach(Wt=>{Mt.push(function nu(n,e){return new o.vHH(3505,!1)}())}),Lt.forEach(Wt=>Wt.destroy()),this.reportError(Mt)}const Pn=new Map,pr=new Map;l.forEach(Mt=>{const Wt=Mt.element;i.has(Wt)&&(pr.set(Wt,Wt),this._beforeAnimationBuild(Mt.player.namespaceId,Mt.instruction,Pn))}),r.forEach(Mt=>{const Wt=Mt.element;this._getPreviousPlayers(Wt,!1,Mt.namespaceId,Mt.triggerName,null).forEach(zn=>{$(Pn,Wt,[]).push(zn),zn.destroy()})});const no=ae.filter(Mt=>PM(Mt,m,_)),Ku=new Map;uE(Ku,this.driver,Qe,_,xr).forEach(Mt=>{PM(Mt,m,_)&&no.push(Mt)});const Wx=new Map;F.forEach((Mt,Wt)=>{uE(Wx,this.driver,new Set(Mt),m,Gl)}),no.forEach(Mt=>{const Wt=Ku.get(Mt),on=Wx.get(Mt);Ku.set(Mt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(on?.entries()??[])]))});const Bg=[],g5=[],_5={};l.forEach(Mt=>{const{element:Wt,player:on,instruction:zn}=Mt;if(i.has(Wt)){if(b.has(Wt))return on.onDestroy(()=>p(Wt,zn.toStyles)),on.disabled=!0,on.overrideTotalTime(zn.totalTime),void r.push(on);let xs=_5;if(pr.size>1){let Na=Wt;const ym=[];for(;Na=Na.parentNode;){const gr=pr.get(Na);if(gr){xs=gr;break}ym.push(Na)}ym.forEach(gr=>pr.set(gr,xs))}const Dd=this._buildAnimation(on.namespaceId,zn,Pn,s,Wx,Ku);if(on.setRealPlayer(Dd),xs===_5)Bg.push(on);else{const Na=this.playersByElement.get(xs);Na&&Na.length&&(on.parentPlayer=Bo(Na)),r.push(on)}}else v(Wt,zn.fromStyles),on.onDestroy(()=>p(Wt,zn.toStyles)),g5.push(on),b.has(Wt)&&r.push(on)}),g5.forEach(Mt=>{const Wt=s.get(Mt.element);if(Wt&&Wt.length){const on=Bo(Wt);Mt.setRealPlayer(on)}}),r.forEach(Mt=>{Mt.parentPlayer?Mt.syncPlayerEvents(Mt.parentPlayer):Mt.destroy()});for(let Mt=0;Mt<ae.length;Mt++){const Wt=ae[Mt],on=Wt[fo];if(Wh(Wt,Lh),on&&on.hasAnimation)continue;let zn=[];if(u.size){let Dd=u.get(Wt);Dd&&Dd.length&&zn.push(...Dd);let Na=this.driver.query(Wt,ol,!0);for(let ym=0;ym<Na.length;ym++){let gr=u.get(Na[ym]);gr&&gr.length&&zn.push(...gr)}}const xs=zn.filter(Dd=>!Dd.destroyed);xs.length?RM(this,Wt,xs):this.processLeaveNode(Wt)}return ae.length=0,Bg.forEach(Mt=>{this.players.push(Mt),Mt.onDone(()=>{Mt.destroy();const Wt=this.players.indexOf(Mt);this.players.splice(Wt,1)}),Mt.play()}),Bg}elementContainsData(e,t){let i=!1;const r=t[fo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(l=u)}else{const u=this.playersByElement.get(e);if(u){const m=!s||s==sp;u.forEach(_=>{_.queued||!m&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const _=m.element,b=_!==s,I=$(i,_,[]);this._getPreviousPlayers(_,b,l,u,t.toState).forEach(F=>{const z=F.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),F.destroy(),I.push(F)})}v(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const u=t.triggerName,m=t.element,_=[],b=new Set,I=new Set,A=t.timelines.map(z=>{const te=z.element;b.add(te);const ae=te[fo];if(ae&&ae.removedBeforeQueried)return new nl(z.duration,z.delay);const je=te!==m,Qe=function OM(n){const e=[];return hE(n,e),e}((i.get(te)||Zy).map(Pn=>Pn.getRealPlayer())).filter(Pn=>!!Pn.element&&Pn.element===te),Je=s.get(te),st=l.get(te),Lt=Fh(0,this._normalizer,0,z.keyframes,Je,st),$t=this._buildPlayer(z,Lt,Qe);if(z.subTimeline&&r&&I.add(te),je){const Pn=new $h(e,u,te);Pn.setRealPlayer($t),_.push(Pn)}return $t});_.forEach(z=>{$(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function cE(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,z.element,z))}),b.forEach(z=>mo(z,qm));const F=Bo(A);return F.onDestroy(()=>{b.forEach(z=>Wh(z,qm)),p(m,t.toStyles)}),I.forEach(z=>{$(r,z,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new nl(e.duration,e.delay)}}class $h{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new nl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>x(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function a_(n){return n&&1===n.nodeType}function dE(n,e){const t=n.style.display;return n.style.display=e??"none",t}function uE(n,e,t,i,r){const s=[];t.forEach(m=>s.push(dE(m)));const l=[];i.forEach((m,_)=>{const b=new Map;m.forEach(I=>{const A=e.computeStyle(_,I,r);b.set(I,A),(!A||0==A.length)&&(_[fo]=WL,l.push(_))}),n.set(_,b)});let u=0;return t.forEach(m=>dE(m,s[u++])),l}function eb(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function l(u){if(!u)return i;let m=s.get(u);if(m)return m;const _=u.parentNode;return m=t.has(_)?_:r.has(_)?i:l(_),s.set(u,m),m}return e.forEach(u=>{const m=l(u);m!==i&&t.get(m).push(u)}),t}function mo(n,e){n.classList?.add(e)}function Wh(n,e){n.classList?.remove(e)}function RM(n,e,t){Bo(t).onDone(()=>n.processLeaveNode(e))}function hE(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ms?hE(i.players,e):e.push(i)}}function PM(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class tb{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lE(e,t,i),this._timelineEngine=new sE(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let u=this._triggerCache[l];if(!u){const m=[],_=[],b=jy(this._driver,s,m,_);if(m.length)throw function Zg(n,e){return new o.vHH(3404,!1)}();u=function TM(n,e,t){return new MM(n,e,t)}(r,b,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(t,r,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=se(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,u]=se(i);return this._timelineEngine.listen(l,t,u,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nb=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&p(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(p(this._element,this._initialStyles),this._endStyles&&(p(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(v(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(v(this._element,this._endStyles),this._endStyles=null),p(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function l_(n){let e=null;return n.forEach((t,i)=>{(function mE(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ib{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:e_(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NM{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ga(e,t)}getParentElement(e){return it(e)}query(e,t,i){return Gr(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const _=new Map,b=l.filter(F=>F instanceof ib);(function es(n,e){return 0===n||0===e})(i,r)&&b.forEach(F=>{F.currentSnapshot.forEach((z,te)=>_.set(te,z))});let I=function Ym(n){return n.length?n[0]instanceof Map?n:n.map(e=>Jg(e)):[]}(t).map(F=>al(F));I=function va(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(u=>l.set(u,e_(n,u)))}}return e}(e,I,_);const A=function op(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=l_(e[0]),e.length>1&&(i=l_(e[e.length-1]))):e instanceof Map&&(t=l_(e)),t||i?new nb(n,t,i):null}(e,I);return new ib(e,I,m,A)}}let FM=(()=>{class n extends Lo{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Qd(t):t;return c_(this._renderer,null,i,"register",[r]),new pE(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class pE extends el{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gE(this._id,e,t||{},this._renderer)}}class gE{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return c_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function c_(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const d_="@.disabled";let LM=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const u=l?.parentNode(s);u&&l.removeChild(u,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new u_("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(l,u,t,b.name,b)};return i.data.animation.forEach(m),new _E(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,u]=s;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(tb),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class u_{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==d_?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _E extends u_{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==d_?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function vE(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function cu(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(e,t,i)}}let BM=(()=>{class n extends tb{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j),o.LFG(qc),o.LFG(ba),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const yE=[{provide:Lo,useClass:FM},{provide:ba,useFactory:function sb(){return new IM}},{provide:tb,useClass:BM},{provide:o.FYo,useFactory:function h_(n,e,t){return new LM(n,e,t)},deps:[Or,tb,o.R0b]}],ap=[{provide:qc,useFactory:()=>new NM},{provide:o.QbO,useValue:"BrowserAnimations"},...yE],lp=[{provide:qc,useClass:su},{provide:o.QbO,useValue:"NoopAnimations"},...yE];let du=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lp:ap}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:ap,imports:[la]}),n})();var Qn=T(8996),Ji=T(9751);const{isArray:qh}=Array,{getPrototypeOf:UM,prototype:HM,keys:jM}=Object;function f_(n){if(1===n.length){const e=n[0];if(qh(e))return{args:e,keys:null};if(function zM(n){return n&&"object"==typeof n&&UM(n)===HM}(e)){const t=jM(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Zc=T(8421),cp=T(3269),Er=T(5403),vt=T(4004);const{isArray:GM}=Array;function ob(n){return(0,vt.U)(e=>function dp(n,e){return GM(e)?n(...e):n(e)}(n,e))}function uu(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Kh(...n){const e=(0,cp.jO)(n),{args:t,keys:i}=f_(n),r=new Ji.y(s=>{const{length:l}=t;if(!l)return void s.complete();const u=new Array(l);let m=l,_=l;for(let b=0;b<l;b++){let I=!1;(0,Zc.Xf)(t[b]).subscribe((0,Er.x)(s,A=>{I||(I=!0,_--),u[b]=A},()=>m--,void 0,()=>{(!m||!I)&&(_||s.next(i?uu(i,u):u),s.complete())}))}});return e?r.pipe(ob(e)):r}let wE=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Qc=(()=>{class n extends wE{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ws=new o.OlP("NgValueAccessor"),EE={provide:Ws,useExisting:(0,o.Gpc)(()=>Zl),multi:!0},ab=new o.OlP("CompositionEventMode");let Zl=(()=>{class n extends wE{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function CE(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ab,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([EE]),o.qOj]}),n})();const WM=!1;function dl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Yh(n){return null!=n&&"number"==typeof n.length}const ts=new o.OlP("NgValidators"),Xc=new o.OlP("NgAsyncValidators"),qM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vo{static min(e){return function lb(n){return e=>{if(dl(e.value)||dl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IE(n){return e=>{if(dl(e.value)||dl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return DE(e)}static requiredTrue(e){return function hu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ul(n){return dl(n.value)||qM.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function SE(n){return e=>dl(e.value)||!Yh(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function TE(n){return e=>Yh(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function KM(n){if(!n)return cb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(dl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return ME(e)}static composeAsync(e){return Uo(e)}}function DE(n){return dl(n.value)?{required:!0}:null}function cb(n){return null}function db(n){return null!=n}function YM(n){const e=(0,o.QGY)(n)?(0,Qn.D)(n):n;if(WM&&!(0,o.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,t)}return e}function ub(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function hb(n,e){return e.map(t=>t(n))}function fb(n){return n.map(e=>function ZM(n){return!n.validate}(e)?e:t=>e.validate(t))}function ME(n){if(!n)return null;const e=n.filter(db);return 0==e.length?null:function(t){return ub(hb(t,e))}}function mb(n){return null!=n?ME(fb(n)):null}function Uo(n){if(!n)return null;const e=n.filter(db);return 0==e.length?null:function(t){return Kh(hb(t,e).map(YM)).pipe((0,vt.U)(ub))}}function pb(n){return null!=n?Uo(fb(n)):null}function gb(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AE(n){return n._rawValidators}function kE(n){return n._rawAsyncValidators}function _b(n){return n?Array.isArray(n)?n:[n]:[]}function m_(n,e){return Array.isArray(n)?n.includes(e):n===e}function vb(n,e){const t=_b(e);return _b(n).forEach(r=>{m_(t,r)||t.push(r)}),t}function RE(n,e){return _b(e).filter(t=>!m_(n,t))}class OE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ds extends OE{get formDirective(){return null}get path(){return null}}class Bt extends OE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yb{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let up=(()=>{class n extends yb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Bt,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),p_=(()=>{class n extends yb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ds,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();function iA(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const v_=!1,y_="VALID",b_="INVALID",wa="PENDING",hp="DISABLED";function w_(n){return(E_(n)?n.validators:n)||null}function wb(n,e){return(E_(e)?e.asyncValidators:n)||null}function E_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BE(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,v_?function YL(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new o.vHH(1001,v_?function ZL(n,e){return`Cannot find form control ${iA(n,e)}`}(e,t):"")}function VE(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,v_?function rA(n,e){return`Must supply a value for form control ${iA(n,e)}`}(e,r):"")})}class C_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===y_}get invalid(){return this.status===b_}get pending(){return this.status==wa}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RE(e,this._rawAsyncValidators))}hasValidator(e){return m_(this._rawValidators,e)}hasAsyncValidator(e){return m_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=y_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===y_||this.status===wa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:y_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator=!0;const t=YM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?b_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(b_)?b_:y_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){E_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function x_(n){return Array.isArray(n)?mb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function LE(n){return Array.isArray(n)?pb(n):n||null}(this._rawAsyncValidators)}}class fp extends C_{constructor(e,t,i){super(w_(t),wb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){VE(this,!0,e),Object.keys(e).forEach(i=>{BE(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class xb extends fp{}const Ql=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>I_}),I_="always";function Qh(n,e){return[...e.path,n]}function mp(n,e,t=I_){Cb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function aA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gp(n,e)})}(n,e),function Xh(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lA(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function UE(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Eb(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),pp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cb(n,e){const t=AE(n);null!==e.validator?n.setValidators(gb(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=kE(n);null!==e.asyncValidator?n.setAsyncValidators(gb(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Xl(e._rawValidators,r),Xl(e._rawAsyncValidators,r)}function pp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=AE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=kE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Xl(e._rawValidators,i),Xl(e._rawAsyncValidators,i),t}function gp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D_(n,e){Cb(n,e)}function vp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function M_(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ib(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Zl?t=s:function GE(n){return Object.getPrototypeOf(n.constructor)===Qc}(s)?i=s:r=s}),r||i||t||null}const uA={provide:Ds,useExisting:(0,o.Gpc)(()=>ef)},Jh=(()=>Promise.resolve())();let ef=(()=>{class n extends Ds{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new fp({},mb(t),pb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jh.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),mp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jh.then(()=>{const i=this._findContainer(t.path),r=new fp({});D_(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Jh.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,M_(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,10),o.Y36(Xc,10),o.Y36(Ql,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([uA]),o.qOj]}),n})();function $E(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function WE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ns=class extends C_{constructor(e=null,t,i){super(w_(t),wb(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),E_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=WE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$E(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$E(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gA={provide:Bt,useExisting:(0,o.Gpc)(()=>yp)},KE=(()=>Promise.resolve())();let yp=(()=>{class n extends Bt{constructor(t,i,r,s,l,u){super(),this._changeDetectorRef=l,this.callSetDisabledState=u,this.control=new ns,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ib(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){KE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);KE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Qh(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ds,9),o.Y36(ts,10),o.Y36(Xc,10),o.Y36(Ws,10),o.Y36(o.sBO,8),o.Y36(Ql,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([gA]),o.qOj,o.TTD]}),n})(),A_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Mb=new o.OlP("NgModelWithFormControlWarning"),Ab={provide:Ds,useExisting:(0,o.Gpc)(()=>Jc)};let Jc=(()=>{class n extends Ds{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return mp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Eb(t.control||null,t,!1),function cA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,M_(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Eb(i||null,t),(n=>n instanceof ns)(r)&&(mp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);D_(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _p(n,e){return pp(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cb(this.form,this),this._oldForm&&pp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,10),o.Y36(Xc,10),o.Y36(Ql,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Ab]),o.qOj,o.TTD]}),n})();const kb={provide:Bt,useExisting:(0,o.Gpc)(()=>R_)};let R_=(()=>{class n extends Bt{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ib(0,s)}ngOnChanges(t){this._added||this._setUpControl(),vp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(Ds,13),o.Y36(ts,10),o.Y36(Xc,10),o.Y36(Ws,10),o.Y36(Mb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([kb]),o.qOj,o.TTD]}),n})(),fu=(()=>{class n{constructor(){this._validator=cb}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):cb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const EA={provide:ts,useExisting:(0,o.Gpc)(()=>rf),multi:!0};let rf=(()=>{class n extends fu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=t=>DE}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([EA]),o.qOj]}),n})(),aC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xa]}),n})();class lC extends C_{constructor(e,t,i){super(w_(t),wb(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){VE(this,!1,e),e.forEach((i,r)=>{BE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function cC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let dC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return cC(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new fp(r,s)}record(t,i=null){const r=this._reduceControls(t);return new xb(r,i)}control(t,i,r){let s={};return this.useNonNullable?(cC(i)?s=i:(s.validators=i,s.asyncValidators=r),new ns(t,{...s,nonNullable:!0})):new ns(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new lC(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof ns||t instanceof C_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ql,useValue:t.callSetDisabledState??I_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[aC]}),n})(),RA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ql,useValue:t.callSetDisabledState??I_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[aC]}),n})();var gt=T(9646),is=T(1135);const ed=(0,T(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pr=T(4671),mu=T(9672);function sf(...n){const e=(0,cp.yG)(n),t=(0,cp.jO)(n),{args:i,keys:r}=f_(n);if(0===i.length)return(0,Qn.D)([],e);const s=new Ji.y(function Ho(n,e,t=Pr.y){return i=>{B_(e,()=>{const{length:r}=n,s=new Array(r);let l=r,u=r;for(let m=0;m<r;m++)B_(e,()=>{const _=(0,Qn.D)(n[m],e);let b=!1;_.subscribe((0,Er.x)(i,I=>{s[m]=I,b||(b=!0,u--),u||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>uu(r,l):Pr.y));return t?s.pipe(ob(t)):s}function B_(n,e,t){n?(0,mu.f)(t,n,e):e()}var fl=T(8189);function ec(...n){return function af(){return(0,fl.J)(1)}()((0,Qn.D)(n,(0,cp.yG)(n)))}function td(n){return new Ji.y(e=>{(0,Zc.Xf)(n()).subscribe(e)})}var lf=T(9635),rs=T(576);function jo(n,e){const t=(0,rs.m)(n)?n:()=>n,i=r=>r.error(t());return new Ji.y(e?r=>e.schedule(i,0,r):i)}var Ss=T(515),Cr=T(727),ss=T(4482);function V_(){return(0,ss.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Er.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class U_ extends Ji.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ss.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Er.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cr.w0.EMPTY)}return e}refCount(){return V_()(this)}}var zt=T(7579),ki=T(3900),Wr=T(5698);function Ea(...n){const e=(0,cp.yG)(n);return(0,ss.e)((t,i)=>{(e?ec(n,t,e):ec(n,t)).subscribe(i)})}var Ri=T(9300),os=T(5577);function H_(n){return(0,ss.e)((e,t)=>{let i=!1;e.subscribe((0,Er.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function uC(n=hC){return(0,ss.e)((e,t)=>{let i=!1;e.subscribe((0,Er.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hC(){return new ed}function tc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Ri.h)((r,s)=>n(r,s,i)):Pr.y,(0,Wr.q)(1),t?H_(e):uC(()=>new ed))}var nc=T(4351),er=T(8505),Ca=T(262),pu=T(5026);function cf(n){return n<=0?()=>Ss.E:(0,ss.e)((e,t)=>{let i=[];e.subscribe((0,Er.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function xp(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Ri.h)((r,s)=>n(r,s,i)):Pr.y,cf(1),t?H_(e):uC(()=>new ed))}function j_(n,e=!1){return(0,ss.e)((t,i)=>{let r=0;t.subscribe((0,Er.x)(i,s=>{const l=n(s,r++);(l||e)&&i.next(s),!l&&i.complete()}))})}function gu(n){return(0,ss.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const cn="primary",_u=Symbol("RouteTitle");class fC{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nd(n){return new fC(n)}function mC(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],u=n[s];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!z_(n[r],e[r]))return!1;return!0}function z_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function gC(n){return Array.prototype.concat.apply([],n)}function Bb(n){return n.length>0?n[n.length-1]:null}function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ic(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Qn.D)(Promise.resolve(n)):(0,gt.of)(n)}const G_=!1,_C={exact:function jb(n,e,t){if(!qs(n.segments,e.segments)||!Ep(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!jb(n.children[i],e.children[i],t))return!1;return!0},subset:zb},Vb={exact:function Hb(n,e){return zo(n,e)},subset:function vC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>z_(n[t],e[t]))},ignored:()=>!0};function Ub(n,e,t){return _C[t.paths](n.root,e.root,t.matrixParams)&&Vb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zb(n,e,t){return Gb(n,e,e.segments,t)}function Gb(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!qs(r,t)||e.hasChildren()||!Ep(r,t,i))}if(n.segments.length===t.length){if(!qs(n.segments,t)||!Ep(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!zb(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qs(n.segments,r)&&Ep(n.segments,r,i)&&n.children[cn])&&Gb(n.children[cn],e,s,i)}}function Ep(n,e,t){return e.every((i,r)=>Vb[t](n[r].parameters,i.parameters))}class rc{constructor(e=new wn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return vu.serialize(this)}}class wn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}}class df{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nd(this.parameters)),this._parameterMap}toString(){return yC(this)}}function qs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Ip},providedIn:"root"}),n})();class Ip{parse(e){const t=new hf(e);return new rc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dp(e.root,!0)}`,i=function bC(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${$b(t)}=${$b(r)}`).join("&"):`${$b(t)}=${$b(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function a2(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vu=new Ip;function uf(n){return n.segments.map(e=>yC(e)).join("/")}function Dp(n,e){if(!n.hasChildren())return uf(n);if(e){const t=n.children[cn]?Dp(n.children[cn],!1):"",i=[];return qr(n.children,(r,s)=>{s!==cn&&i.push(`${s}:${Dp(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function NA(n,e){let t=[];return qr(n.children,(i,r)=>{r===cn&&(t=t.concat(e(i,r)))}),qr(n.children,(i,r)=>{r!==cn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===cn?[Dp(n.children[cn],!1)]:[`${r}:${Dp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${uf(n)}/${t[0]}`:`${uf(n)}/(${t.join("//")})`}}function W_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $b(n){return W_(n).replace(/%3B/gi,";")}function Wb(n){return W_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q_(n){return decodeURIComponent(n)}function qb(n){return q_(n.replace(/\+/g,"%20"))}function yC(n){return`${Wb(n.path)}${function Nr(n){return Object.keys(n).map(e=>`;${Wb(e)}=${Wb(n[e])}`).join("")}(n.parameters)}`}const FA=/^[^\/()?;=#]+/;function K_(n){const e=n.match(FA);return e?e[0]:""}const wC=/^[^=?&#]+/,xC=/^[^&#]+/;class hf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[cn]=new wn(e,t)),i}parseSegment(){const e=K_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,G_);return this.capture(e),new df(q_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=K_(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=K_(this.remaining);r&&(i=r,this.capture(i))}e[q_(t)]=q_(i)}parseQueryParam(e){const t=function LA(n){const e=n.match(wC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function EC(n){const e=n.match(xC);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=qb(t),s=qb(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=K_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,G_);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=cn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[cn]:new wn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,G_)}}function Kb(n){return n.segments.length>0?new wn([],{[cn]:n}):n}function Y_(n){const e={};for(const i of Object.keys(n.children)){const s=Y_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function CC(n){if(1===n.numberOfChildren&&n.children[cn]){const e=n.children[cn];return new wn(n.segments.concat(e.segments),e.children)}return n}(new wn(n.segments,e))}function yu(n){return n instanceof rc}const Z_=!1;function ml(n,e,t,i,r){if(0===t.length)return Ts(e.root,e.root,e.root,i,r);const s=function Yb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $o(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return qr(s.outlets,(m,_)=>{u[_]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((u,m)=>{0==m&&"."===u||(0==m&&""===u?t=!0:".."===u?e++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new $o(t,e,i)}(t);return s.toRoot()?Ts(e.root,e.root,new wn([],{}),i,r):function l(m){const _=function VA(n,e,t,i){if(n.isAbsolute)return new bu(e.root,!0,0);if(-1===i)return new bu(t,t===e.root,0);return function IC(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,Z_&&"Invalid number of '../'");r=i.segments.length}return new bu(i,!1,r-s)}(t,i+(Sp(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,m),b=_.processChildren?pl(_.segmentGroup,_.index,s.commands):Tp(_.segmentGroup,_.index,s.commands);return Ts(e.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Sp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ff(n){return"object"==typeof n&&null!=n&&n.outlets}function Ts(n,e,t,i,r){let l,s={};i&&qr(i,(m,_)=>{s[_]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),l=n===e?t:Go(n,e,t);const u=Kb(Y_(l));return new rc(u,s,r)}function Go(n,e,t){const i={};return qr(n.children,(r,s)=>{i[s]=r===e?t:Go(r,e,t)}),new wn(n.segments,i)}class $o{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Sp(i[0]))throw new o.vHH(4003,Z_&&"Root segment cannot have matrix parameters");const r=i.find(ff);if(r&&r!==Bb(i))throw new o.vHH(4004,Z_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Tp(n,e,t){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return pl(n,e,t);const i=function HA(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],u=t[i];if(ff(u))break;const m=`${u}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!Zb(m,_,l))return s;i+=2}else{if(!Zb(m,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new wn(n.segments.slice(0,i.pathIndex),{});return s.children[cn]=new wn(n.segments.slice(i.pathIndex),n.children),pl(s,0,r)}return i.match&&0===r.length?new wn(n.segments,{}):i.match&&!n.hasChildren()?J_(n,e,t):i.match?pl(n,0,r):J_(n,e,t)}function pl(n,e,t){if(0===t.length)return new wn(n.segments,{});{const i=function UA(n){return ff(n[0])?n[0].outlets:{[cn]:n}}(t),r={};if(!i[cn]&&n.children[cn]&&1===n.numberOfChildren&&0===n.children[cn].segments.length){const s=pl(n.children[cn],e,t);return new wn(n.segments,s.children)}return qr(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=Tp(n.children[l],e,s))}),qr(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new wn(n.segments,r)}}function J_(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(ff(s)){const m=jA(s.outlets);return new wn(i,m)}if(0===r&&Sp(t[0])){i.push(new df(n.segments[e].path,DC(t[0]))),r++;continue}const l=ff(s)?s.outlets[cn]:`${s}`,u=r<t.length-1?t[r+1]:null;l&&u&&Sp(u)?(i.push(new df(l,DC(u))),r+=2):(i.push(new df(l,{})),r++)}return new wn(i,{})}function jA(n){const e={};return qr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=J_(new wn([],{}),0,t))}),e}function DC(n){const e={};return qr(n,(t,i)=>e[i]=`${t}`),e}function Zb(n,e,t){return n==t.path&&zo(e,t.parameters)}const mf="imperative";class po{constructor(e,t){this.id=e,this.url=t}}class Qb extends po{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class id extends po{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mp extends po{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pf extends po{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class gf extends po{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SC extends po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TC extends po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MC extends po{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AC extends po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC extends po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PC{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zA{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GA{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FC{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qA=(()=>{class n{createUrlTree(t,i,r,s,l,u){return ml(t||i.root,r,s,l,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),YA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){return qA.\u0275fac(e)},providedIn:"root"}),n})();class LC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Xb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Jb(e,this._root).map(t=>t.value)}}function Xb(n,e){if(n===e.value)return e;for(const t of e.children){const i=Xb(n,t);if(i)return i}return null}function Jb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Jb(n,t);if(i.length)return i.unshift(e),i}return[]}class sc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _f(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class BC extends LC{constructor(e,t){super(e),this.snapshot=t,ev(this,e)}toString(){return this.snapshot.toString()}}function VC(n,e){const t=function ZA(n,e){const l=new Ap([],{},{},"",{},cn,e,null,n.root,-1,{});return new t0("",new sc(l,[]))}(n,e),i=new is.X([new df("",{})]),r=new is.X({}),s=new is.X({}),l=new is.X({}),u=new is.X(""),m=new rd(i,r,l,u,s,cn,e,t.root);return m.snapshot=t.root,new BC(new sc(m,[]),t)}class rd{constructor(e,t,i,r,s,l,u,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,vt.U)(_=>_[_u]))??(0,gt.of)(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>nd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>nd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e0(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function UC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Ap{get title(){return this.data?.[_u]}constructor(e,t,i,r,s,l,u,m,_,b,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=u,this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=b,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t0 extends LC{constructor(e,t){super(t),this.url=e,ev(this,t)}toString(){return n0(this._root)}}function ev(n,e){e.value._routerState=n,e.children.forEach(t=>ev(n,t))}function n0(n){const e=n.children.length>0?` { ${n.children.map(n0).join(", ")} } `:"";return`${n.value}${e}`}function tv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zo(e.params,t.params)||n.params.next(t.params),function pC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nv(n,e){const t=zo(n.params,e.params)&&function $_(n,e){return qs(n,e)&&n.every((t,i)=>zo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nv(n.parent,e.parent))}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function r0(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return wu(n,i,r);return wu(n,i)})}(n,e,t);return new sc(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(u=>wu(n,u)),l}}const i=function xu(n){return new rd(new is.X(n.url),new is.X(n.params),new is.X(n.queryParams),new is.X(n.fragment),new is.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>wu(n,s));return new sc(i,r)}}const s0="ngNavigationCancelingError";function jC(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=yu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Eu(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Eu(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[s0]=!0,i.cancellationCode=e,t&&(i.url=t),i}function QA(n){return iv(n)&&yu(n.url)}function iv(n){return n&&n[s0]}class l2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vf,this.attachRef=null}}let vf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new l2,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kp=!1;let zC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(vf),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,kp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,kp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,kp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new o.vHH(4013,kp);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Ht(t,u,r.injector);if(i&&function XA(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,m)}else this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class Ht{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===rd?this.route:e===vf?this.childContexts:this.parent.get(e,t)}}let o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},dependencies:[zC],encapsulation:2}),n})();function GC(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function c0(n){const e=n.children&&n.children.map(c0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==cn&&(t.component=o0),t}function go(n){return n.outlet||cn}function d0(n,e){const t=n.filter(i=>go(i)===e);return t.push(...n.filter(i=>go(i)!==e)),t}function yf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class JA{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),tv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=_f(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),qr(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=_f(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=_f(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=_f(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new GA(s.value.snapshot))}),e.children.length&&this.forwardEvent(new NC(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(tv(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),tv(u.route.value),this.activateChildRoutes(e,null,l.children)}else{const u=yf(r.snapshot),m=u?.get(o._Vd)??null;l.attachRef=null,l.route=r,l.resolver=m,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class KC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rv{constructor(e,t){this.component=e,this.route=t}}function Op(n,e,t){const i=n._root;return Pp(i,e?e._root:null,t,[i.value])}function bf(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:i}function Pp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=_f(e);return n.children.forEach(l=>{(function sv(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function YC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qs(n.url,e.url)||!zo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nv(n,e)||!zo(n.queryParams,e.queryParams);default:return!nv(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new KC(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Pp(n,e,s.component?u?u.children:null:t,i,r),m&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new rv(u.outlet.component,l))}else l&&wf(e,u,r),r.canActivateChecks.push(new KC(i)),Pp(n,null,s.component?u?u.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),qr(s,(l,u)=>wf(l,t.getContext(u),r)),r}function wf(n,e,t){const i=_f(n),r=n.value;qr(i,(s,l)=>{wf(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new rv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function xf(n){return"function"==typeof n}function ov(n){return n instanceof ed||"EmptyError"===n?.name}const av=Symbol("INITIAL_VALUE");function Cu(){return(0,ki.w)(n=>sf(n.map(e=>e.pipe((0,Wr.q)(1),Ea(av)))).pipe((0,vt.U)(e=>{for(const t of e)if(!0!==t){if(t===av)return av;if(!1===t||t instanceof rc)return t}return!0}),(0,Ri.h)(e=>e!==av),(0,Wr.q)(1)))}function XC(n){return(0,lf.z)((0,er.b)(e=>{if(yu(e))throw jC(0,e)}),(0,vt.U)(e=>!0===e))}const Iu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eI(n,e,t,i,r){const s=u0(n,e,t);return s.matched?function JC(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,gt.of)(!0);const s=r.map(l=>{const u=bf(l,n);return ic(function rk(n){return n&&xf(n.canMatch)}(u)?u.canMatch(e,t):n.runInContext(()=>u(e,t)))});return(0,gt.of)(s).pipe(Cu(),XC())}(i=GC(e,i),e,t).pipe((0,vt.U)(l=>!0===l?s:{...Iu})):(0,gt.of)(s)}function u0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||mC)(t,n,e);if(!r)return{...Iu};const s={};qr(r.posParams,(u,m)=>{s[m]=u.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function cv(n,e,t,i){if(t.length>0&&function dk(n,e,t){return t.some(i=>dv(n,e,i)&&go(i)!==cn)}(n,t,i)){const s=new wn(e,function p2(n,e,t,i){const r={};r[cn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&go(s)!==cn){const l=new wn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[go(s)]=l}return r}(n,e,i,new wn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function tI(n,e,t){return t.some(i=>dv(n,e,i))}(n,t,i)){const s=new wn(n.segments,function ck(n,e,t,i,r){const s={};for(const l of i)if(dv(n,t,l)&&!r[go(l)]){const u=new wn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,s[go(l)]=u}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new wn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function dv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function nI(n,e,t,i){return!!(go(n)===i||i!==cn&&dv(e,t,n))&&("**"===n.path||u0(e,n,t).matched)}function Ef(n,e,t){return 0===e.length&&!n.children[t]}const uv=!1;class Lp{constructor(e){this.segmentGroup=e||null}}class iI{constructor(e){this.urlTree=e}}function Cf(n){return jo(new Lp(n))}function rI(n){return jo(new iI(n))}class hk{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=cv(this.urlTree.root,[],[],this.config).segmentGroup,t=new wn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,cn).pipe((0,vt.U)(s=>this.createUrlTree(Y_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ca.K)(s=>{if(s instanceof iI)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Lp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,cn).pipe((0,vt.U)(r=>this.createUrlTree(Y_(r),e.queryParams,e.fragment))).pipe((0,Ca.K)(r=>{throw r instanceof Lp?this.noMatchError(r):r}))}noMatchError(e){return new o.vHH(4002,uv)}createUrlTree(e,t,i){const r=Kb(e);return new rc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,vt.U)(s=>new wn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Qn.D)(r).pipe((0,nc.b)(s=>{const l=i.children[s],u=d0(t,s);return this.expandSegmentGroup(e,u,l,s).pipe((0,vt.U)(m=>({segment:m,outlet:s})))}),(0,pu.R)((s,l)=>(s[l.outlet]=l.segment,s),{}),xp())}expandSegment(e,t,i,r,s,l){return(0,Qn.D)(i).pipe((0,nc.b)(u=>this.expandSegmentAgainstRoute(e,t,i,u,r,s,l).pipe((0,Ca.K)(_=>{if(_ instanceof Lp)return(0,gt.of)(null);throw _}))),tc(u=>!!u),(0,Ca.K)((u,m)=>{if(ov(u))return Ef(t,r,s)?(0,gt.of)(new wn([],{})):Cf(t);throw u}))}expandSegmentAgainstRoute(e,t,i,r,s,l,u){return nI(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):Cf(t):Cf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rI(s):this.lineralizeSegments(i,s).pipe((0,os.z)(l=>{const u=new wn(l,{});return this.expandSegment(e,u,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:u,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=u0(t,r,s);if(!u)return Cf(t);const I=this.applyRedirectCommands(m,r.redirectTo,b);return r.redirectTo.startsWith("/")?rI(I):this.lineralizeSegments(r,I).pipe((0,os.z)(A=>this.expandSegment(e,t,i,A.concat(_),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=GC(i,e),i.loadChildren?(i._loadedRoutes?(0,gt.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,vt.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new wn(r,{})))):(0,gt.of)(new wn(r,{}))):eI(t,i,r,e).pipe((0,ki.w)(({matched:l,consumedSegments:u,remainingSegments:m})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,os.z)(b=>{const I=b.injector??e,A=b.routes,{segmentGroup:F,slicedSegments:z}=cv(t,u,m,A),te=new wn(F.segments,F.children);if(0===z.length&&te.hasChildren())return this.expandChildren(I,A,te).pipe((0,vt.U)(Je=>new wn(u,Je)));if(0===A.length&&0===z.length)return(0,gt.of)(new wn(u,{}));const ae=go(i)===s;return this.expandSegment(I,te,A,z,ae?cn:s,!0).pipe((0,vt.U)(Qe=>new wn(u.concat(Qe.segments),Qe.children)))})):Cf(t)))}getChildConfig(e,t,i){return t.children?(0,gt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,gt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function lk(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,gt.of)(!0);const s=r.map(l=>{const u=bf(l,n);return ic(function Np(n){return n&&xf(n.canLoad)}(u)?u.canLoad(e,t):n.runInContext(()=>u(e,t)))});return(0,gt.of)(s).pipe(Cu(),XC())}(e,t,i).pipe((0,os.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,er.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function uk(n){return jo(Eu(uv,3))}())):(0,gt.of)({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,gt.of)(i);if(r.numberOfChildren>1||!r.children[cn])return e.redirectTo,jo(new o.vHH(4e3,uv));r=r.children[cn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new rc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return qr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=t[u]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return qr(t.children,(u,m)=>{l[m]=this.createSegmentGroup(e,u,i,r)}),new wn(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new o.vHH(4001,uv);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class fk{}class m0{constructor(e,t,i,r,s,l,u){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=u}recognize(){const e=cv(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe((0,vt.U)(t=>{if(null===t)return null;const i=new Ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sc(i,t),s=new t0(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=e0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Qn.D)(Object.keys(i.children)).pipe((0,nc.b)(r=>{const s=i.children[r],l=d0(t,r);return this.processSegmentGroup(e,l,s,r)}),(0,pu.R)((r,s)=>r&&s?(r.push(...s),r):null),j_(r=>null!==r),H_(null),xp(),(0,vt.U)(r=>{if(null===r)return null;const s=lI(r);return function gk(n){n.sort((e,t)=>e.value.outlet===cn?-1:t.value.outlet===cn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,Qn.D)(t).pipe((0,nc.b)(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,s)),tc(l=>!!l),(0,Ca.K)(l=>{if(ov(l))return Ef(i,r,s)?(0,gt.of)([]):(0,gt.of)(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!nI(t,i,r,s))return(0,gt.of)(null);let l;if("**"===t.path){const u=r.length>0?Bb(r).parameters:{},m=dI(i)+r.length,_=new Ap(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uI(t),go(t),t.component??t._loadedComponent??null,t,cI(i),m,hI(t));l=(0,gt.of)({snapshot:_,consumedSegments:[],remainingSegments:[]})}else l=eI(i,t,r,e).pipe((0,vt.U)(({matched:u,consumedSegments:m,remainingSegments:_,parameters:b})=>{if(!u)return null;const I=dI(i)+m.length;return{snapshot:new Ap(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uI(t),go(t),t.component??t._loadedComponent??null,t,cI(i),I,hI(t)),consumedSegments:m,remainingSegments:_}}));return l.pipe((0,ki.w)(u=>{if(null===u)return(0,gt.of)(null);const{snapshot:m,consumedSegments:_,remainingSegments:b}=u;e=t._injector??e;const I=t._loadedInjector??e,A=function aI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:z}=cv(i,_,b,A.filter(ae=>void 0===ae.redirectTo));if(0===z.length&&F.hasChildren())return this.processChildren(I,A,F).pipe((0,vt.U)(ae=>null===ae?null:[new sc(m,ae)]));if(0===A.length&&0===z.length)return(0,gt.of)([new sc(m,[])]);const te=go(t)===s;return this.processSegment(I,A,F,z,te?cn:s).pipe((0,vt.U)(ae=>null===ae?null:[new sc(m,ae)]))}))}}function _k(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lI(n){const e=[],t=new Set;for(const i of n){if(!_k(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=lI(i.children);e.push(new sc(i.value,r))}return e.filter(i=>!t.has(i))}function cI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function uI(n){return n.data||{}}function hI(n){return n.resolve||{}}function gI(n){return"string"==typeof n.title||null===n.title}function p0(n){return(0,ki.w)(e=>{const t=n(e);return t?(0,Qn.D)(t).pipe((0,vt.U)(()=>e)):(0,gt.of)(e)})}const sd=new o.OlP("ROUTES");let fv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,gt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ic(t.loadComponent()).pipe((0,vt.U)(_I),(0,er.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),gu(()=>{this.componentLoaders.delete(t)})),r=new U_(i,()=>new zt.x).pipe(V_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,gt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,vt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_,b=!1;Array.isArray(u)?_=u:(m=u.create(t).injector,_=gC(m.get(sd,[],o.XFs.Self|o.XFs.Optional)));return{routes:_.map(c0),injector:m}}),gu(()=>{this.childrenLoaders.delete(i)})),l=new U_(s,()=>new zt.x).pipe(V_());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return ic(t()).pipe((0,vt.U)(_I),(0,os.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,gt.of)(i):(0,Qn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _I(n){return function g0(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let If=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new zt.x,this.configLoader=(0,o.f3M)(fv),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Cp),this.rootContexts=(0,o.f3M)(vf),this.navigationId=0,this.afterPreactivation=()=>(0,gt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new OC(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new RC(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new is.X({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ri.h)(i=>0!==i.id),(0,vt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,ki.w)(i=>{let r=!1,s=!1;return(0,gt.of)(i).pipe((0,er.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ki.w)(l=>{const u=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==u||u!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new pf(l.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ss.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return vI(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,gt.of)(l).pipe((0,ki.w)(b=>{const I=this.transitions?.getValue();return this.events.next(new Qb(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),I!==this.transitions?.getValue()?Ss.E:Promise.resolve(b)}),function oI(n,e,t,i){return(0,ki.w)(r=>function h0(n,e,t,i,r){return new hk(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,vt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,er.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function fI(n,e,t,i,r){return(0,os.z)(s=>function pk(n,e,t,i,r,s,l="emptyOnly"){return new m0(n,e,t,i,r,l,s).recognize().pipe((0,ki.w)(u=>null===u?function mk(n){return new Ji.y(e=>e.error(n))}(new fk):(0,gt.of)(u)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,vt.U)(l=>({...s,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,er.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const A=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(A,b)}t.browserUrlTree=b.urlAfterRedirects}const I=new SC(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:I,source:A,restoredState:F,extras:z}=l,te=new Qb(b,this.urlSerializer.serialize(I),A,F);this.events.next(te);const ae=VC(I,this.rootComponentType).snapshot;return i={...l,targetSnapshot:ae,urlAfterRedirects:I,extras:{...z,skipLocationChange:!1,replaceUrl:!1}},(0,gt.of)(i)}{const b="";return this.events.next(new pf(l.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ss.E}}),(0,er.b)(l=>{const u=new TC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),(0,vt.U)(l=>i={...l,guards:Op(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function ok(n,e){return(0,os.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,gt.of)({...t,guardsResult:!0}):function ak(n,e,t,i){return(0,Qn.D)(n).pipe((0,os.z)(r=>function lv(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,gt.of)(!0);const l=s.map(u=>{const m=yf(e)??r,_=bf(u,m);return ic(function ik(n){return n&&xf(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):m.runInContext(()=>_(n,e,t,i))).pipe(tc())});return(0,gt.of)(l).pipe(Cu())}(r.component,r.route,t,e,i)),tc(r=>!0!==r,!0))}(l,i,r,n).pipe((0,os.z)(u=>u&&function tk(n){return"boolean"==typeof n}(u)?function u2(n,e,t,i){return(0,Qn.D)(e).pipe((0,nc.b)(r=>ec(function f2(n,e){return null!==n&&e&&e(new PC(n)),(0,gt.of)(!0)}(r.route.parent,i),function h2(n,e){return null!==n&&e&&e(new zA(n)),(0,gt.of)(!0)}(r.route,i),function QC(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function ek(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>td(()=>{const u=l.guards.map(m=>{const _=yf(l.node)??t,b=bf(m,_);return ic(function nk(n){return n&&xf(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(tc())});return(0,gt.of)(u).pipe(Cu())}));return(0,gt.of)(s).pipe(Cu())}(n,r.path,t),function m2(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,gt.of)(!0);const r=i.map(s=>td(()=>{const l=yf(e)??t,u=bf(s,l);return ic(function Fp(n){return n&&xf(n.canActivate)}(u)?u.canActivate(e,n):l.runInContext(()=>u(e,n))).pipe(tc())}));return(0,gt.of)(r).pipe(Cu())}(n,r.route,t))),tc(r=>!0!==r,!0))}(i,s,n,e):(0,gt.of)(u)),(0,vt.U)(u=>({...t,guardsResult:u})))})}(this.environmentInjector,l=>this.events.next(l)),(0,er.b)(l=>{if(i.guardsResult=l.guardsResult,yu(l.guardsResult))throw jC(0,l.guardsResult);const u=new MC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),(0,Ri.h)(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),p0(l=>{if(l.guards.canActivateChecks.length)return(0,gt.of)(l).pipe((0,er.b)(u=>{const m=new AC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),(0,ki.w)(u=>{let m=!1;return(0,gt.of)(u).pipe(function mI(n,e){return(0,os.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,gt.of)(t);let s=0;return(0,Qn.D)(r).pipe((0,nc.b)(l=>function yk(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!gI(r)&&(s[_u]=r.title),function bk(n,e,t,i){const r=function pI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,gt.of)({});const s={};return(0,Qn.D)(r).pipe((0,os.z)(l=>function wk(n,e,t,i){const r=yf(e)??i,s=bf(n,r);return ic(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(tc(),(0,er.b)(u=>{s[l]=u}))),cf(1),function OA(n){return(0,vt.U)(()=>n)}(s),(0,Ca.K)(l=>ov(l)?Ss.E:jo(l)))}(s,n,e,i).pipe((0,vt.U)(l=>(n._resolvedData=l,n.data=e0(n,t).resolve,r&&gI(r)&&(n.data[_u]=r.title),null)))}(l.route,i,n,e)),(0,er.b)(()=>s++),cf(1),(0,os.z)(l=>s===r.length?(0,gt.of)(t):Ss.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,er.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,er.b)(u=>{const m=new kC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),p0(l=>{const u=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,er.b)(b=>{m.component=b}),(0,vt.U)(()=>{})));for(const b of m.children)_.push(...u(b));return _};return sf(u(l.targetSnapshot.root)).pipe(H_(),(0,Wr.q)(1))}),p0(()=>this.afterPreactivation()),(0,vt.U)(l=>{const u=function HC(n,e,t){const i=wu(n,e._root,t?t._root:void 0);return new BC(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:u}}),(0,er.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(i=>(new JA(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,Wr.q)(1),(0,er.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new id(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),gu(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,Ca.K)(l=>{if(s=!0,iv(l)){QA(l)||(t.navigated=!0,t.restoreHistory(i,!0));const u=new Mp(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(u),QA(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||vI(i.source)};t.scheduleNavigation(m,mf,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const u=new gf(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(t.errorHandler(l))}catch(m){i.reject(m)}}return Ss.E}))}))}cancelNavigationTransition(t,i,r){const s=new Mp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vI(n){return n!==mf}let _0=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===cn);return i}getResolvedTitleForRoute(t){return t.data[_u]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Df)},providedIn:"root"}),n})(),Df=(()=>{class n extends _0{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Rm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(_2)},providedIn:"root"}),n})();class xk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let _2=(()=>{class n extends xk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sf=new o.OlP("",{providedIn:"root",factory:()=>({})});let Ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(v0)},providedIn:"root"}),n})(),v0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wI(n){throw n}function b0(n,e,t){return e.parse("/")}const xI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(Sf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||b0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(Ek),this.routeReuseStrategy=(0,o.f3M)(yI),this.urlCreationStrategy=(0,o.f3M)(YA),this.titleStrategy=(0,o.f3M)(_0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gC((0,o.f3M)(sd,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(If),this.urlSerializer=(0,o.f3M)(Cp),this.location=(0,o.f3M)(Re),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const u=this.parseUrl(t);this.scheduleNavigation(u,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(c0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:u,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:l;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,b,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=yu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,mf,null,i)}navigate(t,i={skipLocationChange:!1}){return function CI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...xI}:!1===i?{...EI}:i,yu(t))return Ub(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Ub(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let u,m,_,b;return l?(u=l.resolve,m=l.reject,_=l.promise):_=new Promise((I,A)=>{u=I,m=A}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:u,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oc=(()=>{class n{constructor(t,i,r,s,l,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new zt.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof id&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Kr),o.Y36(rd),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(We))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class II{}let DI=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ri.h)(t=>t instanceof id),(0,nc.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,u=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,Qn.D)(r).pipe((0,fl.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,gt.of)(null);const s=r.pipe((0,os.z)(l=>null===l?(0,gt.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Qn.D)([s,l]).pipe((0,fl.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Kr),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(II),o.LFG(fv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w0=new o.OlP("");let SI=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof id&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var Wo=(()=>((Wo=Wo||{})[Wo.COMPLETE=0]="COMPLETE",Wo[Wo.FAILED=1]="FAILED",Wo[Wo.REDIRECTING=2]="REDIRECTING",Wo))();const Tf=!1;function od(n,e){return{\u0275kind:n,\u0275providers:e}}const x0=new o.OlP("",{providedIn:"root",factory:()=>!1});function MI(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const i=n.get(Kr),r=n.get(AI);1===n.get(E0)&&i.initialNavigation(),n.get(C0,null,o.XFs.Optional)?.setUpPreloading(),n.get(w0,null,o.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const AI=new o.OlP(Tf?"bootstrap done indicator":"",{factory:()=>new zt.x}),E0=new o.OlP(Tf?"initial navigation":"",{providedIn:"root",factory:()=>1});function RI(){let n=[];return n=Tf?[{provide:o.Xts,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Kr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function $A(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],od(1,n)}const C0=new o.OlP(Tf?"router preloader":"");function OI(n){return od(0,[{provide:C0,useExisting:DI},{provide:II,useExisting:n}])}const pv=!1,PI=new o.OlP(pv?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ak=[Re,{provide:Cp,useClass:Ip},Kr,vf,{provide:rd,useFactory:function TI(n){return n.routerState.root},deps:[Kr]},fv,pv?{provide:x0,useValue:!0}:[]];function kk(){return new o.PXZ("Router",Kr)}let Vp=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Ak,pv&&i?.enableTracing?RI().\u0275providers:[],{provide:sd,multi:!0,useValue:t},{provide:PI,useFactory:gl,deps:[[Kr,new o.FiY,new o.tp0]]},{provide:Sf,useValue:i||{}},i?.useHash?{provide:We,useClass:Ne}:{provide:We,useClass:Ie},{provide:w0,useFactory:()=>{const n=(0,o.f3M)(yc),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(Sf),i=(0,o.f3M)(If),r=(0,o.f3M)(Cp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new SI(r,i,n,e,t)}},i?.preloadingStrategy?OI(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:kk},i?.initialNavigation?Ok(i):[],[{provide:Hp,useFactory:MI},{provide:o.tb,multi:!0,useExisting:Hp}]]}}static forChild(t){return{ngModule:n,providers:[{provide:sd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(PI,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[o0]}),n})();function gl(n){if(pv&&n)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ok(n){return["disabled"===n.initialNavigation?od(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Kr);return()=>{e.setUpLocationChangeListener()}}},{provide:E0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?od(2,[{provide:E0,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(ee,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Kr),s=e.get(AI);(function Sk(n,e){n.events.pipe((0,Ri.h)(t=>t instanceof id||t instanceof Mp||t instanceof gf||t instanceof pf),(0,vt.U)(t=>t instanceof id||t instanceof pf?Wo.COMPLETE:t instanceof Mp&&(0===t.code||1===t.code)?Wo.REDIRECTING:Wo.FAILED),(0,Ri.h)(t=>t!==Wo.REDIRECTING),(0,Wr.q)(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(If).afterPreactivation=()=>(i(!0),s.closed?(0,gt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Hp=new o.OlP(pv?"Router Initializer":""),Pk=[{path:"",redirectTo:"login",pathMatch:"full"}];let Nk=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Vp.forRoot(Pk,{useHash:!0}),Vp]}),n})(),Du=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[kA,RA,Nk]}),n})();function rn(n){return null!=n&&"false"!=`${n}`}function Yr(n,e=0){return function Fk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function zp(n){return Array.isArray(n)?n:[n]}function hr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ia(n){return n instanceof o.SBq?n.nativeElement:n}var D0=T(1144);const S0=["addListener","removeListener"],NI=["addEventListener","removeEventListener"],T0=["on","off"];function Mf(n,e,t,i){if((0,rs.m)(t)&&(i=t,t=void 0),i)return Mf(n,e,t).pipe(ob(i));const[r,s]=function Uk(n){return(0,rs.m)(n.addEventListener)&&(0,rs.m)(n.removeEventListener)}(n)?NI.map(l=>u=>n[l](e,u,t)):function Bk(n){return(0,rs.m)(n.addListener)&&(0,rs.m)(n.removeListener)}(n)?S0.map(FI(n,e)):function Vk(n){return(0,rs.m)(n.on)&&(0,rs.m)(n.off)}(n)?T0.map(FI(n,e)):[];if(!r&&(0,D0.z)(n))return(0,os.z)(l=>Mf(l,e,t))((0,Zc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ji.y(l=>{const u=(...m)=>l.next(1<m.length?m:m[0]);return r(u),()=>s(u)})}function FI(n,e){return t=>i=>n[t](e,i)}var M0=T(4408);const Su={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Su;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Cr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Su;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Su;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var A0=T(7565);const VI=new class BI extends A0.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class LI extends M0.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Su.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Su.cancelAnimationFrame(t),e._scheduled=void 0)}});let gv,UI=1;const _v={};function k0(n){return n in _v&&(delete _v[n],!0)}const HI={setImmediate(n){const e=UI++;return _v[e]=!0,gv||(gv=Promise.resolve()),gv.then(()=>k0(e)&&n()),e},clearImmediate(n){k0(n)}},{setImmediate:Af,clearImmediate:Hk}=HI,vv={setImmediate(...n){const{delegate:e}=vv;return(e?.setImmediate||Af)(...n)},clearImmediate(n){const{delegate:e}=vv;return(e?.clearImmediate||Hk)(n)},delegate:void 0},jI=new class S2 extends A0.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class D2 extends M0.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=vv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(vv.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var ad=T(4986),R0=T(3532),zk=T(1165);function O0(n,e=ad.z){return function jk(n){return(0,ss.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const u=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}l&&t.complete()},m=()=>{s=null,l&&t.complete()};e.subscribe((0,Er.x)(t,_=>{i=!0,r=_,s||(0,Zc.Xf)(n(_)).subscribe(s=(0,Er.x)(t,u,m))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function GI(n=0,e,t=ad.P){let i=-1;return null!=e&&((0,R0.K)(e)?t=e:i=e),new Ji.y(r=>{let s=(0,zk.q)(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}var tr=T(2722);let P0;try{P0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P0=!1}let Tu,Ei=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function So(n){return n===xm}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yv(){if(Tu)return Tu;if("object"!=typeof document||!document)return Tu=new Set(Gp),Tu;let n=document.createElement("input");return Tu=new Set(Gp.filter(e=>(n.setAttribute("type",e),n.type===e))),Tu}let bv,$p,qo,Wp;function kf(n){return function $I(){if(null==bv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bv=!0}))}finally{bv=bv||!1}return bv}()?n:!!n.capture}function WI(){if(null==qo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qo=!1,qo;if("scrollBehavior"in document.documentElement.style)qo=!0;else{const n=Element.prototype.scrollTo;qo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qo}function Rf(){if("object"!=typeof document||!document)return 0;if(null==$p){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),$p=0,0===n.scrollLeft&&(n.scrollLeft=1,$p=0===n.scrollLeft?1:2),n.remove()}return $p}function ld(n){return n.composedPath?n.composedPath()[0]:n.target}function N0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Wk=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function qI(){return(0,o.f3M)(j)}}),KI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Da=(()=>{class n{constructor(t){this.value="ltr",this.change=new o.vpe,t&&(this.value=function qk(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?KI.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Wk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Yk=["contentWrapper"],YI=["*"],Zk=new o.OlP("VIRTUAL_SCROLL_STRATEGY");let wv=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ji.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(O0(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,gt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Ri.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ia(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(Ei),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QI=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new zt.x,this._elementScrolled=new Ji.y(l=>this.ngZone.runOutsideAngular(()=>Mf(this.elementRef.nativeElement,"scroll").pipe((0,tr.R)(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Rf()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Rf()?t.left=t.right:1==Rf()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;WI()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==Rf()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==Rf()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(wv),o.Y36(o.R0b),o.Y36(Da,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Of=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(O0(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei),o.LFG(o.R0b),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eR=new o.OlP("VIRTUAL_SCROLLABLE");let k2=(()=>{class n extends QI{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(wv),o.Y36(o.R0b),o.Y36(Da,8))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const O2=typeof requestAnimationFrame<"u"?VI:jI;let P2=(()=>{class n extends k2{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=rn(t)}constructor(t,i,r,s,l,u,m,_){super(t,u,r,l),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=_,this._platform=(0,o.f3M)(Ei),this._detachedSubject=new zt.x,this._renderedRangeSubject=new zt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ji.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(I=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(I))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Cr.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ea(null),O0(0,O2)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,tr.R)(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function R2(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,l=s?"X":"Y";let m=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(m+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",l="rtl"==this.dir?.value;i="start"==t?l?s:r:"end"==t?l?r:s:t||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Zk,8),o.Y36(Da,8),o.Y36(wv),o.Y36(Of),o.Y36(eR,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&o.Gf(Yk,7),2&t){let r;o.iGM(r=o.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[o._Bn([{provide:QI,useFactory:(e,t)=>e||t,deps:[[new o.FiY,new o.tBr(eR)],n]}]),o.qOj,o.jDz],ngContentSelectors:YI,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&t&&(o.xp6(3),o.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Kp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qp,Kp,P2,qp,Kp]}),n})();function Nf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Cv=T(8372),_D=T(5684),Yp=T(1884);const AR=new Set;let Zp,bB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function kR(n){if(!AR.has(n))try{Zp||(Zp=document.createElement("style"),Zp.setAttribute("type","text/css"),document.head.appendChild(Zp)),Zp.sheet&&(Zp.sheet.insertRule(`@media ${n} {body{ }}`,0),AR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let vD=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new zt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return RR(zp(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=sf(RR(zp(t)).map(l=>this._registerQuery(l).observable));return s=ec(s.pipe((0,Wr.q)(1)),s.pipe((0,_D.T)(1),(0,Cv.b)(0))),s.pipe((0,vt.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:_})=>{u.matches=u.matches||m,u.breakpoints[_]=m}),u}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ji.y(l=>{const u=m=>this._zone.run(()=>l.next(m));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Ea(i),(0,vt.U)(({matches:l})=>({query:t,matches:l})),(0,tr.R)(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(bB),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class M{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zt.x,this._typeaheadSubscription=Cr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new zt.x,this.change=new zt.x,e instanceof o.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,er.b)(t=>this._pressedLetters.push(t)),(0,Cv.b)(e),(0,Ri.h)(()=>this._pressedLetters.length>0),(0,vt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||Nf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class N extends M{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class K extends M{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function EB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const q5=new o.OlP("cdk-input-modality-detector-options"),K5={ignoreKeys:[18,17,224,91,16]},Iv=kf({passive:!0,capture:!0});let Y5=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new is.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ld(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EB(l)?"keyboard":"mouse"),this._mostRecentTarget=ld(l))},this._onTouchstart=l=>{CB(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ld(l))},this._options={...K5,...s},this.modalityDetected=this._modality.pipe((0,_D.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Yp.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Iv),r.addEventListener("mousedown",this._onMousedown,Iv),r.addEventListener("touchstart",this._onTouchstart,Iv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Iv),document.removeEventListener("mousedown",this._onMousedown,Iv),document.removeEventListener("touchstart",this._onTouchstart,Iv))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei),o.LFG(o.R0b),o.LFG(j),o.LFG(q5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z5=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Q5(){return null}}),X5=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let J5=0,PR=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,l;return 1===i.length&&"number"==typeof i[0]?l=i[0]:[s,l]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+J5++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],l=s.getAttribute("aria-owns");l?-1===l.indexOf(t)&&s.setAttribute("aria-owns",l+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Z5,8),o.LFG(o.R0b),o.LFG(j),o.LFG(X5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eW=new o.OlP("cdk-focus-monitor-default-options"),yD=kf({passive:!0,capture:!0});let NR=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zt.x,this._rootNodeFocusAndBlurListener=u=>{for(let _=ld(u);_;_=_.parentElement)"focus"===u.type?this._onFocus(u,_):this._onBlur(u,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=Ia(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,gt.of)(null);const s=function $k(n){if(function T2(){if(null==Wp){const n=typeof document<"u"?document.head:null;Wp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Wp}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new zt.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const i=Ia(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Ia(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,m])=>this._originChanged(u,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=ld(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,tr.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(Ei),o.LFG(Y5),o.LFG(j,8),o.LFG(eW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DB="cdk-high-contrast-black-on-white",SB="cdk-high-contrast-white-on-black",FR="cdk-high-contrast-active";let tW=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,o.f3M)(vD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(FR,DB,SB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(FR,DB):2===i&&t.add(FR,SB)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nW=["text"];function iW(n,e){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const t=o.oxw();o.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function rW(n,e){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const t=o.oxw();o.Q6J("disabled",t.disabled)}}function sW(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij("(",t.group.label,")")}}const oW=[[["mat-icon"]],"*"],aW=["mat-icon","*"],cW=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function lW(){return!0}});let An=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!N0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(tW),o.LFG(cW,8),o.LFG(j))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qp,qp]}),n})();function LR(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e)}constructor(...e){super(...e),this._disabled=!1}}}function z0(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function bD(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function BR(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Yr(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function AB(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let kB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,An]}),n})();class uW{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const OB=kf({passive:!0,capture:!0});class hW{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ld(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,OB)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,OB)))}}const PB={enterDuration:225,exitDuration:150},NB=kf({passive:!0,capture:!0}),FB=["mousedown","touchstart"],LB=["mouseup","mouseleave","touchend","touchcancel"];class Dv{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ia(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...PB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function mW(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),u=e-r.left,m=t-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-l+"px",b.style.top=m-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const I=window.getComputedStyle(b),F=I.transitionDuration,z="none"===I.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,te=new uW(this,b,i,z);b.style.transform="scale3d(1, 1, 1)",te.state=0,i.persistent||(this._mostRecentTransientRipple=te);let ae=null;return!z&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(te),Qe=()=>this._destroyRipple(te);b.addEventListener("transitionend",je),b.addEventListener("transitioncancel",Qe),ae={onTransitionEnd:je,onTransitionCancel:Qe}}),this._activeRipples.set(te,ae),(z||!_)&&this._finishRippleTransition(te),te}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...PB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ia(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,FB.forEach(i=>{Dv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{LB.forEach(t=>{this._triggerElement.addEventListener(t,this,NB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=EB(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!CB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(FB.forEach(t=>Dv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&LB.forEach(t=>e.removeEventListener(t,this,NB)))}}Dv._eventManager=new hW;const wD=new o.OlP("mat-ripple-global-options");let Ff=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Dv(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Ei),o.Y36(wD,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,An]}),n})(),pW=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An]}),n})();const VB=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),UB=new o.OlP("MatOptgroup");let gW=0;class _W{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let vW=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=rn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gW++,this.onSelectionChange=new o.vpe,this._stateChanges=new zt.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Nf(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new _W(this,t))}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(nW,7),2&t){let r;o.iGM(r=o.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),HB=(()=>{class n extends vW{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(VB,8),o.Y36(UB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(o.Ikx("id",i.id),o.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),o.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:aW,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(o.F$t(oW),o.YNc(0,iW,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,rW,1,1,"mat-pseudo-checkbox",3),o.YNc(6,sW,2,1,"span",4),o._UZ(7,"div",5)),2&t&&(o.Q6J("ngIf",i.multiple),o.xp6(5),o.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Ff,Mi,pW],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Sv,Ai,An,BB]}),n})(),xW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ai,An,Kp,Kp,An]}),n})(),jB=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=rn(t)}get inset(){return this._inset}set inset(t){this._inset=rn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,An]}),n})();const EW=["*",[["mat-toolbar-row"]]],CW=["*","mat-toolbar-row"],IW=z0(class{constructor(n){this._elementRef=n}});let GB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),DW=(()=>{class n extends IW{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(j))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,GB,5),2&t){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:CW,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(EW),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),SW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,An]}),n})();const $B=kf({passive:!0});let TW=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ss.E;const i=Ia(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zt.x,l="cdk-text-field-autofilled",u=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,$B),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,$B)}}),s}stopMonitoring(t){const i=Ia(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var _l=T(6451);let WB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AW=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Ia(t);return new Ji.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new zt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(WB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qB=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Yr(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,Cv.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(AW),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WB]}),n})();const kW=["matFormFieldNotchedOutline",""],RW=["*"],OW=["textField"],PW=["iconPrefixContainer"],NW=["textPrefixContainer"];function FW(n,e){1&n&&o._UZ(0,"span",19)}function LW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",17),o.NdJ("cdkObserveContent",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r._refreshOutlineNotchWidth())}),o.Hsn(1,1),o.YNc(2,FW,1,0,"span",18),o.qZA()}if(2&n){const t=o.oxw(2);o.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),o.uIk("for",t._control.id)("aria-owns",t._control.id),o.xp6(2),o.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function BW(n,e){if(1&n&&o.YNc(0,LW,3,6,"label",16),2&n){const t=o.oxw();o.Q6J("ngIf",t._hasFloatingLabel())}}function VW(n,e){1&n&&o._UZ(0,"div",20)}function UW(n,e){}function HW(n,e){if(1&n&&o.YNc(0,UW,0,0,"ng-template",22),2&n){o.oxw(2);const t=o.MAs(1);o.Q6J("ngTemplateOutlet",t)}}function jW(n,e){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,HW,1,1,"ng-template",9),o.qZA()),2&n){const t=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),o.xp6(1),o.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function zW(n,e){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function GW(n,e){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function $W(n,e){}function WW(n,e){if(1&n&&o.YNc(0,$W,0,0,"ng-template",22),2&n){o.oxw();const t=o.MAs(1);o.Q6J("ngTemplateOutlet",t)}}function qW(n,e){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function KW(n,e){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function YW(n,e){1&n&&o._UZ(0,"div",29)}function ZW(n,e){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState)}}function QW(n,e){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("id",t._hintLabelId),o.xp6(1),o.Oqu(t.hintLabel)}}function XW(n,e){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,QW,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",t.hintLabel)}}const JW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],e8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),t8=0;const YB=new o.OlP("MatError");let UR=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+t8++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&o.Ikx("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:YB,useExisting:n}])]}),n})(),n8=0,ZB=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+n8++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(o.Ikx("id",i.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const i8=new o.OlP("MatPrefix"),QB=new o.OlP("MatSuffix");let XB=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[o._Bn([{provide:QB,useExisting:n}])]}),n})(),JB=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function r8(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const eV="mdc-line-ripple--active",xD="mdc-line-ripple--deactivating";let tV=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(xD);"opacity"===r.propertyName&&l&&s.remove(eV,xD)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(xD),t.add(eV)}deactivate(){this._elementRef.nativeElement.classList.add(xD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),nV=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:kW,ngContentSelectors:RW,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&t&&(o.xp6(1),o.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const s8={transitionMessages:fs("transitionMessages",[zr("enter",Wn({opacity:1,transform:"translateY(0%)"})),ti("void => enter",[Wn({opacity:0,transform:"translateY(-5px)"}),xi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})();const jR=new o.OlP("MatFormField"),o8=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let iV=0,ED=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=rn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,u,m,_){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=u,this._animationMode=m,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+iV++,this._hintLabelId="mat-mdc-hint-"+iV++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new zt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,tr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,_l.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,tr.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,tr.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Da),o.Y36(Ei),o.Y36(o8,8),o.Y36(o.QbO,8),o.Y36(j))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,Tv,5),o.Suo(r,Tv,7),o.Suo(r,HR,5),o.Suo(r,i8,5),o.Suo(r,QB,5),o.Suo(r,YB,5),o.Suo(r,ZB,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._formFieldControl=s.first),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(OW,5),o.Gf(PW,5),o.Gf(NW,5),o.Gf(JB,5),o.Gf(nV,5),o.Gf(tV,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._textField=r.first),o.iGM(r=o.CRH())&&(i._iconPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._textPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._floatingLabel=r.first),o.iGM(r=o.CRH())&&(i._notchedOutline=r.first),o.iGM(r=o.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&o.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:jR,useExisting:n}])],ngContentSelectors:e8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(o.F$t(JW),o.YNc(0,BW,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(4,VW,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,jW,2,3,"div",5),o.YNc(7,zW,3,0,"div",6),o.YNc(8,GW,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,WW,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,qW,2,0,"div",10),o.YNc(13,KW,2,0,"div",11),o.qZA(),o.YNc(14,YW,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,ZW,2,1,"div",14),o.YNc(17,XW,5,2,"div",15),o.qZA()),2&t&&(o.xp6(2),o.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),o.xp6(2),o.Q6J("ngIf",i._hasOutline()),o.xp6(1),o.Q6J("ngIf",i._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",i._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",i._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",i._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!i._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Mi,xe,Vs,ds,qB,ZB,JB,nV,tV],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[s8.transitionMessages]},changeDetection:0}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,Ai,KB,An]}),n})();const c8=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),d8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let u8=0;const h8=AB(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new zt.x}});let GR=(()=>{class n extends h8{get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vo.required)??!1}set required(t){this._required=rn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&yv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=rn(t)}constructor(t,i,r,s,l,u,m,_,b,I){super(u,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=I,this._uid="mat-input-"+u8++,this.focused=!1,this.stateChanges=new zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>yv().has(z)),this._iOSKeyupListener=z=>{const te=z.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,F=A.nodeName.toLowerCase();this._inputValueAccessor=m||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){d8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(Bt,10),o.Y36(ef,8),o.Y36(Jc,8),o.Y36(kB),o.Y36(c8,10),o.Y36(TW),o.Y36(o.R0b),o.Y36(jR,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(o.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),o.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:HR,useExisting:n}]),o.qOj,o.TTD]}),n})(),f8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,zR,zR,MW,An]}),n})();const m8=["*"],_8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],v8=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],y8=new o.OlP("MAT_CARD_CONFIG");let Mv=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(y8,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:m8,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:v8,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(o.F$t(_8),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),CD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]}),n})(),A8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,Ai,An]}),n})();class $R{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class WR extends $R{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class ID extends $R{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class k8 extends $R{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class qR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof WR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ID?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof k8?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R8 extends qR{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,m=this._document.createComment("dom-portal");u.parentNode.insertBefore(m,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(u,m)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let KR=(()=>{class n extends qR{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const l=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(j))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const oV=WI();class O8{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hr(-this._previousScrollPosition.left),e.style.top=hr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),oV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oV&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class P8{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,Ri.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aV{enable(){}disable(){}attach(){}}function ZR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function lV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class N8{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ZR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let F8=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aV,this.close=l=>new P8(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new O8(this._viewportRuler,this._document),this.reposition=l=>new N8(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wv),o.LFG(Of),o.LFG(o.R0b),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QR{constructor(e){if(this.scrollStrategy=new aV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class L8{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let cV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B8=(()=>{class n extends cV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const u=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V8=(()=>{class n extends cV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ld(s)},this._clickListener=s=>{const l=ld(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const b=m[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(u))break;const I=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j),o.LFG(Ei),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dV=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||N0()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),N0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(j),o.LFG(Ei))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class U8{constructor(e,t,i,r,s,l,u,m,_,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=u,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new zt.x,this._attachments=new zt.x,this._detachments=new zt.x,this._locationChanges=Cr.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new zt.x,this._outsidePointerEvents=new zt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Wr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hr(this._config.width),e.height=hr(this._config.height),e.minWidth=hr(this._config.minWidth),e.minHeight=hr(this._config.minHeight),e.maxWidth=hr(this._config.maxWidth),e.maxHeight=hr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=zp(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,tr.R)((0,_l.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const uV="cdk-overlay-connected-position-bounding-box",H8=/([A-Za-z%]+)$/;class j8{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zt.x,this._resizeSubscription=Cr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(uV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let u of this._preferredPositions){let m=this._getOriginPoint(e,r,u),_=this._getOverlayPoint(m,t,u),b=this._getOverlayFit(_,t,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,m);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:u,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,u)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:m,position:u,overlayRect:t})}if(s.length){let u=null,m=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(uV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==i.originX?l:u}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=fV(t);let{x:l,y:u}=e,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(l+=m),_&&(u+=_);let A=0-u,F=u+s.height-i.height,z=this._subtractOverflows(s.width,0-l,l+s.width-i.width),te=this._subtractOverflows(s.height,A,F),ae=z*te;return{visibleArea:ae,isCompletelyWithinViewport:s.width*s.height===ae,fitsInViewportVertically:te===s.height,fitsInViewportHorizontally:z==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=hV(this._overlayRef.getConfig().minHeight),u=hV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=fV(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),u=Math.max(e.y+r.height-s.height,0),m=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let b=0,I=0;return b=r.width<=s.width?_||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,I=r.height<=s.height?m||-u:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:I},{x:e.x+b,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new L8(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,u,b,I,A;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)u=i.height-e.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),z=this._lastBoundingBoxSize.height;s=2*F,l=e.y-F,s>z&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)A=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,b=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),z=this._lastBoundingBoxSize.width;b=2*F,I=e.x-F,b>z&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-z/2)}return{top:l,left:I,bottom:u,right:A,width:b,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=hr(i.height),r.top=hr(i.top),r.bottom=hr(i.bottom),r.width=hr(i.width),r.left=hr(i.left),r.right=hr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=hr(s)),l&&(r.maxWidth=hr(l))}this._lastBoundingBoxSize=i,Qp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Qp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Qp(i,this._getExactOverlayY(t,e,b)),Qp(i,this._getExactOverlayX(t,e,b))}else i.position="static";let u="",m=this._getOffset(t,"x"),_=this._getOffset(t,"y");m&&(u+=`translateX(${m}px) `),_&&(u+=`translateY(${_}px)`),i.transform=u.trim(),l.maxHeight&&(r?i.maxHeight=hr(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=hr(l.maxWidth):s&&(i.maxWidth="")),Qp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=hr(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=hr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lV(e,i),isOriginOutsideView:ZR(e,i),isOverlayClipped:lV(t,i),isOverlayOutsideView:ZR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&zp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof o.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Qp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function hV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(H8);return t&&"px"!==t?null:parseFloat(e)}return n||null}function fV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const mV="cdk-global-overlay-wrapper";class z8{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(mV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:u}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,I=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let F="",z="",te="";m?te="flex-start":"center"===b?(te="center",A?z=I:F=I):A?"left"===b||"end"===b?(te="flex-end",F=I):("right"===b||"start"===b)&&(te="flex-start",z=I):"left"===b||"start"===b?(te="flex-start",F=I):("right"===b||"end"===b)&&(te="flex-end",z=I),e.position=this._cssPosition,e.marginLeft=m?"0":F,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=m?"0":z,t.justifyContent=te,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(mV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let G8=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new z8}flexibleConnectedTo(t){return new j8(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Of),o.LFG(j),o.LFG(Ei),o.LFG(dV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$8=0,Xp=(()=>{class n{constructor(t,i,r,s,l,u,m,_,b,I,A,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=u,this._ngZone=m,this._document=_,this._directionality=b,this._location=I,this._outsideClickDispatcher=A,this._animationsModuleType=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new QR(t);return l.direction=l.direction||this._directionality.value,new U8(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$8++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new R8(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(F8),o.LFG(dV),o.LFG(o._Vd),o.LFG(G8),o.LFG(B8),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(j),o.LFG(Da),o.LFG(Re),o.LFG(V8),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W8=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],pV=new o.OlP("cdk-connected-overlay-scroll-strategy");let XR=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),gV=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=rn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=rn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=rn(t)}get push(){return this._push}set push(t){this._push=rn(t)}constructor(t,i,r,s,l){this._overlay=t,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Cr.w0.EMPTY,this._attachSubscription=Cr.w0.EMPTY,this._detachSubscription=Cr.w0.EMPTY,this._positionSubscription=Cr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new ID(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=W8);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Nf(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new QR({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof XR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(j_(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Xp),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(pV),o.Y36(Da,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]}),n})();const K8={provide:pV,deps:[Xp],useFactory:function q8(n){return()=>n.scrollStrategies.reposition()}};let JR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Xp,K8],imports:[qp,YR,xv,xv]}),n})();const X8={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[Xp],useFactory:function Q8(n){return()=>n.scrollStrategies.reposition()}};let J8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[X8],imports:[Ai,Sv,An,JR,Kp,An]}),n})();var e1=T(3099);class t1{}class Lf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(u=>-1===s.indexOf(u)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class eq{encodeKey(e){return yV(e)}encodeValue(e){return yV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nq=/%(\d[a-f0-9])/gi,iq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yV(n){return encodeURIComponent(n).replace(nq,(e,t)=>iq[t]??e)}function DD(n){return`${n}`}class Bf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,u]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],m=t.get(l)||[];m.push(u),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(DD):[DD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(DD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(DD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wV(n){return typeof Blob<"u"&&n instanceof Blob}function xV(n){return typeof FormData<"u"&&n instanceof FormData}class $0{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Lf),this.context||(this.context=new rq),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+l}}else this.params=new Bf,this.urlWithParams=t}serializeBody(){return null===this.body?null:bV(this.body)||wV(this.body)||xV(this.body)||function oq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xV(this.body)?null:wV(this.body)?this.body.type||null:bV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((I,A)=>I.set(A,e.setHeaders[A]),m)),e.setParams&&(_=Object.keys(e.setParams).reduce((I,A)=>I.set(A,e.setParams[A]),_)),new $0(t,i,s,{params:_,headers:m,context:b,reportProgress:u,responseType:r,withCredentials:l})}}var Ms=(()=>((Ms=Ms||{})[Ms.Sent=0]="Sent",Ms[Ms.UploadProgress=1]="UploadProgress",Ms[Ms.ResponseHeader=2]="ResponseHeader",Ms[Ms.DownloadProgress=3]="DownloadProgress",Ms[Ms.Response=4]="Response",Ms[Ms.User=5]="User",Ms))();class aq{constructor(e,t=200,i="OK"){this.headers=e.headers||new Lf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class n1 extends aq{constructor(e={}){super(e),this.type=Ms.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new n1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function r1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let s1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof $0)s=t;else{let m,_;m=r.headers instanceof Lf?r.headers:new Lf(r.headers),r.params&&(_=r.params instanceof Bf?r.params:new Bf({fromObject:r.params})),s=new $0(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,gt.of)(s).pipe((0,nc.b)(m=>this.handler.handle(m)));if(t instanceof $0||"events"===r.observe)return l;const u=l.pipe((0,Ri.h)(m=>m instanceof n1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,vt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return u.pipe((0,vt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return u.pipe((0,vt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return u.pipe((0,vt.U)(m=>m.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Bf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,r1(r,i))}post(t,i,r={}){return this.request("POST",t,r1(r,i))}put(t,i,r={}){return this.request("PUT",t,r1(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(t1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const bq=["*"];let TD;function W0(n){return function wq(){if(void 0===TD&&(TD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(TD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return TD}()?.createHTML(n)||n}function AV(n){return Error(`Unable to find icon with the name "${n}"`)}function kV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let MD=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Jp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(o.q3G.HTML,r);if(!l)throw RV(r);const u=W0(l);return this._addSvgIconConfig(t,i,new Jp("",u,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Jp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw RV(i);const l=W0(s);return this._addSvgIconSetConfig(t,new Jp("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,t);if(!i)throw kV(t);const r=this._cachedIconsByUrl.get(i);return r?(0,gt.of)(AD(r)):this._loadSvgIconFromConfig(new Jp(t,null)).pipe((0,er.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,vt.U)(s=>AD(s)))}getNamedSvgIcon(t,i=""){const r=OV(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):jo(AV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,gt.of)(AD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,vt.U)(i=>AD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,gt.of)(r):Kh(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe((0,Ca.K)(u=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(_)),(0,gt.of)(null)})))).pipe((0,vt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw AV(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(l,t,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,er.b)(i=>t.svgText=i),(0,vt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,gt.of)(null):this._fetchIcon(t).pipe((0,er.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const u=this._svgElementFromString(W0("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(W0("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:u}=r[s];"id"!==l&&i.setAttribute(l,u)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function xq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!l)throw kV(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const m=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,vt.U)(_=>W0(_)),gu(()=>this._inProgressUrlFetches.delete(l)),(0,e1.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(OV(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Cq(s)?new Jp(s.url,null,s.options):new Jp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(s1,8),o.LFG(Ja),o.LFG(j,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AD(n){return n.cloneNode(!0)}function OV(n,e){return n+":"+e}function Cq(n){return!(!n.url||!n.options)}const Iq=z0(class{constructor(n){this._elementRef=n}}),Dq=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),Sq=new o.OlP("mat-icon-location",{providedIn:"root",factory:function Tq(){const n=(0,o.f3M)(j),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),PV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mq=PV.map(n=>`[${n}]`).join(", "),Aq=/^url\(['"]?#(.*?)['"]?\)$/;let q0=(()=>{class n extends Iq{get inline(){return this._inline}set inline(t){this._inline=rn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,u){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Cr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Mq),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)PV.forEach(l=>{const u=i[s],m=u.getAttribute(l),_=m?m.match(Aq):null;if(_){let b=r.get(u);b||(b=[],r.set(u,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Wr.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(MD),o.$8M("aria-hidden"),o.Y36(Sq),o.Y36(o.qLn),o.Y36(Dq,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:bq,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,An]}),n})();const NV=["mat-button",""],FV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],LV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],BV=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Oq=["mat-icon-button",""],Pq=["*"],Nq=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Fq=z0(LR(bD(class{constructor(n){this._elementRef=n}})));let a1=(()=>{class n extends Fq{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(NR),this._isFab=!1;const l=t.nativeElement.classList;for(const u of Nq)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(Ff,5),2&t){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},features:[o.qOj]}),n})(),Bq=(()=>{class n extends a1{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),Pv=(()=>{class n extends a1{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:NV,ngContentSelectors:LV,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(FV),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),l1=(()=>{class n extends Bq{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:NV,ngContentSelectors:LV,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(FV),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',BV],encapsulation:2,changeDetection:0}),n})(),kD=(()=>{class n extends a1{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Oq,ngContentSelectors:Pq,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(o.F$t(),o._UZ(0,"span",0),o.Hsn(1),o._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(o.xp6(3),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',BV],encapsulation:2,changeDetection:0}),n})(),VV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,Sv,An]}),n})();class d1{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new zt.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let jV=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xv]}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,e7,An]}),n})();const y7=["switch"],b7=["*"],w7=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),x7={provide:Ws,useExisting:(0,o.Gpc)(()=>eU),multi:!0};class JV{constructor(e,t){this.source=e,this.checked=t}}let E7=0;const C7=BR(z0(bD(LR(class{constructor(n){this._elementRef=n}}))));let I7=(()=>{class n extends C7{get required(){return this._required}set required(t){this._required=rn(t)}get checked(){return this._checked}set checked(t){this._checked=rn(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,l,u,m){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=l,this._onChange=_=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===u,this.id=this._uniqueId=`${m}${++E7}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[o.qOj]}),n})(),eU=(()=>{class n extends I7{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,s,l,u){super(t,i,r,s,l,u,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new JV(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new JV(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(NR),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(w7),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&o.Gf(y7,5),2&t){let r;o.iGM(r=o.CRH())&&(i._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,i){2&t&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),o.ekj("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[o._Bn([x7]),o.qOj],ngContentSelectors:b7,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,i){if(1&t&&(o.F$t(),o.TgZ(0,"div",0)(1,"button",1,2),o.NdJ("click",function(){return i._handleClick()}),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"div",7),o.qZA(),o.TgZ(8,"div",8),o._UZ(9,"div",9),o.qZA(),o.TgZ(10,"div",10),o.O4$(),o.TgZ(11,"svg",11),o._UZ(12,"path",12),o.qZA(),o.TgZ(13,"svg",13),o._UZ(14,"path",14),o.qZA()()()()(),o.kcU(),o.TgZ(15,"label",15),o.NdJ("click",function(s){return s.stopPropagation()}),o.Hsn(16),o.qZA()()),2&t){const r=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==i.labelPosition),o.xp6(1),o.ekj("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),o.Q6J("tabIndex",i.tabIndex)("disabled",i.disabled),o.uIk("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),o.xp6(8),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),o.xp6(6),o.Q6J("for",i.buttonId),o.uIk("id",i._labelId)}},dependencies:[Ff],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),T7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tU,An,Sv,Ai,tU,An]}),n})();const M7=["trigger"],A7=["panel"];function k7(n,e){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.placeholder)}}function R7(n,e){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.triggerValue)}}function O7(n,e){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function P7(n,e){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,R7,2,1,"span",12),o.YNc(2,O7,1,0,"ng-content",13),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngSwitch",!!t.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function N7(n,e){if(1&n){const t=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const t=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),o.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),o.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const F7=[[["mat-select-trigger"]],"*"],L7=["mat-select-trigger","*"],B7={transformPanelWrap:fs("transformPanelWrap",[ti("* => void",Th("@transformPanel",[Xd()],{optional:!0}))]),transformPanel:fs("transformPanel",[zr("void",Wn({opacity:0,transform:"scale(1, 0.8)"})),ti("void => showing",xi("120ms cubic-bezier(0, 0, 0.2, 1)",Wn({opacity:1,transform:"scale(1, 1)"}))),ti("* => void",xi("100ms linear",Wn({opacity:0})))])};let nU=0;const iU=new o.OlP("mat-select-scroll-strategy"),U7=new o.OlP("MAT_SELECT_CONFIG"),H7={provide:iU,deps:[Xp],useFactory:function V7(n){return()=>n.scrollStrategies.reposition()}},j7=new o.OlP("MatSelectTrigger");class z7{constructor(e,t){this.source=e,this.value=t}}const G7=bD(BR(LR(AB(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new zt.x}}))));let $7=(()=>{class n extends G7{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Vo.required)??!1}set required(t){this._required=rn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=rn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=rn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Yr(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,s,l,u,m,_,b,I,A,F,z,te){super(l,s,m,_,I),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=b,this._liveAnnouncer=z,this._defaultOptions=te,this._panelOpen=!1,this._compareWith=(ae,je)=>ae===je,this._uid="mat-select-"+nU++,this._triggerAriaLabelledBy=null,this._destroy=new zt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+nU++,this._panelDoneAnimatingStream=new zt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=td(()=>{const ae=this.options;return ae?ae.changes.pipe(Ea(ae),(0,ki.w)(()=>(0,_l.T)(...ae.map(je=>je.onSelectionChange)))):this._ngZone.onStable.pipe((0,Wr.q)(1),(0,ki.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe((0,Ri.h)(ae=>ae),(0,vt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ri.h)(ae=>!ae),(0,vt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=te?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=te.typeaheadDebounceInterval),this._scrollStrategyFactory=F,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}ngOnInit(){this._selectionModel=new d1(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Yp.x)(),(0,tr.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,tr.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ea(null),(0,tr.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,l=this._keyManager;if(!l.isTyping()&&s&&!Nf(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;l.onKeydown(t);const m=this.selected;m&&u!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,l=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(l||13!==r&&32!==r||!i.activeItem||Nf(t))if(!l&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const u=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(u?m.select():m.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Wr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new N(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,_l.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,tr.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,_l.T)(...this.options.map(i=>i._stateChanges)).pipe((0,tr.R)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Of),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(kB),o.Y36(o.SBq),o.Y36(Da,8),o.Y36(ef,8),o.Y36(Jc,8),o.Y36(jR,8),o.Y36(Bt,10),o.$8M("tabindex"),o.Y36(iU),o.Y36(PR),o.Y36(U7,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&(o.Gf(M7,5),o.Gf(A7,5),o.Gf(gV,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),W7=(()=>{class n extends $7{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,tr.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,s=function yW(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let l=0;l<n+1;l++)i[l].group&&i[l].group===r[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),l=i._getHostElement();r.scrollTop=0===t&&1===s?0:function bW(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new z7(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof XR?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=rn(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,j7,5),o.Suo(r,HB,5),o.Suo(r,UB,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:HR,useExisting:n},{provide:VB,useExisting:n}]),o.qOj],ngContentSelectors:L7,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(o.F$t(F7),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,k7,2,1,"span",3),o.YNc(5,P7,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,N7,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Zt,Vs,ds,fi,gV,XR],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[B7.transformPanel]},changeDetection:0}),n})(),q7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[H7],imports:[Ai,JR,VR,An,Kp,zR,VR,An]}),n})();const rU=["*"];class Y7{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new Z7(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class Z7{constructor(e,t){this.row=e,this.col=t}}const sU=new o.OlP("MAT_GRID_LIST");let oU=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Yr(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Yr(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(sU,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&o.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:rU,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const Q7=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class w1{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=aU(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":eg(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,r,s),this.setRowStyles(e,t,r,s)}setColStyles(e,t,i,r){let s=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",eg(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class X7 extends w1{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=aU(this.fixedRowHeight),Q7.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",eg(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",eg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class J7 extends w1{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",eg(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",eg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class e9 extends w1{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",eg(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function eg(n){return`calc(${n})`}function aU(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let HD=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Yr(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new e9:t&&t.indexOf(":")>-1?new J7(t):new X7(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Y7);const t=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((s,l)=>{const u=t.positions[l];this._tileStyler.setStyle(s,u.row,u.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Da,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,oU,5),2&t){let s;o.iGM(s=o.CRH())&&(i._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:sU,useExisting:n}])],ngContentSelectors:rU,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),n9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[RB,An,RB,An]}),n})();function i9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(2),o.hij(" ",t.data.action," ")}}const r9=["label"];function s9(n,e){}const o9=Math.pow(2,31)-1;class x1{constructor(e,t){this._overlayRef=t,this._afterDismissed=new zt.x,this._afterOpened=new zt.x,this._onAction=new zt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,o9))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const lU=new o.OlP("MatSnackBarData");class jD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let a9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),l9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),c9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),d9=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(x1),o.Y36(lU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._uU(1),o.qZA(),o.YNc(2,i9,3,1,"div",1)),2&t&&(o.xp6(1),o.hij(" ",i.data.message,"\n"),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Mi,Pv,a9,l9,c9],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const u9={snackBarState:fs("state",[zr("void, hidden",Wn({transform:"scale(0.8)",opacity:0})),zr("visible",Wn({transform:"scale(1)",opacity:1})),ti("* => visible",xi("150ms cubic-bezier(0, 0, 0.2, 1)")),ti("* => void, * => hidden",xi("75ms cubic-bezier(0.4, 0.0, 1, 1)",Wn({opacity:0})))])};let h9=0,f9=(()=>{class n extends qR{constructor(t,i,r,s,l){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=l,this._document=(0,o.f3M)(j),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new zt.x,this._onExit=new zt.x,this._onEnter=new zt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+h9++,this.attachDomPortal=u=>{this._assertNotAttached();const m=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),m},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Wr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],l=s.getAttribute("aria-owns");this._trackedModals.add(s),l?-1===l.indexOf(t)&&s.setAttribute("aria-owns",l+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ei),o.Y36(jD))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&o.Gf(KR,7),2&t){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),m9=(()=>{class n extends f9{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&o.Gf(r9,7),2&t){let r;o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),o.YNc(4,s9,0,0,"ng-template",4),o.qZA(),o._UZ(5,"div"),o.qZA()()),2&t&&(o.xp6(5),o.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[KR],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[u9.snackBarState]}}),n})(),cU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[JR,YR,Ai,VV,An,An]}),n})();const dU=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function p9(){return new jD}});let g9=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,l,u){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=l,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:jD,useValue:i}]}),l=new WR(this.snackBarContainerComponent,i.viewContainerRef,s),u=t.attach(l);return u.instance.snackBarConfig=i,u.instance}_attach(t,i){const r={...new jD,...this._defaultConfig,...i},s=this._createOverlay(r),l=this._attachSnackBarContainer(s,r),u=new x1(l,s);if(t instanceof o.Rgc){const m=new ID(t,null,{$implicit:r.data,snackBarRef:u});u.instance=l.attachTemplatePortal(m)}else{const m=this._createInjector(r,u),_=new WR(t,void 0,m),b=l.attachComponentPortal(_);u.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,tr.R)(s.detachments())).subscribe(m=>{s.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),r.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new QR;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,l="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,u=!l&&"center"!==t.horizontalPosition;return l?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return o.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:x1,useValue:i},{provide:lU,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xp),o.LFG(PR),o.LFG(o.zs3),o.LFG(vD),o.LFG(n,12),o.LFG(dU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_9=(()=>{class n extends g9{constructor(t,i,r,s,l,u){super(t,i,r,s,l,u),this.simpleSnackBarComponent=d9,this.snackBarContainerComponent=m9,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xp),o.LFG(PR),o.LFG(o.zs3),o.LFG(vD),o.LFG(n,12),o.LFG(dU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:cU}),n})(),v9=0;const E1=new o.OlP("CdkAccordion");let y9=(()=>{class n{constructor(){this._stateChanges=new zt.x,this._openCloseAllActions=new zt.x,this.id="cdk-accordion-"+v9++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=rn(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:E1,useExisting:n}]),o.TTD]}),n})(),b9=0,w9=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=rn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Cr.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+b9++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(E1,12),o.Y36(o.sBO),o.Y36(jV))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:E1,useValue:void 0}])]}),n})(),x9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const E9=["body"];function C9(n,e){}const I9=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],D9=["mat-expansion-panel-header","*","mat-action-row"];function S9(n,e){if(1&n&&o._UZ(0,"span",2),2&n){const t=o.oxw();o.Q6J("@indicatorRotate",t._getExpandedState())}}const T9=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],M9=["mat-panel-title","mat-panel-description","*"],C1=new o.OlP("MAT_ACCORDION"),uU="225ms cubic-bezier(0.4,0.0,0.2,1)",hU={indicatorRotate:fs("indicatorRotate",[zr("collapsed, void",Wn({transform:"rotate(0deg)"})),zr("expanded",Wn({transform:"rotate(180deg)"})),ti("expanded <=> collapsed, void => collapsed",xi(uU))]),bodyExpansion:fs("bodyExpansion",[zr("collapsed, void",Wn({height:"0px",visibility:"hidden"})),zr("expanded",Wn({height:"*",visibility:"visible"})),ti("expanded <=> collapsed, void => collapsed",xi(uU))])},fU=new o.OlP("MAT_EXPANSION_PANEL");let A9=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc),o.Y36(fU,8))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),k9=0;const mU=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let pU=(()=>{class n extends w9{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=rn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,l,u,m){super(t,i,r),this._viewContainerRef=s,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new zt.x,this._headerId="mat-expansion-panel-header-"+k9++,this._bodyAnimationDone=new zt.x,this.accordion=t,this._document=l,this._bodyAnimationDone.pipe((0,Yp.x)((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{"void"!==_.fromState&&("expanded"===_.toState?this.afterExpand.emit():"collapsed"===_.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ea(null),(0,Ri.h)(()=>this.expanded&&!this._portal),(0,Wr.q)(1)).subscribe(()=>{this._portal=new ID(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(C1,12),o.Y36(o.sBO),o.Y36(jV),o.Y36(o.s_b),o.Y36(j),o.Y36(o.QbO,8),o.Y36(mU,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,A9,5),2&t){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&o.Gf(E9,5),2&t){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:C1,useValue:void 0},{provide:fU,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:D9,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(o.F$t(I9),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,C9,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},dependencies:[KR],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[hU.bodyExpansion]},changeDetection:0}),n})();class R9{}const O9=BR(R9);let gU=(()=>{class n extends O9{constructor(t,i,r,s,l,u,m){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=u,this._parentChangeSubscription=Cr.w0.EMPTY;const _=t.accordion?t.accordion._stateChanges.pipe((0,Ri.h)(b=>!(!b.hideToggle&&!b.togglePosition))):Ss.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,_l.T)(t.opened,t.closed,_,t._inputChanges.pipe((0,Ri.h)(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,Ri.h)(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Nf(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(pU,1),o.Y36(o.SBq),o.Y36(NR),o.Y36(o.sBO),o.Y36(mU,8),o.Y36(o.QbO,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:M9,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(o.F$t(T9),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,S9,1,1,"span",1)),2&t&&(o.ekj("mat-content-hide-toggle",!i._showToggle()),o.xp6(4),o.Q6J("ngIf",i._showToggle()))},dependencies:[Mi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[hU.indicatorRotate]},changeDetection:0}),n})(),P9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),N9=(()=>{class n extends y9{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=rn(t)}ngAfterContentInit(){this._headers.changes.pipe(Ea(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new K(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,gU,5),2&t){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:C1,useExisting:n}]),o.qOj]}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ai,An,x9,YR]}),n})(),hK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[KB,Ai,An,Sv,BB,zB]}),n})();const fK=["knob"],mK=["valueIndicatorContainer"];function pK(n,e){if(1&n&&(o.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),o._uU(4),o.qZA()()()),2&n){const t=o.oxw();o.xp6(4),o.Oqu(t.valueIndicatorText)}}const gK=["trackActive"];function _K(n,e){if(1&n&&o._UZ(0,"div"),2&n){const t=e.$implicit,i=e.index,r=o.oxw(3);o.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),o.Udp("transform",r._calcTickMarkTransform(i))}}function vK(n,e){if(1&n&&(o.ynx(0),o.YNc(1,_K,1,4,"div",11),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t._tickMarks)}}function yK(n,e){if(1&n&&(o.TgZ(0,"div",8,9),o.YNc(2,vK,2,1,"ng-container",10),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.Q6J("ngIf",t._cachedWidth)}}function bK(n,e){if(1&n&&o._UZ(0,"mat-slider-visual-thumb",7),2&n){const t=o.oxw();o.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const wK=["*"],zD=new o.OlP("_MatSlider"),wU=new o.OlP("_MatSliderThumb"),xU=new o.OlP("_MatSliderRangeThumb"),EU=new o.OlP("_MatSliderVisualThumb");let xK=(()=>{class n{constructor(t,i,r,s){this._cdr=t,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=l=>{if(this._sliderInput._isFocused)return;const u=this._hostElement.getBoundingClientRect(),m=this._isSliderThumbHovered(l,u);this._isHovered=m,m?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(t,i){const r=i.width/2,m=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(m,2)<Math.pow(r,2)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(zD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(t,i){if(1&t&&(o.Gf(Ff,5),o.Gf(fK,5),o.Gf(mK,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._ripple=r.first),o.iGM(r=o.CRH())&&(i._knob=r.first),o.iGM(r=o.CRH())&&(i._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[o._Bn([{provide:EU,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(t,i){1&t&&(o.YNc(0,pK,5,1,"div",0),o._UZ(1,"div",1,2)(3,"div",3)),2&t&&(o.Q6J("ngIf",i.discrete),o.xp6(3),o.Q6J("matRippleDisabled",!0))},dependencies:[Mi,Ff],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const EK=z0(bD(class{constructor(n){this._elementRef=n}}),"primary");let CK=(()=>{class n extends EK{get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=rn(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=rn(t)}get min(){return this._min}set min(t){const i=Yr(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=Yr(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=Yr(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,s=i.value,l=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<l?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,s,l,u,m){super(s),this._ngZone=t,this._cdr=i,this._platform=r,this._dir=l,this._globalRippleOptions=u,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=_=>`${_}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===m,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style,r=t.left!==i.left&&t.right!==i.right;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,r?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe((0,Wr.q)(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),i.transform=t.transform})):i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/t),0),s=Math.max(Math.round((this.max-i)/t),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),s=Math.max(Math.floor((r-this.min)/t),0),l=Math.max(Math.floor((i-r)/t)+1,0),u=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(l).fill(0),Array(u).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Ei),o.Y36(o.SBq),o.Y36(Da,8),o.Y36(wD,8),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slider"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,wU,5),o.Suo(r,xU,4)),2&t){let s;o.iGM(s=o.CRH())&&(i._input=s.first),o.iGM(s=o.CRH())&&(i._inputs=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(gK,5),o.Gf(EU,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._trackActive=r.first),o.iGM(r=o.CRH())&&(i._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(t,i){2&t&&o.ekj("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[o._Bn([{provide:zD,useExisting:n}]),o.qOj],ngContentSelectors:wK,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(o.F$t(),o.Hsn(0),o.TgZ(1,"div",0),o._UZ(2,"div",1),o.TgZ(3,"div",2),o._UZ(4,"div",3,4),o.qZA(),o.YNc(6,yK,3,1,"div",5),o.qZA(),o.YNc(7,bK,1,3,"mat-slider-visual-thumb",6),o._UZ(8,"mat-slider-visual-thumb",7)),2&t&&(o.xp6(6),o.Q6J("ngIf",i.showTickMarks),o.xp6(1),o.Q6J("ngIf",i._isRange),o.xp6(1),o.Q6J("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[Bs,Mi,xK],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const DK={provide:Ws,useExisting:(0,o.Gpc)(()=>D1),multi:!0};let D1=(()=>{class n{get value(){return Yr(this._hostElement.value)}set value(t){const i=Yr(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Yr(this._hostElement.min)}set min(t){this._hostElement.min=Yr(t).toString(),this._cdr.detectChanges()}get max(){return Yr(this._hostElement.max)}set max(t){this._hostElement.max=Yr(t).toString(),this._cdr.detectChanges()}get step(){return Yr(this._hostElement.step)}set step(t){this._hostElement.step=Yr(t).toString(),this._cdr.detectChanges()}get disabled(){return rn(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=rn(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,s){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=s,this.valueChange=new o.vpe,this.dragStart=new o.vpe,this.dragEnd=new o.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new zt.x,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){this.disabled||0!==t.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,l=Math.floor((this._slider.max-this._slider.min)/s),_=Math.round((this._slider._isRtl?1-i/r:i/r)*l)/l*(this._slider.max-this._slider.min)+this._slider.min,b=Math.round(_/s)*s;if(b===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=b,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){this.value=t}registerOnChange(t){this._onChangeFn=t}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(zD))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(t,i){1&t&&o.NdJ("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),2&t&&o.uIk("aria-valuetext",i._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[o._Bn([DK,{provide:wU,useExisting:n}])]}),n})(),MK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,Ai,Sv]}),n})(),GD=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[xW,zB,SW,f8,A8,J8,kq,VV,_7,T7,q7,VR,n9,cU,F9,hK,MK]}),n})();function AK(n,e){if(1&n&&(o.TgZ(0,"div",3)(1,"mat-card-content")(2,"button",4)(3,"mat-icon"),o._uU(4),o.qZA()(),o.TgZ(5,"div"),o._uU(6),o.qZA()()()),2&n){const t=e.$implicit;o.xp6(2),o.Q6J("routerLink",t.path)("disabled",t.disabled),o.xp6(2),o.Oqu(t.icon),o.xp6(2),o.Oqu(t.title)}}let kK=(()=>{const e=class{constructor(){this.apps=[],this.apps=[{id:1,title:"Tic tac toe",disabled:!1,icon:"gamepad",path:"/game"},{id:2,title:"Smart toy",disabled:!0,icon:"smart_toy",path:"/game"},{id:3,title:"Basketball",disabled:!0,icon:"sports_volleyball",path:"/game"},{id:4,title:"Tetris",disabled:!0,icon:"sports_cricket",path:"/game"}]}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"h2","my-3"],[1,"row"],["class","col col-6",4,"ngFor","ngForOf"],[1,"col","col-6"],["mat-icon-button","","color","primary",3,"routerLink","disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0),o._uU(3,"Mis aplicaciones"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"div",1),o.YNc(6,AK,7,4,"div",2),o.qZA()()()),2&r&&(o.xp6(6),o.Q6J("ngForOf",s.apps))},dependencies:[Bs,Mv,Av,kv,q0,kD,oc],styles:["mat-card[_ngcontent-%COMP%]{margin:2em auto;justify-content:center}button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1rem;transform:scale(3)}"]}),n})();var Oe=T(5861),RK=T(1389),H=T(2090),_o=T(6881),ac=T(1877),lc=T(4859),As=T(9653);const CU=(0,As.R7)({source:"Auth",events:{"Set User Logged In":(0,As.Ky)()}});var Xn=T(8405);function S1(){return(0,ss.e)((n,e)=>{let t,i=!1;n.subscribe((0,Er.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var _t,Zr=T(2011),T1=(T(9568),T(3942)),OK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cc={},M1=M1||{},pn=OK||self;function $D(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Q0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var A1="closure_uid_"+(1e9*Math.random()>>>0),NK=0;function FK(n,e,t){return n.call.apply(n.bind,arguments)}function LK(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ys(n,e,t){return(Ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FK:LK).apply(null,arguments)}function WD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ps(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return e.prototype[r].apply(i,l)}}function Vf(){this.s=this.s,this.o=this.o}Vf.prototype.s=!1,Vf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function PK(n){Object.prototype.hasOwnProperty.call(n,A1)&&n[A1]||(n[A1]=++NK)}(this)},Vf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const IU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function k1(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function DU(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if($D(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function Zs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zs.prototype.h=function(){this.defaultPrevented=!0};var VK=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pn.addEventListener("test",()=>{},e),pn.removeEventListener("test",()=>{},e)}catch{}return n}();function X0(n){return/^[\s\xa0]*$/.test(n)}function qD(){var n=pn.navigator;return n&&(n=n.userAgent)?n:""}function ud(n){return-1!=qD().indexOf(n)}function R1(n){return R1[" "](n),n}R1[" "]=function(){};var P1,n,HK=ud("Opera"),Bv=ud("Trident")||ud("MSIE"),SU=ud("Edge"),O1=SU||Bv,TU=ud("Gecko")&&!(-1!=qD().toLowerCase().indexOf("webkit")&&!ud("Edge"))&&!(ud("Trident")||ud("MSIE"))&&!ud("Edge"),jK=-1!=qD().toLowerCase().indexOf("webkit")&&!ud("Edge");function MU(){var n=pn.document;return n?n.documentMode:void 0}e:{var N1="",F1=(n=qD(),TU?/rv:([^\);]+)(\)|;)/.exec(n):SU?/Edge\/([\d\.]+)/.exec(n):Bv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jK?/WebKit\/(\S+)/.exec(n):HK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(F1&&(N1=F1?F1[1]:""),Bv){var L1=MU();if(null!=L1&&L1>parseFloat(N1)){P1=String(L1);break e}}P1=N1}var zK=pn.document&&Bv&&(MU()||parseInt(P1,10))||void 0;function J0(n,e){if(Zs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TU){e:{try{R1(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&J0.$.h.call(this)}}ps(J0,Zs);var GK={2:"touch",3:"pen",4:"mouse"};J0.prototype.h=function(){J0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ew="closure_listenable_"+(1e6*Math.random()|0),$K=0;function WK(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++$K,this.fa=this.ia=!1}function KD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function V1(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function kU(n){const e={};for(const t in n)e[t]=n[t];return e}const RU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OU(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<RU.length;s++)t=RU[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function YD(n){this.src=n,this.g={},this.h=0}function U1(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=IU(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(KD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function H1(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}YD.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=H1(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new WK(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var j1="closure_lm_"+(1e6*Math.random()|0),z1={};function PU(n,e,t,i,r){if(i&&i.once)return FU(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PU(n,e[s],t,i,r);return null}return t=q1(t),n&&n[ew]?n.O(e,t,Q0(i)?!!i.capture:!!i,r):NU(n,e,t,!1,i,r)}function NU(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=Q0(r)?!!r.capture:!!r,u=$1(n);if(u||(n[j1]=u=new YD(n)),(t=u.add(e,t,i,l,s)).proxy)return t;if(i=function KK(){const e=YK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)VK||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(BU(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function FU(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FU(n,e[s],t,i,r);return null}return t=q1(t),n&&n[ew]?n.P(e,t,Q0(i)?!!i.capture:!!i,r):NU(n,e,t,!0,i,r)}function LU(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)LU(n,e[s],t,i,r);else i=Q0(i)?!!i.capture:!!i,t=q1(t),n&&n[ew]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=H1(s=n.g[e],t,i,r))&&(KD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=$1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=H1(e,t,i,r)),(t=-1<n?e[n]:null)&&G1(t))}function G1(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ew])U1(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(BU(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=$1(e))?(U1(t,n),0==t.h&&(t.src=null,e[j1]=null)):KD(n)}}}function BU(n){return n in z1?z1[n]:z1[n]="on"+n}function YK(n,e){if(n.fa)n=!0;else{e=new J0(e,this);var t=n.listener,i=n.la||n.src;n.ia&&G1(n),n=t.call(i,e)}return n}function $1(n){return(n=n[j1])instanceof YD?n:null}var W1="__closure_events_fn_"+(1e9*Math.random()>>>0);function q1(n){return"function"==typeof n?n:(n[W1]||(n[W1]=function(e){return n.handleEvent(e)}),n[W1])}function gs(){Vf.call(this),this.i=new YD(this),this.S=this,this.J=null}function ks(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Zs(e,n);else if(e instanceof Zs)e.target=e.target||n;else{var r=e;OU(e=new Zs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=ZD(l,i,!0,e)&&r}if(r=ZD(l=e.g=n,i,!0,e)&&r,r=ZD(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=ZD(l=e.g=t[s],i,!1,e)&&r}function ZD(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var u=l.listener,m=l.la||l.src;l.ia&&U1(n.i,l),r=!1!==u.call(m,i)&&r}}return r&&!i.defaultPrevented}ps(gs,Vf),gs.prototype[ew]=!0,gs.prototype.removeEventListener=function(n,e,t,i){LU(this,n,e,t,i)},gs.prototype.N=function(){if(gs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)KD(t[i]);delete n.g[e],n.h--}}this.J=null},gs.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},gs.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var K1=pn.JSON.stringify;function QK(){var n=Y1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VU=new class ZK{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new JK,n=>n.reset());class JK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function tY(n){pn.setTimeout(()=>{throw n},0)}let tw,nw=!1,Y1=new class XK{constructor(){this.h=this.g=null}add(e,t){const i=VU.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},UU=()=>{const n=pn.Promise.resolve(void 0);tw=()=>{n.then(nY)}};var nY=()=>{for(var n;n=QK();){try{n.h.call(n.g)}catch(t){tY(t)}var e=VU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nw=!1};function QD(n,e){gs.call(this),this.h=n||1,this.g=e||pn,this.j=Ys(this.qb,this),this.l=Date.now()}function Z1(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Q1(n,e,t){if("function"==typeof n)t&&(n=Ys(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ys(n.handleEvent,n)}return 2147483647<Number(e)?-1:pn.setTimeout(n,e||0)}function HU(n){n.g=Q1(()=>{n.g=null,n.i&&(n.i=!1,HU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ps(QD,gs),(_t=QD.prototype).ga=!1,_t.T=null,_t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ks(this,"tick"),this.ga&&(Z1(this),this.start()))}},_t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.N=function(){QD.$.N.call(this),Z1(this),delete this.g};class iY extends Vf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HU(this)}N(){super.N(),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iw(n){Vf.call(this),this.h=n,this.g={}}ps(iw,Vf);var jU=[];function zU(n,e,t,i){Array.isArray(t)||(t&&(jU[0]=t.toString()),t=jU);for(var r=0;r<t.length;r++){var s=PU(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GU(n){V1(n.g,function(e,t){this.g.hasOwnProperty(t)&&G1(e)},n),n.g={}}function XD(){this.g=!0}function Vv(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return K1(t)}catch{return e}}(n,t)+(i?" "+i:"")})}iw.prototype.N=function(){iw.$.N.call(this),GU(this)},iw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},XD.prototype.Ea=function(){this.g=!1},XD.prototype.info=function(){};var tg={},$U=null;function JD(){return $U=$U||new gs}function WU(n){Zs.call(this,tg.Ta,n)}function rw(n){const e=JD();ks(e,new WU(e))}function qU(n,e){Zs.call(this,tg.STAT_EVENT,n),this.stat=e}function vo(n){const e=JD();ks(e,new qU(e,n))}function KU(n,e){Zs.call(this,tg.Ua,n),this.size=e}function sw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pn.setTimeout(function(){n()},e)}tg.Ta="serverreachability",ps(WU,Zs),tg.STAT_EVENT="statevent",ps(qU,Zs),tg.Ua="timingevent",ps(KU,Zs);var eS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function X1(){}function QU(){}X1.prototype.h=null;var tO,ow={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J1(){Zs.call(this,"d")}function eO(){Zs.call(this,"c")}function tS(){}function aw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new iw(this),this.P=lY,this.V=new QD(n=O1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XU}function XU(){this.i=null,this.g="",this.h=!1}ps(J1,Zs),ps(eO,Zs),ps(tS,X1),tS.prototype.g=function(){return new XMLHttpRequest},tS.prototype.i=function(){return{}},tO=new tS;var lY=45e3,nO={},nS={};function iO(n,e,t){n.L=1,n.v=oS(Ou(e)),n.s=t,n.S=!0,JU(n,null)}function JU(n,e){n.G=Date.now(),lw(n),n.A=Ou(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),cH(t.i,"t",i),n.C=0,t=n.l.J,n.h=new XU,n.g=OH(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iY(Ys(n.Pa,n,n.g),n.O)),zU(n.U,n.g,"readystatechange",n.nb),e=n.I?kU(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),rw(),function rY(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",u=s.split("&"),m=0;m<u.length;m++){var _=u[m].split("=");if(1<_.length){var b=_[0];_=_[1];var I=b.split("_");l=2<=I.length&&"type"==I[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function eH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function tH(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=cY(n,t),r==nS){4==e&&(n.o=4,vo(14),i=!1),Vv(n.j,n.m,null,"[Incomplete Response]");break}if(r==nO){n.o=4,vo(15),Vv(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Vv(n.j,n.m,r,null),rO(n,r)}eH(n)&&r!=nS&&r!=nO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),uO(e),e.M=!0,vo(11))):(Vv(n.j,n.m,t,"[Invalid Chunked Response]"),ng(n),cw(n))}function cY(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?nS:(t=Number(e.substring(t,i)),isNaN(t)?nO:(i+=1)+t>e.length?nS:(e=e.slice(i,i+t),n.C=i+t,e))}function lw(n){n.Y=Date.now()+n.P,nH(n,n.P)}function nH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sw(Ys(n.lb,n),e)}function iS(n){n.B&&(pn.clearTimeout(n.B),n.B=null)}function cw(n){0==n.l.H||n.J||MH(n.l,n)}function ng(n){iS(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Z1(n.V),GU(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function rO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||sO(t.i,n)))if(!n.K&&sO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hS(t),dS(t)}dO(t),vo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=sw(Ys(t.ib,t),6e3));if(1>=hH(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else rg(t,11)}else if((n.K||t.g==n)&&hS(t),!X0(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const b=_[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const I=_[4];null!=I&&(t.Ga=I,t.l.info("SVER="+t.Ga));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(t.L=i=1.5*A,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const z=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.i;s.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oO(s,s.h),s.h=null))}if(i.F){const te=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.Da=te,Gi(i.I,i.F,te))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=RH(i,i.J?i.pa:null,i.Y),l.K){fH(i.i,l);var u=l,m=i.L;m&&u.setTimeout(m),u.B&&(iS(u),lw(u)),i.g=l}else SH(i);0<t.j.length&&uS(t)}else"stop"!=_[0]&&"close"!=_[0]||rg(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?rg(t,7):cO(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}rw()}catch{}}function iH(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($D(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($D(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function dY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($D(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(_t=aw.prototype).setTimeout=function(n){this.P=n},_t.nb=function(n){n=n.target;const e=this.M;e&&3==hd(n)?e.l():this.Pa(n)},_t.Pa=function(n){try{if(n==this.g)e:{const b=hd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||O1||this.g&&(this.h.h||this.g.ja()||wH(this.g)))){this.J||4!=b||7==e||rw(),iS(this);var t=this.g.da();this.ca=t;t:if(eH(this)){var i=wH(this.g);n="";var r=i.length,s=4==hd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ng(this),cw(this);var l="";break t}this.h.i=new pn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function sY(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,m=this.g;if((u=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X0(u)){var _=u;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,vo(12),ng(this),cw(this);break e}Vv(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rO(this,t)}this.S?(tH(this,b,l),O1&&this.i&&3==b&&(zU(this.U,this.V,"tick",this.mb),this.V.start())):(Vv(this.j,this.m,l,null),rO(this,l)),4==b&&ng(this),this.i&&!this.J&&(4==b?MH(this.l,this):(this.i=!1,lw(this)))}else(function MY(n){const e={};n=(n.g&&2<=hd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(X0(n[i]))continue;var t=eY(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function qK(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,vo(12)):(this.o=0,vo(13)),ng(this),cw(this)}}}catch{}},_t.mb=function(){if(this.g){var n=hd(this.g),e=this.g.ja();this.C<e.length&&(iS(this),tH(this,n,e),this.i&&4!=n&&lw(this))}},_t.cancel=function(){this.J=!0,ng(this)},_t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rw(),vo(17)),ng(this),this.o=2,cw(this)):nH(this,this.Y-n)};var rH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ig(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ig){this.h=n.h,rS(this,n.j),this.s=n.s,this.g=n.g,sS(this,n.m),this.l=n.l;var e=n.i,t=new hw;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sH(this,t),this.o=n.o}else n&&(e=String(n).match(rH))?(this.h=!1,rS(this,e[1]||"",!0),this.s=dw(e[2]||""),this.g=dw(e[3]||"",!0),sS(this,e[4]),this.l=dw(e[5]||"",!0),sH(this,e[6]||"",!0),this.o=dw(e[7]||"")):(this.h=!1,this.i=new hw(null,this.h))}function Ou(n){return new ig(n)}function rS(n,e,t){n.j=t?dw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function sH(n,e,t){e instanceof hw?(n.i=e,function vY(n,e){e&&!n.j&&(Uf(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(aH(this,i),cH(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uw(e,gY)),n.i=new hw(e,n.h))}function Gi(n,e,t){n.i.set(e,t)}function oS(n){return Gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ig.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uw(e,oH,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uw(e,oH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uw(t,"/"==t.charAt(0)?pY:mY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uw(t,_Y)),n.join("")};var oH=/[#\/\?@]/g,mY=/[#\?:]/g,pY=/[#\?]/g,gY=/[#\?@]/g,_Y=/#/g;function hw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uf(n){n.g||(n.g=new Map,n.h=0,n.i&&function hY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function aH(n,e){Uf(n),e=Uv(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lH(n,e){return Uf(n),e=Uv(n,e),n.g.has(e)}function cH(n,e,t){aH(n,e),0<t.length&&(n.i=null,n.g.set(Uv(n,e),k1(t)),n.h+=t.length)}function Uv(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dH(n){this.l=n||bY,n=pn.PerformanceNavigationTiming?0<(n=pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pn.g&&pn.g.Ka&&pn.g.Ka()&&pn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=hw.prototype).add=function(n,e){Uf(this),this.i=null,n=Uv(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){Uf(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},_t.ta=function(){Uf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},_t.Z=function(n){Uf(this);let e=[];if("string"==typeof n)lH(this,n)&&(e=e.concat(this.g.get(Uv(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return Uf(this),this.i=null,lH(this,n=Uv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var bY=10;function uH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hH(n){return n.h?1:n.g?n.g.size:0}function sO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oO(n,e){n.g?n.g.add(e):n.h=e}function fH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return k1(n.i)}dH.prototype.cancel=function(){if(this.i=mH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var wY=class{stringify(n){return pn.JSON.stringify(n,void 0)}parse(n){return pn.JSON.parse(n,void 0)}};function xY(){this.g=new wY}function EY(n,e,t){const i=t||"";try{iH(n,function(r,s){let l=r;Q0(r)&&(l=K1(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function aS(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function fw(n){this.l=n.fc||null,this.j=n.ob||!1}function lS(n,e){gs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=aO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ps(fw,X1),fw.prototype.g=function(){return new lS(this.l,this.j)},fw.prototype.i=function(n){return function(){return n}}({}),ps(lS,gs);var aO=0;function pH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pw(n)}function pw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=lS.prototype).open=function(n,e){if(this.readyState!=aO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pw(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||pn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mw(this)),this.readyState=aO},_t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pw(this)),this.g&&(this.readyState=3,pw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mw(this):pw(this),3==this.readyState&&pH(this)}},_t.Za=function(n){this.g&&(this.response=this.responseText=n,mw(this))},_t.Ya=function(n){this.g&&(this.response=n,mw(this))},_t.ka=function(){this.g&&mw(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IY=pn.JSON.parse;function Dr(n){gs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gH,this.L=this.M=!1}ps(Dr,gs);var gH="",DY=/^https?$/i,SY=["POST","PUT"];function _H(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vH(n),cS(n)}function vH(n){n.F||(n.F=!0,ks(n,"complete"),ks(n,"error"))}function yH(n){if(n.h&&typeof M1<"u"&&(!n.C[1]||4!=hd(n)||2!=n.da()))if(n.v&&4==hd(n))Q1(n.La,0,n);else if(ks(n,"readystatechange"),4==hd(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(rH)[1]||null;!r&&pn.self&&pn.self.location&&(r=pn.self.location.protocol.slice(0,-1)),i=!DY.test(r?r.toLowerCase():"")}t=i}if(t)ks(n,"complete"),ks(n,"success");else{n.m=6;try{var s=2<hd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",vH(n)}}finally{cS(n)}}}function cS(n,e){if(n.g){bH(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ks(n,"ready");try{t.onreadystatechange=i}catch{}}}function bH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(pn.clearTimeout(n.A),n.A=null)}function hd(n){return n.g?n.g.readyState:0}function wH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case gH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xH(n){let e="";return V1(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function lO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=xH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Gi(n,e,t))}function gw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function EH(n){this.Ga=0,this.j=[],this.l=new XD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gw("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gw("baseRetryDelayMs",5e3,n),this.hb=gw("retryDelaySeedMs",1e4,n),this.eb=gw("forwardChannelMaxRetries",2,n),this.xa=gw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new dH(n&&n.concurrentRequestLimit),this.Ja=new xY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cO(n){if(CH(n),3==n.H){var e=n.W++,t=Ou(n.I);if(Gi(t,"SID",n.K),Gi(t,"RID",e),Gi(t,"TYPE","terminate"),_w(n,t),(e=new aw(n,n.l,e)).L=2,e.v=oS(Ou(t)),t=!1,pn.navigator&&pn.navigator.sendBeacon)try{t=pn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&pn.Image&&((new Image).src=e.v,t=!0),t||(e.g=OH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lw(e)}kH(n)}function dS(n){n.g&&(uO(n),n.g.cancel(),n.g=null)}function CH(n){dS(n),n.u&&(pn.clearTimeout(n.u),n.u=null),hS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&pn.clearTimeout(n.m),n.m=null)}function uS(n){if(!uH(n.i)&&!n.m){n.m=!0;var e=n.Na;tw||UU(),nw||(tw(),nw=!0),Y1.add(e,n),n.C=0}}function IH(n,e){var t;t=e?e.m:n.W++;const i=Ou(n.I);Gi(i,"SID",n.K),Gi(i,"RID",t),Gi(i,"AID",n.V),_w(n,i),n.o&&n.s&&lO(i,n.o,n.s),t=new aw(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=DH(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oO(n.i,t),iO(t,i,e)}function _w(n,e){n.na&&V1(n.na,function(t,i){Gi(e,i,t)}),n.h&&iH({},function(t,i){Gi(e,i,t)})}function DH(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ys(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let u=!0;for(let m=0;m<t;m++){let _=r[m].g;const b=r[m].map;if(_-=s,0>_)s=Math.max(0,r[m].g-100),u=!1;else try{EY(b,l,"req"+_+"_")}catch{i&&i(b)}}if(u){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function SH(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;tw||UU(),nw||(tw(),nw=!0),Y1.add(e,n),n.A=0}}function dO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sw(Ys(n.Ma,n),AH(n,n.A)),n.A++,0))}function uO(n){null!=n.B&&(pn.clearTimeout(n.B),n.B=null)}function TH(n){n.g=new aw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ou(n.wa);Gi(e,"RID","rpc"),Gi(e,"SID",n.K),Gi(e,"AID",n.V),Gi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Gi(e,"TO",n.qa),Gi(e,"TYPE","xmlhttp"),_w(n,e),n.o&&n.s&&lO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=oS(Ou(e)),t.s=null,t.S=!0,JU(t,n)}function hS(n){null!=n.v&&(pn.clearTimeout(n.v),n.v=null)}function MH(n,e){var t=null;if(n.g==e){hS(n),uO(n),n.g=null;var i=2}else{if(!sO(n.i,e))return;t=e.F,fH(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ks(i=JD(),new KU(i,t)),uS(n)}else SH(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function AY(n,e){return!(hH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sw(Ys(n.Na,n,e),AH(n,n.C)),n.C++,0)))}(n,e)||2==i&&dO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:rg(n,5);break;case 4:rg(n,10);break;case 3:rg(n,6);break;default:rg(n,2)}}function AH(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function rg(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ys(n.pb,n);t||(t=new ig("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||rS(t,"https"),oS(t)),function CY(n,e){const t=new XD;if(pn.Image){const i=new Image;i.onload=WD(aS,t,i,"TestLoadImage: loaded",!0,e),i.onerror=WD(aS,t,i,"TestLoadImage: error",!1,e),i.onabort=WD(aS,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=WD(aS,t,i,"TestLoadImage: timeout",!1,e),pn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else vo(2);n.H=0,n.h&&n.h.za(e),kH(n),CH(n)}function kH(n){if(n.H=0,n.ma=[],n.h){const e=mH(n.i);(0!=e.length||0!=n.j.length)&&(DU(n.ma,e),DU(n.ma,n.j),n.i.i.length=0,k1(n.j),n.j.length=0),n.h.ya()}}function RH(n,e,t){var i=t instanceof ig?Ou(t):new ig(t);if(""!=i.g)e&&(i.g=e+"."+i.g),sS(i,i.m);else{var r=pn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new ig(null);i&&rS(s,i),e&&(s.g=e),r&&sS(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&Gi(i,t,e),Gi(i,"VER",n.ra),_w(n,i),i}function OH(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dr(t&&n.Ha&&!n.va?new fw({ob:!0}):n.va)).Oa(n.J),e}function PH(){}function fS(){if(Bv&&!(10<=Number(zK)))throw Error("Environmental error: no available transport.")}function Ma(n,e){gs.call(this),this.g=new EH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!X0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!X0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hv(this)}function NH(n){J1.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FH(){eO.call(this),this.status=1}function Hv(n){this.g=n}function dc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ci(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(_t=Dr.prototype).Oa=function(n){this.M=n},_t.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tO.g(),this.C=function ZU(n){return n.h||(n.h=n.i())}(this.u?this.u:tO),this.g.onreadystatechange=Ys(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void _H(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=pn.FormData&&n instanceof pn.FormData,!(0<=IU(SY,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bH(this),0<this.B&&((this.L=function TY(n){return Bv&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ys(this.ua,this)):this.A=Q1(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){_H(this,s)}},_t.ua=function(){typeof M1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ks(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ks(this,"complete"),ks(this,"abort"),cS(this))},_t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cS(this,!0)),Dr.$.N.call(this)},_t.La=function(){this.s||(this.G||this.v||this.l?yH(this):this.kb())},_t.kb=function(){yH(this)},_t.isActive=function(){return!!this.g},_t.da=function(){try{return 2<hd(this)?this.g.status:-1}catch{return-1}},_t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IY(e)}},_t.Ia=function(){return this.m},_t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=EH.prototype).ra=8,_t.H=1,_t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new aw(this,this.l,n);let s=this.s;if(this.U&&(s?(s=kU(s),OU(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=DH(this,r,e),Gi(t=Ou(this.I),"RID",n),Gi(t,"CVER",22),this.F&&Gi(t,"X-HTTP-Session-Id",this.F),_w(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(xH(s)))+"&"+e:this.o&&lO(t,this.o,s)),oO(this.i,r),this.bb&&Gi(t,"TYPE","init"),this.P?(Gi(t,"$req",e),Gi(t,"SID","null"),r.aa=!0,iO(r,t,null)):iO(r,t,e),this.H=2}}else 3==this.H&&(n?IH(this,n):0==this.j.length||uH(this.i)||IH(this))},_t.Ma=function(){if(this.u=null,TH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=sw(Ys(this.jb,this),n)}},_t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vo(10),dS(this),TH(this))},_t.ib=function(){null!=this.v&&(this.v=null,dS(this),dO(this),vo(19))},_t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vo(2)):(this.l.info("Failed to ping google.com"),vo(1))},_t.isActive=function(){return!!this.h&&this.h.isActive(this)},(_t=PH.prototype).Ba=function(){},_t.Aa=function(){},_t.za=function(){},_t.ya=function(){},_t.isActive=function(){return!0},_t.Va=function(){},fS.prototype.g=function(n,e){return new Ma(n,e)},ps(Ma,gs),Ma.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=RH(n,null,n.Y),uS(n)},Ma.prototype.close=function(){cO(this.g)},Ma.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=K1(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&uS(e)},Ma.prototype.N=function(){this.g.h=null,delete this.j,cO(this.g),delete this.g,Ma.$.N.call(this)},ps(NH,J1),ps(FH,eO),ps(Hv,PH),Hv.prototype.Ba=function(){ks(this.g,"a")},Hv.prototype.Aa=function(n){ks(this.g,new NH(n))},Hv.prototype.za=function(n){ks(this.g,new FH)},Hv.prototype.ya=function(){ks(this.g,"b")},ps(dc,function kY(){this.blockSize=-1}),dc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)hO(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){hO(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){hO(this,i),r=0;break}}this.h=r,this.i+=e},dc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var RY={};function fO(n){return-128<=n&&128>n?function UK(n,e){var t=RY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ci([0|e],0>e?-1:0)}):new ci([0|n],0>n?-1:0)}function fd(n){if(isNaN(n)||!isFinite(n))return jv;if(0>n)return Rs(fd(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=mO;return new ci(e,0)}var mO=4294967296,jv=fO(0),pO=fO(1),BH=fO(16777216);function Pu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vl(n){return-1==n.h}function Rs(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ci(t,~n.h).add(pO)}function mS(n,e){return n.add(Rs(e))}function pS(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function vw(n,e){this.g=n,this.h=e}function gS(n,e){if(Pu(e))throw Error("division by zero");if(Pu(n))return new vw(jv,jv);if(vl(n))return e=gS(Rs(n),e),new vw(Rs(e.g),Rs(e.h));if(vl(e))return e=gS(n,Rs(e)),new vw(Rs(e.g),e.h);if(30<n.g.length){if(vl(n)||vl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pO,i=e;0>=i.X(n);)t=VH(t),i=VH(i);var r=zv(t,1),s=zv(i,1);for(i=zv(i,2),t=zv(t,2);!Pu(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=zv(i,1),t=zv(t,1)}return e=mS(n,r.R(e)),new vw(r,e)}for(r=jv;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=fd(t)).R(e);vl(l)||0<l.X(n);)l=(s=fd(t-=i)).R(e);Pu(s)&&(s=pO),r=r.add(s),n=mS(n,l)}return new vw(r,n)}function VH(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ci(t,n.h)}function zv(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ci(r,n.h)}(_t=ci.prototype).ea=function(){if(vl(this))return-Rs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:mO+i)*e,e*=mO}return n},_t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pu(this))return"0";if(vl(this))return"-"+Rs(this).toString(n);for(var e=fd(Math.pow(n,6)),t=this,i="";;){var r=gS(t,e).g,s=((0<(t=mS(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pu(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},_t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_t.X=function(n){return vl(n=mS(this,n))?-1:Pu(n)?0:1},_t.abs=function(){return vl(this)?Rs(this):this},_t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new ci(t,-2147483648&t[t.length-1]?-1:0)},_t.R=function(n){if(Pu(this)||Pu(n))return jv;if(vl(this))return vl(n)?Rs(this).R(Rs(n)):Rs(Rs(this).R(n));if(vl(n))return Rs(this.R(Rs(n)));if(0>this.X(BH)&&0>n.X(BH))return fd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),u=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=l*m,pS(t,2*i+2*r),t[2*i+2*r+1]+=s*m,pS(t,2*i+2*r+1),t[2*i+2*r+1]+=l*u,pS(t,2*i+2*r+1),t[2*i+2*r+2]+=s*u,pS(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ci(t,0)},_t.gb=function(n){return gS(this,n).h},_t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ci(t,this.h&n.h)},_t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ci(t,this.h|n.h)},_t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ci(t,this.h^n.h)},fS.prototype.createWebChannel=fS.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,eS.NO_ERROR=0,eS.TIMEOUT=8,eS.HTTP_ERROR=6,YU.COMPLETE="complete",QU.EventType=ow,ow.OPEN="a",ow.CLOSE="b",ow.ERROR="c",ow.MESSAGE="d",gs.prototype.listen=gs.prototype.O,Dr.prototype.listenOnce=Dr.prototype.P,Dr.prototype.getLastError=Dr.prototype.Sa,Dr.prototype.getLastErrorCode=Dr.prototype.Ia,Dr.prototype.getStatus=Dr.prototype.da,Dr.prototype.getResponseJson=Dr.prototype.Wa,Dr.prototype.getResponseText=Dr.prototype.ja,Dr.prototype.send=Dr.prototype.ha,Dr.prototype.setWithCredentials=Dr.prototype.Oa,dc.prototype.digest=dc.prototype.l,dc.prototype.reset=dc.prototype.reset,dc.prototype.update=dc.prototype.j,ci.prototype.add=ci.prototype.add,ci.prototype.multiply=ci.prototype.R,ci.prototype.modulo=ci.prototype.gb,ci.prototype.compare=ci.prototype.X,ci.prototype.toNumber=ci.prototype.ea,ci.prototype.toString=ci.prototype.toString,ci.prototype.getBits=ci.prototype.D,ci.fromNumber=fd,ci.fromString=function LH(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Rs(LH(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=fd(Math.pow(e,8)),i=jv,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=fd(Math.pow(e,s)),i=i.R(s).add(fd(l))):i=(i=i.R(t)).add(fd(l))}return i};var OY=cc.createWebChannelTransport=function(){return new fS},PY=cc.getStatEventTarget=function(){return JD()},gO=cc.ErrorCode=eS,NY=cc.EventType=YU,FY=cc.Event=tg,UH=cc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LY=cc.FetchXmlHttpFactory=fw,_S=cc.WebChannel=QU,BY=cc.XhrIo=Dr,VY=cc.Md5=dc,Gv=cc.Integer=ci;const HH="@firebase/firestore";class _s{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");let $v="9.23.0";const Hf=new ac.Yd("@firebase/firestore");function _O(){return Hf.logLevel}function Xe(n,...e){if(Hf.logLevel<=ac.in.DEBUG){const t=e.map(vO);Hf.debug(`Firestore (${$v}): ${n}`,...t)}}function Fr(n,...e){if(Hf.logLevel<=ac.in.ERROR){const t=e.map(vO);Hf.error(`Firestore (${$v}): ${n}`,...t)}}function yl(n,...e){if(Hf.logLevel<=ac.in.WARN){const t=e.map(vO);Hf.warn(`Firestore (${$v}): ${n}`,...t)}}function vO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xt(n="Unexpected state"){const e=`FIRESTORE (${$v}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Rt(n,e){n||xt()}function pt(n,e){return n}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends H.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_s.UNAUTHENTICATED))}shutdown(){}}class zY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GY{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let l=new as;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new as,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const _=l;e.enqueueRetryable((0,Oe.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},m=_=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new as)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new jH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new _s(e)}}class $Y{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class WY{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new $Y(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_s.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qY{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.T=t.token,new zH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class GH{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=KY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function fn(n,e){return n<e?-1:n>e?1:0}function Wv(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function $H(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new nr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new nr(0,0))}static max(){return new Pt(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yw{constructor(e,t,i){void 0===t?t=0:t>e.length&&xt(),void 0===i?i=e.length-t:i>e.length-t&&xt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends yw{construct(e,t,i){return new Un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(Me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const YY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends yw{construct(e,t,i){return new Sr(e,t,i)}static isValidIdentifier(e){return YY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new $e(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if("\\"===u){if(r+1===e.length)throw new $e(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new $e(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===u?(l=!l,r++):"."!==u||l?(i+=u,r++):(s(),r++)}if(s(),l)throw new $e(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Un.fromString(e))}static fromName(e){return new ft(Un.fromString(e).popFirst(5))}static empty(){return new ft(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Un(e.slice()))}}class vS{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function yO(n){return n.fields.find(e=>2===e.kind)}function sg(n){return n.fields.filter(e=>2!==e.kind)}vS.UNKNOWN_ID=-1;class yS{constructor(e,t){this.fieldPath=e,this.kind=t}}class bw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bw(0,Aa.min())}}function WH(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Pt.fromTimestamp(1e9===i?new nr(t+1,0):new nr(t,i));return new Aa(r,ft.empty(),e)}function qH(n){return new Aa(n.readTime,n.key,-1)}class Aa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Aa(Pt.min(),ft.empty(),-1)}static max(){return new Aa(Pt.max(),ft.empty(),-1)}}function bO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(n.documentKey,e.documentKey),0!==t?t:fn(n.largestBatchId,e.largestBatchId))}const KH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jf(n){return wO.apply(this,arguments)}function wO(){return wO=(0,Oe.Z)(function*(n){if(n.code!==Me.FAILED_PRECONDITION||n.message!==KH)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),wO.apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,i)=>{t(e)})}static reject(e){return new Ee((t,i)=>{i(e)})}static waitFor(e){return new Ee((t,i)=>{let r=0,s=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++s,l&&s===r&&t()},m=>i(m))}),l=!0,s===r&&t()})}static or(e){let t=Ee.resolve(!1);for(const i of e)t=t.next(r=>r?Ee.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Ee((i,r)=>{const s=e.length,l=new Array(s);let u=0;for(let m=0;m<s;m++){const _=m;t(e[_]).next(b=>{l[_]=b,++u,u===s&&i(l)},b=>r(b))}})}static doWhile(e,t){return new Ee((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class bS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new as,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ww(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=xO(i.target.error);this.v.reject(new ww(e,r))}}static open(e,t,i,r){try{return new bS(t,e.transaction(r,i))}catch(s){throw new ww(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JY(t)}}class uc{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===uc.S((0,H.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),og(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,H.hl)())return!1;if(uc.C())return!0;const e=(0,H.z$)(),t=uc.S(e),i=0<t&&t<10,r=uc.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(Xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new ww(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const u=l.target.error;r("VersionError"===u.name?new $e(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new $e(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new ww(e,u))},s.onupgradeneeded=l=>{Xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Oe.Z)(function*(){const l="readonly"===t;let u=0;for(;;){++u;try{s.db=yield s.$(e);const m=bS.open(s.db,e,l?"readonly":"readwrite",i),_=r(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),Ee.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&u<3;if(Xe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class XY{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return og(this.L.delete())}}class ww extends $e{constructor(e,t){super(Me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zf(n){return"IndexedDbTransactionError"===n.name}class JY{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Xe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),og(i)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),og(this.store.add(e))}get(e){return og(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),og(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),og(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ee((s,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ee((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){Xe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,u)=>u.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ee((i,r)=>{t.onerror=s=>{const l=xO(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():i()}):i()}})}W(e,t){const i=[];return new Ee((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void r();const m=new XY(u),_=t(u.primaryKey,u.value,m);if(_ instanceof Ee){const b=_.catch(I=>(m.done(),Ee.reject(I)));i.push(b)}m.isDone?r():null===m.K?u.continue():u.continue(m.K)}}).next(()=>Ee.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function og(n){return new Ee((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=xO(i.target.error);t(r)}})}let ZH=!1;function xO(n){const e=uc.S((0,H.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZH||(ZH=!0,setTimeout(()=>{throw i},0)),i}}return n}class eZ{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{Xe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){zf(i)?Xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield jf(i)}yield t.et(6e4)}))}}class tZ{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return Ee.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Xe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(u=>{r-=u,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(u=>(Xe("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=qH(s);bO(l,i)>0&&(i=l)}),new Aa(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ka=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function xw(n){return null==n}function Ew(n){return 0===n&&1/n==-1/0}function QH(n){return"number"==typeof n&&Number.isInteger(n)&&!Ew(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=XH(e)),e=nZ(n.get(t),e);return XH(e)}function nZ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function XH(n){return n+"\x01\x01"}function md(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&xt(),n.charAt(l+1)){case"\x01":const u=n.substring(s,l);let m;0===r.length?m=u:(r+=u,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:xt()}s=l+2}return new Un(i)}const JH=["userId","batchId"];function wS(n,e){return[n,Qs(e)]}function ej(n,e,t){return[n,Qs(e),t]}const iZ={},rZ=["prefixPath","collectionGroup","readTime","documentId"],sZ=["prefixPath","collectionGroup","documentId"],oZ=["collectionGroup","readTime","prefixPath","documentId"],aZ=["canonicalId","targetId"],lZ=["targetId","path"],cZ=["path","targetId"],dZ=["collectionId","parent"],uZ=["indexId","uid"],hZ=["uid","sequenceNumber"],fZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mZ=["indexId","uid","orderedDocumentKey"],pZ=["userId","collectionPath","documentId"],gZ=["userId","collectionPath","largestBatchId"],_Z=["userId","collectionGroup","largestBatchId"],tj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vZ=[...tj,"documentOverlays"],nj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ij=nj,yZ=[...ij,"indexConfiguration","indexState","indexEntries"];class EO extends YH{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function vs(n,e){const t=pt(n);return uc.M(t.ht,e)}function rj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pi{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xS(this.root,e,this.comparator,!1)}getReverseIterator(){return new xS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xS(this.root,e,this.comparator,!0)}}class xS{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Os{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Os.RED,this.left=r??Os.EMPTY,this.right=s??Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Os(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Os.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1,Os.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Os(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $i{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oj(this.data.getIterator())}getIteratorFrom(e){return new oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $i(this.comparator);return t.data=e,t}}class oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qv(n){return n.hasNext()?n.getNext():void 0}class Ko{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new Ko([])}unionWith(e){let t=new $i(Sr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wv(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class aj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new aj("Invalid base64 string: "+r):r}}(e);return new ls(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const wZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $f(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=wZ.exec(n);if(Rt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nu(n){return"string"==typeof n?ls.fromBase64String(n):ls.fromUint8Array(n)}function ES(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function CS(n){const e=n.mapValue.fields.__previous_value__;return ES(e)?CS(e):e}function Cw(n){const e=$f(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class xZ{constructor(e,t,i,r,s,l,u,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=_}}class Wf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wf&&e.projectId===this.projectId&&e.database===this.database}}const qf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},IS={nullValue:"NULL_VALUE"};function Kf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ES(n)?4:uj(n)?9007199254740991:10:xt()}function pd(n,e){if(n===e)return!0;const t=Kf(n);if(t!==Kf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cw(n).isEqual(Cw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=$f(i.timestampValue),l=$f(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Nu(n.bytesValue).isEqual(Nu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Tr(i.geoPointValue.latitude)===Tr(r.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Tr(i.integerValue)===Tr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Tr(i.doubleValue),l=Tr(r.doubleValue);return s===l?Ew(s)===Ew(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Wv(n.arrayValue.values||[],e.arrayValue.values||[],pd);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(rj(s)!==rj(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===l[u]||!pd(s[u],l[u])))return!1;return!0}(n,e);default:return xt()}var r}function Iw(n,e){return void 0!==(n.values||[]).find(t=>pd(t,e))}function Yf(n,e){if(n===e)return 0;const t=Kf(n),i=Kf(e);if(t!==i)return fn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Tr(r.integerValue||r.doubleValue),u=Tr(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return lj(n.timestampValue,e.timestampValue);case 4:return lj(Cw(n),Cw(e));case 5:return fn(n.stringValue,e.stringValue);case 6:return function(r,s){const l=Nu(r),u=Nu(s);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),u=s.split("/");for(let m=0;m<l.length&&m<u.length;m++){const _=fn(l[m],u[m]);if(0!==_)return _}return fn(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=fn(Tr(r.latitude),Tr(s.latitude));return 0!==l?l:fn(Tr(r.longitude),Tr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],u=s.values||[];for(let m=0;m<l.length&&m<u.length;++m){const _=Yf(l[m],u[m]);if(_)return _}return fn(l.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===qf.mapValue&&s===qf.mapValue)return 0;if(r===qf.mapValue)return 1;if(s===qf.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),m=s.fields||{},_=Object.keys(m);u.sort(),_.sort();for(let b=0;b<u.length&&b<_.length;++b){const I=fn(u[b],_[b]);if(0!==I)return I;const A=Yf(l[u[b]],m[_[b]]);if(0!==A)return A}return fn(u.length,_.length)}(n.mapValue,e.mapValue);default:throw xt()}}function lj(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fn(n,e);const t=$f(n),i=$f(e),r=fn(t.seconds,i.seconds);return 0!==r?r:fn(t.nanos,i.nanos)}function Kv(n){return CO(n)}function CO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=$f(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nu(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=CO(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${CO(i.fields[u])}`;return s+"}"}(n.mapValue):xt();var e}function ag(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function IO(n){return!!n&&"integerValue"in n}function Dw(n){return!!n&&"arrayValue"in n}function cj(n){return!!n&&"nullValue"in n}function dj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function SS(n){return!!n&&"mapValue"in n}function Sw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Sw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EZ(n){return"nullValue"in n?IS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ag(Wf.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xt()}function CZ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ag(Wf.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qf:xt()}function hj(n,e){const t=Yf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fj(n,e){const t=Yf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!SS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sw(t)}setAll(e){let t=Sr.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=Sw(l):r.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());SS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];SS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Gf(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ps(Sw(this.value))}}function mj(n){const e=[];return Gf(n.fields,(t,i)=>{const r=new Sr([t]);if(SS(i)){const s=mj(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Ko(e)}class Wi{constructor(e,t,i,r,s,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Wi(e,0,Pt.min(),Pt.min(),Pt.min(),Ps.empty(),0)}static newFoundDocument(e,t,i,r){return new Wi(e,1,t,Pt.min(),i,r,0)}static newNoDocument(e,t){return new Wi(e,2,t,Pt.min(),Pt.min(),Ps.empty(),0)}static newUnknownDocument(e,t){return new Wi(e,3,t,Pt.min(),Pt.min(),Ps.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(e,t){this.position=e,this.inclusive=t}}function pj(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?ft.comparator(ft.fromName(l.referenceValue),t.key):Yf(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function gj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pd(n.position[t],e.position[t]))return!1;return!0}class Yv{constructor(e,t="asc"){this.field=e,this.dir=t}}function IZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _j{}class Rn extends _j{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new DZ(e,t,i):"array-contains"===t?new MZ(e,i):"in"===t?new Ej(e,i):"not-in"===t?new AZ(e,i):"array-contains-any"===t?new kZ(e,i):new Rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new SZ(e,i):new TZ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yf(t,this.value)):null!==t&&Kf(this.value)===Kf(t)&&this.matchesComparison(Yf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class di extends _j{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new di(e,t)}matches(e){return Zv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zv(n){return"and"===n.op}function DO(n){return"or"===n.op}function SO(n){return vj(n)&&Zv(n)}function vj(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function TO(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+Kv(n.value);if(SO(n))return n.filters.map(e=>TO(e)).join(",");{const e=n.filters.map(t=>TO(t)).join(",");return`${n.op}(${e})`}}function yj(n,e){return n instanceof Rn?(t=n,(i=e)instanceof Rn&&t.op===i.op&&t.field.isEqual(i.field)&&pd(t.value,i.value)):n instanceof di?function(t,i){return i instanceof di&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&yj(s,i.filters[l]),!0)}(n,e):void xt();var t,i}function bj(n,e){const t=n.filters.concat(e);return di.create(t,n.op)}function wj(n){return n instanceof Rn?`${(e=n).field.canonicalString()} ${e.op} ${Kv(e.value)}`:n instanceof di?function(e){return e.op.toString()+" {"+e.getFilters().map(wj).join(" ,")+"}"}(n):"Filter";var e}class DZ extends Rn{constructor(e,t,i){super(e,t,i),this.key=ft.fromName(i.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class SZ extends Rn{constructor(e,t){super(e,"in",t),this.keys=xj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TZ extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=xj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ft.fromName(i.referenceValue))}class MZ extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dw(t)&&Iw(t.arrayValue,this.value)}}class Ej extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Iw(this.value.arrayValue,t)}}class AZ extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Iw(this.value.arrayValue,t)}}class kZ extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Iw(this.value.arrayValue,i))}}class RZ{constructor(e,t=null,i=[],r=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=u,this.dt=null}}function MO(n,e=null,t=[],i=[],r=null,s=null,l=null){return new RZ(n,e,t,i,r,s,l)}function lg(n){const e=pt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>TO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),xw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Kv(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Kv(i)).join(",")),e.dt=t}return e.dt}function Tw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gj(n.startAt,e.startAt)&&gj(n.endAt,e.endAt)}function TS(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function MS(n,e){return n.filters.filter(t=>t instanceof Rn&&t.field.isEqual(e))}function Cj(n,e,t){let i=IS,r=!0;for(const s of MS(n,e)){let l=IS,u=!0;switch(s.op){case"<":case"<=":l=EZ(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=IS}hj({value:i,inclusive:r},{value:l,inclusive:u})<0&&(i=l,r=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];hj({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function Ij(n,e,t){let i=qf,r=!0;for(const s of MS(n,e)){let l=qf,u=!0;switch(s.op){case">=":case">":l=CZ(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=qf}fj({value:i,inclusive:r},{value:l,inclusive:u})>0&&(i=l,r=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];fj({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class Fu{constructor(e,t=null,i=[],r=[],s=null,l="F",u=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=m,this.wt=null,this._t=null}}function Dj(n,e,t,i,r,s,l,u){return new Fu(n,e,t,i,r,s,l,u)}function Qv(n){return new Fu(n)}function Sj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function AO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function AS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function kO(n){return null!==n.collectionGroup}function cg(n){const e=pt(n);if(null===e.wt){e.wt=[];const t=AS(e),i=AO(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Yv(t)),e.wt.push(new Yv(Sr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yv(Sr.keyField(),s))}}}return e.wt}function yo(n){const e=pt(n);if(!e._t)if("F"===e.limitType)e._t=MO(e.path,e.collectionGroup,cg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of cg(e))t.push(new Yv(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Zf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zf(e.startAt.position,e.startAt.inclusive):null;e._t=MO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function RO(n,e){e.getFirstInequalityField(),AS(n);const t=n.filters.concat([e]);return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kS(n,e,t){return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mw(n,e){return Tw(yo(n),yo(e))&&n.limitType===e.limitType}function Tj(n){return`${lg(yo(n))}|lt:${n.limitType}`}function OO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>wj(i)).join(", ")}]`),xw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Kv(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Kv(i)).join(",")),`Target(${t})`}(yo(n))}; limitType=${n.limitType})`}function Aw(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ft.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of cg(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const u=pj(r,s,l);return r.inclusive?u<=0:u<0}(t.startAt,cg(t),i)||t.endAt&&!function(r,s,l){const u=pj(r,s,l);return r.inclusive?u>=0:u>0}(t.endAt,cg(t),i)));var t,i}function Mj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Aj(n){return(e,t)=>{let i=!1;for(const r of cg(n)){const s=OZ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function OZ(n,e,t){const i=n.field.isKeyField()?ft.comparator(e.key,t.key):function(r,s,l){const u=s.data.field(r),m=l.data.field(r);return null!==u&&null!==m?Yf(u,m):xt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}class Lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gf(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return sj(this.inner)}size(){return this.innerSize}}const PZ=new Pi(ft.comparator);function Yo(){return PZ}const kj=new Pi(ft.comparator);function kw(...n){let e=kj;for(const t of n)e=e.insert(t.key,t);return e}function Rj(n){let e=kj;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gd(){return Rw()}function Oj(){return Rw()}function Rw(){return new Lu(n=>n.toString(),(n,e)=>n.isEqual(e))}const NZ=new Pi(ft.comparator),FZ=new $i(ft.comparator);function xn(...n){let e=FZ;for(const t of n)e=e.add(t);return e}const LZ=new $i(fn);function PO(){return LZ}function Pj(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ew(e)?"-0":e}}function Nj(n){return{integerValue:""+n}}function Fj(n,e){return QH(e)?Nj(e):Pj(n,e)}class RS{constructor(){this._=void 0}}function BZ(n,e,t){return n instanceof Xv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ES(r)&&(r=CS(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof dg?Bj(n,e):n instanceof ug?Vj(n,e):function(i,r){const s=Lj(i,r),l=Uj(s)+Uj(i.gt);return IO(s)&&IO(i.gt)?Nj(l):Pj(i.serializer,l)}(n,e)}function VZ(n,e,t){return n instanceof dg?Bj(n,e):n instanceof ug?Vj(n,e):t}function Lj(n,e){return n instanceof Jv?IO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Xv extends RS{}class dg extends RS{constructor(e){super(),this.elements=e}}function Bj(n,e){const t=Hj(e);for(const i of n.elements)t.some(r=>pd(r,i))||t.push(i);return{arrayValue:{values:t}}}class ug extends RS{constructor(e){super(),this.elements=e}}function Vj(n,e){let t=Hj(e);for(const i of n.elements)t=t.filter(r=>!pd(r,i));return{arrayValue:{values:t}}}class Jv extends RS{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Uj(n){return Tr(n.integerValue||n.doubleValue)}function Hj(n){return Dw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ow{constructor(e,t){this.field=e,this.transform=t}}class HZ{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function OS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class PS{}function jj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ty(n.key,ir.none()):new ey(n.key,n.data,ir.none());{const t=n.data,i=Ps.empty();let r=new $i(Sr.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Bu(n.key,i,new Ko(r.toArray()),ir.none())}}function jZ(n,e,t){n instanceof ey?function(i,r,s){const l=i.value.clone(),u=$j(i.fieldTransforms,r,s.transformResults);l.setAll(u),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Bu?function(i,r,s){if(!OS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=$j(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(Gj(i)),u.setAll(l),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pw(n,e,t,i){return n instanceof ey?function(r,s,l,u){if(!OS(r.precondition,s))return l;const m=r.value.clone(),_=Wj(r.fieldTransforms,u,s);return m.setAll(_),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bu?function(r,s,l,u){if(!OS(r.precondition,s))return l;const m=Wj(r.fieldTransforms,u,s),_=s.data;return _.setAll(Gj(r)),_.setAll(m),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(l=t,OS(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function zZ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Lj(i.transform,r||null);null!=s&&(null===t&&(t=Ps.empty()),t.set(i.field,s))}return t||null}function zj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Wv(t,i,(r,s)=>function UZ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof dg&&i instanceof dg||t instanceof ug&&i instanceof ug?Wv(t.elements,i.elements,pd):t instanceof Jv&&i instanceof Jv?pd(t.gt,i.gt):t instanceof Xv&&i instanceof Xv);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class ey extends PS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bu extends PS{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Gj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $j(n,e,t){const i=new Map;Rt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,u=e.data.field(s.field);i.set(s.field,VZ(l,u,t[r]))}return i}function Wj(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,BZ(s,l,e))}return i}class ty extends PS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends PS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&jZ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Oj();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(r.key)?null:u;const m=jj(l,u);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&Wv(this.mutations,e.mutations,(t,i)=>zj(t,i))&&Wv(this.baseMutations,e.baseMutations,(t,i)=>zj(t,i))}}class LO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Rt(e.mutations.length===i.length);let r=NZ;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new LO(e,t,i,r)}}class BO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $Z{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qr,Hn;function qj(n){switch(n){default:return xt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function Kj(n){if(void 0===n)return Fr("GRPC error has no .code"),Me.UNKNOWN;switch(n){case Qr.OK:return Me.OK;case Qr.CANCELLED:return Me.CANCELLED;case Qr.UNKNOWN:return Me.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return Me.INTERNAL;case Qr.UNAVAILABLE:return Me.UNAVAILABLE;case Qr.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case Qr.NOT_FOUND:return Me.NOT_FOUND;case Qr.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case Qr.ABORTED:return Me.ABORTED;case Qr.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case Qr.DATA_LOSS:return Me.DATA_LOSS;default:return xt()}}(Hn=Qr||(Qr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";class VO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return NS}static getOrCreateInstance(){return null===NS&&(NS=new VO),NS}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let NS=null;function Yj(){return new TextEncoder}const WZ=new Gv([4294967295,4294967295],0);function Zj(n){const e=Yj().encode(n),t=new VY;return t.update(e),new Uint8Array(t.digest())}function Qj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gv([t,i],0),new Gv([r,s],0)]}class UO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Nw(`Invalid padding: ${t}`);if(i<0)throw new Nw(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Nw(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Nw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Gv.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Gv.fromNumber(i)));return 1===r.compare(WZ)&&(r=new Gv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Zj(e),[i,r]=Qj(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new UO(s,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(0===this.It)return;const t=Zj(e),[i,r]=Qj(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Nw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Lw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Fw(Pt.min(),r,new Pi(fn),Yo(),xn())}}class Lw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lw(i,t,xn(),xn(),xn())}}class FS{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Xj{constructor(e,t){this.targetId=e,this.Vt=t}}class Jj{constructor(e,t,i=ls.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class e3{constructor(){this.St=0,this.Dt=n3(),this.Ct=ls.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xn(),t=xn(),i=xn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xt()}}),new Lw(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=n3()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qZ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Yo(),this.zt=t3(),this.Wt=new Pi(fn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(TS(l))if(0===r){const u=new ft(l.path);this.Yt(i,u,Wi.newNoDocument(u,Pt.min()))}else Rt(1===r);else{const u=this.ie(i);if(u!==r){const m=this.re(e,u);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=VO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,b,I){var A,F,z,te,ae,je;const Qe={localCacheCount:b,existenceFilterCount:I.count},Je=I.unchangedNames;return Je&&(Qe.bloomFilter={applied:0===_,hashCount:null!==(A=Je?.hashCount)&&void 0!==A?A:0,bitmapLength:null!==(te=null===(z=null===(F=Je?.bits)||void 0===F?void 0:F.bitmap)||void 0===z?void 0:z.length)&&void 0!==te?te:0,padding:null!==(je=null===(ae=Je?.bits)||void 0===ae?void 0:ae.padding)&&void 0!==je?je:0}),Qe}(m,u,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let m,_;try{m=Nu(s).toUint8Array()}catch(b){if(b instanceof aj)return yl("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new UO(m,l,u)}catch(b){return yl(b instanceof Nw?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:r!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(u)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const u=this.se(l);if(u){if(s.current&&TS(u.target)){const m=new ft(u.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Wi.newNoDocument(m,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=xn();this.zt.forEach((s,l)=>{let u=!0;l.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Fw(e,t,this.Wt,this.jt,i);return this.jt=Yo(),this.zt=t3(),this.Wt=new Pi(fn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new e3,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $i(fn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new e3),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function t3(){return new Pi(ft.comparator)}function n3(){return new Pi(ft.comparator)}const KZ={asc:"ASCENDING",desc:"DESCENDING"},YZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZZ={and:"AND",or:"OR"};class QZ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function HO(n,e){return n.useProto3Json||xw(e)?e:{value:e}}function ny(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XZ(n,e){return ny(n,e.toTimestamp())}function Lr(n){return Rt(!!n),Pt.fromTimestamp(function(e){const t=$f(e);return new nr(t.seconds,t.nanos)}(n))}function jO(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function s3(n){const e=Un.fromString(n);return Rt(m3(e)),e}function Bw(n,e){return jO(n.databaseId,e.path)}function _d(n,e){const t=s3(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(a3(t))}function zO(n,e){return jO(n.databaseId,e)}function o3(n){const e=s3(n);return 4===e.length?Un.emptyPath():a3(e)}function Vw(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a3(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function l3(n,e,t){return{name:Bw(n,e),fields:t.value.mapValue.fields}}function c3(n,e,t){const i=_d(n,e.name),r=Lr(e.updateTime),s=e.createTime?Lr(e.createTime):Pt.min(),l=new Ps({mapValue:{fields:e.fields}}),u=Wi.newFoundDocument(i,r,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Uw(n,e){let t;if(e instanceof ey)t={update:l3(n,e.key,e.value)};else if(e instanceof ty)t={delete:Bw(n,e.key)};else if(e instanceof Bu)t={update:l3(n,e.key,e.data),updateMask:oQ(e.fieldMask)};else{if(!(e instanceof NO))return xt();t={verify:Bw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Xv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ug)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Jv)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw xt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:XZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:xt()),t;var r}function GO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ir.updateTime(Lr(r.updateTime)):void 0!==r.exists?ir.exists(r.exists):ir.none():ir.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let u=null;"setToServerValue"in l?(Rt("REQUEST_TIME"===l.setToServerValue),u=new Xv):"appendMissingElements"in l?u=new dg(l.appendMissingElements.values||[]):"removeAllFromArray"in l?u=new ug(l.removeAllFromArray.values||[]):"increment"in l?u=new Jv(s,l.increment):xt();const m=Sr.fromServerFormat(l.fieldPath);return new Ow(m,u)}(n,r)):[];var r;if(e.update){const r=_d(n,e.update.name),s=new Ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ko((e.updateMask.fieldPaths||[]).map(_=>Sr.fromServerFormat(_)));return new Bu(r,s,l,t,i)}return new ey(r,s,t,i)}if(e.delete){const r=_d(n,e.delete);return new ty(r,t)}if(e.verify){const r=_d(n,e.verify);return new NO(r,t)}return xt()}function d3(n,e){return{documents:[zO(n,e.path)]}}function $O(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return f3(di.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(_=>{return{field:Qf((b=_).field),direction:iQ(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=HO(n,e.limit);var u,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function u3(n){let e=o3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Rt(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const I=h3(b);return I instanceof di&&SO(I)?I.getFilters():[I]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new Yv(iy((I=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let u=null;t.limit&&(u=function(b){let I;return I="object"==typeof b?b.value:b,xw(I)?null:I}(t.limit));let m=null;var b;t.startAt&&(m=new Zf((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new Zf(b.values||[],!b.before)}(t.endAt)),Dj(e,r,l,s,u,"F",m,_)}function h3(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iy(e.unaryFilter.field);return Rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=iy(e.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iy(e.unaryFilter.field);return Rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=iy(e.unaryFilter.field);return Rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(n):void 0!==n.fieldFilter?Rn.create(iy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return di.create(e.compositeFilter.filters.map(t=>h3(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(n):xt();var e}function iQ(n){return KZ[n]}function rQ(n){return YZ[n]}function sQ(n){return ZZ[n]}function Qf(n){return{fieldPath:n.canonicalString()}}function iy(n){return Sr.fromServerFormat(n.fieldPath)}function f3(n){return n instanceof Rn?function(e){if("=="===e.op){if(dj(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NAN"}};if(cj(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dj(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NAN"}};if(cj(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(e.field),op:rQ(e.op),value:e.value}}}(n):n instanceof di?function(e){const t=e.getFilters().map(i=>f3(i));return 1===t.length?t[0]:{compositeFilter:{op:sQ(e.op),filters:t}}}(n):xt()}function oQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Vu{constructor(e,t,i,r,s=Pt.min(),l=Pt.min(),u=ls.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(e){return new Vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class p3{constructor(e){this.fe=e}}function g3(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:LS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Bw(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ny(r,s.version.toTimestamp()),createTime:ny(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:hg(e.version)};else{if(!e.isUnknownDocument())return xt();i.unknownDocument={path:t.path.toArray(),version:hg(e.version)}}var r,s;return i}function LS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fg(n){const e=new nr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function mg(n,e){const t=(e.baseMutations||[]).map(s=>GO(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>GO(n.fe,s)),r=nr.fromMillis(e.localWriteTimeMs);return new FO(e.batchId,r,t,i)}function Hw(n){const e=fg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fg(n.lastLimboFreeSnapshotVersion):Pt.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=yo(Qv(o3(r.documents[0])))):i=yo(u3(n.query)),new Vu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ls.fromBase64String(n.resumeToken))}function _3(n,e){const t=hg(e.snapshotVersion),i=hg(e.lastLimboFreeSnapshotVersion);let r;r=TS(e.target)?d3(n.fe,e.target):$O(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lg(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function WO(n){const e=u3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kS(e,e.limit,"L"):e}function qO(n,e){return new BO(e.largestBatchId,GO(n.fe,e.overlayMutation))}function v3(n,e){const t=e.path.lastSegment();return[n,Qs(e.path.popLast()),t]}function y3(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hg(i.readTime),documentKey:Qs(i.documentKey.path),largestBatchId:i.largestBatchId}}class lQ{getBundleMetadata(e,t){return b3(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return b3(e).put({bundleId:(i=t).id,createTime:hg(Lr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return w3(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:WO(r.bundledQuery),readTime:fg(r.readTime)};var r})}saveNamedQuery(e,t){return w3(e).put({name:(i=t).name,readTime:hg(Lr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function b3(n){return vs(n,"bundles")}function w3(n){return vs(n,"namedQueries")}class BS{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new BS(e,t.uid||"")}getOverlay(e,t){return jw(e).get(v3(this.userId,t)).next(i=>i?qO(this.serializer,i):null)}getOverlays(e,t){const i=gd();return Ee.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const u=new BO(t,l);r.push(this.we(e,u))}),Ee.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Qs(l.getCollectionPath())));const s=[];return r.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(jw(e).J("collectionPathOverlayIndex",u))}),Ee.waitFor(s)}getOverlaysForCollection(e,t,i){const r=gd(),s=Qs(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jw(e).j("collectionPathOverlayIndex",l).next(u=>{for(const m of u){const _=qO(this.serializer,m);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=gd();let l;const u=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jw(e).X({index:"collectionGroupOverlayIndex",range:u},(m,_,b)=>{const I=qO(this.serializer,_);s.size()<r||I.largestBatchId===l?(s.set(I.getKey(),I),l=I.largestBatchId):b.done()}).next(()=>s)}we(e,t){return jw(e).put(function(i,r,s){const[l,u,m]=v3(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Uw(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function jw(n){return vs(n,"documentOverlays")}class pg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tr(e.integerValue));else if("doubleValue"in e){const i=Tr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Ew(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Nu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?uj(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):xt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ft.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function cQ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function x3(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=cQ(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}pg.Ve=new pg;class dQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=x3(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=x3(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class uQ{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class hQ{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class zw{constructor(){this.je=new dQ,this.ze=new uQ(this.je),this.We=new hQ(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class gg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new gg(this.indexId,this.documentKey,this.arrayValue,i)}}function Xf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=E3(n.arrayValue,e.arrayValue),0!==t?t:(t=E3(n.directionalValue,e.directionalValue),0!==t?t:ft.comparator(n.documentKey,e.documentKey)))}function E3(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class fQ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Rt(e.collectionGroup===this.collectionId);const t=yO(e);if(void 0!==t&&!this.en(t))return!1;const i=sg(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[s];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[l++],u))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function C3(n){var e,t;if(Rt(n instanceof Rn||n instanceof di),n instanceof Rn){if(n instanceof Ej){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Rn.create(n.field,"==",s)))||[];return di.create(r,"or")}return n}const i=n.filters.map(r=>C3(r));return di.create(i,n.op)}function mQ(n){if(0===n.getFilters().length)return[];const e=ZO(C3(n));return Rt(I3(e)),KO(e)||YO(e)?[e]:e.getFilters()}function KO(n){return n instanceof Rn}function YO(n){return n instanceof di&&SO(n)}function I3(n){return KO(n)||YO(n)||function(e){if(e instanceof di&&DO(e)){for(const t of e.getFilters())if(!KO(t)&&!YO(t))return!1;return!0}return!1}(n)}function ZO(n){if(Rt(n instanceof Rn||n instanceof di),n instanceof Rn)return n;if(1===n.filters.length)return ZO(n.filters[0]);const e=n.filters.map(i=>ZO(i));let t=di.create(e,n.op);return t=VS(t),I3(t)?t:(Rt(t instanceof di),Rt(Zv(t)),Rt(t.filters.length>1),t.filters.reduce((i,r)=>QO(i,r)))}function QO(n,e){let t;return Rt(n instanceof Rn||n instanceof di),Rt(e instanceof Rn||e instanceof di),t=n instanceof Rn?e instanceof Rn?di.create([n,e],"and"):D3(n,e):e instanceof Rn?D3(e,n):function(i,r){if(Rt(i.filters.length>0&&r.filters.length>0),Zv(i)&&Zv(r))return bj(i,r.getFilters());const s=DO(i)?i:r,l=DO(i)?r:i,u=s.filters.map(m=>QO(m,l));return di.create(u,"or")}(n,e),VS(t)}function D3(n,e){if(Zv(e))return bj(e,n.getFilters());{const t=e.filters.map(i=>QO(n,i));return di.create(t,"or")}}function VS(n){if(Rt(n instanceof Rn||n instanceof di),n instanceof Rn)return n;const e=n.getFilters();if(1===e.length)return VS(e[0]);if(vj(n))return n;const t=e.map(r=>VS(r)),i=[];return t.forEach(r=>{r instanceof Rn?i.push(r):r instanceof di&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:di.create(i,n.op)}class pQ{constructor(){this.rn=new XO}addToCollectionParentIndex(e,t){return this.rn.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(Aa.min())}updateCollectionGroup(e,t,i){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class XO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new $i(Un.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $i(Un.comparator)).toArray()}}const US=new Uint8Array(0);class gQ{constructor(e,t){this.user=e,this.databaseId=t,this.on=new XO,this.un=new Lu(i=>lg(i),(i,r)=>Tw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:Qs(r)};return S3(e).put(s)}return Ee.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[$H(t),""],!1,!0);return S3(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(md(l.parent))}return i})}addFieldIndex(e,t){const i=HS(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=$w(e);return s.next(u=>{l.put(y3(u,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=HS(e),r=$w(e),s=Gw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Gw(e);let r=!0;const s=new Map;return Ee.forEach(this.cn(t),l=>this.an(e,l).next(u=>{r&&(r=!!u),s.set(l,u)})).next(()=>{if(r){let l=xn();const u=[];return Ee.forEach(s,(m,_)=>{var b;Xe("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${lg(t)}`);const I=function(Je,st){const Lt=yO(st);if(void 0===Lt)return null;for(const $t of MS(Je,Lt.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(_,m),A=function(Je,st){const Lt=new Map;for(const $t of sg(st))for(const Pn of MS(Je,$t.fieldPath))switch(Pn.op){case"==":case"in":Lt.set($t.fieldPath.canonicalString(),Pn.value);break;case"not-in":case"!=":return Lt.set($t.fieldPath.canonicalString(),Pn.value),Array.from(Lt.values())}return null}(_,m),F=function(Je,st){const Lt=[];let $t=!0;for(const Pn of sg(st)){const pr=0===Pn.kind?Cj(Je,Pn.fieldPath,Je.startAt):Ij(Je,Pn.fieldPath,Je.startAt);Lt.push(pr.value),$t&&($t=pr.inclusive)}return new Zf(Lt,$t)}(_,m),z=function(Je,st){const Lt=[];let $t=!0;for(const Pn of sg(st)){const pr=0===Pn.kind?Ij(Je,Pn.fieldPath,Je.endAt):Cj(Je,Pn.fieldPath,Je.endAt);Lt.push(pr.value),$t&&($t=pr.inclusive)}return new Zf(Lt,$t)}(_,m),te=this.hn(m,_,F),ae=this.hn(m,_,z),je=this.ln(m,_,A),Qe=this.fn(m.indexId,I,te,F.inclusive,ae,z.inclusive,je);return Ee.forEach(Qe,Je=>i.H(Je,t.limit).next(st=>{st.forEach(Lt=>{const $t=ft.fromSegments(Lt.documentKey);l.has($t)||(l=l.add($t),u.push($t))})}))}).next(()=>u)}return Ee.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:mQ(di.create(e.filters,"and")).map(i=>MO(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,u){const m=(null!=t?t.length:1)*Math.max(i.length,s.length),_=m/(null!=t?t.length:1),b=[];for(let I=0;I<m;++I){const A=t?this.dn(t[I/_]):US,F=this.wn(e,A,i[I%_],r),z=this._n(e,A,s[I%_],l),te=u.map(ae=>this.wn(e,A,ae,!0));b.push(...this.createRange(F,z,te))}return b}wn(e,t,i,r){const s=new gg(e,ft.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new gg(e,ft.empty(),t,i);return r?s.Je():s}an(e,t){const i=new fQ(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const u of s)i.tn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return Ee.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(u){let m=new $i(Sr.comparator),_=!1;for(const b of u.filters)for(const I of b.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:m=m.add(I.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new zw;for(const r of sg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);pg.Ve._e(s,l)}return i.Qe()}dn(e){const t=new zw;return pg.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new zw;return pg.Ve._e(ag(this.databaseId,t),i.He(function(r){const s=sg(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new zw);let s=0;for(const l of sg(e)){const u=i[s++];for(const m of r)if(this.yn(t,l.fieldPath)&&Dw(u))r=this.pn(r,l,u);else{const _=m.He(l.kind);pg.Ve._e(u,_)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const u of r){const m=new zw;m.seed(u.Qe()),pg.Ve._e(l,m.He(t.kind)),s.push(m)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof Rn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=HS(e),r=$w(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return Ee.forEach(s,u=>r.get([u.indexId,this.uid]).next(m=>{l.push(function(_,b){const I=b?new bw(b.sequenceNumber,new Aa(fg(b.readTime),new ft(md(b.documentKey)),b.largestBatchId)):bw.empty(),A=_.fields.map(([F,z])=>new yS(Sr.fromServerFormat(F),z));return new vS(_.indexId,_.collectionGroup,A,I)}(u,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:fn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=HS(e),s=$w(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>Ee.forEach(u,m=>s.put(y3(m.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return Ee.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?Ee.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),Ee.forEach(u,m=>this.En(e,r,m).next(_=>{const b=this.An(s,m);return _.isEqual(b)?Ee.resolve():this.vn(e,s,m,_,b)}))))})}Rn(e,t,i,r){return Gw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Gw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Gw(e);let s=new $i(Xf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,u)=>{s=s.add(new gg(i.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}An(e,t){let i=new $i(Xf);const r=this.mn(t,e);if(null==r)return i;const s=yO(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Dw(l))for(const u of l.arrayValue.values||[])i=i.add(new gg(t.indexId,e.key,this.dn(u),r))}else i=i.add(new gg(t.indexId,e.key,US,r));return i}vn(e,t,i,r,s){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(u,m,_,b,I){const A=u.getIterator(),F=m.getIterator();let z=qv(A),te=qv(F);for(;z||te;){let ae=!1,je=!1;if(z&&te){const Qe=_(z,te);Qe<0?je=!0:Qe>0&&(ae=!0)}else null!=z?je=!0:ae=!0;ae?(b(te),te=qv(F)):je?(I(z),z=qv(A)):(z=qv(A),te=qv(F))}}(r,s,Xf,u=>{l.push(this.Rn(e,t,i,u))},u=>{l.push(this.Pn(e,t,i,u))}),Ee.waitFor(l)}Tn(e){let t=1;return $w(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,u)=>Xf(l,u)).filter((l,u,m)=>!u||0!==Xf(l,m[u-1]));const r=[];r.push(e);for(const l of i){const u=Xf(l,e),m=Xf(l,t);if(0===u)r[0]=e.Je();else if(u>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,US,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,US,[]]))}return s}bn(e,t){return Xf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(T3)}getMinOffset(e,t){return Ee.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||xt())).next(T3)}}function S3(n){return vs(n,"collectionParents")}function Gw(n){return vs(n,"indexEntries")}function HS(n){return vs(n,"indexConfiguration")}function $w(n){return vs(n,"indexState")}function T3(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;bO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Aa(e.readTime,e.documentKey,t)}const M3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function A3(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const m=i.X({range:l},(b,I,A)=>(u++,A.delete()));s.push(m.next(()=>{Rt(1===u)}));const _=[];for(const b of t.mutations){const I=ej(e,b.key.path,t.batchId);s.push(r.delete(I)),_.push(b.key)}return Ee.waitFor(s).next(()=>_)}function jS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xt();e=n.noDocument}return JSON.stringify(e).length}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class zS{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Rt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new zS(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=ry(e),l=Jf(e);return l.add({}).next(u=>{Rt("number"==typeof u);const m=new FO(u,t,i,r),_=function(A,F,z){const te=z.baseMutations.map(je=>Uw(A.fe,je)),ae=z.mutations.map(je=>Uw(A.fe,je));return{userId:F,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:te,mutations:ae}}(this.serializer,this.userId,m),b=[];let I=new $i((A,F)=>fn(A.canonicalString(),F.canonicalString()));for(const A of r){const F=ej(this.userId,A.key.path,u);I=I.add(A.key.path.popLast()),b.push(l.put(_)),b.push(s.put(F,iZ))}return I.forEach(A=>{b.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.Vn[u]=m.keys()}),Ee.waitFor(b).next(()=>m)})}lookupMutationBatch(e,t){return Jf(e).get(t).next(i=>i?(Rt(i.userId===this.userId),mg(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?Ee.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Jf(e).X({index:"userMutationsIndex",range:r},(l,u,m)=>{u.userId===this.userId&&(Rt(u.batchId>=i),s=mg(this.serializer,u)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).j("userMutationsIndex",t).next(i=>i.map(r=>mg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=wS(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return ry(e).X({range:r},(l,u,m)=>{const[_,b,I]=l,A=md(b);if(_===this.userId&&t.path.isEqual(A))return Jf(e).get(I).next(F=>{if(!F)throw xt();Rt(F.userId===this.userId),s.push(mg(this.serializer,F))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $i(fn);const r=[];return t.forEach(s=>{const l=wS(this.userId,s.path),u=IDBKeyRange.lowerBound(l),m=ry(e).X({range:u},(_,b,I)=>{const[A,F,z]=_,te=md(F);A===this.userId&&s.path.isEqual(te)?i=i.add(z):I.done()});r.push(m)}),Ee.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=wS(this.userId,i),l=IDBKeyRange.lowerBound(s);let u=new $i(fn);return ry(e).X({range:l},(m,_,b)=>{const[I,A,F]=m,z=md(A);I===this.userId&&i.isPrefixOf(z)?z.length===r&&(u=u.add(F)):b.done()}).next(()=>this.Dn(e,u))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Jf(e).get(s).next(l=>{if(null===l)throw xt();Rt(l.userId===this.userId),i.push(mg(this.serializer,l))}))}),Ee.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return A3(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ee.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ee.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ry(e).X({range:i},(s,l,u)=>{if(s[0]===this.userId){const m=md(s[1]);r.push(m)}else u.done()}).next(()=>{Rt(0===r.length)})})}containsKey(e,t){return k3(e,this.userId,t)}xn(e){return R3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function k3(n,e,t){const i=wS(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return ry(n).X({range:s,Y:!0},(u,m,_)=>{const[b,I,A]=u;b===e&&I===r&&(l=!0),_.done()}).next(()=>l)}function Jf(n){return vs(n,"mutations")}function ry(n){return vs(n,"documentMutations")}function R3(n){return vs(n,"mutationQueues")}class _g{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _g(0)}static Mn(){return new _g(-1)}}class _Q{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new _g(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Pt.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sy(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return sy(e).X((l,u)=>{const m=Hw(u);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(e,m)))}).next(()=>Ee.waitFor(s)).next(()=>r)}forEachTarget(e,t){return sy(e).X((i,r)=>{const s=Hw(r);t(s)})}$n(e){return O3(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}On(e,t){return O3(e).put("targetGlobalKey",t)}Fn(e,t){return sy(e).put(_3(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=lg(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return sy(e).X({range:r,index:"queryTargetsIndex"},(l,u,m)=>{const _=Hw(u);Tw(t,_.target)&&(s=_,m.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=em(e);return t.forEach(l=>{const u=Qs(l.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(e,i,l))}),Ee.waitFor(r)}removeMatchingKeys(e,t,i){const r=em(e);return Ee.forEach(t,s=>{const l=Qs(s.path);return Ee.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=em(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=em(e);let s=xn();return r.X({range:i,Y:!0},(l,u,m)=>{const _=md(l[1]),b=new ft(_);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=Qs(t.path),r=IDBKeyRange.bound([i],[$H(i)],!1,!0);let s=0;return em(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,u],m,_)=>{0!==l&&(s++,_.done())}).next(()=>s>0)}le(e,t){return sy(e).get(t).next(i=>i?Hw(i):null)}}function sy(n){return vs(n,"targets")}function O3(n){return vs(n,"targetGlobal")}function em(n){return vs(n,"targetDocuments")}function P3([n,e],[t,i]){const r=fn(n,t);return 0===r?fn(e,i):r}class vQ{constructor(e){this.Ln=e,this.buffer=new $i(P3),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();P3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){zf(i)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield jf(i)}yield t.Qn(3e5)}))}}class yQ{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ee.resolve(ka.ct);const i=new vQ(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(M3)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M3):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,u,m,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,l=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,u=Date.now(),this.removeTargets(e,i,t))).next(I=>(s=I,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(_=Date.now(),_O()<=ac.in.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(u-l)+`ms\n\tRemoved ${s} targets in `+(m-u)+`ms\n\tRemoved ${I} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class bQ{constructor(e,t){this.db=e,this.garbageCollector=function F3(n,e){return new yQ(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return GS(e,i)}removeReference(e,t,i){return GS(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return GS(e,t)}Xn(e,t){return function(i,r){let s=!1;return R3(i).Z(l=>k3(i,l,r).next(u=>(u&&(s=!0),Ee.resolve(!u)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,u)=>{if(u<=t){const m=this.Xn(e,l).next(_=>{if(!_)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Pt.min()),em(e).delete([0,Qs(l.path)])))});r.push(m)}}).next(()=>Ee.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return GS(e,t)}Yn(e,t){const i=em(e);let r,s=ka.ct;return i.X({index:"documentTargetsIndex"},([l,u],{path:m,sequenceNumber:_})=>{0===l?(s!==ka.ct&&t(new ft(md(r)),s),s=_,r=m):s=ka.ct}).next(()=>{s!==ka.ct&&t(new ft(md(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function GS(n,e){return em(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qs(e.path),sequenceNumber:i}));var i}class L3{constructor(){this.changes=new Lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return vg(e).put(i)}removeEntry(e,t,i){return vg(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],LS(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Wi.newInvalidDocument(t);return vg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ww(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:Wi.newInvalidDocument(t)};return vg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ww(t))},(r,s)=>{i={document:this.ts(t,s),size:jS(s)}}).next(()=>i)}getEntries(e,t){let i=Yo();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=Yo(),r=new Pi(ft.comparator);return this.ns(e,t,(s,l)=>{const u=this.ts(s,l);i=i.insert(s,u),r=r.insert(s,jS(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return Ee.resolve();let r=new $i(H3);t.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound(Ww(r.first()),Ww(r.last())),l=r.getIterator();let u=l.getNext();return vg(e).X({index:"documentKeyIndex",range:s},(m,_,b)=>{const I=ft.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;u&&H3(u,I)<0;)i(u,null),u=l.getNext();u&&u.isEqual(I)&&(i(u,_),u=l.hasNext()?l.getNext():null),u?b.G(Ww(u)):b.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),LS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vg(e).j(IDBKeyRange.bound(l,u,!0)).next(m=>{let _=Yo();for(const b of m){const I=this.ts(ft.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);I.isFoundDocument()&&(Aw(t,I)||r.has(I.key))&&(_=_.insert(I.key,I))}return _})}getAllFromCollectionGroup(e,t,i,r){let s=Yo();const l=U3(t,i),u=U3(t,Aa.max());return vg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(m,_,b)=>{const I=this.ts(ft.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(I.key,I),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new xQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return V3(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Zn(e,t){return V3(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function aQ(n,e){let t;if(e.document)t=c3(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ft.fromSegments(e.noDocument.path),r=fg(e.noDocument.readTime);t=Wi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const i=ft.fromSegments(e.unknownDocument.path),r=fg(e.unknownDocument.version);t=Wi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new nr(i[0],i[1]);return Pt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Pt.min()))return i}return Wi.newInvalidDocument(e)}}function B3(n){return new wQ(n)}class xQ extends L3{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Lu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new $i((s,l)=>fn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.us.get(s);if(t.push(this.os.removeEntry(e,s,u.readTime)),l.isValidDocument()){const m=g3(this.os.serializer,l);r=r.add(s.path.popLast());const _=jS(m);i+=_-u.size,t.push(this.os.addEntry(e,s,m))}else if(i-=u.size,this.trackRemovals){const m=g3(this.os.serializer,l.convertToNoDocument(Pt.min()));t.push(this.os.addEntry(e,s,m))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),Ee.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function V3(n){return vs(n,"remoteDocumentGlobal")}function vg(n){return vs(n,"remoteDocumentsV14")}function Ww(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function U3(n,e){const t=e.documentKey.path.toArray();return[n,LS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function H3(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=fn(t[s],i[s]),r)return r;return r=fn(t.length,i.length),r||(r=fn(t[t.length-2],i[i.length-2]),r||fn(t[t.length-1],i[i.length-1]))}class EQ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class j3{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Pw(i.mutation,r,Ko.empty(),nr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xn()){const r=gd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=kw();return s.forEach((u,m)=>{l=l.insert(u,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=gd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let s=Yo();const l=Rw(),u=Rw();return t.forEach((m,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Bu)?s=s.insert(_.key,_):void 0!==b?(l.set(_.key,b.mutation.getFieldMask()),Pw(b.mutation,_,b.mutation.getFieldMask(),nr.now())):l.set(_.key,Ko.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((_,b)=>l.set(_,b)),t.forEach((_,b)=>{var I;return u.set(_,new EQ(b,null!==(I=l.get(_))&&void 0!==I?I:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Rw();let r=new Pi((l,u)=>l-u),s=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(m=>{const _=t.get(m);if(null===_)return;let b=i.get(m)||Ko.empty();b=u.applyToLocalView(_,b),i.set(m,b);const I=(r.get(u.batchId)||xn()).add(m);r=r.insert(u.batchId,I)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),_=m.key,b=m.value,I=Oj();b.forEach(A=>{if(!s.has(A)){const F=jj(t.get(A),i.get(A));null!==F&&I.set(A,F),s=s.add(A)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,I))}return Ee.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ft.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Ee.resolve(gd());let u=-1,m=s;return l.next(_=>Ee.forEach(_,(b,I)=>(u<I.largestBatchId&&(u=I.largestBatchId),s.get(b)?Ee.resolve():this.remoteDocumentCache.getEntry(e,b).next(A=>{m=m.insert(b,A)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,m,_,xn())).next(b=>({batchId:u,changes:Rj(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(i=>{let r=kw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=kw();return this.indexManager.getCollectionParents(e,r).next(l=>Ee.forEach(l,u=>{const m=(_=t,b=u.child(r),new Fu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(_=>{_.forEach((b,I)=>{s=s.insert(b,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((u,m)=>{const _=m.getKey();null===s.get(_)&&(s=s.insert(_,Wi.newInvalidDocument(_)))});let l=kw();return s.forEach((u,m)=>{const _=r.get(u);void 0!==_&&Pw(_.mutation,m,Ko.empty(),nr.now()),Aw(t,m)&&(l=l.insert(u,m))}),l})}}class CQ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Lr(i.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:WO(i.bundledQuery),readTime:Lr(i.readTime)}),Ee.resolve();var i}}class IQ{constructor(){this.overlays=new Pi(ft.comparator),this.ls=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gd();return Ee.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),Ee.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ee.resolve()}getOverlaysForCollection(e,t,i){const r=gd(),s=t.length+1,l=new ft(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const m=u.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return Ee.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Pi((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=gd(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const u=gd(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>u.set(_,b)),!(u.size()>=r)););return Ee.resolve(u)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new BO(t,i));let s=this.ls.get(t);void 0===s&&(s=xn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class JO{constructor(){this.fs=new $i(ys.ds),this.ws=new $i(ys._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new ys(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new ys(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ft(new Un([])),i=new ys(t,e),r=new ys(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ft(new Un([])),i=new ys(t,e),r=new ys(t,e+1);let s=xn();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new ys(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ys{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ft.comparator(e.key,t.key)||fn(e.As,t.As)}static _s(e,t){return fn(e.As,t.As)||ft.comparator(e.key,t.key)}}class DQ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $i(ys.ds)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new FO(s,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new ys(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ee.resolve(l)}lookupMutationBatch(e,t){return Ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return Ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ys(t,0),r=new ys(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.Ps(l.As);s.push(u)}),Ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $i(fn);return t.forEach(r=>{const s=new ys(r,0),l=new ys(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],u=>{i=i.add(u.As)})}),Ee.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ft.isDocumentKey(s)||(s=s.child(""));const l=new ys(new ft(s),0);let u=new $i(fn);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(u=u.add(m.As)),!0)},l),Ee.resolve(this.Vs(u))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ee.forEach(t.mutations,r=>{const s=new ys(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new ys(t,0),r=this.Rs.firstAfterOrEqual(i);return Ee.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class SQ{constructor(e){this.Ds=e,this.docs=new Pi(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ee.resolve(i?i.document.mutableCopy():Wi.newInvalidDocument(t))}getEntries(e,t){let i=Yo();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Wi.newInvalidDocument(r))}),Ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Yo();const l=t.path,u=new ft(l.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||bO(qH(b),i)<=0||(r.has(b.key)||Aw(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return Ee.resolve(s)}getAllFromCollectionGroup(e,t,i,r){xt()}Cs(e,t){return Ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new TQ(this)}getSize(e){return Ee.resolve(this.size)}}class TQ extends L3{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class MQ{constructor(e){this.persistence=e,this.xs=new Lu(t=>lg(t),Tw),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new JO,this.targetCount=0,this.Ms=_g.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _g(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Fn(t),Ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,u)=>{u.sequenceNumber<=t&&null===i.get(u.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),Ee.waitFor(s).next(()=>r)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ee.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ee.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),Ee.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ee.resolve(i)}containsKey(e,t){return Ee.resolve(this.ks.containsKey(t))}}class eP{constructor(e,t){this.$s={},this.overlays={},this.Os=new ka(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new MQ(this),this.indexManager=new pQ,this.remoteDocumentCache=new SQ(i=>this.referenceDelegate.Ls(i)),this.serializer=new p3(t),this.qs=new CQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new DQ(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Xe("MemoryPersistence","Starting transaction:",e);const r=new AQ(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return Ee.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class AQ extends YH{constructor(e){super(),this.currentSequenceNumber=e}}class $S{constructor(e){this.persistence=e,this.Qs=new JO,this.js=null}static zs(e){return new $S(e)}get Ws(){if(this.js)return this.js;throw xt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ee.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Ws,i=>{const r=ft.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Pt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ee.or([()=>Ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class kQ{constructor(e){this.serializer=e}O(e,t,i,r){const s=new bS("createOrUpgrade",t);var u;i<1&&r>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JH,{unique:!0}),u.createObjectStore("documentMutations"),z3(e),function(u){u.createObjectStore("remoteDocuments")}(e));let l=Ee.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),z3(e)),l=l.next(()=>function(u){const m=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(u,m){return m.store("mutations").j().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JH,{unique:!0});const b=m.store("mutations"),I=_.map(A=>b.put(A));return Ee.waitFor(I)})}(e,s))),l=l.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(u){const m=u.createObjectStore("documentOverlays",{keyPath:pZ});m.createIndex("collectionPathOverlayIndex",gZ,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",_Z,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(u){const m=u.createObjectStore("remoteDocumentsV14",{keyPath:rZ});m.createIndex("documentKeyIndex",sZ),m.createIndex("collectionGroupIndex",oZ)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:uZ}).createIndex("sequenceNumberIndex",hZ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:fZ}).createIndex("documentKeyIndex",mZ,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=jS(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>Ee.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(u=>Ee.forEach(u,m=>{Rt(m.userId===s.userId);const _=mg(this.serializer,m);return A3(e,s.userId,_).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,u)=>{const m=new Un(l),_=[0,Qs(m)];s.push(t.get(_).next(b=>b?Ee.resolve():t.put({targetId:0,path:Qs(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ee.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:dZ});const i=t.store("collectionParents"),r=new XO,s=l=>{if(r.add(l)){const u=l.lastSegment(),m=l.popLast();return i.put({collectionId:u,parent:Qs(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,u)=>{const m=new Un(l);return s(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,u,m],_)=>{const b=md(u);return s(b.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=Hw(r),l=_3(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const u=t.store("remoteDocumentsV14"),m=(_=l,_.document?new ft(Un.fromString(_.document.name).popFirst(5)):_.noDocument?ft.fromSegments(_.noDocument.path):_.unknownDocument?ft.fromSegments(_.unknownDocument.path):xt()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(u.put(b))}).next(()=>Ee.waitFor(r))}si(e,t){const i=t.store("mutations"),r=B3(this.serializer),s=new eP($S.zs,this.serializer.fe);return i.j().next(l=>{const u=new Map;return l.forEach(m=>{var _;let b=null!==(_=u.get(m.userId))&&void 0!==_?_:xn();mg(this.serializer,m).keys().forEach(I=>b=b.add(I)),u.set(m.userId,b)}),Ee.forEach(u,(m,_)=>{const b=new _s(_),I=BS.de(this.serializer,b),A=s.getIndexManager(b),F=zS.de(b,this.serializer,A,s.referenceDelegate);return new j3(r,F,I,A).recalculateAndSaveOverlaysForDocumentKeys(new EO(t,ka.ct),m).next()})})}}function z3(n){n.createObjectStore("targetDocuments",{keyPath:lZ}).createIndex("documentTargetsIndex",cZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aZ,{unique:!0}),n.createObjectStore("targetGlobal")}const tP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nP{constructor(e,t,i,r,s,l,u,m,_,b,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=u,this.ri=_,this.oi=b,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=A=>Promise.resolve(),!nP.D())throw new $e(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bQ(this,r),this.di=t+"main",this.serializer=new p3(m),this.wi=new uc(this.di,this.ui,new kQ(this.serializer)),this.Bs=new _Q(this.referenceDelegate,this.serializer),this.remoteDocumentCache=B3(this.serializer),this.qs=new lQ,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Me.FAILED_PRECONDITION,tP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ka(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Oe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Oe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(zf(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qw(e).get("owner").next(t=>Ee.resolve(this.Ri(t)))}Pi(e){return qS(e).delete(this.clientId)}bi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=vs(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),u=s.filter(m=>-1===l.indexOf(m));return Ee.forEach(u,m=>r.delete(m.clientId)).next(()=>u)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ee.resolve(!0):qw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new $e(Me.FAILED_PRECONDITION,tP);return!1}}return!(!this.networkEnabled||!this.inForeground)||qS(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new EO(t,ka.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>qS(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return zS.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gQ(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return BS.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Xe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?yZ:14===l?ij:13===l?nj:12===l?vZ:11===l?tj:void xt();var l;let u;return this.wi.runTransaction(e,r,s,m=>(u=new EO(m,this.Os?this.Os.next():ka.ct),"readwrite-primary"===t?this.Ti(u).next(_=>!!_||this.Ei(u)).next(_=>{if(!_)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new $e(Me.FAILED_PRECONDITION,KH);return i(u)}).next(_=>this.vi(u).next(()=>_)):this.Oi(u).next(()=>i(u)))).then(m=>(u.raiseOnCommittedEvent(),m))}Oi(e){return qw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(Me.FAILED_PRECONDITION,tP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qw(e).put("owner",t)}static D(){return uc.D()}Ai(e){const t=qw(e);return t.get("owner").next(i=>this.Ri(i)?(Xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ee.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Fr(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,H.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qw(n){return vs(n,"owner")}function qS(n){return vs(n,"clientMetadata")}function iP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=xn(),r=xn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new rP(e,t.fromCache,i,r)}}class G3{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Sj(t))return Ee.resolve(null);let i=yo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=kS(t,null,"F"),i=yo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=xn(...s);return this.Ui.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(m=>{const _=this.ji(t,u);return this.zi(t,_,l,m.readTime)?this.Ki(e,kS(t,null,"F")):this.Wi(e,_,t,m)}))})))}Gi(e,t,i,r){return Sj(t)||r.isEqual(Pt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(_O()<=ac.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OO(t)),this.Wi(e,l,t,WH(r,-1)))})}ji(e,t){let i=new $i(Aj(e));return t.forEach((r,s)=>{Aw(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return _O()<=ac.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",OO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Aa.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class RQ{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Pi(fn),this.Yi=new Lu(s=>lg(s),Tw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function $3(n,e,t,i){return new RQ(n,e,t,i)}function W3(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,Oe.Z)(function*(n,e){const t=pt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],u=[];let m=xn();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of s){u.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:l,addedBatchIds:u}))})})}),sP.apply(this,arguments)}function q3(n){const e=pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function K3(n,e,t){let i=xn(),r=xn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=Yo();return t.forEach((u,m)=>{const _=s.get(u);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(u)),m.isNoDocument()&&m.version.isEqual(Pt.min())?(e.removeEntry(u,m.readTime),l=l.insert(u,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m),l=l.insert(u,m)):Xe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",m.version)}),{nr:l,sr:r}})}function NQ(n,e){const t=pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oy(n,e){const t=pt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,Ee.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Vu(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function ay(n,e,t){return oP.apply(this,arguments)}function oP(){return oP=(0,Oe.Z)(function*(n,e,t){const i=pt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!zf(l))throw l;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),oP.apply(this,arguments)}function KS(n,e,t){const i=pt(n);let r=Pt.min(),s=xn();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,m,_){const b=pt(u),I=b.Yi.get(_);return void 0!==I?Ee.resolve(b.Ji.get(I)):b.Bs.getTargetData(m,_)}(i,l,yo(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,u.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:Pt.min(),t?s:xn())).next(u=>(Q3(i,Mj(e),u),{documents:u,ir:s})))}function Y3(n,e){const t=pt(n),i=pt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function Z3(n,e){const t=pt(n),i=t.Xi.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,WH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Q3(t,e,r),r))}function Q3(n,e,t){let i=n.Xi.get(e)||Pt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function aP(){return aP=(0,Oe.Z)(function*(n,e,t,i){const r=pt(n);let s=xn(),l=Yo();for(const _ of t){const b=e.rr(_.metadata.name);_.document&&(s=s.add(b));const I=e.ur(_);I.setReadTime(e.cr(_.metadata.readTime)),l=l.insert(b,I)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield oy(r,(_=i,yo(Qv(Un.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>K3(_,u,l).next(b=>(u.apply(_),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>r.Bs.addMatchingKeys(_,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),aP.apply(this,arguments)}function LQ(n,e){return lP.apply(this,arguments)}function lP(){return lP=(0,Oe.Z)(function*(n,e,t=xn()){const i=yield oy(n,yo(WO(e.bundledQuery))),r=pt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Lr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const u=i.withResumeToken(ls.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(s,u).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),lP.apply(this,arguments)}function X3(n,e){return`firestore_clients_${n}_${e}`}function J3(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function cP(n,e){return`firestore_targets_${n}_${e}`}class YS{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new $e(r.error.code,r.error.message))),l?new YS(e,t,r.state,s):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new $e(i.error.code,i.error.message))),s?new Kw(e,i.state,r):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=PO();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=QH(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new ZS(e,s):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dP{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dP(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uP{constructor(){this.activeTargetIds=PO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hP{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Pi(fn),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=X3(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new uP),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(X3(e.persistenceKey,r));if(s){const l=ZS.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(cP(this.persistenceKey,e));if(i){const r=Kw.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cP(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xe("SharedClientState","READ",e,t),t}setItem(e,t){Xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Xe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=ka.ct;if(null!=s)try{const u=JSON.parse(s);Rt("number"==typeof u),l=u}catch(u){Fr("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(i.newValue);r!==ka.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new YS(this.currentUser,e,t,i),s=J3(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=J3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=cP(this.persistenceKey,e),s=new Kw(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return ZS.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return YS.ar(new _s(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Kw.ar(r,t)}br(e){return dP.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],u=[];return s.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{s.has(m)||u.push(m)}),this.syncEngine.Wr(l,u).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=PO();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ez{constructor(){this.Hr=new uP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BQ{Yr(e){}shutdown(){}}class tz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QS=null;function fP(){return null===QS?QS=268435456+Math.round(2147483648*Math.random()):QS++,"0x"+QS.toString(16)}const VQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UQ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Js="WebChannelConnection";class HQ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=fP(),u=this.To(e,t);Xe("RestConnection",`Sending RPC '${e}' ${l}:`,u,i);const m={};return this.Eo(m,r,s),this.Ao(e,u,m,i).then(_=>(Xe("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw yl("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+$v,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${VQ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=fP();return new Promise((l,u)=>{const m=new BY;m.setWithCredentials(!0),m.listenOnce(NY.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case gO.NO_ERROR:const b=m.getResponseJson();Xe(Js,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),l(b);break;case gO.TIMEOUT:Xe(Js,`RPC '${e}' ${s} timed out`),u(new $e(Me.DEADLINE_EXCEEDED,"Request time out"));break;case gO.HTTP_ERROR:const I=m.getStatus();if(Xe(Js,`RPC '${e}' ${s} failed with status:`,I,"response text:",m.getResponseText()),I>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const F=A?.error;if(F&&F.status&&F.message){const z=function(te){const ae=te.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(ae)>=0?ae:Me.UNKNOWN}(F.status);u(new $e(z,F.message))}else u(new $e(Me.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new $e(Me.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Xe(Js,`RPC '${e}' ${s} completed.`)}});const _=JSON.stringify(r);Xe(Js,`RPC '${e}' ${s} sending request:`,r),m.send(t,"POST",_,i,15)})}Ro(e,t,i){const r=fP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=OY(),u=PY(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new LY({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const b=s.join("");Xe(Js,`Creating RPC '${e}' stream ${r}: ${b}`,m);const I=l.createWebChannel(b,m);let A=!1,F=!1;const z=new UQ({ro:ae=>{F?Xe(Js,`Not sending because RPC '${e}' stream ${r} is closed:`,ae):(A||(Xe(Js,`Opening RPC '${e}' stream ${r} transport.`),I.open(),A=!0),Xe(Js,`RPC '${e}' stream ${r} sending:`,ae),I.send(ae))},oo:()=>I.close()}),te=(ae,je,Qe)=>{ae.listen(je,Je=>{try{Qe(Je)}catch(st){setTimeout(()=>{throw st},0)}})};return te(I,_S.EventType.OPEN,()=>{F||Xe(Js,`RPC '${e}' stream ${r} transport opened.`)}),te(I,_S.EventType.CLOSE,()=>{F||(F=!0,Xe(Js,`RPC '${e}' stream ${r} transport closed`),z.wo())}),te(I,_S.EventType.ERROR,ae=>{F||(F=!0,yl(Js,`RPC '${e}' stream ${r} transport errored:`,ae),z.wo(new $e(Me.UNAVAILABLE,"The operation could not be completed")))}),te(I,_S.EventType.MESSAGE,ae=>{var je;if(!F){const Qe=ae.data[0];Rt(!!Qe);const st=Qe.error||(null===(je=Qe[0])||void 0===je?void 0:je.error);if(st){Xe(Js,`RPC '${e}' stream ${r} received error:`,st);const Lt=st.status;let $t=function(pr){const no=Qr[pr];if(void 0!==no)return Kj(no)}(Lt),Pn=st.message;void 0===$t&&($t=Me.INTERNAL,Pn="Unknown error status: "+Lt+" with message "+st.message),F=!0,z.wo(new $e($t,Pn)),I.close()}else Xe(Js,`RPC '${e}' stream ${r} received:`,Qe),z._o(Qe)}}),te(u,FY.STAT_EVENT,ae=>{ae.stat===UH.PROXY?Xe(Js,`RPC '${e}' stream ${r} detected buffering proxy`):ae.stat===UH.NOPROXY&&Xe(Js,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function nz(){return typeof window<"u"?window:null}function XS(){return typeof document<"u"?document:null}function Yw(n){return new QZ(n,!0)}class mP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iz{constructor(e,t,i,r,s,l,u,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Oe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Me.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new $e(Me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jQ extends iz{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function eQ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:xt(),r=e.targetChange.targetIds||[],s=function(m,_){return m.useProto3Json?(Rt(void 0===_||"string"==typeof _),ls.fromBase64String(_||"")):(Rt(void 0===_||_ instanceof Uint8Array),ls.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const _=void 0===m.code?Me.UNKNOWN:Kj(m.code);return new $e(_,m.message||"")}(l);t=new Jj(i,r,s,u||null)}else if("documentChange"in e){const i=e.documentChange,r=_d(n,i.document.name),s=Lr(i.document.updateTime),l=i.document.createTime?Lr(i.document.createTime):Pt.min(),u=new Ps({mapValue:{fields:i.document.fields}}),m=Wi.newFoundDocument(r,s,l,u);t=new FS(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=_d(n,i.document),s=i.readTime?Lr(i.readTime):Pt.min(),l=Wi.newNoDocument(r,s);t=new FS([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=_d(n,i.document);t=new FS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new $Z(r,s);t=new Xj(i.targetId,l)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Pt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Pt.min():s.readTime?Lr(s.readTime):Pt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Vw(this.serializer),t.addTarget=function(r,s){let l;const u=s.target;if(l=TS(u)?{documents:d3(r,u)}:{query:$O(r,u)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=r3(r,s.resumeToken);const m=HO(r,s.expectedCount);null!==m&&(l.expectedCount=m)}else if(s.snapshotVersion.compareTo(Pt.min())>0){l.readTime=ny(r,s.snapshotVersion.toTimestamp());const m=HO(r,s.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const i=function nQ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Vw(this.serializer),t.removeTarget=e,this.Wo(t)}}class zQ extends iz{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function tQ(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(i,r){let s=Lr(i.updateTime?i.updateTime:r);return s.isEqual(Pt.min())&&(s=Lr(r)),new HZ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.cu(i,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uw(this.serializer,i))};this.Wo(t)}}class GQ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new $e(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(Me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class WQ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fr(t),this.mu=!1):Xe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qQ{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,Oe.Z)(function*(){var m;tm(l)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Oe.Z)(function*(_){const b=pt(_);b.vu.add(4),yield ly(b),b.bu.set("Unknown"),b.vu.delete(4),yield Zw(b)}),function(_){return m.apply(this,arguments)})(l))}))}),this.bu=new WQ(i,r)}}function Zw(n){return gP.apply(this,arguments)}function gP(){return gP=(0,Oe.Z)(function*(n){if(tm(n))for(const e of n.Ru)yield e(!0)}),gP.apply(this,arguments)}function ly(n){return _P.apply(this,arguments)}function _P(){return _P=(0,Oe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),_P.apply(this,arguments)}function JS(n,e){const t=pt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bP(t)?yP(t):dy(t).Ko()&&vP(t,e))}function Qw(n,e){const t=pt(n),i=dy(t);t.Au.delete(e),i.Ko()&&rz(t,e),0===t.Au.size&&(i.Ko()?i.jo():tm(t)&&t.bu.set("Unknown"))}function vP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dy(n).su(e)}function rz(n,e){n.Vu.qt(e),dy(n).iu(e)}function yP(n){n.Vu=new qZ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),dy(n).start(),n.bu.gu()}function bP(n){return tm(n)&&!dy(n).Uo()&&n.Au.size>0}function tm(n){return 0===pt(n).vu.size}function sz(n){n.Vu=void 0}function KQ(n){return wP.apply(this,arguments)}function wP(){return wP=(0,Oe.Z)(function*(n){n.Au.forEach((e,t)=>{vP(n,e)})}),wP.apply(this,arguments)}function YQ(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,Oe.Z)(function*(n,e){sz(n),bP(n)?(n.bu.Iu(e),yP(n)):n.bu.set("Unknown")}),xP.apply(this,arguments)}function ZQ(n,e,t){return EP.apply(this,arguments)}function EP(){return EP=(0,Oe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Jj&&2===e.state&&e.cause)try{yield(i=(0,Oe.Z)(function*(r,s){const l=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield eT(n,i)}else if(e instanceof FS?n.Vu.Ht(e):e instanceof Xj?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Pt.min()))try{const i=yield q3(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,m)=>{const _=r.Au.get(u);if(!_)return;r.Au.set(u,_.withResumeToken(ls.EMPTY_BYTE_STRING,_.snapshotVersion)),rz(r,u);const b=new Vu(_.target,u,m,_.sequenceNumber);vP(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Xe("RemoteStore","Failed to raise snapshot:",i),yield eT(n,i)}var i}),EP.apply(this,arguments)}function eT(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=(0,Oe.Z)(function*(n,e,t){if(!zf(e))throw e;n.vu.add(1),yield ly(n),n.bu.set("Offline"),t||(t=()=>q3(n.localStore)),n.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Zw(n)}))}),CP.apply(this,arguments)}function oz(n,e){return e().catch(t=>eT(n,t,e))}function cy(n){return IP.apply(this,arguments)}function IP(){return IP=(0,Oe.Z)(function*(n){const e=pt(n),t=nm(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;QQ(e);)try{const r=yield NQ(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,XQ(e,r)}catch(r){yield eT(e,r)}az(e)&&lz(e)}),IP.apply(this,arguments)}function QQ(n){return tm(n)&&n.Eu.length<10}function XQ(n,e){n.Eu.push(e);const t=nm(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function az(n){return tm(n)&&!nm(n).Uo()&&n.Eu.length>0}function lz(n){nm(n).start()}function JQ(n){return DP.apply(this,arguments)}function DP(){return DP=(0,Oe.Z)(function*(n){nm(n).hu()}),DP.apply(this,arguments)}function eX(n){return SP.apply(this,arguments)}function SP(){return SP=(0,Oe.Z)(function*(n){const e=nm(n);for(const t of n.Eu)e.uu(t.mutations)}),SP.apply(this,arguments)}function tX(n,e,t){return TP.apply(this,arguments)}function TP(){return TP=(0,Oe.Z)(function*(n,e,t){const i=n.Eu.shift(),r=LO.from(i,e,t);yield oz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cy(n)}),TP.apply(this,arguments)}function nX(n,e){return MP.apply(this,arguments)}function MP(){return MP=(0,Oe.Z)(function*(n,e){var t;e&&nm(n).ou&&(yield(t=(0,Oe.Z)(function*(i,r){if(qj(s=r.code)&&s!==Me.ABORTED){const l=i.Eu.shift();nm(i).Qo(),yield oz(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield cy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),az(n)&&lz(n)}),MP.apply(this,arguments)}function cz(n,e){return AP.apply(this,arguments)}function AP(){return AP=(0,Oe.Z)(function*(n,e){const t=pt(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const i=tm(t);t.vu.add(3),yield ly(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Zw(t)}),AP.apply(this,arguments)}function kP(n,e){return RP.apply(this,arguments)}function RP(){return RP=(0,Oe.Z)(function*(n,e){const t=pt(n);e?(t.vu.delete(2),yield Zw(t)):e||(t.vu.add(2),yield ly(t),t.bu.set("Unknown"))}),RP.apply(this,arguments)}function dy(n){return n.Su||(n.Su=function(e,t,i){const r=pt(e);return r.fu(),new jQ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:KQ.bind(null,n),ao:YQ.bind(null,n),nu:ZQ.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Su.Qo(),bP(n)?yP(n):n.bu.set("Unknown")):(yield n.Su.stop(),sz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function nm(n){return n.Du||(n.Du=function(e,t,i){const r=pt(e);return r.fu(),new zQ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:JQ.bind(null,n),ao:nX.bind(null,n),au:eX.bind(null,n),cu:tX.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Du.Qo(),yield cy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class OP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,u=new OP(e,t,l,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),zf(n))return new $e(Me.UNAVAILABLE,`${e}: ${n}`);throw n}class hy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ft.comparator(t.key,i.key):(t,i)=>ft.comparator(t.key,i.key),this.keyedMap=kw(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new hy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new hy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class dz{constructor(){this.Cu=new Pi(ft.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):xt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class fy{constructor(e,t,i,r,s,l,u,m,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new fy(e,t,hy.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class iX{constructor(){this.Nu=void 0,this.listeners=[]}}class rX{constructor(){this.queries=new Lu(e=>Tj(e),Mw),this.onlineState="Unknown",this.ku=new Set}}function PP(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,Oe.Z)(function*(n,e){const t=pt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new iX),r)try{s.Nu=yield t.onListen(i)}catch(l){const u=uy(l,`Initialization of query '${OO(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&BP(t)}),NP.apply(this,arguments)}function FP(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Oe.Z)(function*(n,e){const t=pt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),LP.apply(this,arguments)}function sX(n,e){const t=pt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const u of l.listeners)u.$u(r)&&(i=!0);l.Nu=r}}i&&BP(t)}function oX(n,e,t){const i=pt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function BP(n){n.ku.forEach(e=>{e.next()})}class VP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new fy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aX{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class uz{constructor(e){this.serializer=e}rr(e){return _d(this.serializer,e)}ur(e){return e.metadata.exists?c3(this.serializer,e.document,!1):Wi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Lr(e)}}class lX{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hz(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Un.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new uz(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const u=(t.get(l)||xn()).add(s);t.set(l,u)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function FQ(n,e,t,i){return aP.apply(this,arguments)}(e.localStore,new uz(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield LQ(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function hz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class fz{constructor(e){this.key=e}}class mz{constructor(e){this.key=e}}class pz{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xn(),this.mutatedKeys=xn(),this.tc=Aj(e),this.ec=new hy(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new dz,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,I)=>{const A=r.get(b),F=Aw(this.query,I)?I:null,z=!!A&&this.mutatedKeys.has(A.key),te=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ae=!1;A&&F?A.data.isEqual(F.data)?z!==te&&(i.track({type:3,doc:F}),ae=!0):this.rc(A,F)||(i.track({type:2,doc:F}),ae=!0,(m&&this.tc(F,m)>0||_&&this.tc(F,_)<0)&&(u=!0)):!A&&F?(i.track({type:0,doc:F}),ae=!0):A&&!F&&(i.track({type:1,doc:A}),ae=!0,(m||_)&&(u=!0)),ae&&(F?(l=l.add(F),s=te?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:l,ic:i,zi:u,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((_,b)=>function(I,A){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return F(I)-F(A)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const l=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,m=u!==this.Xu;return this.Xu=u,0!==s.length||m?{snapshot:new fy(this.query,e.ec,r,s,e.mutatedKeys,0===u,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new mz(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new fz(i))}),t}hc(e){this.Yu=e.ir,this.Zu=xn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return fy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cX{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dX{constructor(e){this.key=e,this.fc=!1}}class uX{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Lu(u=>Tj(u),Mw),this._c=new Map,this.mc=new Set,this.gc=new Pi(ft.comparator),this.yc=new Map,this.Ic=new JO,this.Tc={},this.Ec=new Map,this.Ac=_g.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hX(n,e){return UP.apply(this,arguments)}function UP(){return UP=(0,Oe.Z)(function*(n,e){const t=cN(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield oy(t.localStore,yo(e)),u=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield HP(t,e,i,"current"===u,l.resumeToken),t.isPrimaryClient&&JS(t.remoteStore,l)}return r}),UP.apply(this,arguments)}function HP(n,e,t,i,r){return jP.apply(this,arguments)}function jP(){return jP=(0,Oe.Z)(function*(n,e,t,i,r){n.Rc=(I,A,F)=>{return(z=(0,Oe.Z)(function*(te,ae,je,Qe){let Je=ae.view.sc(je);Je.zi&&(Je=yield KS(te.localStore,ae.query,!1).then(({documents:$t})=>ae.view.sc($t,Je)));const st=Qe&&Qe.targetChanges.get(ae.targetId),Lt=ae.view.applyChanges(Je,te.isPrimaryClient,st);return XP(te,ae.targetId,Lt.cc),Lt.snapshot}),function(te,ae,je,Qe){return z.apply(this,arguments)})(n,I,A,F);var z};const s=yield KS(n.localStore,e,!0),l=new pz(e,s.ir),u=l.sc(s.documents),m=Lw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=l.applyChanges(u,n.isPrimaryClient,m);XP(n,t,_.cc);const b=new cX(e,t,l);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),jP.apply(this,arguments)}function fX(n,e){return zP.apply(this,arguments)}function zP(){return zP=(0,Oe.Z)(function*(n,e){const t=pt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!Mw(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ay(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Qw(t.remoteStore,i.targetId),my(t,i.targetId)}).catch(jf))):(my(t,i.targetId),yield ay(t.localStore,i.targetId,!0))}),zP.apply(this,arguments)}function GP(){return GP=(0,Oe.Z)(function*(n,e,t){const i=dN(n);try{const r=yield function(s,l){const u=pt(s),m=nr.now(),_=l.reduce((A,F)=>A.add(F.key),xn());let b,I;return u.persistence.runTransaction("Locally write mutations","readwrite",A=>{let F=Yo(),z=xn();return u.Zi.getEntries(A,_).next(te=>{F=te,F.forEach((ae,je)=>{je.isValidDocument()||(z=z.add(ae))})}).next(()=>u.localDocuments.getOverlayedDocuments(A,F)).next(te=>{b=te;const ae=[];for(const je of l){const Qe=zZ(je,b.get(je.key).overlayedDocument);null!=Qe&&ae.push(new Bu(je.key,Qe,mj(Qe.value.mapValue),ir.exists(!0)))}return u.mutationQueue.addMutationBatch(A,m,ae,l)}).next(te=>{I=te;const ae=te.applyToLocalDocumentSet(b,z);return u.documentOverlayCache.saveOverlays(A,te.batchId,ae)})}).then(()=>({batchId:I.batchId,changes:Rj(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,u){let m=s.Tc[s.currentUser.toKey()];m||(m=new Pi(fn)),m=m.insert(l,u),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,t),yield Uu(i,r.changes),yield cy(i.remoteStore)}catch(r){const s=uy(r,"Failed to persist write");t.reject(s)}}),GP.apply(this,arguments)}function gz(n,e){return $P.apply(this,arguments)}function $P(){return $P=(0,Oe.Z)(function*(n,e){const t=pt(n);try{const i=yield function PQ(n,e){const t=pt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const u=[];e.targetChanges.forEach((b,I)=>{const A=r.get(I);if(!A)return;u.push(t.Bs.removeMatchingKeys(s,b.removedDocuments,I).next(()=>t.Bs.addMatchingKeys(s,b.addedDocuments,I)));let F=A.withSequenceNumber(s.currentSequenceNumber);var z,te,ae;null!==e.targetMismatches.get(I)?F=F.withResumeToken(ls.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,i)),r=r.insert(I,F),te=F,ae=b,(0===(z=A).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&u.push(t.Bs.updateTargetData(s,F))});let m=Yo(),_=xn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),u.push(K3(s,l,e.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!i.isEqual(Pt.min())){const b=t.Bs.getLastRemoteSnapshotVersion(s).next(I=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(b)}return Ee.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,_)).next(()=>m)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Rt(l.fc):r.removedDocuments.size>0&&(Rt(l.fc),l.fc=!1))}),yield Uu(t,i,e)}catch(i){yield jf(i)}}),$P.apply(this,arguments)}function _z(n,e,t){const i=pt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const u=l.view.Mu(e);u.snapshot&&r.push(u.snapshot)}),function(s,l){const u=pt(s);u.onlineState=l;let m=!1;u.queries.forEach((_,b)=>{for(const I of b.listeners)I.Mu(l)&&(m=!0)}),m&&BP(u)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pX(n,e,t){return WP.apply(this,arguments)}function WP(){return WP=(0,Oe.Z)(function*(n,e,t){const i=pt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new Pi(ft.comparator);l=l.insert(s,Wi.newNoDocument(s,Pt.min()));const u=xn().add(s),m=new Fw(Pt.min(),new Map,new Pi(fn),l,u);yield gz(i,m),i.gc=i.gc.remove(s),i.yc.delete(e),JP(i)}else yield ay(i.localStore,e,!1).then(()=>my(i,e,t)).catch(jf)}),WP.apply(this,arguments)}function gX(n,e){return qP.apply(this,arguments)}function qP(){return qP=(0,Oe.Z)(function*(n,e){const t=pt(n),i=e.batch.batchId;try{const r=yield function OQ(n,e){const t=pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,u,m,_){const b=m.batch,I=b.keys();let A=Ee.resolve();return I.forEach(F=>{A=A.next(()=>_.getEntry(u,F)).next(z=>{const te=m.docVersions.get(F);Rt(null!==te),z.version.compareTo(te)<0&&(b.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),_.addEntry(z)))})}),A.next(()=>l.mutationQueue.removeMutationBatch(u,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=xn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(u=u.add(l.batch.mutations[m].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);QP(t,i,null),ZP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Uu(t,r)}catch(r){yield jf(r)}}),qP.apply(this,arguments)}function _X(n,e,t){return KP.apply(this,arguments)}function KP(){return KP=(0,Oe.Z)(function*(n,e,t){const i=pt(n);try{const r=yield function(s,l){const u=pt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return u.mutationQueue.lookupMutationBatch(m,l).next(b=>(Rt(null!==b),_=b.keys(),u.mutationQueue.removeMutationBatch(m,b))).next(()=>u.mutationQueue.performConsistencyCheck(m)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>u.localDocuments.getDocuments(m,_))})}(i.localStore,e);QP(i,e,t),ZP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(i,r)}catch(r){yield jf(r)}}),KP.apply(this,arguments)}function YP(){return YP=(0,Oe.Z)(function*(n,e){const t=pt(n);tm(t.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=pt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=uy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),YP.apply(this,arguments)}function ZP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function QP(n,e,t){const i=pt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function my(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||vz(n,i)})}function vz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Qw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),JP(n))}function XP(n,e,t){for(const i of t)i instanceof fz?(n.Ic.addReference(i.key,e),yX(n,i)):i instanceof mz?(Xe("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||vz(n,i.key)):xt()}function yX(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Xe("SyncEngine","New document in limbo: "+t),n.mc.add(i),JP(n))}function JP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ft(Un.fromString(e)),i=n.Ac.next();n.yc.set(i,new dX(t)),n.gc=n.gc.insert(t,i),JS(n.remoteStore,new Vu(yo(Qv(t.path)),i,"TargetPurposeLimboResolution",ka.ct))}}function Uu(n,e,t){return eN.apply(this,arguments)}function eN(){return eN=(0,Oe.Z)(function*(n,e,t){const i=pt(n),r=[],s=[],l=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,m)=>{l.push(i.Rc(m,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=rP.Li(m.targetId,_);s.push(b)}}))}),yield Promise.all(l),i.dc.nu(r),yield(u=(0,Oe.Z)(function*(m,_){const b=pt(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ee.forEach(_,A=>Ee.forEach(A.Fi,F=>b.persistence.referenceDelegate.addReference(I,A.targetId,F)).next(()=>Ee.forEach(A.Bi,F=>b.persistence.referenceDelegate.removeReference(I,A.targetId,F)))))}catch(I){if(!zf(I))throw I;Xe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const A=I.targetId;if(!I.fromCache){const F=b.Ji.get(A),te=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);b.Ji=b.Ji.insert(A,te)}}}),function(m,_){return u.apply(this,arguments)})(i.localStore,s))}),eN.apply(this,arguments)}function bX(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,Oe.Z)(function*(n,e){const t=pt(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const i=yield W3(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(u=>{u.reject(new $e(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Uu(t,i.er)}var r}),tN.apply(this,arguments)}function wX(n,e){const t=pt(n),i=t.yc.get(e);if(i&&i.fc)return xn().add(i.key);{let r=xn();const s=t._c.get(e);if(!s)return r;for(const l of s){const u=t.wc.get(l);r=r.unionWith(u.view.nc)}return r}}function xX(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,Oe.Z)(function*(n,e){const t=pt(n),i=yield KS(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&XP(t,e.targetId,r.cc),r}),nN.apply(this,arguments)}function EX(n,e){return iN.apply(this,arguments)}function iN(){return iN=(0,Oe.Z)(function*(n,e){const t=pt(n);return Z3(t.localStore,e).then(i=>Uu(t,i))}),iN.apply(this,arguments)}function CX(n,e,t,i){return rN.apply(this,arguments)}function rN(){return rN=(0,Oe.Z)(function*(n,e,t,i){const r=pt(n),s=yield function(l,u){const m=pt(l),_=pt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,u).next(I=>I?m.localDocuments.getDocuments(b,I):Ee.resolve(null)))}(r.localStore,e);var u;null!==s?("pending"===t?yield cy(r.remoteStore):"acknowledged"===t||"rejected"===t?(QP(r,e,i||null),ZP(r,e),u=e,pt(pt(r.localStore).mutationQueue).Cn(u)):xt(),yield Uu(r,s)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),rN.apply(this,arguments)}function sN(){return sN=(0,Oe.Z)(function*(n,e){const t=pt(n);if(cN(t),dN(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield yz(t,i.toArray());t.vc=!0,yield kP(t.remoteStore,!0);for(const s of r)JS(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(my(t,l),ay(t.localStore,l,!0))),Qw(t.remoteStore,l)}),yield r,yield yz(t,i),function(s){const l=pt(s);l.yc.forEach((u,m)=>{Qw(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Pi(ft.comparator)}(t),t.vc=!1,yield kP(t.remoteStore,!1)}}),sN.apply(this,arguments)}function yz(n,e,t){return oN.apply(this,arguments)}function oN(){return oN=(0,Oe.Z)(function*(n,e,t){const i=pt(n),r=[],s=[];for(const l of e){let u;const m=i._c.get(l);if(m&&0!==m.length){u=yield oy(i.localStore,yo(m[0]));for(const _ of m){const b=i.wc.get(_),I=yield xX(i,b);I.snapshot&&s.push(I.snapshot)}}else{const _=yield Y3(i.localStore,l);u=yield oy(i.localStore,_),yield HP(i,bz(_),l,!1,u.resumeToken)}r.push(u)}return i.dc.nu(s),r}),oN.apply(this,arguments)}function bz(n){return Dj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DX(n){const e=pt(n);return pt(pt(e.localStore).persistence).$i()}function SX(n,e,t,i){return aN.apply(this,arguments)}function aN(){return aN=(0,Oe.Z)(function*(n,e,t,i){const r=pt(n);if(r.vc)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield Z3(r.localStore,Mj(s[0])),u=Fw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ls.EMPTY_BYTE_STRING);yield Uu(r,l,u);break}case"rejected":yield ay(r.localStore,e,!0),my(r,e,i);break;default:xt()}}),aN.apply(this,arguments)}function TX(n,e,t){return lN.apply(this,arguments)}function lN(){return lN=(0,Oe.Z)(function*(n,e,t){const i=cN(n);if(i.vc){for(const r of e){if(i._c.has(r)){Xe("SyncEngine","Adding an already active target "+r);continue}const s=yield Y3(i.localStore,r),l=yield oy(i.localStore,s);yield HP(i,bz(s),l.targetId,!1,l.resumeToken),JS(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield ay(i.localStore,r,!1).then(()=>{Qw(i.remoteStore,r),my(i,r)}).catch(jf))}}),lN.apply(this,arguments)}function cN(n){const e=pt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pX.bind(null,e),e.dc.nu=sX.bind(null,e.eventManager),e.dc.Pc=oX.bind(null,e.eventManager),e}function dN(n){const e=pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_X.bind(null,e),e}class Xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.serializer=Yw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $3(this.persistence,new G3,e.initialUser,this.serializer)}createPersistence(e){return new eP($S.zs,this.serializer)}createSharedClientState(e){return new ez}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uN extends Xw{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Oe.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield dN(i.Vc.syncEngine),yield cy(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $3(this.persistence,new G3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new N3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new tZ(t,this.persistence);return new eZ(e.asyncQueue,i)}createPersistence(e){const t=iP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new nP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,nz(),XS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ez}}class wz extends uN{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Oe.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof hP&&(i.sharedClientState.syncEngine={jr:CX.bind(null,r),zr:SX.bind(null,r),Wr:TX.bind(null,r),$i:DX.bind(null,r),Qr:EX.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Oe.Z)(function*(l){yield function IX(n,e){return sN.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=nz();if(!hP.D(t))throw new $e(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=iP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hP(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class py{initialize(e,t){var i=this;return(0,Oe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_z(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=bX.bind(null,i.syncEngine),yield kP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rX}createDatastore(e){const t=Yw(e.databaseInfo.databaseId),i=new HQ(e.databaseInfo);return new GQ(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>_z(this.syncEngine,u,0),l=tz.D()?new tz:new BQ,new qQ(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,u,m,_){const b=new uX(i,r,s,l,u,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const i=pt(t);Xe("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ly(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xz(n,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kX{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new as,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new aX(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class RX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Oe.Z)(function*(s,l){const u=pt(s),m=Vw(u.serializer)+"/documents",_={documents:l.map(F=>Bw(u.serializer,F))},b=yield u.vo("BatchGetDocuments",m,_,l.length),I=new Map;b.forEach(F=>{const z=function JZ(n,e){return"found"in e?function(t,i){Rt(!!i.found);const r=_d(t,i.found.name),s=Lr(i.found.updateTime),l=i.found.createTime?Lr(i.found.createTime):Pt.min(),u=new Ps({mapValue:{fields:i.found.fields}});return Wi.newFoundDocument(r,s,l,u)}(n,e):"missing"in e?function(t,i){Rt(!!i.missing),Rt(!!i.readTime);const r=_d(t,i.missing),s=Lr(i.readTime);return Wi.newNoDocument(r,s)}(n,e):xt()}(u.serializer,F);I.set(z.key.toString(),z)});const A=[];return l.forEach(F=>{const z=I.get(F.toString());Rt(!!z),A.push(z)}),A}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ty(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ft.fromPath(r);e.mutations.push(new NO(s,e.precondition(s)))}),yield(i=(0,Oe.Z)(function*(r,s){const l=pt(r),u=Vw(l.serializer)+"/documents",m={writes:s.map(_=>Uw(l.serializer,_))};yield l.Io("Commit",u,m)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xt();t=Pt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new $e(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pt.min())?ir.exists(!1):ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new $e(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OX{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new mP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Oe.Z)(function*(){const t=new RX(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!xw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qj(t)}return!1}}class PX{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_s.UNAUTHENTICATED,this.clientId=GH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Oe.Z)(function*(u){Xe("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=uy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function nT(n,e){return hN.apply(this,arguments)}function hN(){return hN=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Oe.Z)(function*(s){i.isEqual(s)||(yield W3(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hN.apply(this,arguments)}function fN(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pN(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>cz(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>cz(e.remoteStore,s)),n._onlineComponents=e}),mN.apply(this,arguments)}function Ez(n){return"FirebaseError"===n.name?n.code===Me.FAILED_PRECONDITION||n.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function pN(n){return gN.apply(this,arguments)}function gN(){return gN=(0,Oe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ez(t))throw t;yl("Error using user provided cache. Falling back to memory cache: "+t),yield nT(n,new Xw)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),yield nT(n,new Xw);return n._offlineComponents}),gN.apply(this,arguments)}function iT(n){return _N.apply(this,arguments)}function _N(){return _N=(0,Oe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield fN(n,n._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield fN(n,new py))),n._onlineComponents}),_N.apply(this,arguments)}function Cz(n){return pN(n).then(e=>e.persistence)}function rT(n){return pN(n).then(e=>e.localStore)}function Iz(n){return iT(n).then(e=>e.remoteStore)}function vN(n){return iT(n).then(e=>e.syncEngine)}function gy(n){return yN.apply(this,arguments)}function yN(){return yN=(0,Oe.Z)(function*(n){const e=yield iT(n),t=e.eventManager;return t.onListen=hX.bind(null,e.syncEngine),t.onUnlisten=fX.bind(null,e.syncEngine),t}),yN.apply(this,arguments)}function Sz(n,e,t={}){const i=new as;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(r,s,l,u,m){const _=new tT({next:I=>{s.enqueueAndForget(()=>FP(r,b));const A=I.docs.has(l);!A&&I.fromCache?m.reject(new $e(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&u&&"server"===u.source?m.reject(new $e(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new VP(Qv(l.path),_,{includeMetadataChanges:!0,Ku:!0});return PP(r,b)}(yield gy(n),n.asyncQueue,e,t,i)})),i.promise}function Tz(n,e,t={}){const i=new as;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(r,s,l,u,m){const _=new tT({next:I=>{s.enqueueAndForget(()=>FP(r,b)),I.fromCache&&"server"===u.source?m.reject(new $e(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new VP(l,_,{includeMetadataChanges:!0,Ku:!0});return PP(r,b)}(yield gy(n),n.asyncQueue,e,t,i)})),i.promise}function Mz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Az=new Map;function bN(n,e,t){if(!t)throw new $e(Me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kz(n,e,t,i){if(!0===e&&!0===i)throw new $e(Me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rz(n){if(!ft.isDocumentKey(n))throw new $e(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Oz(n){if(ft.isDocumentKey(n))throw new $e(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":xt()}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sT(n);throw new $e(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Pz(n,e){if(e<=0)throw new $e(Me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Nz{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Mz(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new $e(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new jY;switch(t.type){case"firstParty":return new WY(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Az.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),Az.delete(e),t.terminate())}(this),Promise.resolve()}}class qi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class vd extends Ns{constructor(e,t,i){super(e,t,Qv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new ft(e))}withConverter(e){return new vd(this.firestore,e,this._path)}}function Lz(n,e,...t){if(n=(0,H.m9)(n),bN("collection","path",e),n instanceof Jw){const i=Un.fromString(e,...t);return Oz(i),new vd(n,null,i)}{if(!(n instanceof qi||n instanceof vd))throw new $e(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return Oz(i),new vd(n.firestore,null,i)}}function oT(n,e,...t){if(n=(0,H.m9)(n),1===arguments.length&&(e=GH.A()),bN("doc","path",e),n instanceof Jw){const i=Un.fromString(e,...t);return Rz(i),new qi(n,null,new ft(i))}{if(!(n instanceof qi||n instanceof vd))throw new $e(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return Rz(i),new qi(n.firestore,n instanceof vd?n.converter:null,new ft(i))}}function Bz(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),(n instanceof qi||n instanceof vd)&&(e instanceof qi||e instanceof vd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wN(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),n instanceof Ns&&e instanceof Ns&&n.firestore===e.firestore&&Mw(n._query,e._query)&&n.converter===e.converter}class GX{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mP(this,"async_queue_retry"),this.Xc=()=>{const t=XS();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=XS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=XS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new as;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!zf(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=OP.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&xt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function xN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class $X{constructor(){this._progressObserver={},this._taskCompletionResolver=new as,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ki extends Jw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new GX,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vz(this),this._firestoreClient.terminate()}}function Br(n){return n._firestoreClient||Vz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Vz(n){var e,t,i;const r=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xZ(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Mz(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new PX(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Uz(n,e,t){const i=new as;return n.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield nT(n,t),yield fN(n,e),i.resolve()}catch(r){const s=r;if(!Ez(s))throw s;yl("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function Hz(n){if(n._initialized||n._terminated)throw new $e(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yd(ls.fromBase64String(e))}catch(t){throw new $e(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yd(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._methodName=e}}class aT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}const nJ=/^__.*__$/;class iJ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ey(e,this.data,t,this.fieldTransforms)}}class jz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class lT{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zz(this.ca)&&nJ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class rJ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Yw(e)}ya(e,t,i,r=!1){return new lT({ca:e,methodName:t,ga:i,path:Sr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const e=n._freezeSettings(),t=Yw(n._databaseId);return new rJ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cT(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);DN("Data must be an object, but it was:",l,i);const u=Wz(i,l);let m,_;if(s.merge)m=new Ko(l.fieldMask),_=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const I of s.mergeFields){const A=nx(e,I,t);if(!l.contains(A))throw new $e(Me.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Kz(b,A)||b.push(A)}m=new Ko(b),_=l.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,_=l.fieldTransforms;return new iJ(new Ps(u),m,_)}class tx extends yg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tx}}function Gz(n,e,t){return new lT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class EN extends yg{_toFieldTransform(e){return new Ow(e.path,new Xv)}isEqual(e){return e instanceof EN}}class sJ extends yg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Gz(this,e,!0),i=this.pa.map(s=>wg(s,t)),r=new dg(i);return new Ow(e.path,r)}isEqual(e){return this===e}}class oJ extends yg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Gz(this,e,!0),i=this.pa.map(s=>wg(s,t)),r=new ug(i);return new Ow(e.path,r)}isEqual(e){return this===e}}class aJ extends yg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Jv(e.serializer,Fj(e.serializer,this.Ia));return new Ow(e.path,t)}isEqual(e){return this===e}}function CN(n,e,t,i){const r=n.ya(1,e,t);DN("Data must be an object, but it was:",r,i);const s=[],l=Ps.empty();Gf(i,(m,_)=>{const b=dT(e,m,t);_=(0,H.m9)(_);const I=r.da(b);if(_ instanceof tx)s.push(b);else{const A=wg(_,I);null!=A&&(s.push(b),l.set(b,A))}});const u=new Ko(s);return new jz(l,u,r.fieldTransforms)}function IN(n,e,t,i,r,s){const l=n.ya(1,e,t),u=[nx(e,i,t)],m=[r];if(s.length%2!=0)throw new $e(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)u.push(nx(e,s[A])),m.push(s[A+1]);const _=[],b=Ps.empty();for(let A=u.length-1;A>=0;--A)if(!Kz(_,u[A])){const F=u[A];let z=m[A];z=(0,H.m9)(z);const te=l.da(F);if(z instanceof tx)_.push(F);else{const ae=wg(z,te);null!=ae&&(_.push(F),b.set(F,ae))}}const I=new Ko(_);return new jz(b,I,l.fieldTransforms)}function $z(n,e,t,i=!1){return wg(t,n.ya(i?4:3,e))}function wg(n,e){if(qz(n=(0,H.m9)(n)))return DN("Unsupported field value:",e,n),Wz(n,e);if(n instanceof yg)return function(t,i){if(!zz(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let u=wg(l,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,H.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fj(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=nr.fromDate(t);return{timestampValue:ny(i.serializer,r)}}if(t instanceof nr){const r=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ny(i.serializer,r)}}if(t instanceof aT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yd)return{bytesValue:r3(i.serializer,t._byteString)};if(t instanceof qi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${sT(t)}`)}(n,e)}function Wz(n,e){const t={};return sj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gf(n,(i,r)=>{const s=wg(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function qz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof aT||n instanceof yd||n instanceof qi||n instanceof yg)}function DN(n,e,t){if(!qz(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=sT(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function nx(n,e,t){if((e=(0,H.m9)(e))instanceof Hu)return e._internalPath;if("string"==typeof e)return dT(n,e);throw uT("Field path arguments must be of type string or ",n,!1,void 0,t)}const lJ=new RegExp("[~\\*/\\[\\]]");function dT(n,e,t){if(e.search(lJ)>=0)throw uT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw uT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uT(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new $e(Me.INVALID_ARGUMENT,u+n+m)}function Kz(n,e){return n.some(t=>t.isEqual(e))}class ix{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cJ extends ix{data(){return super.data()}}function hT(n,e){return"string"==typeof e?dT(n,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function Yz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SN{}class rx extends SN{}function im(n,e,...t){let i=[];e instanceof SN&&i.push(e),i=i.concat(t),function(r){const s=r.filter(u=>u instanceof _y).length,l=r.filter(u=>u instanceof sx).length;if(s>1||s>0&&l>0)throw new $e(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class sx extends rx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sx(e,t,i)}_apply(e){const t=this._parse(e);return Jz(e._query,t),new Ns(e.firestore,e.converter,RO(e._query,t))}_parse(e){const t=bg(e.firestore);return function(r,s,l,u,m,_,b){let I;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new $e(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){Xz(b,_);const A=[];for(const F of b)A.push(Qz(u,r,F));I={arrayValue:{values:A}}}else I=Qz(u,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||Xz(b,_),I=$z(l,"where",b,"in"===_||"not-in"===_);return Rn.create(m,_,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class _y extends SN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _y(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const u of l)Jz(s,u),s=RO(s,u)}(e._query,t),new Ns(e.firestore,e.converter,RO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class TN extends rx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new TN(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new $e(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new $e(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Yv(r,s);return function(u,m){if(null===AO(u)){const _=AS(u);null!==_&&e6(0,_,m.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Fu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class fT extends rx{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new fT(e,t,i)}_apply(e){return new Ns(e.firestore,e.converter,kS(e._query,this._limit,this._limitType))}}class mT extends rx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new mT(e,t,i)}_apply(e){const t=Zz(e,this.type,this._docOrFields,this._inclusive);return new Ns(e.firestore,e.converter,(r=t,new Fu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class pT extends rx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new pT(e,t,i)}_apply(e){const t=Zz(e,this.type,this._docOrFields,this._inclusive);return new Ns(e.firestore,e.converter,(r=t,new Fu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Zz(n,e,t,i){if(t[0]=(0,H.m9)(t[0]),t[0]instanceof ix)return function(r,s,l,u,m){if(!u)throw new $e(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of cg(r))if(b.field.isKeyField())_.push(ag(s,u.key));else{const I=u.data.field(b.field);if(ES(I))throw new $e(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const A=b.field.canonicalString();throw new $e(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}_.push(I)}return new Zf(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=bg(n.firestore);return function(s,l,u,m,_,b){const I=s.explicitOrderBy;if(_.length>I.length)throw new $e(Me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let F=0;F<_.length;F++){const z=_[F];if(I[F].field.isKeyField()){if("string"!=typeof z)throw new $e(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!kO(s)&&-1!==z.indexOf("/"))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const te=s.path.child(Un.fromString(z));if(!ft.isDocumentKey(te))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ae=new ft(te);A.push(ag(l,ae))}else{const te=$z(u,m,z);A.push(te)}}return new Zf(A,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Qz(n,e,t){if("string"==typeof(t=(0,H.m9)(t))){if(""===t)throw new $e(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kO(e)&&-1!==t.indexOf("/"))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Un.fromString(t));if(!ft.isDocumentKey(i))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ag(n,new ft(i))}if(t instanceof qi)return ag(n,t._key);throw new $e(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sT(t)}.`)}function Xz(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jz(n,e){if(e.isInequality()){const i=AS(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=AO(n);null!==s&&e6(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new $e(Me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function e6(n,e,t){if(!t.isEqual(e))throw new $e(Me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class MN{convertValue(e,t="none"){switch(Kf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gf(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new aT(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=CS(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cw(e));default:return null}}convertTimestamp(e){const t=$f(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Un.fromString(e);Rt(m3(i));const r=new Wf(i.get(1),i.get(3)),s=new ft(i.popFirst(5));return r.isEqual(t)||Fr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function gT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class vJ extends MN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}class xg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends ix{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ox extends ju{data(e={}){return super.data(e)}}class rm{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ox(this._firestore,this._userDataWriter,i.key,i,new xg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new ox(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const u=new ox(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),_=s.indexOf(l.doc.key)),{type:bJ(l.type),doc:u,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bJ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function n6(n,e){return n instanceof ju&&e instanceof ju?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rm&&e instanceof rm&&n._firestore===e._firestore&&wN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class sm extends MN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}function i6(n,e,t){n=On(n,qi);const i=On(n.firestore,Ki),r=gT(n.converter,e,t);return vy(i,[cT(bg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ir.none())])}function r6(n,e,t,...i){n=On(n,qi);const r=On(n.firestore,Ki),s=bg(r);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof Hu?IN(s,"updateDoc",n._key,e,t,i):CN(s,"updateDoc",n._key,e),vy(r,[l.toMutation(n._key,ir.exists(!0))])}function s6(n,...e){var t,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||xN(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges};if(xN(e[l])){const I=e[l];e[l]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[l+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[l+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let m,_,b;if(n instanceof qi)_=On(n.firestore,Ki),b=Qv(n._key.path),m={next:I=>{e[l]&&e[l](AN(_,n,I))},error:e[l+1],complete:e[l+2]};else{const I=On(n,Ns);_=On(I.firestore,Ki),b=I._query;const A=new sm(_);m={next:F=>{e[l]&&e[l](new rm(_,A,I,F))},error:e[l+1],complete:e[l+2]},Yz(n._query)}return function(I,A,F,z){const te=new tT(z),ae=new VP(A,te,F);return I.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return PP(yield gy(I),ae)})),()=>{te.Dc(),I.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return FP(yield gy(I),ae)}))}}(Br(_),b,u,m)}function vy(n,e){return function(t,i){const r=new as;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function mX(n,e,t){return GP.apply(this,arguments)}(yield vN(t),i,r)})),r.promise}(Br(n),e)}function AN(n,e,t){const i=t.docs.get(e._key),r=new sm(n);return new ju(n,r,e._key,i,new xg(t.hasPendingWrites,t.fromCache),e.converter)}const BJ={maxAttempts:5};class o6{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bg(e)}set(e,t,i){this._verifyNotCommitted();const r=om(e,this._firestore),s=gT(r.converter,t,i),l=cT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,ir.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=om(e,this._firestore);let l;return l="string"==typeof(t=(0,H.m9)(t))||t instanceof Hu?IN(this._dataReader,"WriteBatch.update",s._key,t,i,r):CN(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=om(e,this._firestore);return this._mutations=this._mutations.concat(new ty(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(n,e){if((n=(0,H.m9)(n)).firestore!==e)throw new $e(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class VJ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bg(e)}get(e){const t=om(e,this._firestore),i=new vJ(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return xt();const s=r[0];if(s.isFoundDocument())return new ix(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new ix(this._firestore,i,t._key,null,t.converter);throw xt()})}set(e,t,i){const r=om(e,this._firestore),s=gT(r.converter,t,i),l=cT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=om(e,this._firestore);let l;return l="string"==typeof(t=(0,H.m9)(t))||t instanceof Hu?IN(this._dataReader,"Transaction.update",s._key,t,i,r):CN(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=om(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=om(e,this._firestore),i=new sm(this._firestore);return super.get(e).then(r=>new ju(this._firestore,i,t._key,r._document,new xg(!1,!1),t.converter))}}!function(n,e=!0){$v=_o.SDK_VERSION,(0,_o._registerComponent)(new lc.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Ki(new GY(t.getProvider("auth-internal")),new qY(t.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(u.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(HH,"3.13.0",n),(0,_o.registerVersion)(HH,"3.13.0","esm2017")}();function kN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function l6(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function c6(){if(!function bZ(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ax{constructor(e){this._delegate=e}static fromBase64String(e){return c6(),new ax(yd.fromBase64String(e))}static fromUint8Array(e){return l6(),new ax(yd.fromUint8Array(e))}toBase64(){return c6(),this._delegate.toBase64()}toUint8Array(){return l6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RN(n){return function KJ(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class YJ{enableIndexedDbPersistence(e,t){return function qX(n,e){Hz(n=On(n,Ki));const t=Br(n);if(t._uninitializedComponentsProvider)throw new $e(Me.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new py;return Uz(t,r,new uN(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KX(n){Hz(n=On(n,Ki));const e=Br(n);if(e._uninitializedComponentsProvider)throw new $e(Me.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new py;return Uz(e,i,new wz(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YX(n){if(n._initialized&&!n._terminated)throw new $e(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new as;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(i){if(!uc.D())return Promise.resolve();const r=i+"main";yield uc.delete(r)}),function(i){return t.apply(this,arguments)})(iP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class d6{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Fz(n,e,t,i={}){var r;const s=(n=On(n,Jw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let u,m;if("string"==typeof i.mockUserToken)u=i.mockUserToken,m=_s.MOCK_USER;else{u=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new $e(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new _s(_)}n._authCredentials=new zY(new jH(u,m))}}(this._delegate,e,t,i)}enableNetwork(){return function QX(n){return function NX(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield Cz(n),t=yield Iz(n);return e.setNetworkEnabled(!0),function(i){const r=pt(i);return r.vu.delete(0),Zw(r)}(t)}))}(Br(n=On(n,Ki)))}(this._delegate)}disableNetwork(){return function XX(n){return function FX(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield Cz(n),t=yield Iz(n);return e.setNetworkEnabled(!1),(i=(0,Oe.Z)(function*(r){const s=pt(r);s.vu.add(0),yield ly(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Br(n=On(n,Ki)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,kz("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ZX(n){return function(e){const t=new as;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function vX(n,e){return YP.apply(this,arguments)}(yield vN(e),t)})),t.promise}(Br(n=On(n,Ki)))}(this._delegate)}onSnapshotsInSync(e){return function MJ(n,e){return function VX(n,e){const t=new tT(e);return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return i=yield gy(n),r=t,pt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return i=yield gy(n),r=t,void pt(i).ku.delete(r);var i,r}))}}(Br(n=On(n,Ki)),xN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yy(this,Lz(this._delegate,e))}catch(t){throw bo(t,"collection()","Firestore.collection()")}}doc(e){try{return new bl(this,oT(this._delegate,e))}catch(t){throw bo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wo(this,function zX(n,e){if(n=On(n,Jw),bN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(Me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(n,null,(t=e,new Fu(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UJ(n,e,t){n=On(n,Ki);const i=Object.assign(Object.assign({},BJ),t);return function(r){if(r.maxAttempts<1)throw new $e(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const u=new as;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const m=yield function Dz(n){return iT(n).then(e=>e.datastore)}(r);new OX(r.asyncQueue,m,l,s,u).run()})),u.promise}(Br(n),r=>e(new VJ(n,r)),i)}(this._delegate,t=>e(new u6(this,t)))}batch(){return Br(this._delegate),new h6(new o6(this._delegate,e=>vy(this._delegate,e)))}loadBundle(e){return function JX(n,e){const t=Br(n=On(n,Ki)),i=new $X;return function UX(n,e,t,i){const r=function(s,l){let u;return u="string"==typeof s?Yj().encode(s):s,m=function(m,_){if(m instanceof Uint8Array)return xz(m,_);if(m instanceof ArrayBuffer)return xz(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new kX(m,l);var m}(t,Yw(e));n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function MX(n,e,t){const i=pt(n);var r;(r=(0,Oe.Z)(function*(s,l,u){try{const m=yield l.getMetadata();if(yield function(A,F){const z=pt(A),te=Lr(F.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ae=>z.qs.getBundleMetadata(ae,F.id)).then(ae=>!!ae&&ae.createTime.compareTo(te)>=0)}(s.localStore,m))return yield l.close(),u._completeWith({taskState:"Success",documentsLoaded:(A=m).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);u._updateProgress(hz(m));const _=new lX(m,s.localStore,l.serializer);let b=yield l.bc();for(;b;){const A=yield _.zu(b);A&&u._updateProgress(A),b=yield l.bc()}const I=yield _.complete();return yield Uu(s,I.Ju,void 0),yield function(A,F){const z=pt(A);return z.persistence.runTransaction("Save bundle","readwrite",te=>z.qs.saveBundleMetadata(te,F))}(s.localStore,m),u._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return yl("SyncEngine",`Loading bundle failed with ${m}`),u._failWith(m),Promise.resolve(new Set)}var A}),function(s,l,u){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield vN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function eJ(n,e){return function HX(n,e){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,i){const r=pt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield rT(n),e)}))}(Br(n=On(n,Ki)),e).then(t=>t?new Ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new wo(this,t):null)}}class _T extends MN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ax(new yd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bl.forKey(t,this.firestore,null)}}class u6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _T(e)}get(e){const t=Cg(e);return this._delegate.get(t).then(i=>new lx(this._firestore,new ju(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Cg(e);return i?(kN("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Cg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Cg(e);return this._delegate.delete(t),this}}class h6{constructor(e){this._delegate=e}set(e,t,i){const r=Cg(e);return i?(kN("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Cg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Cg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Eg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new ox(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cx(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Eg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Eg(e,new _T(e),t),r.set(t,s)),s}}Eg.INSTANCES=new WeakMap;class bl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _T(e)}static forPath(e,t,i){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bl(t,new qi(t._delegate,i,new ft(e)))}static forKey(e,t,i){return new bl(t,new qi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new yy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yy(this.firestore,Lz(this._delegate,e))}catch(t){throw bo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,H.m9)(e))instanceof qi&&Bz(this._delegate,e)}set(e,t){t=kN("DocumentReference.set",t);try{return t?i6(this._delegate,e,t):i6(this._delegate,e)}catch(i){throw bo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?r6(this._delegate,e):r6(this._delegate,e,t,...i)}catch(r){throw bo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function SJ(n){return vy(On(n.firestore,Ki),[new ty(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=f6(e),i=m6(e,r=>new lx(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return s6(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function xJ(n){n=On(n,qi);const e=On(n.firestore,Ki),t=Br(e),i=new sm(e);return function LX(n,e){const t=new as;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(i=(0,Oe.Z)(function*(r,s,l){try{const u=yield function(m,_){const b=pt(m);return b.persistence.runTransaction("read document","readonly",I=>b.localDocuments.getDocument(I,_))}(r,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new $e(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const m=uy(u,`Failed to get document '${s} from cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield rT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ju(e,i,n._key,r,new xg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function EJ(n){n=On(n,qi);const e=On(n.firestore,Ki);return Sz(Br(e),n._key,{source:"server"}).then(t=>AN(e,n,t))}(this._delegate):function wJ(n){n=On(n,qi);const e=On(n.firestore,Ki);return Sz(Br(e),n._key).then(t=>AN(e,n,t))}(this._delegate),t.then(i=>new lx(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new bl(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}function bo(n,e,t){return n.message=n.message.replace(e,t),n}function f6(n){for(const e of n)if("object"==typeof e&&!RN(e))return e;return{}}function m6(n,e){var t,i;let r;return r=RN(n[0])?n[0]:RN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class lx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return n6(this._delegate,e._delegate)}}class cx extends lx{data(e){const t=this._delegate.data(e);return function HY(n,e){n||xt()}(void 0!==t),t}}class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _T(e)}where(e,t,i){try{return new wo(this.firestore,im(this._delegate,function dJ(n,e,t){const i=e,r=hT("where",n);return sx._create(r,i,t)}(e,t,i)))}catch(r){throw bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wo(this.firestore,im(this._delegate,function uJ(n,e="asc"){const t=e,i=hT("orderBy",n);return TN._create(i,t)}(e,t)))}catch(i){throw bo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wo(this.firestore,im(this._delegate,function hJ(n){return Pz("limit",n),fT._create("limit",n,"F")}(e)))}catch(t){throw bo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wo(this.firestore,im(this._delegate,function fJ(n){return Pz("limitToLast",n),fT._create("limitToLast",n,"L")}(e)))}catch(t){throw bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wo(this.firestore,im(this._delegate,function mJ(...n){return mT._create("startAt",n,!0)}(...e)))}catch(t){throw bo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wo(this.firestore,im(this._delegate,function pJ(...n){return mT._create("startAfter",n,!1)}(...e)))}catch(t){throw bo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wo(this.firestore,im(this._delegate,function gJ(...n){return pT._create("endBefore",n,!1)}(...e)))}catch(t){throw bo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wo(this.firestore,im(this._delegate,function _J(...n){return pT._create("endAt",n,!0)}(...e)))}catch(t){throw bo(t,"endAt()","Query.endAt()")}}isEqual(e){return wN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function IJ(n){n=On(n,Ns);const e=On(n.firestore,Ki),t=Br(e),i=new sm(e);return function BX(n,e){const t=new as;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(i=(0,Oe.Z)(function*(r,s,l){try{const u=yield KS(r,s,!0),m=new pz(s,u.ir),_=m.sc(u.documents),b=m.applyChanges(_,!1);l.resolve(b.snapshot)}catch(u){const m=uy(u,`Failed to execute query '${s} against cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield rT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new rm(e,i,n,r))}(this._delegate):"server"===e?.source?function DJ(n){n=On(n,Ns);const e=On(n.firestore,Ki),t=Br(e),i=new sm(e);return Tz(t,n._query,{source:"server"}).then(r=>new rm(e,i,n,r))}(this._delegate):function CJ(n){n=On(n,Ns);const e=On(n.firestore,Ki),t=Br(e),i=new sm(e);return Yz(n._query),Tz(t,n._query).then(r=>new rm(e,i,n,r))}(this._delegate),t.then(i=>new ON(this.firestore,new rm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=f6(e),i=m6(e,r=>new ON(this.firestore,new rm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return s6(this._delegate,t,i)}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}class QJ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ON{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cx(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new QJ(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new cx(this._firestore,i))})}isEqual(e){return n6(this._delegate,e._delegate)}}class yy extends wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bl(this.firestore,e):null}doc(e){try{return new bl(this.firestore,void 0===e?oT(this._delegate):oT(this._delegate,e))}catch(t){throw bo(t,"doc()","CollectionReference.doc()")}}add(e){return function TJ(n,e){const t=On(n.firestore,Ki),i=oT(n),r=gT(n.converter,e);return vy(t,[cT(bg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ir.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new bl(this.firestore,t))}isEqual(e){return Bz(this._delegate,e._delegate)}withConverter(e){return new yy(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}function Cg(n){return On(n,qi)}class PN{constructor(...e){this._delegate=new Hu(...e)}static documentId(){return new PN(Sr.keyField().canonicalString())}isEqual(e){return(e=(0,H.m9)(e))instanceof Hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ig{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jJ(){return new EN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ig(e)}static delete(){const e=function HJ(){return new tx("deleteField")}();return e._methodName="FieldValue.delete",new Ig(e)}static arrayUnion(...e){const t=function zJ(...n){return new sJ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ig(t)}static arrayRemove(...e){const t=function GJ(...n){return new oJ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ig(t)}static increment(e){const t=function $J(n){return new aJ("increment",n)}(e);return t._methodName="FieldValue.increment",new Ig(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XJ={Firestore:d6,GeoPoint:aT,Timestamp:nr,Blob:ax,Transaction:u6,WriteBatch:h6,DocumentReference:bl,DocumentSnapshot:lx,Query:wo,QueryDocumentSnapshot:cx,QuerySnapshot:ON,CollectionReference:yy,FieldPath:PN,FieldValue:Ig,setLogLevel:function ZJ(n){!function UY(n){Hf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function eee(n){(function JJ(n,e){n.INTERNAL.registerComponent(new lc.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},XJ)))})(n,(e,t)=>new d6(e,t,new YJ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(T1.Z);var vT=T(5363),tee=T(4707);function p6(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,e1.B)({connector:()=>new tee.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function g6(n,e){return(0,rs.m)(e)?(0,ki.w)(()=>n,e):(0,ki.w)(()=>n)}var NN=T(9468);T(259);const LN=new Map,v6={activated:!1,tokenObservers:[]},oee={initialized:!1,enabled:!1};function Mr(n){return LN.get(n)||Object.assign({},v6)}function bT(){return oee}const BN="https://content-firebaseappcheck.googleapis.com/v1",dee="exchangeDebugToken",y6={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hee{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Oe.Z)(function*(){t.stop();try{t.pending=new H.BH,yield function fee(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new H.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fs=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function VN(n){if(!Mr(n).activated)throw Fs.create("use-before-activation",{appName:n.name})}function ET(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,Oe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,u;try{l=yield fetch(n,s)}catch(I){throw Fs.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw Fs.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(I){throw Fs.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=u.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),HN.apply(this,arguments)}function b6(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${BN}/projects/${t}/apps/${i}:${dee}?key=${r}`,body:{debug_token:e}}}const _ee="firebase-app-check-database",vee=1,dx="firebase-app-check-store";let CT=null;function jN(){return jN=(0,Oe.Z)(function*(n,e){const i=(yield function x6(){return CT||(CT=new Promise((n,e)=>{try{const t=indexedDB.open(_ee,vee);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Fs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(dx,{keyPath:"compositeKey"})}}catch(t){e(Fs.create("storage-open",{originalErrorMessage:t?.message}))}}),CT)}()).transaction(dx,"readwrite"),s=i.objectStore(dx).put({compositeKey:n,value:e});return new Promise((l,u)=>{s.onsuccess=m=>{l()},i.onerror=m=>{var _;u(Fs.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})}),jN.apply(this,arguments)}const ux=new ac.Yd("@firebase/app-check");function $N(n,e){return(0,H.hl)()?function bee(n,e){return function E6(n,e){return jN.apply(this,arguments)}(function I6(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ux.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qN(){return bT().enabled}function KN(){return YN.apply(this,arguments)}function YN(){return YN=(0,Oe.Z)(function*(){const n=bT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YN.apply(this,arguments)}const Dee={error:"UNKNOWN_ERROR"};function See(n){return H.US.encodeString(JSON.stringify(n),!1)}function IT(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Oe.Z)(function*(n,e=!1){const t=n.app;VN(t);const i=Mr(t);let s,r=i.token;if(r&&!by(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(by(m)?r=m:yield $N(t,void 0))}if(!e&&r&&by(r))return{token:r.token};let u,l=!1;if(qN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ET(b6(t,yield KN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield $N(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Mr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?ux.warn(m.message):ux.error(m),s=m}return r?s?u=by(r)?{token:r.token,internalError:s}:M6(s):(u={token:r.token},i.token=r,yield $N(t,r)):u=M6(s),l&&function T6(n,e){const t=Mr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,u),u}),ZN.apply(this,arguments)}function QN(){return QN=(0,Oe.Z)(function*(n){const e=n.app;VN(e);const{provider:t}=Mr(e);if(qN()){const i=yield KN(),{token:r}=yield ET(b6(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),QN.apply(this,arguments)}function JN(n,e){const t=Mr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function S6(n){const{app:e}=n,t=Mr(e);let i=t.tokenRefresher;i||(i=function Tee(n){const{app:e}=n;return new hee((0,Oe.Z)(function*(){let i;if(i=Mr(e).token?yield IT(n,!0):yield IT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Mr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},y6.RETRIAL_MIN_WAIT,y6.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function by(n){return n.expireTimeMillis-Date.now()>0}function M6(n){return{token:See(Dee),error:n}}class Mee{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mr(this.app);for(const t of e)JN(this.app,t.next);return Promise.resolve()}}const L6="app-check-internal";!function zee(){(0,_o._registerComponent)(new lc.wA("app-check",n=>function Aee(n,e){return new Mee(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(L6).initialize()})),(0,_o._registerComponent)(new lc.wA(L6,n=>function kee(n){return{getToken:e=>IT(n,e),getLimitedUseToken:()=>function D6(n){return QN.apply(this,arguments)}(n),addTokenListener:e=>function XN(n,e,t,i){const{app:r}=n,s=Mr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&by(s.token)){const u=s.token;Promise.resolve().then(()=>{t({token:u.token}),S6(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>S6(n))}(n,"INTERNAL",e),removeTokenListener:e=>JN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_o.registerVersion)("@firebase/app-check","0.8.0")}();class hx{constructor(){return(0,Xn.vb)("app-check")}}typeof window<"u"&&window;var rF=T(9260);const sF=new o.OlP("angularfire2.auth.use-emulator"),oF=new o.OlP("angularfire2.auth.settings"),aF=new o.OlP("angularfire2.auth.tenant-id"),lF=new o.OlP("angularfire2.auth.langugage-code"),cF=new o.OlP("angularfire2.auth.use-device-language"),dF=new o.OlP("angularfire.auth.persistence"),uF=(n,e,t,i,r,s,l,u)=>(0,Zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))m.settings[_]=b;return u&&m.setPersistence(u),m},[t,i,r,s,l,u]);let ST=(()=>{class n{constructor(t,i,r,s,l,u,m,_,b,I,A,F){const z=new zt.x,te=(0,gt.of)(void 0).pipe((0,vT.Q)(l.outsideAngular),(0,ki.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,9568)))),(0,vt.U)(()=>(0,Zr.on)(t,s,i)),(0,vt.U)(ae=>uF(ae,s,u,_,b,I,m,A)),p6({bufferSize:1,refCount:!1}));if(Va(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,gt.of)(null);else{te.pipe(tc()).subscribe();const je=te.pipe((0,ki.w)(st=>st.getRedirectResult().then(Lt=>Lt,()=>null)),Xn.iC,p6({bufferSize:1,refCount:!1})),Qe=te.pipe((0,ki.w)(st=>new Ji.y(Lt=>({unsubscribe:s.runOutsideAngular(()=>st.onAuthStateChanged($t=>Lt.next($t),$t=>Lt.error($t),()=>Lt.complete()))})))),Je=te.pipe((0,ki.w)(st=>new Ji.y(Lt=>({unsubscribe:s.runOutsideAngular(()=>st.onIdTokenChanged($t=>Lt.next($t),$t=>Lt.error($t),()=>Lt.complete()))}))));this.authState=je.pipe(g6(Qe),(0,NN.R)(l.outsideAngular),(0,vT.Q)(l.insideAngular)),this.user=je.pipe(g6(Je),(0,NN.R)(l.outsideAngular),(0,vT.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,ki.w)(st=>st?(0,Qn.D)(st.getIdToken()):(0,gt.of)(null))),this.idTokenResult=this.user.pipe((0,ki.w)(st=>st?(0,Qn.D)(st.getIdTokenResult()):(0,gt.of)(null))),this.credential=(0,_l.T)(je,z,this.authState.pipe((0,Ri.h)(st=>!st))).pipe((0,vt.U)(st=>st?.user?st:null),(0,NN.R)(l.outsideAngular),(0,vT.Q)(l.insideAngular))}return(0,Zr.pX)(this,te,s,{spy:{apply:(ae,je,Qe)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&Qe.then(Je=>z.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr.Dh),o.LFG(Zr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(sF,8),o.LFG(oF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(dF,8),o.LFG(hx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function V6(n,e){return function Yee(n,e=ad.z){return new Ji.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function hF(n,e){return V6(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function TT(n,e){return hF(n,e).pipe(Ea(void 0),S1(),(0,vt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,u)=>{const m=r.find(b=>b.doc.ref.isEqual(l.ref)),_=t?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:l}})}),s}))}function U6(n,e,t){return TT(n,t).pipe((0,pu.R)((i,r)=>function Qee(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Xee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return fF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return fF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Yp.x)(),(0,vt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function fF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function H6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class j6{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=TT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ea(void 0),S1(),(0,Ri.h)(([i,r])=>r.length>0||!i),(0,vt.U)(([i,r])=>r),Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pu.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H6(e);return U6(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return hF(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Xn.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(Xn.iC)}add(e){return this.ref.add(e)}doc(e){return new z6(this.ref.doc(e),this.afs)}}class z6{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=W6(i,t);return new j6(r,s,this.afs)}snapshotChanges(){return function Zee(n,e){return V6(n,e).pipe(Ea(void 0),S1(),(0,vt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qn.D)(this.ref.get(e)).pipe(Xn.iC)}}class Jee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TT(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Ri.h)(t=>t.length>0),Xn.iC):TT(this.query,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pu.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H6(e);return U6(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return hF(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Xn.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(Xn.iC)}}const G6=new o.OlP("angularfire2.enableFirestorePersistence"),$6=new o.OlP("angularfire2.firestore.persistenceSettings"),ete=new o.OlP("angularfire2.firestore.settings"),tte=new o.OlP("angularfire2.firestore.use-emulator");function W6(n,e=(t=>t)){return{query:e(n),ref:n}}let q6=(()=>{class n{constructor(t,i,r,s,l,u,m,_,b,I,A,F,z,te,ae,je,Qe){this.schedulers=m;const Je=(0,Zr.on)(t,u,i),st=b;I&&uF(Je,u,A,z,te,ae,F,je),[this.firestore,this.persistenceEnabled$]=(0,Zr.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const Lt=u.runOutsideAngular(()=>Je.firestore());if(s&&Lt.settings(s),st&&Lt.useEmulator(...st),r&&!Va(l)){const $t=()=>{try{return(0,Qn.D)(Lt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Pn){return typeof console<"u"&&console.warn(Pn),(0,gt.of)(!1)}};return[Lt,u.runOutsideAngular($t)]}return[Lt,(0,gt.of)(!1)]},[s,st,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=W6(r,i),u=this.schedulers.ngZone.run(()=>s);return new j6(u,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new Jee(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new z6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr.Dh),o.LFG(Zr.xv,8),o.LFG(G6,8),o.LFG(ete,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG($6,8),o.LFG(tte,8),o.LFG(ST,8),o.LFG(sF,8),o.LFG(oF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(dF,8),o.LFG(hx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nte=(()=>{class n{constructor(){rF.Z.registerVersion("angularfire",Xn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:G6,useValue:!0},{provide:$6,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[q6]}),n})(),ite=(()=>{const e=class{constructor(){this.storeDataSubjects=new Map}init(){Object.keys(localStorage).forEach(r=>{const s=JSON.parse(localStorage[r]);s&&this.storeDataSubjects.set(r,new is.X(s))})}watch(i){this.storeDataSubjects.has(i)||this.storeDataSubjects.set(i,new is.X(null));let r=localStorage.getItem(i),s=this.storeDataSubjects.get(i);return r="undefined"==r?void 0:JSON.parse(r),s&&s.next(r),s?s.asObservable():null}set(i,r){let s=JSON.stringify(r);localStorage.setItem(i,s);let l=this.storeDataSubjects.get(i);this.storeDataSubjects.has(i)&&l?l.next(r):this.storeDataSubjects.set(i,new is.X(s))}get(i){let r=localStorage.getItem(i);return JSON.parse(r)}remove(i){localStorage.removeItem(i);let r=this.storeDataSubjects.get(i);this.storeDataSubjects.has(i)&&r?r.next(null):this.storeDataSubjects.set(i,new is.X(null))}getKeyList(i){return Array.from(this.storeDataSubjects.keys()).filter(s=>s.includes(i))}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),wy=(()=>{const e=class{constructor(i,r,s,l,u){var m=this;this.afs=i,this.afAuth=r,this.router=s,this.storageService=l,this.store=u,this.isUserAuthenticated=!1,this.afAuth.authState.subscribe(function(){var _=(0,Oe.Z)(function*(b){b?(m.isUserAuthenticated=!0,m.storageService.set("users",b),yield m.router.navigate(["home"])):m.storageService.set("users",!1)});return function(b){return _.apply(this,arguments)}}())}setUserData(i){var r=this;return(0,Oe.Z)(function*(){return r.afs.doc(`users/${i.uid}`).set({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified},{merge:!0})})()}signIn(i,r){var s=this;return(0,Oe.Z)(function*(){return s.afAuth.signInWithEmailAndPassword(i,r).then(l=>{s.afAuth.authState.subscribe(u=>{u&&(s.isUserAuthenticated=!0,s.setUserData(l.user),s.storageService.set("users",u),s.router.navigate(["home"]))})})})()}signOut(){var i=this;return(0,Oe.Z)(function*(){return i.afAuth.signOut().then(()=>{i.isUserAuthenticated=!1,i.store.dispatch(CU.setUserLoggedIn({userAuthenticated:i.isUserAuthenticated})),localStorage.removeItem("user"),i.router.navigate(["login"])})})()}signUp(i,r){var s=this;return(0,Oe.Z)(function*(){return s.afAuth.createUserWithEmailAndPassword(i,r).then(l=>{s.setUserData(l.user)})})()}sendVerificationMail(){var i=this;return(0,Oe.Z)(function*(){return i.afAuth.currentUser.then(r=>r.sendEmailVerification()).then(()=>{i.router.navigate(["verify-email-address"])})})()}forgotPassword(i){return this.afAuth.sendPasswordResetEmail(i,{url:"https://alexchristianqr.github.io/game-apps/#/login"})}get isLoggedIn(){return this.isUserAuthenticated}googleAuth(){var i=this;return(0,Oe.Z)(function*(){return i.authLogin(new RK.V).then(r=>{i.router.navigate(["home"])})})()}authLogin(i){var r=this;return(0,Oe.Z)(function*(){return r.afAuth.signInWithPopup(i).then(s=>{r.router.navigate(["home"]),r.setUserData(s.user)}).catch(s=>{window.alert(s)})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(q6),o.LFG(ST),o.LFG(Kr),o.LFG(ite),o.LFG(As.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),K6=(()=>{const e=class{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return!!this.authService.isLoggedIn||this.router.navigate(["login"])}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(wy),o.LFG(Kr))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const rte=[{path:"home",component:kK,canActivate:[K6]}];let ste=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Ai,GD,Du,Vp.forRoot(rte,{useHash:!0})]}),n})();var ote=T(7712);function ate(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.startGame(!0))}),o._uU(1,"Empezar"),o.qZA()}}function lte(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",28)(2,"mat-grid-tile")(3,"div",8),o.YNc(4,ate,2,0,"button",29),o.qZA()()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",!t.playing)}}function cte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",34),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.restartGame(!0))}),o._uU(1,"Reiniciar"),o.qZA()}}function dte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return o.KtG(r.endGame())}),o._uU(1,"Terminar"),o.qZA()}}function ute(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",31)(2,"mat-grid-tile")(3,"div",8),o.YNc(4,cte,2,0,"button",32),o.qZA()(),o.TgZ(5,"mat-grid-tile"),o.YNc(6,dte,2,0,"button",33),o.qZA()()()),2&n){const t=o.oxw();o.xp6(4),o.Q6J("ngIf",t.playing),o.xp6(2),o.Q6J("ngIf",t.playing)}}function hte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36),o.NdJ("click",function(){const s=o.CHM(t).index,l=o.oxw();return o.KtG(l.makeHumanMove(s))}),o.TgZ(1,"div")(2,"div",37),o._uU(3),o.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;o.xp6(1),o.Tol("div"+i),o.xp6(2),o.hij(" ","X"===t||"O"===t?t:""," ")}}function fte(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",39),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.winner)}}function mte(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"mat-grid-list",38)(2,"mat-grid-tile"),o.YNc(3,fte,3,1,"div",6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngIf",!t.playing)}}function pte(n,e){if(1&n&&(o.TgZ(0,"mat-option",40),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.value),o.xp6(1),o.Oqu(t.text)}}const{GameStep:gte}=ote.Z,_te=[{path:"game",component:(()=>{const e=class{constructor(){this.panelOpenState=!1,this.gameBoard=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],this.gameState=[0,1,2,3,4,5,6,7,8],this.playing=!1,this.dataLevels=[{value:"Easy",text:"F\xe1cil"},{value:"Normal",text:"Normal"},{value:"Hard",text:"Dif\xedcil"}],this.difficulty="Normal",this.breakpoint=1,this.breakpoint2=8,this.breakpoint3=6,this.computerFirst=!0,this.allowSoundEndGame=!0,this.volumeSoundEndGame=100,this.allowSoundThemeGame=!0,this.volumeSoundThemeGame=25,this.themeAudio=null,this.endAudio=null}ngOnInit(){this.breakpoint=window.innerWidth<=319?3:1}ngOnDestroy(){this.stopSounds()}onResize(i){this.breakpoint=i.target.innerWidth<=319?2:1}formatLabel(i){return i>=1e3?Math.round(i/1e3)+"k":`${i}`}clickPlayGame(i=!1,r){this.panelOpenState=!1,this.gameBoard=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],this.gameState=[0,1,2,3,4,5,6,7,8],this.winner=void 0,r&&r(),this.playing=i}endGame(){this.clickPlayGame(!1,()=>{this.stopSounds()})}stopSounds(){this.stopSoundThemeGame(),this.stopSoundEndGame()}restartGame(i){this.stopSoundThemeGame(),this.clickPlayGame(!0,()=>{this.allowSoundThemeGame&&this.takeSoundThemeGame(),i&&this.computerFirst&&this.makeComputerMove()})}startGame(i){this.clickPlayGame(i,()=>{this.allowSoundThemeGame&&this.takeSoundThemeGame(),i&&this.computerFirst&&this.makeComputerMove()})}takeSoundThemeGame(){this.themeAudio=new Audio("assets/sounds/theme_game.mp3"),this.themeAudio.volume=this.volumeSoundThemeGame/100,this.themeAudio.loop=!0,this.themeAudio.play().catch(console.error)}takeSoundEndGame(){this.endAudio=new Audio("assets/sounds/end_game.mp3"),this.endAudio.volume=this.volumeSoundEndGame/100,this.endAudio.play().catch(console.error),this.stopSoundThemeGame(),setTimeout(()=>{this.stopSoundEndGame()},2e3)}stopSoundThemeGame(){this.themeAudio&&(this.themeAudio.pause(),this.themeAudio=null)}stopSoundEndGame(){this.endAudio&&(this.endAudio.pause(),this.endAudio=null)}makeHumanMove(i){!this.playing||"number"!=typeof this.gameState[i]||(this.gameState[i]="X",setTimeout(()=>{this.makeComputerMove()},250))}makeComputerMove(){const s=gte(this.gameState,{huPlayer:"X",aiPlayer:"O"},this.difficulty);this.gameState=s.board,s.winner&&(this.winner={huPlayer:"\xa1Ganaste t\xfa \u{1f9d1}!",aiPlayer:"\xa1Gan\xf3 el robot \u{1f916}!",draw:"\xa1Es un empate!"}[s.winner],this.playing=!1,this.allowSoundEndGame&&this.takeSoundEndGame())}checkForWinner(i){let r=[];for(let s=0;s<3;s++)i[s][0]===i[s][1]&&i[s][1]===i[s][2]&&r.push(i[s][0]);for(let s=0;s<3;s++)i[0][s]===i[1][s]&&i[1][s]===i[2][s]&&r.push(i[0][s]);return i[0][0]===i[1][1]&&i[1][1]===i[2][2]&&r.push(i[0][0]),i[0][2]===i[1][1]&&i[1][1]===i[2][0]&&r.push(i[0][2]),null}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-game"]],decls:74,vars:18,consts:[[1,"my-3"],[1,"row"],[1,"col-2","my-auto"],["mat-icon-button","","routerLink","/home","color","primary","size","small"],[1,"col-10","my-auto"],[1,"h4","float-end"],[4,"ngIf"],["cols","2","rowHeight","12:2"],[2,"text-align","center"],[1,"h6"],[3,"cols","rowHeight","resize"],[1,"parent"],[3,"click",4,"ngFor","ngForOf"],[2,"background-color","#fce9f0",3,"expanded","expandedChange","opened","closed"],[1,"mx-0","px-0"],[1,"align-content-start","my-0"],[1,"float-start"],[1,"w-auto","align-content-start","my-3"],[1,"col-12","my-2"],[1,"w-100"],["color","primary",1,"float-start",3,"ngModel","ngModelChange"],["appearance","outline",1,"float-start","w-100"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","my-1"],[1,"col-12","my-1","float-start"],["min","0","max","100","step","5","showTickMarks","","discrete","",1,"w-100",3,"displayWith","disabled"],["matSliderThumb","",3,"ngModel","ngModelChange"],["cols","1","rowHeight","12:3"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["cols","2","rowHeight","12:6"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"click"],[1,"playing",2,"align-items","center","display","flex","height","100%","justify-content","center","width","100%"],["cols","1","rowHeight","9:2"],[2,"font-weight","bold","font-size","1.25rem"],[3,"value"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),o._uU(6,"arrow_back"),o.qZA()()(),o.TgZ(7,"div",4)(8,"div",5),o._uU(9,"Tres en linea"),o.qZA()()()(),o.YNc(10,lte,5,1,"mat-card-content",6),o.YNc(11,ute,7,2,"mat-card-content",6),o.TgZ(12,"mat-card-content")(13,"mat-grid-list",7)(14,"mat-grid-tile")(15,"div",8)(16,"div",9),o._uU(17,"T\xfa: X"),o.qZA()()(),o.TgZ(18,"mat-grid-tile")(19,"div",8)(20,"div",9),o._uU(21,"Robot: O"),o.qZA()()()()(),o.TgZ(22,"mat-card-content")(23,"mat-grid-list",10),o.NdJ("resize",function(u){return s.onResize(u)},!1,o.Jf7),o.TgZ(24,"mat-grid-tile")(25,"div",11),o.YNc(26,hte,4,3,"div",12),o.qZA()()()(),o.YNc(27,mte,4,1,"mat-card-content",6),o.TgZ(28,"mat-card-content")(29,"mat-accordion")(30,"mat-expansion-panel",13),o.NdJ("expandedChange",function(u){return s.panelOpenState=u})("opened",function(){return s.panelOpenState=!0})("closed",function(){return s.panelOpenState=!1}),o.TgZ(31,"mat-expansion-panel-header")(32,"mat-panel-title")(33,"div"),o._uU(34,"Ajustes del juego"),o.qZA()()(),o.TgZ(35,"mat-card-content",14)(36,"p",15)(37,"span",16),o._uU(38,"General"),o.qZA()(),o._UZ(39,"mat-divider"),o.TgZ(40,"div",17)(41,"div",1)(42,"div",18)(43,"div",19)(44,"mat-slide-toggle",20),o.NdJ("ngModelChange",function(u){return s.computerFirst=u}),o._uU(45,"El Robot empieza primero "),o.qZA()()(),o.TgZ(46,"div",18)(47,"mat-form-field",21)(48,"mat-label"),o._uU(49,"Nivel de Dificultad"),o.qZA(),o.TgZ(50,"mat-select",22),o.NdJ("ngModelChange",function(u){return s.difficulty=u}),o.YNc(51,pte,2,2,"mat-option",23),o.qZA()()()()(),o.TgZ(52,"p",15)(53,"span",16),o._uU(54,"Control de sonido"),o.qZA()(),o._UZ(55,"mat-divider"),o.TgZ(56,"div",17)(57,"div",1)(58,"div",24)(59,"div",19)(60,"mat-slide-toggle",20),o.NdJ("ngModelChange",function(u){return s.allowSoundEndGame=u}),o._uU(61,"Sonido al terminar el juego "),o.qZA()()(),o.TgZ(62,"div",25)(63,"mat-slider",26)(64,"input",27),o.NdJ("ngModelChange",function(u){return s.volumeSoundEndGame=u}),o.qZA()()()()(),o.TgZ(65,"div",17)(66,"div",1)(67,"div",24)(68,"div",19)(69,"mat-slide-toggle",20),o.NdJ("ngModelChange",function(u){return s.allowSoundThemeGame=u}),o._uU(70,"Sonido durante el juego "),o.qZA()()(),o.TgZ(71,"div",25)(72,"mat-slider",26)(73,"input",27),o.NdJ("ngModelChange",function(u){return s.volumeSoundThemeGame=u}),o.qZA()()()()()()()()()()),2&r&&(o.xp6(10),o.Q6J("ngIf",!s.playing),o.xp6(1),o.Q6J("ngIf",s.playing),o.xp6(12),o.Q6J("cols",s.breakpoint)("rowHeight",s.breakpoint2+":"+s.breakpoint3),o.xp6(3),o.Q6J("ngForOf",s.gameState),o.xp6(1),o.Q6J("ngIf",!s.playing&&s.winner),o.xp6(3),o.Q6J("expanded",s.panelOpenState),o.xp6(14),o.Q6J("ngModel",s.computerFirst),o.xp6(6),o.Q6J("ngModel",s.difficulty),o.xp6(1),o.Q6J("ngForOf",s.dataLevels),o.xp6(9),o.Q6J("ngModel",s.allowSoundEndGame),o.xp6(3),o.Q6J("displayWith",s.formatLabel)("disabled",!s.allowSoundEndGame),o.xp6(1),o.Q6J("ngModel",s.volumeSoundEndGame),o.xp6(5),o.Q6J("ngModel",s.allowSoundThemeGame),o.xp6(3),o.Q6J("displayWith",s.formatLabel)("disabled",!s.allowSoundThemeGame),o.xp6(1),o.Q6J("ngModel",s.volumeSoundThemeGame))},dependencies:[Bs,Mi,jB,ED,Tv,Mv,Av,kv,q0,Pv,kD,eU,W7,HB,HD,oU,N9,pU,gU,P9,CK,D1,Zl,up,yp,oc],styles:[".parent[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:0;grid-row-gap:0;font-size:1.25rem}.div0[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:5rem;background-color:#f1f1f1}.div1[_ngcontent-%COMP%]{grid-area:1/2/2/3;width:100%;height:5rem;background-color:#f8f8f8}.div2[_ngcontent-%COMP%]{grid-area:1/3/2/4;width:100%;height:5rem;background-color:#f1f1f1}.div3[_ngcontent-%COMP%]{grid-area:2/1/3/2;width:100%;height:5rem;background-color:#f8f8f8}.div4[_ngcontent-%COMP%]{grid-area:2/2/3/3;width:100%;height:5rem;background-color:#f1f1f1}.div5[_ngcontent-%COMP%]{grid-area:2/3/3/4;width:100%;height:5rem;background-color:#f8f8f8}.div6[_ngcontent-%COMP%]{grid-area:3/1/4/2;width:100%;height:5rem;background-color:#f1f1f1}.div7[_ngcontent-%COMP%]{grid-area:3/2/4/3;width:100%;height:5rem;background-color:#f8f8f8}.div8[_ngcontent-%COMP%]{grid-area:3/3/4/4;width:100%;height:5rem;background-color:#f1f1f1}.playing[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),canActivate:[K6]}];let vte=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Ai,GD,Du,Vp.forRoot(_te,{useHash:!0})]}),n})();var yte=T(5032);class zu{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return Y6(this,e)}do(e,t,i){const{kind:r,value:s,error:l}=this;return"N"===r?e?.(s):"E"===r?t?.(l):i?.()}accept(e,t,i){var r;return(0,rs.m)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,r="N"===e?(0,gt.of)(t):"E"===e?jo(()=>i):"C"===e?Ss.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new zu("N",e)}static createError(e){return new zu("E",void 0,e)}static createComplete(){return zu.completeNotification}}function Y6(n,e){var t,i,r;const{kind:s,value:l,error:u}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,l):"E"===s?null===(i=e.error)||void 0===i||i.call(e,u):null===(r=e.complete)||void 0===r||r.call(e)}function Z6(n,e,t,i){return(0,ss.e)((r,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:i}=e):l=e;const u=new Map,m=z=>{u.forEach(z),z(s)},_=z=>m(te=>te.error(z));let b=0,I=!1;const A=new Er.Q(s,z=>{try{const te=n(z);let ae=u.get(te);if(!ae){u.set(te,ae=i?i():new zt.x);const je=function F(z,te){const ae=new Ji.y(je=>{b++;const Qe=te.subscribe(je);return()=>{Qe.unsubscribe(),0==--b&&I&&A.unsubscribe()}});return ae.key=z,ae}(te,ae);if(s.next(je),t){const Qe=(0,Er.x)(ae,()=>{ae.complete(),Qe?.unsubscribe()},void 0,void 0,()=>u.delete(te));A.add((0,Zc.Xf)(t(je)).subscribe(Qe))}}ae.next(l?l(z):z)}catch(te){_(te)}},()=>m(z=>z.complete()),_,()=>u.clear(),()=>(I=!0,0===b));r.subscribe(A)})}function Q6(n,e){return e?t=>t.pipe(Q6((i,r)=>(0,Zc.Xf)(n(i,r)).pipe((0,vt.U)((s,l)=>e(i,s,r,l))))):(0,ss.e)((t,i)=>{let r=0,s=null,l=!1;t.subscribe((0,Er.x)(i,u=>{s||(s=(0,Er.x)(i,void 0,()=>{s=null,l&&i.complete()}),(0,Zc.Xf)(n(u,r++)).subscribe(s))},()=>{l=!0,!s&&i.complete()}))})}zu.completeNotification=new zu("C");const MT="__@ngrx/effects_create__";function J6(n){return Object.getPrototypeOf(n)}function mF(n){return"function"==typeof n}function pF(n){return n.filter(mF)}function Dte(n,e,t){const i=J6(n).constructor.name,r=function X6(n){return function Cte(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(MT))&&n[i][MT].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][MT]}))}(n)}(n).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:u})=>{const m="function"==typeof n[s]?n[s]():n[s],_=u?t(m,e):m;return!1===l?_.pipe(function bte(){return(0,ss.e)((n,e)=>{n.subscribe((0,Er.x)(e,yte.Z))})}()):_.pipe(function wte(){return(0,ss.e)((n,e)=>{n.subscribe((0,Er.x)(e,t=>{e.next(zu.createNext(t))},()=>{e.next(zu.createComplete()),e.complete()},t=>{e.next(zu.createError(t)),e.complete()}))})}()).pipe((0,vt.U)(I=>({effect:n[s],notification:I,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,_l.T)(...r)}const Ste=10;function e4(n,e,t=Ste){return n.pipe((0,Ca.K)(i=>(e&&e.handleError(i),t<=1?n:e4(n,e,t-1))))}let Tte=(()=>{class n extends Ji.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(As.Y$))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t4=new o.OlP("@ngrx/effects Internal Root Guard"),AT=new o.OlP("@ngrx/effects User Provided Effects"),gF=new o.OlP("@ngrx/effects Internal Root Effects"),n4=new o.OlP("@ngrx/effects Internal Root Effects Instances"),r4=new o.OlP("@ngrx/effects Internal Feature Effects"),s4=new o.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),Mte=new o.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>e4}),o4="@ngrx/effects/init";(0,As.PH)(o4);const Nte="ngrxOnIdentifyEffects",Vte="ngrxOnInitEffects";function Ute(n){return _F(n,Vte)}function _F(n,e){return n&&e in n&&"function"==typeof n[e]}let vF=(()=>{class n extends zt.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Z6(t=>function Ite(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?J6(t):t),(0,os.z)(t=>t.pipe(Z6(Hte))),(0,os.z)(t=>{const i=t.pipe(Q6(s=>function jte(n,e){return t=>{const i=Dte(t,n,e);return function Bte(n){return _F(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,vt.U)(s=>(function kte(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function Rte(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function Ote({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Pte(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,Ri.h)(s=>"N"===s.kind&&null!=s.value),function xte(){return(0,ss.e)((n,e)=>{n.subscribe((0,Er.x)(e,t=>Y6(t,e)))})}()),r=t.pipe((0,Wr.q)(1),(0,Ri.h)(Ute),(0,vt.U)(s=>s.ngrxOnInitEffects()));return(0,_l.T)(i,r)}))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.qLn),o.LFG(Mte))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hte(n){return function Fte(n){return _F(n,Nte)}(n)?n.ngrxOnIdentifyEffects():""}let yF=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(vF),o.LFG(As.yh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a4=(()=>{class n{constructor(t,i,r,s,l,u,m){this.sources=t,i.start();for(const _ of s)t.addEffects(_);r.dispatch({type:o4})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(vF),o.LFG(yF),o.LFG(As.yh),o.LFG(n4),o.LFG(As.cr,8),o.LFG(As.CK,8),o.LFG(t4,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),zte=(()=>{class n{constructor(t,i,r,s){const l=i.flat();for(const u of l)t.addEffects(u)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(a4),o.LFG(s4),o.LFG(As.cr,8),o.LFG(As.CK,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),l4=(()=>{class n{static forFeature(...t){const i=t.flat(),r=pF(i);return{ngModule:zte,providers:[r,{provide:r4,multi:!0,useValue:i},{provide:AT,multi:!0,useValue:[]},{provide:s4,multi:!0,useFactory:c4,deps:[r4,AT]}]}}static forRoot(...t){const i=t.flat(),r=pF(i);return{ngModule:a4,providers:[r,{provide:gF,useValue:[i]},{provide:t4,useFactory:Gte},{provide:AT,multi:!0,useValue:[]},{provide:n4,useFactory:c4,deps:[gF,AT]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function c4(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>mF(i)?(0,o.f3M)(i):i)}function Gte(){const n=(0,o.f3M)(yF,{optional:!0,skipSelf:!0}),e=(0,o.f3M)(gF,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let $te=(()=>{const e=class{constructor(i,r){this.actions$=i,this.store$=r}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.LFG(Tte),o.LFG(As.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),n})();const qte=(0,As.Tz)({name:"auth",reducer:(0,As.Lq)({isLoggedIn:!1},(0,As.on)(CU.setUserLoggedIn,(n,e)=>({isLoggedIn:e.userAuthenticated})))});function Kte(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"El usuario o la contrase\xf1a no es v\xe1lido"),o.qZA())}function Yte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Entrar"),o.qZA()}}function Zte(n,e){1&n&&(o.TgZ(0,"button",15),o._uU(1,"Entrando..."),o.qZA())}let Qte=(()=>{const e=class{constructor(i,r){this.formBuilder=i,this.authService=r,this.loading=!1,this.hidePwd=!0,this.formGroup=i.group({email:i.control("invitado@gmail.com",[Vo.required,Vo.email]),password:i.control("Invitado2023.",[Vo.required])})}onSubmit(){var i=this;return(0,Oe.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r,password:s}=i.formGroup.value;return i.authService.signIn(r,s).catch(()=>{i.submitted=!1,i.loading=!1})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(dC),o.Y36(wy))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:36,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"row"],[1,"col","col-12"],[1,"float-end"],["mat-button","","routerLink","/forgot"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","disabled","",4,"ngIf"],["mat-button","","routerLink","/register"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","disabled",""]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"Inicio de sesi\xf3n"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un email v\xe1lido"),o.qZA()(),o.TgZ(13,"mat-form-field",2)(14,"mat-label"),o._uU(15,"Contrase\xf1a"),o.qZA(),o._UZ(16,"input",4),o.TgZ(17,"button",5),o.NdJ("click",function(){return s.hidePwd=!s.hidePwd}),o.TgZ(18,"mat-icon"),o._uU(19),o.qZA()(),o.TgZ(20,"mat-error"),o._uU(21,"Ingrese una contrase\xf1a v\xe1lida"),o.qZA()(),o.TgZ(22,"div",6)(23,"div",7)(24,"div",8)(25,"a",9),o._uU(26,"Olvide mi contrase\xf1a"),o.qZA()()()(),o.YNc(27,Kte,2,0,"mat-error",10),o.qZA()()(),o.TgZ(28,"mat-card-footer"),o.YNc(29,Yte,2,0,"button",11),o.YNc(30,Zte,2,0,"button",12),o.qZA(),o.TgZ(31,"mat-card-footer")(32,"div"),o._uU(33,"\xbfNo tienes una cuenta? "),o.TgZ(34,"a",13),o._uU(35,"registrate"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(11),o.Q6J("type",s.hidePwd?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hidePwd),o.xp6(2),o.Oqu(s.hidePwd?"visibility_off":"visibility"),o.xp6(8),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Mi,GR,ED,Tv,UR,XB,Mv,Av,CD,kv,q0,l1,Pv,kD,HD,A_,Zl,up,p_,rf,Jc,R_,oc]}),n})();function Xte(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"El usuario no se ha registrado, vuelve a intentarlo"),o.qZA())}function Jte(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Registar"),o.qZA()}}function ene(n,e){1&n&&(o.TgZ(0,"button",12),o._uU(1,"Registrando..."),o.qZA()),2&n&&o.Q6J("disabled",!0)}let tne=(()=>{const e=class{constructor(i,r,s,l){this.formBuilder=i,this.route=r,this.router=s,this.authService=l,this.loading=!1,this.hidePwd=!0,this.formGroup=i.group({displayName:i.control(null,[Vo.required]),email:i.control(null,[Vo.required,Vo.email]),password:i.control(null,[Vo.required,Vo.minLength(6)])})}ngOnInit(){this.formGroup.reset({displayName:null,email:null,password:null,emailVerified:null,photoURL:null})}onSubmit(){var i=this;return(0,Oe.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r,password:s}=i.formGroup.value;return i.authService.signUp(r,s).catch(l=>{i.submitted=!1,i.loading=!1})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(dC),o.Y36(rd),o.Y36(Kr),o.Y36(wy))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-register"]],decls:37,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["matInput","","formControlName","displayName","name","displayname","required",""],["matInput","","type","email","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"Crear usuario"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Nombre completo"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un nombre v\xe1lido"),o.qZA()(),o.TgZ(13,"mat-form-field",2)(14,"mat-label"),o._uU(15,"Email"),o.qZA(),o._UZ(16,"input",4),o.TgZ(17,"mat-error"),o._uU(18,"Ingrese un email v\xe1lido"),o.qZA()(),o.TgZ(19,"mat-form-field",2)(20,"mat-label"),o._uU(21,"Contrase\xf1a"),o.qZA(),o._UZ(22,"input",5),o.TgZ(23,"button",6),o.NdJ("click",function(){return s.hidePwd=!s.hidePwd}),o.TgZ(24,"mat-icon"),o._uU(25),o.qZA()(),o.TgZ(26,"mat-error"),o._uU(27,"Ingrese una contrase\xf1a v\xe1lida"),o.qZA()(),o.YNc(28,Xte,2,0,"mat-error",7),o.qZA()()(),o.TgZ(29,"mat-card-footer"),o.YNc(30,Jte,2,0,"button",8),o.YNc(31,ene,2,1,"button",9),o.qZA(),o.TgZ(32,"mat-card-footer")(33,"div"),o._uU(34,"Ya tengo una cuenta "),o.TgZ(35,"a",10),o._uU(36,"Iniciar sesi\xf3n"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(17),o.Q6J("type",s.hidePwd?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",s.hidePwd),o.xp6(2),o.Oqu(s.hidePwd?"visibility_off":"visibility"),o.xp6(3),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Mi,GR,ED,Tv,UR,XB,Mv,Av,CD,kv,q0,l1,Pv,kD,HD,A_,Zl,up,p_,rf,Jc,R_,oc]}),n})();function nne(n,e){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"No se ha enviado el enlace"),o.qZA())}function ine(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.onSubmit())}),o._uU(1,"Enviar enlace"),o.qZA()}}function rne(n,e){1&n&&(o.TgZ(0,"button",9),o._uU(1,"Enviando..."),o.qZA()),2&n&&o.Q6J("disabled",!0)}const sne=[{path:"login",component:Qte},{path:"register",component:tne},{path:"forgot",component:(()=>{const e=class{constructor(i,r,s,l,u){this.formBuilder=i,this.route=r,this.router=s,this.authService=l,this.snackBar=u,this.loading=!1,this.formGroup=i.group({email:i.control(null,[Vo.required,Vo.email])})}onSubmit(){var i=this;return(0,Oe.Z)(function*(){if(i.submitted=!0,i.formGroup.invalid)return;i.loading=!0;const{email:r}=i.formGroup.value;return i.authService.forgotPassword(r).then(()=>{i.submitted=void 0,i.loading=!1,i.snackBar.open("Enlace enviado con \xe9xito, porfavor revise su correo","",{duration:3e3})}).catch(()=>{i.submitted=!1,i.loading=!1,i.snackBar.open("El enlace no se ha enviado","",{duration:3e3})})})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(dC),o.Y36(rd),o.Y36(Kr),o.Y36(wy),o.Y36(_9))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-forgot"]],decls:22,vars:4,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1"),o._uU(3,"\xbfOlvidaste tu contrase\xf1a?"),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"mat-error"),o._uU(12,"Ingrese un email v\xe1lido"),o.qZA()(),o.YNc(13,nne,2,0,"mat-error",4),o.qZA()()(),o.TgZ(14,"mat-card-footer"),o.YNc(15,ine,2,0,"button",5),o.YNc(16,rne,2,1,"button",6),o.qZA(),o.TgZ(17,"mat-card-footer")(18,"div"),o._uU(19,"Ya tengo una cuenta "),o.TgZ(20,"a",7),o._uU(21,"Iniciar sesi\xf3n"),o.qZA()()()()),2&r&&(o.xp6(5),o.Q6J("formGroup",s.formGroup),o.xp6(8),o.Q6J("ngIf",!1===s.submitted),o.xp6(2),o.Q6J("ngIf",!s.loading),o.xp6(1),o.Q6J("ngIf",s.loading))},dependencies:[Mi,GR,ED,Tv,UR,Mv,Av,CD,kv,l1,Pv,HD,A_,Zl,up,p_,rf,Jc,R_,oc]}),n})()}];let one=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Ai,GD,Du,Vp.forRoot(sne,{useHash:!0}),As.Aw.forFeature(qte),l4.forFeature([$te])]}),n})(),ane=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[ste,vte,one]}),n})();function lne(n,e){1&n&&(o.TgZ(0,"button",7)(1,"mat-icon"),o._uU(2,"home"),o.qZA(),o._uU(3,"Inicio"),o.qZA())}function cne(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.logout())}),o.TgZ(1,"mat-icon"),o._uU(2,"exit_to_app"),o.qZA(),o._uU(3," Salir "),o.qZA()}}let dne=(()=>{const e=class{constructor(i){this.authService=i,this.title="GAME APPS",this.destroySub=new zt.x}ngOnDestroy(){this.destroySub.next()}get isAuthenticated(){return this.authService.isUserAuthenticated}logout(){var i=this;return(0,Oe.Z)(function*(){return i.authService.signOut()})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(o.Y36(wy))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-root"]],decls:12,vars:3,consts:[["color","primary",1,"border-0"],["role","button","mat-button","","routerLink","/"],[1,"bg-transparent"],["color","accent",1,"border-0"],["mat-button","","routerLink","/home",4,"ngIf"],[1,"example-spacer"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/home"],["mat-button","",3,"click"]],template:function(r,s){1&r&&(o.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"button",1)(3,"mat-icon"),o._uU(4,"grid_view"),o.qZA(),o._uU(5),o.qZA()()(),o._UZ(6,"mat-divider",2),o.TgZ(7,"mat-toolbar",3),o.YNc(8,lne,4,0,"button",4),o._UZ(9,"span",5),o.YNc(10,cne,4,0,"button",6),o.qZA(),o._UZ(11,"router-outlet")),2&r&&(o.xp6(5),o.hij(" ",s.title," "),o.xp6(3),o.Q6J("ngIf",s.isAuthenticated),o.xp6(2),o.Q6J("ngIf",s.isAuthenticated))},dependencies:[Mi,zC,oc,jB,DW,GB,q0,Pv],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#000!important}"]}),n})();var une=T(1365);const d4="@firebase/database";let bF="";function h4(n){bF=n}class fne{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,H.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,H.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,H.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const f4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fne(e)}}catch{}return new mne},Dg=f4("localStorage"),wF=f4("sessionStorage"),xy=new ac.Yd("@firebase/database"),m4=function(){let n=1;return function(){return n++}}(),p4=function(n){const e=(0,H.dS)(n),t=new H.gQ;t.update(e);const i=t.digest();return H.US.encodeByteArray(i)},fx=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=fx.apply(null,i):e+="object"==typeof i?(0,H.Wl)(i):i,e+=" "}return e};let Sg=null,g4=!0;const _4=function(n,e){(0,H.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xy.logLevel=ac.in.VERBOSE,Sg=xy.log.bind(xy),e&&wF.set("logging_enabled",!0)):"function"==typeof n?Sg=n:(Sg=null,wF.remove("logging_enabled"))},bs=function(...n){if(!0===g4&&(g4=!1,null===Sg&&!0===wF.get("logging_enabled")&&_4(!0)),Sg){const e=fx.apply(null,n);Sg(e)}},mx=function(n){return function(...e){bs(n,...e)}},xF=function(...n){const e="FIREBASE INTERNAL ERROR: "+fx(...n);xy.error(e)},bd=function(...n){const e=`FIREBASE FATAL ERROR: ${fx(...n)}`;throw xy.error(e),new Error(e)},eo=function(...n){const e="FIREBASE WARNING: "+fx(...n);xy.warn(e)},kT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},am="[MIN_NAME]",Gu="[MAX_NAME]",Tg=function(n,e){if(n===e)return 0;if(n===am||e===Gu)return-1;if(e===am||n===Gu)return 1;{const t=b4(n),i=b4(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},_ne=function(n,e){return n===e?0:n<e?-1:1},px=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Wl)(e))},EF=function(n){if("object"!=typeof n||null===n)return(0,H.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,H.Wl)(e[i]),t+=":",t+=EF(n[e[i]]);return t+="}",t},v4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ws(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const y4=function(n){(0,H.hu)(!kT(n),"Invalid JSON number");const i=1023;let r,s,l,u,m;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,l=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let I="";for(m=0;m<64;m+=8){let A=parseInt(b.substr(m,8),2).toString(16);1===A.length&&(A="0"+A),I+=A}return I.toLowerCase()},wne=new RegExp("^-?(0*)\\d{1,10}$"),b4=function(n){if(wne.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ey=function(n){try{n()}catch(e){setTimeout(()=>{throw eo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Cne=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gx=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Ine{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){eo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dne{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(bs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',eo(e)}}let _x=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const I4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T4="websocket",M4="long_polling";class IF{constructor(e,t,i,r,s=!1,l="",u=!1,m=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function A4(n,e,t){let i;if((0,H.hu)("string"==typeof e,"typeof type must == string"),(0,H.hu)("object"==typeof t,"typeof params must == object"),e===T4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==M4)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ws(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class Tne{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,H.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,H.p$)(this.counters_)}}const DF={},SF={};function TF(n){const e=n.toString();return DF[e]||(DF[e]=new Tne),DF[e]}class Ane{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ey(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class lm{constructor(e,t,i,r,s,l,u){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mx(e),this.stats_=TF(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),A4(t,M4,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ane(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new MF((...s)=>{const[l,u,m,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&I4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lm.forceAllow_=!0}static forceDisallow(){lm.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!lm.forceAllow_&&(lm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,H.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,H.h$)(t),r=v4(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,H.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class MF{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=m4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=MF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){bs("frame writing exception"),u.stack&&bs(u.stack),bs(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,H.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{bs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let OT=null;typeof MozWebSocket<"u"?OT=MozWebSocket:typeof WebSocket<"u"&&(OT=WebSocket);let Cy=(()=>{class n{constructor(t,i,r,s,l,u,m){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mx(this.connId),this.stats_=TF(i),this.connURL=n.connectionURL_(i,u,m,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const u={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&I4.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),s&&(u.ac=s),l&&(u.p=l),A4(t,T4,u)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dg.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${bF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new OT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==OT&&!n.forceDisallow_}static previouslyFailed(){return Dg.isInMemoryStorage||!0===Dg.get("previous_websocket_failure")}markConnectionHealthy(){Dg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,H.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=v4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),L4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[lm,Cy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Cy&&Cy.isAvailable();let r=i&&!Cy.previouslyFailed();if(t.webSocketOnly&&(i||eo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cy];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class G4{constructor(e,t,i,r,s,l,u,m,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mx("c:"+this.id+":"),this.transportManager_=new L4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=gx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=px("t",e),i=px("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=px("t",e),i=px("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=px("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?xF("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xF("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&eo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),gx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $4{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class W4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,H.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,H.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class PT extends W4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new PT}getInitialEvent(e){return(0,H.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const q4=32,K4=768;class ni{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function qn(){return new ni("")}function Sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function cm(n){return n.pieces_.length-n.pieceNum_}function Ii(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ni(n.pieces_,e)}function kF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function vx(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Y4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ni(e,0)}function rr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ni)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ni(t,0)}function Tn(n){return n.pieceNum_>=n.pieces_.length}function xo(n,e){const t=Sn(n),i=Sn(e);if(null===t)return e;if(t===i)return xo(Ii(n),Ii(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Xne(n,e){const t=vx(n,0),i=vx(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Tg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function RF(n,e){if(cm(n)!==cm(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function wl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(cm(n)>cm(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Jne{constructor(e,t){this.errorPrefix_=t,this.parts_=vx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);Z4(this)}}function Z4(n){if(n.byteLength_>K4)throw new Error(n.errorPrefix_+"has a key path longer than "+K4+" bytes ("+n.byteLength_+").");if(n.parts_.length>q4)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+q4+") or object contains a cycle "+Mg(n))}function Mg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class OF extends W4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new OF}getInitialEvent(e){return(0,H.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yx=1e3;let FT,Ag=(()=>{class n extends $4{constructor(t,i,r,s,l,u,m,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=mx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OF.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&PT.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,H.Wl)(l)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new H.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const m=u.d;"ok"===u.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(u).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const _=m.d,b=m.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,H.r3)(t,"w")){const r=(0,H.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();eo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,H.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,H.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,u=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const u={p:i,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,H.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):xF("Unrecognized action received from server: "+(0,H.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yx,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=yx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yx),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Oe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,s())};t.realtime_={close:b,sendRequest:function(F){(0,H.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,z]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);m?bs("getToken() completed but was canceled"):(bs("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=z&&z.token,_=new G4(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,te=>{eo(te+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(F){t.log_("Failed to get token: "+F),m||(t.repoInfo_.nodeAdmin&&eo(F),b())}}})()}interrupt(t){bs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){bs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>EF(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ni(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){bs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){bs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+bF.replace(/\./g,"-")]=1,(0,H.uI)()?t["framework.cordova"]=1:(0,H.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=PT.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Mn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Mn(e,t)}}class NT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Mn(am,e),r=new Mn(am,t);return 0!==this.compare(i,r)}minPost(){return Mn.MIN}}class J4 extends NT{static get __EMPTY_NODE(){return FT}static set __EMPTY_NODE(e){FT=e}compare(e,t){return Tg(e.name,t.name)}isDefinedOn(e){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Mn.MIN}maxPost(){return new Mn(Gu,FT)}makePost(e,t){return(0,H.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Mn(e,FT)}toString(){return".key"}}const wd=new J4;class LT{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let NF,hc=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Zo.EMPTY_NODE,this.right=l??Zo.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Zo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zo{constructor(e,t=Zo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Zo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,hc.BLACK,null,null))}remove(e){return new Zo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new LT(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new LT(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new LT(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new LT(this.root_,null,this.comparator_,!0,e)}}function aie(n,e){return Tg(n.name,e.name)}function PF(n,e){return Tg(n,e)}Zo.EMPTY_NODE=new class oie{copy(e,t,i,r,s){return this}insert(e,t,i){return new hc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eG=function(n){return"number"==typeof n?"number:"+y4(n):"string:"+n},tG=function(n){if(n.isLeafNode()){const e=n.val();(0,H.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,H.r3)(e,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===NF||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===NF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nG,iG,rG,Iy=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tG(this.priorityNode_)}static set __childrenNodeConstructor(t){nG=t}static get __childrenNodeConstructor(){return nG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Tn(t)?this:".priority"===Sn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Sn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===cm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ii(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+eG(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?y4(this.value_):this.value_,this.lazyHash_=p4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ni=new class uie extends NT{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Tg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Mn.MIN}maxPost(){return new Mn(Gu,new Iy("[PRIORITY-POST]",rG))}makePost(e,t){const i=iG(e);return new Mn(t,new Iy("[PRIORITY-POST]",i))}toString(){return".priority"}},hie=Math.log(2);class fie{constructor(e){this.count=parseInt(Math.log(e+1)/hie,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const BT=function(n,e,t,i){n.sort(e);const r=function(m,_){const b=_-m;let I,A;if(0===b)return null;if(1===b)return I=n[m],A=t?t(I):I,new hc(A,I.node,hc.BLACK,null,null);{const F=parseInt(b/2,10)+m,z=r(m,F),te=r(F+1,_);return I=n[F],A=t?t(I):I,new hc(A,I.node,hc.BLACK,z,te)}},u=function(m){let _=null,b=null,I=n.length;const A=function(z,te){const ae=I-z,je=I;I-=z;const Qe=r(ae+1,je),Je=n[ae],st=t?t(Je):Je;F(new hc(st,Je.node,te,null,Qe))},F=function(z){_?(_.left=z,_=z):(b=z,_=z)};for(let z=0;z<m.count;++z){const te=m.nextBitIsOne(),ae=Math.pow(2,m.count-(z+1));te?A(ae,hc.BLACK):(A(ae,hc.BLACK),A(ae,hc.RED))}return b}(new fie(n.length));return new Zo(i||e,u)};let FF;const Dy={};class $u{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,H.hu)(Dy&&Ni,"ChildrenNode.ts has not been loaded"),FF=FF||new $u({".priority":Dy},{".priority":Ni}),FF}get(e){const t=(0,H.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zo?t:null}hasIndex(e){return(0,H.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,H.hu)(e!==wd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Mn.Wrap);let u,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();u=r?BT(i,e.getCompare()):Dy;const m=e.toString(),_=Object.assign({},this.indexSet_);_[m]=e;const b=Object.assign({},this.indexes_);return b[m]=u,new $u(b,_)}addToIndexes(e,t){const i=(0,H.UI)(this.indexes_,(r,s)=>{const l=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(l,"Missing index implementation for "+s),r===Dy){if(l.isDefinedOn(e.node)){const u=[],m=t.getIterator(Mn.Wrap);let _=m.getNext();for(;_;)_.name!==e.name&&u.push(_),_=m.getNext();return u.push(e),BT(u,l.getCompare())}return Dy}{const u=t.get(e.name);let m=r;return u&&(m=m.remove(new Mn(e.name,u))),m.insert(e,e.node)}});return new $u(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,H.UI)(this.indexes_,r=>{if(r===Dy)return r;{const s=t.get(e.name);return s?r.remove(new Mn(e.name,s)):r}});return new $u(i,this.indexSet_)}}let bx,bn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tG(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bx||(bx=new n(new Zo(PF),null,$u.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bx}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?bx:i}}getChild(t){const i=Sn(t);return null===i?this:this.getImmediateChild(i).getChild(Ii(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Mn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?bx:this.priorityNode_;return new n(s,u,l)}}updateChild(t,i){const r=Sn(t);if(null===r)return i;{(0,H.hu)(".priority"!==Sn(t)||1===cm(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ii(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Ni,(u,m)=>{i[u]=m.val(t),r++,l&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):l=!1}),!t&&l&&s<2*r){const u=[];for(const m in i)u[m]=i[m];return u}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+eG(this.getPriority().val())+":"),this.forEachChild(Ni,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":p4(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new Mn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Mn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Mn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Mn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Mn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wx?-1:0}withIndex(t){if(t===wd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===wd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ni),s=i.getIterator(Ni);let l=r.getNext(),u=s.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=s.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(t){return t===wd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const wx=new class mie extends bn{constructor(){super(new Zo(PF),bn.EMPTY_NODE,$u.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return bn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Mn,{MIN:{value:new Mn(am,bn.EMPTY_NODE)},MAX:{value:new Mn(Gu,wx)}}),J4.__EMPTY_NODE=bn.EMPTY_NODE,Iy.__childrenNodeConstructor=bn,function lie(n){NF=n}(wx),function die(n){rG=n}(wx);const pie=!0;function fr(n,e=null){if(null===n)return bn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,H.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Iy(n,fr(e));if(n instanceof Array||!pie){let t=bn.EMPTY_NODE;return ws(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=fr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(fr(e))}{const t=[];let i=!1;if(ws(n,(l,u)=>{if("."!==l.substring(0,1)){const m=fr(u);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),t.push(new Mn(l,m)))}}),0===t.length)return bn.EMPTY_NODE;const s=BT(t,aie,l=>l.name,PF);if(i){const l=BT(t,Ni.getCompare());return new bn(s,fr(e),new $u({".priority":l},{".priority":Ni}))}return new bn(s,fr(e),$u.Default)}}!function cie(n){iG=n}(fr);class LF extends NT{constructor(e){super(),this.indexPath_=e,(0,H.hu)(!Tn(e)&&".priority"!==Sn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Tg(e.name,t.name):s}makePost(e,t){const i=fr(e),r=bn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Mn(t,r)}maxPost(){const e=bn.EMPTY_NODE.updateChild(this.indexPath_,wx);return new Mn(Gu,e)}toString(){return vx(this.indexPath_,0).join("/")}}const BF=new class gie extends NT{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Tg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Mn.MIN}maxPost(){return Mn.MAX}makePost(e,t){const i=fr(e);return new Mn(t,i)}toString(){return".value"}};function sG(n){return{type:"value",snapshotNode:n}}function Sy(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function xx(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ex(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class VF{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,H.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(xx(t,u)):(0,H.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Sy(t,i)):l.trackChildChange(Ex(t,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ni,(r,s)=>{t.hasChild(r)||i.trackChildChange(xx(r,s))}),t.isLeafNode()||t.forEachChild(Ni,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(Ex(r,s,l))}else i.trackChildChange(Sy(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?bn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cx{constructor(e){this.indexedFilter_=new VF(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Cx.getStartPost_(e),this.endPost_=Cx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new Mn(t,i))||(i=bn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=bn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(bn.EMPTY_NODE);const s=this;return t.forEachChild(Ni,(l,u)=>{s.matches(new Mn(l,u))||(r=r.updateImmediateChild(l,bn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class vie{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Cx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new Mn(t,i))||(i=bn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=bn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=bn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(bn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,bn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const I=this.index_.getCompare();l=(A,F)=>I(F,A)}else l=this.index_.getCompare();const u=e;(0,H.hu)(u.numChildren()===this.limit_,"");const m=new Mn(t,i),_=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(u.hasChild(t)){const I=u.getImmediateChild(t);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===t||u.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const F=null==A?1:l(A,m);if(b&&!i.isEmpty()&&F>=0)return s?.trackChildChange(Ex(t,i,I)),u.updateImmediateChild(t,i);{s?.trackChildChange(xx(t,I));const te=u.updateImmediateChild(t,bn.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(s?.trackChildChange(Sy(A.name,A.node)),te.updateImmediateChild(A.name,A.node)):te}}return i.isEmpty()?e:b&&l(_,m)>=0?(null!=s&&(s.trackChildChange(xx(_.name,_.node)),s.trackChildChange(Sy(t,i))),u.updateImmediateChild(t,i).updateImmediateChild(_.name,bn.EMPTY_NODE)):e}}class VT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ni}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:am}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ni}copy(){const e=new VT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UF(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function HF(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function UT(n,e){const t=n.copy();return t.index_=e,t}function oG(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ni?t="$priority":n.index_===BF?t="$value":n.index_===wd?t="$key":((0,H.hu)(n.index_ instanceof LF,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,H.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,H.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,H.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,H.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,H.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function aG(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ni&&(e.i=n.index_.toString()),e}class HT extends $4{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=mx("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,H.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=HT.getListenId_(e,i),u={};this.listens_[l]=u;const m=oG(e._queryParams);this.restRequest_(s+".json",m,(_,b)=>{let I=b;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(s,I,!1,i),(0,H.DV)(this.listens_,l)===u){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(e,t){const i=HT.getListenId_(e,t);delete this.listens_[i]}get(e){const t=oG(e._queryParams),i=e._path.toString(),r=new H.BH;return this.restRequest_(i+".json",t,(s,l)=>{let u=l;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,H.xO)(t);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let m=null;if(u.status>=200&&u.status<300){try{m=(0,H.cI)(u.responseText)}catch{eo("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,m)}else 401!==u.status&&404!==u.status&&eo("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}class Cie{constructor(){this.rootNode_=bn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jT(){return{value:null,children:new Map}}function Ty(n,e,t){if(Tn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Sn(e);n.children.has(i)||n.children.set(i,jT()),Ty(n.children.get(i),e=Ii(e),t)}}function jF(n,e){if(Tn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ni,(i,r)=>{Ty(n,new ni(i),r)}),jF(n,e)}}if(n.children.size>0){const t=Sn(e);return e=Ii(e),n.children.has(t)&&jF(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function zF(n,e,t){null!==n.value?t(e,n.value):function Iie(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{zF(r,new ni(e.toString()+"/"+i),t)})}class Die{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ws(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Mie{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Die(e);const i=1e4+2e4*Math.random();gx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ws(e,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),gx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(xl||(xl={})),xl))();function WF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class zT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=xl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Tn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ni(e));return new zT(qn(),t,this.revert)}}return(0,H.hu)(Sn(this.path)===e,"operationForChild called for unrelated child."),new zT(Ii(this.path),this.affectedTree,this.revert)}}class Ix{constructor(e,t){this.source=e,this.path=t,this.type=xl.LISTEN_COMPLETE}operationForChild(e){return Tn(this.path)?new Ix(this.source,qn()):new Ix(this.source,Ii(this.path))}}class kg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=xl.OVERWRITE}operationForChild(e){return Tn(this.path)?new kg(this.source,qn(),this.snap.getImmediateChild(e)):new kg(this.source,Ii(this.path),this.snap)}}class My{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=xl.MERGE}operationForChild(e){if(Tn(this.path)){const t=this.children.subtree(new ni(e));return t.isEmpty()?null:t.value?new kg(this.source,qn(),t.value):new My(this.source,qn(),t)}return(0,H.hu)(Sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new My(this.source,Ii(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class dm{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Tn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Sn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Aie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dx(n,e,t,i,r,s){const l=i.filter(u=>u.type===t);l.sort((u,m)=>function Oie(n,e,t){if(null==e.childName||null==t.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new Mn(e.childName,e.snapshotNode),r=new Mn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,u,m)),l.forEach(u=>{const m=function Rie(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,u,s);r.forEach(_=>{_.respondsTo(u.type)&&e.push(_.createEvent(m,n.query_))})})}function GT(n,e){return{eventCache:n,serverCache:e}}function Sx(n,e,t,i){return GT(new dm(e,t,i),n.serverCache)}function cG(n,e,t,i){return GT(n.eventCache,new dm(e,t,i))}function $T(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let qF;class Fi{constructor(e,t=(()=>(qF||(qF=new Zo(_ne)),qF))()){this.value=e,this.children=t}static fromObject(e){let t=new Fi(null);return ws(e,(i,r)=>{t=t.set(new ni(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:qn(),value:this.value};if(Tn(e))return null;{const i=Sn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ii(e),t);return null!=s?{path:rr(new ni(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Tn(e))return this;{const t=Sn(e),i=this.children.get(t);return null!==i?i.subtree(Ii(e)):new Fi(null)}}set(e,t){if(Tn(e))return new Fi(t,this.children);{const i=Sn(e),s=(this.children.get(i)||new Fi(null)).set(Ii(e),t),l=this.children.insert(i,s);return new Fi(this.value,l)}}remove(e){if(Tn(e))return this.children.isEmpty()?new Fi(null):new Fi(null,this.children);{const t=Sn(e),i=this.children.get(t);if(i){const r=i.remove(Ii(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Fi(null):new Fi(this.value,s)}return this}}get(e){if(Tn(e))return this.value;{const t=Sn(e),i=this.children.get(t);return i?i.get(Ii(e)):null}}setTree(e,t){if(Tn(e))return t;{const i=Sn(e),s=(this.children.get(i)||new Fi(null)).setTree(Ii(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Fi(this.value,l)}}fold(e){return this.fold_(qn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(rr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,qn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Tn(e))return null;{const s=Sn(e),l=this.children.get(s);return l?l.findOnPath_(Ii(e),rr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,qn(),t)}foreachOnPath_(e,t,i){if(Tn(e))return this;{this.value&&i(t,this.value);const r=Sn(e),s=this.children.get(r);return s?s.foreachOnPath_(Ii(e),rr(t,r),i):new Fi(null)}}foreach(e){this.foreach_(qn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(rr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class fc{constructor(e){this.writeTree_=e}static empty(){return new fc(new Fi(null))}}function Tx(n,e,t){if(Tn(e))return new fc(new Fi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=xo(r,e);return s=s.updateChild(l,t),new fc(n.writeTree_.set(r,s))}{const r=new Fi(t),s=n.writeTree_.setTree(e,r);return new fc(s)}}}function KF(n,e,t){let i=n;return ws(t,(r,s)=>{i=Tx(i,rr(e,r),s)}),i}function dG(n,e){if(Tn(e))return fc.empty();{const t=n.writeTree_.setTree(e,new Fi(null));return new fc(t)}}function YF(n,e){return null!=Og(n,e)}function Og(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(xo(t.path,e)):null}function uG(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ni,(i,r)=>{e.push(new Mn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Mn(i,r.value))}),e}function um(n,e){if(Tn(e))return n;{const t=Og(n,e);return new fc(null!=t?new Fi(t):n.writeTree_.subtree(e))}}function ZF(n){return n.writeTree_.isEmpty()}function Ay(n,e){return hG(qn(),n.writeTree_,e)}function hG(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=hG(rr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(rr(n,".priority"),i)),t}}function WT(n,e){return _G(e,n)}function Vie(n,e){if(n.snap)return wl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&wl(rr(n.path,t),e))return!0;return!1}function Hie(n){return n.visible}function fG(n,e,t){let i=fc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let u;if(s.snap)wl(t,l)?(u=xo(t,l),i=Tx(i,u,s.snap)):wl(l,t)&&(u=xo(l,t),i=Tx(i,qn(),s.snap.getChild(u)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(wl(t,l))u=xo(t,l),i=KF(i,u,s.children);else if(wl(l,t))if(u=xo(l,t),Tn(u))i=KF(i,qn(),s.children);else{const m=(0,H.DV)(s.children,Sn(u));if(m){const _=m.getChild(Ii(u));i=Tx(i,qn(),_)}}}}}return i}function mG(n,e,t,i,r){if(i||r){const s=um(n.visibleWrites,e);return!r&&ZF(s)?t:r||null!=t||YF(s,qn())?Ay(fG(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(wl(_.path,e)||wl(e,_.path))},e),t||bn.EMPTY_NODE):null}{const s=Og(n.visibleWrites,e);if(null!=s)return s;{const l=um(n.visibleWrites,e);return ZF(l)?t:null!=t||YF(l,qn())?Ay(l,t||bn.EMPTY_NODE):null}}}function qT(n,e,t,i){return mG(n.writeTree,n.treePath,e,t,i)}function QF(n,e){return function jie(n,e,t){let i=bn.EMPTY_NODE;const r=Og(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ni,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=um(n.visibleWrites,e);return t.forEachChild(Ni,(l,u)=>{const m=Ay(um(s,new ni(l)),u);i=i.updateImmediateChild(l,m)}),uG(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return uG(um(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function pG(n,e,t,i){return function zie(n,e,t,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=rr(e,t);if(YF(n.visibleWrites,s))return null;{const l=um(n.visibleWrites,s);return ZF(l)?r.getChild(t):Ay(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function KT(n,e){return function $ie(n,e){return Og(n.visibleWrites,e)}(n.writeTree,rr(n.treePath,e))}function XF(n,e,t){return function Gie(n,e,t,i){const r=rr(e,t),s=Og(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Ay(um(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function gG(n,e){return _G(rr(n.treePath,e),n.writeTree)}function _G(n,e){return{treePath:n,writeTree:e}}class Yie{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,H.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Ex(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,xx(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Sy(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Ex(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const vG=new class Zie{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class JF{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new dm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XF(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rg(this.viewCache_),s=function Kie(n,e,t,i,r,s){return function Wie(n,e,t,i,r,s,l){let u;const m=um(n.visibleWrites,e),_=Og(m,qn());if(null!=_)u=_;else{if(null==t)return[];u=Ay(m,t)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const b=[],I=l.getCompare(),A=s?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let F=A.getNext();for(;F&&b.length<r;)0!==I(F,i)&&b.push(F),F=A.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function yG(n,e,t,i,r,s){const l=e.eventCache;if(null!=KT(i,t))return e;{let u,m;if(Tn(t))if((0,H.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Rg(e),I=QF(i,_ instanceof bn?_:bn.EMPTY_NODE);u=n.filter.updateFullNode(e.eventCache.getNode(),I,s)}else{const _=qT(i,Rg(e));u=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Sn(t);if(".priority"===_){(0,H.hu)(1===cm(t),"Can't have a priority with additional path components");const b=l.getNode();m=e.serverCache.getNode();const I=pG(i,t,b,m);u=null!=I?n.filter.updatePriority(b,I):l.getNode()}else{const b=Ii(t);let I;if(l.isCompleteForChild(_)){m=e.serverCache.getNode();const A=pG(i,t,l.getNode(),m);I=null!=A?l.getNode().getImmediateChild(_).updateChild(b,A):l.getNode().getImmediateChild(_)}else I=XF(i,_,e.serverCache);u=null!=I?n.filter.updateChild(l.getNode(),_,I,b,r,s):l.getNode()}}return Sx(e,u,l.isFullyInitialized()||Tn(t),n.filter.filtersNodes())}}function YT(n,e,t,i,r,s,l,u){const m=e.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if(Tn(t))_=b.updateFullNode(m.getNode(),i,null);else if(b.filtersNodes()&&!m.isFiltered()){const F=m.getNode().updateChild(t,i);_=b.updateFullNode(m.getNode(),F,null)}else{const F=Sn(t);if(!m.isCompleteForPath(t)&&cm(t)>1)return e;const z=Ii(t),ae=m.getNode().getImmediateChild(F).updateChild(z,i);_=".priority"===F?b.updatePriority(m.getNode(),ae):b.updateChild(m.getNode(),F,ae,z,vG,null)}const I=cG(e,_,m.isFullyInitialized()||Tn(t),b.filtersNodes());return yG(n,I,t,r,new JF(r,I,s),u)}function eL(n,e,t,i,r,s,l){const u=e.eventCache;let m,_;const b=new JF(r,e,s);if(Tn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,l),m=Sx(e,_,!0,n.filter.filtersNodes());else{const I=Sn(t);if(".priority"===I)_=n.filter.updatePriority(e.eventCache.getNode(),i),m=Sx(e,_,u.isFullyInitialized(),u.isFiltered());else{const A=Ii(t),F=u.getNode().getImmediateChild(I);let z;if(Tn(A))z=i;else{const te=b.getCompleteChild(I);z=null!=te?".priority"===kF(A)&&te.getChild(Y4(A)).isEmpty()?te:te.updateChild(A,i):bn.EMPTY_NODE}m=F.equals(z)?e:Sx(e,n.filter.updateChild(u.getNode(),I,z,A,b,l),u.isFullyInitialized(),n.filter.filtersNodes())}}return m}function bG(n,e){return n.eventCache.isCompleteForChild(e)}function wG(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function tL(n,e,t,i,r,s,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,m=e;_=Tn(t)?i:new Fi(null).setTree(t,i);const b=e.serverCache.getNode();return _.children.inorderTraversal((I,A)=>{if(b.hasChild(I)){const z=wG(0,e.serverCache.getNode().getImmediateChild(I),A);m=YT(n,m,new ni(I),z,r,s,l,u)}}),_.children.inorderTraversal((I,A)=>{const F=!e.serverCache.isCompleteForChild(I)&&null===A.value;if(!b.hasChild(I)&&!F){const te=wG(0,e.serverCache.getNode().getImmediateChild(I),A);m=YT(n,m,new ni(I),te,r,s,l,u)}}),m}class sre{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new VF(i.getIndex()),s=function yie(n){return n.loadsAllData()?new VF(n.getIndex()):n.hasLimit()?new vie(n):new Cx(n)}(i);this.processor_=function Qie(n){return{filter:n}}(s);const l=t.serverCache,u=t.eventCache,m=r.updateFullNode(bn.EMPTY_NODE,l.getNode(),null),_=s.updateFullNode(bn.EMPTY_NODE,u.getNode(),null),b=new dm(m,l.isFullyInitialized(),r.filtersNodes()),I=new dm(_,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=GT(I,b),this.eventGenerator_=new Aie(this.query_)}get query(){return this.query_}}function lre(n,e){const t=Rg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Tn(e)&&!t.getImmediateChild(Sn(e)).isEmpty())?t.getChild(e):null}function xG(n){return 0===n.eventRegistrations_.length}function EG(n,e,t){const i=[];if(t){(0,H.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function CG(n,e,t,i){e.type===xl.MERGE&&null!==e.source.queryId&&((0,H.hu)(Rg(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)($T(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Jie(n,e,t,i,r){const s=new Yie;let l,u;if(t.type===xl.OVERWRITE){const _=t;_.source.fromUser?l=eL(n,e,_.path,_.snap,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||e.serverCache.isFiltered()&&!Tn(_.path),l=YT(n,e,_.path,_.snap,i,r,u,s))}else if(t.type===xl.MERGE){const _=t;_.source.fromUser?l=function tre(n,e,t,i,r,s,l){let u=e;return i.foreach((m,_)=>{const b=rr(t,m);bG(e,Sn(b))&&(u=eL(n,u,b,_,r,s,l))}),i.foreach((m,_)=>{const b=rr(t,m);bG(e,Sn(b))||(u=eL(n,u,b,_,r,s,l))}),u}(n,e,_.path,_.children,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||e.serverCache.isFiltered(),l=tL(n,e,_.path,_.children,i,r,u,s))}else if(t.type===xl.ACK_USER_WRITE){const _=t;l=_.revert?function rre(n,e,t,i,r,s){let l;if(null!=KT(i,t))return e;{const u=new JF(i,e,r),m=e.eventCache.getNode();let _;if(Tn(t)||".priority"===Sn(t)){let b;if(e.serverCache.isFullyInitialized())b=qT(i,Rg(e));else{const I=e.serverCache.getNode();(0,H.hu)(I instanceof bn,"serverChildren would be complete if leaf node"),b=QF(i,I)}_=n.filter.updateFullNode(m,b,s)}else{const b=Sn(t);let I=XF(i,b,e.serverCache);null==I&&e.serverCache.isCompleteForChild(b)&&(I=m.getImmediateChild(b)),_=null!=I?n.filter.updateChild(m,b,I,Ii(t),u,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,bn.EMPTY_NODE,Ii(t),u,s):m,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=qT(i,Rg(e)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=KT(i,qn()),Sx(e,_,l,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function nre(n,e,t,i,r,s,l){if(null!=KT(r,t))return e;const u=e.serverCache.isFiltered(),m=e.serverCache;if(null!=i.value){if(Tn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return YT(n,e,t,m.getNode().getChild(t),r,s,u,l);if(Tn(t)){let _=new Fi(null);return m.getNode().forEachChild(wd,(b,I)=>{_=_.set(new ni(b),I)}),tL(n,e,t,_,r,s,u,l)}return e}{let _=new Fi(null);return i.foreach((b,I)=>{const A=rr(t,b);m.isCompleteForPath(A)&&(_=_.set(b,m.getNode().getChild(A)))}),tL(n,e,t,_,r,s,u,l)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==xl.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+t.type);l=function ire(n,e,t,i,r){const s=e.serverCache;return yG(n,cG(e,s.getNode(),s.isFullyInitialized()||Tn(t),s.isFiltered()),t,i,vG,r)}(n,e,t.path,i,s)}const m=s.getChanges();return function ere(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$T(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(sG($T(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,r,e,t,i);return function Xie(n,e){(0,H.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,IG(n,s.changes,s.viewCache.eventCache.getNode(),null)}function IG(n,e,t,i){return function kie(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function _ie(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Dx(n,r,"child_removed",e,i,t),Dx(n,r,"child_added",e,i,t),Dx(n,r,"child_moved",s,i,t),Dx(n,r,"child_changed",e,i,t),Dx(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let ZT,XT;class DG{constructor(){this.views=new Map}}function nL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),CG(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(CG(l,e,t,i));return s}}function SG(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let u=qT(t,r?i:null),m=!1;u?m=!0:i instanceof bn?(u=QF(t,i),m=!1):(u=bn.EMPTY_NODE,m=!1);const _=GT(new dm(u,m,!1),new dm(i,r,!1));return new sre(e,_)}return l}function TG(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function hm(n,e){let t=null;for(const i of n.views.values())t=t||lre(i,e);return t}function MG(n,e){return e._queryParams.loadsAllData()?QT(n):n.views.get(e._queryIdentifier)}function AG(n,e){return null!=MG(n,e)}function fm(n){return null!=QT(n)}function QT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let vre=1;class kG{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fi(null),this.pendingWriteTree_=function qie(){return{visibleWrites:fc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iL(n,e,t,i,r){return function Nie(n,e,t,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Tx(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?ky(n,new kg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function mm(n,e,t=!1){const i=function Lie(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Bie(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);(0,H.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const u=n.allWrites[l];u.visible&&(l>=t&&Vie(u,i.path)?r=!1:wl(i.path,u.path)&&(s=!0)),l--}return!!r&&(s?(function Uie(n){n.visibleWrites=fG(n.allWrites,Hie,qn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=dG(n.visibleWrites,i.path):ws(i.children,m=>{n.visibleWrites=dG(n.visibleWrites,rr(i.path,m))}),!0))}(n.pendingWriteTree_,e)){let s=new Fi(null);return null!=i.snap?s=s.set(qn(),!0):ws(i.children,l=>{s=s.set(new ni(l),!0)}),ky(n,new zT(i.path,s,t))}return[]}function Mx(n,e,t){return ky(n,new kg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function JT(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let u=[];if(l&&("default"===e._queryIdentifier||AG(l,e))){const m=function pre(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const u=fm(n);if("default"===r)for(const[m,_]of n.views.entries())l=l.concat(EG(_,t,i)),xG(_)&&(n.views.delete(m),_.query._queryParams.loadsAllData()||s.push(_.query));else{const m=n.views.get(r);m&&(l=l.concat(EG(m,t,i)),xG(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||s.push(m.query)))}return u&&!fm(n)&&s.push(new(function hre(){return(0,H.hu)(ZT,"Reference.ts has not been loaded"),ZT}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function fre(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=m.removed;if(u=m.events,!r){const b=-1!==_.findIndex(A=>A._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(s,(A,F)=>fm(F));if(b&&!I){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const F=function Ire(n){return n.fold((e,t,i)=>{if(t&&fm(t))return[QT(t)];{let r=[];return t&&(r=TG(t)),ws(i,(s,l)=>{r=r.concat(l)}),r}})}(A);for(let z=0;z<F.length;++z){const te=F[z],ae=te.query,je=NG(n,te);n.listenProvider_.startListening(kx(ae),Ax(n,ae),je.hashFn,je.onComplete)}}}!I&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(kx(e),null):_.forEach(A=>{const F=n.queryToTagMap.get(tM(A));n.listenProvider_.stopListening(kx(A),F)}))}!function Dre(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=tM(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return u}function RG(n,e,t,i){const r=sL(n,i);if(null!=r){const s=oL(r),l=s.path,u=s.queryId,m=xo(l,e);return aL(n,l,new kg(WF(u),m,t))}return[]}function rL(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(A,F)=>{const z=xo(A,r);s=s||hm(F,z),l=l||fm(F)});let m,u=n.syncPointTree_.get(r);u?(l=l||fm(u),s=s||hm(u,qn())):(u=new DG,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=s?m=!0:(m=!1,s=bn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,z)=>{const te=hm(z,qn());te&&(s=s.updateImmediateChild(F,te))}));const _=AG(u,e);if(!_&&!e._queryParams.loadsAllData()){const A=tM(e);(0,H.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const F=function Sre(){return vre++}();n.queryToTagMap.set(A,F),n.tagToQueryMap.set(F,A)}let I=function mre(n,e,t,i,r,s){const l=SG(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function cre(n,e){n.eventRegistrations_.push(e)}(l,t),function dre(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ni,(s,l)=>{i.push(Sy(s,l))}),t.isFullyInitialized()&&i.push(sG(t.getNode())),IG(n,i,t.getNode(),e)}(l,t)}(u,e,t,WT(n.pendingWriteTree_,r),s,m);if(!_&&!l&&!i){const A=MG(u,e);I=I.concat(function Tre(n,e,t){const i=e._path,r=Ax(n,e),s=NG(n,t),l=n.listenProvider_.startListening(kx(e),r,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!fm(u.value),"If we're adding a query, it shouldn't be shadowed");else{const m=u.fold((_,b,I)=>{if(!Tn(_)&&b&&fm(b))return[QT(b).query];{let A=[];return b&&(A=A.concat(TG(b).map(F=>F.query))),ws(I,(F,z)=>{A=A.concat(z)}),A}});for(let _=0;_<m.length;++_){const b=m[_];n.listenProvider_.stopListening(kx(b),Ax(n,b))}}return l}(n,e,A))}return I}function eM(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,u)=>{const _=hm(u,xo(l,e));if(_)return _});return mG(r,e,s,t,!0)}function ky(n,e){return OG(e,n.syncPointTree_,null,WT(n.pendingWriteTree_,qn()))}function OG(n,e,t,i){if(Tn(n.path))return PG(n,e,t,i);{const r=e.get(qn());null==t&&null!=r&&(t=hm(r,qn()));let s=[];const l=Sn(n.path),u=n.operationForChild(l),m=e.children.get(l);if(m&&u){const _=t?t.getImmediateChild(l):null,b=gG(i,l);s=s.concat(OG(u,m,_,b))}return r&&(s=s.concat(nL(r,n,i,t))),s}}function PG(n,e,t,i){const r=e.get(qn());null==t&&null!=r&&(t=hm(r,qn()));let s=[];return e.children.inorderTraversal((l,u)=>{const m=t?t.getImmediateChild(l):null,_=gG(i,l),b=n.operationForChild(l);b&&(s=s.concat(PG(b,u,m,_)))}),r&&(s=s.concat(nL(r,n,i,t))),s}function NG(n,e){const t=e.query,i=Ax(n,t);return{hashFn:()=>(function ore(n){return n.viewCache_.serverCache.getNode()}(e)||bn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function xre(n,e,t){const i=sL(n,t);if(i){const r=oL(i),s=r.path,l=r.queryId,u=xo(s,e);return aL(n,s,new Ix(WF(l),u))}return[]}(n,t._path,i):function wre(n,e){return ky(n,new Ix({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function bne(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return JT(n,t,null,s)}}}}function Ax(n,e){const t=tM(e);return n.queryToTagMap.get(t)}function tM(n){return n._path.toString()+"$"+n._queryIdentifier}function sL(n,e){return n.tagToQueryMap.get(e)}function oL(n){const e=n.indexOf("$");return(0,H.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ni(n.substr(0,e))}}function aL(n,e,t){const i=n.syncPointTree_.get(e);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),nL(i,t,WT(n.pendingWriteTree_,e),null)}function kx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function _re(){return(0,H.hu)(XT,"Reference.ts has not been loaded"),XT}())(n._repo,n._path):n}class lL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new lL(t)}node(){return this.node_}}class cL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=rr(this.path_,e);return new cL(this.syncTree_,t)}node(){return eM(this.syncTree_,this.path_)}}const Mre=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},FG=function(n,e,t){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Are(n[".sv"],e,t):"object"==typeof n[".sv"]?kre(n[".sv"],e):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Are=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},kre=function(n,e,t){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},LG=function(n,e,t,i){return uL(e,new cL(t,n),i)},dL=function(n,e,t){return uL(n,new lL(e),t)};function uL(n,e,t){const i=n.getPriority().val(),r=FG(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,u=FG(l.getValue(),e,t);return u!==l.getValue()||r!==l.getPriority().val()?new Iy(u,fr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Iy(r))),l.forEachChild(Ni,(u,m)=>{const _=uL(m,e.getImmediateChild(u),t);_!==m&&(s=s.updateImmediateChild(u,_))}),s}}class hL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function nM(n,e){let t=e instanceof ni?e:new ni(e),i=n,r=Sn(t);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new hL(r,i,s),t=Ii(t),r=Sn(t)}return i}function Pg(n){return n.node.value}function fL(n,e){n.node.value=e,mL(n)}function BG(n){return n.node.childCount>0}function iM(n,e){ws(n.node.children,(t,i)=>{e(new hL(t,n,i))})}function VG(n,e,t,i){t&&!i&&e(n),iM(n,r=>{VG(r,e,!0,i)}),t&&i&&e(n)}function Rx(n){return new ni(null===n.parent?n.name:Rx(n.parent)+"/"+n.name)}function mL(n){null!==n.parent&&function Pre(n,e,t){const i=function Rre(n){return void 0===Pg(n)&&!BG(n)}(t),r=(0,H.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,mL(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,mL(n))}(n.parent,n.name,n)}const Nre=/[\[\].#$\/\u0000-\u001F\u007F]/,Fre=/[\[\].#$\u0000-\u001F\u007F]/,pL=10485760,rM=function(n){return"string"==typeof n&&0!==n.length&&!Nre.test(n)},UG=function(n){return"string"==typeof n&&0!==n.length&&!Fre.test(n)},Ox=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!kT(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},xd=function(n,e,t,i){i&&void 0===e||Px((0,H.gK)(n,"value"),e,t)},Px=function(n,e,t){const i=t instanceof ni?new Jne(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Mg(i));if("function"==typeof e)throw new Error(n+"contains a function "+Mg(i)+" with contents = "+e.toString());if(kT(e))throw new Error(n+"contains "+e.toString()+" "+Mg(i));if("string"==typeof e&&e.length>pL/3&&(0,H.ug)(e)>pL)throw new Error(n+"contains a string greater than "+pL+" utf8 bytes "+Mg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(ws(e,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!rM(l)))throw new Error(n+" contains an invalid key ("+l+") "+Mg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function eie(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,H.ug)(e),Z4(n)})(i,l),Px(n,u,i),function tie(n){const e=n.parts_.pop();n.byteLength_-=(0,H.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Mg(i)+" in addition to actual children.")}},HG=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,H.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];ws(e,(l,u)=>{const m=new ni(l);if(Px(r,u,rr(t,m)),".priority"===kF(m)&&!Ox(u))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=vx(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!rM(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Xne);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&wl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},gL=function(n,e,t){if(!t||void 0!==e){if(kT(e))throw new Error((0,H.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ox(e))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Nx=function(n,e,t,i){if(!(i&&void 0===t||rM(t)))throw new Error((0,H.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fx=function(n,e,t,i){if(!(i&&void 0===t||UG(t)))throw new Error((0,H.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vre=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Fx(n,e,t,i)},El=function(n,e){if(".info"===Sn(e))throw new Error(n+" failed = Can't modify data under /.info/")},jG=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!rM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UG(n)}(t))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ure{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!RF(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function zG(n,e,t){sM(n,t),GG(n,i=>RF(i,e))}function Ra(n,e,t){sM(n,t),GG(n,i=>wl(i,e)||wl(e,i))}function GG(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Hre(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Hre(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Sg&&bs("event: "+t.toString()),Ey(i)}}}const $G="repo_interrupt",jre=25;class zre{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ure,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jT(),this.transactionQueueTree_=new hL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WG(n){const t=n.infoData_.getNode(new ni(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Lx(n){return Mre({timestamp:WG(n)})}function qG(n,e,t,i,r){n.dataUpdateCount++;const s=new ni(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const m=(0,H.UI)(t,_=>fr(_));l=function Ere(n,e,t,i){const r=sL(n,i);if(r){const s=oL(r),l=s.path,u=s.queryId,m=xo(l,e),_=Fi.fromObject(t);return aL(n,l,new My(WF(u),m,_))}return[]}(n.serverSyncTree_,s,m,r)}else{const m=fr(t);l=RG(n.serverSyncTree_,s,m,r)}else if(i){const m=(0,H.UI)(t,_=>fr(_));l=function bre(n,e,t){const i=Fi.fromObject(t);return ky(n,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,m)}else{const m=fr(t);l=Mx(n.serverSyncTree_,s,m)}let u=s;l.length>0&&(u=Oy(n,s)),Ra(n.eventQueue_,u,l)}function KG(n,e){_L(n,"connected",e),!1===e&&function Kre(n){Ry(n,"onDisconnectEvents");const e=Lx(n),t=jT();zF(n.onDisconnect_,qn(),(r,s)=>{const l=LG(r,s,n.serverSyncTree_,e);Ty(t,r,l)});let i=[];zF(t,qn(),(r,s)=>{i=i.concat(Mx(n.serverSyncTree_,r,s));const l=wL(n,r);Oy(n,l)}),n.onDisconnect_=jT(),Ra(n.eventQueue_,qn(),i)}(n)}function _L(n,e,t){const i=new ni("/.info/"+e),r=fr(t);n.infoData_.updateSnapshot(i,r);const s=Mx(n.infoSyncTree_,i,r);Ra(n.eventQueue_,i,s)}function oM(n){return n.nextWriteId_++}function vL(n,e,t,i,r){Ry(n,"set",{path:e.toString(),value:t,priority:i});const s=Lx(n),l=fr(t,i),u=eM(n.serverSyncTree_,e),m=dL(l,u,s),_=oM(n),b=iL(n.serverSyncTree_,e,m,_,!0);sM(n.eventQueue_,b),n.server_.put(e.toString(),l.val(!0),(A,F)=>{const z="ok"===A;z||eo("set at "+e+" failed: "+A);const te=mm(n.serverSyncTree_,_,!z);Ra(n.eventQueue_,e,te),pm(0,r,A,F)});const I=wL(n,e);Oy(n,I),Ra(n.eventQueue_,I,[])}function Yre(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&jF(n.onDisconnect_,e),pm(0,t,i,r)})}function YG(n,e,t,i){const r=fr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&Ty(n.onDisconnect_,e,r),pm(0,i,s,l)})}function yL(n,e,t){let i;i=".info"===Sn(e._path)?JT(n.infoSyncTree_,e,t):JT(n.serverSyncTree_,e,t),zG(n.eventQueue_,e._path,i)}function ZG(n){n.persistentConnection_&&n.persistentConnection_.interrupt($G)}function Ry(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),bs(t,...e)}function pm(n,e,t,i){e&&Ey(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function bL(n,e,t){return eM(n.serverSyncTree_,e,t)||bn.EMPTY_NODE}function aM(n,e=n.transactionQueueTree_){if(e||lM(n,e),Pg(e)){const t=XG(n,e);(0,H.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function tse(n,e,t){const i=t.map(_=>_.currentWriteId),r=bL(n,e,i);let s=r;const l=r.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,H.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const I=xo(e,b.path);s=s.updateChild(I,b.currentOutputSnapshotRaw)}const u=s.val(!0),m=e;n.server_.put(m.toString(),u,_=>{Ry(n,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const I=[];for(let A=0;A<t.length;A++)t[A].status=2,b=b.concat(mm(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&I.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();lM(n,nM(n.transactionQueueTree_,e)),aM(n,n.transactionQueueTree_),Ra(n.eventQueue_,e,b);for(let A=0;A<I.length;A++)Ey(I[A])}else{if("datastale"===_)for(let I=0;I<t.length;I++)t[I].status=3===t[I].status?4:0;else{eo("transaction at "+m.toString()+" failed: "+_);for(let I=0;I<t.length;I++)t[I].status=4,t[I].abortReason=_}Oy(n,e)}},l)}(n,Rx(e),t)}else BG(e)&&iM(e,t=>{aM(n,t)})}function Oy(n,e){const t=QG(n,e),i=Rx(t);return function nse(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const m=e[u],_=xo(t,m.path);let I,b=!1;if((0,H.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,I=m.abortReason,r=r.concat(mm(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=jre)b=!0,I="maxretry",r=r.concat(mm(n.serverSyncTree_,m.currentWriteId,!0));else{const A=bL(n,m.path,l);m.currentInputSnapshot=A;const F=e[u].update(A.val());if(void 0!==F){Px("transaction failed: Data returned ",F,m.path);let z=fr(F);"object"==typeof F&&null!=F&&(0,H.r3)(F,".priority")||(z=z.updatePriority(A.getPriority()));const ae=m.currentWriteId,je=Lx(n),Qe=dL(z,A,je);m.currentOutputSnapshotRaw=z,m.currentOutputSnapshotResolved=Qe,m.currentWriteId=oM(n),l.splice(l.indexOf(ae),1),r=r.concat(iL(n.serverSyncTree_,m.path,Qe,m.currentWriteId,m.applyLocally)),r=r.concat(mm(n.serverSyncTree_,ae,!0))}else b=!0,I="nodata",r=r.concat(mm(n.serverSyncTree_,m.currentWriteId,!0))}Ra(n.eventQueue_,t,r),r=[],b&&(e[u].status=2,setTimeout(e[u].unwatcher,Math.floor(0)),e[u].onComplete&&i.push("nodata"===I?()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot):()=>e[u].onComplete(new Error(I),!1,null)))}lM(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Ey(i[u]);aM(n,n.transactionQueueTree_)}(n,XG(n,t),i),i}function QG(n,e){let t,i=n.transactionQueueTree_;for(t=Sn(e);null!==t&&void 0===Pg(i);)i=nM(i,t),t=Sn(e=Ii(e));return i}function XG(n,e){const t=[];return JG(n,e,t),t.sort((i,r)=>i.order-r.order),t}function JG(n,e,t){const i=Pg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);iM(e,r=>{JG(n,r,t)})}function lM(n,e){const t=Pg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,fL(e,t.length>0?t:void 0)}iM(e,i=>{lM(n,i)})}function wL(n,e){const t=Rx(QG(n,e)),i=nM(n.transactionQueueTree_,e);return function Ore(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{xL(n,r)}),xL(n,i),VG(i,r=>{xL(n,r)}),t}function xL(n,e){const t=Pg(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,H.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,H.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(mm(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?fL(e,void 0):t.length=s+1,Ra(n.eventQueue_,Rx(e),r);for(let l=0;l<i.length;l++)Ey(i[l])}}const EL=function(n,e){const t=sse(n),i=t.namespace;return"firebase.com"===t.domain&&bd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&bd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&eo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new IF(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ni(t.pathString)}},sse=function(n){let e="",t="",i="",r="",s="",l=!0,u="https",m=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(u=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),e=n.substring(0,Math.min(b,I)),b<I&&(r=function ise(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,I)));const A=function rse(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):eo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,I)));_=e.indexOf(":"),_>=0?(l="https"===u||"wss"===u,m=parseInt(e.substring(_+1),10)):_=e.length;const F=e.slice(0,_);if("localhost"===F.toLowerCase())t="localhost";else if(F.split(".").length<=2)t=F;else{const z=e.indexOf(".");i=e.substring(0,z).toLowerCase(),t=e.substring(z+1),s=i}"ns"in A&&(s=A.ns)}return{host:e,port:m,domain:t,subdomain:i,secure:l,scheme:u,pathString:r,namespace:s}},e$="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ose=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=e$.charAt(t%64),t=Math.floor(t/64);(0,H.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=e$.charAt(e[r]);return(0,H.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class t${constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class n${constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class CL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class i${constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new H.BH;return Yre(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){El("OnDisconnect.remove",this._path);const e=new H.BH;return YG(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){El("OnDisconnect.set",this._path),xd("OnDisconnect.set",e,this._path,!1);const t=new H.BH;return YG(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){El("OnDisconnect.setWithPriority",this._path),xd("OnDisconnect.setWithPriority",e,this._path,!1),gL("OnDisconnect.setWithPriority",t,!1);const i=new H.BH;return function Zre(n,e,t,i,r){const s=fr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,u)=>{"ok"===l&&Ty(n.onDisconnect_,e,s),pm(0,r,l,u)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){El("OnDisconnect.update",this._path),HG("OnDisconnect.update",e,this._path,!1);const t=new H.BH;return function Qre(n,e,t,i){if((0,H.xb)(t))return bs("onDisconnect().update() called with empty data.  Don't do anything."),void pm(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&ws(t,(l,u)=>{const m=fr(u);Ty(n.onDisconnect_,rr(e,l),m)}),pm(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Qo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Tn(this._path)?null:kF(this._path)}get ref(){return new Cl(this._repo,this._path)}get _queryIdentifier(){const e=aG(this._queryParams),t=EF(e);return"{}"===t?"default":t}get _queryObject(){return aG(this._queryParams)}isEqual(e){if(!((e=(0,H.m9)(e))instanceof Qo))return!1;const t=this._repo===e._repo,i=RF(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qne(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function cM(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function gm(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===wd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==am)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Gu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Ni){if(null!=e&&!Ox(e)||null!=t&&!Ox(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof LF||n.getIndex()===BF,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cl extends Qo{constructor(e,t){super(e,t,new VT,!1)}get parent(){const e=Y4(this._path);return null===e?null:new Cl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ng{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ni(e),i=Fg(this.ref,e);return new Ng(this._node.getChild(t),i,Ni)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Ng(r,Fg(this.ref,i),Ni)))}hasChild(e){const t=new ni(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function r$(n,e){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==e?Fg(n._root,e):n._root}function s$(n,e){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const t=EL(e,n._repo.repoInfo_.nodeAdmin);jG("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&bd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),r$(n,t.path.toString())}function Fg(n,e){return null===Sn((n=(0,H.m9)(n))._path)?Vre("child","path",e,!1):Fx("child","path",e,!1),new Cl(n._repo,rr(n._path,e))}function IL(n,e){n=(0,H.m9)(n),El("set",n._path),xd("set",e,n._path,!1);const t=new H.BH;return vL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function use(n,e){HG("update",e,n._path,!1);const t=new H.BH;return function qre(n,e,t,i){Ry(n,"update",{path:e.toString(),value:t});let r=!0;const s=Lx(n),l={};if(ws(t,(u,m)=>{r=!1,l[u]=LG(rr(e,u),fr(m),n.serverSyncTree_,s)}),r)bs("update() called with empty data.  Don't do anything."),pm(0,i,"ok",void 0);else{const u=oM(n),m=function yre(n,e,t,i){!function Fie(n,e,t,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=KF(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Fi.fromObject(t);return ky(n,new My({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,u);sM(n.eventQueue_,m),n.server_.merge(e.toString(),t,(_,b)=>{const I="ok"===_;I||eo("update at "+e+" failed: "+_);const A=mm(n.serverSyncTree_,u,!I),F=A.length>0?Oy(n,e):e;Ra(n.eventQueue_,F,A),pm(0,i,_,b)}),ws(t,_=>{const b=wL(n,rr(e,_));Oy(n,b)}),Ra(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function hse(n){n=(0,H.m9)(n);const e=new CL(()=>{}),t=new Bx(e);return function Wre(n,e,t){const i=function Cre(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,b)=>{const I=xo(_,t);i=i||hm(b,I)});let r=n.syncPointTree_.get(t);r?i=i||hm(r,qn()):(r=new DG,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new dm(i,!0,!1):null;return function are(n){return $T(n.viewCache_)}(SG(r,e,WT(n.pendingWriteTree_,e._path),s?l.getNode():bn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=fr(r).withIndex(e._queryParams.getIndex());let l;if(rL(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=Mx(n.serverSyncTree_,e._path,s);else{const u=Ax(n.serverSyncTree_,e);l=RG(n.serverSyncTree_,e._path,s,u)}return Ra(n.eventQueue_,e._path,l),JT(n.serverSyncTree_,e,t,null,!0),s},r=>(Ry(n,"get for query "+(0,H.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Ng(i,new Cl(n._repo,n._path),n._queryParams.getIndex()))}class Bx{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new t$("value",this,new Ng(e.snapshotNode,new Cl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new n$(this,e,t):null}matches(e){return e instanceof Bx&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new n$(this,e,t):null}createEvent(e,t){(0,H.hu)(null!=e.childName,"Child events should have a childName.");const i=Fg(new Cl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new t$(e.type,this,new Ng(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vx(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const m=t,_=(b,I)=>{yL(n._repo,n,u),m(b,I)};_.userCallback=t.userCallback,_.context=t.context,t=_}const l=new CL(t,s||void 0),u="value"===e?new Bx(l):new uM(e,l);return function Xre(n,e,t){let i;i=".info"===Sn(e._path)?rL(n.infoSyncTree_,e,t):rL(n.serverSyncTree_,e,t),zG(n.eventQueue_,e._path,i)}(n._repo,n,u),()=>yL(n._repo,n,u)}function DL(n,e,t,i){return Vx(n,"value",e,t,i)}function o$(n,e,t,i){return Vx(n,"child_added",e,t,i)}function a$(n,e,t,i){return Vx(n,"child_changed",e,t,i)}function l$(n,e,t,i){return Vx(n,"child_moved",e,t,i)}function c$(n,e,t,i){return Vx(n,"child_removed",e,t,i)}function d$(n,e,t){let i=null;const r=t?new CL(t):null;"value"===e?i=new Bx(r):e&&(i=new uM(e,r)),yL(n._repo,n,i)}class mc{}class u$ extends mc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("endAt",this._value,e._path,!0);const t=HF(e._queryParams,this._value,this._key);if(dM(t),gm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class mse extends mc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("endBefore",this._value,e._path,!1);const t=function Eie(n,e,t){let i;return i=HF(n,e,n.index_===wd||t?t:am),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(dM(t),gm(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class h$ extends mc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("startAt",this._value,e._path,!0);const t=UF(e._queryParams,this._value,this._key);if(dM(t),gm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class _se extends mc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("startAfter",this._value,e._path,!1);const t=function xie(n,e,t){let i;return i=UF(n,e,n.index_===wd||t?t:Gu),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(dM(t),gm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class yse extends mc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(e._repo,e._path,function bie(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class wse extends mc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(e._repo,e._path,function wie(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Ese extends mc{constructor(e){super(),this._path=e}_apply(e){cM(e,"orderByChild");const t=new ni(this._path);if(Tn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new LF(t),r=UT(e._queryParams,i);return gm(r),new Qo(e._repo,e._path,r,!0)}}class Ise extends mc{_apply(e){cM(e,"orderByKey");const t=UT(e._queryParams,wd);return gm(t),new Qo(e._repo,e._path,t,!0)}}class Sse extends mc{_apply(e){cM(e,"orderByPriority");const t=UT(e._queryParams,Ni);return gm(t),new Qo(e._repo,e._path,t,!0)}}class Mse extends mc{_apply(e){cM(e,"orderByValue");const t=UT(e._queryParams,BF);return gm(t),new Qo(e._repo,e._path,t,!0)}}class kse extends mc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(xd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new u$(this._value,this._key)._apply(new h$(this._value,this._key)._apply(e))}}function pc(n,...e){let t=(0,H.m9)(n);for(const i of e)t=i._apply(t);return t}(function ure(n){(0,H.hu)(!ZT,"__referenceConstructor has already been defined"),ZT=n})(Cl),function gre(n){(0,H.hu)(!XT,"__referenceConstructor has already been defined"),XT=n}(Cl);const Ose="FIREBASE_DATABASE_EMULATOR_HOST",SL={};let f$=!1;function m$(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||bd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,_,l=EL(s,r),u=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env[Ose]),_?(m=!0,s=`http://${_}?ns=${u.namespace}`,l=EL(s,r),u=l.repoInfo):m=!l.repoInfo.secure;const b=r&&m?new _x(_x.OWNER):new Dne(n.name,n.options,e);jG("Invalid Firebase Database URL",l),Tn(l.path)||bd("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function Fse(n,e,t,i){let r=SL[e.name];r||(r={},SL[e.name]=r);let s=r[n.toURLString()];return s&&bd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new zre(n,f$,t,i),r[n.toURLString()]=s,s}(u,n,b,new Ine(n.name,t));return new Bse(I,n)}class Bse{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Gre(n,e,t){if(n.stats_=TF(n.repoInfo_),n.forceRestClient_||Cne())n.server_=new HT(n.repoInfo_,(i,r,s,l)=>{qG(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>KG(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ag(n.repoInfo_,e,(i,r,s,l)=>{qG(n,i,r,s,l)},i=>{KG(n,i)},i=>{!function $re(n,e){ws(e,(t,i)=>{_L(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Mne(n,e){const t=n.toString();return SF[t]||(SF[t]=e()),SF[t]}(n.repoInfo_,()=>new Mie(n.stats_,n.server_)),n.infoData_=new Cie,n.infoSyncTree_=new kG({startListening:(i,r,s,l)=>{let u=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(u=Mx(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),_L(n,"connected",!1),n.serverSyncTree_=new kG({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(u,m)=>{const _=l(u,m);Ra(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cl(this._repo,qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Nse(n,e){const t=SL[e];(!t||t[n.key]!==n)&&bd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),ZG(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&bd("Cannot call "+e+" on a deleted database.")}}function p$(){L4.IS_TRANSPORT_INITIALIZED&&eo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Vse(){p$(),lm.forceDisallow()}function Use(){p$(),Cy.forceDisallow(),lm.forceAllow()}function zse(n,e){_4(n,e)}const $se={".sv":"timestamp"};class Kse{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ag.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ag.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Gse(n){h4(_o.SDK_VERSION),(0,_o._registerComponent)(new lc.wA("database",(e,{instanceIdentifier:t})=>m$(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(d4,"0.14.4",n),(0,_o.registerVersion)(d4,"0.14.4","esm2017")}();const Xse=new ac.Yd("@firebase/database-compat"),_$=function(n){Xse.warn("FIREBASE WARNING: "+n)};class toe{constructor(e){this._delegate=e}cancel(e){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,_$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class noe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _m{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Fx("DataSnapshot.child","path",e,!1),new _m(this._database,this._delegate.child(e))}hasChild(e){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Fx("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new _m(this._database,t)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new Oa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ls{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",t,!1);const l=Ls.getCancelAndContextArgs_("Query.on",i,r),u=(_,b)=>{t.call(l.context,new _m(this.database,_),b)};u.userCallback=t,u.context=l.context;const m=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return DL(this._delegate,u,m),t;case"child_added":return o$(this._delegate,u,m),t;case"child_removed":return c$(this._delegate,u,m),t;case"child_changed":return a$(this._delegate,u,m),t;case"child_moved":return l$(this._delegate,u,m),t;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,H.Wj)("Query.off","callback",t,!0),(0,H.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,d$(this._delegate,e,r)}else d$(this._delegate,e)}get(){return hse(this._delegate).then(e=>new _m(this.database,e))}once(e,t,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",t,!0);const s=Ls.getCancelAndContextArgs_("Query.once",i,r),l=new H.BH,u=(_,b)=>{const I=new _m(this.database,_);t&&t.call(s.context,I,b),l.resolve(I)};u.userCallback=t,u.context=s.context;const m=_=>{s.cancel&&s.cancel.call(s.context,_),l.reject(_)};switch(e){case"value":DL(this._delegate,u,m,{onlyOnce:!0});break;case"child_added":o$(this._delegate,u,m,{onlyOnce:!0});break;case"child_removed":c$(this._delegate,u,m,{onlyOnce:!0});break;case"child_changed":a$(this._delegate,u,m,{onlyOnce:!0});break;case"child_moved":l$(this._delegate,u,m,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new Ls(this.database,pc(this._delegate,function bse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yse(n)}(e)))}limitToLast(e){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new Ls(this.database,pc(this._delegate,function xse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wse(n)}(e)))}orderByChild(e){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new Ls(this.database,pc(this._delegate,function Cse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fx("orderByChild","path",n,!1),new Ese(n)}(e)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new Ls(this.database,pc(this._delegate,function Dse(){return new Ise}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new Ls(this.database,pc(this._delegate,function Tse(){return new Sse}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new Ls(this.database,pc(this._delegate,function Ase(){return new Mse}()))}startAt(e=null,t){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new Ls(this.database,pc(this._delegate,function gse(n=null,e){return Nx("startAt","key",e,!0),new h$(n,e)}(e,t)))}startAfter(e=null,t){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new Ls(this.database,pc(this._delegate,function vse(n,e){return Nx("startAfter","key",e,!0),new _se(n,e)}(e,t)))}endAt(e=null,t){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new Ls(this.database,pc(this._delegate,function fse(n,e){return Nx("endAt","key",e,!0),new u$(n,e)}(e,t)))}endBefore(e=null,t){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new Ls(this.database,pc(this._delegate,function pse(n,e){return Nx("endBefore","key",e,!0),new mse(n,e)}(e,t)))}equalTo(e,t){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new Ls(this.database,pc(this._delegate,function Rse(n,e){return Nx("equalTo","key",e,!0),new kse(n,e)}(e,t)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ls))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,H.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,H.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Oa(this.database,new Cl(this._delegate._repo,this._delegate._path))}}class Oa extends Ls{constructor(e,t){super(e,new Qo(t._repo,t._path,new VT,!1)),this.database=e,this._delegate=t}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Oa(this.database,Fg(this._delegate,e))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Oa(this.database,e):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new Oa(this.database,this._delegate.root)}set(e,t){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",t,!0);const i=IL(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,_$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}El("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",t,!0);const i=use(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function dse(n,e,t){if(El("setWithPriority",n._path),xd("setWithPriority",e,n._path,!1),gL("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return vL(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",e,!0);const t=function lse(n){return El("remove",n._path),IL(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,H.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Yse(n,e,t){var i;if(n=(0,H.m9)(n),El("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new H.BH,u=DL(n,()=>{});return function ese(n,e,t,i,r,s){Ry(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:m4(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=bL(n,e,void 0);l.currentInputSnapshot=u;const m=l.update(u.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Px("transaction failed: Data returned ",m,l.path),l.status=0;const _=nM(n.transactionQueueTree_,e),b=Pg(_)||[];let I;b.push(l),fL(_,b),"object"==typeof m&&null!==m&&(0,H.r3)(m,".priority")?(I=(0,H.DV)(m,".priority"),(0,H.hu)(Ox(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(eM(n.serverSyncTree_,e)||bn.EMPTY_NODE).getPriority().val();const A=Lx(n),F=fr(m,I),z=dL(F,u,A);l.currentOutputSnapshotRaw=F,l.currentOutputSnapshotResolved=z,l.currentWriteId=oM(n);const te=iL(n.serverSyncTree_,e,z,l.currentWriteId,l.applyLocally);Ra(n.eventQueue_,e,te),aM(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,_,b)=>{let I=null;m?s.reject(m):(I=new Ng(b,new Cl(n._repo,n._path),Ni),s.resolve(new Kse(_,I)))},u,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new noe(s.committed,new _m(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",t,!0);const i=function cse(n,e){n=(0,H.m9)(n),El("setPriority",n._path),gL("setPriority",e,!1);const t=new H.BH;return vL(n._repo,rr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",t,!0);const i=function ase(n,e){n=(0,H.m9)(n),El("push",n._path),xd("push",e,n._path,!0);const t=WG(n._repo),i=ose(t),r=Fg(n,i),s=Fg(n,i);let l;return l=null!=e?IL(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Oa(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Oa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return El("Reference.onDisconnect",this._delegate._path),new toe(new i$(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ux{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Vse,forceLongPolling:Use}}useEmulator(e,t,i={}){!function g$(n,e,t,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&bd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&bd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _x(_x.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);s=new _x(l)}!function Pse(n,e,t,i){n.repoInfo_=new IF(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,H.Dv)("database.ref",0,1,arguments.length),e instanceof Oa){const t=s$(this._delegate,e.toString());return new Oa(this,t)}{const t=r$(this._delegate,e);return new Oa(this,t)}}refFromURL(e){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=s$(this._delegate,e);return new Oa(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function Hse(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),ZG(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function jse(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function Jre(n){n.persistentConnection_&&n.persistentConnection_.resume($G)}(n._repo)}(this._delegate)}}Ux.ServerValue={TIMESTAMP:function Wse(){return $se}(),increment:n=>function qse(n){return{".sv":{increment:n}}}(n)};var roe=Object.freeze({__proto__:null,initStandalone:function ioe({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){h4(t);const l=new lc.zt("auth-internal",new lc.H0("database-standalone"));return l.setComponent(new lc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ux(m$(n,l,void 0,e,s),n),namespace:r}}});const soe=Ux.ServerValue;function v$(n){return null==n}function y$(n){return"function"==typeof n.set}function b$(n,e){return y$(e)?e:n.ref(e)}function w$(n,e){if(function aoe(n){return"string"==typeof n}(n))return e.stringCase();if(y$(n))return e.firebaseCase();if(function loe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Hx(n,e,t="on",i=ad.z){return new Ji.y(r=>{let s=null;return s=n[t](e,(l,u)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,vt.U)(r=>{const{snapshot:s,prevKey:l}=r;let u=null;return s.exists()&&(u=s.key),{type:e,payload:s,prevKey:l,key:u}}),(0,e1.B)())}function x$(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function uoe(n,e){const{payload:t,prevKey:i,key:r}=e,s=x$(n,r),l=function doe(n,e){if(v$(e))return 0;{const t=x$(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let u=null;e.payload.forEach(m=>{const _={payload:m,type:"value",prevKey:u,key:m.key};return u=m.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(u=>u.payload.key!==t.key);case"child_changed":return n.map(u=>u.payload.key===r?e:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,u),n}return n;default:return n}}function E$(n){return(v$(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function C$(n,e,t){return function coe(n,e,t){return Hx(n,"value","once",t).pipe((0,ki.w)(i=>{const r=[(0,gt.of)(i)];return e.forEach(s=>r.push(Hx(n,s,"on",t))),(0,_l.T)(...r).pipe((0,pu.R)(uoe,[]))}),(0,Yp.x)())}(n,e=E$(e),t)}function I$(n,e,t){const i=(e=E$(e)).map(r=>Hx(n,r,"on",t));return(0,_l.T)(...i)}function D$(n,e){return function(i,r){return w$(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function poe(n){return function(t){return t?w$(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function S$(n,e){return function(){return Hx(n,"value","on",e)}}!function ooe(n){n.INTERNAL.registerComponent(new lc.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Ux(r,i)},"PUBLIC").setServiceProps({Reference:Oa,Query:Ls,Database:Ux,DataSnapshot:_m,enableLogging:zse,INTERNAL:roe,ServerValue:soe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(T1.Z);const voe=new o.OlP("angularfire2.realtimeDatabaseURL"),yoe=new o.OlP("angularfire2.database.use-emulator");let boe=(()=>{class n{constructor(t,i,r,s,l,u,m,_,b,I,A,F,z,te,ae){this.schedulers=u;const je=m,Qe=(0,Zr.on)(t,l,i);_&&uF(Qe,l,b,A,F,z,I,te),this.database=(0,Zr.cc)(`${Qe.name}.database.${r}`,"AngularFireDatabase",Qe.name,()=>{const Je=l.runOutsideAngular(()=>Qe.database(r||void 0));return je&&Je.useEmulator(...je),Je},[je])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>b$(this.database,t));let s=r;return i&&(s=i(r)),function goe(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:D$(i,"update"),set:D$(i,"set"),push:r=>i.push(r),remove:poe(i),snapshotChanges:r=>C$(n,r,t).pipe(Xn.iC),stateChanges:r=>I$(n,r,t).pipe(Xn.iC),auditTrail:r=>function hoe(n,e,t){return function moe(n,e,t){return function foe(n,e){return Hx(n,"value","on",e).pipe((0,vt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe((0,une.M)(e),(0,vt.U)(([r,s])=>{const l=r.lastKeyToLoad,u=s.map(m=>m.key);return{actions:s,lastKeyToLoad:l,loadedKeys:u}}),function hne(n){return(0,ss.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Er.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,vt.U)(r=>r.actions))}(n,I$(n,e).pipe((0,pu.R)((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Xn.iC),valueChanges:(r,s)=>C$(n,r,t).pipe((0,vt.U)(u=>u.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),Xn.iC)}}(s,this)}object(t){return function _oe(n,e){return{query:n,snapshotChanges:()=>S$(n,e.schedulers.outsideAngular)().pipe(Xn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>S$(n,e.schedulers.outsideAngular)().pipe(Xn.iC,(0,vt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>b$(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr.Dh),o.LFG(Zr.xv,8),o.LFG(voe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(yoe,8),o.LFG(ST,8),o.LFG(sF,8),o.LFG(oF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(dF,8),o.LFG(hx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),woe=(()=>{class n{constructor(){rF.Z.registerVersion("angularfire",Xn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[boe]}),n})();const T$="firebasestorage.googleapis.com",M$="storageBucket";class mr extends H.ZR{constructor(e,t,i=0){super(TL(e),`Firebase Storage: ${t} (${TL(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Li=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Li||(Li={})),Li))();function TL(n){return"storage/"+n}function ML(){return new mr(Li.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function A$(){return new mr(Li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k$(){return new mr(Li.CANCELED,"User canceled the upload/download.")}function R$(){return new mr(Li.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Py(n){return new mr(Li.INVALID_ARGUMENT,n)}function O$(){return new mr(Li.APP_DELETED,"The Firebase app was deleted.")}function P$(n){return new mr(Li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jx(n,e){return new mr(Li.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function zx(n){throw new mr(Li.INTERNAL_ERROR,"Internal error: "+n)}class to{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=to.makeFromUrl(e,t)}catch{return new to(e,"")}if(""===i.path)return i;throw function koe(n){return new mr(Li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(st){st.path_=decodeURIComponent(st.path)}const I=t.replace(/[.]/g,"\\."),Je=[{regex:u,indices:{bucket:1,path:3},postModify:function s(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===T$?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let st=0;st<Je.length;st++){const Lt=Je[st],$t=Lt.regex.exec(e);if($t){let pr=$t[Lt.indices.path];pr||(pr=""),i=new to($t[Lt.indices.bucket],pr),Lt.postModify(i);break}}if(null==i)throw function Aoe(n){return new mr(Li.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Foe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hM(n){return"string"==typeof n||n instanceof String}function N$(n){return AL()&&n instanceof Blob}function AL(){return typeof Blob<"u"&&!(0,H.UG)()}function kL(n,e,t,i){if(i<e)throw Py(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Py(`Invalid value for '${n}'. Expected ${t} or less.`)}function Wu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function F$(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var vm=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(vm||(vm={})),vm))();function L$(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class joe{constructor(e,t,i,r,s,l,u,m,_,b,I,A=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=I,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,z)=>{this.resolve_=F,this.reject_=z,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(u,u.getResponse());!function Voe(n){return void 0!==n}(m)?s():s(m)}catch(m){l(m)}else if(null!==u){const m=ML();m.serverResponse=u.getErrorText(),l(this.errorCallback_?this.errorCallback_(u,m):m)}else l(r.canceled?this.appDelete_?O$():k$():A$())};this.canceled_?t(0,new fM(!1,null,!0)):this.backoffId_=function Loe(n,e,t){let i=1,r=null,s=null,l=!1,u=0;function m(){return 2===u}let _=!1;function b(...ae){_||(_=!0,e.apply(null,ae))}function I(ae){r=setTimeout(()=>{r=null,n(F,m())},ae)}function A(){s&&clearTimeout(s)}function F(ae,...je){if(_)return void A();if(ae)return A(),void b.call(null,ae,...je);if(m()||l)return A(),void b.call(null,ae,...je);let Je;i<64&&(i*=2),1===u?(u=2,Je=0):Je=1e3*(i+Math.random()),I(Je)}let z=!1;function te(ae){z||(z=!0,A(),!_&&(null!==r?(ae||(u=2),clearTimeout(r),I(0)):ae||(u=1)))}return I(0),s=setTimeout(()=>{l=!0,te(!0)},t),te}((i,r)=>{if(r)return void i(!1,new fM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===vm.NO_ERROR,m=s.getStatus();if(!u||L$(m,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===vm.ABORT;return void i(!1,new fM(!1,null,b))}const _=-1!==this.successCodes_.indexOf(m);i(!0,new fM(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Boe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fM{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Yoe(...n){const e=function Koe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(AL())return new Blob(n);throw new mr(Li.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Pa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RL{constructor(e,t){this.data=e,this.contentType=t||null}}function OL(n,e){switch(n){case Pa.RAW:return new RL(B$(e));case Pa.BASE64:case Pa.BASE64URL:return new RL(V$(n,e));case Pa.DATA_URL:return new RL(function Joe(n){const e=new U$(n);return e.base64?V$(Pa.BASE64,e.rest):function Xoe(n){let e;try{e=decodeURIComponent(n)}catch{throw jx(Pa.DATA_URL,"Malformed data URL.")}return B$(e)}(e.rest)}(e),function eae(n){return new U$(n).contentType}(e))}throw ML()}function B$(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function V$(n,e){switch(n){case Pa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw jx(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Pa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw jx(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Qoe(n){if(typeof atob>"u")throw function Noe(n){return new mr(Li.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:jx(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class U${constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw jx(Pa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function tae(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ed{constructor(e,t){let i=0,r="";N$(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(N$(this.data_)){const r=function Zoe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ed(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ed(i,!0)}}static getBlob(...e){if(AL()){const t=e.map(i=>i instanceof Ed?i.data_:i);return new Ed(Yoe.apply(null,t))}{const t=e.map(l=>hM(l)?OL(Pa.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)r[s++]=l[u]}),new Ed(r,!0)}}uploadData(){return this.data_}}function PL(n){let e;try{e=JSON.parse(n)}catch{return null}return function Hoe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function H$(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function rae(n,e){return e}class Eo{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||rae}}let mM=null;function Gx(){if(mM)return mM;const n=[];n.push(new Eo("bucket")),n.push(new Eo("generation")),n.push(new Eo("metageneration")),n.push(new Eo("name","fullPath",!0));const t=new Eo("name");t.xform=function e(s,l){return function sae(n){return!hM(n)||n.length<2?n:H$(n)}(l)},n.push(t);const r=new Eo("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Eo("timeCreated")),n.push(new Eo("updated")),n.push(new Eo("md5Hash",null,!0)),n.push(new Eo("cacheControl",null,!0)),n.push(new Eo("contentDisposition",null,!0)),n.push(new Eo("contentEncoding",null,!0)),n.push(new Eo("contentLanguage",null,!0)),n.push(new Eo("contentType",null,!0)),n.push(new Eo("metadata","customMetadata",!0)),mM=n,mM}function j$(n,e,t){const i=PL(e);return null===i?null:function aae(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function oae(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new to(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function NL(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const z$="prefixes",G$="items";class Cd{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Id(n){if(!n)throw ML()}function pM(n,e){return function t(i,r){const s=j$(n,r,e);return Id(null!==s),s}}function Ny(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Toe(){return new mr(Li.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Soe(){return new mr(Li.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Doe(n){return new mr(Li.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Moe(n){return new mr(Li.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function $x(n){const e=Ny(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function Ioe(n){return new mr(Li.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function $$(n,e,t){const r=Wu(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,u=new Cd(r,"GET",pM(n,t),l);return u.errorHandler=$x(e),u}function fae(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const u=Wu(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Cd(u,"GET",function uae(n,e){return function t(i,r){const s=function dae(n,e,t){const i=PL(t);return null===i?null:function cae(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[z$])for(const r of t[z$]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new to(e,s));i.prefixes.push(l)}if(t[G$])for(const r of t[G$]){const s=n._makeStorageReference(new to(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Id(null!==s),s}}(n,e.bucket),_);return b.urlParams=s,b.errorHandler=Ny(e),b}function q$(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function _ae(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class gM{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function FL(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Id(!1)}return Id(!!t&&-1!==(e||["active"]).indexOf(t)),t}const wae={STATE_CHANGED:"state_changed"},Co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LL(n){switch(n){case"running":case"pausing":case"canceling":return Co.RUNNING;case"paused":return Co.PAUSED;case"success":return Co.SUCCESS;case"canceled":return Co.CANCELED;default:return Co.ERROR}}class xae{constructor(e,t,i){if(function Uoe(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Fy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Z$=null;class Eae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vm.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vm.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vm.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw zx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Cae extends Eae{initXhr(){this.xhr_.responseType="text"}}function gc(){return Z$?Z$():new Cae}class Q${constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Gx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Li.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(L$(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=A$()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Li.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function vae(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=q$(e,i,r),u={name:l.fullPath},m=Wu(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},I=NL(l,t),z=new Cd(m,"POST",function F(te){let ae;FL(te);try{ae=te.getResponseHeader("X-Goog-Upload-URL")}catch{Id(!1)}return Id(hM(ae)),ae},n.maxUploadRetryTime);return z.urlParams=u,z.headers=b,z.body=I,z.errorHandler=Ny(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function yae(n,e,t,i){const m=new Cd(t,"POST",function s(_){const b=FL(_,["active","final"]);let I=null;try{I=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Id(!1)}I||Id(!1);const A=Number(I);return Id(!isNaN(A)),new gM(A,i.size(),"final"===b)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Ny(e),m}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,gc,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new gM(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function bae(n,e,t,i,r,s,l,u){const m=new gM(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw function Ooe(){return new mr(Li.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=m.total-m.current;let b=_;r>0&&(b=Math.min(b,r));const I=m.current;let F="";F=0===b?"finalize":_===b?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${m.current}`},te=i.slice(I,I+b);if(null===te)throw R$();const Je=new Cd(t,"POST",function ae(st,Lt){const $t=FL(st,["active","final"]),Pn=m.current+b,pr=i.size();let no;return no="final"===$t?pM(e,s)(st,Lt):null,new gM(Pn,pr,"final"===$t,no)},e.maxUploadRetryTime);return Je.headers=z,Je.body=te.uploadData(),Je.progressCallback=u||null,Je.errorHandler=Ny(n),Je}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const u=this._ref.storage._makeRequest(l,gc,r,s,!1);this._request=u,u.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=$$(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,gc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function K$(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function u(){let Je="";for(let st=0;st<2;st++)Je+=Math.random().toString().slice(2);return Je}();l["Content-Type"]="multipart/related; boundary="+m;const _=q$(e,i,r),b=NL(_,t),F=Ed.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+m+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===F)throw R$();const z={name:_.fullPath},te=Wu(s,n.host,n._protocol),je=n.maxUploadRetryTime,Qe=new Cd(te,"POST",pM(n,t),je);return Qe.urlParams=z,Qe.headers=l,Qe.body=F.uploadData(),Qe.errorHandler=Ny(e),Qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=k$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=LL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new xae(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(LL(this._state)){case Co.SUCCESS:Fy(this._resolve.bind(null,this.snapshot))();break;case Co.CANCELED:case Co.ERROR:Fy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(LL(this._state)){case Co.RUNNING:case Co.PAUSED:e.next&&Fy(e.next.bind(e,this.snapshot))();break;case Co.SUCCESS:e.complete&&Fy(e.complete.bind(e))();break;default:e.error&&Fy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Lg{constructor(e,t){this._service=e,this._location=t instanceof to?t:to.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lg(e,t)}get root(){const e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H$(this._location.path)}get storage(){return this._service}get parent(){const e=function nae(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new to(this._location.bucket,e);return new Lg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw P$(e)}}function J$(n,e,t){return BL.apply(this,arguments)}function BL(){return BL=(0,Oe.Z)(function*(n,e,t){const r=yield e5(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield J$(n,e,r.nextPageToken))}),BL.apply(this,arguments)}function e5(n,e){null!=e&&"number"==typeof e.maxResults&&kL("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=fae(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,gc)}function Fae(n){n._throwIfRoot("getDownloadURL");const e=function mae(n,e,t){const r=Wu(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,u=new Cd(r,"GET",function hae(n,e){return function t(i,r){const s=j$(n,r,e);return Id(null!==s),function lae(n,e,t,i){const r=PL(e);if(null===r||!hM(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(_=>{const I=n.fullPath;return Wu("/b/"+l(n.bucket)+"/o/"+l(I),t,i)+F$({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return u.errorHandler=$x(e),u}(n.storage,n._location,Gx());return n.storage.makeRequestWithTokens(e,gc).then(t=>{if(null===t)throw function Poe(){return new mr(Li.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function t5(n,e){const t=function iae(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new to(n._location.bucket,t);return new Lg(n.storage,i)}function n5(n,e){if(n instanceof VL){const t=n;if(null==t._bucket)throw function Roe(){return new mr(Li.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+M$+"' property when initializing the app?")}();const i=new Lg(t,t._bucket);return null!=e?n5(i,e):i}return void 0!==e?t5(n,e):n}function Uae(n,e){if(e&&function Bae(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof VL)return function Vae(n,e){return new Lg(n,e)}(n,e);throw Py("To use ref(service, url), the first argument must be a Storage instance.")}return n5(n,e)}function r5(n,e){const t=e?.[M$];return null==t?null:to.makeFromBucketSpec(t,n)}class VL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=T$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?to.makeFromBucketSpec(r,this._host):r5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?to.makeFromBucketSpec(this._url,e):r5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Oe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Oe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lg(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Foe(O$());{const l=function qoe(n,e,t,i,r,s,l=!0){const u=F$(n.urlParams),m=n.url+u,_=Object.assign({},n.headers);return function $oe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function zoe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function Goe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function Woe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new joe(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,Oe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const s5="@firebase/storage";function l5(n,e){return Uae(n=(0,H.m9)(n),e)}function Zae(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VL(t,i,r,e,_o.SDK_VERSION)}!function Qae(){(0,_o._registerComponent)(new lc.wA("storage",Zae,"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(s5,"0.11.2",""),(0,_o.registerVersion)(s5,"0.11.2","esm2017")}();class _M{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class d5{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _M(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new _M(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new _M(l,this,this._ref)):{next:t.next?l=>t.next(new _M(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class u5{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new qu(e,this._service))}get items(){return this._delegate.items.map(e=>new qu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class qu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Yae(n,e){return t5(n,e)}(this._delegate,e);return new qu(t,this.storage)}get root(){return new qu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new qu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new d5(function jae(n,e,t){return function kae(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Q$(n,new Ed(e),t)}(n=(0,H.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Pa.RAW,i){this._throwIfRoot("putString");const r=OL(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new d5(new Q$(this._delegate,new Ed(r.data,!0),s),this)}listAll(){return function Wae(n){return function Oae(n){const e={prefixes:[],items:[]};return J$(n,e).then(()=>e)}(n=(0,H.m9)(n))}(this._delegate).then(e=>new u5(e,this.storage))}list(e){return function $ae(n,e){return e5(n=(0,H.m9)(n),e)}(this._delegate,e||void 0).then(t=>new u5(t,this.storage))}getMetadata(){return function zae(n){return function Pae(n){n._throwIfRoot("getMetadata");const e=$$(n.storage,n._location,Gx());return n.storage.makeRequestWithTokens(e,gc)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(e){return function Gae(n,e){return function Nae(n,e){n._throwIfRoot("updateMetadata");const t=function pae(n,e,t,i){const s=Wu(e.fullServerUrl(),n.host,n._protocol),u=NL(t,i),_=n.maxOperationRetryTime,b=new Cd(s,"PATCH",pM(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=u,b.errorHandler=$x(e),b}(n.storage,n._location,e,Gx());return n.storage.makeRequestWithTokens(t,gc)}(n=(0,H.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function qae(n){return Fae(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Kae(n){return function Lae(n){n._throwIfRoot("deleteObject");const e=function gae(n,e){const i=Wu(e.fullServerUrl(),n.host,n._protocol),u=new Cd(i,"DELETE",function l(m,_){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=$x(e),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,gc)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw P$(e)}}class h5{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(f5(e))throw Py("ref() expected a child path but got a URL, use refFromURL instead.");return new qu(l5(this._delegate,e),this)}refFromURL(e){if(!f5(e))throw Py("refFromURL() expected a full URL but got a child path, use ref() instead.");try{to.makeFromUrl(e,this._delegate.host)}catch{throw Py("refFromUrl() expected a valid full URL but got an invalid one.")}return new qu(l5(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function c5(n,e,t,i={}){!function Hae(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function f5(n){return/^[A-Za-z]+:\/\//.test(n)}function tle(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new h5(t,i)}function m5(n){const e=function ile(n){return new Ji.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe((0,Cv.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function vM(n){return{getDownloadURL:()=>(0,gt.of)(void 0).pipe(Xn.fc,(0,ki.w)(()=>n.getDownloadURL()),Xn.iC),getMetadata:()=>(0,gt.of)(void 0).pipe(Xn.fc,(0,ki.w)(()=>n.getMetadata()),Xn.iC),delete:()=>(0,Qn.D)(n.delete()),child:e=>vM(n.child(e)),updateMetadata:e=>(0,Qn.D)(n.updateMetadata(e)),put:(e,t)=>m5(n.put(e,t)),putString:(e,t,i)=>m5(n.putString(e,t,i)),list:e=>(0,Qn.D)(n.list(e)),listAll:()=>(0,Qn.D)(n.listAll())}}!function nle(n){const e={TaskState:Co,TaskEvent:wae,StringFormat:Pa,Storage:h5,Reference:qu};n.INTERNAL.registerComponent(new lc.wA("storage-compat",tle,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(T1.Z);const rle=new o.OlP("angularfire2.storageBucket"),sle=new o.OlP("angularfire2.storage.maxUploadRetryTime"),ole=new o.OlP("angularfire2.storage.maxOperationRetryTime"),ale=new o.OlP("angularfire2.storage.use-emulator");let lle=(()=>{class n{constructor(t,i,r,s,l,u,m,_,b,I){const A=(0,Zr.on)(t,l,i);this.storage=(0,Zr.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const F=l.runOutsideAngular(()=>A.storage(r||void 0)),z=b;return z&&F.useEmulator(...z),m&&F.setMaxUploadRetryTime(m),_&&F.setMaxOperationRetryTime(_),F},[m,_])}ref(t){return vM(this.storage.ref(t))}refFromURL(t){return vM(this.storage.refFromURL(t))}upload(t,i,r){return vM(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr.Dh),o.LFG(Zr.xv,8),o.LFG(rle,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(sle,8),o.LFG(ole,8),o.LFG(ale,8),o.LFG(hx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),dle=(()=>{class n{constructor(){rF.Z.registerVersion("angularfire",Xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[lle],imports:[cle]}),n})();const ule={apiKey:"AIzaSyAdPpQH5iwVufuPLpIoOeCNlnCaF3aOefU",authDomain:"game-apps-e5fcc.firebaseapp.com",projectId:"game-apps-e5fcc",storageBucket:"game-apps-e5fcc.appspot.com",messagingSenderId:"698497390636",appId:"1:698497390636:web:6b7f0c2dfc99e884115989",measurementId:"G-2RY0T555GP",databaseURL:"null"};let hle=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[Zr.hO.initializeApp(ule,"game-apps"),Zr.hO,nte,woe,dle]}),n})();var fle=T(825);let mle=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e,bootstrap:[dne]}),e.\u0275inj=o.cJS({providers:[wy],imports:[du,la,ane,Du,GD,hle,As.Aw.forRoot({}),l4.forRoot([]),fle.FT.instrument({maxAge:50,logOnly:true})]}),n})();(0,o.G48)(),km().bootstrapModule(mle).catch(n=>console.error(n))},1135:(le,Z,T)=>{T.d(Z,{X:()=>V});var o=T(7579);class V extends o.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const G=super._subscribe(J);return!G.closed&&J.next(this._value),G}getValue(){const{hasError:J,thrownError:G,_value:j}=this;if(J)throw G;return this._throwIfClosed(),j}next(J){super.next(this._value=J)}}},9751:(le,Z,T)=>{T.d(Z,{y:()=>re});var o=T(930),V=T(727),O=T(8822),J=T(9635),G=T(2416),j=T(576),ne=T(2806);let re=(()=>{class Q{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Ve=new Q;return Ve.source=this,Ve.operator=Ce,Ve}subscribe(Ce,Ve,We){const ve=function q(Q){return Q&&Q instanceof o.Lv||function W(Q){return Q&&(0,j.m)(Q.next)&&(0,j.m)(Q.error)&&(0,j.m)(Q.complete)}(Q)&&(0,V.Nn)(Q)}(Ce)?Ce:new o.Hp(Ce,Ve,We);return(0,ne.x)(()=>{const{operator:Ie,source:Ne}=this;ve.add(Ie?Ie.call(ve,Ne):Ne?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Ve){Ce.error(Ve)}}forEach(Ce,Ve){return new(Ve=ee(Ve))((We,ve)=>{const Ie=new o.Hp({next:Ne=>{try{Ce(Ne)}catch(Re){ve(Re),Ie.unsubscribe()}},error:ve,complete:We});this.subscribe(Ie)})}_subscribe(Ce){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Ce)}[O.L](){return this}pipe(...Ce){return(0,J.U)(Ce)(this)}toPromise(Ce){return new(Ce=ee(Ce))((Ve,We)=>{let ve;this.subscribe(Ie=>ve=Ie,Ie=>We(Ie),()=>Ve(ve))})}}return Q.create=ye=>new Q(ye),Q})();function ee(Q){var ye;return null!==(ye=Q??G.v.Promise)&&void 0!==ye?ye:Promise}},4707:(le,Z,T)=>{T.d(Z,{t:()=>O});var o=T(7579),V=T(6063);class O extends o.x{constructor(G=1/0,j=1/0,ne=V.l){super(),this._bufferSize=G,this._windowTime=j,this._timestampProvider=ne,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=j===1/0,this._bufferSize=Math.max(1,G),this._windowTime=Math.max(1,j)}next(G){const{isStopped:j,_buffer:ne,_infiniteTimeWindow:re,_timestampProvider:ee,_windowTime:W}=this;j||(ne.push(G),!re&&ne.push(ee.now()+W)),this._trimBuffer(),super.next(G)}_subscribe(G){this._throwIfClosed(),this._trimBuffer();const j=this._innerSubscribe(G),{_infiniteTimeWindow:ne,_buffer:re}=this,ee=re.slice();for(let W=0;W<ee.length&&!G.closed;W+=ne?1:2)G.next(ee[W]);return this._checkFinalizedStatuses(G),j}_trimBuffer(){const{_bufferSize:G,_timestampProvider:j,_buffer:ne,_infiniteTimeWindow:re}=this,ee=(re?1:2)*G;if(G<1/0&&ee<ne.length&&ne.splice(0,ne.length-ee),!re){const W=j.now();let q=0;for(let Q=1;Q<ne.length&&ne[Q]<=W;Q+=2)q=Q;q&&ne.splice(0,q+1)}}}},7579:(le,Z,T)=>{T.d(Z,{x:()=>ne});var o=T(9751),V=T(727);const J=(0,T(3888).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=T(8737),j=T(2806);let ne=(()=>{class ee extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new re(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new J}next(q){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(q)}})}error(q){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:ye,observers:Ce}=this;return Q||ye?V.Lc:(this.currentObservers=null,Ce.push(q),new V.w0(()=>{this.currentObservers=null,(0,G.P)(Ce,q)}))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:ye,isStopped:Ce}=this;Q?q.error(ye):Ce&&q.complete()}asObservable(){const q=new o.y;return q.source=this,q}}return ee.create=(W,q)=>new re(W,q),ee})();class re extends ne{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,W)}error(W){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==Q?Q:V.Lc}}},930:(le,Z,T)=>{T.d(Z,{Hp:()=>We,Lv:()=>Q});var o=T(576),V=T(727),O=T(2416),J=T(7849),G=T(5032);const j=ee("C",void 0,void 0);function ee(Ae,Se,Ue){return{kind:Ae,value:Se,error:Ue}}var W=T(3410),q=T(2806);class Q extends V.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,V.Nn)(Se)&&Se.add(this)):this.destination=Re}static create(Se,Ue,Ke){return new We(Se,Ue,Ke)}next(Se){this.isStopped?Ne(function re(Ae){return ee("N",Ae,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ne(function ne(Ae){return ee("E",void 0,Ae)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ne(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function Ce(Ae,Se){return ye.call(Ae,Se)}class Ve{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(Se)}catch(Ke){ve(Ke)}}error(Se){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(Se)}catch(Ke){ve(Ke)}else ve(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Ue){ve(Ue)}}}class We extends Q{constructor(Se,Ue,Ke){let qe;if(super(),(0,o.m)(Se)||!Se)qe={next:Se??void 0,error:Ue??void 0,complete:Ke??void 0};else{let be;this&&O.v.useDeprecatedNextContext?(be=Object.create(Se),be.unsubscribe=()=>this.unsubscribe(),qe={next:Se.next&&Ce(Se.next,be),error:Se.error&&Ce(Se.error,be),complete:Se.complete&&Ce(Se.complete,be)}):qe=Se}this.destination=new Ve(qe)}}function ve(Ae){O.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ae):(0,J.h)(Ae)}function Ne(Ae,Se){const{onStoppedNotification:Ue}=O.v;Ue&&W.z.setTimeout(()=>Ue(Ae,Se))}const Re={closed:!0,next:G.Z,error:function Ie(Ae){throw Ae},complete:G.Z}},727:(le,Z,T)=>{T.d(Z,{Lc:()=>j,w0:()=>G,Nn:()=>ne});var o=T(576);const O=(0,T(3888).d)(ee=>function(q){ee(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,ye)=>`${ye+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var J=T(8737);class G{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ce of q)Ce.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,o.m)(Q))try{Q()}catch(Ce){W=Ce instanceof O?Ce.errors:[Ce]}const{_finalizers:ye}=this;if(ye){this._finalizers=null;for(const Ce of ye)try{re(Ce)}catch(Ve){W=W??[],Ve instanceof O?W=[...W,...Ve.errors]:W.push(Ve)}}if(W)throw new O(W)}}add(W){var q;if(W&&W!==this)if(this.closed)re(W);else{if(W instanceof G){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,J.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,J.P)(q,W),W instanceof G&&W._removeParent(this)}}G.EMPTY=(()=>{const ee=new G;return ee.closed=!0,ee})();const j=G.EMPTY;function ne(ee){return ee instanceof G||ee&&"closed"in ee&&(0,o.m)(ee.remove)&&(0,o.m)(ee.add)&&(0,o.m)(ee.unsubscribe)}function re(ee){(0,o.m)(ee)?ee():ee.unsubscribe()}},2416:(le,Z,T)=>{T.d(Z,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(le,Z,T)=>{T.d(Z,{E:()=>V});const V=new(T(9751).y)(G=>G.complete())},8996:(le,Z,T)=>{T.d(Z,{D:()=>Se});var o=T(8421),V=T(5363),O=T(9468),j=T(9751),re=T(2202),ee=T(576),W=T(9672);function Q(Ue,Ke){if(!Ue)throw new Error("Iterable cannot be null");return new j.y(qe=>{(0,W.f)(qe,Ke,()=>{const be=Ue[Symbol.asyncIterator]();(0,W.f)(qe,Ke,()=>{be.next().then(ot=>{ot.done?qe.complete():qe.next(ot.value)})},0,!0)})})}var ye=T(3670),Ce=T(8239),Ve=T(1144),We=T(6495),ve=T(2206),Ie=T(4532),Ne=T(3260);function Se(Ue,Ke){return Ke?function Ae(Ue,Ke){if(null!=Ue){if((0,ye.c)(Ue))return function J(Ue,Ke){return(0,o.Xf)(Ue).pipe((0,O.R)(Ke),(0,V.Q)(Ke))}(Ue,Ke);if((0,Ve.z)(Ue))return function ne(Ue,Ke){return new j.y(qe=>{let be=0;return Ke.schedule(function(){be===Ue.length?qe.complete():(qe.next(Ue[be++]),qe.closed||this.schedule())})})}(Ue,Ke);if((0,Ce.t)(Ue))return function G(Ue,Ke){return(0,o.Xf)(Ue).pipe((0,O.R)(Ke),(0,V.Q)(Ke))}(Ue,Ke);if((0,ve.D)(Ue))return Q(Ue,Ke);if((0,We.T)(Ue))return function q(Ue,Ke){return new j.y(qe=>{let be;return(0,W.f)(qe,Ke,()=>{be=Ue[re.h](),(0,W.f)(qe,Ke,()=>{let ot,Tt;try{({value:ot,done:Tt}=be.next())}catch(mt){return void qe.error(mt)}Tt?qe.complete():qe.next(ot)},0,!0)}),()=>(0,ee.m)(be?.return)&&be.return()})}(Ue,Ke);if((0,Ne.L)(Ue))return function Re(Ue,Ke){return Q((0,Ne.Q)(Ue),Ke)}(Ue,Ke)}throw(0,Ie.z)(Ue)}(Ue,Ke):(0,o.Xf)(Ue)}},8421:(le,Z,T)=>{T.d(Z,{Xf:()=>ye});var o=T(7582),V=T(1144),O=T(8239),J=T(9751),G=T(3670),j=T(2206),ne=T(4532),re=T(6495),ee=T(3260),W=T(576),q=T(7849),Q=T(8822);function ye(Ae){if(Ae instanceof J.y)return Ae;if(null!=Ae){if((0,G.c)(Ae))return function Ce(Ae){return new J.y(Se=>{const Ue=Ae[Q.L]();if((0,W.m)(Ue.subscribe))return Ue.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,V.z)(Ae))return function Ve(Ae){return new J.y(Se=>{for(let Ue=0;Ue<Ae.length&&!Se.closed;Ue++)Se.next(Ae[Ue]);Se.complete()})}(Ae);if((0,O.t)(Ae))return function We(Ae){return new J.y(Se=>{Ae.then(Ue=>{Se.closed||(Se.next(Ue),Se.complete())},Ue=>Se.error(Ue)).then(null,q.h)})}(Ae);if((0,j.D)(Ae))return Ie(Ae);if((0,re.T)(Ae))return function ve(Ae){return new J.y(Se=>{for(const Ue of Ae)if(Se.next(Ue),Se.closed)return;Se.complete()})}(Ae);if((0,ee.L)(Ae))return function Ne(Ae){return Ie((0,ee.Q)(Ae))}(Ae)}throw(0,ne.z)(Ae)}function Ie(Ae){return new J.y(Se=>{(function Re(Ae,Se){var Ue,Ke,qe,be;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,o.KL)(Ae);!(Ke=yield Ue.next()).done;)if(Se.next(Ke.value),Se.closed)return}catch(ot){qe={error:ot}}finally{try{Ke&&!Ke.done&&(be=Ue.return)&&(yield be.call(Ue))}finally{if(qe)throw qe.error}}Se.complete()})})(Ae,Se).catch(Ue=>Se.error(Ue))})}},6451:(le,Z,T)=>{T.d(Z,{T:()=>j});var o=T(8189),V=T(8421),O=T(515),J=T(3269),G=T(8996);function j(...ne){const re=(0,J.yG)(ne),ee=(0,J._6)(ne,1/0),W=ne;return W.length?1===W.length?(0,V.Xf)(W[0]):(0,o.J)(ee)((0,G.D)(W,re)):O.E}},9646:(le,Z,T)=>{T.d(Z,{of:()=>O});var o=T(3269),V=T(8996);function O(...J){const G=(0,o.yG)(J);return(0,V.D)(J,G)}},5403:(le,Z,T)=>{T.d(Z,{Q:()=>O,x:()=>V});var o=T(930);function V(J,G,j,ne,re){return new O(J,G,j,ne,re)}class O extends o.Lv{constructor(G,j,ne,re,ee,W){super(G),this.onFinalize=ee,this.shouldUnsubscribe=W,this._next=j?function(q){try{j(q)}catch(Q){G.error(Q)}}:super._next,this._error=re?function(q){try{re(q)}catch(Q){G.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(q){G.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},262:(le,Z,T)=>{T.d(Z,{K:()=>J});var o=T(8421),V=T(5403),O=T(4482);function J(G){return(0,O.e)((j,ne)=>{let W,re=null,ee=!1;re=j.subscribe((0,V.x)(ne,void 0,void 0,q=>{W=(0,o.Xf)(G(q,J(G)(j))),re?(re.unsubscribe(),re=null,W.subscribe(ne)):ee=!0})),ee&&(re.unsubscribe(),re=null,W.subscribe(ne))})}},4351:(le,Z,T)=>{T.d(Z,{b:()=>O});var o=T(5577),V=T(576);function O(J,G){return(0,V.m)(G)?(0,o.z)(J,G,1):(0,o.z)(J,1)}},8372:(le,Z,T)=>{T.d(Z,{b:()=>J});var o=T(4986),V=T(4482),O=T(5403);function J(G,j=o.z){return(0,V.e)((ne,re)=>{let ee=null,W=null,q=null;const Q=()=>{if(ee){ee.unsubscribe(),ee=null;const Ce=W;W=null,re.next(Ce)}};function ye(){const Ce=q+G,Ve=j.now();if(Ve<Ce)return ee=this.schedule(void 0,Ce-Ve),void re.add(ee);Q()}ne.subscribe((0,O.x)(re,Ce=>{W=Ce,q=j.now(),ee||(ee=j.schedule(ye,G),re.add(ee))},()=>{Q(),re.complete()},void 0,()=>{W=ee=null}))})}},1884:(le,Z,T)=>{T.d(Z,{x:()=>J});var o=T(4671),V=T(4482),O=T(5403);function J(j,ne=o.y){return j=j??G,(0,V.e)((re,ee)=>{let W,q=!0;re.subscribe((0,O.x)(ee,Q=>{const ye=ne(Q);(q||!j(W,ye))&&(q=!1,W=ye,ee.next(Q))}))})}function G(j,ne){return j===ne}},9300:(le,Z,T)=>{T.d(Z,{h:()=>O});var o=T(4482),V=T(5403);function O(J,G){return(0,o.e)((j,ne)=>{let re=0;j.subscribe((0,V.x)(ne,ee=>J.call(G,ee,re++)&&ne.next(ee)))})}},4004:(le,Z,T)=>{T.d(Z,{U:()=>O});var o=T(4482),V=T(5403);function O(J,G){return(0,o.e)((j,ne)=>{let re=0;j.subscribe((0,V.x)(ne,ee=>{ne.next(J.call(G,ee,re++))}))})}},8189:(le,Z,T)=>{T.d(Z,{J:()=>O});var o=T(5577),V=T(4671);function O(J=1/0){return(0,o.z)(V.y,J)}},5577:(le,Z,T)=>{T.d(Z,{z:()=>re});var o=T(4004),V=T(8421),O=T(4482),J=T(9672),G=T(5403),ne=T(576);function re(ee,W,q=1/0){return(0,ne.m)(W)?re((Q,ye)=>(0,o.U)((Ce,Ve)=>W(Q,Ce,ye,Ve))((0,V.Xf)(ee(Q,ye))),q):("number"==typeof W&&(q=W),(0,O.e)((Q,ye)=>function j(ee,W,q,Q,ye,Ce,Ve,We){const ve=[];let Ie=0,Ne=0,Re=!1;const Ae=()=>{Re&&!ve.length&&!Ie&&W.complete()},Se=Ke=>Ie<Q?Ue(Ke):ve.push(Ke),Ue=Ke=>{Ce&&W.next(Ke),Ie++;let qe=!1;(0,V.Xf)(q(Ke,Ne++)).subscribe((0,G.x)(W,be=>{ye?.(be),Ce?Se(be):W.next(be)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Ie--;ve.length&&Ie<Q;){const be=ve.shift();Ve?(0,J.f)(W,Ve,()=>Ue(be)):Ue(be)}Ae()}catch(be){W.error(be)}}))};return ee.subscribe((0,G.x)(W,Se,()=>{Re=!0,Ae()})),()=>{We?.()}}(Q,ye,ee,q)))}},5363:(le,Z,T)=>{T.d(Z,{Q:()=>J});var o=T(9672),V=T(4482),O=T(5403);function J(G,j=0){return(0,V.e)((ne,re)=>{ne.subscribe((0,O.x)(re,ee=>(0,o.f)(re,G,()=>re.next(ee),j),()=>(0,o.f)(re,G,()=>re.complete(),j),ee=>(0,o.f)(re,G,()=>re.error(ee),j)))})}},5026:(le,Z,T)=>{T.d(Z,{R:()=>J});var o=T(4482),V=T(5403);function J(G,j){return(0,o.e)(function O(G,j,ne,re,ee){return(W,q)=>{let Q=ne,ye=j,Ce=0;W.subscribe((0,V.x)(q,Ve=>{const We=Ce++;ye=Q?G(ye,Ve,We):(Q=!0,Ve),re&&q.next(ye)},ee&&(()=>{Q&&q.next(ye),q.complete()})))}}(G,j,arguments.length>=2,!0))}},3099:(le,Z,T)=>{T.d(Z,{B:()=>G});var o=T(8421),V=T(7579),O=T(930),J=T(4482);function G(ne={}){const{connector:re=(()=>new V.x),resetOnError:ee=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=ne;return Q=>{let ye,Ce,Ve,We=0,ve=!1,Ie=!1;const Ne=()=>{Ce?.unsubscribe(),Ce=void 0},Re=()=>{Ne(),ye=Ve=void 0,ve=Ie=!1},Ae=()=>{const Se=ye;Re(),Se?.unsubscribe()};return(0,J.e)((Se,Ue)=>{We++,!Ie&&!ve&&Ne();const Ke=Ve=Ve??re();Ue.add(()=>{We--,0===We&&!Ie&&!ve&&(Ce=j(Ae,q))}),Ke.subscribe(Ue),!ye&&We>0&&(ye=new O.Hp({next:qe=>Ke.next(qe),error:qe=>{Ie=!0,Ne(),Ce=j(Re,ee,qe),Ke.error(qe)},complete:()=>{ve=!0,Ne(),Ce=j(Re,W),Ke.complete()}}),(0,o.Xf)(Se).subscribe(ye))})(Q)}}function j(ne,re,...ee){if(!0===re)return void ne();if(!1===re)return;const W=new O.Hp({next:()=>{W.unsubscribe(),ne()}});return(0,o.Xf)(re(...ee)).subscribe(W)}},5684:(le,Z,T)=>{T.d(Z,{T:()=>V});var o=T(9300);function V(O){return(0,o.h)((J,G)=>O<=G)}},9468:(le,Z,T)=>{T.d(Z,{R:()=>V});var o=T(4482);function V(O,J=0){return(0,o.e)((G,j)=>{j.add(O.schedule(()=>G.subscribe(j),J))})}},3900:(le,Z,T)=>{T.d(Z,{w:()=>J});var o=T(8421),V=T(4482),O=T(5403);function J(G,j){return(0,V.e)((ne,re)=>{let ee=null,W=0,q=!1;const Q=()=>q&&!ee&&re.complete();ne.subscribe((0,O.x)(re,ye=>{ee?.unsubscribe();let Ce=0;const Ve=W++;(0,o.Xf)(G(ye,Ve)).subscribe(ee=(0,O.x)(re,We=>re.next(j?j(ye,We,Ve,Ce++):We),()=>{ee=null,Q()}))},()=>{q=!0,Q()}))})}},5698:(le,Z,T)=>{T.d(Z,{q:()=>J});var o=T(515),V=T(4482),O=T(5403);function J(G){return G<=0?()=>o.E:(0,V.e)((j,ne)=>{let re=0;j.subscribe((0,O.x)(ne,ee=>{++re<=G&&(ne.next(ee),G<=re&&ne.complete())}))})}},2722:(le,Z,T)=>{T.d(Z,{R:()=>G});var o=T(4482),V=T(5403),O=T(8421),J=T(5032);function G(j){return(0,o.e)((ne,re)=>{(0,O.Xf)(j).subscribe((0,V.x)(re,()=>re.complete(),J.Z)),!re.closed&&ne.subscribe(re)})}},8505:(le,Z,T)=>{T.d(Z,{b:()=>G});var o=T(576),V=T(4482),O=T(5403),J=T(4671);function G(j,ne,re){const ee=(0,o.m)(j)||ne||re?{next:j,error:ne,complete:re}:j;return ee?(0,V.e)((W,q)=>{var Q;null===(Q=ee.subscribe)||void 0===Q||Q.call(ee);let ye=!0;W.subscribe((0,O.x)(q,Ce=>{var Ve;null===(Ve=ee.next)||void 0===Ve||Ve.call(ee,Ce),q.next(Ce)},()=>{var Ce;ye=!1,null===(Ce=ee.complete)||void 0===Ce||Ce.call(ee),q.complete()},Ce=>{var Ve;ye=!1,null===(Ve=ee.error)||void 0===Ve||Ve.call(ee,Ce),q.error(Ce)},()=>{var Ce,Ve;ye&&(null===(Ce=ee.unsubscribe)||void 0===Ce||Ce.call(ee)),null===(Ve=ee.finalize)||void 0===Ve||Ve.call(ee)}))}):J.y}},7414:(le,Z,T)=>{T.d(Z,{V:()=>ee});var o=T(4986),V=T(1165),O=T(4482),J=T(8421),G=T(3888),j=T(5403),ne=T(9672);const re=(0,G.d)(q=>function(ye=null){q(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ye});function ee(q,Q){const{first:ye,each:Ce,with:Ve=W,scheduler:We=Q??o.z,meta:ve=null}=(0,V.q)(q)?{first:q}:"number"==typeof q?{each:q}:q;if(null==ye&&null==Ce)throw new TypeError("No timeout provided.");return(0,O.e)((Ie,Ne)=>{let Re,Ae,Se=null,Ue=0;const Ke=qe=>{Ae=(0,ne.f)(Ne,We,()=>{try{Re.unsubscribe(),(0,J.Xf)(Ve({meta:ve,lastValue:Se,seen:Ue})).subscribe(Ne)}catch(be){Ne.error(be)}},qe)};Re=Ie.subscribe((0,j.x)(Ne,qe=>{Ae?.unsubscribe(),Ue++,Ne.next(Se=qe),Ce>0&&Ke(Ce)},void 0,void 0,()=>{Ae?.closed||Ae?.unsubscribe(),Se=null})),!Ue&&Ke(null!=ye?"number"==typeof ye?ye:+ye-We.now():Ce)})}function W(q){throw new re(q)}},1365:(le,Z,T)=>{T.d(Z,{M:()=>ne});var o=T(4482),V=T(5403),O=T(8421),J=T(4671),G=T(5032),j=T(3269);function ne(...re){const ee=(0,j.jO)(re);return(0,o.e)((W,q)=>{const Q=re.length,ye=new Array(Q);let Ce=re.map(()=>!1),Ve=!1;for(let We=0;We<Q;We++)(0,O.Xf)(re[We]).subscribe((0,V.x)(q,ve=>{ye[We]=ve,!Ve&&!Ce[We]&&(Ce[We]=!0,(Ve=Ce.every(J.y))&&(Ce=null))},G.Z));W.subscribe((0,V.x)(q,We=>{if(Ve){const ve=[We,...ye];q.next(ee?ee(...ve):ve)}}))})}},4408:(le,Z,T)=>{T.d(Z,{o:()=>G});var o=T(727);class V extends o.w0{constructor(ne,re){super()}schedule(ne,re=0){return this}}const O={setInterval(j,ne,...re){const{delegate:ee}=O;return ee?.setInterval?ee.setInterval(j,ne,...re):setInterval(j,ne,...re)},clearInterval(j){const{delegate:ne}=O;return(ne?.clearInterval||clearInterval)(j)},delegate:void 0};var J=T(8737);class G extends V{constructor(ne,re){super(ne,re),this.scheduler=ne,this.work=re,this.pending=!1}schedule(ne,re=0){var ee;if(this.closed)return this;this.state=ne;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,re)),this.pending=!0,this.delay=re,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(q,this.id,re),this}requestAsyncId(ne,re,ee=0){return O.setInterval(ne.flush.bind(ne,this),ee)}recycleAsyncId(ne,re,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return re;null!=re&&O.clearInterval(re)}execute(ne,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(ne,re);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,re){let W,ee=!1;try{this.work(ne)}catch(q){ee=!0,W=q||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ne,scheduler:re}=this,{actions:ee}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(ee,this),null!=ne&&(this.id=this.recycleAsyncId(re,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(le,Z,T)=>{T.d(Z,{v:()=>O});var o=T(6063);class V{constructor(G,j=V.now){this.schedulerActionCtor=G,this.now=j}schedule(G,j=0,ne){return new this.schedulerActionCtor(this,G).schedule(ne,j)}}V.now=o.l.now;class O extends V{constructor(G,j=V.now){super(G,j),this.actions=[],this._active=!1}flush(G){const{actions:j}=this;if(this._active)return void j.push(G);let ne;this._active=!0;do{if(ne=G.execute(G.state,G.delay))break}while(G=j.shift());if(this._active=!1,ne){for(;G=j.shift();)G.unsubscribe();throw ne}}}},4986:(le,Z,T)=>{T.d(Z,{P:()=>J,z:()=>O});var o=T(4408);const O=new(T(7565).v)(o.o),J=O},6063:(le,Z,T)=>{T.d(Z,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},233:(le,Z,T)=>{T.d(Z,{N:()=>G});var o=T(4408),O=T(7565);const G=new class J extends O.v{}(class V extends o.o{constructor(re,ee){super(re,ee),this.scheduler=re,this.work=ee}schedule(re,ee=0){return ee>0?super.schedule(re,ee):(this.delay=ee,this.state=re,this.scheduler.flush(this),this)}execute(re,ee){return ee>0||this.closed?super.execute(re,ee):this._execute(re,ee)}requestAsyncId(re,ee,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(re,ee,W):(re.flush(this),0)}})},3410:(le,Z,T)=>{T.d(Z,{z:()=>o});const o={setTimeout(V,O,...J){const{delegate:G}=o;return G?.setTimeout?G.setTimeout(V,O,...J):setTimeout(V,O,...J)},clearTimeout(V){const{delegate:O}=o;return(O?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(le,Z,T)=>{T.d(Z,{h:()=>V});const V=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(le,Z,T)=>{T.d(Z,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(le,Z,T)=>{T.d(Z,{_6:()=>j,jO:()=>J,yG:()=>G});var o=T(576),V=T(3532);function O(ne){return ne[ne.length-1]}function J(ne){return(0,o.m)(O(ne))?ne.pop():void 0}function G(ne){return(0,V.K)(O(ne))?ne.pop():void 0}function j(ne,re){return"number"==typeof O(ne)?ne.pop():re}},8737:(le,Z,T)=>{function o(V,O){if(V){const J=V.indexOf(O);0<=J&&V.splice(J,1)}}T.d(Z,{P:()=>o})},3888:(le,Z,T)=>{function o(V){const J=V(G=>{Error.call(G),G.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}T.d(Z,{d:()=>o})},2806:(le,Z,T)=>{T.d(Z,{O:()=>J,x:()=>O});var o=T(2416);let V=null;function O(G){if(o.v.useDeprecatedSynchronousErrorHandling){const j=!V;if(j&&(V={errorThrown:!1,error:null}),G(),j){const{errorThrown:ne,error:re}=V;if(V=null,ne)throw re}}else G()}function J(G){o.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=G)}},9672:(le,Z,T)=>{function o(V,O,J,G=0,j=!1){const ne=O.schedule(function(){J(),j?V.add(this.schedule(null,G)):this.unsubscribe()},G);if(V.add(ne),!j)return ne}T.d(Z,{f:()=>o})},4671:(le,Z,T)=>{function o(V){return V}T.d(Z,{y:()=>o})},1144:(le,Z,T)=>{T.d(Z,{z:()=>o});const o=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(le,Z,T)=>{T.d(Z,{D:()=>V});var o=T(576);function V(O){return Symbol.asyncIterator&&(0,o.m)(O?.[Symbol.asyncIterator])}},1165:(le,Z,T)=>{function o(V){return V instanceof Date&&!isNaN(V)}T.d(Z,{q:()=>o})},576:(le,Z,T)=>{function o(V){return"function"==typeof V}T.d(Z,{m:()=>o})},3670:(le,Z,T)=>{T.d(Z,{c:()=>O});var o=T(8822),V=T(576);function O(J){return(0,V.m)(J[o.L])}},6495:(le,Z,T)=>{T.d(Z,{T:()=>O});var o=T(2202),V=T(576);function O(J){return(0,V.m)(J?.[o.h])}},8239:(le,Z,T)=>{T.d(Z,{t:()=>V});var o=T(576);function V(O){return(0,o.m)(O?.then)}},3260:(le,Z,T)=>{T.d(Z,{L:()=>J,Q:()=>O});var o=T(7582),V=T(576);function O(G){return(0,o.FC)(this,arguments,function*(){const ne=G.getReader();try{for(;;){const{value:re,done:ee}=yield(0,o.qq)(ne.read());if(ee)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(re)}}finally{ne.releaseLock()}})}function J(G){return(0,V.m)(G?.getReader)}},3532:(le,Z,T)=>{T.d(Z,{K:()=>V});var o=T(576);function V(O){return O&&(0,o.m)(O.schedule)}},4482:(le,Z,T)=>{T.d(Z,{A:()=>V,e:()=>O});var o=T(576);function V(J){return(0,o.m)(J?.lift)}function O(J){return G=>{if(V(G))return G.lift(function(j){try{return J(j,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(le,Z,T)=>{function o(){}T.d(Z,{Z:()=>o})},9635:(le,Z,T)=>{T.d(Z,{U:()=>O,z:()=>V});var o=T(4671);function V(...J){return O(J)}function O(J){return 0===J.length?o.y:1===J.length?J[0]:function(j){return J.reduce((ne,re)=>re(ne),j)}}},7849:(le,Z,T)=>{T.d(Z,{h:()=>O});var o=T(2416),V=T(3410);function O(J){V.z.setTimeout(()=>{const{onUnhandledError:G}=o.v;if(!G)throw J;G(J)})}},4532:(le,Z,T)=>{function o(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(Z,{z:()=>o})},177:(le,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0});var T=function(){function O(J,G){for(var j=0;j<G.length;j++){var ne=G[j];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(J,ne.key,ne)}}return function(J,G,j){return G&&O(J.prototype,G),j&&O(J,j),J}}(),V=function(){function O(){!function o(O,J){if(!(O instanceof J))throw new TypeError("Cannot call a class as a function")}(this,O)}return T(O,null,[{key:"playerWon",value:function(G,j){return G[0]===j&&G[1]===j&&G[2]===j||G[3]===j&&G[4]===j&&G[5]===j||G[6]===j&&G[7]===j&&G[8]===j||G[0]===j&&G[3]===j&&G[6]===j||G[1]===j&&G[4]===j&&G[7]===j||G[2]===j&&G[5]===j&&G[8]===j||G[0]===j&&G[4]===j&&G[8]===j||G[2]===j&&G[4]===j&&G[6]===j}},{key:"isGameFinished",value:function(G,j){if(!this.isMovesLeft(G,j))return!0;var re=j.aiPlayer;return!(!this.playerWon(G,j.huPlayer)&&!this.playerWon(G,re))}},{key:"getEmptyIndexies",value:function(G,j){var ne=j.huPlayer,re=j.aiPlayer;return G.filter(function(ee){return ee!==ne&&ee!==re})}},{key:"isMovesLeft",value:function(G,j){return 0!==this.getEmptyIndexies(G,j).length}}]),O}();Z.default=V},6769:(le,Z,T)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=function G(j,ne,re){var ee=ne.huPlayer,W=ne.aiPlayer;function Q(ve,Ie){var Ne=function q(){return V.default.playerWon(j,ee)?-10:V.default.playerWon(j,W)?10:0}();if(10===Math.abs(Ne))return Ne;if(!V.default.isMovesLeft(j,ne))return 0;var Re=J,Ae=V.default.getEmptyIndexies(j,ne);return Ie?(Re*=-1,Ae.forEach(function(Se){j[Se]=W;var Ue=Q(ve+1,!1);Re=Math.max(Re,Ue),j[Se]=Se}),Re):(Ae.forEach(function(Se){j[Se]=ee;var Ue=Q(ve+1,!0);Re=Math.min(Re,Ue),j[Se]=Se}),Re)}function ye(){var ve=-1*J,Ie=void 0;return V.default.getEmptyIndexies(j,ne).forEach(function(Re){j[Re]=W;var Ae=Q(0,!1);j[Re]=Re,Ae>ve&&(Ie=Re,ve=Ae)}),Ie}function Ce(){var ve=V.default.getEmptyIndexies(j,ne);return ve[Math.floor(Math.random()*ve.length)]}var We=-1;switch(re){case"Easy":We=Ce();break;case"Normal":We=function Ve(){var ve=ye(),Ie=Ce();return Math.random()<.75?ve:Ie}();break;case"Hard":We=ye();break;default:throw Error("Difficulty not valid!")}return We};var V=function O(j){return j&&j.__esModule?j:{default:j}}(T(177)),J=99999999},2818:(le,Z,T)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=function j(ne,re,ee){var Ve,We,W={winner:null,board:null};if(V.default.isGameFinished(ne,re)){var Q=(Ve=V.default.playerWon(ne,re.huPlayer),We=V.default.playerWon(ne,re.aiPlayer),Ve?"huPlayer":We?"aiPlayer":"draw");W.board=ne,W.winner=Q}else{var ye=function q(){var Ve=(0,J.default)(ne,re,ee),We=Array.from(ne);return void 0!==Ve&&(We[Ve]=re.aiPlayer),We}();if(V.default.isGameFinished(ye,re)){var Ce=V.default.playerWon(ye,re.aiPlayer)?"aiPlayer":"draw";W.board=ye,W.winner=Ce}else W.board=ye}return W};var V=G(T(177)),J=G(T(6769));function G(ne){return ne&&ne.__esModule?ne:{default:ne}}},7712:(le,Z,T)=>{var O=j(T(6769)),G=j(T(2818));function j(re){return re&&re.__esModule?re:{default:re}}Z.Z={ComputerMove:O.default,GameStep:G.default}},4650:(le,Z,T)=>{T.d(Z,{$8M:()=>Ul,$WT:()=>Yi,$Z:()=>UE,AFp:()=>tR,AaK:()=>re,BQk:()=>cn,CHM:()=>Rd,CRH:()=>VI,CZH:()=>L0,CqO:()=>pC,D6c:()=>Yp,EJc:()=>rR,EiD:()=>cE,EpF:()=>fC,F$t:()=>_C,F4k:()=>mC,FYo:()=>Qc,FiY:()=>tl,G48:()=>iB,Gf:()=>A0,GfV:()=>EE,GkF:()=>_u,Gpc:()=>q,Gre:()=>NC,Hsn:()=>Vb,Ikx:()=>wu,JOm:()=>ho,JVY:()=>IM,JZr:()=>We,Jf7:()=>lb,KtG:()=>kl,L6k:()=>nE,LAX:()=>iE,LFG:()=>Kt,Lbi:()=>nR,Lck:()=>xk,MAs:()=>nc,MMx:()=>v0,MR2:()=>NM,NdJ:()=>zo,O4$:()=>Fd,OlP:()=>Cn,Oqu:()=>pf,P3R:()=>fE,PXZ:()=>Q2,Q6J:()=>er,QGY:()=>nd,QbO:()=>F2,Qsj:()=>Ws,R0b:()=>Ta,RDi:()=>wM,Rgc:()=>jp,SBq:()=>Kh,Sil:()=>B0,Suo:()=>BI,TTD:()=>nh,TgZ:()=>cf,Tol:()=>ff,Udp:()=>Q_,W1O:()=>HI,WFA:()=>z_,X6Q:()=>nB,XFs:()=>ct,Xpm:()=>Yt,Xts:()=>nb,Y36:()=>Xl,YKP:()=>yI,YNc:()=>hC,Yjl:()=>tn,Yz7:()=>Le,Z0I:()=>kt,ZZ4:()=>pD,_Bn:()=>_0,_UZ:()=>j_,_Vd:()=>dp,_c5:()=>Cv,_uU:()=>Mp,aQg:()=>gD,c2e:()=>L2,cJS:()=>qt,cg1:()=>iv,d8E:()=>r0,dDg:()=>q2,dqk:()=>_n,eBb:()=>qy,eFA:()=>pR,eJc:()=>zI,ekj:()=>X_,eoX:()=>uR,f3M:()=>Gn,g9A:()=>JI,h0i:()=>Df,hGG:()=>_D,hij:()=>gf,iGM:()=>LI,ifc:()=>U,ip1:()=>xv,jDz:()=>wI,kL8:()=>vf,kcU:()=>Tc,lG2:()=>Nt,lqb:()=>du,lri:()=>Ev,mCW:()=>o_,n5z:()=>Gd,n_E:()=>Hp,oAB:()=>pe,oxw:()=>ic,pB0:()=>zL,q3G:()=>ur,q4F:()=>CE,qLn:()=>Yh,qOj:()=>F_,qZA:()=>xp,qzn:()=>ip,rWj:()=>dR,sBO:()=>rB,s_b:()=>rn,soG:()=>cd,tBr:()=>Xd,tb:()=>fR,tp0:()=>zl,uIk:()=>B_,vHH:()=>ve,vpe:()=>gl,wAp:()=>Ht,xp6:()=>yb,ynx:()=>gu,z2F:()=>V0,z3N:()=>ba,zSh:()=>sb,zs3:()=>Zh});var o=T(7579),V=T(727),O=T(9751),J=T(6451),G=T(3099);function j(a){for(let c in a)if(a[c]===j)return c;throw Error("Could not find renamed property on target object.")}function ne(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function re(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(re).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function ee(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const W=j({__forward_ref__:j});function q(a){return a.__forward_ref__=q,a.toString=function(){return re(this())},a}function Q(a){return ye(a)?a():a}function ye(a){return"function"==typeof a&&a.hasOwnProperty(W)&&a.__forward_ref__===q}function Ce(a){return a&&!!a.\u0275providers}const We="https://g.co/ng/security#xss";class ve extends Error{constructor(c,d){super(Ie(c,d)),this.code=c}}function Ie(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Ne(a){return"string"==typeof a?a:null==a?"":String(a)}function Ke(a,c){throw new ve(-201,!1)}function me(a,c){null==a&&function de(a,c,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function Le(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function qt(a){return{providers:a.providers||[],imports:a.imports||[]}}function vn(a){return yn(a,an)||yn(a,pi)}function kt(a){return null!==vn(a)}function yn(a,c){return a.hasOwnProperty(c)?a[c]:null}function ii(a){return a&&(a.hasOwnProperty(Nn)||a.hasOwnProperty(gn))?a[Nn]:null}const an=j({\u0275prov:j}),Nn=j({\u0275inj:j}),pi=j({ngInjectableDef:j}),gn=j({ngInjectorDef:j});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Kn;function ri(a){const c=Kn;return Kn=a,c}function ui(a,c,d){const h=vn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&ct.Optional?null:void 0!==c?c:void Ke(re(a))}const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},Bi="__NG_DI_FLAG__",Yn="ngTempTokenPath",Vi="ngTokenPath",Zn=/\n/gm,hi="\u0275",en="__source";let kr;function ln(a){const c=kr;return kr=a,c}function vr(a,c=ct.Default){if(void 0===kr)throw new ve(-203,!1);return null===kr?ui(a,void 0,c):kr.get(a,c&ct.Optional?null:void 0,c)}function Kt(a,c=ct.Default){return(function _r(){return Kn}()||vr)(Q(a),c)}function Gn(a,c=ct.Default){return Kt(a,gi(c))}function gi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function oi(a){const c=[];for(let d=0;d<a.length;d++){const h=Q(a[d]);if(Array.isArray(h)){if(0===h.length)throw new ve(900,!1);let f,g=ct.Default;for(let y=0;y<h.length;y++){const C=h[y],D=Ui(C);"number"==typeof D?-1===D?f=C.token:g|=D:f=C}c.push(Kt(f,g))}else c.push(Kt(h))}return c}function ar(a,c){return a[Bi]=c,a.prototype[Bi]=c,a}function Ui(a){return a[Bi]}function X(a){return{toString:a}.toString()}var B=(()=>((B=B||{})[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B))(),U=(()=>{return(a=U||(U={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",U;var a})();const P={},oe=[],Be=j({\u0275cmp:j}),ut=j({\u0275dir:j}),Ot=j({\u0275pipe:j}),At=j({\u0275mod:j}),sn=j({\u0275fac:j}),Ft=j({__NG_ELEMENT_ID__:j});let Bn=0;function Yt(a){return X(()=>{const c=Fa(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||U.Emulated,id:"c"+Bn++,styles:a.styles||oe,_:null,schemas:a.schemas||null,tView:null};Sd(d);const h=a.dependencies;return d.directiveDefs=Cs(h,!1),d.pipeDefs=Cs(h,!0),d})}function Es(a){return Dt(a)||En(a)}function Pe(a){return null!==a}function pe(a){return X(()=>({type:a.type,bootstrap:a.bootstrap||oe,declarations:a.declarations||oe,imports:a.imports||oe,exports:a.exports||oe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Et(a,c){if(null==a)return P;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=h,c&&(c[f]=g)}return d}function Nt(a){return X(()=>{const c=Fa(a);return Sd(c),c})}function tn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Dt(a){return a[Be]||null}function En(a){return a[ut]||null}function mn(a){return a[Ot]||null}function Yi(a){const c=Dt(a)||En(a)||mn(a);return null!==c&&c.standalone}function Si(a,c){const d=a[At]||null;if(!d&&!0===c)throw new Error(`Type ${re(a)} does not have '\u0275mod' property.`);return d}function Fa(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||oe,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Et(a.inputs,c),outputs:Et(a.outputs)}}function Sd(a){a.features?.forEach(c=>c(a))}function Cs(a,c){if(!a)return null;const d=c?mn:Es;return()=>("function"==typeof a?a():a).map(h=>d(h)).filter(Pe)}const Ti=0,lt=1,Zt=2,$n=3,In=4,ro=5,_i=6,Bs=7,Jn=8,La=9,Mi=10,nn=11,Xo=12,br=13,Vs=14,ds=15,fi=16,so=17,Y=18,we=19,fe=20,xe=21,Ge=22,hn=1,Fn=2,Vn=7,vi=8,Dn=9,Ln=10;function Zi(a){return Array.isArray(a)&&"object"==typeof a[hn]}function Ur(a){return Array.isArray(a)&&!0===a[hn]}function Jo(a){return 0!=(4&a.flags)}function vc(a){return a.componentOffset>-1}function Dl(a){return 1==(1&a.flags)}function Hr(a){return!!a.template}function Io(a){return 0!=(256&a[Zt])}function oo(a,c){return a.hasOwnProperty(sn)?a[sn]:null}class th{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function nh(){return yc}function yc(a){return a.type.prototype.ngOnChanges&&(a.setInput=To),Cm}function Cm(){const a=bc(this),c=a?.current;if(c){const d=a.previous;if(d===P)a.previous=c;else for(let h in c)d[h]=c[h];a.current=null,this.ngOnChanges(c)}}function To(a,c,d,h){const f=this.declaredInputs[d],g=bc(a)||function Im(a,c){return a[Td]=c}(a,{previous:P,current:null}),y=g.current||(g.current={}),C=g.previous,D=C[f];y[f]=new th(D&&D.currentValue,c,C===P),a[h]=c}nh.ngInherit=!0;const Td="__ngSimpleChanges__";function bc(a){return a[Td]||null}const ai=function(a,c,d){},Tl="svg";function Hi(a){for(;Array.isArray(a);)a=a[Ti];return a}function na(a,c){return Hi(c[a])}function lr(a,c){return Hi(c[a.index])}function xc(a,c){return a.data[c]}function Qi(a,c){const d=c[a];return Zi(d)?d:d[Ti]}function Mo(a){return 64==(64&a[Zt])}function ao(a,c){return null==c?null:a[c]}function Al(a){a[Y]=0}function Ha(a,c){a[ro]+=c;let d=a,h=a[$n];for(;null!==h&&(1===c&&1===d[ro]||-1===c&&0===d[ro]);)h[ro]+=c,d=h,h=h[$n]}const jt={lFrame:Ol(null),bindingsEnabled:!0};function rh(){return jt.bindingsEnabled}function Fe(){return jt.lFrame.lView}function Qt(){return jt.lFrame.tView}function Rd(a){return jt.lFrame.contextLView=a,a[Jn]}function kl(a){return jt.lFrame.contextLView=null,a}function yi(){let a=oh();for(;null!==a&&64===a.type;)a=a.parent;return a}function oh(){return jt.lFrame.currentTNode}function us(a,c){const d=jt.lFrame;d.currentTNode=a,d.isParent=c}function Cc(){return jt.lFrame.isParent}function ah(){jt.lFrame.isParent=!1}function lo(){return jt.lFrame.bindingIndex++}function Hs(a){const c=jt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function dh(a,c){const d=jt.lFrame;d.bindingIndex=d.bindingRootIndex=a,bi(c)}function bi(a){jt.lFrame.currentDirectiveIndex=a}function Ic(a){const c=jt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function Rl(){return jt.lFrame.currentQueryIndex}function uh(a){jt.lFrame.currentQueryIndex=a}function Dc(a){const c=a[lt];return 2===c.type?c.declTNode:1===c.type?a[_i]:null}function hh(a,c,d){if(d&ct.SkipSelf){let f=c,g=a;for(;!(f=f.parent,null!==f||d&ct.Host||(f=Dc(g),null===f||(g=g[ds],10&f.type))););if(null===f)return!1;c=f,a=g}const h=jt.lFrame=Od();return h.currentTNode=c,h.lView=a,!0}function Ga(a){const c=Od(),d=a[lt];jt.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Od(){const a=jt.lFrame,c=null===a?null:a.child;return null===c?Ol(a):c}function Ol(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Pd(){const a=jt.lFrame;return jt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Sc=Pd;function fh(){const a=Pd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function wr(){return jt.lFrame.selectedIndex}function js(a){jt.lFrame.selectedIndex=a}function ei(){const a=jt.lFrame;return xc(a.tView,a.selectedIndex)}function Fd(){jt.lFrame.currentNamespace=Tl}function Tc(){!function $g(){jt.lFrame.currentNamespace=null}()}function Mc(a,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const g=a.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:N}=g;y&&(a.contentHooks??(a.contentHooks=[])).push(-d,y),C&&((a.contentHooks??(a.contentHooks=[])).push(d,C),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,C)),D&&(a.viewHooks??(a.viewHooks=[])).push(-d,D),M&&((a.viewHooks??(a.viewHooks=[])).push(d,M),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,M)),null!=N&&(a.destroyHooks??(a.destroyHooks=[])).push(d,N)}}function Ld(a,c,d){Ac(a,c,3,d)}function gh(a,c,d,h){(3&a[Zt])===d&&Ac(a,c,d,h)}function _h(a,c){let d=a[Zt];(3&d)===c&&(d&=2047,d+=1,a[Zt]=d)}function Ac(a,c,d,h){const g=h??-1,y=c.length-1;let C=0;for(let D=void 0!==h?65535&a[Y]:0;D<y;D++)if("number"==typeof c[D+1]){if(C=c[D],null!=h&&C>=h)break}else c[D]<0&&(a[Y]+=65536),(C<g||-1==g)&&(Wa(a,d,c,D),a[Y]=(4294901760&a[Y])+D+2),D++}function Wa(a,c,d,h){const f=d[h]<0,g=d[h+1],C=a[f?-d[h]:d[h]];if(f){if(a[Zt]>>11<a[Y]>>16&&(3&a[Zt])===c){a[Zt]+=2048,ai(4,C,g);try{g.call(C)}finally{ai(5,C,g)}}}else{ai(4,C,g);try{g.call(C)}finally{ai(5,C,g)}}}const Pl=-1;class co{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function qa(a,c,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const g=d[h++],y=d[h++],C=d[h++];a.setAttribute(c,y,C,g)}else{const g=f,y=d[++h];Ro(g)?a.setProperty(c,g,y):a.setAttribute(c,g,y),h++}}return h}function yh(a){return 3===a||4===a||6===a}function Ro(a){return 64===a.charCodeAt(0)}function ra(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const f=c[h];"number"==typeof f?d=f:0===d||Ka(a,d,f,null,-1===d||2===d?c[++h]:null)}}return a}function Ka(a,c,d,h,f){let g=0,y=a.length;if(-1===c)y=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===c){y=-1;break}if(C>c){y=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==y&&(a.splice(y,0,c),g=y+1),a.splice(g++,0,d),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function sa(a){return a!==Pl}function Ya(a){return 32767&a}function Ll(a,c){let d=function Fl(a){return a>>16}(a),h=c;for(;d>0;)h=h[ds],d--;return h}let Vd=!0;function Bl(a){const c=Vd;return Vd=a,c}const Ud=255,Oc=5;let Hd=0;const Or={};function jd(a,c){const d=wh(a,c);if(-1!==d)return d;const h=c[lt];h.firstCreatePass&&(a.injectorIndex=c.length,zs(h.data,a),zs(c,null),zs(h.blueprint,null));const f=wi(a,c),g=a.injectorIndex;if(sa(f)){const y=Ya(f),C=Ll(f,c),D=C[lt].data;for(let M=0;M<8;M++)c[g+M]=C[y+M]|D[y+M]}return c[g+8]=f,g}function zs(a,c){a.push(0,0,0,0,0,0,0,0,c)}function wh(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function wi(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=c;for(;null!==f;){if(h=oa(f),null===h)return Pl;if(d++,f=f[ds],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return Pl}function Oo(a,c,d){!function bh(a,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Ft)&&(h=d[Ft]),null==h&&(h=d[Ft]=Hd++);const f=h&Ud;c.data[a+(f>>Oc)]|=1<<f}(a,c,d)}function xh(a,c,d){if(d&ct.Optional||void 0!==a)return a;Ke()}function Vl(a,c,d,h){if(d&ct.Optional&&void 0===h&&(h=null),!(d&(ct.Self|ct.Host))){const f=a[La],g=ri(void 0);try{return f?f.get(c,h,d&ct.Optional):ui(c,h,d&ct.Optional)}finally{ri(g)}}return xh(h,0,d)}function Eh(a,c,d,h=ct.Default,f){if(null!==a){if(1024&c[Zt]){const y=function km(a,c,d,h,f){let g=a,y=c;for(;null!==g&&null!==y&&1024&y[Zt]&&!(256&y[Zt]);){const C=Nc(g,y,d,h|ct.Self,Or);if(C!==Or)return C;let D=g.parent;if(!D){const M=y[xe];if(M){const N=M.get(d,Or,h);if(N!==Or)return N}D=oa(y),y=y[ds]}g=D}return f}(a,c,d,h,Or);if(y!==Or)return y}const g=Nc(a,c,d,h,Or);if(g!==Or)return g}return Vl(c,d,h,f)}function Nc(a,c,d,h,f){const g=function Am(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Ft)?a[Ft]:void 0;return"number"==typeof c?c>=0?c&Ud:zd:c}(d);if("function"==typeof g){if(!hh(c,a,h))return h&ct.Host?xh(f,0,h):Vl(c,d,h,f);try{const y=g(h);if(null!=y||h&ct.Optional)return y;Ke()}finally{Sc()}}else if("number"==typeof g){let y=null,C=wh(a,c),D=Pl,M=h&ct.Host?c[fi][_i]:null;for((-1===C||h&ct.SkipSelf)&&(D=-1===C?wi(a,c):c[C+8],D!==Pl&&Fc(h,!1)?(y=c[lt],C=Ya(D),c=Ll(D,c)):C=-1);-1!==C;){const N=c[lt];if(Po(g,C,N.data)){const K=ji(C,c,d,y,h,M);if(K!==Or)return K}D=c[C+8],D!==Pl&&Fc(h,c[lt].data[C+8]===M)&&Po(g,C,c)?(y=N,C=Ya(D),c=Ll(D,c)):C=-1}}return f}function ji(a,c,d,h,f,g){const y=c[lt],C=y.data[a+8],N=Za(C,y,d,null==h?vc(C)&&Vd:h!=y&&0!=(3&C.type),f&ct.Host&&g===C);return null!==N?li(c,y,N,C):Or}function Za(a,c,d,h,f){const g=a.providerIndexes,y=c.data,C=1048575&g,D=a.directiveStart,N=g>>20,ce=f?C+N:a.directiveEnd;for(let _e=h?C:C+N;_e<ce;_e++){const He=y[_e];if(_e<D&&d===He||_e>=D&&He.type===d)return _e}if(f){const _e=y[D];if(_e&&Hr(_e)&&_e.type===d)return D}return null}function li(a,c,d,h){let f=a[d];const g=c.data;if(function qg(a){return a instanceof co}(f)){const y=f;y.resolving&&function Ae(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new ve(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Re(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ne(a)}(g[d]));const C=Bl(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?ri(y.injectImpl):null;hh(a,h,ct.Default);try{f=a[d]=y.factory(void 0,g,a,h),c.firstCreatePass&&d>=h.directiveStart&&function Wg(a,c,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=c.type.prototype;if(h){const y=yc(c);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,y),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,y)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,f),g&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,g),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,g))}(d,g[d],c)}finally{null!==D&&ri(D),Bl(C),y.resolving=!1,Sc()}}return f}function Po(a,c,d){return!!(d[c+(a>>Oc)]&1<<a)}function Fc(a,c){return!(a&ct.Self||a&ct.Host&&c)}class Qa{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return Eh(this._tNode,this._lView,c,gi(h),d)}}function zd(){return new Qa(yi(),Fe())}function Gd(a){return X(()=>{const c=a.prototype.constructor,d=c[sn]||No(c),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[sn]||No(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function No(a){return ye(a)?()=>{const c=No(Q(a));return c&&c()}:oo(a)}function oa(a){const c=a[lt],d=c.type;return 2===d?c.declTNode:1===d?a[_i]:null}function Ul(a){return function Pc(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const g=d[f];if(yh(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(g===c)return d[f+1];f+=2}}}return null}(yi(),a)}const la="__parameters__";function ca(a,c,d){return X(()=>{const h=function Ch(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(c);function f(...g){if(this instanceof f)return h.apply(this,g),this;const y=new f(...g);return C.annotation=y,C;function C(D,M,N){const K=D.hasOwnProperty(la)?D[la]:Object.defineProperty(D,la,{value:[]})[la];for(;K.length<=N;)K.push(null);return(K[N]=K[N]||[]).push(y),D}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Cn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Le({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fo(a,c){a.forEach(d=>Array.isArray(d)?Fo(d,c):c(d))}function Zd(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function Hl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Xa(a,c){const d=[];for(let h=0;h<a;h++)d.push(c);return d}function hs(a,c,d){let h=el(a,c);return h>=0?a[1|h]=d:(h=~h,function jl(a,c,d,h){let f=a.length;if(f==c)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>c;)a[f]=a[f-2],f--;a[c]=d,a[c+1]=h}}(a,h,c,d)),h}function Lo(a,c){const d=el(a,c);if(d>=0)return a[1|d]}function el(a,c){return function fs(a,c,d){let h=0,f=a.length>>d;for(;f!==h;){const g=h+(f-h>>1),y=a[g<<d];if(c===y)return g<<d;y>c?f=g:h=g+1}return~(f<<d)}(a,c,1)}const Xd=ar(ca("Inject",a=>({token:a})),-1),tl=ar(ca("Optional"),8),zl=ar(ca("SkipSelf"),4);var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();const x=new Map;let S=0;const Ut="__ngContext__";function bt(a,c){Zi(c)?(a[Ut]=c[fe],function $(a){x.set(a[fe],a)}(c)):a[Ut]=c}let Wm;function ql(a,c){return Wm(a,c)}function Kl(a){const c=a[$n];return Ur(c)?c[$n]:c}function ol(a){return ou(a[br])}function $s(a){return ou(a[In])}function ou(a){for(;null!==a&&!Ur(a);)a=a[In];return a}function _a(a,c,d,h,f){if(null!=h){let g,y=!1;Ur(h)?g=h:Zi(h)&&(y=!0,h=h[Ti]);const C=Hi(h);0===a&&null!==d?null==f?es(c,d,C):dn(c,d,C,f||null,!0):1===a&&null!==d?dn(c,d,C,f||null,!0):2===a?function Hh(a,c,d){const h=ya(a,c);h&&function $r(a,c,d,h){a.removeChild(c,d,h)}(a,h,c,d)}(c,C,y):3===a&&c.destroyNode(C),null!=g&&function jy(a,c,d,h,f){const g=d[Vn];g!==Hi(d)&&_a(c,a,h,g,f);for(let C=Ln;C<d.length;C++){const D=d[C];zh(D[lt],D,a,c,h,g)}}(c,a,g,d,f)}}function Ym(a,c,d){return a.createElement(c,d)}function E(a,c){const d=a[Dn],h=d.indexOf(c),f=c[$n];512&c[Zt]&&(c[Zt]&=-513,Ha(f,-1)),d.splice(h,1)}function k(a,c){if(a.length<=Ln)return;const d=Ln+c,h=a[d];if(h){const f=h[so];null!==f&&f!==a&&E(f,h),c>0&&(a[d-1][In]=h[In]);const g=Hl(a,Ln+c);!function Zm(a,c){zh(a,c,c[nn],2,null,null),c[Ti]=null,c[_i]=null}(h[lt],h);const y=g[we];null!==y&&y.detachView(g[lt]),h[$n]=null,h[In]=null,h[Zt]&=-65}return h}function L(a,c){if(!(128&c[Zt])){const d=c[nn];d.destroyNode&&zh(a,c,d,3,null,null),function w(a){let c=a[br];if(!c)return ue(a[lt],a);for(;c;){let d=null;if(Zi(c))d=c[br];else{const h=c[Ln];h&&(d=h)}if(!d){for(;c&&!c[In]&&c!==a;)Zi(c)&&ue(c[lt],c),c=c[$n];null===c&&(c=a),Zi(c)&&ue(c[lt],c),d=c&&c[In]}c=d}}(c)}}function ue(a,c){if(!(128&c[Zt])){c[Zt]&=-65,c[Zt]|=128,function tt(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=c[d[h]];if(!(f instanceof co)){const g=d[h+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=f[g[y]],D=g[y+1];ai(4,C,D);try{D.call(C)}finally{ai(5,C,D)}}else{ai(4,f,g);try{g.call(f)}finally{ai(5,f,g)}}}}}(a,c),function De(a,c){const d=a.cleanup,h=c[Bs];let f=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const y=d[g+3];y>=0?h[f=y]():h[f=-y].unsubscribe(),g+=2}else{const y=h[f=d[g+1]];d[g].call(y)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();c[Bs]=null}}(a,c),1===c[lt].type&&c[nn].destroy();const d=c[so];if(null!==d&&Ur(c[$n])){d!==c[$n]&&E(d,c);const h=c[we];null!==h&&h.detachView(a)}!function he(a){x.delete(a[fe])}(c)}}function dt(a,c,d){return function St(a,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[Ti];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=a.data[h.directiveStart+f];if(g===U.None||g===U.Emulated)return null}return lr(h,d)}}(a,c.parent,d)}function dn(a,c,d,h,f){a.insertBefore(c,d,h,f)}function es(a,c,d){a.appendChild(c,d)}function va(a,c,d,h,f){null!==h?dn(a,c,d,h,f):es(a,c,d)}function ya(a,c){return a.parentNode(c)}function Qm(a,c,d){return Xm(a,c,d)}let Jm,t_,$y,i_,Xm=function Bh(a,c,d){return 40&a.type?lr(a,d):null};function ll(a,c,d,h){const f=dt(a,h,c),g=c[nn],C=Qm(h.parent||c[_i],h,c);if(null!=f)if(Array.isArray(d))for(let D=0;D<d.length;D++)va(g,f,d[D],C,!1);else va(g,f,d,C,!1);void 0!==Jm&&Jm(g,h,c,d,f)}function Vh(a,c){if(null!==c){const d=c.type;if(3&d)return lr(c,a);if(4&d)return tp(-1,a[c.index]);if(8&d){const h=c.child;if(null!==h)return Vh(a,h);{const f=a[c.index];return Ur(f)?tp(-1,f):Hi(f)}}if(32&d)return ql(c,a)()||Hi(a[c.index]);{const h=Uh(a,c);return null!==h?Array.isArray(h)?h[0]:Vh(Kl(a[fi]),h):Vh(a,c.next)}}return null}function Uh(a,c){return null!==c?a[fi][_i].projection[c.projection]:null}function tp(a,c){const d=Ln+a+1;if(d<c.length){const h=c[d],f=h[lt].firstChild;if(null!==f)return Vh(h,f)}return c[Vn]}function jh(a,c,d,h,f,g,y){for(;null!=d;){const C=h[d.index],D=d.type;if(y&&0===c&&(C&&bt(Hi(C),h),d.flags|=2),32!=(32&d.flags))if(8&D)jh(a,c,d.child,h,f,g,!1),_a(c,a,f,C,g);else if(32&D){const M=ql(d,h);let N;for(;N=M();)_a(c,a,f,N,g);_a(c,a,f,C,g)}else 16&D?Kx(a,c,h,d,f,g):_a(c,a,f,C,g);d=y?d.projectionNext:d.next}}function zh(a,c,d,h,f,g){jh(d,h,a.firstChild,c,f,g,!1)}function Kx(a,c,d,h,f,g){const y=d[fi],D=y[_i].projection[h.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)_a(c,a,f,D[M],g);else jh(a,c,D,y[$n],f,g,!0)}function Zx(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function Qx(a,c,d){const{mergedAttrs:h,classes:f,styles:g}=d;null!==h&&qa(a,c,h),null!==f&&Zx(a,c,f),null!==g&&function bM(a,c,d){a.setAttribute(c,"style",d)}(a,c,g)}function Gh(a){return function zy(){if(void 0===t_&&(t_=null,_n.trustedTypes))try{t_=_n.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return t_}()?.createHTML(a)||a}function wM(a){$y=a}function np(a){return function Wy(){if(void 0===i_&&(i_=null,_n.trustedTypes))try{i_=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return i_}()?.createScriptURL(a)||a}class Yl{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class s_ extends Yl{getTypeName(){return"HTML"}}class xM extends Yl{getTypeName(){return"Style"}}class tE extends Yl{getTypeName(){return"Script"}}class EM extends Yl{getTypeName(){return"URL"}}class jL extends Yl{getTypeName(){return"ResourceURL"}}function ba(a){return a instanceof Yl?a.changingThisBreaksApplicationSecurity:a}function ip(a,c){const d=function CM(a){return a instanceof Yl&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${We})`)}return d===c}function IM(a){return new s_(a)}function nE(a){return new xM(a)}function qy(a){return new tE(a)}function iE(a){return new EM(a)}function zL(a){return new jL(a)}class DM{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Gh(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class SM{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=Gh(c),d}}const MM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function o_(a){return(a=String(a)).match(MM)?a:"unsafe:"+a}function cl(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function rp(...a){const c={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const sE=cl("area,br,col,hr,img,wbr"),Ky=cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oE=cl("rp,rt"),Yy=rp(sE,rp(Ky,cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rp(oE,cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rp(oE,Ky)),Zy=cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fo=rp(Zy,cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qy=cl("script,style,template");class sp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Yy.hasOwnProperty(d))return this.sanitizedSomething=!0,!Qy.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),y=g.name,C=y.toLowerCase();if(!fo.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;Zy[C]&&(D=o_(D)),this.buf.push(" ",y,'="',lE(D),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Yy.hasOwnProperty(d)&&!sE.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(lE(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Xy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kM=/([^\#-~ |!])/g;function lE(a){return a.replace(/&/g,"&amp;").replace(Xy,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(kM,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $h;function cE(a,c){let d=null;try{$h=$h||function rE(a){const c=new SM(a);return function TM(){try{return!!(new window.DOMParser).parseFromString(Gh(""),"text/html")}catch{return!1}}()?new DM(c):c}(a);let h=c?String(c):"";d=$h.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=d.innerHTML,d=$h.getInertBodyElement(h)}while(h!==g);return Gh((new sp).sanitizeChildren(Jy(d)||d))}finally{if(d){const h=Jy(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Jy(a){return"content"in a&&function a_(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ur=(()=>((ur=ur||{})[ur.NONE=0]="NONE",ur[ur.HTML=1]="HTML",ur[ur.STYLE=2]="STYLE",ur[ur.SCRIPT=3]="SCRIPT",ur[ur.URL=4]="URL",ur[ur.RESOURCE_URL=5]="RESOURCE_URL",ur))();function eb(a){const c=op();return c?c.sanitize(ur.URL,a)||"":ip(a,"URL")?ba(a):o_(Ne(a))}function mo(a){const c=op();if(c)return np(c.sanitize(ur.RESOURCE_URL,a)||"");if(ip(a,"ResourceURL"))return np(ba(a));throw new ve(904,!1)}function fE(a,c,d){return function hE(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?mo:eb}(c,d)(a)}function op(){const a=Fe();return a&&a[Xo]}const nb=new Cn("ENVIRONMENT_INITIALIZER"),l_=new Cn("INJECTOR",-1),mE=new Cn("INJECTOR_DEF_TYPES");class ib{get(c,d=jn){if(d===jn){const h=new Error(`NullInjectorError: No provider for ${re(c)}!`);throw h.name="NullInjectorError",h}return d}}function NM(a){return{\u0275providers:a}}function FM(...a){return{\u0275providers:pE(0,a),\u0275fromNgModule:!0}}function pE(a,...c){const d=[],h=new Set;let f;return Fo(c,g=>{const y=g;c_(y,d,[],h)&&(f||(f=[]),f.push(y))}),void 0!==f&&gE(f,d),d}function gE(a,c){for(let d=0;d<a.length;d++){const{providers:f}=a[d];d_(f,g=>{c.push(g)})}}function c_(a,c,d,h){if(!(a=Q(a)))return!1;let f=null,g=ii(a);const y=!g&&Dt(a);if(g||y){if(y&&!y.standalone)return!1;f=a}else{const D=a.ngModule;if(g=ii(D),!g)return!1;f=D}const C=h.has(f);if(y){if(C)return!1;if(h.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of D)c_(M,c,d,h)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let M;h.add(f);try{Fo(g.imports,N=>{c_(N,c,d,h)&&(M||(M=[]),M.push(N))})}finally{}void 0!==M&&gE(M,c)}if(!C){const M=oo(f)||(()=>new f);c.push({provide:f,useFactory:M,deps:oe},{provide:mE,useValue:f,multi:!0},{provide:nb,useValue:()=>Kt(f),multi:!0})}const D=g.providers;null==D||C||d_(D,N=>{c.push(N)})}}return f!==a&&void 0!==a.providers}function d_(a,c){for(let d of a)Ce(d)&&(d=d.\u0275providers),Array.isArray(d)?d_(d,c):c(d)}const LM=j({provide:String,useValue:j});function u_(a){return null!==a&&"object"==typeof a&&LM in a}function cu(a){return"function"==typeof a}const sb=new Cn("Set Injector scope."),h_={},yE={};let ap;function lp(){return void 0===ap&&(ap=new ib),ap}class du{}class VM extends du{get destroyed(){return this._destroyed}constructor(c,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(c,y=>this.processProvider(y)),this.records.set(l_,qh(void 0,this)),f.has("environment")&&this.records.set(du,qh(void 0,this));const g=this.records.get(sb);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(mE.multi,oe,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=ln(this),h=ri(void 0);try{return c()}finally{ln(d),ri(h)}}get(c,d=jn,h=ct.Default){this.assertNotDestroyed(),h=gi(h);const f=ln(this),g=ri(void 0);try{if(!(h&ct.SkipSelf)){let C=this.records.get(c);if(void 0===C){const D=function jM(a){return"function"==typeof a||"object"==typeof a&&a instanceof Cn}(c)&&vn(c);C=D&&this.injectableDefInScope(D)?qh(bE(c),h_):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(h&ct.Self?lp():this.parent).get(c,d=h&ct.Optional&&d===jn?null:d)}catch(y){if("NullInjectorError"===y.name){if((y[Yn]=y[Yn]||[]).unshift(re(c)),f)throw y;return function yr(a,c,d,h){const f=a[Yn];throw c[en]&&f.unshift(c[en]),a.message=function ie(a,c,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==hi?a.slice(2):a;let f=re(c);if(Array.isArray(c))f=c.map(re).join(" -> ");else if("object"==typeof c){let g=[];for(let y in c)if(c.hasOwnProperty(y)){let C=c[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):re(C)))}f=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(Zn,"\n  ")}`}("\n"+a.message,f,d,h),a[Vi]=f,a[Yn]=null,a}(y,c,"R3InjectorError",this.source)}throw y}finally{ri(g),ln(f)}}resolveInjectorInitializers(){const c=ln(this),d=ri(void 0);try{const h=this.get(nb.multi,oe,ct.Self);for(const f of h)f()}finally{ln(c),ri(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(re(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(c){let d=cu(c=Q(c))?c:Q(c&&c.provide);const h=function Qn(a){return u_(a)?qh(void 0,a.useValue):qh(Ji(a),h_)}(c);if(cu(c)||!0!==c.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=qh(void 0,h_,!0),f.factory=()=>oi(f.multi),this.records.set(d,f)),d=c,f.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===h_&&(d.value=yE,d.value=d.factory()),"object"==typeof d.value&&d.value&&function HM(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=Q(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function bE(a){const c=vn(a),d=null!==c?c.factory:oo(a);if(null!==d)return d;if(a instanceof Cn)throw new ve(204,!1);if(a instanceof Function)return function qL(a){const c=a.length;if(c>0)throw Xa(c,"?"),new ve(204,!1);const d=function kn(a){return a&&(a[an]||a[pi])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new ve(204,!1)}function Ji(a,c,d){let h;if(cu(a)){const f=Q(a);return oo(f)||bE(f)}if(u_(a))h=()=>Q(a.useValue);else if(function vE(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...oi(a.deps||[]));else if(function _E(a){return!(!a||!a.useExisting)}(a))h=()=>Kt(Q(a.useExisting));else{const f=Q(a&&(a.useClass||a.provide));if(!function UM(a){return!!a.deps}(a))return oo(f)||bE(f);h=()=>new f(...oi(a.deps))}return h}function qh(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function f_(a,c){for(const d of a)Array.isArray(d)?f_(d,c):d&&Ce(d)?f_(d.\u0275providers,c):c(d)}class zM{}class Zc{}class GM{resolveComponentFactory(c){throw function cp(a){const c=Error(`No component factory found for ${re(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let dp=(()=>{class a{}return a.NULL=new GM,a})();function ob(){return uu(yi(),Fe())}function uu(a,c){return new Kh(lr(a,c))}let Kh=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=ob,a})();function wE(a){return a instanceof Kh?a.nativeElement:a}class Qc{}let Ws=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function $M(){const a=Fe(),d=Qi(yi().index,a);return(Zi(d)?d:a)[nn]}(),a})(),xE=(()=>{class a{}return a.\u0275prov=Le({token:a,providedIn:"root",factory:()=>null}),a})();class EE{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const CE=new EE("15.2.10"),ab={},Zl="ngOriginalError";function dl(a){return a[Zl]}class Yh{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&dl(c);for(;d&&dl(d);)d=dl(d);return d||null}}function lb(a){return a.ownerDocument.defaultView}function ul(a){return a instanceof Function?a():a}function ub(a,c,d){let h=a.length;for(;;){const f=a.indexOf(c,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=c.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}d=f+1}}const hb="ng-template";function ZM(a,c,d){let h=0,f=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&f){const y=a[h++];if(d&&"class"===g&&-1!==ub(y.toLowerCase(),c,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===c)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function fb(a){return 4===a.type&&a.value!==hb}function ME(a,c,d){return c===(4!==a.type||d?a.value:hb)}function mb(a,c,d){let h=4;const f=a.attrs||[],g=function kE(a){for(let c=0;c<a.length;c++)if(yh(a[c]))return c;return a.length}(f);let y=!1;for(let C=0;C<c.length;C++){const D=c[C];if("number"!=typeof D){if(!y)if(4&h){if(h=2|1&h,""!==D&&!ME(a,D,d)||""===D&&1===c.length){if(Uo(h))return!1;y=!0}}else{const M=8&h?D:c[++C];if(8&h&&null!==a.attrs){if(!ZM(a.attrs,M,d)){if(Uo(h))return!1;y=!0}continue}const K=pb(8&h?"class":D,f,fb(a),d);if(-1===K){if(Uo(h))return!1;y=!0;continue}if(""!==M){let ce;ce=K>g?"":f[K+1].toLowerCase();const _e=8&h?ce:null;if(_e&&-1!==ub(_e,M,0)||2&h&&M!==ce){if(Uo(h))return!1;y=!0}}}}else{if(!y&&!Uo(h)&&!Uo(D))return!1;if(y&&Uo(D))continue;y=!1,h=D|1&h}}return Uo(h)||y}function Uo(a){return 0==(1&a)}function pb(a,c,d,h){if(null===c)return-1;let f=0;if(h||!d){let g=!1;for(;f<c.length;){const y=c[f];if(y===a)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=c[++f];for(;"string"==typeof C;)C=c[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function _b(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,a)}function gb(a,c,d=!1){for(let h=0;h<c.length;h++)if(mb(a,c[h],d))return!0;return!1}function m_(a,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function vb(a,c){return a?":not("+c.trim()+")":c}function RE(a){let c=a[0],d=1,h=2,f="",g=!1;for(;d<a.length;){let y=a[d];if("string"==typeof y)if(2&h){const C=a[++d];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+y:4&h&&(f+=" "+y);else""!==f&&!Uo(y)&&(c+=vb(g,f),f=""),h=y,g=g||!Uo(h);d++}return""!==f&&(c+=vb(g,f)),c}const Bt={};function yb(a){QM(Qt(),Fe(),wr()+a,!1)}function QM(a,c,d,h){if(!h)if(3==(3&c[Zt])){const g=a.preOrderCheckHooks;null!==g&&Ld(c,g,d)}else{const g=a.preOrderHooks;null!==g&&gh(c,g,0,d)}js(d)}function eA(a,c=null,d=null,h){const f=tA(a,c,d,h);return f.resolveInjectorInitializers(),f}function tA(a,c=null,d=null,h,f=new Set){const g=[d||oe,FM(a)];return h=h||("object"==typeof a?void 0:re(a)),new VM(g,c||lp(),h||null,f)}let Zh=(()=>{class a{static create(d,h){if(Array.isArray(d))return eA({name:""},h,d,"");{const f=d.name??"";return eA({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=jn,a.NULL=new ib,a.\u0275prov=Le({token:a,providedIn:"any",factory:()=>Kt(l_)}),a.__NG_ELEMENT_ID__=-1,a})();function Xl(a,c=ct.Default){const d=Fe();return null===d?Kt(a,c):Eh(yi(),d,Q(a),c)}function UE(){throw new Error("invalid")}function pp(a,c){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const g=d[h+1];if(-1!==g){const y=a.data[g];uh(d[h]),y.contentQueries(2,c[g],g)}}}function gp(a,c,d,h,f,g,y,C,D,M,N){const K=c.blueprint.slice();return K[Ti]=f,K[Zt]=76|h,(null!==N||a&&1024&a[Zt])&&(K[Zt]|=1024),Al(K),K[$n]=K[ds]=a,K[Jn]=d,K[Mi]=y||a&&a[Mi],K[nn]=C||a&&a[nn],K[Xo]=D||a&&a[Xo]||null,K[La]=M||a&&a[La]||null,K[_i]=g,K[fe]=function R(){return S++}(),K[xe]=N,K[fi]=2==c.type?a[fi]:K,K}function Xh(a,c,d,h,f){let g=a.data[c];if(null===g)g=function D_(a,c,d,h,f){const g=oh(),y=Cc(),D=a.data[c]=function uA(a,c,d,h,f,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,d,c,h,f);return null===a.firstChild&&(a.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(a,c,d,h,f),function ch(){return jt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=h,g.attrs=f;const y=function ja(){const a=jt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return us(g,!0),g}function _p(a,c,d,h){if(0===d)return-1;const f=c.length;for(let g=0;g<d;g++)c.push(h),a.blueprint.push(h),a.data.push(null);return f}function HE(a,c,d){Ga(c);try{const h=a.viewQuery;null!==h&&kb(1,h,d);const f=a.template;null!==f&&T_(a,c,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&pp(a,c),a.staticViewQueries&&kb(2,a.viewQuery,d);const g=a.components;null!==g&&function lA(a,c){for(let d=0;d<c.length;d++)Jc(a,c[d])}(c,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[Zt]&=-5,fh()}}function S_(a,c,d,h){const f=c[Zt];if(128!=(128&f)){Ga(c);try{Al(c),function ko(a){return jt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&T_(a,c,d,2,h);const y=3==(3&f);if(y){const M=a.preOrderCheckHooks;null!==M&&Ld(c,M,null)}else{const M=a.preOrderHooks;null!==M&&gh(c,M,0,null),_h(c,0)}if(function bA(a){for(let c=ol(a);null!==c;c=$s(c)){if(!c[Fn])continue;const d=c[Dn];for(let h=0;h<d.length;h++){const f=d[h];512&f[Zt]||Ha(f[$n],1),f[Zt]|=512}}}(c),function Mb(a){for(let c=ol(a);null!==c;c=$s(c))for(let d=Ln;d<c.length;d++){const h=c[d],f=h[lt];Mo(h)&&S_(f,h,f.template,h[Jn])}}(c),null!==a.contentQueries&&pp(a,c),y){const M=a.contentCheckHooks;null!==M&&Ld(c,M)}else{const M=a.contentHooks;null!==M&&gh(c,M,1),_h(c,1)}!function Cb(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)js(~f);else{const g=f,y=d[++h],C=d[++h];dh(y,g),C(2,c[g])}}}finally{js(-1)}}(a,c);const C=a.components;null!==C&&function aA(a,c){for(let d=0;d<c.length;d++)QE(a,c[d])}(c,C);const D=a.viewQuery;if(null!==D&&kb(2,D,h),y){const M=a.viewCheckHooks;null!==M&&Ld(c,M)}else{const M=a.viewHooks;null!==M&&gh(c,M,2),_h(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[Zt]&=-41,512&c[Zt]&&(c[Zt]&=-513,Ha(c[$n],-1))}finally{fh()}}}function T_(a,c,d,h,f){const g=wr(),y=2&h;try{js(-1),y&&c.length>Ge&&QM(a,c,Ge,!1),ai(y?2:0,f),d(h,f)}finally{js(g),ai(y?3:1,f)}}function jE(a,c,d){if(Jo(c)){const f=c.directiveEnd;for(let g=c.directiveStart;g<f;g++){const y=a.data[g];y.contentQueries&&y.contentQueries(1,d[g],g)}}}function zE(a,c,d){rh()&&(function pA(a,c,d,h){const f=d.directiveStart,g=d.directiveEnd;vc(d)&&function t2(a,c,d){const h=lr(c,a),f=GE(d),g=a[Mi],y=tf(a,gp(a,f,null,d.onPush?32:16,h,c,g,g.createRenderer(h,d),null,null,null));a[c.index]=y}(c,d,a.data[f+d.componentOffset]),a.firstCreatePass||jd(d,c),bt(h,c);const y=d.initialInputs;for(let C=f;C<g;C++){const D=a.data[C],M=li(c,a,C,d);bt(M,c),null!==y&&ZE(0,C-f,M,D,0,y),Hr(D)&&(Qi(d.index,c)[Jn]=li(c,a,C,d))}}(a,c,d,lr(d,c)),64==(64&d.flags)&&Db(a,c,d))}function vp(a,c,d=lr){const h=c.localNames;if(null!==h){let f=c.index+1;for(let g=0;g<h.length;g+=2){const y=h[g+1],C=-1===y?d(c,a):a[y];a[f++]=C}}}function GE(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=M_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function M_(a,c,d,h,f,g,y,C,D,M){const N=Ge+h,K=N+f,ce=function Ib(a,c){const d=[];for(let h=0;h<c;h++)d.push(h<a?null:Bt);return d}(N,K),_e="function"==typeof M?M():M;return ce[lt]={type:a,blueprint:ce,template:d,queries:null,viewQuery:C,declTNode:c,data:ce.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:_e,incompleteFirstPass:!1}}function dA(a,c,d,h){const f=XE(c);null===d?f.push(h):(f.push(d),a.firstCreatePass&&Rb(a).push(h,f.length-1))}function Jh(a,c,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const g=a[f];null===h?ef(d,c,f,g):h.hasOwnProperty(f)&&ef(d,c,h[f],g)}return d}function ef(a,c,d,h){a.hasOwnProperty(d)?a[d].push(c,h):a[d]=[c,h]}function ns(a,c,d,h,f,g,y,C){const D=lr(c,d);let N,M=c.inputs;!C&&null!=M&&(N=M[h])?(Ob(a,d,N,h,f),vc(c)&&function XL(a,c){const d=Qi(c,a);16&d[Zt]||(d[Zt]|=32)}(d,c.index)):3&c.type&&(h=function WE(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=y?y(f,c.value||"",h):f,g.setProperty(D,h,f))}function qE(a,c,d,h){if(rh()){const f=null===h?null:{"":-1},g=function KE(a,c){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];if(gb(c,y.selectors,!1))if(h||(h=[]),Hr(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),h.unshift(...C,y),yp(a,c,C.length)}else h.unshift(y),yp(a,c,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,h,f),h.push(y)}return null===h?null:[h,f]}(a,d);let y,C;null===g?y=C=null:[y,C]=g,null!==y&&mA(a,c,d,y,f,C),f&&function A_(a,c,d){if(c){const h=a.localNames=[];for(let f=0;f<c.length;f+=2){const g=d[c[f+1]];if(null==g)throw new ve(-301,!1);h.push(c[f],g)}}}(d,h,f)}d.mergedAttrs=ra(d.mergedAttrs,d.attrs)}function mA(a,c,d,h,f,g){for(let M=0;M<h.length;M++)Oo(jd(d,c),a,h[M].type);!function YE(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,h.length);for(let M=0;M<h.length;M++){const N=h[M];N.providersResolver&&N.providersResolver(N)}let y=!1,C=!1,D=_p(a,c,h.length,null);for(let M=0;M<h.length;M++){const N=h[M];d.mergedAttrs=ra(d.mergedAttrs,N.hostAttrs),vA(a,d,c,D,N),_A(D,N,f),null!==N.contentQueries&&(d.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(d.flags|=64);const K=N.type.prototype;!y&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),y=!0),!C&&(K.ngOnChanges||K.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),C=!0),D++}!function $E(a,c,d){const f=c.directiveEnd,g=a.data,y=c.attrs,C=[];let D=null,M=null;for(let N=c.directiveStart;N<f;N++){const K=g[N],ce=d?d.get(K):null,He=ce?ce.outputs:null;D=Jh(K.inputs,N,D,ce?ce.inputs:null),M=Jh(K.outputs,N,M,He);const rt=null===D||null===y||fb(c)?null:yA(D,N,y);C.push(rt)}null!==D&&(D.hasOwnProperty("class")&&(c.flags|=8),D.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=C,c.inputs=D,c.outputs=M}(a,d,g)}function Db(a,c,d){const h=d.directiveStart,f=d.directiveEnd,g=d.index,y=function Gg(){return jt.lFrame.currentDirectiveIndex}();try{js(g);for(let C=h;C<f;C++){const D=a.data[C],M=c[C];bi(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&gA(D,M)}}finally{js(-1),bi(y)}}function gA(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function yp(a,c,d){c.componentOffset=d,(a.components??(a.components=[])).push(c.index)}function _A(a,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=a;Hr(c)&&(d[""]=a)}}function vA(a,c,d,h,f){a.data[h]=f;const g=f.factory||(f.factory=oo(f.type)),y=new co(g,Hr(f),Xl);a.blueprint[h]=y,d[h]=y,function JL(a,c,d,h,f){const g=f.hostBindings;if(g){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const C=~c.index;(function e2(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(y)!=C&&y.push(C),y.push(d,h,g)}}(a,c,h,_p(a,d,f.hostVars,Bt),f)}function xa(a,c,d,h,f,g){const y=lr(a,c);!function Sb(a,c,d,h,f,g,y){if(null==g)a.removeAttribute(c,f,d);else{const C=null==y?Ne(g):y(g,h||"",f);a.setAttribute(c,f,C,d)}}(c[nn],y,g,a.value,d,h,f)}function ZE(a,c,d,h,f,g){const y=g[c];if(null!==y){const C=h.setInput;for(let D=0;D<y.length;){const M=y[D++],N=y[D++],K=y[D++];null!==C?h.setInput(d,K,M,N):d[N]=K}}}function yA(a,c,d){let h=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const y=a[g];for(let C=0;C<y.length;C+=2)if(y[C]===c){h.push(g,y[C+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function Tb(a,c,d,h){return[a,!0,!1,c,null,0,h,d,null,null]}function QE(a,c){const d=Qi(c,a);if(Mo(d)){const h=d[lt];48&d[Zt]?S_(h,d,h.template,d[Jn]):d[ro]>0&&Ab(d)}}function Ab(a){for(let h=ol(a);null!==h;h=$s(h))for(let f=Ln;f<h.length;f++){const g=h[f];if(Mo(g))if(512&g[Zt]){const y=g[lt];S_(y,g,y.template,g[Jn])}else g[ro]>0&&Ab(g)}const d=a[lt].components;if(null!==d)for(let h=0;h<d.length;h++){const f=Qi(d[h],a);Mo(f)&&f[ro]>0&&Ab(f)}}function Jc(a,c){const d=Qi(c,a),h=d[lt];(function wA(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(h,d),HE(h,d,d[Jn])}function tf(a,c){return a[br]?a[Vs][In]=c:a[br]=c,a[Vs]=c,c}function k_(a){for(;a;){a[Zt]|=32;const c=Kl(a);if(Io(a)&&!c)return a;a=c}return null}function nf(a,c,d,h=!0){const f=c[Mi];f.begin&&f.begin();try{S_(a,c,a.template,d)}catch(y){throw h&&O_(c,y),y}finally{f.end&&f.end()}}function kb(a,c,d){uh(0),c(a,d)}function XE(a){return a[Bs]||(a[Bs]=[])}function Rb(a){return a.cleanup||(a.cleanup=[])}function JE(a,c,d){return(null===a||Hr(a))&&(d=function ta(a){for(;Array.isArray(a);){if("object"==typeof a[hn])return a;a=a[Ti]}return null}(d[c.index])),d[nn]}function O_(a,c){const d=a[La],h=d?d.get(Yh,null):null;h&&h.handleError(c)}function Ob(a,c,d,h,f){for(let g=0;g<d.length;){const y=d[g++],C=d[g++],D=c[y],M=a.data[y];null!==M.setInput?M.setInput(D,f,h,C):D[C]=f}}function bp(a,c,d){let h=d?a.styles:null,f=d?a.classes:null,g=0;if(null!==c)for(let y=0;y<c.length;y++){const C=c[y];"number"==typeof C?g=C:1==g?f=ee(f,C):2==g&&(h=ee(h,C+": "+c[++y]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function P_(a,c,d,h,f=!1){for(;null!==d;){const g=c[d.index];if(null!==g&&h.push(Hi(g)),Ur(g))for(let C=Ln;C<g.length;C++){const D=g[C],M=D[lt].firstChild;null!==M&&P_(D[lt],D,M,h)}const y=d.type;if(8&y)P_(a,c,d.child,h);else if(32&y){const C=ql(d,c);let D;for(;D=C();)h.push(D)}else if(16&y){const C=Uh(c,d);if(Array.isArray(C))h.push(...C);else{const D=Kl(c[fi]);P_(D[lt],D,C,h,!0)}}d=f?d.projectionNext:d.next}return h}class N_{get rootNodes(){const c=this._lView,d=c[lt];return P_(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jn]}set context(c){this._lView[Jn]=c}get destroyed(){return 128==(128&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[$n];if(Ur(c)){const d=c[vi],h=d?d.indexOf(this):-1;h>-1&&(k(c,h),Hl(d,h))}this._attachedToViewContainer=!1}L(this._lView[lt],this._lView)}onDestroy(c){dA(this._lView[lt],this._lView,null,c)}markForCheck(){k_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-65}reattach(){this._lView[Zt]|=64}detectChanges(){nf(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hy(a,c){zh(a,c,c[nn],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=c}}class Pb extends N_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;nf(c[lt],c,c[Jn],!1)}checkNoChanges(){}get context(){return null}}class eC extends dp{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=Dt(c);return new wp(d,this.ngModule)}}function Nb(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class fu{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=gi(h);const f=this.injector.get(c,ab,h);return f!==ab||d===ab?f:this.parentInjector.get(c,d,h)}}class wp extends Zc{get inputs(){return Nb(this.componentDef.inputs)}get outputs(){return Nb(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function OE(a){return a.map(RE).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,f){let g=(f=f||this.ngModule)instanceof du?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new fu(c,g):c,C=y.get(Qc,null);if(null===C)throw new ve(407,!1);const D=y.get(xE,null),M=C.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",K=h?function cA(a,c,d){return a.selectRootElement(c,d===U.ShadowDom)}(M,h,this.componentDef.encapsulation):Ym(M,N,function tC(a){const c=a.toLowerCase();return"svg"===c?Tl:"math"===c?"math":null}(N)),ce=this.componentDef.onPush?288:272,_e=M_(0,null,null,1,0,null,null,null,null,null),He=gp(null,_e,null,ce,null,null,C,M,D,y,null);let rt,ht;Ga(He);try{const It=this.componentDef;let Gt,Ze=null;It.findHostDirectiveDefs?(Gt=[],Ze=new Map,It.findHostDirectiveDefs(It,Gt,Ze),Gt.push(It)):Gt=[It];const un=function iC(a,c){const d=a[lt],h=Ge;return a[h]=c,Xh(d,h,2,"#host",null)}(He,K),Ci=function EA(a,c,d,h,f,g,y,C){const D=f[lt];!function CA(a,c,d,h){for(const f of a)c.mergedAttrs=ra(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(bp(c,c.mergedAttrs,!0),null!==d&&Qx(h,d,c))}(h,a,c,y);const M=g.createRenderer(c,d),N=gp(f,GE(d),null,d.onPush?32:16,f[a.index],a,g,M,C||null,null,null);return D.firstCreatePass&&yp(D,a,h.length-1),tf(f,N),f[a.index]=N}(un,K,It,Gt,He,C,M);ht=xc(_e,Ge),K&&function Fb(a,c,d,h){if(h)qa(a,d,["ng-version",CE.full]);else{const{attrs:f,classes:g}=function Ds(a){const c=[],d=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&c.push(g,a[++h]):8===f&&d.push(g);else{if(!Uo(f))break;f=g}h++}return{attrs:c,classes:d}}(c.selectors[0]);f&&qa(a,d,f),g&&g.length>0&&Zx(a,d,g.join(" "))}}(M,It,K,h),void 0!==d&&function IA(a,c,d){const h=a.projection=[];for(let f=0;f<c.length;f++){const g=d[f];h.push(null!=g?Array.from(g):null)}}(ht,this.ngContentSelectors,d),rt=function rf(a,c,d,h,f,g){const y=yi(),C=f[lt],D=lr(y,f);mA(C,f,y,d,null,h);for(let N=0;N<d.length;N++)bt(li(f,C,y.directiveStart+N,y),f);Db(C,f,y),D&&bt(D,f);const M=li(f,C,y.directiveStart+y.componentOffset,y);if(a[Jn]=f[Jn]=M,null!==g)for(const N of g)N(M,c);return jE(C,y,a),M}(Ci,It,Gt,Ze,He,[rC]),HE(_e,He,null)}finally{fh()}return new nC(this.componentType,rt,uu(ht,He),He,ht)}}class nC extends zM{constructor(c,d,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new Pb(f),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[c])){const g=this._rootLView;Ob(g[lt],g,f,c,d),k_(Qi(this._tNode.index,g))}}get injector(){return new Qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function rC(){const a=yi();Mc(Fe()[lt],a)}function F_(a){let c=function sC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;c;){let f;if(Hr(a))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new ve(903,!1);f=c.\u0275dir}if(f){if(d){h.push(f);const y=a;y.inputs=L_(a.inputs),y.declaredInputs=L_(a.declaredInputs),y.outputs=L_(a.outputs);const C=f.hostBindings;C&&r2(a,C);const D=f.viewQuery,M=f.contentQueries;if(D&&SA(a,D),M&&oC(a,M),ne(a.inputs,f.inputs),ne(a.declaredInputs,f.declaredInputs),ne(a.outputs,f.outputs),Hr(f)&&f.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(a),C===F_&&(d=!1)}}c=Object.getPrototypeOf(c)}!function DA(a){let c=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=c+=f.hostVars,f.hostAttrs=ra(f.hostAttrs,d=ra(d,f.hostAttrs))}}(h)}function L_(a){return a===P?{}:a===oe?[]:a}function SA(a,c){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{c(h,f),d(h,f)}:c}function oC(a,c){const d=a.contentQueries;a.contentQueries=d?(h,f,g)=>{c(h,f,g),d(h,f,g)}:c}function r2(a,c){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{c(h,f),d(h,f)}:c}function Lb(a){return!!gt(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function gt(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Pr(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function B_(a,c,d,h){const f=Fe();return Pr(f,lo(),c)&&(Qt(),xa(ei(),f,a,c,d,h)),B_}function af(a,c,d,h){return Pr(a,lo(),d)?c+Ne(d)+h:Bt}function hC(a,c,d,h,f,g,y,C){const D=Fe(),M=Qt(),N=a+Ge,K=M.firstCreatePass?function uC(a,c,d,h,f,g,y,C,D){const M=c.consts,N=Xh(c,a,4,y||null,ao(M,C));qE(c,d,N,ao(M,D)),Mc(c,N);const K=N.tView=M_(2,N,h,f,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,M);return null!==c.queries&&(c.queries.template(c,N),K.queries=c.queries.embeddedTView(N)),N}(N,M,D,c,d,h,f,g,y):M.data[N];us(K,!1);const ce=D[nn].createComment("");ll(M,D,ce,K),bt(ce,D),tf(D,D[N]=Tb(ce,D,ce,K)),Dl(K)&&zE(M,D,K),null!=y&&vp(D,K,C)}function nc(a){return function Rr(a,c){return a[c]}(function lh(){return jt.lFrame.contextLView}(),Ge+a)}function er(a,c,d){const h=Fe();return Pr(h,lo(),c)&&ns(Qt(),ei(),h,a,c,h[nn],d,!1),er}function Ca(a,c,d,h,f){const y=f?"class":"style";Ob(a,d,c.inputs[y],y,h)}function cf(a,c,d,h){const f=Fe(),g=Qt(),y=Ge+a,C=f[nn],D=g.firstCreatePass?function pu(a,c,d,h,f,g){const y=c.consts,D=Xh(c,a,2,h,ao(y,f));return qE(c,d,D,ao(y,g)),null!==D.attrs&&bp(D,D.attrs,!1),null!==D.mergedAttrs&&bp(D,D.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,D),D}(y,g,f,c,d,h):g.data[y],M=f[y]=Ym(C,c,function ph(){return jt.lFrame.currentNamespace}()),N=Dl(D);return us(D,!0),Qx(C,M,D),32!=(32&D.flags)&&ll(g,f,M,D),0===function Md(){return jt.lFrame.elementDepthCount}()&&bt(M,f),function Ad(){jt.lFrame.elementDepthCount++}(),N&&(zE(g,f,D),jE(g,D,f)),null!==h&&vp(f,D),cf}function xp(){let a=yi();Cc()?ah():(a=a.parent,us(a,!1));const c=a;!function kd(){jt.lFrame.elementDepthCount--}();const d=Qt();return d.firstCreatePass&&(Mc(d,a),Jo(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function uo(a){return 0!=(8&a.flags)}(c)&&Ca(d,c,Fe(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Bd(a){return 0!=(16&a.flags)}(c)&&Ca(d,c,Fe(),c.stylesWithoutHost,!1),xp}function j_(a,c,d,h){return cf(a,c,d,h),xp(),j_}function gu(a,c,d){const h=Fe(),f=Qt(),g=a+Ge,y=f.firstCreatePass?function OA(a,c,d,h,f){const g=c.consts,y=ao(g,h),C=Xh(c,a,8,"ng-container",y);return null!==y&&bp(C,y,!0),qE(c,d,C,ao(g,f)),null!==c.queries&&c.queries.elementStart(c,C),C}(g,f,h,c,d):f.data[g];us(y,!0);const C=h[g]=h[nn].createComment("");return ll(f,h,C,y),bt(C,h),Dl(y)&&(zE(f,h,y),jE(f,y,h)),null!=d&&vp(h,y),gu}function cn(){let a=yi();const c=Qt();return Cc()?ah():(a=a.parent,us(a,!1)),c.firstCreatePass&&(Mc(c,a),Jo(a)&&c.queries.elementEnd(a)),cn}function _u(a,c,d){return gu(a,c,d),cn(),_u}function fC(){return Fe()}function nd(a){return!!a&&"function"==typeof a.then}function mC(a){return!!a&&"function"==typeof a.subscribe}const pC=mC;function zo(a,c,d,h){const f=Fe(),g=Qt(),y=yi();return Bb(g,f,f[nn],y,a,c,h),zo}function z_(a,c){const d=yi(),h=Fe(),f=Qt();return Bb(f,h,JE(Ic(f.data),d,h),d,a,c),z_}function Bb(a,c,d,h,f,g,y){const C=Dl(h),M=a.firstCreatePass&&Rb(a),N=c[Jn],K=XE(c);let ce=!0;if(3&h.type||y){const rt=lr(h,c),ht=y?y(rt):rt,It=K.length,Gt=y?un=>y(Hi(un[h.index])):h.index;let Ze=null;if(!y&&C&&(Ze=function gC(a,c,d,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===d&&f[g+1]===h){const C=c[Bs],D=f[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(a,c,f,h.index)),null!==Ze)(Ze.__ngLastListenerFn__||Ze).__ngNextListenerFn__=g,Ze.__ngLastListenerFn__=g,ce=!1;else{g=qr(h,c,N,g,!1);const un=d.listen(ht,f,g);K.push(g,un),M&&M.push(f,Gt,It,It+1)}}else g=qr(h,c,N,g,!1);const _e=h.outputs;let He;if(ce&&null!==_e&&(He=_e[f])){const rt=He.length;if(rt)for(let ht=0;ht<rt;ht+=2){const Ci=c[He[ht]][He[ht+1]].subscribe(g),Ir=K.length;K.push(g,Ci),M&&M.push(f,h.index,Ir,-(Ir+1))}}}function PA(a,c,d,h){try{return ai(6,c,d),!1!==d(h)}catch(f){return O_(a,f),!1}finally{ai(7,c,d)}}function qr(a,c,d,h,f){return function g(y){if(y===Function)return h;k_(a.componentOffset>-1?Qi(a.index,c):c);let D=PA(c,d,h,y),M=g.__ngNextListenerFn__;for(;M;)D=PA(c,d,M,y)&&D,M=M.__ngNextListenerFn__;return f&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function ic(a=1){return function Nd(a){return(jt.lFrame.contextLView=function mh(a,c){for(;a>0;)c=c[ds],a--;return c}(a,jt.lFrame.contextLView))[Jn]}(a)}function G_(a,c){let d=null;const h=function AE(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let f=0;f<c.length;f++){const g=c[f];if("*"!==g){if(null===h?gb(a,g,!0):m_(h,g))return f}else d=f}return d}function _C(a){const c=Fe()[fi][_i];if(!c.projection){const h=c.projection=Xa(a?a.length:1,null),f=h.slice();let g=c.child;for(;null!==g;){const y=a?G_(g,a):0;null!==y&&(f[y]?f[y].projectionNext=g:h[y]=g,f[y]=g),g=g.next}}}function Vb(a,c=0,d){const h=Fe(),f=Qt(),g=Xh(f,Ge+a,16,null,d||null);null===g.projection&&(g.projection=c),ah(),32!=(32&g.flags)&&function qx(a,c,d){Kx(c[nn],0,c,d,dt(a,d,c),Qm(d.parent||c[_i],d,c))}(f,h,g)}function $_(a,c){return a<<17|c<<2}function qs(a){return a>>17&32767}function Ip(a){return 2|a}function vu(a){return(131068&a)>>2}function uf(a,c){return-131069&a|c<<2}function W_(a){return 1|a}function qb(a,c,d,h,f){const g=a[d+1],y=null===c;let C=h?qs(g):vu(g),D=!1;for(;0!==C&&(!1===D||y);){const N=a[C+1];yC(a[C],c)&&(D=!0,a[C+1]=h?W_(N):Ip(N)),C=h?qs(N):vu(N)}D&&(a[d+1]=h?Ip(g):W_(g))}function yC(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&el(a,c)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bC(a){return a.substring(Nr.key,Nr.keyEnd)}function wC(a,c){const d=Nr.textEnd;return d===c?-1:(c=Nr.keyEnd=function Kb(a,c,d){for(;c<d&&a.charCodeAt(c)>32;)c++;return c}(a,Nr.key=c,d),hf(a,c,d))}function hf(a,c,d){for(;c<d&&a.charCodeAt(c)<=32;)c++;return c}function Q_(a,c,d){return Go(a,c,d,!1),Q_}function X_(a,c){return Go(a,c,null,!0),X_}function ff(a){$o(jA,Ts,a,!0)}function Ts(a,c){for(let d=function K_(a){return function EC(a){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=a.length}(a),wC(a,hf(a,0,Nr.textEnd))}(c);d>=0;d=wC(c,d))hs(a,bC(c),!0)}function Go(a,c,d,h){const f=Fe(),g=Qt(),y=Hs(2);g.firstUpdatePass&&bu(g,a,y,h),c!==Bt&&Pr(f,y,c)&&Zb(g,g.data[wr()],f,f[nn],a,f[y+1]=function Qb(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=re(ba(a)))),a}(c,d),h,y)}function $o(a,c,d,h){const f=Qt(),g=Hs(2);f.firstUpdatePass&&bu(f,null,g,h);const y=Fe();if(d!==Bt&&Pr(y,g,d)){const C=f.data[wr()];if(id(C,h)&&!Yb(f,g)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(d=ee(D,d||"")),Ca(f,C,y,d,h)}else!function DC(a,c,d,h,f,g,y,C){f===Bt&&(f=oe);let D=0,M=0,N=0<f.length?f[0]:null,K=0<g.length?g[0]:null;for(;null!==N||null!==K;){const ce=D<f.length?f[D+1]:void 0,_e=M<g.length?g[M+1]:void 0;let rt,He=null;N===K?(D+=2,M+=2,ce!==_e&&(He=K,rt=_e)):null===K||null!==N&&N<K?(D+=2,He=N):(M+=2,He=K,rt=_e),null!==He&&Zb(a,c,d,h,He,rt,y,C),N=D<f.length?f[D]:null,K=M<g.length?g[M]:null}}(f,C,y,y[nn],y[g+1],y[g+1]=function HA(a,c,d){if(null==d||""===d)return oe;const h=[],f=ba(d);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(h,g,f[g]);else"string"==typeof f&&c(h,f);return h}(a,c,d),h,g)}}function Yb(a,c){return c>=a.expandoStartIndex}function bu(a,c,d,h){const f=a.data;if(null===f[d+1]){const g=f[wr()],y=Yb(a,d);id(g,h)&&null===c&&!y&&(c=!1),c=function BA(a,c,d,h){const f=Ic(a);let g=h?c.residualClasses:c.residualStyles;if(null===f)0===(h?c.classBindings:c.styleBindings)&&(d=pl(d=Tp(null,a,c,d,h),c.attrs,h),g=null);else{const y=c.directiveStylingLast;if(-1===y||a[y]!==f)if(d=Tp(f,a,c,d,h),null===g){let D=function VA(a,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==vu(h))return a[qs(h)]}(a,c,h);void 0!==D&&Array.isArray(D)&&(D=Tp(null,a,c,D[1],h),D=pl(D,c.attrs,h),function IC(a,c,d,h){a[qs(d?c.classBindings:c.styleBindings)]=h}(a,c,h,D))}else g=function UA(a,c,d){let h;const f=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<f;g++)h=pl(h,a[g].hostAttrs,d);return pl(h,c.attrs,d)}(a,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),d}(f,g,c,h),function Wb(a,c,d,h,f,g){let y=g?c.classBindings:c.styleBindings,C=qs(y),D=vu(y);a[h]=d;let N,M=!1;if(Array.isArray(d)?(N=d[1],(null===N||el(d,N)>0)&&(M=!0)):N=d,f)if(0!==D){const ce=qs(a[C+1]);a[h+1]=$_(ce,C),0!==ce&&(a[ce+1]=uf(a[ce+1],h)),a[C+1]=function Cp(a,c){return 131071&a|c<<17}(a[C+1],h)}else a[h+1]=$_(C,0),0!==C&&(a[C+1]=uf(a[C+1],h)),C=h;else a[h+1]=$_(D,0),0===C?C=h:a[D+1]=uf(a[D+1],h),D=h;M&&(a[h+1]=Ip(a[h+1])),qb(a,N,h,!0),qb(a,N,h,!1),function q_(a,c,d,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&el(g,c)>=0&&(d[h+1]=W_(d[h+1]))}(c,N,a,h,g),y=$_(C,D),g?c.classBindings=y:c.styleBindings=y}(f,g,c,d,y,h)}}function Tp(a,c,d,h,f){let g=null;const y=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<y&&(g=c[C],h=pl(h,g.hostAttrs,f),g!==a);)C++;return null!==a&&(d.directiveStylingLast=C),h}function pl(a,c,d){const h=d?1:2;let f=-1;if(null!==c)for(let g=0;g<c.length;g++){const y=c[g];"number"==typeof y?f=y:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),hs(a,y,!!d||c[++g]))}return void 0===a?null:a}function jA(a,c,d){const h=String(c);""!==h&&!h.includes(" ")&&hs(a,h,d)}function Zb(a,c,d,h,f,g,y,C){if(!(3&c.type))return;const D=a.data,M=D[C+1],N=function Dp(a){return 1==(1&a)}(M)?mf(D,c,d,f,vu(M),y):void 0;po(N)||(po(g)||function NA(a){return 2==(2&a)}(M)&&(g=mf(D,null,d,f,C,y)),function Yx(a,c,d,h,f){if(c)f?a.addClass(d,h):a.removeClass(d,h);else{let g=-1===h.indexOf("-")?void 0:ho.DashCase;null==f?a.removeStyle(d,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=ho.Important),a.setStyle(d,h,f,g))}}(h,y,na(wr(),d),f,g))}function mf(a,c,d,h,f,g){const y=null===c;let C;for(;f>0;){const D=a[f],M=Array.isArray(D),N=M?D[1]:D,K=null===N;let ce=d[f+1];ce===Bt&&(ce=K?oe:void 0);let _e=K?Lo(ce,h):N===h?ce:void 0;if(M&&!po(_e)&&(_e=Lo(D,h)),po(_e)&&(C=_e,y))return C;const He=a[f+1];f=y?qs(He):vu(He)}if(null!==c){let D=g?c.residualClasses:c.residualStyles;null!=D&&(C=Lo(D,h))}return C}function po(a){return void 0!==a}function id(a,c){return 0!=(a.flags&(c?8:16))}function Mp(a,c=""){const d=Fe(),h=Qt(),f=a+Ge,g=h.firstCreatePass?Xh(h,f,1,c,null):h.data[f],y=d[f]=function Km(a,c){return a.createText(c)}(d[nn],c);ll(h,d,y,g),us(g,!1)}function pf(a){return gf("",a,""),pf}function gf(a,c,d){const h=Fe(),f=af(h,a,c,d);return f!==Bt&&function Jl(a,c,d){const h=na(c,a);!function Yc(a,c,d){a.setValue(c,d)}(a[nn],h,d)}(h,wr(),f),gf}function NC(a,c,d){$o(hs,Ts,af(Fe(),a,c,d),!0)}function wu(a,c,d){const h=Fe();return Pr(h,lo(),c)&&ns(Qt(),ei(),h,a,c,h[nn],d,!0),wu}function r0(a,c,d){const h=Fe();if(Pr(h,lo(),c)){const g=Qt(),y=ei();ns(g,y,h,a,c,JE(Ic(g.data),y,h),d,!0)}return r0}const xu=void 0;var jC=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function s0(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Eu={};function iv(a){const c=function XA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=kp(c);if(d)return d;const h=c.split("-")[0];if(d=kp(h),d)return d;if("en"===h)return jC;throw new ve(701,!1)}function vf(a){return iv(a)[Ht.PluralCase]}function kp(a){return a in Eu||(Eu[a]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[a]),Eu[a]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const Rp="en-US";let $C=Rp;function hv(a,c,d,h,f){if(a=Q(a),Array.isArray(a))for(let g=0;g<a.length;g++)hv(a[g],c,d,h,f);else{const g=Qt(),y=Fe();let C=cu(a)?a:Q(a.provide),D=Ji(a);const M=yi(),N=1048575&M.providerIndexes,K=M.directiveStart,ce=M.providerIndexes>>20;if(cu(a)||!a.multi){const _e=new co(D,f,Xl),He=g0(C,c,f?N:N+ce,K);-1===He?(Oo(jd(M,y),g,C),sd(g,a,c.length),c.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(_e),y.push(_e)):(d[He]=_e,y[He]=_e)}else{const _e=g0(C,c,N+ce,K),He=g0(C,c,N,N+ce),ht=He>=0&&d[He];if(f&&!ht||!f&&!(_e>=0&&d[_e])){Oo(jd(M,y),g,C);const It=function vI(a,c,d,h,f){const g=new co(a,d,Xl);return g.multi=[],g.index=c,g.componentProviders=0,fv(g,f,h&&!d),g}(f?mv:_I,d.length,f,h,D);!f&&ht&&(d[He].providerFactory=It),sd(g,a,c.length,0),c.push(C),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(It),y.push(It)}else sd(g,a,_e>-1?_e:He,fv(d[f?He:_e],D,!f&&h));!f&&h&&ht&&d[He].componentProviders++}}}function sd(a,c,d,h){const f=cu(c),g=function BM(a){return!!a.useClass}(c);if(f||g){const D=(g?Q(c.useClass):c).prototype.ngOnDestroy;if(D){const M=a.destroyHooks||(a.destroyHooks=[]);if(!f&&c.multi){const N=M.indexOf(d);-1===N?M.push(d,[h,D]):M[N+1].push(h,D)}else M.push(d,D)}}}function fv(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function g0(a,c,d,h){for(let f=d;f<h;f++)if(c[f]===a)return f;return-1}function _I(a,c,d,h){return If(this.multi,[])}function mv(a,c,d,h){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=li(d,d[lt],this.providerFactory.index,h);g=C.slice(0,y),If(f,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],If(f,g);return g}function If(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function _0(a,c=[]){return d=>{d.providersResolver=(h,f)=>function p0(a,c,d){const h=Qt();if(h.firstCreatePass){const f=Hr(a);hv(d,h.data,h.blueprint,f,!0),hv(c,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,c)}}class Df{}class yI{}function xk(a,c){return new bI(a,c??null)}class bI extends Df{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eC(this);const h=Si(c);this._bootstrapComponents=ul(h.bootstrap),this._r3Injector=tA(c,d,[{provide:Df,useValue:this},{provide:dp,useValue:this.componentFactoryResolver}],re(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Sf extends yI{constructor(c){super(),this.moduleType=c}create(c){return new bI(this.moduleType,c)}}class Ek extends Df{constructor(c,d,h){super(),this.componentFactoryResolver=new eC(this),this.instance=null;const f=new VM([...c,{provide:Df,useValue:this},{provide:dp,useValue:this.componentFactoryResolver}],d||lp(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function v0(a,c,d=null){return new Ek(a,c,d).injector}let y0=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=pE(0,d.type),f=h.length>0?v0([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Le({token:a,providedIn:"environment",factory:()=>new a(Kt(du))}),a})();function wI(a){a.getStandaloneInjector=c=>c.get(y0).getOrCreateStandaloneInjector(a)}function I0(a){return c=>{setTimeout(a,void 0,c)}}const gl=class Rk extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let f=c,g=d||(()=>null),y=h;if(c&&"object"==typeof c){const D=c;f=D.next?.bind(D),g=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(g=I0(g),f&&(f=I0(f)),y&&(y=I0(y)));const C=super.subscribe({next:f,error:g,complete:y});return c instanceof V.w0&&c.add(C),C}};function Ok(){return this._results[Symbol.iterator]()}class Hp{get changes(){return this._changes||(this._changes=new gl)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Hp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=Ok)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const f=function Jr(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Yd(a,c,d){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=c[h];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jp=(()=>{class a{}return a.__NG_ELEMENT_ID__=Nk,a})();const C2=jp,Pk=class extends C2{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tView,f=gp(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);f[so]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[we];return null!==y&&(f[we]=y.createEmbeddedView(h)),HE(h,f,c),new N_(f)}};function Nk(){return Du(yi(),Fe())}function Du(a,c){return 4&a.type?new Pk(c,a,uu(a,c)):null}let rn=(()=>{class a{}return a.__NG_ELEMENT_ID__=Yr,a})();function Yr(){return Lk(yi(),Fe())}const Fk=rn,zp=class extends Fk{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Qa(this._hostTNode,this._hostLView)}get parentInjector(){const c=wi(this._hostTNode,this._hostLView);if(sa(c)){const d=Ll(c,this._hostLView),h=Ya(c);return new Qa(d[lt].data[h+8],d)}return new Qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=hr(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(c,d,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const y=c.createEmbeddedView(d||{},g);return this.insert(y,f),y}createComponent(c,d,h,f,g){const y=c&&!function Vc(a){return"function"==typeof a}(c);let C;if(y)C=d;else{const K=d||{};C=K.index,h=K.injector,f=K.projectableNodes,g=K.environmentInjector||K.ngModuleRef}const D=y?c:new wp(Dt(c)),M=h||this.parentInjector;if(!g&&null==D.ngModule){const ce=(y?M:this.parentInjector).get(du,null);ce&&(g=ce)}const N=D.create(M,f,void 0,g);return this.insert(N.hostView,C),N}insert(c,d){const h=c._lView,f=h[lt];if(function ih(a){return Ur(a[$n])}(h)){const N=this.indexOf(c);if(-1!==N)this.detach(N);else{const K=h[$n],ce=new zp(K,K[_i],K[$n]);ce.detach(ce.indexOf(c))}}const g=this._adjustIndex(d),y=this._lContainer;!function p(a,c,d,h){const f=Ln+h,g=d.length;h>0&&(d[f-1][In]=c),h<g-Ln?(c[In]=d[f],Zd(d,Ln+h,c)):(d.push(c),c[In]=null),c[$n]=d;const y=c[so];null!==y&&d!==y&&function v(a,c){const d=a[Dn];c[fi]!==c[$n][$n][fi]&&(a[Fn]=!0),null===d?a[Dn]=[c]:d.push(c)}(y,c);const C=c[we];null!==C&&C.insertView(a),c[Zt]|=64}(f,h,y,g);const C=tp(g,y),D=h[nn],M=ya(D,y[Vn]);return null!==M&&function al(a,c,d,h,f,g){h[Ti]=f,h[_i]=c,zh(a,h,d,1,f,g)}(f,y[_i],D,h,M,C),c.attachToViewContainerRef(),Zd(Ia(y),g,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=hr(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);h&&(Hl(Ia(this._lContainer),d),L(h[lt],h))}detach(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);return h&&null!=Hl(Ia(this._lContainer),d)?new N_(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function hr(a){return a[vi]}function Ia(a){return a[vi]||(a[vi]=[])}function Lk(a,c){let d;const h=c[a.index];if(Ur(h))d=h;else{let f;if(8&a.type)f=Hi(h);else{const g=c[nn];f=g.createComment("");const y=lr(a,c);dn(g,ya(g,y),f,function au(a,c){return a.nextSibling(c)}(g,y),!1)}c[a.index]=d=Tb(h,c,f,a),tf(c,d)}return new zp(d,a,c)}class D0{constructor(c){this.queryList=c,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class S0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,f=[];for(let g=0;g<h;g++){const y=d.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new S0(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==k0(c,d).matches&&this.queries[d].setDirty()}}class NI{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class T0{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(c,f);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new T0(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Mf{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Mf(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(c,d,FI(d,g)),this.matchTNodeWithReadOption(c,d,Za(d,c,g,!1,!1))}else h===jp?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Za(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Kh||f===rn||f===jp&&4&d.type)this.addMatch(d.index,-2);else{const g=Za(d,c,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function FI(a,c){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function Vk(a,c,d,h){return-1===d?function Bk(a,c){return 11&a.type?uu(a,c):4&a.type?Du(a,c):null}(c,a):-2===d?function Uk(a,c,d){return d===Kh?uu(c,a):d===jp?Du(c,a):d===rn?Lk(c,a):void 0}(a,c,h):li(a,a[lt],d,c)}function M0(a,c,d,h){const f=c[we].queries[h];if(null===f.matches){const g=a.data,y=d.matches,C=[];for(let D=0;D<y.length;D+=2){const M=y[D];C.push(M<0?null:Vk(c,g[M],y[D+1],d.metadata.read))}f.matches=C}return f.matches}function Su(a,c,d,h){const f=a.queries.getByIndex(d),g=f.matches;if(null!==g){const y=M0(a,c,f,d);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)h.push(y[C/2]);else{const M=g[C+1],N=c[-D];for(let K=Ln;K<N.length;K++){const ce=N[K];ce[so]===ce[$n]&&Su(ce[lt],ce,M,h)}if(null!==N[Dn]){const K=N[Dn];for(let ce=0;ce<K.length;ce++){const _e=K[ce];Su(_e[lt],_e,M,h)}}}}}return h}function LI(a){const c=Fe(),d=Qt(),h=Rl();uh(h+1);const f=k0(d,h);if(a.dirty&&function Ml(a){return 4==(4&a[Zt])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Su(d,c,h,[]):M0(d,c,f,h);a.reset(g,wE),a.notifyOnChanges()}return!0}return!1}function A0(a,c,d){const h=Qt();h.firstCreatePass&&(gv(h,new NI(a,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),UI(h,Fe(),c)}function BI(a,c,d,h){const f=Qt();if(f.firstCreatePass){const g=yi();gv(f,new NI(c,d,h),g.index),function _v(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}UI(f,Fe(),d)}function VI(){return function I2(a,c){return a[we].queries[c].queryList}(Fe(),Rl())}function UI(a,c,d){const h=new Hp(4==(4&d));dA(a,c,h,h.destroy),null===c[we]&&(c[we]=new S0),c[we].queries.push(new D0(h))}function gv(a,c,d){null===a.queries&&(a.queries=new T0),a.queries.track(new Mf(c,d))}function k0(a,c){return a.queries.getByIndex(c)}function HI(a,c){return Du(a,c)}function zI(a){return!!Si(a)}function F0(...a){}const xv=new Cn("Application Initializer");let L0=(()=>{class a{constructor(d){this.appInits=d,this.resolve=F0,this.reject=F0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(nd(g))d.push(g);else if(pC(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});d.push(y)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(Kt(xv,8))},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const tR=new Cn("AppId",{providedIn:"root",factory:function XI(){return`${Mu()}${Mu()}${Mu()}`}});function Mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JI=new Cn("Platform Initializer"),nR=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F2=new Cn("AnimationModuleType");let L2=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const cd=new Cn("LocaleId",{providedIn:"root",factory:()=>Gn(cd,ct.Optional|ct.SkipSelf)||function iR(){return typeof $localize<"u"&&$localize.locale||Rp}()}),rR=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eD{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let B0=(()=>{class a{compileModuleSync(d){return new Sf(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),g=ul(Si(d).declarations).reduce((y,C)=>{const D=Dt(C);return D&&y.push(new wp(D)),y},[]);return new eD(h,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const j2=(()=>Promise.resolve(0))();function iD(a){typeof Zone>"u"?j2.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ta{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function z2(){let a=_n.requestAnimationFrame,c=_n.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function aR(a){const c=()=>{!function $2(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(_n,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,sD(a),a.isCheckStableRunning=!0,rD(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),sD(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,g,y,C)=>{try{return lR(a),d.invokeTask(f,g,y,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),cR(a)}},onInvoke:(d,h,f,g,y,C,D)=>{try{return lR(a),d.invoke(f,g,y,C,D)}finally{a.shouldCoalesceRunChangeDetection&&c(),cR(a)}},onHasTask:(d,h,f,g)=>{d.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,sD(a),rD(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,f,g)=>(d.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ta.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(Ta.isInAngularZone())throw new ve(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,c,G2,F0,F0);try{return g.runTask(y,d,h)}finally{g.cancelTask(y)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const G2={};function rD(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function sD(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function lR(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function cR(a){a._nesting--,rD(a)}class W2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,f){return c.apply(d,h)}}const Ev=new Cn(""),dR=new Cn("");let oD,q2=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oD||(function K2(a){oD=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ta.assertNotInAngularZone(),iD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iD(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(Kt(Ta),Kt(uR),Kt(dR))},a.\u0275prov=Le({token:a,factory:a.\u0275fac}),a})(),uR=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return oD?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const dd=!1;let Au=null;const hR=new Cn("AllowMultipleToken"),aD=new Cn("PlatformDestroyListeners"),fR=new Cn("appBootstrapListener");class Q2{constructor(c,d){this.name=c,this.token=d}}function pR(a,c,d=[]){const h=`Platform: ${c}`,f=new Cn(h);return(g=[])=>{let y=lD();if(!y||y.injector.get(hR,!1)){const C=[...d,...g,{provide:f,useValue:!0}];a?a(C):function X2(a){if(Au&&!Au.get(hR,!1))throw new ve(400,!1);Au=a;const c=a.get(_R);(function mR(a){const c=a.get(JI,null);c&&c.forEach(d=>d())})(a)}(function gR(a=[],c){return Zh.create({name:c,providers:[{provide:sb,useValue:"platform"},{provide:aD,useValue:new Set([()=>Au=null])},...a]})}(C,h))}return function eB(a){const c=lD();if(!c)throw new ve(401,!1);return c}()}}function lD(){return Au?.get(_R)??null}let _R=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function dD(a,c){let d;return d="noop"===a?new W2:("zone.js"===a?void 0:a)||new Ta(c),d}(h?.ngZone,function cD(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:Ta,useValue:f}];return f.run(()=>{const y=Zh.create({providers:g,parent:this.injector,name:d.moduleType.name}),C=d.create(y),D=C.injector.get(Yh,null);if(!D)throw new ve(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:N=>{D.handleError(N)}});C.onDestroy(()=>{U0(this._modules,C),M.unsubscribe()})}),function vR(a,c,d){try{const h=d();return nd(h)?h.catch(f=>{throw c.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(D,f,()=>{const M=C.injector.get(L0);return M.runInitializers(),M.donePromise.then(()=>(function WC(a){me(a,"Expected localeId to be defined"),"string"==typeof a&&($C=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(cd,Rp)||Rp),this._moduleDoBootstrap(C),C))})})}bootstrapModule(d,h=[]){const f=yR({},h);return function Y2(a,c,d){const h=new Sf(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const h=d.injector.get(V0);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new ve(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(aD,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(Kt(Zh))},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function yR(a,c){return Array.isArray(c)?c.reduce(yR,a):{...a,...c}}let V0=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new O.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Ta.assertNotInAngularZone(),iD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,J.T)(g,y.pipe((0,G.B)()))}bootstrap(d,h){const f=d instanceof Zc;if(!this._injector.get(L0).done){!f&&Yi(d);throw new ve(405,dd)}let y;y=f?d:this._injector.get(dp).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const C=function Z2(a){return a.isBoundToModule}(y)?void 0:this._injector.get(Df),M=y.create(Zh.NULL,[],h||y.selector,C),N=M.location.nativeElement,K=M.injector.get(Ev,null);return K?.registerApplication(N),M.onDestroy(()=>{this.detachView(M.hostView),U0(this.components,M),K?.unregisterApplication(N)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;U0(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(fR,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>U0(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ve(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(Kt(Ta),Kt(du),Kt(Yh))},a.\u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function U0(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}function nB(){return!1}function iB(){}let rB=(()=>{class a{}return a.__NG_ELEMENT_ID__=sB,a})();function sB(a){return function oB(a,c,d){if(vc(a)&&!d){const h=Qi(a.index,c);return new N_(h,h)}return 47&a.type?new N_(c[fi],c):null}(yi(),Fe(),16==(16&a))}class CR{constructor(){}supports(c){return Lb(c)}create(c){return new hB(c)}}const uB=(a,c)=>c;class hB{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||uB}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,f=0,g=null;for(;d||h;){const y=!h||d&&d.currentIndex<DR(h,f,g)?d:h,C=DR(y,f,g),D=y.currentIndex;if(y===h)f--,h=h._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{g||(g=[]);const M=C-f,N=D-f;if(M!=N){for(let ce=0;ce<M;ce++){const _e=ce<g.length?g[ce]:g[ce]=0,He=_e+ce;N<=He&&He<M&&(g[ce]=_e+1)}g[y.previousIndex]=N-M}}C!==D&&c(y,C,D)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Lb(c))throw new ve(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,g,y,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)g=c[C],y=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,g,y,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,y,C),h=!0),d=d._next}else f=0,function RA(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,C=>{y=this._trackByFn(f,C),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,C,y,f)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,y,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,f){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,g,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,g,f)):c=this._addAfter(new fB(d,h),g,f),c}_verifyReinsertion(c,d,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,g=c._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const f=null===d?this._itHead:d._next;return c._next=f,c._prev=d,null===f?this._itTail=c:f._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new IR),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IR),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class fB{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mB{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class IR{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new mB,this.map.set(d,h)),h.add(c)}get(c,d){const f=this.map.get(c);return f?f.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DR(a,c,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+c+f}class SR{constructor(){}supports(c){return c instanceof Map||gt(c)}create(){return new pB}}class pB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||gt(c)))throw new ve(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,d);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const h=new gB(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class gB{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TR(){return new pD([new CR])}let pD=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||TR()),deps:[[a,new zl,new tl]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new ve(901,!1)}}return a.\u0275prov=Le({token:a,providedIn:"root",factory:TR}),a})();function MR(){return new gD([new SR])}let gD=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||MR()),deps:[[a,new zl,new tl]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new ve(901,!1)}}return a.\u0275prov=Le({token:a,providedIn:"root",factory:MR}),a})();const Cv=pR(null,"core",[]);let _D=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(Kt(V0))},a.\u0275mod=pe({type:a}),a.\u0275inj=qt({}),a})();function Yp(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(le,Z,T)=>{T.d(Z,{Z:()=>Ve});var o=T(2090),V=T(4859),O=T(6881),J=T(1877);class G{constructor(ve,Ie){this._delegate=ve,this.firebase=Ie,(0,O._addComponent)(ve,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ve,Ie=O._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(ve);return!Re.isInitialized()&&"EXPLICIT"===(null===(Ne=Re.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:Ie})}_removeServiceInstance(ve,Ie=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ie)}_addComponent(ve){(0,O._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,O._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ee(){const We=function re(We){const ve={},Ie={__esModule:!0,initializeApp:function Ae(qe,be={}){const ot=O.initializeApp(qe,be);if((0,o.r3)(ve,ot.name))return ve[ot.name];const Tt=new We(ot,Ie);return ve[ot.name]=Tt,Tt},app:Re,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ue(qe){const be=qe.name,ot=be.replace("-compat","");if(O._registerComponent(qe)&&"PUBLIC"===qe.type){const Tt=(mt=Re())=>{if("function"!=typeof mt[ot])throw ne.create("invalid-app-argument",{appName:be});return mt[ot]()};void 0!==qe.serviceProps&&(0,o.ZB)(Tt,qe.serviceProps),Ie[ot]=Tt,We.prototype[ot]=function(...mt){return this._getService.bind(this,be).apply(this,qe.multipleInstances?mt:[])}}return"PUBLIC"===qe.type?Ie[ot]:null},removeApp:function Ne(qe){delete ve[qe]},useAsService:function Ke(qe,be){return"serverAuth"===be?null:be},modularAPIs:O}};function Re(qe){if(!(0,o.r3)(ve,qe=qe||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:qe});return ve[qe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Se(){return Object.keys(ve).map(qe=>ve[qe])}}),Re.App=We,Ie}(G);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function ve(Ie){(0,o.ZB)(We,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),We}(),q=new J.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=W;!function Ce(We){(0,O.registerVersion)("@firebase/app-compat","0.2.13",We)}()},6881:(le,Z,T)=>{T.r(Z),T.d(Z,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>ui,_addComponent:()=>wt,_addOrOverwriteComponent:()=>Vt,_apps:()=>_n,_clearComponents:()=>Vi,_components:()=>Jt,_getProvider:()=>Bi,_registerComponent:()=>jn,_removeServiceInstance:()=>Yn,deleteApp:()=>si,getApp:()=>vr,getApps:()=>Kt,initializeApp:()=>ln,onLog:()=>oi,registerVersion:()=>gi,setLogLevel:()=>ar});var o=T(5861),V=T(4859),O=T(1877),J=T(2090);const G=(Pe,pe)=>pe.some(Ye=>Pe instanceof Ye);let j,ne;const W=new WeakMap,q=new WeakMap,Q=new WeakMap,ye=new WeakMap,Ce=new WeakMap;let ve={get(Pe,pe,Ye){if(Pe instanceof IDBTransaction){if("done"===pe)return q.get(Pe);if("objectStoreNames"===pe)return Pe.objectStoreNames||Q.get(Pe);if("store"===pe)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return Ae(Pe[pe])},set:(Pe,pe,Ye)=>(Pe[pe]=Ye,!0),has:(Pe,pe)=>Pe instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in Pe};function Re(Pe){return"function"==typeof Pe?function Ne(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...pe){return Pe.apply(Se(this),pe),Ae(W.get(this))}:function(...pe){return Ae(Pe.apply(Se(this),pe))}:function(pe,...Ye){const Et=Pe.call(Se(this),pe,...Ye);return Q.set(Et,pe.sort?pe.sort():[pe]),Ae(Et)}}(Pe):(Pe instanceof IDBTransaction&&function We(Pe){if(q.has(Pe))return;const pe=new Promise((Ye,Et)=>{const Nt=()=>{Pe.removeEventListener("complete",tn),Pe.removeEventListener("error",Dt),Pe.removeEventListener("abort",Dt)},tn=()=>{Ye(),Nt()},Dt=()=>{Et(Pe.error||new DOMException("AbortError","AbortError")),Nt()};Pe.addEventListener("complete",tn),Pe.addEventListener("error",Dt),Pe.addEventListener("abort",Dt)});q.set(Pe,pe)}(Pe),G(Pe,function re(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,ve):Pe)}function Ae(Pe){if(Pe instanceof IDBRequest)return function Ve(Pe){const pe=new Promise((Ye,Et)=>{const Nt=()=>{Pe.removeEventListener("success",tn),Pe.removeEventListener("error",Dt)},tn=()=>{Ye(Ae(Pe.result)),Nt()},Dt=()=>{Et(Pe.error),Nt()};Pe.addEventListener("success",tn),Pe.addEventListener("error",Dt)});return pe.then(Ye=>{Ye instanceof IDBCursor&&W.set(Ye,Pe)}).catch(()=>{}),Ce.set(pe,Pe),pe}(Pe);if(ye.has(Pe))return ye.get(Pe);const pe=Re(Pe);return pe!==Pe&&(ye.set(Pe,pe),Ce.set(pe,Pe)),pe}const Se=Pe=>Ce.get(Pe),qe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],ot=new Map;function Tt(Pe,pe){if(!(Pe instanceof IDBDatabase)||pe in Pe||"string"!=typeof pe)return;if(ot.get(pe))return ot.get(pe);const Ye=pe.replace(/FromIndex$/,""),Et=pe!==Ye,Nt=be.includes(Ye);if(!(Ye in(Et?IDBIndex:IDBObjectStore).prototype)||!Nt&&!qe.includes(Ye))return;const tn=function(){var Dt=(0,o.Z)(function*(En,...mn){const Yi=this.transaction(En,Nt?"readwrite":"readonly");let Si=Yi.store;return Et&&(Si=Si.index(mn.shift())),(yield Promise.all([Si[Ye](...mn),Nt&&Yi.done]))[0]});return function(mn){return Dt.apply(this,arguments)}}();return ot.set(pe,tn),tn}!function Ie(Pe){ve=Pe(ve)}(Pe=>({...Pe,get:(pe,Ye,Et)=>Tt(pe,Ye)||Pe.get(pe,Ye,Et),has:(pe,Ye)=>!!Tt(pe,Ye)||Pe.has(pe,Ye)}));class mt{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function Xt(Pe){return"VERSION"===Pe.getComponent()?.type}(Ye)){const Et=Ye.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Ye=>Ye).join(" ")}}const yt="@firebase/app",mi=new O.Yd("@firebase/app"),ui="[DEFAULT]",or={[yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Jt=new Map;function wt(Pe,pe){try{Pe.container.addComponent(pe)}catch(Ye){mi.debug(`Component ${pe.name} failed to register with FirebaseApp ${Pe.name}`,Ye)}}function Vt(Pe,pe){Pe.container.addOrOverwriteComponent(pe)}function jn(Pe){const pe=Pe.name;if(Jt.has(pe))return mi.debug(`There were multiple attempts to register component ${pe}.`),!1;Jt.set(pe,Pe);for(const Ye of _n.values())wt(Ye,Pe);return!0}function Bi(Pe,pe){const Ye=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Pe.container.getProvider(pe)}function Yn(Pe,pe,Ye=ui){Bi(Pe,pe).clearInstance(Ye)}function Vi(){Jt.clear()}const hi=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class en{constructor(pe,Ye,Et){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const kr="9.23.0";function ln(Pe,pe={}){let Ye=Pe;"object"!=typeof pe&&(pe={name:pe});const Et=Object.assign({name:ui,automaticDataCollectionEnabled:!1},pe),Nt=Et.name;if("string"!=typeof Nt||!Nt)throw hi.create("bad-app-name",{appName:String(Nt)});if(Ye||(Ye=(0,J.aH)()),!Ye)throw hi.create("no-options");const tn=_n.get(Nt);if(tn){if((0,J.vZ)(Ye,tn.options)&&(0,J.vZ)(Et,tn.config))return tn;throw hi.create("duplicate-app",{appName:Nt})}const Dt=new V.H0(Nt);for(const mn of Jt.values())Dt.addComponent(mn);const En=new en(Ye,Et,Dt);return _n.set(Nt,En),En}function vr(Pe=ui){const pe=_n.get(Pe);if(!pe&&Pe===ui&&(0,J.aH)())return ln();if(!pe)throw hi.create("no-app",{appName:Pe});return pe}function Kt(){return Array.from(_n.values())}function si(Pe){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(Pe){const pe=Pe.name;_n.has(pe)&&(_n.delete(pe),yield Promise.all(Pe.container.getProviders().map(Ye=>Ye.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function gi(Pe,pe,Ye){var Et;let Nt=null!==(Et=or[Pe])&&void 0!==Et?Et:Pe;Ye&&(Nt+=`-${Ye}`);const tn=Nt.match(/\s|\//),Dt=pe.match(/\s|\//);if(tn||Dt){const En=[`Unable to register library "${Nt}" with version "${pe}":`];return tn&&En.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),tn&&Dt&&En.push("and"),Dt&&En.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void mi.warn(En.join(" "))}jn(new V.wA(`${Nt}-version`,()=>({library:Nt,version:pe}),"VERSION"))}function oi(Pe,pe){if(null!==Pe&&"function"!=typeof Pe)throw hi.create("invalid-log-argument");(0,O.Am)(Pe,pe)}function ar(Pe){(0,O.Ub)(Pe)}const Ui="firebase-heartbeat-database",yr=1,ie="firebase-heartbeat-store";let X=null;function B(){return X||(X=function Ue(Pe,pe,{blocked:Ye,upgrade:Et,blocking:Nt,terminated:tn}={}){const Dt=indexedDB.open(Pe,pe),En=Ae(Dt);return Et&&Dt.addEventListener("upgradeneeded",mn=>{Et(Ae(Dt.result),mn.oldVersion,mn.newVersion,Ae(Dt.transaction),mn)}),Ye&&Dt.addEventListener("blocked",mn=>Ye(mn.oldVersion,mn.newVersion,mn)),En.then(mn=>{tn&&mn.addEventListener("close",()=>tn()),Nt&&mn.addEventListener("versionchange",Yi=>Nt(Yi.oldVersion,Yi.newVersion,Yi))}).catch(()=>{}),En}(Ui,yr,{upgrade:(Pe,pe)=>{0===pe&&Pe.createObjectStore(ie)}}).catch(Pe=>{throw hi.create("idb-open",{originalErrorMessage:Pe.message})})),X}function P(){return(P=(0,o.Z)(function*(Pe){try{return yield(yield B()).transaction(ie).objectStore(ie).get(ut(Pe))}catch(pe){if(pe instanceof J.ZR)mi.warn(pe.message);else{const Ye=hi.create("idb-get",{originalErrorMessage:pe?.message});mi.warn(Ye.message)}}})).apply(this,arguments)}function oe(Pe,pe){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.Z)(function*(Pe,pe){try{const Et=(yield B()).transaction(ie,"readwrite");yield Et.objectStore(ie).put(pe,ut(Pe)),yield Et.done}catch(Ye){if(Ye instanceof J.ZR)mi.warn(Ye.message);else{const Et=hi.create("idb-set",{originalErrorMessage:Ye?.message});mi.warn(Et.message)}}})).apply(this,arguments)}function ut(Pe){return`${Pe.name}!${Pe.options.appId}`}class sn{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Yt(Ye),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var pe=this;return(0,o.Z)(function*(){const Et=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Ft();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!pe._heartbeatsCache.heartbeats.some(tn=>tn.date===Nt))return pe._heartbeatsCache.heartbeats.push({date:Nt,agent:Et}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(tn=>{const Dt=new Date(tn.date).valueOf();return Date.now()-Dt<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,o.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const Ye=Ft(),{heartbeatsToSend:Et,unsentEntries:Nt}=function Bn(Pe,pe=1024){const Ye=[];let Et=Pe.slice();for(const Nt of Pe){const tn=Ye.find(Dt=>Dt.agent===Nt.agent);if(tn){if(tn.dates.push(Nt.date),Di(Ye)>pe){tn.dates.pop();break}}else if(Ye.push({agent:Nt.agent,dates:[Nt.date]}),Di(Ye)>pe){Ye.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Et}}(pe._heartbeatsCache.heartbeats),tn=(0,J.L)(JSON.stringify({version:2,heartbeats:Et}));return pe._heartbeatsCache.lastSentHeartbeatDate=Ye,Nt.length>0?(pe._heartbeatsCache.heartbeats=Nt,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),tn})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,o.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function U(Pe){return P.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var Ye=this;return(0,o.Z)(function*(){var Et;if(yield Ye._canUseIndexedDBPromise){const tn=yield Ye.read();return oe(Ye.app,{lastSentHeartbeatDate:null!==(Et=pe.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Ye=this;return(0,o.Z)(function*(){var Et;if(yield Ye._canUseIndexedDBPromise){const tn=yield Ye.read();return oe(Ye.app,{lastSentHeartbeatDate:null!==(Et=pe.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...pe.heartbeats]})}})()}}function Di(Pe){return(0,J.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Es(Pe){jn(new V.wA("platform-logger",pe=>new mt(pe),"PRIVATE")),jn(new V.wA("heartbeat",pe=>new sn(pe),"PRIVATE")),gi(yt,"0.9.13",Pe),gi(yt,"0.9.13","esm2017"),gi("fire-js","")}("")},4859:(le,Z,T)=>{T.d(Z,{H0:()=>re,wA:()=>O,zt:()=>G});var o=T(5861),V=T(2090);class O{constructor(W,q,Q){this.name=W,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const J="[DEFAULT]";class G{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const Q=new V.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const ye=this.getOrInitializeService({instanceIdentifier:q});ye&&Q.resolve(ye)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const Q=this.normalizeInstanceIdentifier(W?.identifier),ye=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ce){if(ye)return null;throw Ce}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ne(ee){return"EAGER"===ee.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[q,Q]of this.instancesDeferred.entries()){const ye=this.normalizeInstanceIdentifier(q);try{const Ce=this.getOrInitializeService({instanceIdentifier:ye});Q.resolve(Ce)}catch{}}}}clearInstance(W=J){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,o.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=J){return this.instances.has(W)}getOptions(W=J){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ye=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[Ce,Ve]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ce)&&Ve.resolve(ye);return ye}onInit(W,q){var Q;const ye=this.normalizeInstanceIdentifier(q),Ce=null!==(Q=this.onInitCallbacks.get(ye))&&void 0!==Q?Q:new Set;Ce.add(W),this.onInitCallbacks.set(ye,Ce);const Ve=this.instances.get(ye);return Ve&&W(Ve,ye),()=>{Ce.delete(W)}}invokeOnInitCallbacks(W,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const ye of Q)try{ye(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=W,ee===J?void 0:ee),options:q}),this.instances.set(W,Q),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var ee;return Q||null}normalizeInstanceIdentifier(W=J){return this.component?this.component.multipleInstances?W:J:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new G(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(le,Z,T)=>{T.d(Z,{Am:()=>ee,Ub:()=>re,Yd:()=>ne,in:()=>V});const o=[];var V=(()=>{return(W=V||(V={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",V;var W})();const O={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},J=V.INFO,G={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},j=(W,q,...Q)=>{if(q<W.logLevel)return;const ye=(new Date).toISOString(),Ce=G[q];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ce](`[${ye}]  ${W.name}:`,...Q)};class ne{constructor(q){this.name=q,this._logLevel=J,this._logHandler=j,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in V))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...q),this._logHandler(this,V.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...q),this._logHandler(this,V.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,V.INFO,...q),this._logHandler(this,V.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,V.WARN,...q),this._logHandler(this,V.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...q),this._logHandler(this,V.ERROR,...q)}}function re(W){o.forEach(q=>{q.setLogLevel(W)})}function ee(W,q){for(const Q of o){let ye=null;q&&q.level&&(ye=O[q.level]),Q.userLogHandler=null===W?null:(Ce,Ve,...We)=>{const ve=We.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Ve>=(ye??Ce.logLevel)&&W({level:V[Ve].toLowerCase(),message:ve,args:We,type:Ce.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(Z,T){if(this.action=Z,this.timestamp=T,this.type=PERFORM_ACTION,typeof Z.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(Z){this.timestamp=Z,this.type=RESET}}class Rollback{constructor(Z){this.timestamp=Z,this.type=ROLLBACK}}class Commit{constructor(Z){this.timestamp=Z,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(Z){this.id=Z,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(Z,T,o=!0){this.start=Z,this.end=T,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(Z){this.index=Z,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(Z){this.actionId=Z,this.type=JUMP_TO_ACTION}}class ImportState{constructor(Z){this.nextLiftedState=Z,this.type=IMPORT_STATE}}class LockChanges{constructor(Z){this.status=Z,this.type=LOCK_CHANGES}}class PauseRecording{constructor(Z){this.status=Z,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(le){const Z={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},T="function"==typeof le?le():le,O=Object.assign({},Z,{features:T.features||!!T.logOnly&&{pause:!0,export:!0,test:!0}||Z.features},T);if(O.maxAge&&O.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${O.maxAge}`);return O}function difference(le,Z){return le.filter(T=>Z.indexOf(T)<0)}function unliftState(le){const{computedStates:Z,currentStateIndex:T}=le;if(T>=Z.length){const{state:V}=Z[Z.length-1];return V}const{state:o}=Z[T];return o}function unliftAction(le){return le.actionsById[le.nextActionId-1]}function liftAction(le){return new PerformAction(le,+Date.now())}function sanitizeActions(le,Z){return Object.keys(Z).reduce((T,o)=>{const V=Number(o);return T[V]=sanitizeAction(le,Z[V],V),T},{})}function sanitizeAction(le,Z,T){return{...Z,action:le(Z.action,T)}}function sanitizeStates(le,Z){return Z.map((T,o)=>({state:sanitizeState(le,T.state,o),error:T.error}))}function sanitizeState(le,Z,T){return le(Z,T)}function shouldFilterActions(le){return le.predicate||le.actionsSafelist||le.actionsBlocklist}function filterLiftedState(le,Z,T,o){const V=[],O={},J=[];return le.stagedActionIds.forEach((G,j)=>{const ne=le.actionsById[G];ne&&(j&&isActionFiltered(le.computedStates[j],ne,Z,T,o)||(O[G]=ne,V.push(G),J.push(le.computedStates[j])))}),{...le,stagedActionIds:V,actionsById:O,computedStates:J}}function isActionFiltered(le,Z,T,o,V){const O=T&&!T(le,Z.action),J=o&&!Z.action.type.match(o.map(j=>escapeRegExp(j)).join("|")),G=V&&Z.action.type.match(V.map(j=>escapeRegExp(j)).join("|"));return O||J||G}function escapeRegExp(le){return le.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class le extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return le.\u0275fac=function(){let Z;return function(o){return(Z||(Z=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(le)))(o||le)}}(),le.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:le,factory:le.\u0275fac}),le})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(le,Z,T){this.config=Z,this.dispatcher=T,this.devtoolsExtension=le,this.createActionStreams()}notify(le,Z){if(this.devtoolsExtension)if(le.type===PERFORM_ACTION){if(Z.isLocked||Z.isPaused)return;const T=unliftState(Z);if(shouldFilterActions(this.config)&&isActionFiltered(T,le,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,T,Z.currentStateIndex):T,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,le,Z.nextActionId):le;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,o))}else{const T={...Z,stagedActionIds:Z.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,Z.actionsById):Z.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,Z.computedStates):Z.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,T,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(le=>{const Z=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=Z,Z.init(),Z.subscribe(T=>le.next(T)),Z.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const le=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),Z=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.START)),T=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.STOP)),o=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(G=>this.unwrapAction(G.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(G=>G.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>G),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(G)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(G))),O=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(G=>G.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(G=>this.unwrapAction(G.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),J=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T));this.start$=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(T)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>O)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>J))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(le){const Z={name:le.name,features:le.features,serialize:le.serialize,autoPause:le.autoPause??!1,trace:le.trace??!1,traceLimit:le.traceLimit??75};return!1!==le.maxAge&&(Z.maxAge=le.maxAge),Z}sendToReduxDevtools(le){try{le()}catch(Z){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",Z)}}}return DevtoolsExtension.\u0275fac=function le(Z){return new(Z||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(le,Z,T,o,V){if(o)return{state:T,error:"Interrupted by an error up the chain"};let J,O=T;try{O=le(T,Z)}catch(G){J=G.toString(),V.handleError(G)}return{state:O,error:J}}function recomputeStates(le,Z,T,o,V,O,J,G,j){if(Z>=le.length&&le.length===O.length)return le;const ne=le.slice(0,Z),re=O.length-(j?1:0);for(let ee=Z;ee<re;ee++){const W=O[ee],q=V[W].action,Q=ne[ee-1],ye=Q?Q.state:o,Ce=Q?Q.error:void 0,We=J.indexOf(W)>-1?Q:computeNextEntry(T,q,ye,Ce,G);ne.push(We)}return j&&ne.push(le[le.length-1]),ne}function liftInitialState(le,Z){return{monitorState:Z(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:le,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(le,Z,T,o,V={}){return O=>(J,G)=>{let{monitorState:j,actionsById:ne,nextActionId:re,stagedActionIds:ee,skippedActionIds:W,committedState:q,currentStateIndex:Q,computedStates:ye,isLocked:Ce,isPaused:Ve}=J||Z;function We(Ne){let Re=Ne,Ae=ee.slice(1,Re+1);for(let Se=0;Se<Ae.length;Se++){if(ye[Se+1].error){Re=Se,Ae=ee.slice(1,Re+1);break}delete ne[Ae[Se]]}W=W.filter(Se=>-1===Ae.indexOf(Se)),ee=[0,...ee.slice(Re+1)],q=ye[Re].state,ye=ye.slice(Re),Q=Q>Re?Q-Re:0}function ve(){ne={0:liftAction(INIT_ACTION)},re=1,ee=[0],W=[],q=ye[Q].state,Q=0,ye=[]}J||(ne=Object.create(ne));let Ie=0;switch(G.type){case LOCK_CHANGES:Ce=G.status,Ie=1/0;break;case PAUSE_RECORDING:Ve=G.status,Ve?(ee=[...ee,re],ne[re]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),re++,Ie=ee.length-1,ye=ye.concat(ye[ye.length-1]),Q===ee.length-2&&Q++,Ie=1/0):ve();break;case RESET:ne={0:liftAction(INIT_ACTION)},re=1,ee=[0],W=[],q=le,Q=0,ye=[];break;case COMMIT:ve();break;case ROLLBACK:ne={0:liftAction(INIT_ACTION)},re=1,ee=[0],W=[],Q=0,ye=[];break;case TOGGLE_ACTION:{const{id:Ne}=G;W=-1===W.indexOf(Ne)?[Ne,...W]:W.filter(Ae=>Ae!==Ne),Ie=ee.indexOf(Ne);break}case SET_ACTIONS_ACTIVE:{const{start:Ne,end:Re,active:Ae}=G,Se=[];for(let Ue=Ne;Ue<Re;Ue++)Se.push(Ue);W=Ae?difference(W,Se):[...W,...Se],Ie=ee.indexOf(Ne);break}case JUMP_TO_STATE:Q=G.index,Ie=1/0;break;case JUMP_TO_ACTION:{const Ne=ee.indexOf(G.actionId);-1!==Ne&&(Q=Ne),Ie=1/0;break}case SWEEP:ee=difference(ee,W),W=[],Q=Math.min(Q,ee.length-1);break;case PERFORM_ACTION:{if(Ce)return J||Z;if(Ve||J&&isActionFiltered(J.computedStates[Q],G,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const Re=ye[ye.length-1];ye=[...ye.slice(0,-1),computeNextEntry(O,G.action,Re.state,Re.error,T)],Ie=1/0;break}V.maxAge&&ee.length===V.maxAge&&We(1),Q===ee.length-1&&Q++;const Ne=re++;ne[Ne]=G,ee=[...ee,Ne],Ie=ee.length-1;break}case IMPORT_STATE:({monitorState:j,actionsById:ne,nextActionId:re,stagedActionIds:ee,skippedActionIds:W,committedState:q,currentStateIndex:Q,computedStates:ye,isLocked:Ce,isPaused:Ve}=G.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ie=0,V.maxAge&&ee.length>V.maxAge&&(ye=recomputeStates(ye,Ie,O,q,ne,ee,W,T,Ve),We(ee.length-V.maxAge),Ie=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ye.filter(Re=>Re.error).length>0)Ie=0,V.maxAge&&ee.length>V.maxAge&&(ye=recomputeStates(ye,Ie,O,q,ne,ee,W,T,Ve),We(ee.length-V.maxAge),Ie=1/0);else{if(!Ve&&!Ce){Q===ee.length-1&&Q++;const Re=re++;ne[Re]=new PerformAction(G,+Date.now()),ee=[...ee,Re],Ie=ee.length-1,ye=recomputeStates(ye,Ie,O,q,ne,ee,W,T,Ve)}ye=ye.map(Re=>({...Re,state:O(Re.state,RECOMPUTE_ACTION)})),Q=ee.length-1,V.maxAge&&ee.length>V.maxAge&&We(ee.length-V.maxAge),Ie=1/0}break;default:Ie=1/0}return ye=recomputeStates(ye,Ie,O,q,ne,ee,W,T,Ve),j=o(j,G),{monitorState:j,actionsById:ne,nextActionId:re,stagedActionIds:ee,skippedActionIds:W,committedState:q,currentStateIndex:Q,computedStates:ye,isLocked:Ce,isPaused:Ve}}}let StoreDevtools=(()=>{class le{constructor(T,o,V,O,J,G,j,ne){const re=liftInitialState(j,ne.monitor),ee=liftReducerWith(j,re,G,ne.monitor,ne),W=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),O.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),T,O.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),q=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee)),Q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),ye=W.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(q),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ve},[Ie,Ne])=>{let Re=Ne(ve,Ie);return Ie.type!==PERFORM_ACTION&&shouldFilterActions(ne)&&(Re=filterLiftedState(Re,ne.predicate,ne.actionsSafelist,ne.actionsBlocklist)),O.notify(Ie,Re),{state:Re,action:Ie}},{state:re,action:null})).subscribe(({state:ve,action:Ie})=>{Q.next(ve),Ie.type===PERFORM_ACTION&&J.next(Ie.action)}),Ce=O.start$.subscribe(()=>{this.refresh()}),Ve=Q.asObservable(),We=Ve.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ce,this.stateSubscription=ye,this.dispatcher=T,this.liftedState=Ve,this.state=We}dispatch(T){this.dispatcher.next(T)}next(T){this.dispatcher.next(T)}error(T){}complete(){}performAction(T){this.dispatch(new PerformAction(T,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(T){this.dispatch(new ToggleAction(T))}jumpToAction(T){this.dispatch(new JumpToAction(T))}jumpToState(T){this.dispatch(new JumpToState(T))}importState(T){this.dispatch(new ImportState(T))}lockChanges(T){this.dispatch(new LockChanges(T))}pauseRecording(T){this.dispatch(new PauseRecording(T))}}return le.\u0275fac=function(T){return new(T||le)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},le.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:le,factory:le.\u0275fac}),le})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(le,Z){return Boolean(le)||Z.monitor!==noMonitor}function createReduxDevtoolsExtension(){const le="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[le]<"u"?window[le]:null}function provideStoreDevtools(le={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:le},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(le){return le.state}let StoreDevtoolsModule=(()=>{class le{static instrument(T={}){return{ngModule:le,providers:[provideStoreDevtools(T)]}}}return le.\u0275fac=function(T){return new(T||le)},le.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:le}),le.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),le})()},9653:(le,Z,T)=>{T.d(Z,{UO:()=>Ke,qg:()=>Ue,Y6:()=>Tt,mK:()=>ct,n$:()=>gn,Y$:()=>ui,FR:()=>_n,yh:()=>jn,CK:()=>Vs,Aw:()=>ds,cr:()=>br,wb:()=>Kn,PH:()=>Ce,R7:()=>Ne,Tz:()=>Ft,Lq:()=>so,on:()=>fi,Ky:()=>Ve});var o=T(4650),V=T(1135),O=T(9751),J=T(7579),G=T(233),j=T(5363),ne=T(1365),re=T(5026),ee=T(4004),q=T(1884);const Q={};function Ce(Y,we){if(Q[Y]=(Q[Y]||0)+1,"function"==typeof we)return ve(Y,(...xe)=>({...we(...xe),type:Y}));switch(we?we._as:"empty"){case"empty":return ve(Y,()=>({type:Y}));case"props":return ve(Y,xe=>({...xe,type:Y}));default:throw new Error("Unexpected config.")}}function Ve(){return{_as:"props",_p:void 0}}function ve(Y,we){return Object.defineProperty(we,"type",{value:Y,writable:!1})}function Ie(Y){return Y.charAt(0).toUpperCase()+Y.substring(1)}function Ne(Y){const{source:we,events:fe}=Y;return Object.keys(fe).reduce((xe,Ge)=>({...xe,[Ae(Ge)]:Ce(Se(we,Ge),fe[Ge])}),{})}function Ae(Y){return Y.trim().toLowerCase().split(" ").map((we,fe)=>0===fe?we:Ie(we)).join("")}function Se(Y,we){return`[${Y}] ${we}`}const Ue="@ngrx/store/init";let Ke=(()=>{class Y extends V.X{constructor(){super({type:Ue})}next(fe){if("function"==typeof fe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof fe>"u")throw new TypeError("Actions must be objects");if(typeof fe.type>"u")throw new TypeError("Actions must have a type property");super.next(fe)}complete(){}ngOnDestroy(){super.complete()}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275prov=o.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const qe=[Ke],be=new o.OlP("@ngrx/store Internal Root Guard"),ot=new o.OlP("@ngrx/store Internal Initial State"),Tt=new o.OlP("@ngrx/store Initial State"),mt=new o.OlP("@ngrx/store Reducer Factory"),Xt=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),yt=new o.OlP("@ngrx/store Initial Reducers"),Xr=new o.OlP("@ngrx/store Internal Initial Reducers"),mi=new o.OlP("@ngrx/store Store Features"),sr=new o.OlP("@ngrx/store Internal Store Reducers"),Ar=new o.OlP("@ngrx/store Internal Feature Reducers"),Vr=new o.OlP("@ngrx/store Internal Feature Configs"),cs=new o.OlP("@ngrx/store Internal Store Features"),me=new o.OlP("@ngrx/store Internal Feature Reducers Token"),de=new o.OlP("@ngrx/store Feature Reducers"),ge=new o.OlP("@ngrx/store User Provided Meta Reducers"),Te=new o.OlP("@ngrx/store Meta Reducers"),ze=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),Le=new o.OlP("@ngrx/store User Runtime Checks Config"),at=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),qt=new o.OlP("@ngrx/store Internal Runtime Checks"),vn=new o.OlP("@ngrx/store Check if Action types are unique");function kn(Y,we={}){const fe=Object.keys(Y),xe={};for(let nt=0;nt<fe.length;nt++){const hn=fe[nt];"function"==typeof Y[hn]&&(xe[hn]=Y[hn])}const Ge=Object.keys(xe);return function(hn,Fn){hn=void 0===hn?we:hn;let Vn=!1;const vi={};for(let Dn=0;Dn<Ge.length;Dn++){const Ln=Ge[Dn],Zi=hn[Ln],Ur=(0,xe[Ln])(Zi,Fn);vi[Ln]=Ur,Vn=Vn||Ur!==Zi}return Vn?vi:hn}}function an(...Y){return function(we){if(0===Y.length)return we;const fe=Y[Y.length-1];return Y.slice(0,-1).reduceRight((Ge,nt)=>nt(Ge),fe(we))}}function Nn(Y,we){return Array.isArray(we)&&we.length>0&&(Y=an.apply(null,[...we,Y])),(fe,xe)=>{const Ge=Y(fe);return(nt,hn)=>Ge(nt=void 0===nt?xe:nt,hn)}}new o.OlP("@ngrx/store Root Store Provider"),new o.OlP("@ngrx/store Feature State Provider");class gn extends O.y{}class ct extends Ke{}const Kn="@ngrx/store/update-reducers";let _r=(()=>{class Y extends V.X{constructor(fe,xe,Ge,nt){super(nt(Ge,xe)),this.dispatcher=fe,this.initialState=xe,this.reducers=Ge,this.reducerFactory=nt}get currentReducers(){return this.reducers}addFeature(fe){this.addFeatures([fe])}addFeatures(fe){const xe=fe.reduce((Ge,{reducers:nt,reducerFactory:hn,metaReducers:Fn,initialState:Vn,key:vi})=>{const Dn="function"==typeof nt?function pi(Y){const we=Array.isArray(Y)&&Y.length>0?an(...Y):fe=>fe;return(fe,xe)=>(fe=we(fe),(Ge,nt)=>fe(Ge=void 0===Ge?xe:Ge,nt))}(Fn)(nt,Vn):Nn(hn,Fn)(nt,Vn);return Ge[vi]=Dn,Ge},{});this.addReducers(xe)}removeFeature(fe){this.removeFeatures([fe])}removeFeatures(fe){this.removeReducers(fe.map(xe=>xe.key))}addReducer(fe,xe){this.addReducers({[fe]:xe})}addReducers(fe){this.reducers={...this.reducers,...fe},this.updateReducers(Object.keys(fe))}removeReducer(fe){this.removeReducers([fe])}removeReducers(fe){fe.forEach(xe=>{this.reducers=function ii(Y,we){return Object.keys(Y).filter(fe=>fe!==we).reduce((fe,xe)=>Object.assign(fe,{[xe]:Y[xe]}),{})}(this.reducers,xe)}),this.updateReducers(fe)}updateReducers(fe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Kn,features:fe})}ngOnDestroy(){this.complete()}}return Y.\u0275fac=function(fe){return new(fe||Y)(o.LFG(ct),o.LFG(Tt),o.LFG(yt),o.LFG(mt))},Y.\u0275prov=o.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const ri=[_r,{provide:gn,useExisting:_r},{provide:ct,useExisting:Ke}];let ui=(()=>{class Y extends J.x{ngOnDestroy(){this.complete()}}return Y.\u0275fac=function(){let we;return function(xe){return(we||(we=o.n5z(Y)))(xe||Y)}}(),Y.\u0275prov=o.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const or=[ui];class _n extends O.y{}let Jt=(()=>{class Y extends V.X{constructor(fe,xe,Ge,nt){super(nt);const vi=fe.pipe((0,j.Q)(G.N)).pipe((0,ne.M)(xe)).pipe((0,re.R)(wt,{state:nt}));this.stateSubscription=vi.subscribe(({state:Dn,action:Ln})=>{this.next(Dn),Ge.next(Ln)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Y.INIT=Ue,Y.\u0275fac=function(fe){return new(fe||Y)(o.LFG(Ke),o.LFG(gn),o.LFG(ui),o.LFG(Tt))},Y.\u0275prov=o.Yz7({token:Y,factory:Y.\u0275fac}),Y})();function wt(Y={state:void 0},[we,fe]){const{state:xe}=Y;return{state:fe(xe,we),action:we}}const Vt=[Jt,{provide:_n,useExisting:Jt}];let jn=(()=>{class Y extends O.y{constructor(fe,xe,Ge){super(),this.actionsObserver=xe,this.reducerManager=Ge,this.source=fe}select(fe,...xe){return Yn.call(null,fe,...xe)(this)}lift(fe){const xe=new Y(this,this.actionsObserver,this.reducerManager);return xe.operator=fe,xe}dispatch(fe){this.actionsObserver.next(fe)}next(fe){this.actionsObserver.next(fe)}error(fe){this.actionsObserver.error(fe)}complete(){this.actionsObserver.complete()}addReducer(fe,xe){this.reducerManager.addReducer(fe,xe)}removeReducer(fe){this.reducerManager.removeReducer(fe)}}return Y.\u0275fac=function(fe){return new(fe||Y)(o.LFG(_n),o.LFG(Ke),o.LFG(_r))},Y.\u0275prov=o.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const Bi=[jn];function Yn(Y,we,...fe){return function(Ge){let nt;if("string"==typeof Y){const hn=[we,...fe].filter(Boolean);nt=Ge.pipe(function W(...Y){const we=Y.length;if(0===we)throw new Error("list of properties cannot be empty.");return(0,ee.U)(fe=>{let xe=fe;for(let Ge=0;Ge<we;Ge++){const nt=xe?.[Y[Ge]];if(!(typeof nt<"u"))return;xe=nt}return xe})}(Y,...hn))}else{if("function"!=typeof Y)throw new TypeError(`Unexpected type '${typeof Y}' in select operator, expected 'string' or 'function'`);nt=Ge.pipe((0,ee.U)(hn=>Y(hn,we)))}return nt.pipe((0,q.x)())}}const Vi="https://ngrx.io/guide/store/configuration/runtime-checks";function Zn(Y){return void 0===Y}function hi(Y){return null===Y}function en(Y){return Array.isArray(Y)}function Kt(Y){return"object"==typeof Y&&null!==Y}function Gn(Y){if(!function si(Y){return Kt(Y)&&!en(Y)}(Y))return!1;const we=Object.getPrototypeOf(Y);return we===Object.prototype||null===we}function gi(Y){return"function"==typeof Y}let Ui=!1;function X(Y,we){return Y===we}function P(Y,we=X,fe=X){let nt,xe=null,Ge=null;return{memoized:function vi(){if(void 0!==nt)return nt.result;if(!xe)return Ge=Y.apply(null,arguments),xe=arguments,Ge;if(!function B(Y,we,fe){for(let xe=0;xe<Y.length;xe++)if(!fe(Y[xe],we[xe]))return!0;return!1}(arguments,xe,we))return Ge;const Dn=Y.apply(null,arguments);return xe=arguments,fe(Ge,Dn)?Ge:(Ge=Dn,Dn)},reset:function hn(){xe=null,Ge=null},setResult:function Fn(Dn){nt={result:Dn}},clearResult:function Vn(){nt=void 0}}}function oe(...Y){return function ut(Y,we={stateFn:Be}){return function(...fe){let xe=fe;if(Array.isArray(xe[0])){const[Dn,...Ln]=xe;xe=[...Dn,...Ln]}else 1===xe.length&&function At(Y){return!!Y&&"object"==typeof Y&&Object.values(Y).every(we=>"function"==typeof we)}(xe[0])&&(xe=function sn(Y){const we=Object.values(Y),fe=Object.keys(Y);return[...we,(...Ge)=>fe.reduce((nt,hn,Fn)=>({...nt,[hn]:Ge[Fn]}),{})]}(xe[0]));const Ge=xe.slice(0,xe.length-1),nt=xe[xe.length-1],hn=Ge.filter(Dn=>Dn.release&&"function"==typeof Dn.release),Fn=Y(function(...Dn){return nt.apply(null,Dn)}),Vn=P(function(Dn,Ln){return we.stateFn.apply(null,[Dn,Ge,Ln,Fn])});return Object.assign(Vn.memoized,{release:function vi(){Vn.reset(),Fn.reset(),hn.forEach(Dn=>Dn.release())},projector:Fn.memoized,setResult:Vn.setResult,clearResult:Vn.clearResult})}}(P)(...Y)}function Be(Y,we,fe,xe){if(void 0===fe){const nt=we.map(hn=>hn(Y));return xe.memoized.apply(null,nt)}const Ge=we.map(nt=>nt(Y,fe));return xe.memoized.apply(null,[...Ge,fe])}function Ft(Y){const{name:we,reducer:fe,extraSelectors:xe}=Y,Ge=function Ot(Y){return oe(we=>{const fe=we[Y];return!function ie(){return Ui}()&&(0,o.X6Q)()&&!(Y in we)&&console.warn(`@ngrx/store: The feature name "${Y}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Y}', ...) or StoreModule.forFeature('${Y}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),fe},we=>we)}(we),nt=function Bn(Y,we){const fe=function Yt(Y){return Y(void 0,{type:"@ngrx/feature/init"})}(we);return(Gn(fe)?Object.keys(fe):[]).reduce((Ge,nt)=>({...Ge,[`select${Ie(nt)}`]:oe(Y,hn=>hn?.[nt])}),{})}(Ge,fe),hn={[`select${Ie(we)}State`]:Ge,...nt},Fn=xe?xe(hn):{};return{name:we,reducer:fe,...hn,...Fn}}function Di(Y){return Y instanceof o.OlP?(0,o.f3M)(Y):Y}function Es(Y,we){return we.map((fe,xe)=>{if(Y[xe]instanceof o.OlP){const Ge=(0,o.f3M)(Y[xe]);return{key:fe.key,reducerFactory:Ge.reducerFactory?Ge.reducerFactory:kn,metaReducers:Ge.metaReducers?Ge.metaReducers:[],initialState:Ge.initialState}}return fe})}function Pe(Y){return Y.map(we=>we instanceof o.OlP?(0,o.f3M)(we):we)}function pe(Y){return"function"==typeof Y?Y():Y}function Ye(Y,we){return Y.concat(we)}function Et(){if((0,o.f3M)(jn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function tn(Y){Object.freeze(Y);const we=gi(Y);return Object.getOwnPropertyNames(Y).forEach(fe=>{if(!fe.startsWith("\u0275")&&function ar(Y,we){return Object.prototype.hasOwnProperty.call(Y,we)}(Y,fe)&&(!we||"caller"!==fe&&"callee"!==fe&&"arguments"!==fe)){const xe=Y[fe];(Kt(xe)||gi(xe))&&!Object.isFrozen(xe)&&tn(xe)}}),Y}function En(Y,we=[]){return(Zn(Y)||hi(Y))&&0===we.length?{path:["root"],value:Y}:Object.keys(Y).reduce((xe,Ge)=>{if(xe)return xe;const nt=Y[Ge];return function oi(Y){return gi(Y)&&Y.hasOwnProperty("\u0275cmp")}(nt)?xe:!(Zn(nt)||hi(nt)||function vr(Y){return"number"==typeof Y}(nt)||function ln(Y){return"boolean"==typeof Y}(nt)||function kr(Y){return"string"==typeof Y}(nt)||en(nt))&&(Gn(nt)?En(nt,[...we,Ge]):{path:[...we,Ge],value:nt})},!1)}function mn(Y,we){if(!1===Y)return;const fe=Y.path.join("."),xe=new Error(`Detected unserializable ${we} at "${fe}". ${Vi}#strict${we}serializability`);throw xe.value=Y.value,xe.unserializablePath=fe,xe}function Si(Y){return(0,o.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Y}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Fa({strictActionSerializability:Y,strictStateSerializability:we}){return fe=>Y||we?function Dt(Y,we){return function(fe,xe){we.action(xe)&&mn(En(xe),"action");const Ge=Y(fe,xe);return we.state()&&mn(En(Ge),"state"),Ge}}(fe,{action:xe=>Y&&!Cs(xe),state:()=>we}):fe}function Sd({strictActionImmutability:Y,strictStateImmutability:we}){return fe=>Y||we?function Nt(Y,we){return function(fe,xe){const Ge=we.action(xe)?tn(xe):xe,nt=Y(fe,Ge);return we.state()?tn(nt):nt}}(fe,{action:xe=>Y&&!Cs(xe),state:()=>we}):fe}function Cs(Y){return Y.type.startsWith("@ngrx")}function Ti({strictActionWithinNgZone:Y}){return we=>Y?function Yi(Y,we){return function(fe,xe){if(we.action(xe)&&!o.R0b.isInAngularZone())throw new Error(`Action '${xe.type}' running outside NgZone. ${Vi}#strictactionwithinngzone`);return Y(fe,xe)}}(we,{action:fe=>Y&&!Cs(fe)}):we}function lt(Y){return[{provide:at,useValue:Y},{provide:Le,useFactory:$n,deps:[at]},{provide:qt,deps:[Le],useFactory:Si},{provide:Te,multi:!0,deps:[qt],useFactory:Sd},{provide:Te,multi:!0,deps:[qt],useFactory:Fa},{provide:Te,multi:!0,deps:[qt],useFactory:Ti}]}function Zt(){return[{provide:vn,multi:!0,deps:[qt],useFactory:In}]}function $n(Y){return Y}function In(Y){if(!Y.strictActionTypeUniqueness)return;const we=Object.entries(Q).filter(([,fe])=>fe>1).map(([fe])=>fe);if(we.length)throw new Error(`Action types are registered more than once, ${we.map(fe=>`"${fe}"`).join(", ")}. ${Vi}#strictactiontypeuniqueness`)}function _i(Y={},we={}){return[{provide:be,useFactory:Et},{provide:ot,useValue:we.initialState},{provide:Tt,useFactory:pe,deps:[ot]},{provide:Xr,useValue:Y},{provide:sr,useExisting:Y instanceof o.OlP?Y:Xr},{provide:yt,deps:[Xr,[new o.tBr(sr)]],useFactory:Di},{provide:ge,useValue:we.metaReducers?we.metaReducers:[]},{provide:ze,deps:[Te,ge],useFactory:Ye},{provide:Xt,useValue:we.reducerFactory?we.reducerFactory:kn},{provide:mt,deps:[Xt,ze],useFactory:Nn},qe,ri,or,Vt,Bi,lt(we.runtimeChecks),Zt()]}function Xo(Y,we,fe={}){return[{provide:Vr,multi:!0,useValue:Y instanceof Object?{}:fe},{provide:mi,multi:!0,useValue:{key:Y instanceof Object?Y.name:Y,reducerFactory:fe instanceof o.OlP||!fe.reducerFactory?kn:fe.reducerFactory,metaReducers:fe instanceof o.OlP||!fe.metaReducers?[]:fe.metaReducers,initialState:fe instanceof o.OlP||!fe.initialState?void 0:fe.initialState}},{provide:cs,deps:[Vr,mi],useFactory:Es},{provide:Ar,multi:!0,useValue:Y instanceof Object?Y.reducer:we},{provide:me,multi:!0,useExisting:we instanceof o.OlP?we:Ar},{provide:de,multi:!0,deps:[Ar,[new o.tBr(me)]],useFactory:Pe},Zt()]}let br=(()=>{class Y{constructor(fe,xe,Ge,nt,hn,Fn){}}return Y.\u0275fac=function(fe){return new(fe||Y)(o.LFG(Ke),o.LFG(gn),o.LFG(ui),o.LFG(jn),o.LFG(be,8),o.LFG(vn,8))},Y.\u0275mod=o.oAB({type:Y}),Y.\u0275inj=o.cJS({}),Y})(),Vs=(()=>{class Y{constructor(fe,xe,Ge,nt,hn){this.features=fe,this.featureReducers=xe,this.reducerManager=Ge;const Fn=fe.map((Vn,vi)=>{const Ln=xe.shift()[vi];return{...Vn,reducers:Ln,initialState:pe(Vn.initialState)}});Ge.addFeatures(Fn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Y.\u0275fac=function(fe){return new(fe||Y)(o.LFG(cs),o.LFG(de),o.LFG(_r),o.LFG(br),o.LFG(vn,8))},Y.\u0275mod=o.oAB({type:Y}),Y.\u0275inj=o.cJS({}),Y})(),ds=(()=>{class Y{static forRoot(fe,xe){return{ngModule:br,providers:[..._i(fe,xe)]}}static forFeature(fe,xe,Ge={}){return{ngModule:Vs,providers:[...Xo(fe,xe,Ge)]}}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275mod=o.oAB({type:Y}),Y.\u0275inj=o.cJS({}),Y})();function fi(...Y){return{reducer:Y.pop(),types:Y.map(xe=>xe.type)}}function so(Y,...we){const fe=new Map;for(const xe of we)for(const Ge of xe.types){const nt=fe.get(Ge);fe.set(Ge,nt?(Fn,Vn)=>xe.reducer(nt(Fn,Vn),Vn):xe.reducer)}return function(xe=Y,Ge){const nt=fe.get(Ge.type);return nt?nt(xe,Ge):xe}}},259:(le,Z,T)=>{T.d(Z,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=T(6881);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(le,Z,T)=>{T.d(Z,{Z:()=>o.Z});var o=T(3942);o.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(le,Z,T)=>{T.r(Z);var o=T(5861),V=T(3942),O=T(1389),J=T(2090),ne=(T(6881),T(1877),T(4859));function re(){return window}const ee=2e3;function q(){return q=(0,o.Z)(function*(B,U,P){var oe;const{BuildInfo:Be}=re();(0,O.as)(U.sessionId,"AuthEvent did not contain a session ID");const ut=yield function Ie(B){return Ne.apply(this,arguments)}(U.sessionId),Ot={};return(0,O.at)()?Ot.ibi=Be.packageName:(0,O.au)()?Ot.apn=Be.packageName:(0,O.av)(B,"operation-not-supported-in-this-environment"),Be.displayName&&(Ot.appDisplayName=Be.displayName),Ot.sessionId=ut,(0,O.aw)(B,P,U.type,void 0,null!==(oe=U.eventId)&&void 0!==oe?oe:void 0,Ot)}),q.apply(this,arguments)}function ye(){return(ye=(0,o.Z)(function*(B){const{BuildInfo:U}=re(),P={};(0,O.at)()?P.iosBundleId=U.packageName:(0,O.au)()?P.androidPackageName=U.packageName:(0,O.av)(B,"operation-not-supported-in-this-environment"),yield(0,O.ax)(B,P)})).apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(B,U,P){const{cordova:oe}=re();let Be=()=>{};try{yield new Promise((ut,Ot)=>{let At=null;function sn(){var Yt;ut();const Di=null===(Yt=oe.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Di&&Di(),"function"==typeof P?.close&&P.close()}function Ft(){At||(At=window.setTimeout(()=>{Ot((0,O.az)(B,"redirect-cancelled-by-user"))},ee))}function Bn(){"visible"===document?.visibilityState&&Ft()}U.addPassiveListener(sn),document.addEventListener("resume",Ft,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Bn,!1),Be=()=>{U.removePassiveListener(sn),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Bn,!1),At&&window.clearTimeout(At)}})}finally{Be()}})).apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(B){const U=function Re(B){if((0,O.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const U=new ArrayBuffer(B.length),P=new Uint8Array(U);for(let oe=0;oe<B.length;oe++)P[oe]=B.charCodeAt(oe);return P}(B),P=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(P)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ae=20;class Se extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(U)),super.onEvent(U)}initialized(){var U=this;return(0,o.Z)(function*(){yield U.initPromise})()}}function qe(B){return be.apply(this,arguments)}function be(){return(be=(0,o.Z)(function*(B){const U=yield mt()._get(Xt(B));return U&&(yield mt()._remove(Xt(B))),U})).apply(this,arguments)}function Tt(){const B=[],U="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<Ae;P++){const oe=Math.floor(Math.random()*U.length);B.push(U.charAt(oe))}return B.join("")}function mt(){return(0,O.aC)(O.b)}function Xt(B){return(0,O.aD)("authEvent",B.config.apiKey,B.name)}function mi(B){if(!B?.includes("?"))return{};const[U,...P]=B.split("?");return(0,J.zd)(P.join("?"))}const Vr=class Ar{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(U){var P=this;return(0,o.Z)(function*(){const oe=U._key();let Be=P.eventManagers.get(oe);return Be||(Be=new Se(U),P.eventManagers.set(oe,Be),P.attachCallbackListeners(U,Be)),Be})()}_openPopup(U){(0,O.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,P,oe,Be){var ut=this;return(0,o.Z)(function*(){!function ve(B){var U,P,oe,Be,ut,Ot,At,sn,Ft,Bn;const Yt=re();(0,O.aA)("function"==typeof(null===(U=Yt?.universalLinks)||void 0===U?void 0:U.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(P=Yt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(ut=null===(Be=null===(oe=Yt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ut?void 0:ut.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(sn=null===(At=null===(Ot=Yt?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===At?void 0:At.browsertab)||void 0===sn?void 0:sn.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Bn=null===(Ft=Yt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Bn?void 0:Bn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Ot=yield ut._initialize(U);yield Ot.initialized(),Ot.resetRedirect(),(0,O.aG)(),yield ut._originValidation(U);const At=function Ue(B,U,P=null){return{type:U,eventId:P,urlResponse:null,sessionId:Tt(),postBody:null,tenantId:B.tenantId,error:(0,O.az)(B,"no-auth-event")}}(U,oe,Be);yield function Ke(B,U){return mt()._set(Xt(B),U)}(U,At);const sn=yield function W(B,U,P){return q.apply(this,arguments)}(U,At,P),Ft=yield function Ce(B){const{cordova:U}=re();return new Promise(P=>{U.plugins.browsertab.isAvailable(oe=>{let Be=null;oe?U.plugins.browsertab.openUrl(B):Be=U.InAppBrowser.open(B,(0,O.ay)()?"_blank":"_system","location=yes"),P(Be)})})}(sn);return function Ve(B,U,P){return We.apply(this,arguments)}(U,Ot,Ft)})()}_isIframeWebStorageSupported(U,P){throw new Error("Method not implemented.")}_originValidation(U){const P=U._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function Q(B){return ye.apply(this,arguments)}(U)),this.originValidationPromises[P]}attachCallbackListeners(U,P){const{universalLinks:oe,handleOpenURL:Be,BuildInfo:ut}=re(),Ot=setTimeout((0,o.Z)(function*(){yield qe(U),P.onEvent(cs())}),500),At=function(){var Bn=(0,o.Z)(function*(Yt){clearTimeout(Ot);const Di=yield qe(U);let Es=null;Di&&Yt?.url&&(Es=function ot(B,U){var P,oe;const Be=function Xr(B){const U=mi(B),P=U.link?decodeURIComponent(U.link):void 0,oe=mi(P).link,Be=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return mi(Be).link||Be||oe||P||B}(U);if(Be.includes("/__/auth/callback")){const ut=mi(Be),Ot=ut.firebaseError?function yt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,At=null===(oe=null===(P=Ot?.code)||void 0===P?void 0:P.split("auth/"))||void 0===oe?void 0:oe[1],sn=At?(0,O.az)(At):null;return sn?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:Be,postBody:null}}return null}(Di,Yt.url)),P.onEvent(Es||cs())});return function(Di){return Bn.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,At);const sn=Be,Ft=`${ut.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var Bn=(0,o.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Ft)&&At({url:Yt}),"function"==typeof sn)try{sn(Yt)}catch(Di){console.error(Di)}});return function(Yt){return Bn.apply(this,arguments)}}()}};function cs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}const Te=1e3;function ze(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function at(B=(0,J.z$)()){return!("file:"!==ze()&&"ionic:"!==ze()&&"capacitor:"!==ze()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function kn(){try{const B=self.localStorage,U=O.aL();if(B)return B.setItem(U,"1"),B.removeItem(U),!function yn(B=(0,J.z$)()){return function vn(){return(0,J.w1)()&&11===document?.documentMode}()||function kt(B=(0,J.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,J.hl)()}catch{return ii()&&(0,J.hl)()}return!1}function ii(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function Le(){return"http:"===ze()||"https:"===ze()}()||(0,J.ru)()||at())&&!function qt(){return(0,J.b$)()||(0,J.UG)()}()&&kn()&&!ii()}function Nn(){return at()&&typeof document<"u"}function gn(){return(gn=(0,o.Z)(function*(){return!!Nn()&&new Promise(B=>{const U=setTimeout(()=>{B(!1)},Te);document.addEventListener("deviceready",()=>{clearTimeout(U),B(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},_r=O.aA,ri="persistence";function or(B){return _n.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(B){yield B._initializationPromise;const U=wt(),P=O.aD(ri,B.config.apiKey,B.name);U&&U.setItem(P,B._getPersistence())})).apply(this,arguments)}function wt(){var B;try{return(null===(B=function ct(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Vt=O.aA;class jn{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(Vr),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(U){var P=this;return(0,o.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,P,oe,Be){var ut=this;return(0,o.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(U,P,oe,Be)})()}_openRedirect(U,P,oe,Be){var ut=this;return(0,o.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(U,P,oe,Be)})()}_isIframeWebStorageSupported(U,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,P)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Nn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,o.Z)(function*(){if(U.underlyingResolver)return;const P=yield function pi(){return gn.apply(this,arguments)}();U.underlyingResolver=P?U.cordovaResolver:U.browserResolver})()}}function Bi(B){return B.unwrap()}function Vi(B){return hi(B)}function hi(B){const{_tokenResponse:U}=B instanceof J.ZR?B.customData:B;if(!U)return null;if(!(B instanceof J.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return O.P.credentialFromResult(B);const P=U.providerId;if(!P||P===O.p.PASSWORD)return null;let oe;switch(P){case O.p.GOOGLE:oe=O.V;break;case O.p.FACEBOOK:oe=O.U;break;case O.p.GITHUB:oe=O.W;break;case O.p.TWITTER:oe=O.Z;break;default:const{oauthIdToken:Be,oauthAccessToken:ut,oauthTokenSecret:Ot,pendingToken:At,nonce:sn}=U;return ut||Ot||Be||At?At?P.startsWith("saml.")?O.aO._create(P,At):O.L._fromParams({providerId:P,signInMethod:P,pendingToken:At,idToken:Be,accessToken:ut}):new O.X(P).credential({idToken:Be,accessToken:ut,rawNonce:sn}):null}return B instanceof J.ZR?oe.credentialFromError(B):oe.credentialFromResult(B)}function en(B,U){return U.catch(P=>{throw P instanceof J.ZR&&function Zn(B,U){var P;const oe=null===(P=U.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new vr(B,O.aq(B,U));else if(oe){const Be=hi(U),ut=U;Be&&(ut.credential=Be,ut.tenantId=oe.tenantId||void 0,ut.email=oe.email||void 0,ut.phoneNumber=oe.phoneNumber||void 0)}}(B,P),P}).then(P=>{const Be=P.user;return{operationType:P.operationType,credential:Vi(P),additionalUserInfo:O.ao(P),user:Kt.getOrCreate(Be)}})}function kr(B,U){return ln.apply(this,arguments)}function ln(){return(ln=(0,o.Z)(function*(B,U){const P=yield U;return{verificationId:P.verificationId,confirm:oe=>en(B,P.confirm(oe))}})).apply(this,arguments)}class vr{constructor(U,P){this.resolver=P,this.auth=function Yn(B){return B.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return en(Bi(this.auth),this.resolver.resolveSignIn(U))}}class Kt{constructor(U){this._delegate=U,this.multiFactor=O.ar(U)}static getOrCreate(U){return Kt.USER_MAP.has(U)||Kt.USER_MAP.set(U,new Kt(U)),Kt.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var P=this;return(0,o.Z)(function*(){return en(P.auth,O.a0(P._delegate,U))})()}linkWithPhoneNumber(U,P){var oe=this;return(0,o.Z)(function*(){return kr(oe.auth,O.l(oe._delegate,U,P))})()}linkWithPopup(U){var P=this;return(0,o.Z)(function*(){return en(P.auth,O.d(P._delegate,U,jn))})()}linkWithRedirect(U){var P=this;return(0,o.Z)(function*(){return yield or(O.aH(P.auth)),O.g(P._delegate,U,jn)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var P=this;return(0,o.Z)(function*(){return en(P.auth,O.a1(P._delegate,U))})()}reauthenticateWithPhoneNumber(U,P){return kr(this.auth,O.r(this._delegate,U,P))}reauthenticateWithPopup(U){return en(this.auth,O.e(this._delegate,U,jn))}reauthenticateWithRedirect(U){var P=this;return(0,o.Z)(function*(){return yield or(O.aH(P.auth)),O.h(P._delegate,U,jn)})()}sendEmailVerification(U){return O.ae(this._delegate,U)}unlink(U){var P=this;return(0,o.Z)(function*(){return yield O.an(P._delegate,U),P})()}updateEmail(U){return O.aj(this._delegate,U)}updatePassword(U){return O.ak(this._delegate,U)}updatePhoneNumber(U){return O.u(this._delegate,U)}updateProfile(U){return O.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,P){return O.af(this._delegate,U,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kt.USER_MAP=new WeakMap;const si=O.aA;let Gn=(()=>{class B{constructor(P,oe){if(this.app=P,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=P.options;si(Be,"invalid-api-key",{appName:P.name}),si(Be,"invalid-api-key",{appName:P.name});const ut=typeof window<"u"?jn:void 0;this._delegate=oe.initialize({options:{persistence:oi(Be,P.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,oe){O.I(this._delegate,P,oe)}applyActionCode(P){return O.a5(this._delegate,P)}checkActionCode(P){return O.a6(this._delegate,P)}confirmPasswordReset(P,oe){return O.a4(this._delegate,P,oe)}createUserWithEmailAndPassword(P,oe){var Be=this;return(0,o.Z)(function*(){return en(Be._delegate,O.a8(Be._delegate,P,oe))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return O.ad(this._delegate,P)}isSignInWithEmailLink(P){return O.ab(this._delegate,P)}getRedirectResult(){var P=this;return(0,o.Z)(function*(){si(an(),P._delegate,"operation-not-supported-in-this-environment");const oe=yield O.j(P._delegate,jn);return oe?en(P._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function me(B,U){(0,O.aH)(B)._logFramework(U)}(this._delegate,P)}onAuthStateChanged(P,oe,Be){const{next:ut,error:Ot,complete:At}=gi(P,oe,Be);return this._delegate.onAuthStateChanged(ut,Ot,At)}onIdTokenChanged(P,oe,Be){const{next:ut,error:Ot,complete:At}=gi(P,oe,Be);return this._delegate.onIdTokenChanged(ut,Ot,At)}sendSignInLinkToEmail(P,oe){return O.aa(this._delegate,P,oe)}sendPasswordResetEmail(P,oe){return O.a3(this._delegate,P,oe||void 0)}setPersistence(P){var oe=this;return(0,o.Z)(function*(){let Be;switch(function ui(B,U){_r(Object.values(Kn).includes(U),B,"invalid-persistence-type"),(0,J.b$)()?_r(U!==Kn.SESSION,B,"unsupported-persistence-type"):(0,J.UG)()?_r(U===Kn.NONE,B,"unsupported-persistence-type"):ii()?_r(U===Kn.NONE||U===Kn.LOCAL&&(0,J.hl)(),B,"unsupported-persistence-type"):_r(U===Kn.NONE||kn(),B,"unsupported-persistence-type")}(oe._delegate,P),P){case Kn.SESSION:Be=O.a;break;case Kn.LOCAL:Be=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Kn.NONE:Be=O.N;break;default:return O.av("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return en(this._delegate,O._(this._delegate))}signInWithCredential(P){return en(this._delegate,O.$(this._delegate,P))}signInWithCustomToken(P){return en(this._delegate,O.a2(this._delegate,P))}signInWithEmailAndPassword(P,oe){return en(this._delegate,O.a9(this._delegate,P,oe))}signInWithEmailLink(P,oe){return en(this._delegate,O.ac(this._delegate,P,oe))}signInWithPhoneNumber(P,oe){return kr(this._delegate,O.s(this._delegate,P,oe))}signInWithPopup(P){var oe=this;return(0,o.Z)(function*(){return si(an(),oe._delegate,"operation-not-supported-in-this-environment"),en(oe._delegate,O.c(oe._delegate,P,jn))})()}signInWithRedirect(P){var oe=this;return(0,o.Z)(function*(){return si(an(),oe._delegate,"operation-not-supported-in-this-environment"),yield or(oe._delegate),O.f(oe._delegate,P,jn)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return O.a7(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=Kn,B})();function gi(B,U,P){let oe=B;"function"!=typeof B&&({next:oe,error:U,complete:P}=B);const Be=oe;return{next:Ot=>Be(Ot&&Kt.getOrCreate(Ot)),error:U,complete:P}}function oi(B,U){const P=function Jt(B,U){const P=wt();if(!P)return[];const oe=O.aD(ri,B,U);switch(P.getItem(oe)){case Kn.NONE:return[O.N];case Kn.LOCAL:return[O.i,O.a];case Kn.SESSION:return[O.a];default:return[]}}(B,U);if(typeof self<"u"&&!P.includes(O.i)&&P.push(O.i),typeof window<"u")for(const oe of[O.b,O.a])P.includes(oe)||P.push(oe);return P.includes(O.N)||P.push(O.N),P}class ar{constructor(){this.providerId="phone",this._delegate=new O.P(Bi(V.Z.auth()))}static credential(U,P){return O.P.credential(U,P)}verifyPhoneNumber(U,P){return this._delegate.verifyPhoneNumber(U,P)}unwrap(){return this._delegate}}ar.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ar.PROVIDER_ID=O.P.PROVIDER_ID;const Ui=O.aA;class yr{constructor(U,P,oe=V.Z.app()){var Be;Ui(null===(Be=oe.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new O.R(U,P,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(B){B.INTERNAL.registerComponent(new ne.wA("auth-compat",U=>{const P=U.getProvider("app-compat").getImmediate(),oe=U.getProvider("auth");return new Gn(P,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:ar,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:yr,TwitterAuthProvider:O.Z,Auth:Gn,AuthCredential:O.J,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},5861:(le,Z,T)=>{function o(O,J,G,j,ne,re,ee){try{var W=O[re](ee),q=W.value}catch(Q){return void G(Q)}W.done?J(q):Promise.resolve(q).then(j,ne)}function V(O){return function(){var J=this,G=arguments;return new Promise(function(j,ne){var re=O.apply(J,G);function ee(q){o(re,j,ne,ee,W,"next",q)}function W(q){o(re,j,ne,ee,W,"throw",q)}ee(void 0)})}}T.d(Z,{Z:()=>V})},7582:(le,Z,T)=>{function J(me,de){var ge={};for(var Te in me)Object.prototype.hasOwnProperty.call(me,Te)&&de.indexOf(Te)<0&&(ge[Te]=me[Te]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Te=Object.getOwnPropertySymbols(me);ze<Te.length;ze++)de.indexOf(Te[ze])<0&&Object.prototype.propertyIsEnumerable.call(me,Te[ze])&&(ge[Te[ze]]=me[Te[ze]])}return ge}function Q(me,de,ge,Te){return new(ge||(ge=Promise))(function(Le,at){function qt(yn){try{kt(Te.next(yn))}catch(kn){at(kn)}}function vn(yn){try{kt(Te.throw(yn))}catch(kn){at(kn)}}function kt(yn){yn.done?Le(yn.value):function ze(Le){return Le instanceof ge?Le:new ge(function(at){at(Le)})}(yn.value).then(qt,vn)}kt((Te=Te.apply(me,de||[])).next())})}function Ae(me){return this instanceof Ae?(this.v=me,this):new Ae(me)}function Se(me,de,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Te=ge.apply(me,de||[]),Le=[];return ze=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),qt("next"),qt("throw"),qt("return",function at(an){return function(Nn){return Promise.resolve(Nn).then(an,kn)}}),ze[Symbol.asyncIterator]=function(){return this},ze;function qt(an,Nn){Te[an]&&(ze[an]=function(pi){return new Promise(function(gn,ct){Le.push([an,pi,gn,ct])>1||vn(an,pi)})},Nn&&(ze[an]=Nn(ze[an])))}function vn(an,Nn){try{!function kt(an){an.value instanceof Ae?Promise.resolve(an.value.v).then(yn,kn):ii(Le[0][2],an)}(Te[an](Nn))}catch(pi){ii(Le[0][3],pi)}}function yn(an){vn("next",an)}function kn(an){vn("throw",an)}function ii(an,Nn){an(Nn),Le.shift(),Le.length&&vn(Le[0][0],Le[0][1])}}function Ke(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,de=me[Symbol.asyncIterator];return de?de.call(me):(me=function We(me){var de="function"==typeof Symbol&&Symbol.iterator,ge=de&&me[de],Te=0;if(ge)return ge.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Te>=me.length&&(me=void 0),{value:me&&me[Te++],done:!me}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),ge={},Te("next"),Te("throw"),Te("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Te(Le){ge[Le]=me[Le]&&function(at){return new Promise(function(qt,vn){!function ze(Le,at,qt,vn){Promise.resolve(vn).then(function(kt){Le({value:kt,done:qt})},at)}(qt,vn,(at=me[Le](at)).done,at.value)})}}}T.d(Z,{FC:()=>Se,KL:()=>Ke,_T:()=>J,mG:()=>Q,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},le=>{le(le.s=5460)}]);