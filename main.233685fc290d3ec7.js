"use strict";(self.webpackChunkgame_apps=self.webpackChunkgame_apps||[]).push([[792],{443:(It,Y,q)=>{q.d(Y,{$:()=>Ay,A:()=>D,C:()=>Dh,G:()=>T,K:()=>mC,L:()=>dd,N:()=>Us,P:()=>co,R:()=>Pt,U:()=>jt,V:()=>gh,W:()=>J2,X:()=>md,Y:()=>_p,Z:()=>_h,_:()=>yh,a:()=>Pp,a0:()=>Te,a1:()=>Eh,a2:()=>rl,a3:()=>_d,a4:()=>ky,a5:()=>Un,a6:()=>Oy,a7:()=>Th,a8:()=>js,a9:()=>EC,aA:()=>Qo,aB:()=>ee,aC:()=>z,aD:()=>jr,aE:()=>Ke,aF:()=>st,aG:()=>Hh,aH:()=>GC,aI:()=>cP,aJ:()=>Mn,aN:()=>Ts,aQ:()=>tc,aa:()=>Ny,ab:()=>wd,ac:()=>Fy,ad:()=>IC,ae:()=>Cp,af:()=>TC,ag:()=>SC,ah:()=>AC,ak:()=>xC,al:()=>hn,am:()=>DC,ap:()=>gd,aq:()=>zr,as:()=>jy,at:()=>Zr,au:()=>we,av:()=>ss,aw:()=>lh,ax:()=>G,ay:()=>li,az:()=>ds,b:()=>ol,c:()=>iP,d:()=>sP,e:()=>rP,f:()=>tb,g:()=>nb,h:()=>qC,i:()=>al,j:()=>QC,k:()=>Ws,l:()=>uc,m:()=>cb,o:()=>a1,p:()=>x,r:()=>Nh,s:()=>Oo,u:()=>dl});var b=q(467),W=q(2979),E=q(1401),se=q(5398),K=q(1635),M=q(8779);const x={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},D={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const T=function V(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},S=function k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B=new E.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new se.Vy("@firebase/auth");function P(p,...d){te.logLevel<=se.$b.ERROR&&te.error(`Auth (${W.SDK_VERSION}): ${p}`,...d)}function G(p,...d){throw ce(p,...d)}function ee(p,...d){return ce(p,...d)}function fe(p,d,h){const g=Object.assign(Object.assign({},S()),{[d]:h});return new E.FA("auth","Firebase",g).create(d,{appName:p.name})}function X(p){return fe(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ve(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&G(p,"argument-error"),fe(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ce(p,...d){if("string"!=typeof p){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return B.create(p,...d)}function z(p,d,...h){if(!p)throw ce(d,...h)}function ae(p){const d="INTERNAL ASSERTION FAILED: "+p;throw P(d),new Error(d)}function we(p,d){p||ae(d)}function Pe(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function I(){return"http:"===j()||"https:"===j()}function j(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Re{constructor(d,h){this.shortDelay=d,this.longDelay=h,we(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,E.jZ)()||(0,E.lV)()}get(){return function J(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,E.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(p,d){we(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class tt{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_e=new Re(3e4,6e4);function le(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function ye(p,d,h,g){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,b.A)(function*(p,d,h,g,N={}){return re(p,N,(0,b.A)(function*(){let Z={},Ae={};g&&("GET"===d?Ae=g:Z={body:JSON.stringify(g)});const $e=(0,E.Am)(Object.assign({key:p.config.apiKey},Ae)).slice(1),ot=yield p._getAdditionalHeaders();ot["Content-Type"]="application/json",p.languageCode&&(ot["X-Firebase-Locale"]=p.languageCode);const Ct=Object.assign({method:d,headers:ot},Z);return(0,E.c1)()||(Ct.referrerPolicy="no-referrer"),tt.fetch()(qe(p,p.config.apiHost,h,$e),Ct)}))})).apply(this,arguments)}function re(p,d,h){return De.apply(this,arguments)}function De(){return(De=(0,b.A)(function*(p,d,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},he),d);try{const N=new dt(p),Z=yield Promise.race([h(),N.promise]);N.clearNetworkTimeout();const Ae=yield Z.json();if("needConfirmation"in Ae)throw on(p,"account-exists-with-different-credential",Ae);if(Z.ok&&!("errorMessage"in Ae))return Ae;{const $e=Z.ok?Ae.errorMessage:Ae.error.message,[ot,Ct]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw on(p,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===ot)throw on(p,"email-already-in-use",Ae);if("USER_DISABLED"===ot)throw on(p,"user-disabled",Ae);const Nt=g[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw fe(p,Nt,Ct);G(p,Nt)}}catch(N){if(N instanceof E.g)throw N;G(p,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function Ze(p,d,h,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.A)(function*(p,d,h,g,N={}){const Z=yield ye(p,d,h,g,N);return"mfaPendingCredential"in Z&&G(p,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function qe(p,d,h,g){const N=`${d}${h}?${g}`;return p.config.emulator?ke(p.config,N):`${p.config.apiScheme}://${N}`}function ft(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g(ee(this.auth,"network-request-failed")),_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function on(p,d,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const N=ee(p,d,g);return N.customData._tokenResponse=h,N}function pt(p){return void 0!==p&&void 0!==p.getResponse}function an(p){return void 0!==p&&void 0!==p.enterprise}class xt{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return ft(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function jn(){return(jn=(0,b.A)(function*(p){return(yield ye(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function si(p,d){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,b.A)(function*(p,d){return ye(p,"GET","/v2/recaptchaConfig",le(p,d))})).apply(this,arguments)}function Hn(){return(Hn=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function fi(){return(fi=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function br(p,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function oi(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function er(){return(er=(0,b.A)(function*(p,d=!1){const h=(0,E.Ku)(p),g=yield h.getIdToken(d),N=Is(g);z(N&&N.exp&&N.auth_time&&N.iat,h.auth,"internal-error");const Z="object"==typeof N.firebase?N.firebase:void 0,Ae=Z?.sign_in_provider;return{claims:N,token:g,authTime:oi(ai(N.auth_time)),issuedAtTime:oi(ai(N.iat)),expirationTime:oi(ai(N.exp)),signInProvider:Ae||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function ai(p){return 1e3*Number(p)}function Is(p){const[d,h,g]=p.split(".");if(void 0===d||void 0===h||void 0===g)return P("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,E.u)(h);return N?JSON.parse(N):(P("Failed to decode base64 JWT payload"),null)}catch(N){return P("Caught error parsing JWT payload as JSON",N?.toString()),null}}function Ri(p){const d=Is(p);return z(d,"internal-error"),z(typeof d.exp<"u","internal-error"),z(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function pn(p,d){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,b.A)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof E.g&&function Kr({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Xl{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const N=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,b.A)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,b.A)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class Jn{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,b.A)(function*(p){var d;const h=p.auth,g=yield p.getIdToken(),N=yield pn(p,br(h,{idToken:g}));z(N?.users.length,h,"internal-error");const Z=N.users[0];p._notifyReloadListener(Z);const Ae=null!==(d=Z.providerUserInfo)&&void 0!==d&&d.length?gn(Z.providerUserInfo):[],$e=function Ro(p,d){return[...p.filter(g=>!d.some(N=>N.providerId===g.providerId)),...d]}(p.providerData,Ae),Nt=!!p.isAnonymous&&!(p.email&&Z.passwordHash||$e?.length),Tn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:$e,metadata:new Jn(Z.createdAt,Z.lastLoginAt),isAnonymous:Nt};Object.assign(p,Tn)})).apply(this,arguments)}function Do(){return(Do=(0,b.A)(function*(p){const d=(0,E.Ku)(p);yield Yr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function gn(p){return p.map(d=>{var{providerId:h}=d,g=(0,K.Tt)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function Mo(){return(Mo=(0,b.A)(function*(p,d){const h=yield re(p,{},(0,b.A)(function*(){const g=(0,E.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:N,apiKey:Z}=p.config,Ae=qe(p,N,"/v1/token",`key=${Z}`),$e=yield p._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(Ae,{method:"POST",headers:$e,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function Q(){return(Q=(0,b.A)(function*(p,d){return ye(p,"POST","/v2/accounts:revokeToken",le(p,d))})).apply(this,arguments)}class R{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){z(d.idToken,"internal-error"),z(typeof d.idToken<"u","internal-error"),z(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Ri(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}updateFromIdToken(d){z(0!==d.length,"internal-error");const h=Ri(d);this.updateTokensAndExpiration(d,null,h)}getToken(d,h=!1){var g=this;return(0,b.A)(function*(){return h||!g.accessToken||g.isExpired?(z(g.refreshToken,d,"user-token-expired"),g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,b.A)(function*(){const{accessToken:N,refreshToken:Z,expiresIn:Ae}=yield function Xa(p,d){return Mo.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(N,Z,Number(Ae))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:N,expirationTime:Z}=h,Ae=new R;return g&&(z("string"==typeof g,"internal-error",{appName:d}),Ae.refreshToken=g),N&&(z("string"==typeof N,"internal-error",{appName:d}),Ae.accessToken=N),Z&&(z("number"==typeof Z,"internal-error",{appName:d}),Ae.expirationTime=Z),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new R,this.toJSON())}_performRefresh(){return ae("not implemented")}}function H(p,d){z("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class me{constructor(d){var{uid:h,auth:g,stsTokenManager:N}=d,Z=(0,K.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Jn(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,b.A)(function*(){const g=yield pn(h,h.stsTokenManager.getToken(h.auth,d));return z(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function wr(p){return er.apply(this,arguments)}(this,d)}reload(){return function Br(p){return Do.apply(this,arguments)}(this)}_assign(d){this!==d&&(z(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new me(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,b.A)(function*(){let N=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),N=!0),h&&(yield Yr(g)),yield g.auth._persistUserIfCurrent(g),N&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,b.A)(function*(){if((0,W._isFirebaseServerApp)(d.auth.app))return Promise.reject(X(d.auth));const h=yield d.getIdToken();return yield pn(d,function yr(p,d){return Hn.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,N,Z,Ae,$e,ot,Ct,Nt;const Tn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Kn=null!==(N=h.email)&&void 0!==N?N:void 0,us=null!==(Z=h.phoneNumber)&&void 0!==Z?Z:void 0,ni=null!==(Ae=h.photoURL)&&void 0!==Ae?Ae:void 0,mc=null!==($e=h.tenantId)&&void 0!==$e?$e:void 0,Yp=null!==(ot=h._redirectEventId)&&void 0!==ot?ot:void 0,Qp=null!==(Ct=h.createdAt)&&void 0!==Ct?Ct:void 0,hb=null!==(Nt=h.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Qh,emailVerified:Xp,isAnonymous:pc,providerData:qs,stsTokenManager:fb}=h;z(Qh&&fb,d,"internal-error");const Xh=R.fromJSON(this.name,fb);z("string"==typeof Qh,d,"internal-error"),H(Tn,d.name),H(Kn,d.name),z("boolean"==typeof Xp,d,"internal-error"),z("boolean"==typeof pc,d,"internal-error"),H(us,d.name),H(ni,d.name),H(mc,d.name),H(Yp,d.name),H(Qp,d.name),H(hb,d.name);const gc=new me({uid:Qh,auth:d,email:Kn,emailVerified:Xp,displayName:Tn,isAnonymous:pc,photoURL:ni,phoneNumber:us,tenantId:mc,stsTokenManager:Xh,createdAt:Qp,lastLoginAt:hb});return qs&&Array.isArray(qs)&&(gc.providerData=qs.map(Zh=>Object.assign({},Zh))),Yp&&(gc._redirectEventId=Yp),gc}static _fromIdTokenResponse(d,h,g=!1){return(0,b.A)(function*(){const N=new R;N.updateFromServerResponse(h);const Z=new me({uid:h.localId,auth:d,stsTokenManager:N,isAnonymous:g});return yield Yr(Z),Z})()}static _fromGetAccountInfoResponse(d,h,g){return(0,b.A)(function*(){const N=h.users[0];z(void 0!==N.localId,"internal-error");const Z=void 0!==N.providerUserInfo?gn(N.providerUserInfo):[],Ae=!(N.email&&N.passwordHash||Z?.length),$e=new R;$e.updateFromIdToken(g);const ot=new me({uid:N.localId,auth:d,stsTokenManager:$e,isAnonymous:Ae}),Ct={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Z,metadata:new Jn(N.createdAt,N.lastLoginAt),isAnonymous:!(N.email&&N.passwordHash||Z?.length)};return Object.assign(ot,Ct),ot})()}}const Ee=new Map;function Ke(p){we(p instanceof Function,"Expected a class definition");let d=Ee.get(p);return d?(we(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,Ee.set(p,d),d)}const jt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.A)(function*(){return!0})()}_set(h,g){var N=this;return(0,b.A)(function*(){N.storage[h]=g})()}_get(h){var g=this;return(0,b.A)(function*(){const N=g.storage[h];return void 0===N?null:N})()}_remove(h){var g=this;return(0,b.A)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function st(p,d,h){return`firebase:${p}:${d}:${h}`}class Rn{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:N,name:Z}=this.auth;this.fullUserKey=st(this.userKey,N.apiKey,Z),this.fullPersistenceKey=st("persistence",N.apiKey,Z),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,b.A)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?me._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,b.A)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,b.A)(function*(){if(!h.length)return new Rn(Ke(jt),d,g);const N=(yield Promise.all(h.map(function(){var Ct=(0,b.A)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let Z=N[0]||Ke(jt);const Ae=st(g,d.config.apiKey,d.name);let $e=null;for(const Ct of h)try{const Nt=yield Ct._get(Ae);if(Nt){const Tn=me._fromJSON(d,Nt);Ct!==Z&&($e=Tn),Z=Ct;break}}catch{}const ot=N.filter(Ct=>Ct._shouldAllowMigration);return Z._shouldAllowMigration&&ot.length?(Z=ot[0],$e&&(yield Z._set(Ae,$e.toJSON())),yield Promise.all(h.map(function(){var Ct=(0,b.A)(function*(Nt){if(Nt!==Z)try{yield Nt._remove(Ae)}catch{}});return function(Nt){return Ct.apply(this,arguments)}}())),new Rn(Z,d,g)):new Rn(Z,d,g)})()}}function mi(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Za(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Se(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ch(d))return"Blackberry";if(cd(d))return"Webos";if(ei(d))return"Safari";if((d.includes("chrome/")||Qr(d))&&!d.includes("edge/"))return"Chrome";if(lh(d))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Se(p=(0,E.ZQ)()){return/firefox\//i.test(p)}function ei(p=(0,E.ZQ)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Qr(p=(0,E.ZQ)()){return/crios\//i.test(p)}function Za(p=(0,E.ZQ)()){return/iemobile/i.test(p)}function lh(p=(0,E.ZQ)()){return/android/i.test(p)}function ch(p=(0,E.ZQ)()){return/blackberry/i.test(p)}function cd(p=(0,E.ZQ)()){return/webos/i.test(p)}function ss(p=(0,E.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Qo(p=(0,E.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Ve(p=(0,E.ZQ)()){return ss(p)||lh(p)||cd(p)||ch(p)||/windows phone/i.test(p)||Za(p)}function nt(p,d=[]){let h;switch(p){case"Browser":h=mi((0,E.ZQ)());break;case"Worker":h=`${mi((0,E.ZQ)())}-${p}`;break;default:h=p}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${W.SDK_VERSION}/${g}`}class gt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=Z=>new Promise((Ae,$e)=>{try{Ae(d(Z))}catch(ot){$e(ot)}});g.onAbort=h,this.queue.push(g);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,b.A)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const N of h.queue)yield N(d),N.onAbort&&g.push(N.onAbort)}catch(N){g.reverse();for(const Z of g)try{Z()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}function St(){return(St=(0,b.A)(function*(p,d={}){return ye(p,"GET","/v2/passwordPolicy",le(p,d))})).apply(this,arguments)}class ki{constructor(d){var h,g,N,Z;const Ae=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=Ae.minPasswordLength)&&void 0!==h?h:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(N=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==N?N:"",this.forceUpgradeOnSignin=null!==(Z=d.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,N,Z,Ae,$e;const ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,ot),this.validatePasswordCharacterOptions(d,ot),ot.isValid&&(ot.isValid=null===(h=ot.meetsMinPasswordLength)||void 0===h||h),ot.isValid&&(ot.isValid=null===(g=ot.meetsMaxPasswordLength)||void 0===g||g),ot.isValid&&(ot.isValid=null===(N=ot.containsLowercaseLetter)||void 0===N||N),ot.isValid&&(ot.isValid=null===(Z=ot.containsUppercaseLetter)||void 0===Z||Z),ot.isValid&&(ot.isValid=null===(Ae=ot.containsNumericCharacter)||void 0===Ae||Ae),ot.isValid&&(ot.isValid=null===($e=ot.containsNonAlphanumericCharacter)||void 0===$e||$e),ot}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,N=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),N&&(h.meetsMaxPasswordLength=d.length<=N)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let N=0;N<d.length;N++)g=d.charAt(N),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,N,Z){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=N)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=Z))}}class Yt{constructor(d,h,g,N){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=Ke(h)),this._initializationPromise=this.queue((0,b.A)(function*(){var N,Z;if(!g._deleted&&(g.persistenceManager=yield Rn.create(g,d),!g._deleted)){if(null!==(N=g._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(Z=g.currentUser)||void 0===Z?void 0:Z.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,b.A)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(d){var h=this;return(0,b.A)(function*(){try{const g=yield br(h,{idToken:d}),N=yield me._fromGetAccountInfoResponse(h,g,d);yield h.directlySetCurrentUser(N)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var h=this;return(0,b.A)(function*(){var g;if((0,W._isFirebaseServerApp)(h.app)){const $e=h.app.settings.authIdToken;return $e?new Promise(ot=>{setTimeout(()=>h.initializeCurrentUserFromIdToken($e).then(ot,ot))}):h.directlySetCurrentUser(null)}const N=yield h.assertedPersistence.getCurrentUser();let Z=N,Ae=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const $e=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,ot=Z?._redirectEventId,Ct=yield h.tryRedirectSignIn(d);(!$e||$e===ot)&&Ct?.user&&(Z=Ct.user,Ae=!0)}if(!Z)return h.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ae)try{yield h.beforeStateQueue.runMiddleware(Z)}catch($e){Z=N,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject($e))}return Z?h.reloadAndSetCurrentUserOrClear(Z):h.directlySetCurrentUser(null)}return z(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===Z._redirectEventId?h.directlySetCurrentUser(Z):h.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(d){var h=this;return(0,b.A)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,b.A)(function*(){try{yield Yr(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function de(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,b.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,b.A)(function*(){if((0,W._isFirebaseServerApp)(h.app))return Promise.reject(X(h));const g=d?(0,E.Ku)(d):null;return g&&z(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,b.A)(function*(){if(!g._deleted)return d&&z(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,b.A)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,b.A)(function*(){return(0,W._isFirebaseServerApp)(d.app)?Promise.reject(X(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var h=this;return(0,W._isFirebaseServerApp)(this.app)?Promise.reject(X(this)):this.queue((0,b.A)(function*(){yield h.assertedPersistence.setPersistence(Ke(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,b.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,b.A)(function*(){const h=yield function cn(p){return St.apply(this,arguments)}(d),g=new ki(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new E.FA("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,b.A)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),N={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(N.tenantId=h.tenantId),yield function Yo(p,d){return Q.apply(this,arguments)}(h,N)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,b.A)(function*(){const N=yield g.getOrInitRedirectPersistenceManager(h);return null===d?N.removeCurrentUser():N.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,b.A)(function*(){if(!h.redirectPersistenceManager){const g=d&&Ke(d)||h._popupRedirectResolver;z(g,h,"argument-error"),h.redirectPersistenceManager=yield Rn.create(h,[Ke(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,b.A)(function*(){var g,N;return h._isInitialized&&(yield h.queue((0,b.A)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(N=h.redirectUser)||void 0===N?void 0:N._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,b.A)(function*(){if(d===h.currentUser)return h.queue((0,b.A)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,N){if(this._deleted)return()=>{};const Z="function"==typeof h?h:h.next.bind(h);let Ae=!1;const $e=this._isInitialized?Promise.resolve():this._initializationPromise;if(z($e,this,"internal-error"),$e.then(()=>{Ae||Z(this.currentUser)}),"function"==typeof h){const ot=d.addObserver(h,g,N);return()=>{Ae=!0,ot()}}{const ot=d.addObserver(h);return()=>{Ae=!0,ot()}}}directlySetCurrentUser(d){var h=this;return(0,b.A)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,b.A)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const N=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();N&&(g["X-Firebase-Client"]=N);const Z=yield d._getAppCheckToken();return Z&&(g["X-Firebase-AppCheck"]=Z),g})()}_getAppCheckToken(){var d=this;return(0,b.A)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function _(p,...d){te.logLevel<=se.$b.WARN&&te.warn(`Auth (${W.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Mn(p){return(0,E.Ku)(p)}class pi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,E.tD)(h=>this.observer=h)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xo={loadJS:()=>(0,b.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ap(p){return Xo.loadJS(p)}function os(p){return`__${p}${Math.floor(1e6*Math.random())}`}class hC{constructor(d){this.type="recaptcha-enterprise",this.auth=Mn(d)}verify(d="verify",h=!1){var g=this;return(0,b.A)(function*(){function Z(){return Z=(0,b.A)(function*($e){if(!h){if(null==$e.tenantId&&null!=$e._agentRecaptchaConfig)return $e._agentRecaptchaConfig.siteKey;if(null!=$e.tenantId&&void 0!==$e._tenantRecaptchaConfigs[$e.tenantId])return $e._tenantRecaptchaConfigs[$e.tenantId].siteKey}return new Promise(function(){var ot=(0,b.A)(function*(Ct,Nt){si($e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tn=>{if(void 0!==Tn.recaptchaKey){const Kn=new xt(Tn);return null==$e.tenantId?$e._agentRecaptchaConfig=Kn:$e._tenantRecaptchaConfigs[$e.tenantId]=Kn,Ct(Kn.siteKey)}Nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Tn=>{Nt(Tn)})});return function(Ct,Nt){return ot.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ae($e,ot,Ct){const Nt=window.grecaptcha;an(Nt)?Nt.enterprise.ready(()=>{Nt.enterprise.execute($e,{action:d}).then(Tn=>{ot(Tn)}).catch(()=>{ot("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($e,ot)=>{(function N($e){return Z.apply(this,arguments)})(g.auth).then(Ct=>{if(!h&&an(window.grecaptcha))Ae(Ct,$e,ot);else{if(typeof window>"u")return void ot(new Error("RecaptchaVerifier is only supported in browser"));let Nt=function Jt(){return Xo.recaptchaEnterpriseScript}();0!==Nt.length&&(Nt+=Ct),ap(Nt).then(()=>{Ae(Ct,$e,ot)}).catch(Tn=>{ot(Tn)})}}).catch(Ct=>{ot(Ct)})})})()}}function Zo(p,d,h){return vy.apply(this,arguments)}function vy(){return(vy=(0,b.A)(function*(p,d,h,g=!1){const N=new hC(p);let Z;try{Z=yield N.verify(h)}catch{Z=yield N.verify(h,!0)}const Ae=Object.assign({},d);return Object.assign(Ae,g?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function uh(p,d,h,g){return yy.apply(this,arguments)}function yy(){return yy=(0,b.A)(function*(p,d,h,g){var N;if(null!==(N=p._getRecaptchaConfig())&&void 0!==N&&N.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield Zo(p,d,h,"getOobCode"===h);return g(p,Z)}return g(p,d).catch(function(){var Z=(0,b.A)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $e=yield Zo(p,d,h,"getOobCode"===h);return g(p,$e)}return Promise.reject(Ae)});return function(Ae){return Z.apply(this,arguments)}}())}),yy.apply(this,arguments)}function mC(p,d,h){const g=Mn(p);z(g._canInitEmulator,g,"emulator-config-failed"),z(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const N=!!h?.disableWarnings,Z=as(d),{host:Ae,port:$e}=function Qt(p){const d=as(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(g);if(N){const Z=N[1];return{host:Z,port:pC(g.substr(Z.length+1))}}{const[Z,Ae]=g.split(":");return{host:Z,port:pC(Ae)}}}(d);g.config.emulator={url:`${Z}//${Ae}${null===$e?"":`:${$e}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:Ae,port:$e,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Q2(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function as(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function pC(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class dd{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return ae("not implemented")}_getIdTokenResponse(d){return ae("not implemented")}_linkToIdToken(d,h){return ae("not implemented")}_getReauthenticationResolver(d){return ae("not implemented")}}function gC(p,d){return by.apply(this,arguments)}function by(){return(by=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:resetPassword",le(p,d))})).apply(this,arguments)}function wy(){return(wy=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lt(p,d){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function hh(){return(hh=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:update",le(p,d))})).apply(this,arguments)}function vC(p,d){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithPassword",le(p,d))})).apply(this,arguments)}function Ja(p,d){return ud.apply(this,arguments)}function ud(){return(ud=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:sendOobCode",le(p,d))})).apply(this,arguments)}function cp(){return(cp=(0,b.A)(function*(p,d){return Ja(p,d)})).apply(this,arguments)}function xe(p,d){return hd.apply(this,arguments)}function hd(){return(hd=(0,b.A)(function*(p,d){return Ja(p,d)})).apply(this,arguments)}function dp(p,d){return fh.apply(this,arguments)}function fh(){return(fh=(0,b.A)(function*(p,d){return Ja(p,d)})).apply(this,arguments)}function hp(){return(hp=(0,b.A)(function*(p,d){return Ja(p,d)})).apply(this,arguments)}function Iy(){return(Iy=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithEmailLink",le(p,d))})).apply(this,arguments)}function Cy(){return(Cy=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithEmailLink",le(p,d))})).apply(this,arguments)}class mh extends dd{constructor(d,h,g,N=null){super("password",g),this._email=d,this._password=h,this._tenantId=N}static _fromEmailAndPassword(d,h){return new mh(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new mh(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,b.A)(function*(){switch(h.signInMethod){case"password":return uh(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vC);case"emailLink":return function fp(p,d){return Iy.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:G(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,b.A)(function*(){switch(g.signInMethod){case"password":return uh(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lt);case"emailLink":return function X2(p,d){return Cy.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:G(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function oo(p,d){return el.apply(this,arguments)}function el(){return(el=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithIdp",le(p,d))})).apply(this,arguments)}class Us extends dd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Us(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):G("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:N}=h,Z=(0,K.Tt)(h,["providerId","signInMethod"]);if(!g||!N)return null;const Ae=new Us(g,N);return Ae.idToken=Z.idToken||void 0,Ae.accessToken=Z.accessToken||void 0,Ae.secret=Z.secret,Ae.nonce=Z.nonce,Ae.pendingToken=Z.pendingToken||null,Ae}_getIdTokenResponse(d){return oo(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,oo(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,oo(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,E.Am)(h)}return d}}function ao(){return(ao=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:sendVerificationCode",le(p,d))})).apply(this,arguments)}function ph(){return(ph=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,d))})).apply(this,arguments)}function Bn(){return(Bn=(0,b.A)(function*(p,d){const h=yield Ze(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,d));if(h.temporaryProof)throw on(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Z2={USER_NOT_FOUND:"user-not-found"};function pp(){return(pp=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithPhoneNumber",le(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Z2)})).apply(this,arguments)}class ec extends dd{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new ec({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new ec({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function fd(p,d){return ph.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function un(p,d){return Bn.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function yC(p,d){return pp.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:N}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:N}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:N,temporaryProof:Z}=d;return g||h||N||Z?new ec({verificationId:h,verificationCode:g,phoneNumber:N,temporaryProof:Z}):null}}class _n{constructor(d){var h,g,N,Z,Ae,$e;const ot=(0,E.I9)((0,E.hp)(d)),Ct=null!==(h=ot.apiKey)&&void 0!==h?h:null,Nt=null!==(g=ot.oobCode)&&void 0!==g?g:null,Tn=function bC(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ot.mode)&&void 0!==N?N:null);z(Ct&&Nt&&Tn,"argument-error"),this.apiKey=Ct,this.operation=Tn,this.code=Nt,this.continueUrl=null!==(Z=ot.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ae=ot.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==($e=ot.tenantId)&&void 0!==$e?$e:null}static parseLink(d){const h=function gp(p){const d=(0,E.I9)((0,E.hp)(p)).link,h=d?(0,E.I9)((0,E.hp)(d)).deep_link_id:null,g=(0,E.I9)((0,E.hp)(p)).deep_link_id;return(g?(0,E.I9)((0,E.hp)(g)).link:null)||g||h||d||p}(d);try{return new _n(h)}catch{return null}}}let gh=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return mh._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const N=_n.parseLink(g);return z(N,"argument-error"),mh._fromEmailAndCode(h,N.code,N.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class ji{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class tl extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class _h extends tl{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return z("providerId"in h&&"signInMethod"in h,"argument-error"),Us._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return z(d.idToken||d.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return _h.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return _h.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:N,pendingToken:Z,nonce:Ae,providerId:$e}=d;if(!g&&!N&&!h&&!Z||!$e)return null;try{return new _h($e)._credential({idToken:h,accessToken:g,nonce:Ae,pendingToken:Z})}catch{return null}}}let J2=(()=>{class p extends tl{constructor(){super("facebook.com")}static credential(h){return Us._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),md=(()=>{class p extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return Us._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:N}=h;if(!g&&!N)return null;try{return p.credential(g,N)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),_p=(()=>{class p extends tl{constructor(){super("github.com")}static credential(h){return Us._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class tc extends dd{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return oo(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,oo(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,oo(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:N,pendingToken:Z}=h;return g&&N&&Z&&g===N?new tc(g,Z):null}static _create(d,h){return new tc(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yh extends ji{constructor(d){z(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return yh.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return yh.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=tc.fromJSON(d);return z(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return tc._create(g,h)}catch{return null}}}let Ay=(()=>{class p extends tl{constructor(){super("twitter.com")}static credential(h,g){return Us._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:N}=h;if(!g||!N)return null;try{return p.credential(g,N)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function nl(p,d){return vp.apply(this,arguments)}function vp(){return(vp=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signUp",le(p,d))})).apply(this,arguments)}class lr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,N=!1){return(0,b.A)(function*(){const Z=yield me._fromIdTokenResponse(d,g,N),Ae=xy(g);return new lr({user:Z,providerId:Ae,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,b.A)(function*(){yield d._updateTokensIfNecessary(g,!0);const N=xy(g);return new lr({user:d,providerId:N,_tokenResponse:g,operationType:h})})()}}function xy(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Te(p){return bh.apply(this,arguments)}function bh(){return(bh=(0,b.A)(function*(p){var d;if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const h=Mn(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new lr({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield nl(h,{returnSecureToken:!0}),N=yield lr._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ue extends E.g{constructor(d,h,g,N){var Z;super(h.code,h.message),this.operationType=g,this.user=N,Object.setPrototypeOf(this,Ue.prototype),this.customData={appName:d.name,tenantId:null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,N){return new Ue(d,h,g,N)}}function pd(p,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Ue._fromErrorAndOperation(p,Z,d,g):Z})}function wh(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function gd(p,d){return yp.apply(this,arguments)}function yp(){return yp=(0,b.A)(function*(p,d){const h=(0,E.Ku)(p);yield nc(!0,h,d);const{providerUserInfo:g}=yield function hi(p,d){return fi.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),N=wh(g||[]);return h.providerData=h.providerData.filter(Z=>N.has(Z.providerId)),N.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),yp.apply(this,arguments)}function bp(p,d){return wp.apply(this,arguments)}function wp(){return(wp=(0,b.A)(function*(p,d,h=!1){const g=yield pn(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return lr._forOperation(p,"link",g)})).apply(this,arguments)}function nc(p,d,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,b.A)(function*(p,d,h){yield Yr(d);const N=!1===p?"provider-already-linked":"no-such-provider";z(wh(d.providerData).has(h)===p,d.auth,N)})).apply(this,arguments)}function Dy(p,d){return il.apply(this,arguments)}function il(){return(il=(0,b.A)(function*(p,d,h=!1){const{auth:g}=p;if((0,W._isFirebaseServerApp)(g.app))return Promise.reject(X(g));const N="reauthenticate";try{const Z=yield pn(p,pd(g,N,d,p),h);z(Z.idToken,g,"internal-error");const Ae=Is(Z.idToken);z(Ae,g,"internal-error");const{sub:$e}=Ae;return z(p.uid===$e,g,"user-mismatch"),lr._forOperation(p,N,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&G(g,"user-mismatch"),Z}})).apply(this,arguments)}function Ry(p,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.A)(function*(p,d,h=!1){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g="signIn",N=yield pd(p,g,d),Z=yield lr._fromIdTokenResponse(p,g,N);return h||(yield p._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Eh(p,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,b.A)(function*(p,d){return Ry(Mn(p),d)})).apply(this,arguments)}function rl(p,d){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,b.A)(function*(p,d){const h=(0,E.Ku)(p);return yield nc(!1,h,d.providerId),bp(h,d)})).apply(this,arguments)}function _d(p,d){return ic.apply(this,arguments)}function ic(){return(ic=(0,b.A)(function*(p,d){return Dy((0,E.Ku)(p),d)})).apply(this,arguments)}function My(){return(My=(0,b.A)(function*(p,d){return Ze(p,"POST","/v1/accounts:signInWithCustomToken",le(p,d))})).apply(this,arguments)}function ky(p,d){return Py.apply(this,arguments)}function Py(){return Py=(0,b.A)(function*(p,d){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const h=Mn(p),g=yield function Ep(p,d){return My.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),N=yield lr._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(N.user),N}),Py.apply(this,arguments)}class Dr{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?vd._fromServerResponse(d,h):"totpInfo"in h?ba._fromServerResponse(d,h):G(d,"internal-error")}}class vd extends Dr{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new vd(h)}}class ba extends Dr{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new ba(h)}}function Ip(p,d,h){var g;z((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),z(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(z(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(z(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Ch(p){return zs.apply(this,arguments)}function zs(){return(zs=(0,b.A)(function*(p){const d=Mn(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Un(p,d,h){return ls.apply(this,arguments)}function ls(){return(ls=(0,b.A)(function*(p,d,h){const g=Mn(p),N={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&Ip(g,N,h),yield uh(g,N,"getOobCode",xe)})).apply(this,arguments)}function Oy(p,d,h){return yd.apply(this,arguments)}function yd(){return yd=(0,b.A)(function*(p,d,h){yield gC((0,E.Ku)(p),{oobCode:d,newPassword:h}).catch(function(){var g=(0,b.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&Ch(p),N});return function(N){return g.apply(this,arguments)}}())}),yd.apply(this,arguments)}function Th(p,d){return rc.apply(this,arguments)}function rc(){return rc=(0,b.A)(function*(p,d){yield function _C(p,d){return hh.apply(this,arguments)}((0,E.Ku)(p),{oobCode:d})}),rc.apply(this,arguments)}function js(p,d){return ko.apply(this,arguments)}function ko(){return(ko=(0,b.A)(function*(p,d){const h=(0,E.Ku)(p),g=yield gC(h,{oobCode:d}),N=g.requestType;switch(z(N,h,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(g.mfaInfo,h,"internal-error");default:z(g.email,h,"internal-error")}let Z=null;return g.mfaInfo&&(Z=Dr._fromServerResponse(Mn(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:Z},operation:N}})).apply(this,arguments)}function EC(p,d){return bd.apply(this,arguments)}function bd(){return(bd=(0,b.A)(function*(p,d){const{data:h}=yield js((0,E.Ku)(p),d);return h.email})).apply(this,arguments)}function Ny(p,d,h){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,b.A)(function*(p,d,h){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g=Mn(p),Ae=yield uh(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nl).catch(ot=>{throw"auth/password-does-not-meet-requirements"===ot.code&&Ch(p),ot}),$e=yield lr._fromIdTokenResponse(g,"signIn",Ae);return yield g._updateCurrentUser($e.user),$e})).apply(this,arguments)}function wd(p,d,h){return(0,W._isFirebaseServerApp)(p.app)?Promise.reject(X(p)):Eh((0,E.Ku)(p),gh.credential(d,h)).catch(function(){var g=(0,b.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&Ch(p),N});return function(N){return g.apply(this,arguments)}}())}function Fy(p,d,h){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,b.A)(function*(p,d,h){const g=Mn(p),N={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function Z(Ae,$e){z($e.handleCodeInApp,g,"argument-error"),$e&&Ip(g,Ae,$e)})(N,h),yield uh(g,N,"getOobCode",dp)})).apply(this,arguments)}function IC(p,d){const h=_n.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function Cp(p,d,h){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,b.A)(function*(p,d,h){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g=(0,E.Ku)(p),N=gh.credentialWithLink(d,h||Pe());return z(N._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Eh(g,N)})).apply(this,arguments)}function Cs(){return(Cs=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:createAuthUri",le(p,d))})).apply(this,arguments)}function TC(p,d){return xh.apply(this,arguments)}function xh(){return xh=(0,b.A)(function*(p,d){const g={identifier:d,continueUri:I()?Pe():"http://localhost"},{signinMethods:N}=yield function CC(p,d){return Cs.apply(this,arguments)}((0,E.Ku)(p),g);return N||[]}),xh.apply(this,arguments)}function SC(p,d){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,b.A)(function*(p,d){const h=(0,E.Ku)(p),N={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&Ip(h.auth,N,d);const{email:Z}=yield function Ey(p,d){return cp.apply(this,arguments)}(h.auth,N);Z!==p.email&&(yield p.reload())}),Sp.apply(this,arguments)}function AC(p,d,h){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&Ip(g.auth,Z,h);const{email:Ae}=yield function up(p,d){return hp.apply(this,arguments)}(g.auth,Z);Ae!==p.email&&(yield p.reload())}),Ap.apply(this,arguments)}function xp(){return(xp=(0,b.A)(function*(p,d){return ye(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xC(p,d){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,b.A)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,E.Ku)(p),Z={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},Ae=yield pn(g,function Ly(p,d){return xp.apply(this,arguments)}(g.auth,Z));g.displayName=Ae.displayName||null,g.photoURL=Ae.photoUrl||null;const $e=g.providerData.find(({providerId:ot})=>"password"===ot);$e&&($e.displayName=g.displayName,$e.photoURL=g.photoURL),yield g._updateTokensIfNecessary(Ae)}),Dp.apply(this,arguments)}function hn(p,d){const h=(0,E.Ku)(p);return(0,W._isFirebaseServerApp)(h.auth.app)?Promise.reject(X(h.auth)):Vy(h,d,null)}function DC(p,d){return Vy((0,E.Ku)(p),null,d)}function Vy(p,d,h){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,b.A)(function*(p,d,h){const{auth:g}=p,Z={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(Z.email=d),h&&(Z.password=h);const Ae=yield pn(p,function at(p,d){return wy.apply(this,arguments)}(g,Z));yield p._updateTokensIfNecessary(Ae,!0)}),Ft.apply(this,arguments)}class et{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class Xr extends et{constructor(d,h,g,N){super(d,h,g),this.username=N}}class bn extends et{constructor(d,h){super(d,"facebook.com",h)}}class dr extends Xr{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Rr extends et{constructor(d,h){super(d,"google.com",h)}}class wa extends Xr{constructor(d,h,g){super(d,"twitter.com",h,g)}}function zr(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function By(p){var d,h;if(!p)return null;const{providerId:g}=p,N=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},Z=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const Ae=null===(h=null===(d=Is(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(Ae)return new et(Z,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!g)return null;switch(g){case"facebook.com":return new bn(Z,N);case"github.com":return new dr(Z,N);case"google.com":return new Rr(Z,N);case"twitter.com":return new wa(Z,N,p.screenName||null);case"custom":case"anonymous":return new et(Z,null);default:return new et(Z,g,N)}}(h)}function Dh(p){return(0,E.Ku)(p).signOut()}class ea{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new ea("enroll",d,h)}static _fromMfaPendingCredential(d){return new ea("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ea._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return ea._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Rh{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=Mn(d),N=h.customData._serverResponse,Z=(N.mfaInfo||[]).map($e=>Dr._fromServerResponse(g,$e));z(N.mfaPendingCredential,g,"internal-error");const Ae=ea._fromMfaPendingCredential(N.mfaPendingCredential);return new Rh(Ae,Z,function(){var $e=(0,b.A)(function*(ot){const Ct=yield ot._process(g,Ae);delete N.mfaInfo,delete N.mfaPendingCredential;const Nt=Object.assign(Object.assign({},N),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(h.operationType){case"signIn":const Tn=yield lr._fromIdTokenResponse(g,h.operationType,Nt);return yield g._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return z(h.user,g,"internal-error"),lr._forOperation(h.user,h.operationType,Nt);default:G(g,"internal-error")}});return function(ot){return $e.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,b.A)(function*(){return h.signInResolver(d)})()}}function jy(p,d){var h;const g=(0,E.Ku)(p),N=d;return z(d.customData.operationType,g,"argument-error"),z(null===(h=N.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),Rh._fromError(g,N)}class Ed{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Dr._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new Ed(d)}getSession(){var d=this;return(0,b.A)(function*(){return ea._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,b.A)(function*(){const N=d,Z=yield g.getSession(),Ae=yield pn(g.user,N._process(g.user.auth,Z,h));return yield g.user._updateTokensIfNecessary(Ae),g.user.reload()})()}unenroll(d){var h=this;return(0,b.A)(function*(){const g="string"==typeof d?d:d.uid,N=yield h.user.getIdToken();try{const Z=yield pn(h.user,function NC(p,d){return ye(p,"POST","/v2/accounts/mfaEnrollment:withdraw",le(p,d))}(h.user.auth,{idToken:N,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Ae})=>Ae!==g),yield h.user._updateTokensIfNecessary(Z),yield h.user.reload()}catch(Z){throw Z}})()}}const sc=new WeakMap;function Zr(p){const d=(0,E.Ku)(p);return sc.has(d)||sc.set(d,Ed._fromUser(d)),sc.get(d)}const ta="__sak";class kh{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ta,"1"),this.storage.removeItem(ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ol=(()=>{class p extends kh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const N=this.storage.getItem(g),Z=this.localCache[g];N!==Z&&h(g,Z,N)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys(($e,ot,Ct)=>{this.notifyListeners($e,Ct)});const N=h.key;g?this.detachListener():this.stopPolling();const Z=()=>{const $e=this.storage.getItem(N);!g&&this.localCache[N]===$e||this.notifyListeners(N,$e)},Ae=this.storage.getItem(N);!function We(){return(0,E.lT)()&&10===document.documentMode}()||Ae===h.newValue||h.newValue===h.oldValue?Z():setTimeout(Z,10)}notifyListeners(h,g){this.localCache[h]=g;const N=this.listeners[h];if(N)for(const Z of Array.from(N))Z(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var N=()=>super._set,Z=this;return(0,b.A)(function*(){yield N().call(Z,h,g),Z.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,N=this;return(0,b.A)(function*(){const Z=yield g().call(N,h);return N.localCache[h]=JSON.stringify(Z),Z})()}_remove(h){var g=()=>super._remove,N=this;return(0,b.A)(function*(){yield g().call(N,h),delete N.localCache[h]})()}}return p.type="LOCAL",p})(),Pp=(()=>{class p extends kh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let Op=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(Z=>Z.isListeningto(h));if(g)return g;const N=new p(h);return this.receivers.push(N),N}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,b.A)(function*(){const N=h,{eventId:Z,eventType:Ae,data:$e}=N.data,ot=g.handlersMap[Ae];if(!ot?.size)return;N.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ae});const Ct=Array.from(ot).map(function(){var Tn=(0,b.A)(function*(Kn){return Kn(N.origin,$e)});return function(Kn){return Tn.apply(this,arguments)}}()),Nt=yield function BC(p){return Promise.all(p.map(function(){var d=(0,b.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(Ct);N.ports[0].postMessage({status:"done",eventId:Z,eventType:Ae,response:Nt})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ts(p="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return p+h}class $y{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var N=this;return(0,b.A)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Ae,$e;return new Promise((ot,Ct)=>{const Nt=Ts("",20);Z.port1.start();const Tn=setTimeout(()=>{Ct(new Error("unsupported_event"))},g);$e={messageChannel:Z,onMessage(Kn){const us=Kn;if(us.data.eventId===Nt)switch(us.data.status){case"ack":clearTimeout(Tn),Ae=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),ot(us.data.response);break;default:clearTimeout(Tn),clearTimeout(Ae),Ct(new Error("invalid_response"))}}},N.handlers.add($e),Z.port1.addEventListener("message",$e.onMessage),N.target.postMessage({eventType:d,eventId:Nt,data:h},[Z.port2])}).finally(()=>{$e&&N.removeMessageHandler($e)})})()}}function Pi(){return window}function Np(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function Qi(){return(Qi=(0,b.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ac="firebaseLocalStorageDb",Ph="firebaseLocalStorage",Wy="fbase_key";class Id{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Oh(p,d){return p.transaction([Ph],d?"readwrite":"readonly").objectStore(Ph)}function Cd(){const p=indexedDB.open(ac,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Ph,{keyPath:Wy})}catch(N){h(N)}}),p.addEventListener("success",(0,b.A)(function*(){const g=p.result;g.objectStoreNames.contains(Ph)?d(g):(g.close(),yield function HC(){const p=indexedDB.deleteDatabase(ac);return new Id(p).toPromise()}(),d(yield Cd()))}))})}function Td(p,d,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,b.A)(function*(p,d,h){const g=Oh(p,!0).put({[Wy]:d,value:h});return new Id(g).toPromise()})).apply(this,arguments)}function Vt(){return(Vt=(0,b.A)(function*(p,d){const h=Oh(p,!1).get(d),g=yield new Id(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Xi(p,d){const h=Oh(p,!0).delete(d);return new Id(h).toPromise()}const al=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,b.A)(function*(){return h.db||(h.db=yield Cd()),h.db})()}_withRetries(h){var g=this;return(0,b.A)(function*(){let N=0;for(;;)try{const Z=yield g._openDb();return yield h(Z)}catch(Z){if(N++>3)throw Z;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,b.A)(function*(){return Np()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,b.A)(function*(){h.receiver=Op._getInstance(function zC(){return Np()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,b.A)(function*(N,Z){return{keyProcessed:(yield h._poll()).includes(Z.key)}});return function(N,Z){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,b.A)(function*(N,Z){return["keyChanged"]});return function(N,Z){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,b.A)(function*(){var g,N;if(h.activeServiceWorker=yield function UC(){return Qi.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new $y(h.activeServiceWorker);const Z=yield h.sender._send("ping",{},800);Z&&null!==(g=Z[0])&&void 0!==g&&g.fulfilled&&null!==(N=Z[0])&&void 0!==N&&N.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,b.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Gy(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.A)(function*(){try{if(!indexedDB)return!1;const h=yield Cd();return yield Td(h,ta,"1"),yield Xi(h,ta),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,b.A)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var N=this;return(0,b.A)(function*(){return N._withPendingWrite((0,b.A)(function*(){return yield N._withRetries(Z=>Td(Z,h,g)),N.localCache[h]=g,N.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,b.A)(function*(){const N=yield g._withRetries(Z=>function mt(p,d){return Vt.apply(this,arguments)}(Z,h));return g.localCache[h]=N,N})()}_remove(h){var g=this;return(0,b.A)(function*(){return g._withPendingWrite((0,b.A)(function*(){return yield g._withRetries(N=>Xi(N,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,b.A)(function*(){const g=yield h._withRetries(Ae=>{const $e=Oh(Ae,!1).getAll();return new Id($e).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const N=[],Z=new Set;if(0!==g.length)for(const{fbase_key:Ae,value:$e}of g)Z.add(Ae),JSON.stringify(h.localCache[Ae])!==JSON.stringify($e)&&(h.notifyListeners(Ae,$e),N.push(Ae));for(const Ae of Object.keys(h.localCache))h.localCache[Ae]&&!Z.has(Ae)&&(h.notifyListeners(Ae,null),N.push(Ae));return N})()}notifyListeners(h,g){this.localCache[h]=g;const N=this.listeners[h];if(N)for(const Z of Array.from(N))Z(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,b.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Ad=1e12;class lc{constructor(d){this.auth=d,this.counter=Ad,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new Si(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||Ad;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ad))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,b.A)(function*(){var g;return null===(g=h._widgets.get(d||Ad))||void 0===g||g.execute(),""})()}}class Si{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof d?document.getElementById(d):d;z(N,"argument-error",{appName:h}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ll(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ia=os("rcb"),na=new Re(3e4,6e4);class cc{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Pi().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return z(function qy(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&pt(Pi().grecaptcha)?Promise.resolve(Pi().grecaptcha):new Promise((g,N)=>{const Z=Pi().setTimeout(()=>{N(ee(d,"network-request-failed"))},na.get());Pi()[Ia]=()=>{Pi().clearTimeout(Z),delete Pi()[Ia];const $e=Pi().grecaptcha;if(!$e||!pt($e))return void N(ee(d,"internal-error"));const ot=$e.render;$e.render=(Ct,Nt)=>{const Tn=ot(Ct,Nt);return this.counter++,Tn},this.hostLanguage=h,g($e)},ap(`${function qn(){return Xo.recaptchaV2Script}()}?${(0,E.Am)({onload:Ia,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(Z),N(ee(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=Pi().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(d){return(0,b.A)(function*(){return new lc(d)})()}clearedOneInstance(){}}const xd="recaptcha",Hs={theme:"light",type:"image"};class Pt{constructor(d,h,g=Object.assign({},Hs)){this.parameters=g,this.type=xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(d),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof h?document.getElementById(h):h;z(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new cc,this.validateStartingState()}verify(){var d=this;return(0,b.A)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(Z=>{const Ae=$e=>{$e&&(d.tokenChangeListeners.delete(Ae),Z($e))};d.tokenChangeListeners.add(Ae),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=Pi()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,b.A)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,b.A)(function*(){z(I()&&!Np(),d.auth,"internal-error"),yield function Fp(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ln(p){return jn.apply(this,arguments)}(d.auth);z(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cl{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=ec._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function Oo(p,d,h){return dc.apply(this,arguments)}function dc(){return(dc=(0,b.A)(function*(p,d,h){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g=Mn(p),N=yield ur(g,d,(0,E.Ku)(h));return new cl(N,Z=>Eh(g,Z))})).apply(this,arguments)}function uc(p,d,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);yield nc(!1,g,"phone");const N=yield ur(g.auth,d,(0,E.Ku)(h));return new cl(N,Z=>rl(g,Z))})).apply(this,arguments)}function Nh(p,d,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);if((0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(X(g.auth));const N=yield ur(g.auth,d,(0,E.Ku)(h));return new cl(N,Z=>_d(g,Z))})).apply(this,arguments)}function ur(p,d,h){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,b.A)(function*(p,d,h){var g;const N=yield h.verify();try{let Z;if(z("string"==typeof N,p,"argument-error"),z(h.type===xd,p,"argument-error"),Z="string"==typeof d?{phoneNumber:d}:d,"session"in Z){const Ae=Z.session;if("phoneNumber"in Z)return z("enroll"===Ae.type,p,"internal-error"),(yield function sl(p,d){return ye(p,"POST","/v2/accounts/mfaEnrollment:start",le(p,d))}(p,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{z("signin"===Ae.type,p,"internal-error");const $e=(null===(g=Z.multiFactorHint)||void 0===g?void 0:g.uid)||Z.multiFactorUid;return z($e,p,"missing-multi-factor-info"),(yield function _i(p,d){return ye(p,"POST","/v2/accounts/mfaSignIn:start",le(p,d))}(p,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:$e,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield function Ty(p,d){return ao.apply(this,arguments)}(p,{phoneNumber:Z.phoneNumber,recaptchaToken:N});return Ae}}finally{h._reset()}}),Dd.apply(this,arguments)}function dl(p,d){return hc.apply(this,arguments)}function hc(){return(hc=(0,b.A)(function*(p,d){const h=(0,E.Ku)(p);if((0,W._isFirebaseServerApp)(h.auth.app))return Promise.reject(X(h.auth));yield bp(h,d)})).apply(this,arguments)}let co=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=Mn(h)}verifyPhoneNumber(h,g){return ur(this.auth,h,(0,E.Ku)(g))}static credential(h,g){return ec._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:N}=h;return g&&N?ec._fromTokenResponse(g,N):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function uo(p,d){return d?Ke(d):(z(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Fh extends dd{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return oo(d,this._buildIdpRequest())}_linkToIdToken(d,h){return oo(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return oo(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function $C(p){return Ry(p.auth,new Fh(p),p.bypassAuthState)}function Lp(p){const{auth:d,user:h}=p;return z(h,d,"internal-error"),Dy(h,new Fh(p),p.bypassAuthState)}function Ky(p){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,b.A)(function*(p){const{auth:d,user:h}=p;return z(h,d,"internal-error"),bp(h,new Fh(p),p.bypassAuthState)})).apply(this,arguments)}class Lh{constructor(d,h,g,N,Z=!1){this.auth=d,this.resolver=g,this.user=N,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,b.A)(function*(g,N){d.pendingPromise={resolve:g,reject:N};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Z){d.reject(Z)}});return function(g,N){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,b.A)(function*(){const{urlResponse:g,sessionId:N,postBody:Z,tenantId:Ae,error:$e,type:ot}=d;if($e)return void h.reject($e);const Ct={auth:h.auth,requestUri:g,sessionId:N,tenantId:Ae||void 0,postBody:Z||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ot)(Ct))}catch(Nt){h.reject(Nt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return Ky;case"reauthViaPopup":case"reauthViaRedirect":return Lp;default:G(this.auth,"internal-error")}}resolve(d){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nP=new Re(2e3,1e4);function iP(p,d,h){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,b.A)(function*(p,d,h){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(ee(p,"operation-not-supported-in-this-environment"));const g=Mn(p);ve(p,d,ji);const N=uo(g,h);return new Zy(g,"signInViaPopup",d,N).executeNotNull()})).apply(this,arguments)}function rP(p,d,h){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);if((0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(ee(g.auth,"operation-not-supported-in-this-environment"));ve(g.auth,d,ji);const N=uo(g.auth,h);return new Zy(g.auth,"reauthViaPopup",d,N,g).executeNotNull()})).apply(this,arguments)}function sP(p,d,h){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);ve(g.auth,d,ji);const N=uo(g.auth,h);return new Zy(g.auth,"linkViaPopup",d,N,g).executeNotNull()})).apply(this,arguments)}let Zy=(()=>{class p extends Lh{constructor(h,g,N,Z,Ae){super(h,g,Z,Ae),this.provider=N,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,b.A)(function*(){const g=yield h.execute();return z(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,b.A)(function*(){we(1===h.filter.length,"Popup operations only handle one event");const g=Ts();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(N=>{h.reject(N)}),h.resolver._isIframeWebStorageSupported(h.auth,N=>{N||h.reject(ee(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,N;this.pollId=null!==(N=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,nP.get())};h()}}return p.currentPopupAction=null,p})();const oP="pendingRedirect",Vh=new Map;class aP extends Lh{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,b.A)(function*(){let g=Vh.get(h.auth._key());if(!g){try{const Z=(yield function lP(p,d){return Bh.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(Z)}catch(N){g=()=>Promise.reject(N)}Vh.set(h.auth._key(),g)}return h.bypassAuthState||Vh.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,b.A)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const N=yield g.auth._redirectUserForId(d.eventId);if(N)return g.user=N,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,b.A)(function*(){})()}cleanUp(){}}function Bh(){return(Bh=(0,b.A)(function*(p,d){const h=eb(d),g=WC(p);if(!(yield g._isAvailable()))return!1;const N="true"===(yield g._get(h));return yield g._remove(h),N})).apply(this,arguments)}function Uh(p,d){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,b.A)(function*(p,d){return WC(p)._set(eb(d),"true")})).apply(this,arguments)}function cP(){Vh.clear()}function GC(p,d){Vh.set(p._key(),d)}function WC(p){return Ke(p._redirectPersistence)}function eb(p){return st(oP,p.config.apiKey,p.name)}function tb(p,d,h){return function Hi(p,d,h){return zh.apply(this,arguments)}(p,d,h)}function zh(){return(zh=(0,b.A)(function*(p,d,h){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g=Mn(p);ve(p,d,ji),yield g._initializationPromise;const N=uo(g,h);return yield Uh(N,g),N._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function qC(p,d,h){return function KC(p,d,h){return jh.apply(this,arguments)}(p,d,h)}function jh(){return(jh=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);if(ve(g.auth,d,ji),(0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(X(g.auth));yield g.auth._initializationPromise;const N=uo(g.auth,h);yield Uh(N,g.auth);const Z=yield Nn(g);return N._openRedirect(g.auth,d,"reauthViaRedirect",Z)})).apply(this,arguments)}function nb(p,d,h){return function YC(p,d,h){return Rd.apply(this,arguments)}(p,d,h)}function Rd(){return(Rd=(0,b.A)(function*(p,d,h){const g=(0,E.Ku)(p);ve(g.auth,d,ji),yield g.auth._initializationPromise;const N=uo(g.auth,h);yield nc(!1,g,d.providerId),yield Uh(N,g.auth);const Z=yield Nn(g);return N._openRedirect(g.auth,d,"linkViaRedirect",Z)})).apply(this,arguments)}function QC(p,d){return $s.apply(this,arguments)}function $s(){return($s=(0,b.A)(function*(p,d){return yield Mn(p)._initializationPromise,Hh(p,d,!1)})).apply(this,arguments)}function Hh(p,d){return $h.apply(this,arguments)}function $h(){return($h=(0,b.A)(function*(p,d,h=!1){if((0,W._isFirebaseServerApp)(p.app))return Promise.reject(X(p));const g=Mn(p),N=uo(g,d),Ae=yield new aP(g,N,h).execute();return Ae&&!h&&(delete Ae.user._redirectEventId,yield g._persistUserIfCurrent(Ae.user),yield g._setRedirectUser(null,d)),Ae})).apply(this,arguments)}function Nn(p){return Md.apply(this,arguments)}function Md(){return(Md=(0,b.A)(function*(p){const d=Ts(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class jr{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function ul(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fc(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!fc(d)){const N=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError(ee(this.auth,N))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ib(d))}saveEventToCache(d){this.cachedEventUids.add(ib(d)),this.lastProcessedEventTime=Date.now()}}function ib(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function fc({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function ds(p){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,b.A)(function*(p,d={}){return ye(p,"GET","/v1/projects",d)})).apply(this,arguments)}const Up=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;function Gh(){return(Gh=(0,b.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield ds(p);for(const h of d)try{if(rb(h))return}catch{}G(p,"unauthorized-domain")})).apply(this,arguments)}function rb(p){const d=Pe(),{protocol:h,hostname:g}=new URL(d);if(p.startsWith("chrome-extension://")){const Ae=new URL(p);return""===Ae.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&Ae.hostname===g}if(!XC.test(h))return!1;if(Up.test(p))return g===p;const N=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(g)}const sb=new Re(3e4,6e4);function Pd(){const p=Pi().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let hl=null;const jp=new Re(5e3,15e3),ia="__/auth/iframe",tn="emulator/auth/iframe",qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ob(p){const d=p.config;z(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?ke(d,tn):`https://${p.config.authDomain}/${ia}`,g={apiKey:d.apiKey,appName:p.name,v:W.SDK_VERSION},N=Hp.get(p.config.apiHost);N&&(g.eid=N);const Z=p._getFrameworks();return Z.length&&(g.fw=Z.join(",")),`${h}?${(0,E.Am)(g).slice(1)}`}function $p(){return $p=(0,b.A)(function*(p){const d=yield function Wh(p){return hl=hl||function zp(p){return new Promise((d,h)=>{var g,N,Z;function Ae(){Pd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Pd(),h(ee(p,"network-request-failed"))},timeout:sb.get()})}if(null!==(N=null===(g=Pi().gapi)||void 0===g?void 0:g.iframes)&&void 0!==N&&N.Iframe)d(gapi.iframes.getContext());else{if(null===(Z=Pi().gapi)||void 0===Z||!Z.load){const $e=os("iframefcb");return Pi()[$e]=()=>{gapi.load?Ae():h(ee(p,"network-request-failed"))},ap(`${function dh(){return Xo.gapiScript}()}?onload=${$e}`).catch(ot=>h(ot))}Ae()}}).catch(d=>{throw hl=null,d})}(p),hl}(p),h=Pi().gapi;return z(h,p,"internal-error"),d.open({where:document.body,url:ob(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},g=>new Promise(function(){var N=(0,b.A)(function*(Z,Ae){yield g.restyle({setHideOnLeave:!1});const $e=ee(p,"network-request-failed"),ot=Pi().setTimeout(()=>{Ae($e)},jp.get());function Ct(){Pi().clearTimeout(ot),Z(g)}g.ping(Ct).then(Ct,()=>{Ae($e)})});return function(Z,Ae){return N.apply(this,arguments)}}()))}),$p.apply(this,arguments)}const ZC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lb{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const r1="__/auth/handler",Je="emulator/auth/handler",vn=encodeURIComponent("fac");function li(p,d,h,g,N,Z){return ci.apply(this,arguments)}function ci(){return(ci=(0,b.A)(function*(p,d,h,g,N,Z){z(p.config.authDomain,p,"auth-domain-config-required"),z(p.config.apiKey,p,"invalid-api-key");const Ae={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:W.SDK_VERSION,eventId:N};if(d instanceof ji){d.setDefaultLanguage(p.languageCode),Ae.providerId=d.providerId||"",(0,E.Im)(d.getCustomParameters())||(Ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Nt,Tn]of Object.entries(Z||{}))Ae[Nt]=Tn}if(d instanceof tl){const Nt=d.getScopes().filter(Tn=>""!==Tn);Nt.length>0&&(Ae.scopes=Nt.join(","))}p.tenantId&&(Ae.tid=p.tenantId);const $e=Ae;for(const Nt of Object.keys($e))void 0===$e[Nt]&&delete $e[Nt];const ot=yield p._getAppCheckToken(),Ct=ot?`#${vn}=${encodeURIComponent(ot)}`:"";return`${function ti({config:p}){return p.emulator?ke(p,Je):`https://${p.authDomain}/${r1}`}(p)}?${(0,E.Am)($e).slice(1)}${Ct}`})).apply(this,arguments)}const Kh="webStorageSupport",Ws=class Od{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pp,this._completeRedirectFn=Hh,this._overrideRedirectResult=GC}_openPopup(d,h,g,N){var Z=this;return(0,b.A)(function*(){var Ae;we(null===(Ae=Z.eventManagers[d._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const $e=yield li(d,h,g,Pe(),N);return function t1(p,d,h,g=500,N=600){const Z=Math.max((window.screen.availHeight-N)/2,0).toString(),Ae=Math.max((window.screen.availWidth-g)/2,0).toString();let $e="";const ot=Object.assign(Object.assign({},ZC),{width:g.toString(),height:N.toString(),top:Z,left:Ae}),Ct=(0,E.ZQ)().toLowerCase();h&&($e=Qr(Ct)?"_blank":h),Se(Ct)&&(d=d||"http://localhost",ot.scrollbars="yes");const Nt=Object.entries(ot).reduce((Kn,[us,ni])=>`${Kn}${us}=${ni},`,"");if(function ya(p=(0,E.ZQ)()){var d;return ss(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ct)&&"_self"!==$e)return function n1(p,d){const h=document.createElement("a");h.href=p,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",$e),new lb(null);const Tn=window.open(d||"",$e,Nt);z(Tn,p,"popup-blocked");try{Tn.focus()}catch{}return new lb(Tn)}(d,$e,Ts())})()}_openRedirect(d,h,g,N){var Z=this;return(0,b.A)(function*(){return yield Z._originValidation(d),function oc(p){Pi().location.href=p}(yield li(d,h,g,Pe(),N)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:N,promise:Z}=this.eventManagers[h];return N?Promise.resolve(N):(we(Z,"If manager is not set, promise should be"),Z)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,b.A)(function*(){const g=yield function dP(p){return $p.apply(this,arguments)}(d),N=new jr(d);return g.register("authEvent",Z=>(z(Z?.authEvent,d,"invalid-auth-event"),{status:N.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:N},h.iframes[d._key()]=g,N})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Kh,{type:Kh},N=>{var Z;const Ae=null===(Z=N?.[0])||void 0===Z?void 0:Z[Kh];void 0!==Ae&&h(!!Ae),G(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Gs(p){return Gh.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Ve()||ei()||ss()}};class Yh{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return ae("unexpected MultiFactorSessionType")}}}class Nd extends Yh{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Nd(d)}_finalizeEnroll(d,h,g){return function OC(p,d){return ye(p,"POST","/v2/accounts/mfaEnrollment:finalize",le(p,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function tr(p,d){return ye(p,"POST","/v2/accounts/mfaSignIn:finalize",le(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cb=(()=>{class p{constructor(){}static assertion(h){return Nd._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var Wp="@firebase/auth";class ra{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,b.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const s1=(0,E.XA)("authIdTokenMaxAge")||300;let qp=null;const o1=p=>function(){var d=(0,b.A)(function*(h){const g=h&&(yield h.getIdTokenResult()),N=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(N&&N>s1)return;const Z=g?.token;qp!==Z&&(qp=Z,yield fetch(p,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function a1(p=(0,W.getApp)()){const d=(0,W._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function Y2(p,d){const h=(0,W._getProvider)(p,"auth");if(h.isInitialized()){const N=h.getImmediate(),Z=h.getOptions();if((0,E.bD)(Z,d??{}))return N;G(N,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:Ws,persistence:[al,ol,Pp]}),g=(0,E.XA)("authTokenSyncURL");if(g&&"boolean"==typeof isSecureContext&&isSecureContext){const Z=new URL(g,location.origin);if(location.origin===Z.origin){const Ae=o1(Z.toString());(function Ea(p,d,h){(0,E.Ku)(p).beforeAuthStateChanged(d,h)})(h,Ae,()=>Ae(h.currentUser)),function kC(p,d,h,g){(0,E.Ku)(p).onIdTokenChanged(d,h,g)}(h,$e=>Ae($e))}}const N=(0,E.Tj)("auth");return N&&mC(h,`http://${N}`),h}(function W2(p){Xo=p})({loadJS:p=>new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=d,g.onerror=N=>{const Z=ee("internal-error");Z.customData=N,h(Z)},g.type="text/javascript",g.charset="UTF-8",function Kp(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ho(p){(0,W._registerComponent)(new M.uA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),N=d.getProvider("heartbeat"),Z=d.getProvider("app-check-internal"),{apiKey:Ae,authDomain:$e}=g.options;z(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:g.name});const ot={apiKey:Ae,authDomain:$e,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nt(p)},Ct=new Yt(g,N,Z,ot);return function fC(p,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(Ke);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(g,d?.popupRedirectResolver)}(Ct,h),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new M.uA("auth-internal",d=>{const h=Mn(d.getProvider("auth").getImmediate());return new ra(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(Wp,"1.7.9",function ub(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,W.registerVersion)(Wp,"1.7.9","esm2017")}("Browser")},1401:(It,Y,q)=>{q.d(Y,{Am:()=>hi,Bd:()=>ae,FA:()=>re,Fy:()=>X,I9:()=>fi,Im:()=>jn,Ku:()=>Yo,Ll:()=>z,T9:()=>G,Tj:()=>_,Uj:()=>L,XA:()=>ee,ZQ:()=>ve,bD:()=>Vn,c1:()=>Pe,cY:()=>fe,eX:()=>_e,g:()=>Ne,gR:()=>xt,hp:()=>br,jZ:()=>ce,lT:()=>de,lV:()=>j,mS:()=>T,nr:()=>tt,p7:()=>we,sr:()=>I,tD:()=>oi,u:()=>C,yU:()=>P,zW:()=>he,zw:()=>V});const se=function(Q){const R=[];let H=0;for(let me=0;me<Q.length;me++){let Ee=Q.charCodeAt(me);Ee<128?R[H++]=Ee:Ee<2048?(R[H++]=Ee>>6|192,R[H++]=63&Ee|128):55296==(64512&Ee)&&me+1<Q.length&&56320==(64512&Q.charCodeAt(me+1))?(Ee=65536+((1023&Ee)<<10)+(1023&Q.charCodeAt(++me)),R[H++]=Ee>>18|240,R[H++]=Ee>>12&63|128,R[H++]=Ee>>6&63|128,R[H++]=63&Ee|128):(R[H++]=Ee>>12|224,R[H++]=Ee>>6&63|128,R[H++]=63&Ee|128)}return R},M={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,R){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let Ee=0;Ee<Q.length;Ee+=3){const Ke=Q[Ee],ct=Ee+1<Q.length,jt=ct?Q[Ee+1]:0,st=Ee+2<Q.length,Rn=st?Q[Ee+2]:0;let ei=(15&jt)<<2|Rn>>6,Qr=63&Rn;st||(Qr=64,ct||(ei=64)),me.push(H[Ke>>2],H[(3&Ke)<<4|jt>>4],H[ei],H[Qr])}return me.join("")},encodeString(Q,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(Q):this.encodeByteArray(se(Q),R)},decodeString(Q,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(Q):function(Q){const R=[];let H=0,me=0;for(;H<Q.length;){const Ee=Q[H++];if(Ee<128)R[me++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const Ke=Q[H++];R[me++]=String.fromCharCode((31&Ee)<<6|63&Ke)}else if(Ee>239&&Ee<365){const st=((7&Ee)<<18|(63&Q[H++])<<12|(63&Q[H++])<<6|63&Q[H++])-65536;R[me++]=String.fromCharCode(55296+(st>>10)),R[me++]=String.fromCharCode(56320+(1023&st))}else{const Ke=Q[H++],ct=Q[H++];R[me++]=String.fromCharCode((15&Ee)<<12|(63&Ke)<<6|63&ct)}}return R.join("")}(this.decodeStringToByteArray(Q,R))},decodeStringToByteArray(Q,R){this.init_();const H=R?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let Ee=0;Ee<Q.length;){const Ke=H[Q.charAt(Ee++)],jt=Ee<Q.length?H[Q.charAt(Ee)]:0;++Ee;const Rn=Ee<Q.length?H[Q.charAt(Ee)]:64;++Ee;const Se=Ee<Q.length?H[Q.charAt(Ee)]:64;if(++Ee,null==Ke||null==jt||null==Rn||null==Se)throw new F;me.push(Ke<<2|jt>>4),64!==Rn&&(me.push(jt<<4&240|Rn>>2),64!==Se&&me.push(Rn<<6&192|Se))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(Q){return function(Q){const R=se(Q);return M.encodeByteArray(R,!0)}(Q).replace(/\./g,"")},C=function(Q){try{return M.decodeString(Q,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function V(Q,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return R}for(const H in R)!R.hasOwnProperty(H)||!k(H)||(Q[H]=V(Q[H],R[H]));return Q}function k(Q){return"__proto__"!==Q}function T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const te=()=>{try{return T().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=Q&&C(Q[1]);return R&&JSON.parse(R)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},_=Q=>{var R,H;return null===(H=null===(R=te())||void 0===R?void 0:R.emulatorHosts)||void 0===H?void 0:H[Q]},P=Q=>{const R=_(Q);if(!R)return;const H=R.lastIndexOf(":");if(H<=0||H+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const me=parseInt(R.substring(H+1),10);return"["===R[0]?[R.substring(1,H-1),me]:[R.substring(0,H),me]},G=()=>{var Q;return null===(Q=te())||void 0===Q?void 0:Q.config},ee=Q=>{var R;return null===(R=te())||void 0===R?void 0:R[`_${Q}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,H)=>{this.resolve=R,this.reject=H})}wrapCallback(R){return(H,me)=>{H?this.reject(H):this.resolve(me),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(H):R(H,me))}}}function X(Q,R){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=R||"demo-project",Ee=Q.iat||0,Ke=Q.sub||Q.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(ct)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function z(){var Q;const R=null===(Q=te())||void 0===Q?void 0:Q.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ae(){return typeof window<"u"||we()}function we(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Pe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function I(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function j(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const Q=ve();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function tt(){return!z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((Q,R)=>{try{let H=!0;const me="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(me);Ee.onsuccess=()=>{Ee.result.close(),H||self.indexedDB.deleteDatabase(me),Q(!0)},Ee.onupgradeneeded=()=>{H=!1},Ee.onerror=()=>{var Ke;R((null===(Ke=Ee.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(H){R(H)}})}class Ne extends Error{constructor(R,H,me){super(H),this.code=R,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}}class re{constructor(R,H,me){this.service=R,this.serviceName=H,this.errors=me}create(R,...H){const me=H[0]||{},Ee=`${this.service}/${R}`,Ke=this.errors[R],ct=Ke?function De(Q,R){return Q.replace(Ze,(H,me)=>{const Ee=R[me];return null!=Ee?String(Ee):`<${me}?>`})}(Ke,me):"Error";return new Ne(Ee,`${this.serviceName}: ${ct} (${Ee}).`,me)}}const Ze=/\{\$([^}]+)}/g;function xt(Q,R){return Object.prototype.hasOwnProperty.call(Q,R)}function jn(Q){for(const R in Q)if(Object.prototype.hasOwnProperty.call(Q,R))return!1;return!0}function Vn(Q,R){if(Q===R)return!0;const H=Object.keys(Q),me=Object.keys(R);for(const Ee of H){if(!me.includes(Ee))return!1;const Ke=Q[Ee],ct=R[Ee];if(yr(Ke)&&yr(ct)){if(!Vn(Ke,ct))return!1}else if(Ke!==ct)return!1}for(const Ee of me)if(!H.includes(Ee))return!1;return!0}function yr(Q){return null!==Q&&"object"==typeof Q}function hi(Q){const R=[];for(const[H,me]of Object.entries(Q))Array.isArray(me)?me.forEach(Ee=>{R.push(encodeURIComponent(H)+"="+encodeURIComponent(Ee))}):R.push(encodeURIComponent(H)+"="+encodeURIComponent(me));return R.length?"&"+R.join("&"):""}function fi(Q){const R={};return Q.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[Ee,Ke]=me.split("=");R[decodeURIComponent(Ee)]=decodeURIComponent(Ke)}}),R}function br(Q){const R=Q.indexOf("?");if(!R)return"";const H=Q.indexOf("#",R);return Q.substring(R,H>0?H:void 0)}function oi(Q,R){const H=new An(Q,R);return H.subscribe.bind(H)}class An{constructor(R,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{R(this)}).catch(me=>{this.error(me)})}next(R){this.forEachObserver(H=>{H.next(R)})}error(R){this.forEachObserver(H=>{H.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,H,me){let Ee;if(void 0===R&&void 0===H&&void 0===me)throw new Error("Missing Observer.");Ee=function er(Q,R){if("object"!=typeof Q||null===Q)return!1;for(const H of R)if(H in Q&&"function"==typeof Q[H])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:H,complete:me},void 0===Ee.next&&(Ee.next=ai),void 0===Ee.error&&(Ee.error=ai),void 0===Ee.complete&&(Ee.complete=ai);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),Ke}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,R)}sendOne(R,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{H(this.observers[R])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ai(){}function Yo(Q){return Q&&Q._delegate?Q._delegate:Q}},5713:(It,Y,q)=>{function b(n,t){return Object.is(n,t)}let W=null,E=!1,se=1;const K=Symbol("SIGNAL");function M(n){const t=W;return W=n,t}const C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D(n){if(E)throw new Error("");if(null===W)return;W.consumerOnSignalRead(n);const t=W.nextProducerIndex++;X(W),t<W.producerNode.length&&W.producerNode[t]!==n&&fe(W)&&ee(W.producerNode[t],W.producerIndexOfThis[t]),W.producerNode[t]!==n&&(W.producerNode[t]=n,W.producerIndexOfThis[t]=fe(W)?G(n,W,t):0),W.producerLastReadVersion[t]=n.version}function k(n){if((!fe(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==se)){if(!n.producerMustRecompute(n)&&!_(n))return n.dirty=!1,void(n.lastCleanEpoch=se);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=se}}function T(n){if(void 0===n.liveConsumerNode)return;const t=E;E=!0;try{for(const e of n.liveConsumerNode)e.dirty||B(e)}finally{E=t}}function S(){return!1!==W?.consumerAllowSignalWrites}function B(n){n.dirty=!0,T(n),n.consumerMarkedDirty?.(n)}function U(n){return n&&(n.nextProducerIndex=0),M(n)}function te(n,t){if(M(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(fe(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)ee(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function _(n){X(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(k(e),i!==e.version))return!0}return!1}function P(n){if(X(n),fe(n))for(let t=0;t<n.producerNode.length;t++)ee(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function G(n,t,e){if(ve(n),0===n.liveConsumerNode.length&&ce(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=G(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function ee(n,t){if(ve(n),1===n.liveConsumerNode.length&&ce(n))for(let i=0;i<n.producerNode.length;i++)ee(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];X(r),r.producerIndexOfThis[i]=t}}function fe(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function X(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ve(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ce(n){return void 0!==n.producerNode}function z(n){const t=Object.create(I);t.computation=n;const e=()=>{if(k(t),D(t),t.value===Pe)throw t.error;return t.value};return e[K]=t,e}const ae=Symbol("UNSET"),we=Symbol("COMPUTING"),Pe=Symbol("ERRORED"),I={...C,value:ae,dirty:!0,error:null,equal:b,producerMustRecompute:n=>n.value===ae||n.value===we,producerRecomputeValue(n){if(n.value===we)throw new Error("Detected cycle in computations.");const t=n.value;n.value=we;const e=U(n);let i;try{i=n.computation()}catch(r){i=Pe,n.error=r}finally{te(n,e)}t!==ae&&t!==Pe&&i!==Pe&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}};let J=function j(){throw new Error};function de(){J()}let ke=null;function le(n,t){S()||de(),n.equal(n.value,t)||(n.value=t,function De(n){n.version++,function V(){se++}(),T(n),ke?.()}(n))}const re={...C,equal:b,value:void 0};const wt=()=>{},qe={...C,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:wt};function dt(n){return"function"==typeof n}function on(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const pt=on(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function an(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class xt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(dt(i))try{i()}catch(s){t=s instanceof pt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{si(s)}catch(o){t=t??[],o instanceof pt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new pt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)si(t);else{if(t instanceof xt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&an(e,t)}remove(t){const{_finalizers:e}=this;e&&an(e,t),t instanceof xt&&t._removeParent(this)}}xt.EMPTY=(()=>{const n=new xt;return n.closed=!0,n})();const ln=xt.EMPTY;function jn(n){return n instanceof xt||n&&"closed"in n&&dt(n.remove)&&dt(n.add)&&dt(n.unsubscribe)}function si(n){dt(n)?n():n.unsubscribe()}const Vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yr={setTimeout(n,t,...e){const{delegate:i}=yr;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=yr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hn(n){yr.setTimeout(()=>{const{onUnhandledError:t}=Vn;if(!t)throw n;t(n)})}function hi(){}const fi=oi("C",void 0,void 0);function oi(n,t,e){return{kind:n,value:t,error:e}}let An=null;function wr(n){if(Vn.useDeprecatedSynchronousErrorHandling){const t=!An;if(t&&(An={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=An;if(An=null,e)throw i}}else n()}class ai extends xt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,jn(t)&&t.add(this)):this.destination=Yr}static create(t,e,i){return new Mi(t,e,i)}next(t){this.isStopped?Jn(function Wn(n){return oi("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Jn(function br(n){return oi("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Jn(fi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Is=Function.prototype.bind;function Ri(n,t){return Is.call(n,t)}class pn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Kr(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Kr(i)}else Kr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Kr(e)}}}class Mi extends ai{constructor(t,e,i){let r;if(super(),dt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Vn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ri(t.next,s),error:t.error&&Ri(t.error,s),complete:t.complete&&Ri(t.complete,s)}):r=t}this.destination=new pn(r)}}function Kr(n){Vn.useDeprecatedSynchronousErrorHandling?function er(n){Vn.useDeprecatedSynchronousErrorHandling&&An&&(An.errorThrown=!0,An.error=n)}(n):Hn(n)}function Jn(n,t){const{onStoppedNotification:e}=Vn;e&&yr.setTimeout(()=>e(n,t))}const Yr={closed:!0,next:hi,error:function Xl(n){throw n},complete:hi},Bs="function"==typeof Symbol&&Symbol.observable||"@@observable";function Br(n){return n}function Ro(n){return 0===n.length?Br:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let gn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Yo(n){return n&&n instanceof ai||function Mo(n){return n&&dt(n.next)&&dt(n.error)&&dt(n.complete)}(n)&&jn(n)}(e)?e:new Mi(e,i,r);return wr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Xa(i))((r,s)=>{const o=new Mi({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Bs](){return this}pipe(...e){return Ro(e)(this)}toPromise(e){return new(e=Xa(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Xa(n){var t;return null!==(t=n??Vn.Promise)&&void 0!==t?t:Promise}const Q=on(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let R=(()=>{class n extends gn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new H(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Q}next(e){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?ln:(this.currentObservers=null,s.push(e),new xt(()=>{this.currentObservers=null,an(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new gn;return e.source=this,e}}return n.create=(t,e)=>new H(t,e),n})();class H extends R{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:ln}}class me extends R{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Ee(n){return dt(n?.lift)}function Ke(n){return t=>{if(Ee(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(n,t,e,i,r){return new jt(n,t,e,i,r)}class jt extends ai{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function st(n,t){return Ke((e,i)=>{let r=0;e.subscribe(ct(i,s=>{i.next(n.call(t,s,r++))}))})}const mi="https://g.co/ng/security#xss";class Se extends Error{constructor(t,e){super(function ei(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function ss(n){return{toString:n}.toString()}const ya="__parameters__";function gt(n,t,e){return ss(()=>{const i=function nt(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const m=l.hasOwnProperty(ya)?l[ya]:Object.defineProperty(l,ya,{value:[]})[ya];for(;m.length<=u;)m.push(null);return(m[u]=m[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const St=globalThis;function Yt(n){for(let t in n)if(n[t]===Yt)return t;throw Error("Could not find renamed property on target object.")}function Mn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function pi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Xo(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ap=Yt({__forward_ref__:Yt});function qn(n){return n.__forward_ref__=qn,n.toString=function(){return pi(this())},n}function Jt(n){return dh(n)?n():n}function dh(n){return"function"==typeof n&&n.hasOwnProperty(ap)&&n.__forward_ref__===qn}function at(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zl(n){return hh(n,Ja)||hh(n,Ey)}function hh(n,t){return n.hasOwnProperty(t)?n[t]:null}function Jl(n){return n&&(n.hasOwnProperty(ud)||n.hasOwnProperty(cp))?n[ud]:null}const Ja=Yt({\u0275prov:Yt}),ud=Yt({\u0275inj:Yt}),Ey=Yt({ngInjectableDef:Yt}),cp=Yt({ngInjectorDef:Yt});class xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(n){return n&&!!n.\u0275providers}const el=Yt({\u0275cmp:Yt}),mp=Yt({\u0275dir:Yt}),Us=Yt({\u0275pipe:Yt}),Ty=Yt({\u0275mod:Yt}),ao=Yt({\u0275fac:Yt}),fd=Yt({__NG_ELEMENT_ID__:Yt}),ph=Yt({__NG_ENV_ID__:Yt});function un(n){return"string"==typeof n?n:null==n?"":String(n)}function gp(n,t){throw new Se(-201,!1)}var _n=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_n||{});let Sy;function gh(){return Sy}function ji(n){const t=Sy;return Sy=n,t}function tl(n,t,e){const i=Zl(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&_n.Optional?null:void 0!==t?t:void gp()}const md={},_p="__NG_DI_FLAG__",vh="ngTempTokenPath",wC=/\n/gm,Ay="__source";let nl;function lr(n){const t=nl;return nl=n,t}function xy(n,t=_n.Default){if(void 0===nl)throw new Se(-203,!1);return null===nl?tl(n,void 0,t):nl.get(n,t&_n.Optional?null:void 0,t)}function Te(n,t=_n.Default){return(gh()||xy)(Jt(n),t)}function Ue(n,t=_n.Default){return Te(n,pd(t))}function pd(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wh(n){const t=[];for(let e=0;e<n.length;e++){const i=Jt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Se(900,!1);let r,s=_n.Default;for(let o=0;o<i.length;o++){const a=i[o],l=yp(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(Te(r,s))}else t.push(Te(i))}return t}function gd(n,t){return n[_p]=t,n.prototype[_p]=t,n}function yp(n){return n[_p]}const nc=gd(gt("Inject",n=>({token:n})),-1),cr=gd(gt("Optional"),8),il=gd(gt("SkipSelf"),4);function Jo(n,t){return n.hasOwnProperty(ao)?n[ao]:null}function rl(n,t){n.forEach(e=>Array.isArray(e)?rl(e,t):t(e))}function Ih(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function _d(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Dr(n,t,e){let i=ba(n,t);return i>=0?n[1|i]=e:(i=~i,function ky(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function vd(n,t){const e=ba(n,t);if(e>=0)return n[1|e]}function ba(n,t){return function Ch(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const zs={},Un=[],ls=new xe(""),Oy=new xe("",-1),yd=new xe("");class Th{get(t,e=md){if(e===md){const i=new Error(`NullInjectorError: No provider for ${pi(t)}!`);throw i.name="NullInjectorError",i}return e}}var rc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rc||{}),js=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(js||{}),ko=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ko||{});function EC(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function bd(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];Sh(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Ny(n){return 3===n||4===n||6===n}function Sh(n){return 64===n.charCodeAt(0)}function wd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Fy(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Fy(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const Ah="ng-template";function IC(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==EC(t[r+1].toLowerCase(),e,0))return!0}else if(Cp(n))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&"string"==typeof(s=t[r]);)if(s.toLowerCase()===e)return!0}return!1}function Cp(n){return 4===n.type&&n.value!==Ah}function Tp(n,t,e){return t===(4!==n.type||e?n.value:Ah)}function CC(n,t,e){let i=4;const r=n.attrs,s=null!==r?function Sp(n){for(let t=0;t<n.length;t++)if(Ny(n[t]))return t;return n.length}(r):0;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Tp(n,l,e)||""===l&&1===t.length){if(Cs(i))return!1;o=!0}}else if(8&i){if(null===r||!IC(n,r,l,e)){if(Cs(i))return!1;o=!0}}else{const c=t[++a],u=TC(l,r,Cp(n),e);if(-1===u){if(Cs(i))return!1;o=!0;continue}if(""!==c){let m;if(m=u>s?"":r[u+1].toLowerCase(),2&i&&c!==m){if(Cs(i))return!1;o=!0}}}}else{if(!o&&!Cs(i)&&!Cs(l))return!1;if(o&&Cs(l))continue;o=!1,i=l|1&i}}return Cs(i)||o}function Cs(n){return!(1&n)}function TC(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function AC(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function xh(n,t,e=!1){for(let i=0;i<t.length;i++)if(CC(n,t[i],e))return!0;return!1}function Ap(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ly(n,t){return n?":not("+t.trim()+")":t}function xp(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Cs(o)&&(t+=Ly(s,r),r=""),i=o,s=s||!Cs(i);e++}return""!==r&&(t+=Ly(s,r)),t}function hn(n){return ss(()=>{const t=RC(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||js.Emulated,styles:n.styles||Un,_:null,schemas:n.schemas||null,tView:null,id:""};MC(e);const i=n.dependencies;return e.directiveDefs=Rp(i,!1),e.pipeDefs=Rp(i,!0),e.id=function kC(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function DC(n){return bn(n)||dr(n)}function Vy(n){return null!==n}function Ft(n){return ss(()=>({type:n.type,bootstrap:n.bootstrap||Un,declarations:n.declarations||Un,imports:n.imports||Un,exports:n.exports||Un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function By(n,t){if(null==n)return zs;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let s,o,a=ko.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(e[s]=a!==ko.None?[i,a]:i,t[s]=o):e[s]=i}return e}function et(n){return ss(()=>{const t=RC(n);return MC(t),t})}function Xr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function bn(n){return n[el]||null}function dr(n){return n[mp]||null}function Rr(n){return n[Us]||null}function zr(n,t){const e=n[Ty]||null;if(!e&&!0===t)throw new Error(`Type ${pi(n)} does not have '\u0275mod' property.`);return e}function RC(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||zs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:By(n.inputs,t),outputs:By(n.outputs),debugInfo:null}}function MC(n){n.features?.forEach(t=>t(n))}function Rp(n,t){if(!n)return null;const e=t?Rr:DC;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Vy)}function Ea(n){return{\u0275providers:n}}function eP(...n){return{\u0275providers:Uy(0,n),\u0275fromNgModule:!0}}function Uy(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return rl(t,o=>{const a=o;Dh(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&PC(r,s),e}function PC(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];zy(r,s=>{t(s,i)})}}function Dh(n,t,e,i){if(!(n=Jt(n)))return!1;let r=null,s=Jl(n);const o=!s&&bn(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Jl(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Dh(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{rl(s.imports,u=>{Dh(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&PC(c,t)}if(!a){const c=Jo(r)||(()=>new r);t({provide:r,useFactory:c,deps:Un},r),t({provide:yd,useValue:r,multi:!0},r),t({provide:ls,useValue:()=>Te(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;zy(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function zy(n,t){for(let e of n)oo(e)&&(e=e.\u0275providers),Array.isArray(e)?zy(e,t):t(e)}const kp=Yt({provide:String,useValue:Yt});function ea(n){return null!==n&&"object"==typeof n&&kp in n}function sl(n){return"function"==typeof n}const Hy=new xe(""),Mh={},NC={};let Ed;function sc(){return void 0===Ed&&(Ed=new Th),Ed}class Zr{}class ta extends Zr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Op(t,o=>this.processProvider(o)),this.records.set(Oy,ol(void 0,this)),r.has("environment")&&this.records.set(Zr,ol(void 0,this));const s=this.records.get(Hy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yd,Un,_n.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=M(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=lr(this),i=ji(void 0);try{return t()}finally{lr(e),ji(i)}}get(t,e=md,i=_n.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ph))return t[ph](this);i=pd(i);const s=lr(this),o=ji(void 0);try{if(!(i&_n.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function BC(n){return"function"==typeof n||"object"==typeof n&&n instanceof xe}(t)&&Zl(t);l=c&&this.injectableDefInScope(c)?ol(kh(t),Mh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&_n.Self?sc():this.parent).get(t,e=i&_n.Optional&&e===md?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[vh]=a[vh]||[]).unshift(pi(t)),s)throw a;return function bp(n,t,e,i){const r=n[vh];throw t[Ay]&&r.unshift(t[Ay]),n.message=function wp(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=pi(t);if(Array.isArray(t))r=t.map(pi).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pi(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(wC,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[vh]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ji(o),lr(s)}}resolveInjectorInitializers(){const t=M(null),e=lr(this),i=ji(void 0);try{const s=this.get(ls,Un,_n.Self);for(const o of s)o()}finally{lr(e),ji(i),M(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(pi(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(t){let e=sl(t=Jt(t))?t:Jt(t&&t.provide);const i=function LC(n){return ea(n)?ol(void 0,n.useValue):ol(VC(n),Mh)}(t);if(!sl(t)&&!0===t.multi){let r=this.records.get(e);r||(r=ol(void 0,Mh,!0),r.factory=()=>wh(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){const i=M(null);try{return e.value===Mh&&(e.value=NC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Pp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{M(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Jt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function kh(n){const t=Zl(n),e=null!==t?t.factory:Jo(n);if(null!==e)return e;if(n instanceof xe)throw new Se(204,!1);if(n instanceof Function)return function FC(n){if(n.length>0)throw new Se(204,!1);const e=function vC(n){return n&&(n[Ja]||n[Ey])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Se(204,!1)}function VC(n,t,e){let i;if(sl(n)){const r=Jt(n);return Jo(r)||kh(r)}if(ea(n))i=()=>Jt(n.useValue);else if(function jy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...wh(n.deps||[]));else if(function Rh(n){return!(!n||!n.useExisting)}(n))i=()=>Te(Jt(n.useExisting));else{const r=Jt(n&&(n.useClass||n.provide));if(!function tP(n){return!!n.deps}(n))return Jo(r)||kh(r);i=()=>new r(...wh(n.deps))}return i}function ol(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Op(n,t){for(const e of n)Array.isArray(e)?Op(e,t):e&&oo(e)?Op(e.\u0275providers,t):t(e)}function Ts(n,t){n instanceof ta&&n.assertNotDestroyed();const i=lr(n),r=ji(void 0);try{return t()}finally{lr(i),ji(r)}}function $y(){return void 0!==gh()||null!=function vp(){return nl}()}function Pi(n){if(!$y())throw new Se(-203,!1)}const gi=0,mt=1,Vt=2,Xi=3,lo=4,Mr=5,cs=6,al=7,_i=8,tr=9,Po=10,en=11,Sd=12,Ad=13,lc=14,Si=15,ll=16,Ia=17,na=18,cc=19,qy=20,Ca=21,xd=22,Hs=23,Pt=25,Fp=1,Oo=7,uc=9,Oi=10;var Nh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Nh||{});function Zi(n){return Array.isArray(n)&&"object"==typeof n[Fp]}function ur(n){return Array.isArray(n)&&!0===n[Fp]}function Dd(n){return!!(4&n.flags)}function dl(n){return n.componentOffset>-1}function hc(n){return!(1&~n.flags)}function co(n){return!!n.template}function uo(n){return!!(512&n[Vt])}class eb{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function tb(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function Hi(){return zh}function zh(n){return n.type.prototype.ngOnChanges&&(n.setInput=KC),qC}function qC(){const n=nb(this),t=n?.current;if(t){const e=n.previous;if(e===zs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function KC(n,t,e,i,r){const s=this.declaredInputs[i],o=nb(n)||function YC(n,t){return n[jh]=t}(n,{previous:zs,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new eb(c&&c.currentValue,e,l===zs),tb(n,t,r,e)}Hi.ngInherit=!0;const jh="__ngSimpleChanges__";function nb(n){return n[jh]||null}const $s=function(n,t,e){},Hh="svg";function Nn(n){for(;Array.isArray(n);)n=n[gi];return n}function kd(n,t){return Nn(t[n])}function jr(n,t){return Nn(t[n.index])}function fc(n,t){return n.data[t]}function ul(n,t){return n[t]}function ds(n,t){const e=t[n];return Zi(e)?e:e[gi]}function Up(n){return!(128&~n[Vt])}function Gs(n,t){return null==t?null:n[t]}function Gh(n){n[Ia]=0}function rb(n){1024&n[Vt]||(n[Vt]|=1024,Up(n)&&hl(n))}function Pd(n){return!!(9216&n[Vt]||n[Hs]?.dirty)}function zp(n){n[Po].changeDetectionScheduler?.notify(8),64&n[Vt]&&(n[Vt]|=1024),Pd(n)&&hl(n)}function hl(n){n[Po].changeDetectionScheduler?.notify(0);let t=ia(n);for(;null!==t&&!(8192&t[Vt])&&(t[Vt]|=8192,Up(t));)t=ia(t)}function Wh(n,t){if(!(256&~n[Vt]))throw new Se(911,!1);null===n[Ca]&&(n[Ca]=[]),n[Ca].push(t)}function ia(n){const t=n[Xi];return ur(t)?t[Xi]:t}const tn={lFrame:$e(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ob=!1;function ab(){return tn.bindingsEnabled}function fl(){return null!==tn.skipHydrationRootTNode}function Je(){return tn.lFrame.lView}function vn(){return tn.lFrame.tView}function li(n){return tn.lFrame.contextLView=n,n[_i]}function ci(n){return tn.lFrame.contextLView=null,n}function ti(){let n=Kh();for(;null!==n&&64===n.type;)n=n.parent;return n}function Kh(){return tn.lFrame.currentTNode}function Ws(n,t){const e=tn.lFrame;e.currentTNode=n,e.isParent=t}function Yh(){return tn.lFrame.isParent}function Nd(){tn.lFrame.isParent=!1}function Fd(){return ob}function Wp(n){ob=n}function ho(){return tn.lFrame.bindingIndex++}function sa(n){const t=tn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function o1(n,t){const e=tn.lFrame;e.bindingIndex=e.bindingRootIndex=n,Kp(t)}function Kp(n){tn.lFrame.currentDirectiveIndex=n}function p(n){const t=tn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function d(){return tn.lFrame.currentQueryIndex}function h(n){tn.lFrame.currentQueryIndex=n}function g(n){const t=n[mt];return 2===t.type?t.declTNode:1===t.type?n[Mr]:null}function N(n,t,e){if(e&_n.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&_n.Host||(r=g(s),null===r||(s=s[lc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=tn.lFrame=Ae();return i.currentTNode=t,i.lView=n,!0}function Z(n){const t=Ae(),e=n[mt];tn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ae(){const n=tn.lFrame,t=null===n?null:n.child;return null===t?$e(n):t}function $e(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function ot(){const n=tn.lFrame;return tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ct=ot;function Nt(){const n=ot();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kn(){return tn.lFrame.selectedIndex}function us(n){tn.lFrame.selectedIndex=n}function ni(){const n=tn.lFrame;return fc(n.tView,n.selectedIndex)}function mc(){tn.lFrame.currentNamespace=Hh}let Xp=!0;function pc(){return Xp}function qs(n){Xp=n}function Xh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function gc(n,t,e){uP(n,t,3,e)}function Zh(n,t,e,i){(3&n[Vt])===e&&uP(n,t,e,i)}function l1(n,t){let e=n[Vt];(3&e)===t&&(e&=16383,e+=1,n[Vt]=e)}function uP(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Ia]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Ia]+=65536),(a<s||-1==s)&&(LW(n,e,t,l),n[Ia]=(4294901760&n[Ia])+l+2),l++}function hP(n,t){$s(4,n,t);const e=M(null);try{t.call(n)}finally{M(e),$s(5,n,t)}}function LW(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Vt]>>14<n[Ia]>>16&&(3&n[Vt])===t&&(n[Vt]+=16384,hP(a,s)):hP(a,s)}const Jh=-1;class Zp{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const d1={};class Ld{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=pd(i);const r=this.injector.get(t,d1,i);return r!==d1||e===d1?r:this.parentInjector.get(t,e,i)}}function u1(n){return n!==Jh}function Jp(n){return 32767&n}function eg(n,t){let e=function jW(n){return n>>16}(n),i=t;for(;e>0;)i=i[lc],e--;return i}let h1=!0;function mb(n){const t=h1;return h1=n,t}const mP=255,pP=5;let $W=0;const Ta={};function pb(n,t){const e=gP(n,t);if(-1!==e)return e;const i=t[mt];i.firstCreatePass&&(n.injectorIndex=t.length,f1(i.data,n),f1(t,null),f1(i.blueprint,null));const r=gb(n,t),s=n.injectorIndex;if(u1(r)){const o=Jp(r),a=eg(r,t),l=a[mt].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function f1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function gP(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function gb(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=IP(r),null===i)return Jh;if(e++,r=r[lc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Jh}function m1(n,t,e){!function GW(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(fd)&&(i=e[fd]),null==i&&(i=e[fd]=$W++);const r=i&mP;t.data[n+(r>>pP)]|=1<<r}(n,t,e)}function _P(n,t,e){if(e&_n.Optional||void 0!==n)return n;gp()}function vP(n,t,e,i){if(e&_n.Optional&&void 0===i&&(i=null),!(e&(_n.Self|_n.Host))){const r=n[tr],s=ji(void 0);try{return r?r.get(t,i,e&_n.Optional):tl(t,i,e&_n.Optional)}finally{ji(s)}}return _P(i,0,e)}function yP(n,t,e,i=_n.Default,r){if(null!==n){if(2048&t[Vt]&&!(i&_n.Self)){const o=function QW(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Vt]&&!(512&o[Vt]);){const a=bP(s,o,e,i|_n.Self,Ta);if(a!==Ta)return a;let l=s.parent;if(!l){const c=o[qy];if(c){const u=c.get(e,Ta,i);if(u!==Ta)return u}l=IP(o),o=o[lc]}s=l}return r}(n,t,e,i,Ta);if(o!==Ta)return o}const s=bP(n,t,e,i,Ta);if(s!==Ta)return s}return vP(t,e,i,r)}function bP(n,t,e,i,r){const s=function KW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(fd)?n[fd]:void 0;return"number"==typeof t?t>=0?t&mP:YW:t}(e);if("function"==typeof s){if(!N(t,n,i))return i&_n.Host?_P(r,0,i):vP(t,e,i,r);try{let o;if(o=s(i),null!=o||i&_n.Optional)return o;gp()}finally{Ct()}}else if("number"==typeof s){let o=null,a=gP(n,t),l=Jh,c=i&_n.Host?t[Si][Mr]:null;for((-1===a||i&_n.SkipSelf)&&(l=-1===a?gb(n,t):t[a+8],l!==Jh&&EP(i,!1)?(o=t[mt],a=Jp(l),t=eg(l,t)):a=-1);-1!==a;){const u=t[mt];if(wP(s,a,u.data)){const m=qW(a,t,e,o,i,c);if(m!==Ta)return m}l=t[a+8],l!==Jh&&EP(i,t[mt].data[a+8]===c)&&wP(s,a,t)?(o=u,a=Jp(l),t=eg(l,t)):a=-1}}return r}function qW(n,t,e,i,r,s){const o=t[mt],a=o.data[n+8],u=_b(a,o,e,null==i?dl(a)&&h1:i!=o&&!!(3&a.type),r&_n.Host&&s===a);return null!==u?Vd(t,o,u,a):Ta}function _b(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,v=r?a+u:n.directiveEnd;for(let w=i?a:a+u;w<v;w++){const A=o[w];if(w<l&&e===A||w>=l&&A.type===e)return w}if(r){const w=o[l];if(w&&co(w)&&w.type===e)return l}return null}function Vd(n,t,e,i){let r=n[e];const s=t.data;if(function VW(n){return n instanceof Zp}(r)){const o=r;o.resolving&&function pp(n,t){throw t&&t.join(" > "),new Se(-200,n)}(function Bn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():un(n)}(s[e]));const a=mb(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ji(o.injectImpl):null;N(n,i,_n.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function fb(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=zh(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ji(c),mb(a),o.resolving=!1,Ct()}}return r}function wP(n,t,e){return!!(e[t+(n>>pP)]&1<<n)}function EP(n,t){return!(n&_n.Self||n&_n.Host&&t)}class kr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return yP(this._tNode,this._lView,t,pd(i),e)}}function YW(){return new kr(ti(),Je())}function In(n){return ss(()=>{const t=n.prototype.constructor,e=t[ao]||p1(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ao]||p1(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function p1(n){return dh(n)?()=>{const t=p1(Jt(n));return t&&t()}:Jo(n)}function IP(n){const t=n[mt],e=t.type;return 2===e?t.declTNode:1===e?n[Mr]:null}function oa(n){return function WW(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Ny(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(ti(),n)}function xP(n,t=null,e=null,i){const r=DP(n,t,e,i);return r.resolveInjectorInitializers(),r}function DP(n,t=null,e=null,i,r=new Set){const s=[e||Un,eP(n)];return i=i||("object"==typeof n?void 0:pi(n)),new ta(s,t||sc(),i||null,r)}class vi{static{this.THROW_IF_NOT_FOUND=md}static{this.NULL=new Th}static create(t,e){if(Array.isArray(t))return xP({name:""},e,t,"");{const i=t.name??"";return xP({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=at({token:vi,providedIn:"any",factory:()=>Te(Oy)})}static{this.__NG_ELEMENT_ID__=-1}}new xe("").__NG_ELEMENT_ID__=n=>{const t=ti();if(null===t)throw new Se(204,!1);if(2&t.type)return t.value;if(n&_n.Optional)return null;throw new Se(204,!1)};function _1(n){return n.ngOriginalError}const MP=!0;let Bd=(()=>{class n{static{this.__NG_ELEMENT_ID__=oq}static{this.__NG_ENV_ID__=e=>e}}return n})();class sq extends Bd{constructor(t){super(),this._lView=t}onDestroy(t){return Wh(this._lView,t),()=>function jp(n,t){if(null===n[Ca])return;const e=n[Ca].indexOf(t);-1!==e&&n[Ca].splice(e,1)}(this._lView,t)}}function oq(){return new sq(Je())}let Ud=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=at({token:n,providedIn:"root",factory:()=>new n})}}return n})();const nn=class aq extends R{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,$y()&&(this.destroyRef=Ue(Bd,{optional:!0})??void 0,this.pendingTasks=Ue(Ud,{optional:!0})??void 0)}emit(t){const e=M(null);try{super.next(t)}finally{M(e)}}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof xt&&t.add(a),a}wrapInTimeout(t){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{t(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function yb(...n){}function kP(n){let t,e;function i(){n=yb;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function PP(n){return queueMicrotask(()=>n()),()=>{n=yb}}const v1="isAngularZone",bb=v1+"_ID";let lq=0;class Et{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1);const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=MP}=t;if(typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,function uq(n){const t=()=>{!function dq(n){function t(){kP(()=>{n.callbackScheduled=!1,b1(n),n.isCheckStableRunning=!0,y1(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),b1(n))}(n)},e=lq++;n._inner=n._inner.fork({name:"angular",properties:{[v1]:!0,[bb]:e,[bb+e]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(function hq(n){return FP(n,"__ignore_ng_zone__")}(l))return i.invokeTask(s,o,a,l);try{return OP(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),NP(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return OP(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function fq(n){return FP(n,"__scheduler_tick__")}(l)&&t(),NP(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,b1(n),y1(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(v1)}static assertInAngularZone(){if(!Et.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Et.isInAngularZone())throw new Se(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,cq,yb,yb);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const cq={};function y1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b1(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function OP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NP(n){n._nesting--,y1(n)}class w1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}function FP(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class Ss{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&_1(t);for(;e&&_1(e);)e=_1(e);return e||null}}const pq=new xe("",{providedIn:"root",factory:()=>{const n=Ue(Et),t=Ue(Ss);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function gq(){return nf(ti(),Je())}function nf(n,t){return new Ht(jr(n,t))}let Ht=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=gq}}return n})();function VP(n){return n instanceof Ht?n.nativeElement:n}function _q(){return this._results[Symbol.iterator]()}class zd{get changes(){return this._changes??=new nn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=zd.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=_q)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function Ur(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Eh(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ng(n){return!(128&~n.flags)}const I1=new Map;let yq=0;function C1(n){I1.delete(n[cc])}const wb="__ngContext__";function hs(n,t){Zi(t)?(n[wb]=t[cc],function wq(n){I1.set(n[cc],n)}(t)):n[wb]=t}function KP(n){return QP(n[Sd])}function YP(n){return QP(n[lo])}function QP(n){for(;null!==n&&!ur(n);)n=n[lo];return n}let S1;const sf=new xe("",{providedIn:"root",factory:()=>Vq}),Vq="ng",rO=new xe(""),No=new xe("",{providedIn:"platform",factory:()=>"unknown"}),fs=new xe(""),A1=new xe("",{providedIn:"root",factory:()=>function _c(){if(void 0!==S1)return S1;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sO=()=>null;function O1(n,t,e=!1){return sO(n,t,e)}const fO=new xe("",{providedIn:"root",factory:()=>!1});let Db,Rb;function cf(n){return function B1(){if(void 0===Db&&(Db=null,St.trustedTypes))try{Db=St.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Db}()?.createHTML(n)||n}function vO(n){return function U1(){if(void 0===Rb&&(Rb=null,St.trustedTypes))try{Rb=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rb}()?.createScriptURL(n)||n}class Hd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mi})`}}class Zq extends Hd{getTypeName(){return"HTML"}}class Jq extends Hd{getTypeName(){return"Style"}}class eK extends Hd{getTypeName(){return"Script"}}class tK extends Hd{getTypeName(){return"URL"}}class nK extends Hd{getTypeName(){return"ResourceURL"}}function fo(n){return n instanceof Hd?n.changingThisBreaksApplicationSecurity:n}function Sa(n,t){const e=function iK(n){return n instanceof Hd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${mi})`)}return e===t}class cK{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(cf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}}class dK{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=cf(t),e}}const hK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mb(n){return(n=String(n)).match(hK)?n:"unsafe:"+n}function ml(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function cg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const bO=ml("area,br,col,hr,img,wbr"),wO=ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EO=ml("rp,rt"),z1=cg(bO,cg(wO,ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cg(EO,ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cg(EO,wO)),j1=ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IO=cg(j1,ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fK=ml("script,style,template");class mK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=_K(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=gK(e);if(s){e=s;break}e=r.pop()}return this.buf.join("")}startElement(t){const e=CO(t).toLowerCase();if(!z1.hasOwnProperty(e))return this.sanitizedSomething=!0,!fK.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!IO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;j1[a]&&(l=Mb(l)),this.buf.push(" ",o,'="',SO(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=CO(t).toLowerCase();z1.hasOwnProperty(e)&&!bO.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(SO(t))}}function gK(n){const t=n.nextSibling;if(t&&n!==t.previousSibling)throw TO(t);return t}function _K(n){const t=n.firstChild;if(t&&function pK(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,t))throw TO(t);return t}function CO(n){const t=n.nodeName;return"string"==typeof t?t:"FORM"}function TO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const vK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yK=/([^\#-~ |!])/g;function SO(n){return n.replace(/&/g,"&amp;").replace(vK,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(yK,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kb;function AO(n,t){let e=null;try{kb=kb||function yO(n){const t=new dK(n);return function uK(){try{return!!(new window.DOMParser).parseFromString(cf(""),"text/html")}catch{return!1}}()?new cK(t):t}(n);let i=t?String(t):"";e=kb.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=kb.getInertBodyElement(i)}while(i!==s);return cf((new mK).sanitizeChildren(H1(e)||e))}finally{if(e){const i=H1(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function H1(n){return"content"in n&&function bK(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Jr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jr||{});function xO(n){const t=dg();return t?t.sanitize(Jr.URL,n)||"":Sa(n,"URL")?fo(n):Mb(un(n))}function DO(n){const t=dg();if(t)return vO(t.sanitize(Jr.RESOURCE_URL,n)||"");if(Sa(n,"ResourceURL"))return vO(fo(n));throw new Se(904,!1)}function dg(){const n=Je();return n&&n[Po].sanitizer}function W1(n){return n.ownerDocument.defaultView}function mo(n){return n instanceof Function?n():n}function po(n){return"browser"===(n??Ue(vi)).get(No)}var vc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vc||{});let q1;function K1(n,t){return q1(n,t)}function uf(n,t,e,i,r){if(null!=i){let s,o=!1;ur(i)?s=i:Zi(i)&&(o=!0,i=i[gi]);const a=Nn(i);0===n&&null!==e?null==r?HO(t,e,a):$d(t,e,a,r||null,!0):1===n&&null!==e?$d(t,e,a,r||null,!0):2===n?function hg(n,t,e){n.removeChild(null,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function KK(n,t,e,i,r){const s=e[Oo];s!==Nn(e)&&uf(t,n,i,s,r);for(let a=Oi;a<e.length;a++){const l=e[a];Vb(l[mt],l,n,t,i,s)}}(t,n,s,e,r)}}function Nb(n,t,e){return n.createElement(t,e)}function UO(n,t){t[Po].changeDetectionScheduler?.notify(9),Vb(n,t,t[en],2,null,null)}function zO(n,t){const e=n[uc],i=t[Xi];(Zi(i)||t[Si]!==i[Xi][Si])&&(n[Vt]|=Nh.HasTransplantedViews),null===e?n[uc]=[t]:e.push(t)}function X1(n,t){const e=n[uc],i=e.indexOf(t);e.splice(i,1)}function ug(n,t){if(n.length<=Oi)return;const e=Oi+t,i=n[e];if(i){const r=i[ll];null!==r&&r!==n&&X1(r,i),t>0&&(n[e-1][lo]=i[lo]);const s=_d(n,Oi+t);!function UK(n,t){UO(n,t),t[gi]=null,t[Mr]=null}(i[mt],i);const o=s[na];null!==o&&o.detachView(s[mt]),i[Xi]=null,i[lo]=null,i[Vt]&=-129}return i}function Fb(n,t){if(!(256&t[Vt])){const e=t[en];e.destroyNode&&Vb(n,t,e,3,null,null),function jK(n){let t=n[Sd];if(!t)return Z1(n[mt],n);for(;t;){let e=null;if(Zi(t))e=t[Sd];else{const i=t[Oi];i&&(e=i)}if(!e){for(;t&&!t[lo]&&t!==n;)Zi(t)&&Z1(t[mt],t),t=t[Xi];null===t&&(t=n),Zi(t)&&Z1(t[mt],t),e=t&&t[lo]}t=e}}(t)}}function Z1(n,t){if(256&t[Vt])return;const e=M(null);try{t[Vt]&=-129,t[Vt]|=256,t[Hs]&&P(t[Hs]),function GK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Zp)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];$s(4,a,l);try{l.call(a)}finally{$s(5,a,l)}}else{$s(4,r,s);try{s.call(r)}finally{$s(5,r,s)}}}}}(n,t),function $K(n,t){const e=n.cleanup,i=t[al];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[al]=null);const r=t[Ca];if(null!==r){t[Ca]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[mt].type&&t[en].destroy();const i=t[ll];if(null!==i&&ur(t[Xi])){i!==t[Xi]&&X1(i,t);const r=t[na];null!==r&&r.detachView(n)}C1(t)}finally{M(e)}}function J1(n,t,e){return function jO(n,t,e){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return e[gi];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===js.None||s===js.Emulated)return null}return jr(i,e)}}(n,t.parent,e)}function $d(n,t,e,i,r){n.insertBefore(t,e,i,r)}function HO(n,t,e){n.appendChild(t,e)}function $O(n,t,e,i,r){null!==i?$d(n,t,e,i,r):HO(n,t,e)}function eT(n,t){return n.parentNode(t)}function GO(n,t,e){return qO(n,t,e)}let tT,qO=function WO(n,t,e){return 40&n.type?jr(n,e):null};function Lb(n,t,e,i){const r=J1(n,i,t),s=t[en],a=GO(i.parent||t[Mr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)$O(s,r,e[l],a,!1);else $O(s,r,e,a,!1);void 0!==tT&&tT(s,i,t,e,r)}function Gd(n,t){if(null!==t){const e=t.type;if(3&e)return jr(t,n);if(4&e)return nT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Gd(n,i);{const r=n[t.index];return ur(r)?nT(-1,r):Nn(r)}}if(128&e)return Gd(n,t.next);if(32&e)return K1(t,n)()||Nn(n[t.index]);{const i=YO(n,t);return null!==i?Array.isArray(i)?i[0]:Gd(ia(n[Si]),i):Gd(n,t.next)}}return null}function YO(n,t){return null!==t?n[Si][Mr].projection[t.projection]:null}function nT(n,t){const e=Oi+n+1;if(e<t.length){const i=t[e],r=i[mt].firstChild;if(null!==r)return Gd(i,r)}return t[Oo]}function iT(n,t,e,i,r,s,o){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=i[e.index],l=e.type;if(o&&0===t&&(a&&hs(Nn(a),i),e.flags|=2),32&~e.flags)if(8&l)iT(n,t,e.child,i,r,s,!1),uf(t,n,r,a,s);else if(32&l){const c=K1(e,i);let u;for(;u=c();)uf(t,n,r,u,s);uf(t,n,r,a,s)}else 16&l?XO(n,t,i,e,r,s):uf(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Vb(n,t,e,i,r,s){iT(e,i,n.firstChild,t,r,s,!1)}function XO(n,t,e,i,r,s){const o=e[Si],l=o[Mr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)uf(t,n,r,l[c],s);else{let c=l;const u=o[Xi];ng(i)&&(c.flags|=128),iT(n,t,c,u,r,s,!0)}}function ZO(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function JO(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&bd(n,t,i),null!==r&&ZO(n,t,r),null!==s&&function QK(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}const mn={};function it(n=1){eN(vn(),Je(),Kn()+n,!1)}function eN(n,t,e,i){if(!i)if(3&~t[Vt]){const s=n.preOrderHooks;null!==s&&Zh(t,s,0,e)}else{const s=n.preOrderCheckHooks;null!==s&&gc(t,s,e)}us(e)}function oe(n,t=_n.Default){const e=Je();return null===e?Te(n,t):yP(ti(),e,Jt(n),t)}function Bb(){throw new Error("invalid")}function tN(n,t,e,i,r,s){const o=M(null);try{let a=null;r&ko.SignalBased&&(a=t[i][K]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),r&ko.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(t,s)),null!==n.setInput?n.setInput(t,a,s,e,i):tb(t,a,i,s)}finally{M(o)}}function Ub(n,t,e,i,r,s,o,a,l,c,u){const m=t.blueprint.slice();return m[gi]=r,m[Vt]=204|i,(null!==c||n&&2048&n[Vt])&&(m[Vt]|=2048),Gh(m),m[Xi]=m[lc]=n,m[_i]=e,m[Po]=o||n&&n[Po],m[en]=a||n&&n[en],m[tr]=l||n&&n[tr]||null,m[Mr]=s,m[cc]=function bq(){return yq++}(),m[cs]=u,m[qy]=c,m[Si]=2==t.type?n[Si]:m,m}function Wd(n,t,e,i,r){let s=n.data[t];if(null===s)s=function rT(n,t,e,i,r){const s=Kh(),o=Yh(),l=n.data[t]=function rY(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return fl()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function s1(){return tn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Od(){const n=tn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ws(s,!0),s}function fg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function nN(n,t,e,i,r){const s=Kn(),o=2&i;try{us(-1),o&&t.length>Pt&&eN(n,t,Pt,!1),$s(o?2:0,r),e(i,r)}finally{us(s),$s(o?3:1,r)}}function sT(n,t,e){if(Dd(t)){const i=M(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{M(i)}}}function oT(n,t,e){ab()&&(function uY(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;dl(e)&&function vY(n,t,e){const i=jr(t,n),r=iN(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=zb(n,Ub(n,r,null,o,i,t,null,n[Po].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||pb(e,t),hs(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Vd(t,n,a,e);hs(c,t),null!==o&&yY(0,a-r,c,l,0,o),co(l)&&(ds(e.index,t)[_i]=Vd(t,n,a,e))}}(n,t,e,jr(e,t)),!(64&~e.flags)&&lN(n,t,e))}function aT(n,t,e=jr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function iN(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=lT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function lT(n,t,e,i,r,s,o,a,l,c,u){const m=Pt+i,v=m+r,w=function ZK(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:mn);return e}(m,v),A="function"==typeof c?c():c;return w[mt]={type:n,blueprint:w,template:e,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:u}}let rN=()=>null;function sN(n,t,e,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;i??={};let a,l=ko.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==r){if(!r.hasOwnProperty(s))continue;c=r[s]}0===n?oN(i,e,c,a,l):oN(i,e,c,a)}return i}function oN(n,t,e,i,r){let s;n.hasOwnProperty(e)?(s=n[e]).push(t,i):s=n[e]=[t,i],void 0!==r&&s.push(r)}function Ys(n,t,e,i,r,s,o,a){const l=jr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(fT(n,e,u,i,r),dl(t)&&function aY(n,t){const e=ds(t,n);16&e[Vt]||(e[Vt]|=64)}(e,t.index)):3&t.type&&(i=function oY(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function cT(n,t,e,i){if(ab()){const r=null===i?null:{"":-1},s=function fY(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(xh(t,o.selectors,!1))if(i||(i=[]),co(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),dT(n,t,a.length)}else i.unshift(o),dT(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&aN(n,t,e,o,r,a),r&&function mY(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Se(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=wd(e.mergedAttrs,e.attrs)}function aN(n,t,e,i,r,s){for(let c=0;c<i.length;c++)m1(pb(e,t),n,i[c].type);!function gY(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=fg(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=wd(e.mergedAttrs,u.hostAttrs),_Y(n,e,t,l,u),pY(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const m=u.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function sY(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const m=s[u],v=e?e.get(m):null,A=v?v.outputs:null;l=sN(0,m.inputs,u,l,v?v.inputs:null),c=sN(1,m.outputs,u,c,A);const $=null===l||null===o||Cp(t)?null:bY(l,u,o);a.push($)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function lN(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function a1(){return tn.lFrame.currentDirectiveIndex}();try{us(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Kp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&hY(l,c)}}finally{us(-1),Kp(o)}}function hY(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function dT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function pY(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;co(t)&&(e[""]=n)}}function _Y(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Jo(r.type)),o=new Zp(s,co(r),oe);n.blueprint[i]=o,e[i]=o,function cY(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function dY(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,fg(n,e,r.hostVars,mn),r)}function Aa(n,t,e,i,r,s){const o=jr(n,t);!function uT(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?un(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[en],o,s,n.value,e,i,r)}function yY(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)tN(i,e,o[a++],o[a++],o[a++],o[a++])}function bY(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function cN(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function dN(n,t){const e=n.contentQueries;if(null!==e){const i=M(null);try{for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const a=n.data[o];h(e[r]),a.contentQueries(2,t[o],o)}}}finally{M(i)}}}function zb(n,t){return n[Sd]?n[Ad][lo]=t:n[Sd]=t,n[Ad]=t,t}function hT(n,t,e){h(0);const i=M(null);try{t(n,e)}finally{M(i)}}function uN(n){return n[al]??=[]}function hN(n){return n.cleanup??=[]}function fN(n,t,e){return(null===n||co(n))&&(e=function Md(n){for(;Array.isArray(n);){if("object"==typeof n[Fp])return n;n=n[gi]}return null}(e[t.index])),e[en]}function jb(n,t){const e=n[tr],i=e?e.get(Ss,null):null;i&&i.handleError(t)}function fT(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=e[s++];tN(n.data[o],t[o],i,a,l,r)}}function wY(n,t){const e=ds(t,n),i=e[mt];!function EY(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[gi];null!==r&&null===e[cs]&&(e[cs]=O1(r,e[tr])),mT(i,e,e[_i])}function mT(n,t,e){Z(t);try{const i=n.viewQuery;null!==i&&hT(1,i,e);const r=n.template;null!==r&&nN(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[na]?.finishViewCreation(n),n.staticContentQueries&&dN(n,t),n.staticViewQueries&&hT(2,n.viewQuery,e);const s=n.components;null!==s&&function IY(n,t){for(let e=0;e<t.length;e++)wY(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Vt]&=-5,Nt()}}function hf(n,t,e,i){const r=M(null);try{const s=t.tView,l=Ub(n,s,e,4096&n[Vt]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[ll]=n[t.index];const u=n[na];return null!==u&&(l[na]=u.createEmbeddedView(s)),mT(s,l,e),l}finally{M(r)}}function mN(n,t){const e=Oi+t;if(e<n.length)return n[e]}function qd(n,t){return!t||null===t.firstChild||ng(n)}function ff(n,t,e,i=!0){const r=t[mt];if(function HK(n,t,e,i){const r=Oi+i,s=e.length;i>0&&(e[r-1][lo]=t),i<s-Oi?(t[lo]=e[r],Ih(e,Oi+i,t)):(e.push(t),t[lo]=null),t[Xi]=e;const o=t[ll];null!==o&&e!==o&&zO(o,t);const a=t[na];null!==a&&a.insertView(n),zp(t),t[Vt]|=128}(r,t,n,e),i){const o=nT(e,n),a=t[en],l=eT(a,n[Oo]);null!==l&&function zK(n,t,e,i,r,s){i[gi]=r,i[Mr]=t,Vb(n,i,e,1,r,s)}(r,n[Mr],a,t,l,o)}const s=t[cs];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function pT(n,t){const e=ug(n,t);return void 0!==e&&Fb(e[mt],e),e}function mg(n,t,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const s=t[e.index];null!==s&&i.push(Nn(s)),ur(s)&&pN(s,i);const o=e.type;if(8&o)mg(n,t,e.child,i);else if(32&o){const a=K1(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=YO(t,e);if(Array.isArray(a))i.push(...a);else{const l=ia(t[Si]);mg(l[mt],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function pN(n,t){for(let e=Oi;e<n.length;e++){const i=n[e],r=i[mt].firstChild;null!==r&&mg(i[mt],i,r,t)}n[Oo]!==n[gi]&&t.push(n[Oo])}let gN=[];const AY={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{hl(n.lView)},consumerOnSignalRead(){this.lView[Hs]=this}},DY={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=ia(n.lView);for(;t&&!_N(t[mt]);)t=ia(t);t&&rb(t)},consumerOnSignalRead(){this.lView[Hs]=this}};function _N(n){return 2!==n.type}const RY=100;function Hb(n,t=!0,e=0){const i=n[Po],r=i.rendererFactory;r.begin?.();try{!function MY(n,t){const e=Fd();try{Wp(!0),gT(n,t);let i=0;for(;Pd(n);){if(i===RY)throw new Se(103,!1);i++,gT(n,1)}}finally{Wp(e)}}(n,e)}catch(o){throw t&&jb(n,o),o}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function kY(n,t,e,i){const r=t[Vt];if(!(256&~r))return;t[Po].inlineEffectRunner?.flush(),Z(t);let a=!0,l=null,c=null;_N(n)?(c=function CY(n){return n[Hs]??function TY(n){const t=gN.pop()??Object.create(AY);return t.lView=n,t}(n)}(t),l=U(c)):null===function F(){return W}()?(a=!1,c=function xY(n){const t=n[Hs]??Object.create(DY);return t.lView=n,t}(t),l=U(c)):t[Hs]&&(P(t[Hs]),t[Hs]=null);try{Gh(t),function ub(n){return tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&nN(n,t,e,2,i);const u=!(3&~r);if(u){const w=n.preOrderCheckHooks;null!==w&&gc(t,w,null)}else{const w=n.preOrderHooks;null!==w&&Zh(t,w,0,null),l1(t,0)}if(function PY(n){for(let t=KP(n);null!==t;t=YP(t)){if(!(t[Vt]&Nh.HasTransplantedViews))continue;const e=t[uc];for(let i=0;i<e.length;i++)rb(e[i])}}(t),yN(t,0),null!==n.contentQueries&&dN(n,t),u){const w=n.contentCheckHooks;null!==w&&gc(t,w)}else{const w=n.contentHooks;null!==w&&Zh(t,w,1),l1(t,1)}!function XK(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)us(~r);else{const s=r,o=e[++i],a=e[++i];o1(o,s),a(2,t[s])}}}finally{us(-1)}}(n,t);const m=n.components;null!==m&&wN(t,m,0);const v=n.viewQuery;if(null!==v&&hT(2,v,i),u){const w=n.viewCheckHooks;null!==w&&gc(t,w)}else{const w=n.viewHooks;null!==w&&Zh(t,w,2),l1(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[xd]){for(const w of t[xd])w();t[xd]=null}t[Vt]&=-73}catch(u){throw hl(t),u}finally{null!==c&&(te(c,l),a&&function SY(n){n.lView[Hs]!==n&&(n.lView=null,gN.push(n))}(c)),Nt()}}function yN(n,t){for(let e=KP(n);null!==e;e=YP(e))for(let i=Oi;i<e.length;i++)bN(e[i],t)}function OY(n,t,e){bN(ds(t,n),e)}function bN(n,t){Up(n)&&gT(n,t)}function gT(n,t){const i=n[mt],r=n[Vt],s=n[Hs];let o=!!(0===t&&16&r);if(o||=!!(64&r&&0===t),o||=!!(1024&r),o||=!(!s?.dirty||!_(s)),o||=!1,s&&(s.dirty=!1),n[Vt]&=-9217,o)kY(i,n,i.template,n[_i]);else if(8192&r){yN(n,1);const a=i.components;null!==a&&wN(n,a,1)}}function wN(n,t,e){for(let i=0;i<t.length;i++)OY(n,t[i],e)}function pg(n,t){const e=Fd()?64:1088;for(n[Po].changeDetectionScheduler?.notify(t);n;){n[Vt]|=e;const i=ia(n);if(uo(n)&&!i)return n;n=i}return null}class gg{get rootNodes(){const t=this._lView,e=t[mt];return mg(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(t){this._lView[_i]=t}get destroyed(){return!(256&~this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xi];if(ur(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(ug(t,i),_d(e,i))}this._attachedToViewContainer=!1}Fb(this._lView[mt],this._lView)}onDestroy(t){Wh(this._lView,t)}markForCheck(){pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Vt]&=-129}reattach(){zp(this._lView),this._lView[Vt]|=128}detectChanges(){this._lView[Vt]|=1024,Hb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=uo(this._lView),e=this._lView[ll];null!==e&&!t&&X1(e,this._lView),UO(this._lView[mt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=t;const e=uo(this._lView),i=this._lView[ll];null!==i&&!e&&zO(i,this._lView),zp(this._lView)}}let Er=(()=>{class n{static{this.__NG_ELEMENT_ID__=LY}}return n})();const NY=Er,FY=class extends NY{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=hf(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new gg(r)}};function LY(){return $b(ti(),Je())}function $b(n,t){return 4&n.type?new FY(t,n,nf(n,t)):null}let jN=()=>null;function Yd(n,t){return jN(n,t)}class pf{}const Cg=new xe("",{providedIn:"root",factory:()=>!1}),HN=new xe(""),AT=new xe("");class DQ{}class $N{}class MQ{resolveComponentFactory(t){throw function RQ(n){const t=Error(`No component factory found for ${pi(n)}.`);return t.ngComponent=n,t}(t)}}class gf{static{this.NULL=new MQ}}class Qb{}let gl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function kQ(){const n=Je(),e=ds(ti().index,n);return(Zi(e)?e:n)[en]}()}}return n})(),PQ=(()=>{class n{static{this.\u0275prov=at({token:n,providedIn:"root",factory:()=>null})}}return n})();function Zb(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Xo(r,a):2==s&&(i=Xo(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}class KN extends gf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=bn(t);return new Ag(e,this.ngModule)}}function YN(n,t){const e=[];for(const i in n){if(!n.hasOwnProperty(i))continue;const r=n[i];if(void 0===r)continue;const s=Array.isArray(r),o=s?r[0]:r;e.push(t?{propName:o,templateName:i,isSignal:!!((s?r[1]:ko.None)&ko.SignalBased)}:{propName:o,templateName:i})}return e}class Ag extends $N{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=YN(t.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return YN(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function xC(n){return n.map(xp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){const s=M(null);try{let o=(r=r||this.ngModule)instanceof Zr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Ld(t,o):t,l=a.get(Qb,null);if(null===l)throw new Se(407,!1);const m={rendererFactory:l,sanitizer:a.get(PQ,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(pf,null)},v=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=i?function JK(n,t,e,i){const s=i.get(fO,!1)||e===js.ShadowDom,o=n.selectRootElement(t,s);return function eY(n){rN(n)}(o),o}(v,i,this.componentDef.encapsulation,a):Nb(v,w,function FQ(n){const t=n.toLowerCase();return"svg"===t?Hh:"math"===t?"math":null}(w));let $=512;this.componentDef.signals?$|=4096:this.componentDef.onPush||($|=16);let ne=null;null!==A&&(ne=O1(A,a,!0));const pe=lT(0,null,null,1,0,null,null,null,null,null,null),ge=Ub(null,pe,null,$,null,null,m,v,a,null,ne);Z(ge);let Oe,Ge,rt=null;try{const ut=this.componentDef;let be,ue=null;ut.findHostDirectiveDefs?(be=[],ue=new Map,ut.findHostDirectiveDefs(ut,be,ue),be.push(ut)):be=[ut];const Ie=function VQ(n,t){const e=n[mt],i=Pt;return n[i]=t,Wd(e,i,2,"#host",null)}(ge,A);rt=function BQ(n,t,e,i,r,s,o){const a=r[mt];!function UQ(n,t,e,i){for(const r of n)t.mergedAttrs=wd(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Zb(t,t.mergedAttrs,!0),null!==e&&JO(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=O1(t,r[tr]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const m=Ub(r,iN(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&dT(a,n,i.length-1),zb(r,m),r[n.index]=m}(Ie,A,ut,be,ge,m,v),Ge=fc(pe,Pt),A&&function jQ(n,t,e,i){if(i)bd(n,e,["ng-version","18.2.13"]);else{const{attrs:r,classes:s}=function Dp(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Cs(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&bd(n,e,r),s&&s.length>0&&ZO(n,e,s.join(" "))}}(v,ut,A,i),void 0!==e&&function HQ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(Ge,this.ngContentSelectors,e),Oe=function zQ(n,t,e,i,r,s){const o=ti(),a=r[mt],l=jr(o,r);aN(a,r,o,e,null,i);for(let u=0;u<e.length;u++)hs(Vd(r,a,o.directiveStart+u,o),r);lN(a,r,o),l&&hs(l,r);const c=Vd(r,a,o.directiveStart+o.componentOffset,o);if(n[_i]=r[_i]=c,null!==s)for(const u of s)u(c,t);return sT(a,o,r),c}(rt,ut,be,ue,ge,[$Q]),mT(pe,ge,null)}catch(ut){throw null!==rt&&C1(rt),C1(ge),ut}finally{Nt()}return new LQ(this.componentType,Oe,nf(Ge,ge),ge,Ge)}finally{M(s)}}}class LQ extends DQ{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new gg(r,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;fT(s[mt],s,r,t,e),this.previousInputValues.set(t,e),pg(ds(this._tNode.index,s),1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $Q(){const n=ti();Xh(Je()[mt],n)}let Pr=(()=>{class n{static{this.__NG_ELEMENT_ID__=GQ}}return n})();function GQ(){return ZN(ti(),Je())}const WQ=Pr,QN=class extends WQ{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return nf(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){const t=gb(this._hostTNode,this._hostLView);if(u1(t)){const e=eg(t,this._hostLView),i=Jp(t);return new kr(e[mt].data[i+8],e)}return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=XN(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Oi}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=Yd(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,qd(this._hostTNode,o)),a}createComponent(t,e,i,r,s){const o=t&&!function ac(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const A=e||{};a=A.index,i=A.injector,r=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?t:new Ag(bn(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const $=(o?c:this.parentInjector).get(Zr,null);$&&(s=$)}const u=bn(l.componentType??{}),m=Yd(this._lContainer,u?.id??null),w=l.create(c,r,m?.firstChild??null,s);return this.insertImpl(w.hostView,a,qd(this._hostTNode,m)),w}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function XC(n){return ur(n[Xi])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=r[Xi],c=new QN(l,l[Mr],l[Xi]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;return ff(o,r,s,i),t.attachToViewContainerRef(),Ih(RT(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=XN(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=ug(this._lContainer,e);i&&(_d(RT(this._lContainer),e),Fb(i[mt],i))}detach(t){const e=this._adjustIndex(t,-1),i=ug(this._lContainer,e);return i&&null!=_d(RT(this._lContainer),e)?new gg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function XN(n){return n[8]}function RT(n){return n[8]||(n[8]=[])}function ZN(n,t){let e;const i=t[n.index];return ur(i)?e=i:(e=cN(i,t,null,n),t[n.index]=e,zb(t,e)),JN(e,t,n,i),new QN(e,n,t)}let JN=function tF(n,t,e,i){if(n[Oo])return;let r;r=8&e.type?Nn(i):function qQ(n,t){const e=n[en],i=e.createComment(""),r=jr(t,n);return $d(e,eT(e,r),i,function WK(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Oo]=r},MT=()=>!1;class kT{constructor(t){this.queryList=t,this.matches=null}clone(){return new kT(this.queryList)}setDirty(){this.queryList.setDirty()}}class PT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new PT(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==VT(t,e).matches&&this.queries[e].setDirty()}}class nF{constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function tX(n){return n.split(",").map(t=>t.trim())}(t):t}}class OT{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new OT(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class NT{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new NT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,XQ(e,s)),this.matchTNodeWithReadOption(t,e,_b(e,t,s,!1,!1))}else i===Er?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_b(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ht||r===Pr||r===Er&&4&e.type)this.addMatch(e.index,-2);else{const s=_b(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function XQ(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function JQ(n,t,e,i){return-1===e?function ZQ(n,t){return 11&n.type?nf(n,t):4&n.type?$b(n,t):null}(t,n):-2===e?function eX(n,t,e){return e===Ht?nf(t,n):e===Er?$b(t,n):e===Pr?ZN(t,n):void 0}(n,t,i):Vd(n,n[mt],e,t)}function iF(n,t,e,i){const r=t[na].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:JQ(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function FT(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=iF(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let m=Oi;m<u.length;m++){const v=u[m];v[ll]===v[Xi]&&FT(v[mt],v,c,i)}if(null!==u[uc]){const m=u[uc];for(let v=0;v<m.length;v++){const w=m[v];FT(w[mt],w,c,i)}}}}}return i}function LT(n,t){return n[na].queries[t].queryList}function rF(n,t,e){const i=new zd(!(4&~e));return function iY(n,t,e,i){const r=uN(t);r.push(e),n.firstCreatePass&&hN(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[na]??=new PT).queries.push(new kT(i))-1}function oF(n,t,e,i){const r=vn();if(r.firstCreatePass){const s=ti();aF(r,new nF(t,e,i),s.index),function nX(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),!(2&~e)&&(r.staticContentQueries=!0)}return rF(r,Je(),e)}function aF(n,t,e){null===n.queries&&(n.queries=new OT),n.queries.track(new NT(t,e))}function VT(n,t){return n.queries.getByIndex(t)}function lF(n,t){const e=n[mt],i=VT(e,t);return i.crossesNgTemplate?FT(e,n,t,[]):iF(e,n,i,t)}const cF=new Set;function As(n){cF.has(n)||(cF.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Jb(n){return"function"==typeof n&&void 0!==n[K]}function xa(n,t){As("NgSignals");const e=function tt(n){const t=Object.create(re);t.value=n;const e=()=>(D(t),t.value);return e[K]=t,e}(n),i=e[K];return t?.equal&&(i.equal=t.equal),e.set=r=>le(i,r),e.update=r=>function ye(n,t){S()||de(),le(n,t(n.value))}(i,r),e.asReadonly=dF.bind(e),e}function dF(){const n=this[K];if(void 0===n.readonlyFn){const t=()=>this();t[K]=n,n.readonlyFn=t}return n.readonlyFn}function uF(n){return Jb(n)&&"function"==typeof n.set}function BT(n,t){let e;const i=z(()=>{e._dirtyCounter();const r=function iX(n,t){const e=n._lView,i=n._queryIndex;if(void 0===e||void 0===i||4&e[Vt])return t?void 0:Un;const r=LT(e,i),s=lF(e,i);return r.reset(s,VP),t?r.first:r._changesDetected||void 0===n._flatValue?n._flatValue=r.toArray():n._flatValue}(e,n);if(t&&void 0===r)throw new Se(-951,!1);return r});return e=i[K],e._dirtyCounter=xa(0),e._flatValue=void 0,i}function gF(n,t){return function hF(){return BT(!0,!1)}()}const sX=(gF.required=function rX(n,t){return function fF(){return BT(!0,!0)}()},gF);function Rt(n){let t=function IF(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(co(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Se(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=t0(n.inputs),o.inputTransforms=t0(n.inputTransforms),o.declaredInputs=t0(n.declaredInputs),o.outputs=t0(n.outputs);const a=r.hostBindings;a&&vX(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&gX(n,l),c&&_X(n,c),mX(n,r),Mn(n.outputs,r.outputs),co(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Rt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function pX(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=wd(r.hostAttrs,e=wd(e,r.hostAttrs))}}(i)}function mX(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function t0(n){return n===zs?{}:n===Un?[]:n}function gX(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function _X(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function vX(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Ji(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}class Qd{}class xF{}class zT extends Qd{constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KN(this);const s=zr(t);this._bootstrapComponents=mo(s.bootstrap),this._r3Injector=DP(t,e,[{provide:Qd,useValue:this},{provide:gf,useValue:this.componentFactoryResolver},...i],pi(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jT extends xF{constructor(t){super(),this.moduleType=t}create(t){return new zT(this.moduleType,t,[])}}class DF extends Qd{constructor(t){super(),this.componentFactoryResolver=new KN(this),this.instance=null;const e=new ta([...t.providers,{provide:Qd,useValue:this},{provide:gf,useValue:this.componentFactoryResolver}],t.parent||sc(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function n0(n,t,e=null){return new DF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function r0(n){return!!function HT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Rg(n,t,e,i,r,s,o,a,l,c){const u=e+Pt,m=t.firstCreatePass?function RX(n,t,e,i,r,s,o,a,l){const c=t.consts,u=Wd(t,n,4,o||null,a||null);cT(t,e,u,Gs(c,l)),Xh(t,u);const m=u.tView=lT(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),m.queries=t.queries.embeddedTView(u)),u}(u,t,n,i,r,s,o,a,l):t.data[u];Ws(m,!1);const v=RF(t,n,m,e);pc()&&Lb(t,n,v,m),hs(v,n);const w=cN(v,n,v,m);return n[u]=w,zb(n,w),function eF(n,t,e){return MT(n,t,e)}(w,m,n),hc(m)&&oT(t,n,m),null!=l&&aT(n,m,c),m}function Ot(n,t,e,i,r,s,o,a){const l=Je(),c=vn();return Rg(l,c,n,t,e,i,r,Gs(c.consts,s),o,a),Ot}let RF=function MF(n,t,e,i){return qs(!0),t[en].createComment("")};var bf=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(bf||{});let LF=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=at({token:n,providedIn:"root",factory:()=>new n})}}return n})();class Pg{constructor(){this.ngZone=Ue(Et),this.scheduler=Ue(pf),this.errorHandler=Ue(Ss,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[bf.EarlyRead,bf.Write,bf.MixedReadWrite,bf.Read]}execute(){this.executing=!0;for(const t of Pg.PHASES)for(const e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[t])try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=at({token:Pg,providedIn:"root",factory:()=>new Pg})}}class OX{constructor(t,e,i,r){this.impl=t,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function GT(n,t){!t?.injector&&Pi();const e=t?.injector??Ue(vi);return po(e)?(As("NgAfterRender"),VF(n,e,t,!1)):BF}function Zd(n,t){!t?.injector&&Pi();const e=t?.injector??Ue(vi);return po(e)?(As("NgAfterNextRender"),VF(n,e,t,!0)):BF}function VF(n,t,e,i){const r=t.get(LF);r.impl??=t.get(Pg);const s=e?.phase??bf.MixedReadWrite,o=!0!==e?.manualCleanup?t.get(Bd):null,a=new OX(r.impl,function NX(n,t){if(n instanceof Function){const e=[void 0,void 0,void 0,void 0];return e[t]=n,e}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,s),i,o);return r.impl.register(a),a}const BF={destroy(){}};function kn(n,t,e,i){const r=Je();return hr(r,ho(),t)&&(vn(),Aa(ni(),r,n,t,e,i)),kn}function Af(n,t,e,i){return hr(n,ho(),e)?t+un(e)+i:mn}function u0(n,t){return n<<17|t<<2}function Ec(n){return n>>17&32767}function tS(n){return 2|n}function eu(n){return(131068&n)>>2}function nS(n,t){return-131069&n|t<<2}function iS(n){return 1|n}function uL(n,t,e,i){const r=n[e+1],s=null===t;let o=i?Ec(r):eu(r),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];_Z(n[o],t)&&(a=!0,n[o+1]=i?iS(c):tS(c)),o=i?Ec(c):eu(c)}a&&(n[e+1]=i?tS(r):iS(r))}function _Z(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ba(n,t)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hL(n){return n.substring(Or.key,Or.keyEnd)}function fL(n,t){const e=Or.textEnd;return e===t?-1:(t=Or.keyEnd=function wZ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Or.key=t,e),Nf(n,t,e))}function Nf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Tt(n,t,e){const i=Je();return hr(i,ho(),t)&&Ys(vn(),ni(),i,n,t,i[en],e,!1),Tt}function rS(n,t,e,i,r){const o=r?"class":"style";fT(n,e,t.inputs[o],o,i)}function Ic(n,t,e){return aa(n,t,e,!1),Ic}function Cn(n,t){return aa(n,t,null,!0),Cn}function Ma(n){la(RZ,ka,n,!0)}function ka(n,t){for(let e=function yZ(n){return function pL(n){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=n.length}(n),fL(n,Nf(n,0,Or.textEnd))}(t);e>=0;e=fL(t,e))Dr(n,hL(t),!0)}function aa(n,t,e,i){const r=Je(),s=vn(),o=sa(2);s.firstUpdatePass&&yL(s,n,o,i),t!==mn&&hr(r,o,t)&&wL(s,s.data[Kn()],r,r[en],n,r[o+1]=function kZ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=pi(fo(n)))),n}(t,e),i,o)}function la(n,t,e,i){const r=vn(),s=sa(2);r.firstUpdatePass&&yL(r,null,s,i);const o=Je();if(e!==mn&&hr(o,s,e)){const a=r.data[Kn()];if(IL(a,i)&&!vL(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Xo(l,e||"")),rS(r,a,o,e,i)}else!function MZ(n,t,e,i,r,s,o,a){r===mn&&(r=Un);let l=0,c=0,u=0<r.length?r[0]:null,m=0<s.length?s[0]:null;for(;null!==u||null!==m;){const v=l<r.length?r[l+1]:void 0,w=c<s.length?s[c+1]:void 0;let $,A=null;u===m?(l+=2,c+=2,v!==w&&(A=m,$=w)):null===m||null!==u&&u<m?(l+=2,A=u):(c+=2,A=m,$=w),null!==A&&wL(n,t,e,i,A,$,o,a),u=l<r.length?r[l]:null,m=c<s.length?s[c]:null}}(r,a,o,o[en],o[s+1],o[s+1]=function DZ(n,t,e){if(null==e||""===e)return Un;const i=[],r=fo(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function vL(n,t){return t>=n.expandoStartIndex}function yL(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Kn()],o=vL(n,e);IL(s,i)&&null===t&&!o&&(t=!1),t=function TZ(n,t,e,i){const r=p(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ng(e=sS(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=sS(r,n,t,e,i),null===s){let l=function SZ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==eu(i))return n[Ec(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=sS(null,n,t,l[1],i),l=Ng(l,t.attrs,i),function AZ(n,t,e,i){n[Ec(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function xZ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Ng(i,n[s].hostAttrs,e);return Ng(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function pZ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Ec(o),l=eu(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||ba(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const v=Ec(n[a+1]);n[i+1]=u0(v,a),0!==v&&(n[v+1]=nS(n[v+1],i)),n[a+1]=function fZ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=u0(a,0),0!==a&&(n[a+1]=nS(n[a+1],i)),a=i;else n[i+1]=u0(l,0),0===a?a=i:n[l+1]=nS(n[l+1],i),l=i;c&&(n[i+1]=tS(n[i+1])),uL(n,u,i,!0),uL(n,u,i,!1),function gZ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ba(s,t)>=0&&(e[i+1]=iS(e[i+1]))}(t,u,n,i,s),o=u0(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function sS(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Ng(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Ng(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dr(n,o,!!e||t[++s]))}return void 0===n?null:n}function RZ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Dr(n,i,e)}function wL(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function mZ(n){return!(1&~n)}(c)?EL(l,t,e,r,eu(c),o):void 0;h0(u)||(h0(s)||function hZ(n){return!(2&~n)}(c)&&(s=EL(l,null,e,r,a,o)),function YK(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:vc.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=vc.Important),n.setStyle(e,i,r,s))}}(i,o,kd(Kn(),e),r,s))}function EL(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,m=null===u;let v=e[r+1];v===mn&&(v=m?Un:void 0);let w=m?vd(v,i):u===i?v:void 0;if(c&&!h0(w)&&(w=vd(l,i)),h0(w)&&(a=w,o))return a;const A=n[r+1];r=o?Ec(A):eu(A)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=vd(l,i))}return a}function h0(n){return void 0!==n}function IL(n,t){return!!(n.flags&(t?8:16))}class jZ{destroy(t){}updateValue(t,e){}swap(t,e){const i=Math.min(t,e),r=Math.max(t,e),s=this.detach(r);if(r-i>1){const o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(t,e){this.attach(e,this.detach(t))}}function oS(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function aS(n,t,e,i){return!(void 0===t||!t.has(i)||(n.attach(e,t.get(i)),t.delete(i),0))}function TL(n,t,e,i,r){if(aS(n,t,i,e(i,r)))n.updateValue(i,r);else{const s=n.create(i,r);n.attach(i,s)}}function SL(n,t,e,i){const r=new Set;for(let s=t;s<=e;s++)r.add(i(s,n.at(s)));return r}class AL{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const e=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}}function $n(n,t){As("NgControlFlow");const e=Je(),i=ho(),r=e[i]!==mn?e[i]:-1,s=-1!==r?f0(e,Pt+r):void 0;if(hr(e,i,n)){const a=M(null);try{if(void 0!==s&&pT(s,0),-1!==n){const l=Pt+n,c=f0(e,l),u=lS(e[mt],l),m=Yd(c,u.tView.ssrId);ff(c,hf(e,u,t,{dehydratedView:m}),0,qd(u,m))}}finally{M(a)}}else if(void 0!==s){const a=mN(s,0);void 0!==a&&(a[_i]=t)}}class $Z{constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Oi}}function xL(n){return n}class WZ{constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}}class qZ extends jZ{constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Oi}at(t){return this.getLView(t)[_i].$implicit}attach(t,e){const i=e[cs];this.needsIndexUpdate||=t!==this.length,ff(this.lContainer,e,t,qd(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function KZ(n,t){return ug(n,t)}(this.lContainer,t)}create(t,e){const i=Yd(this.lContainer,this.templateTNode.tView.ssrId),r=hf(this.hostLView,this.templateTNode,new $Z(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Fb(t[mt],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[_i].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[_i].$index=t}getLView(t){return function YZ(n,t){return mN(n,t)}(this.lContainer,t)}}function f0(n,t){return n[t]}function lS(n,t){return fc(n,t)}function Fe(n,t,e,i){const r=Je(),s=vn(),o=Pt+n,a=r[en],l=s.firstCreatePass?function QZ(n,t,e,i,r,s){const o=t.consts,l=Wd(t,n,2,i,Gs(o,r));return cT(t,e,l,Gs(o,s)),null!==l.attrs&&Zb(l,l.attrs,!1),null!==l.mergedAttrs&&Zb(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=ML(s,r,l,a,t,n);r[o]=c;const u=hc(l);return Ws(l,!0),JO(a,c,l),!function vf(n){return!(32&~n.flags)}(l)&&pc()&&Lb(s,r,c,l),0===function $p(){return tn.lFrame.elementDepthCount}()&&hs(c,r),function ZC(){tn.lFrame.elementDepthCount++}(),u&&(oT(s,r,l),sT(s,l,r)),null!==i&&aT(r,l),Fe}function He(){let n=ti();Yh()?Nd():(n=n.parent,Ws(n,!1));const t=n;(function e1(n){return tn.skipHydrationRootTNode===n})(t)&&function r1(){tn.skipHydrationRootTNode=null}(),function JC(){tn.lFrame.elementDepthCount--}();const e=vn();return e.firstCreatePass&&(Xh(e,n),Dd(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function UW(n){return!!(8&n.flags)}(t)&&rS(e,t,Je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function zW(n){return!!(16&n.flags)}(t)&&rS(e,t,Je(),t.stylesWithoutHost,!1),He}function Zt(n,t,e,i){return Fe(n,t,e,i),He(),Zt}let ML=(n,t,e,i,r,s)=>(qs(!0),Nb(i,r,function Qh(){return tn.lFrame.currentNamespace}()));function Nr(){return Je()}function tu(n,t,e){const i=Je();return hr(i,ho(),t)&&Ys(vn(),ni(),i,n,t,i[en],e,!0),tu}function cS(n,t,e){const i=Je();if(hr(i,ho(),t)){const s=vn(),o=ni();Ys(s,o,i,n,t,fN(p(s.data),o,i),e,!0)}return cS}const m0="en-US";let NL=m0,JL=(n,t,e)=>{};function Xt(n,t,e,i){const r=Je(),s=vn(),o=ti();return fS(s,r,r[en],o,n,t,i),Xt}function hS(n,t){const e=ti(),i=Je(),r=vn();return fS(r,i,fN(p(r.data),e,i),e,n,t),hS}function fS(n,t,e,i,r,s,o){const a=hc(i),c=n.firstCreatePass&&hN(n),u=t[_i],m=uN(t);let v=!0;if(3&i.type||o){const $=jr(i,t),ne=o?o($):$,pe=m.length,ge=o?Ge=>o(Nn(Ge[i.index])):i.index;let Oe=null;if(!o&&a&&(Oe=function WJ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[al],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=s,Oe.__ngLastListenerFn__=s,v=!1;else{s=n4(i,t,u,s),JL($,r,s);const Ge=e.listen(ne,r,s);m.push(s,Ge),c&&c.push(r,ge,pe,pe+1)}}else s=n4(i,t,u,s);const w=i.outputs;let A;if(v&&null!==w&&(A=w[r])){const $=A.length;if($)for(let ne=0;ne<$;ne+=2){const rt=t[A[ne]][A[ne+1]].subscribe(s),ut=m.length;m.push(s,rt),c&&c.push(r,i.index,ut,-(ut+1))}}}function t4(n,t,e,i){const r=M(null);try{return $s(6,t,e),!1!==e(i)}catch(s){return jb(n,s),!1}finally{$s(7,t,e),M(r)}}function n4(n,t,e,i){return function r(s){if(s===Function)return i;pg(n.componentOffset>-1?ds(n.index,t):t,5);let a=t4(t,e,i,s),l=r.__ngNextListenerFn__;for(;l;)a=t4(t,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function $t(n=1){return function Tn(n){return(tn.lFrame.contextLView=function sb(n,t){for(;n>0;)t=t[lc],n--;return t}(n,tn.lFrame.contextLView))[_i]}(n)}function qJ(n,t){let e=null;const i=function SC(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?xh(n,s,!0):Ap(i,s))return r}else e=r}return e}function $i(n){const t=Je()[Si][Mr];if(!t.projection){const i=t.projection=function ic(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){if(128!==s.type){const o=n?qJ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function Gt(n,t=0,e,i,r,s){const o=Je(),a=vn(),l=i?n+1:null;null!==l&&Rg(o,a,l,i,r,s,null,e);const c=Wd(a,Pt+n,16,null,e||null);null===c.projection&&(c.projection=t),Nd();const m=!o[cs]||fl();null===o[Si][Mr].projection[c.projection]&&null!==l?function KJ(n,t,e){const i=Pt+e,r=t.data[i],s=n[i],o=Yd(s,r.tView.ssrId);ff(s,hf(n,r,void 0,{dehydratedView:o}),0,qd(r,o))}(o,a,l):m&&32&~c.flags&&function qK(n,t,e){XO(t[en],0,t,e,J1(n,e,t),GO(e.parent||t[Mr],e,t))}(a,o,c)}function di(n,t,e,i){oF(n,t,e,i)}function wi(n,t,e){!function sF(n,t,e){const i=vn();return i.firstCreatePass&&(aF(i,new nF(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),rF(i,Je(),t)}(n,t,e)}function Wt(n){const t=Je(),e=vn(),i=d();h(i+1);const r=VT(e,i);if(n.dirty&&function Bp(n){return!(4&~n[Vt])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const s=lF(t,i);n.reset(s,VP),n.notifyOnChanges()}return!0}return!1}function qt(){return LT(Je(),d())}function f4(n,t,e,i,r){!function pF(n,t){const e=n[K];e._lView=Je(),e._queryIndex=t,e._queryList=LT(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}(t,oF(n,e,i,r))}function ca(n){return ul(function cb(){return tn.lFrame.contextLView}(),Pt+n)}function _t(n,t=""){const e=Je(),i=vn(),r=n+Pt,s=i.firstCreatePass?Wd(i,r,1,t,null):i.data[r],o=C4(i,e,s,t,n);e[r]=o,pc()&&Lb(i,e,o,s),Ws(s,!1)}let C4=(n,t,e,i,r)=>(qs(!0),function Y1(n,t){return n.createText(t)}(t[en],i));function _o(n){return Lo("",n,""),_o}function Lo(n,t,e){const i=Je(),r=Af(i,n,t,e);return r!==mn&&function pl(n,t,e){const i=kd(t,n);!function BO(n,t,e){n.setValue(t,e)}(n[en],i,e)}(i,Kn(),r),Lo}function Ds(n,t,e){uF(t)&&(t=t());const i=Je();return hr(i,ho(),t)&&Ys(vn(),ni(),i,n,t,i[en],e,!1),Ds}function Xs(n,t){const e=uF(n);return e&&n.set(t),e}function Rs(n,t){const e=Je(),i=vn(),r=ti();return fS(i,e,e[en],r,n,t),Rs}function gS(n,t,e,i,r){if(n=Jt(n),Array.isArray(n))for(let s=0;s<n.length;s++)gS(n[s],t,e,i,r);else{const s=vn(),o=Je(),a=ti();let l=sl(n)?n:Jt(n.provide);const c=VC(n),u=1048575&a.providerIndexes,m=a.directiveStart,v=a.providerIndexes>>20;if(sl(n)||!n.multi){const w=new Zp(c,r,oe),A=vS(l,t,r?u:u+v,m);-1===A?(m1(pb(a,o),s,l),_S(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(w),o.push(w)):(e[A]=w,o[A]=w)}else{const w=vS(l,t,u+v,m),A=vS(l,t,u,u+v),ne=A>=0&&e[A];if(r&&!ne||!r&&!(w>=0&&e[w])){m1(pb(a,o),s,l);const pe=function hee(n,t,e,i,r){const s=new Zp(n,e,oe);return s.multi=[],s.index=t,s.componentProviders=0,N4(s,r,i&&!e),s}(r?uee:dee,e.length,r,i,c);!r&&ne&&(e[A].providerFactory=pe),_S(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(pe),o.push(pe)}else _S(s,n,w>-1?w:A,N4(e[r?A:w],c,!r&&i));!r&&i&&ne&&e[A].componentProviders++}}}function _S(n,t,e,i){const r=sl(t),s=function OC(n){return!!n.useClass}(t);if(r||s){const l=(s?Jt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function N4(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function vS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function dee(n,t,e,i){return yS(this.multi,[])}function uee(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Vd(e,e[mt],this.providerFactory.index,i);s=a.slice(0,o),yS(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],yS(r,s);return s}function yS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function cee(n,t,e){const i=vn();if(i.firstCreatePass){const r=co(n);gS(e,i.data,i.blueprint,r,!0),gS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}let fee=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=Uy(0,e.type),r=i.length>0?n0([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=at({token:n,providedIn:"environment",factory:()=>new n(Te(Zr))})}}return n})();function xn(n){As("NgStandalone"),n.getStandaloneInjector=t=>t.get(fee).getOrCreateStandaloneInjector(n)}function V4(n,t,e,i,r,s){const o=t+e;return hr(n,o,r)?function Da(n,t,e){return n[t]=e}(n,o+1,s?i.call(s,r):i(r)):function Hg(n,t){const e=n[t];return e===mn?void 0:e}(n,o+1)}function bS(n,t){const e=vn();let i;const r=n+Pt;e.firstCreatePass?(i=function Aee(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Jo(i.type)),a=ji(oe);try{const l=mb(!1),c=s();return mb(l),function pS(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Je(),r,c),c}finally{ji(a)}}function wS(n,t,e){const i=n+Pt,r=Je(),s=ul(r,i);return function $g(n,t){return n[mt].data[t].pure}(r,i)?V4(r,function Hr(){const n=tn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,s.transform,e,s):s.transform(e)}function Gg(n,t){return $b(n,t)}class Cc{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}const Jee=new Cc("18.2.13");let s3=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const d3=new xe(""),E0=new xe("");let DS,AS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,DS||(function Tte(n){DS=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(Te(Et),Te(xS),Te(E0))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})(),xS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return DS?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Kg(n){return!!n&&"function"==typeof n.then}function u3(n){return!!n&&"function"==typeof n.subscribe}const RS=new xe("");let h3=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ue(RS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Kg(s))e.push(s);else if(u3(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const I0=new xe("");function m3(n,t){return Array.isArray(t)?t.reduce(m3,n):{...n,...t}}let da=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ue(pq),this.afterRenderManager=Ue(LF),this.zonelessEnabled=Ue(Cg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new R,this.afterTick=new R,this.componentTypes=[],this.components=[],this.isStable=Ue(Ud).hasPendingTasks.pipe(st(e=>!e)),this._injector=Ue(Zr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof $N;if(!this._injector.get(h3).done)throw!r&&function wa(n){const t=bn(n)||dr(n)||Rr(n);return null!==t&&t.standalone}(e),new Se(405,!1);let o;o=r?e:this._injector.get(gf).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Ste(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Qd),c=o.create(vi.NULL,[],i||o.selector,a),u=c.location.nativeElement,m=c.injector.get(d3,null);return m?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),C0(this.components,c),m?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Se(101,!1);const e=M(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,M(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Qb,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)Dte(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>Pd(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;C0(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(I0,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>C0(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Se(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function C0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Dte(n,t,e,i){(e||Pd(n))&&Hb(n,t,e&&!i?0:1)}class Rte{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let g3=(()=>{class n{compileModuleSync(e){return new jT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=mo(zr(e).declarations).reduce((o,a)=>{const l=bn(a);return l&&o.push(new Ag(l)),o},[]);return new Rte(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pte=(()=>{class n{constructor(){this.zone=Ue(Et),this.changeDetectionScheduler=Ue(pf),this.applicationRef=Ue(da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MS({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Et({...kS(),scheduleInRootZone:e}),[{provide:Et,useFactory:n},{provide:ls,multi:!0,useFactory:()=>{const i=Ue(Pte,{optional:!0});return()=>i.initialize()}},{provide:ls,multi:!0,useFactory:()=>{const i=Ue(Nte);return()=>{i.initialize()}}},!0===t?{provide:HN,useValue:!0}:[],{provide:AT,useValue:e??MP}]}function kS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let Nte=(()=>{class n{constructor(){this.subscription=new xt,this.initialized=!1,this.zone=Ue(Et),this.pendingTasks=Ue(Ud)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yg=(()=>{class n{constructor(){this.appRef=Ue(da),this.taskService=Ue(Ud),this.ngZone=Ue(Et),this.zonelessEnabled=Ue(Cg),this.disableScheduling=Ue(HN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bb):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ue(AT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof w1||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?PP:kP;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bb+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _l=new xe("",{providedIn:"root",factory:()=>Ue(_l,_n.Optional|_n.SkipSelf)||function Fte(){return typeof $localize<"u"&&$localize.locale||m0}()}),S0=new xe("");function A0(n){return!n.moduleRef}let E3=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=i?.scheduleInRootZone,o=i?.ignoreChangesOutsideZone,a=[MS({ngZoneFactory:()=>function mq(n="zone.js",t){return"noop"===n?new w1:"zone.js"===n?new Et(t):n}(i?.ngZone,{...kS({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}),scheduleInRootZone:r}),ignoreChangesOutsideZone:o}),{provide:pf,useExisting:Yg}],l=function TX(n,t,e){return new zT(n,t,e,!1)}(e.moduleType,this.injector,a);return function w3(n){const t=A0(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Et);return e.run(()=>{A0(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const i=t.get(Ss,null);let r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:s=>{i.handleError(s)}})}),A0(n)){const s=()=>t.destroy(),o=n.platformInjector.get(S0);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{const s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(S0);o.add(s),n.moduleRef.onDestroy(()=>{C0(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return function xte(n,t,e){try{const i=e();return Kg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(i,e,()=>{const s=t.get(h3);return s.runInitializers(),s.donePromise.then(()=>{if(function lJ(n){"string"==typeof n&&(NL=n.toLowerCase().replace(/_/g,"-"))}(t.get(_l,m0)||m0),A0(n)){const a=t.get(da);return void 0!==n.rootComponent&&a.bootstrap(n.rootComponent),a}return function jte(n,t){const e=n.injector.get(da);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Se(-403,!1);n.instance.ngDoBootstrap(e)}t.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){const r=m3({},i);return function kte(n,t,e){const i=new jT(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(S0,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(Te(vi))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Tc=null;const I3=new xe("");function C3(n,t,e=[]){const i=`Platform: ${t}`,r=new xe(i);return(s=[])=>{let o=OS();if(!o||o.injector.get(I3,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Hte(n){if(Tc&&!Tc.get(I3,!1))throw new Se(400,!1);(function f3(){!function Re(n){J=n}(()=>{throw new Se(600,!1)})})(),Tc=n;const t=n.get(E3);(function S3(n){n.get(rO,null)?.forEach(e=>e())})(n)}(function T3(n=[],t){return vi.create({name:t,providers:[{provide:Hy,useValue:"platform"},{provide:S0,useValue:new Set([()=>Tc=null])},...n]})}(a,i))}return function $te(){const t=OS();if(!t)throw new Se(401,!1);return t}()}}function OS(){return Tc?.get(E3)??null}let Ir=(()=>{class n{static{this.__NG_ELEMENT_ID__=Wte}}return n})();function Wte(n){return function qte(n,t,e){if(dl(n)&&!e){const i=ds(n.index,t);return new gg(i,i)}return 175&n.type?new gg(t[Si],t):null}(ti(),Je(),!(16&~n))}class M3{constructor(){}supports(t){return r0(t)}create(t){return new Zte(t)}}const Xte=(n,t)=>t;class Zte{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xte}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<P3(i,r,s)?e:i,a=P3(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let v=0;v<c;v++){const w=v<s.length?s[v]:s[v]=0,A=w+v;u<=A&&A<c&&(s[v]=w+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!r0(t))throw new Se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function xX(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Jte(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new k3),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k3),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Jte{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ene{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class k3{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new ene,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P3(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function N3(){return new Sc([new M3])}let Sc=(()=>{class n{static{this.\u0275prov=at({token:n,providedIn:"root",factory:N3})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||N3()),deps:[[n,new il,new cr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Se(901,!1)}}return n})();const sne=C3(null,"core",[]);let one=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(Te(da))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();function rn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function vo(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}function vl(n,t){As("NgSignals");const e=z(n);return t?.equal&&(e[K].equal=t.equal),e}function ua(n){const t=M(null);try{return n()}finally{M(t)}}const Vne=new xe("",{providedIn:"root",factory:()=>Ue(Bne)});let Bne=(()=>{class n{static{this.\u0275prov=at({token:n,providedIn:"root",factory:()=>new Une})}}return n})();class Une{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ue(Ud),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){const e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,e]of this.queues)null===t?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(const e of t)t.delete(e),this.queuedEffectCount--,e.run()}}class zne{constructor(t,e,i,r,s,o){this.scheduler=t,this.effectFn=e,this.creationZone=i,this.injector=s,this.watcher=function Ze(n,t,e){const i=Object.create(qe);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=l=>{i.cleanupFn=l};return i.ref={notify:()=>B(i),run:()=>{if(null===i.fn)return;if(function x(){return E}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!_(i))return;i.hasRun=!0;const l=U(i);try{i.cleanupFn(),i.cleanupFn=wt,i.fn(r)}finally{te(i,l)}},cleanup:()=>i.cleanupFn(),destroy:()=>function o(l){(function s(l){return null===l.fn&&null===l.schedule})(l)||(P(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=wt)}(i),[K]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Ss,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let o5=null;function Ac(){return o5}class $ne{}const Sn=new xe("");let zS=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(Wne),providedIn:"platform"})}}return n})();const Gne=new xe("");let Wne=(()=>{class n extends zS{constructor(){super(),this._doc=Ue(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ac().getBaseHref(this._doc)}onPopState(e){const i=Ac().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ac().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function jS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function a5(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function yl(n){return n&&"?"!==n[0]?"?"+n:n}let ru=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(c5),providedIn:"root"})}}return n})();const l5=new xe("");let c5=(()=>{class n extends ru{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ue(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return jS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+yl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+yl(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+yl(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(zS),Te(l5,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qne=(()=>{class n extends ru{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=jS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+yl(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+yl(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(zS),Te(l5,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})(),Bf=(()=>{class n{constructor(e){this._subject=new nn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Qne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(a5(d5(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yl(i))}normalize(e){return n.stripTrailingSlash(function Yne(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,d5(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=yl}static{this.joinWithSlash=jS}static{this.stripTrailingSlash=a5}static{this.\u0275fac=function(i){return new(i||n)(Te(ru))}}static{this.\u0275prov=at({token:n,factory:()=>function Kne(){return new Bf(Te(ru))}(),providedIn:"root"})}}return n})();function d5(n){return n.replace(/\/index.html$/,"")}const ZS=/\s+/,y5=[];let b5=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=y5,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ZS):y5}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ZS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ZS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(gl))}}static{this.\u0275dir=et({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Fie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Y0=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Fie(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),E5(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{E5(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(oe(Pr),oe(Er),oe(Sc))}}static{this.\u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function E5(n,t){n.context.$implicit=t.item}let su=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Lie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){I5("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){I5("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(oe(Pr),oe(Er))}}static{this.\u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Lie{constructor(){this.$implicit=null,this.ngIf=null}}function I5(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pi(t)}'.`)}let tA=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Pr))}}static{this.\u0275dir=et({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Hi]})}}return n})();class jie{createSubscription(t,e){return ua(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){ua(()=>t.unsubscribe())}}class Hie{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const $ie=new Hie,Gie=new jie;let T5=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Kg(e))return $ie;if(u3(e))return Gie;throw function fa(n,t){return new Se(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(oe(Ir,16))}}static{this.\u0275pipe=Xr({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),El=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();const A5="browser";function x5(n){return n===A5}function Q0(n){return"server"===n}let dre=(()=>{class n{static{this.\u0275prov=at({token:n,providedIn:"root",factory:()=>x5(Ue(No))?new ure(Ue(Sn),window):new fre})}}return n})();class ure{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function hre(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class fre{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class jre extends $ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class aA extends jre{static makeCurrent(){!function Hne(n){o5??=n}(new aA)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hre(){return n_=n_||document.querySelector("base"),n_?n_.getAttribute("href"):null}();return null==e?null:function $re(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){n_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Oie(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let n_=null,Wre=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const lA=new xe("");let B5=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new Se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(Te(lA),Te(Et))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();class U5{constructor(t){this._doc=t}}const cA="ng-app-id";let z5=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Q0(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${cA}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(cA),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(cA,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn),Te(sf),Te(A1,8),Te(No))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const dA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uA=/%COMP%/g,Qre=new xe("",{providedIn:"root",factory:()=>!0});function H5(n,t){return t.map(e=>e.replace(uA,n))}let hA=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Q0(a),this.defaultRenderer=new fA(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===js.ShadowDom&&(i={...i,encapsulation:js.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof G5?r.applyToHost(e):r instanceof mA&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case js.Emulated:s=new G5(l,c,i,this.appId,u,o,a,m);break;case js.ShadowDom:return new ese(l,c,e,i,o,a,this.nonce,m);default:s=new mA(l,c,i,u,o,a,m)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Te(B5),Te(z5),Te(sf),Te(Qre),Te(Sn),Te(No),Te(Et),Te(A1))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();class fA{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(dA[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){($5(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&($5(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new Se(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=dA[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=dA[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(vc.DashCase|vc.Important)?t.style.setProperty(e,i,r&vc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&vc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Ac().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function $5(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ese extends fA{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=H5(r.id,r.styles);for(const u of c){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=u,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mA extends fA{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?H5(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class G5 extends mA{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Xre(n){return"_ngcontent-%COMP%".replace(uA,n)}(c),this.hostAttr=function Zre(n){return"_nghost-%COMP%".replace(uA,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let tse=(()=>{class n extends U5{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const W5=["alt","control","meta","shift"],nse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ise={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rse=(()=>{class n extends U5{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ac().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),W5.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=nse[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),W5.forEach(o=>{o!==r&&(0,ise[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const lse=C3(sne,"browser",[{provide:No,useValue:A5},{provide:rO,useValue:function sse(){aA.makeCurrent()},multi:!0},{provide:Sn,useFactory:function ase(){return function Lq(n){S1=n}(document),document},deps:[]}]),cse=new xe(""),Y5=[{provide:E0,useClass:class Gre{addToWindow(t){St.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Se(5103,!1);return s},St.getAllAngularTestabilities=()=>t.getAllTestabilities(),St.getAllAngularRootElements=()=>t.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(i=>{const r=St.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&i()};r.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ac().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:d3,useClass:AS,deps:[Et,xS,E0]},{provide:AS,useClass:AS,deps:[Et,xS,E0]}],Q5=[{provide:Hy,useValue:"root"},{provide:Ss,useFactory:function ose(){return new Ss},deps:[]},{provide:lA,useClass:tse,multi:!0,deps:[Sn,Et,No]},{provide:lA,useClass:rse,multi:!0,deps:[Sn]},hA,z5,B5,{provide:Qb,useExisting:hA},{provide:class mre{},useClass:Wre,deps:[]},[]];let X5=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:sf,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(Te(cse,12))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[...Q5,...Y5],imports:[El,one]})}}return n})(),dse=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:function(i){let r=null;return r=i?new(i||n):Te(mse),r},providedIn:"root"})}}return n})(),mse=(()=>{class n extends pA{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Jr.NONE:return i;case Jr.HTML:return Sa(i,"HTML")?fo(i):AO(this._doc,String(i)).toString();case Jr.STYLE:return Sa(i,"Style")?fo(i):i;case Jr.SCRIPT:if(Sa(i,"Script"))return fo(i);throw new Se(5200,!1);case Jr.URL:return Sa(i,"URL")?fo(i):Mb(String(i));case Jr.RESOURCE_URL:if(Sa(i,"ResourceURL"))return fo(i);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(e){return function rK(n){return new Zq(n)}(e)}bypassSecurityTrustStyle(e){return function sK(n){return new Jq(n)}(e)}bypassSecurityTrustScript(e){return function oK(n){return new eK(n)}(e)}bypassSecurityTrustUrl(e){return function aK(n){return new tK(n)}(e)}bypassSecurityTrustResourceUrl(e){return function lK(n){return new nK(n)}(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dn=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(dn||{});const Il="*";function Cl(n,t){return{type:dn.Trigger,name:n,definitions:t,options:{}}}function Uo(n,t=null){return{type:dn.Animate,styles:t,timings:n}}function pr(n){return{type:dn.Style,styles:n,offset:null}}function zo(n,t,e){return{type:dn.State,name:n,styles:t,options:e}}function bo(n,t,e=null){return{type:dn.Transition,expr:n,animation:t,options:e}}function gse(n=null){return{type:dn.AnimateChild,options:n}}function _se(n,t,e=null){return{type:dn.Query,selector:n,animation:t,options:e}}class i_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function tV(n){return new Se(3e3,!1)}function xc(n){switch(n.length){case 0:return new i_;case 1:return n[0];default:return new eV(n)}}function nV(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,m=u&&a||new Map;l.forEach((v,w)=>{let A=w,$=v;if("offset"!==w)switch(A=n.normalizePropertyName(A,r),$){case"!":$=e.get(w);break;case Il:$=i.get(w);break;default:$=n.normalizeStyleValue(w,A,$,r)}m.set(A,$)}),u||s.push(m),a=m,o=c}),r.length)throw function $se(){return new Se(3502,!1)}();return s}function _A(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&vA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&vA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&vA(e,"destroy",n)))}}function vA(n,t,e){const s=yA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function yA(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function wo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function iV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const noe=typeof document>"u"?null:document.documentElement;function bA(n){const t=n.parentNode||n.host||null;return t===noe?null:t}let au=null,rV=!1;function sV(n,t){for(;t;){if(t===n)return!0;t=bA(t)}return!1}function oV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let wA=(()=>{class n{validateStyleProperty(e){return function roe(n){au||(au=function soe(){return typeof document<"u"?document.body:null}()||{},rV=!!au.style&&"WebkitAppearance"in au.style);let t=!0;return au.style&&!function ioe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in au.style,!t&&rV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in au.style)),t}(e)}containsElement(e,i){return sV(e,i)}getParentElement(e){return bA(e)}query(e,i,r){return oV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new i_(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();class EA{static{this.NOOP=new wA}}class IA{}const aoe=1e3,CA="ng-enter",tw="ng-leave",nw="ng-trigger",iw=".ng-trigger",lV="ng-animating",TA=".ng-animating";function Tl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:SA(parseFloat(t[1]),t[2])}function SA(n,t){return"s"===t?n*aoe:n}function rw(n,t,e){return n.hasOwnProperty("duration")?n:function coe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(tV()),{duration:0,delay:0,easing:""};r=SA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=SA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Ese(){return new Se(3100,!1)}()),a=!0),s<0&&(t.push(function Ise(){return new Se(3101,!1)}()),a=!0),a&&t.splice(l,0,tV())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Pa(n,t,e){t.forEach((i,r)=>{const s=xA(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function lu(n,t){t.forEach((e,i)=>{const r=xA(i);n.style[r]=""})}function r_(n){return Array.isArray(n)?1==n.length?n[0]:function pse(n,t=null){return{type:dn.Sequence,steps:n,options:t}}(n):n}const AA=new RegExp("{{\\s*(.+?)\\s*}}","g");function dV(n){let t=[];if("string"==typeof n){let e;for(;e=AA.exec(n);)t.push(e[1]);AA.lastIndex=0}return t}function s_(n,t,e){const i=`${n}`,r=i.replace(AA,(s,o)=>{let a=t[o];return null==a&&(e.push(function Tse(){return new Se(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const hoe=/-+([a-z0-9])/g;function xA(n){return n.replace(hoe,(...t)=>t[1].toUpperCase())}function Eo(n,t,e){switch(t.type){case dn.Trigger:return n.visitTrigger(t,e);case dn.State:return n.visitState(t,e);case dn.Transition:return n.visitTransition(t,e);case dn.Sequence:return n.visitSequence(t,e);case dn.Group:return n.visitGroup(t,e);case dn.Animate:return n.visitAnimate(t,e);case dn.Keyframes:return n.visitKeyframes(t,e);case dn.Style:return n.visitStyle(t,e);case dn.Reference:return n.visitReference(t,e);case dn.AnimateChild:return n.visitAnimateChild(t,e);case dn.AnimateRef:return n.visitAnimateRef(t,e);case dn.Query:return n.visitQuery(t,e);case dn.Stagger:return n.visitStagger(t,e);default:throw function Sse(){return new Se(3004,!1)}()}}function DA(n,t){return window.getComputedStyle(n)[t]}const poe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uV extends IA{normalizePropertyName(t,e){return xA(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(poe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Ase(){return new Se(3005,!1)}())}return o+s}}const sw="*";const ow=new Set(["true","1"]),aw=new Set(["false","0"]);function hV(n,t){const e=ow.has(n)||aw.has(n),i=ow.has(t)||aw.has(t);return(r,s)=>{let o=n==sw||n==r,a=t==sw||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?ow.has(n):aw.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?ow.has(t):aw.has(t)),o&&a}}const yoe=new RegExp("s*:selfs*,?","g");function RA(n,t,e,i){return new boe(n).build(t,e,i)}class boe{constructor(t){this._driver=t}build(t,e,i){const r=new Ioe(e);return this._resetContextStyleTimingState(r),Eo(this,r_(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function xse(){return new Se(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==dn.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==dn.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function Dse(){return new Se(3007,!1)}())}),{type:dn.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{dV(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(function Rse(){return new Se(3008,!1)}(0,s.values()))}return{type:dn.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Eo(this,r_(t.animation),e),r=function goe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _oe(n,t,e){if(":"==n[0]){const l=function voe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Use(){return new Se(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Bse(){return new Se(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(hV(r,o)),"<"==s[0]&&(r!=sw||o!=sw)&&t.push(hV(o,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:dn.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:cu(t.options)}}visitSequence(t,e){return{type:dn.Sequence,steps:t.steps.map(i=>Eo(this,i,e)),options:cu(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Eo(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:dn.Group,steps:s,options:cu(t.options)}}visitAnimate(t,e){const i=function Toe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MA(rw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MA(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=rw(e,t);return MA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:pr({});if(s.type==dn.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=pr(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:dn.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Il?i.push(a):e.errors.push(new Se(3002,!1)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:dn.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let m=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function kse(){return new Se(3010,!1)}()),m=!1),s=u.startTime),m&&c.set(l,{startTime:s,endTime:r}),e.options&&function uoe(n,t,e){const i=t.params||{},r=dV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Cse(){return new Se(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:dn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Pse(){return new Se(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(pe=>{const ge=this._makeStyleAst(pe,e);let Oe=null!=ge.offset?ge.offset:function Coe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ge.styles),Ge=0;return null!=Oe&&(s++,Ge=ge.offset=Oe),l=l||Ge<0||Ge>1,a=a||Ge<c,c=Ge,o.push(Ge),ge});l&&e.errors.push(function Ose(){return new Se(3012,!1)}()),a&&e.errors.push(function Nse(){return new Se(3200,!1)}());const m=t.steps.length;let v=0;s>0&&s<m?e.errors.push(function Fse(){return new Se(3202,!1)}()):0==s&&(v=1/(m-1));const w=m-1,A=e.currentTime,$=e.currentAnimateTimings,ne=$.duration;return u.forEach((pe,ge)=>{const Oe=v>0?ge==w?1:v*ge:o[ge],Ge=Oe*ne;e.currentTime=A+$.delay+Ge,$.duration=Ge,this._validateStyleAst(pe,e),pe.offset=Oe,i.styles.push(pe)}),i}visitReference(t,e){return{type:dn.Reference,animation:Eo(this,r_(t.animation),e),options:cu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:dn.AnimateChild,options:cu(t.options)}}visitAnimateRef(t,e){return{type:dn.AnimateRef,animation:this.visitReference(t.animation,e),options:cu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function woe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yoe,"")),n=n.replace(/@\*/g,iw).replace(/@\w+/g,e=>iw+"-"+e.slice(1)).replace(/:animating/g,TA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,wo(e.collectedStyles,e.currentQuerySelector,new Map);const a=Eo(this,r_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:dn.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:cu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Lse(){return new Se(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rw(t.timings,e.errors,!0);return{type:dn.Stagger,animation:Eo(this,r_(t.animation),e),timings:i,options:null}}}class Ioe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cu(n){return n?(n={...n}).params&&(n.params=function Eoe(n){return n?{...n}:null}(n.params)):n={},n}function MA(n,t,e){return{duration:n,delay:t,easing:e}}function kA(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class lw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xoe=new RegExp(":enter","g"),Roe=new RegExp(":leave","g");function PA(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new Moe).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class Moe{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new lw;const m=new OA(t,e,c,r,s,u,[]);m.options=l;const v=l.delay?Tl(l.delay):0;m.currentTimeline.delayNextStep(v),m.currentTimeline.setStyles([o],null,m.errors,l),Eo(this,i,m);const w=m.timelines.filter(A=>A.containsAnimation());if(w.length&&a.size){let A;for(let $=w.length-1;$>=0;$--){const ne=w[$];if(ne.element===e){A=ne;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,m.errors,l)}return w.length?w.map(A=>A.buildKeyframes()):[kA(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Tl(s_(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Tl(i.duration):null,a=null!=i.delay?Tl(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Eo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==dn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cw);const o=Tl(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Eo(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Tl(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Eo(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return rw(e.params?s_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;s.type==dn.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Tl(r.delay):0;s&&(e.previousNode.type===dn.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cw);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const m=e.createSubContext(t.options,c);s&&m.delayNextStep(s),c===e.element&&(l=m.currentTimeline),Eo(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const m=u.currentTime;Eo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}}const cw={};class OA{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new dw(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Tl(i.duration)),null!=i.delay&&(r.delay=Tl(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=s_(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new OA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=cw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new koe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(xoe,"."+this._enterClassName)).replace(Roe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Vse(){return new Se(3014,!1)}()),a}}class dw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Il),this._currentKeyframe.set(e,Il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function Poe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let s of i)e.set(s,Il)}else for(let[s,o]of r)e.set(s,o)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=s_(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Il),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,m)=>{"!"===u?t.add(m):u===Il&&e.add(m)}),i||c.set("offset",l/this.duration),r.push(c)});const s=[...t.values()],o=[...e.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return kA(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class koe extends dw{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);const c=new Map(t[0]);c.set("offset",pV(a)),s.push(c);const u=t.length-1;for(let m=1;m<=u;m++){let v=new Map(t[m]);const w=v.get("offset");v.set("offset",pV((e+w*i)/o)),s.push(v)}i=o,e=0,r="",t=s}return kA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function pV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function gV(n,t,e,i,r,s,o,a,l,c,u,m,v){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:m,errors:v}}const NA={};class _V{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Ooe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const m=[],v=this.ast.options&&this.ast.options.params||NA,A=this.buildStyles(i,a&&a.params||NA,m),$=l&&l.params||NA,ne=this.buildStyles(r,$,m),pe=new Set,ge=new Map,Oe=new Map,Ge="void"===r,rt={params:vV($,v),delay:this.ast.options?.delay},ut=u?[]:PA(t,e,this.ast.animation,s,o,A,ne,rt,c,m);let be=0;return ut.forEach(ue=>{be=Math.max(ue.duration+ue.delay,be)}),m.length?gV(e,this._triggerName,i,r,Ge,A,ne,[],[],ge,Oe,be,m):(ut.forEach(ue=>{const Ie=ue.element,Me=wo(ge,Ie,new Set);ue.preStyleProps.forEach(je=>Me.add(je));const Le=wo(Oe,Ie,new Set);ue.postStyleProps.forEach(je=>Le.add(je)),Ie!==e&&pe.add(Ie)}),gV(e,this._triggerName,i,r,Ge,A,ne,ut,[...pe.values()],ge,Oe,be))}}function vV(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Noe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=vV(t,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=s_(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Loe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Noe(r.style,r.options&&r.options.params||{},i))}),yV(this.states,"true","1"),yV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _V(t,r,this.states))}),this.fallbackTransition=function Voe(n,t){return new _V(n,{type:dn.Transition,animation:{type:dn.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function yV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Boe=new lw;class Uoe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=RA(this._driver,e,i,[]);if(i.length)throw function Gse(){return new Se(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=nV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=PA(this._driver,e,s,CA,tw,new Map,new Map,i,Boe,r),o.forEach(u=>{const m=wo(a,u.element,new Map);u.postStyleProps.forEach(v=>m.set(v,null))})):(r.push(function Wse(){return new Se(3300,!1)}()),o=[]),r.length)throw function qse(){return new Se(3504,!1)}();a.forEach((u,m)=>{u.forEach((v,w)=>{u.set(w,this._driver.computeStyle(m,w,Il))})});const c=xc(o.map(u=>{const m=a.get(u.element);return this._buildPlayer(u,new Map,m)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Kse(){return new Se(3301,!1)}();return e}listen(t,e,i,r){const s=yA(e,"","","");return _A(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bV="ng-animate-queued",FA="ng-animate-disabled",Goe=[],wV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Woe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ma="__ng_removed";class LA{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Qoe(n){return n??null}(i?t.value:t),i){const{value:s,...o}=t;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const o_="void",VA=new LA(o_);class qoe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,jo(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Yse(){return new Se(3302,!1)}();if(null==i||0==i.length)throw function Qse(){return new Se(3303,!1)}();if(!function Xoe(n){return"start"==n||"done"==n}(i))throw function Xse(){return new Se(3400,!1)}();const s=wo(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=wo(this._engine.statesByElement,t,new Map);return a.has(e)||(jo(t,nw),jo(t,nw+"-"+e),a.set(e,VA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Zse(){return new Se(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new BA(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(jo(t,nw),jo(t,nw+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new LA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=VA),c.value!==o_&&l.value===c.value){if(!function eae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const $=[],ne=s.matchStyles(l.value,l.params,$),pe=s.matchStyles(c.value,c.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{lu(t,ne),Pa(t,pe)})}return}const v=wo(this._engine.playersByElement,t,[]);v.forEach($=>{$.namespaceId==this.id&&$.triggerName==e&&$.queued&&$.destroy()});let w=s.matchTransition(l.value,c.value,t,c.params),A=!1;if(!w){if(!r)return;w=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:l,toState:c,player:o,isFallbackTransition:A}),A||(jo(t,bV),o.onStart(()=>{jf(t,bV)})),o.onDone(()=>{let $=this.players.indexOf(o);$>=0&&this.players.splice($,1);const ne=this._engine.playersByElement.get(t);if(ne){let pe=ne.indexOf(o);pe>=0&&ne.splice(pe,1)}}),this.players.push(o),v.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,iw,!0);i.forEach(r=>{if(r[ma])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,o_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&xc(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||VA,u=new LA(o_),m=new BA(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ma];(!s||s===wV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){jo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=yA(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,_A(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Koe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new qoe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(uw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!uw(e))return;const s=e[ma];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jo(t,FA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jf(t,FA))}removeNode(t,e,i){if(uw(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ma]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return uw(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,iw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,TA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ma];if(e&&e.setForRemoval){if(t[ma]=wV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(FA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?xc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Jse(){return new Se(3402,!1)}()}_flushAnimations(t,e){const i=new lw,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(kt=>{u.add(kt);const zt=this.driver.query(kt,".ng-animate-queued",!0);for(let Kt=0;Kt<zt.length;Kt++)u.add(zt[Kt])});const m=this.bodyNode,v=Array.from(this.statesByElement.keys()),w=CV(v,this.collectedEnterElements),A=new Map;let $=0;w.forEach((kt,zt)=>{const Kt=CA+$++;A.set(zt,Kt),kt.forEach(On=>jo(On,Kt))});const ne=[],pe=new Set,ge=new Set;for(let kt=0;kt<this.collectedLeaveElements.length;kt++){const zt=this.collectedLeaveElements[kt],Kt=zt[ma];Kt&&Kt.setForRemoval&&(ne.push(zt),pe.add(zt),Kt.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(On=>pe.add(On)):ge.add(zt))}const Oe=new Map,Ge=CV(v,Array.from(pe));Ge.forEach((kt,zt)=>{const Kt=tw+$++;Oe.set(zt,Kt),kt.forEach(On=>jo(On,Kt))}),t.push(()=>{w.forEach((kt,zt)=>{const Kt=A.get(zt);kt.forEach(On=>jf(On,Kt))}),Ge.forEach((kt,zt)=>{const Kt=Oe.get(zt);kt.forEach(On=>jf(On,Kt))}),ne.forEach(kt=>{this.processLeaveNode(kt)})});const rt=[],ut=[];for(let kt=this._namespaceList.length-1;kt>=0;kt--)this._namespaceList[kt].drainQueuedTransitions(e).forEach(Kt=>{const On=Kt.player,vr=Kt.element;if(rt.push(On),this.collectedEnterElements.length){const or=vr[ma];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(Kt.triggerName)){const ql=or.previousTriggersValues.get(Kt.triggerName),so=this.statesByElement.get(Kt.element);if(so&&so.has(Kt.triggerName)){const Kl=so.get(Kt.triggerName);Kl.value=ql,so.set(Kt.triggerName,Kl)}}return void On.destroy()}}const Ko=!m||!this.driver.containsElement(m,vr),sr=Oe.get(vr),Bi=A.get(vr),Ui=this._buildInstruction(Kt,i,Bi,sr,Ko);if(Ui.errors&&Ui.errors.length)return void ut.push(Ui);if(Ko)return On.onStart(()=>lu(vr,Ui.fromStyles)),On.onDestroy(()=>Pa(vr,Ui.toStyles)),void r.push(On);if(Kt.isFallbackTransition)return On.onStart(()=>lu(vr,Ui.fromStyles)),On.onDestroy(()=>Pa(vr,Ui.toStyles)),void r.push(On);const rd=[];Ui.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||rd.push(or)}),Ui.timelines=rd,i.append(vr,Ui.timelines),o.push({instruction:Ui,player:On,element:vr}),Ui.queriedElements.forEach(or=>wo(a,or,[]).push(On)),Ui.preStyleProps.forEach((or,ql)=>{if(or.size){let so=l.get(ql);so||l.set(ql,so=new Set),or.forEach((Kl,sd)=>so.add(sd))}}),Ui.postStyleProps.forEach((or,ql)=>{let so=c.get(ql);so||c.set(ql,so=new Set),or.forEach((Kl,sd)=>so.add(sd))})});if(ut.length){const kt=[];ut.forEach(zt=>{kt.push(function eoe(){return new Se(3505,!1)}())}),rt.forEach(zt=>zt.destroy()),this.reportError(kt)}const be=new Map,ue=new Map;o.forEach(kt=>{const zt=kt.element;i.has(zt)&&(ue.set(zt,zt),this._beforeAnimationBuild(kt.player.namespaceId,kt.instruction,be))}),r.forEach(kt=>{const zt=kt.element;this._getPreviousPlayers(zt,!1,kt.namespaceId,kt.triggerName,null).forEach(On=>{wo(be,zt,[]).push(On),On.destroy()})});const Ie=ne.filter(kt=>SV(kt,l,c)),Me=new Map;IV(Me,this.driver,ge,c,Il).forEach(kt=>{SV(kt,l,c)&&Ie.push(kt)});const je=new Map;w.forEach((kt,zt)=>{IV(je,this.driver,new Set(kt),l,"!")}),Ie.forEach(kt=>{const zt=Me.get(kt),Kt=je.get(kt);Me.set(kt,new Map([...zt?.entries()??[],...Kt?.entries()??[]]))});const Ce=[],qo=[],id={};o.forEach(kt=>{const{element:zt,player:Kt,instruction:On}=kt;if(i.has(zt)){if(u.has(zt))return Kt.onDestroy(()=>Pa(zt,On.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(On.totalTime),void r.push(Kt);let vr=id;if(ue.size>1){let sr=zt;const Bi=[];for(;sr=sr.parentNode;){const Ui=ue.get(sr);if(Ui){vr=Ui;break}Bi.push(sr)}Bi.forEach(Ui=>ue.set(Ui,vr))}const Ko=this._buildAnimation(Kt.namespaceId,On,be,s,je,Me);if(Kt.setRealPlayer(Ko),vr===id)Ce.push(Kt);else{const sr=this.playersByElement.get(vr);sr&&sr.length&&(Kt.parentPlayer=xc(sr)),r.push(Kt)}}else lu(zt,On.fromStyles),Kt.onDestroy(()=>Pa(zt,On.toStyles)),qo.push(Kt),u.has(zt)&&r.push(Kt)}),qo.forEach(kt=>{const zt=s.get(kt.element);if(zt&&zt.length){const Kt=xc(zt);kt.setRealPlayer(Kt)}}),r.forEach(kt=>{kt.parentPlayer?kt.syncPlayerEvents(kt.parentPlayer):kt.destroy()});for(let kt=0;kt<ne.length;kt++){const zt=ne[kt],Kt=zt[ma];if(jf(zt,tw),Kt&&Kt.hasAnimation)continue;let On=[];if(a.size){let Ko=a.get(zt);Ko&&Ko.length&&On.push(...Ko);let sr=this.driver.query(zt,TA,!0);for(let Bi=0;Bi<sr.length;Bi++){let Ui=a.get(sr[Bi]);Ui&&Ui.length&&On.push(...Ui)}}const vr=On.filter(Ko=>!Ko.destroyed);vr.length?Zoe(this,zt,vr):this.processLeaveNode(zt)}return ne.length=0,Ce.forEach(kt=>{this.players.push(kt),kt.onDone(()=>{kt.destroy();const zt=this.players.indexOf(kt);this.players.splice(zt,1)}),kt.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==o_;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,m=wo(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(w=>{const A=w.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),w.destroy(),m.push(w)})}lu(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,m=new Set,v=e.timelines.map(A=>{const $=A.element;u.add($);const ne=$[ma];if(ne&&ne.removedBeforeQueried)return new i_(A.duration,A.delay);const pe=$!==l,ge=function Joe(n){const t=[];return TV(n,t),t}((i.get($)||Goe).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===$),Oe=s.get($),Ge=o.get($),rt=nV(this._normalizer,A.keyframes,Oe,Ge),ut=this._buildPlayer(A,rt,ge);if(A.subTimeline&&r&&m.add($),pe){const be=new BA(t,a,$);be.setRealPlayer(ut),c.push(be)}return ut});c.forEach(A=>{wo(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function Yoe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,A.element,A))}),u.forEach(A=>jo(A,lV));const w=xc(v);return w.onDestroy(()=>{u.forEach(A=>jf(A,lV)),Pa(l,e.toStyles)}),m.forEach(A=>{wo(r,A,[]).push(w)}),w}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new i_(t.duration,t.delay)}}class BA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new i_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>_A(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function uw(n){return n&&1===n.nodeType}function EV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function IV(n,t,e,i,r){const s=[];e.forEach(l=>s.push(EV(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(m=>{const v=t.computeStyle(c,m,r);u.set(m,v),(!v||0==v.length)&&(c[ma]=Woe,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>EV(l,s[a++])),o}function CV(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function jo(n,t){n.classList?.add(t)}function jf(n,t){n.classList?.remove(t)}function Zoe(n,t,e){xc(e).onDone(()=>n.processLeaveNode(t))}function TV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof eV?TV(i.players,t):t.push(i)}}function SV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class a_{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Koe(t.body,e,i),this._timelineEngine=new Uoe(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=RA(this._driver,s,l,[]);if(l.length)throw function Hse(){return new Se(3404,!1)}();a=function Foe(n,t,e){return new Loe(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=iV(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=iV(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class l_{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=l_.initialStylesByElement.get(t);r||l_.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pa(this._element,this._initialStyles),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l_.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),Pa(this._element,this._initialStyles),this._state=3)}}function UA(n){let t=null;return n.forEach((e,i)=>{(function nae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class AV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:DA(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class xV{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return sV(t,e)}getParentElement(t){return bA(t)}query(t,e,i){return oV(t,e,i)}computeStyle(t,e,i){return DA(t,e)}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(w=>w instanceof AV);(function foe(n,t){return 0===n||0===t})(i,r)&&u.forEach(w=>{w.currentSnapshot.forEach((A,$)=>c.set($,A))});let m=function doe(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(w=>new Map(w));m=function moe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,DA(n,a)))}}return t}(t,m,c);const v=function tae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=UA(t[0]),t.length>1&&(i=UA(t[t.length-1]))):t instanceof Map&&(e=UA(t)),e||i?new l_(n,e,i):null}(t,m);return new AV(t,m,l,v)}}const DV="@.disabled";class RV{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==DV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class iae extends RV{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==DV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function rae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function sae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}class oae{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new RV("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new iae(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const MV=[{provide:IA,useFactory:function lae(){return new uV}},{provide:a_,useClass:(()=>{class n extends a_{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn),Te(EA),Te(IA))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})()},{provide:Qb,useFactory:function cae(n,t,e){return new oae(n,t,e)},deps:[hA,a_,Et]}],zA=[{provide:EA,useFactory:()=>new xV},{provide:fs,useValue:"BrowserAnimations"},...MV],kV=[{provide:EA,useClass:wA},{provide:fs,useValue:"NoopAnimations"},...MV];let dae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?kV:zA}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:zA,imports:[X5]})}}return n})();var Hf=q(1635);const jA=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function PV(n){return dt(n?.then)}function OV(n){return dt(n[Bs])}function NV(n){return Symbol.asyncIterator&&dt(n?.[Symbol.asyncIterator])}function FV(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const LV=function uae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function VV(n){return dt(n?.[LV])}function BV(n){return(0,Hf.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Hf.N3)(e.read());if(r)return yield(0,Hf.N3)(void 0);yield yield(0,Hf.N3)(i)}}finally{e.releaseLock()}})}function UV(n){return dt(n?.getReader)}function Sr(n){if(n instanceof gn)return n;if(null!=n){if(OV(n))return function hae(n){return new gn(t=>{const e=n[Bs]();if(dt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(jA(n))return function fae(n){return new gn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(PV(n))return function mae(n){return new gn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Hn)})}(n);if(NV(n))return zV(n);if(VV(n))return function pae(n){return new gn(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(UV(n))return function gae(n){return zV(BV(n))}(n)}throw FV(n)}function zV(n){return new gn(t=>{(function _ae(n,t){var e,i,r,s;return(0,Hf.sH)(this,void 0,void 0,function*(){try{for(e=(0,Hf.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Oa(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Na(n,t=0){return Ke((e,i)=>{e.subscribe(ct(i,r=>Oa(i,n,()=>i.next(r),t),()=>Oa(i,n,()=>i.complete(),t),r=>Oa(i,n,()=>i.error(r),t)))})}function du(n,t=0){return Ke((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function jV(n,t){if(!n)throw new Error("Iterable cannot be null");return new gn(e=>{Oa(e,t,()=>{const i=n[Symbol.asyncIterator]();Oa(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Yn(n,t){return t?function Iae(n,t){if(null!=n){if(OV(n))return function vae(n,t){return Sr(n).pipe(du(t),Na(t))}(n,t);if(jA(n))return function bae(n,t){return new gn(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(PV(n))return function yae(n,t){return Sr(n).pipe(du(t),Na(t))}(n,t);if(NV(n))return jV(n,t);if(VV(n))return function wae(n,t){return new gn(e=>{let i;return Oa(e,t,()=>{i=n[LV](),Oa(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>dt(i?.return)&&i.return()})}(n,t);if(UV(n))return function Eae(n,t){return jV(BV(n),t)}(n,t)}throw FV(n)}(n,t):Sr(n)}const{isArray:Cae}=Array,{getPrototypeOf:Tae,prototype:Sae,keys:Aae}=Object;function HV(n){if(1===n.length){const t=n[0];if(Cae(t))return{args:t,keys:null};if(function xae(n){return n&&"object"==typeof n&&Tae(n)===Sae}(t)){const e=Aae(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function $V(n){return n&&dt(n.schedule)}function HA(n){return n[n.length-1]}function $A(n){return dt(HA(n))?n.pop():void 0}function c_(n){return $V(HA(n))?n.pop():void 0}const{isArray:Rae}=Array;function GA(n){return st(t=>function Mae(n,t){return Rae(t)?n(...t):n(t)}(n,t))}function GV(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function WV(...n){const t=$A(n),{args:e,keys:i}=HV(n),r=new gn(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let m=!1;Sr(e[u]).subscribe(ct(s,v=>{m||(m=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!m)&&(c||s.next(i?GV(i,a):a),s.complete())}))}});return t?r.pipe(GA(t)):r}let qV=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(oe(gl),oe(Ht))}}static{this.\u0275dir=et({type:n})}}return n})(),uu=(()=>{class n extends qV{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275dir=et({type:n,features:[Rt]})}}return n})();const Zs=new xe(""),Pae={provide:Zs,useExisting:qn(()=>Dc),multi:!0},Nae=new xe("");let Dc=(()=>{class n extends qV{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oae(){const n=Ac()?Ac().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(gl),oe(Ht),oe(Nae,8))}}static{this.\u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Xt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Bt([Pae]),Rt]})}}return n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YV(n){return null!=n&&"number"==typeof n.length}const $r=new xe(""),Mc=new xe(""),Fae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ho{static min(t){return function QV(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function XV(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return ZV(t)}static requiredTrue(t){return function JV(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function e6(n){return Rc(n.value)||Fae.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function t6(n){return t=>Rc(t.value)||!YV(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function n6(n){return t=>YV(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function i6(n){if(!n)return fw;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Rc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return c6(t)}static composeAsync(t){return d6(t)}}function ZV(n){return Rc(n.value)?{required:!0}:null}function fw(n){return null}function r6(n){return null!=n}function s6(n){return Kg(n)?Yn(n):n}function o6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function a6(n,t){return t.map(e=>e(n))}function l6(n){return n.map(t=>function Lae(n){return!n.validate}(t)?t:e=>t.validate(e))}function c6(n){if(!n)return null;const t=n.filter(r6);return 0==t.length?null:function(e){return o6(a6(e,t))}}function WA(n){return null!=n?c6(l6(n)):null}function d6(n){if(!n)return null;const t=n.filter(r6);return 0==t.length?null:function(e){return WV(a6(e,t).map(s6)).pipe(st(o6))}}function qA(n){return null!=n?d6(l6(n)):null}function u6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function h6(n){return n._rawValidators}function f6(n){return n._rawAsyncValidators}function KA(n){return n?Array.isArray(n)?n:[n]:[]}function mw(n,t){return Array.isArray(n)?n.includes(t):n===t}function m6(n,t){const e=KA(t);return KA(n).forEach(r=>{mw(e,r)||e.push(r)}),e}function p6(n,t){return KA(t).filter(e=>!mw(n,e))}class g6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ps extends g6{get formDirective(){return null}get path(){return null}}class Fa extends g6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _6{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let $f=(()=>{class n extends _6{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(Fa,2))}}static{this.\u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Rt]})}}return n})(),pw=(()=>{class n extends _6{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ps,10))}}static{this.\u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Rt]})}}return n})();const d_="VALID",_w="INVALID",Gf="PENDING",u_="DISABLED";class Wf{}class y6 extends Wf{constructor(t,e){super(),this.value=t,this.source=e}}class XA extends Wf{constructor(t,e){super(),this.pristine=t,this.source=e}}class ZA extends Wf{constructor(t,e){super(),this.touched=t,this.source=e}}class vw extends Wf{constructor(t,e){super(),this.status=t,this.source=e}}class jae extends Wf{constructor(t){super(),this.source=t}}class Hae extends Wf{constructor(t){super(),this.source=t}}function JA(n){return(yw(n)?n.validators:n)||null}function ex(n,t){return(yw(t)?t.asyncValidators:n)||null}function yw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function b6(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new Se(1e3,"");if(!i[e])throw new Se(1001,"")}function w6(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new Se(1002,"")})}class bw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vl(()=>this.statusReactive()),this.statusReactive=xa(void 0),this._pristine=vl(()=>this.pristineReactive()),this.pristineReactive=xa(!0),this._touched=vl(()=>this.touchedReactive()),this.touchedReactive=xa(!1),this._events=new R,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ua(this.statusReactive)}set status(t){ua(()=>this.statusReactive.set(t))}get valid(){return this.status===d_}get invalid(){return this.status===_w}get pending(){return this.status==Gf}get disabled(){return this.status===u_}get enabled(){return this.status!==u_}get pristine(){return ua(this.pristineReactive)}set pristine(t){ua(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ua(this.touchedReactive)}set touched(t){ua(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(m6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(m6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(p6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(p6(t,this._rawAsyncValidators))}hasValidator(t){return mw(this._rawValidators,t)}hasAsyncValidator(t){return mw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new ZA(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new ZA(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new XA(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new XA(!0,i))}markAsPending(t={}){this.status=Gf;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new vw(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=u_,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new y6(this.value,i)),this._events.next(new vw(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=d_,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===d_||this.status===Gf)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new y6(this.value,e)),this._events.next(new vw(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?u_:d_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Gf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=s6(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new vw(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new nn,this.statusChanges=new nn}_calculateStatus(){return this._allControlsDisabled()?u_:this.errors?_w:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gf)?Gf:this._anyControlsHaveStatus(_w)?_w:d_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new XA(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ZA(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function $ae(n){return Array.isArray(n)?WA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Gae(n){return Array.isArray(n)?qA(n):n||null}(this._rawAsyncValidators)}}class h_ extends bw{constructor(t,e,i){super(JA(e),ex(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){w6(this,0,t),Object.keys(t).forEach(i=>{b6(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class E6 extends h_{}const hu=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>f_}),f_="always";function ww(n,t){return[...t.path,n]}function m_(n,t,e=f_){tx(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function qae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I6(n,t)})}(n,t),function Yae(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Kae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Wae(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ew(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Cw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Iw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tx(n,t){const e=h6(n);null!==t.validator?n.setValidators(u6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=f6(n);null!==t.asyncValidator?n.setAsyncValidators(u6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Iw(t._rawValidators,r),Iw(t._rawAsyncValidators,r)}function Cw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=h6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=f6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Iw(t._rawValidators,i),Iw(t._rawAsyncValidators,i),e}function I6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C6(n,t){tx(n,t)}function ix(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function T6(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rx(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Dc?e=s:function Zae(n){return Object.getPrototypeOf(n.constructor)===uu}(s)?i=s:r=s}),r||i||e||null}const ele={provide:Ps,useExisting:qn(()=>g_)},p_=Promise.resolve();let g_=(()=>{class n extends Ps{get submitted(){return ua(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=vl(()=>this.submittedReactive()),this.submittedReactive=xa(!1),this._directives=new Set,this.ngSubmit=new nn,this.form=new h_({},WA(e),qA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){p_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),m_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){p_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){p_.then(()=>{const i=this._findContainer(e.path),r=new h_({});C6(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){p_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){p_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),T6(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(oe($r,10),oe(Mc,10),oe(hu,8))}}static{this.\u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([ele]),Rt]})}}return n})();function S6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function A6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const __=class extends bw{constructor(t=null,e,i){super(JA(e),ex(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=A6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){S6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){S6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){A6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ile={provide:Fa,useExisting:qn(()=>Tw)},R6=Promise.resolve();let Tw=(()=>{class n extends Fa{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new __,this._registered=!1,this.name="",this.update=new nn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rx(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ix(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){m_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R6.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&rn(i);R6.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ww(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(oe(Ps,9),oe($r,10),oe(Mc,10),oe(Zs,10),oe(Ir,8),oe(hu,8))}}static{this.\u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([ile]),Rt,Hi]})}}return n})(),Sw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const sx=new xe(""),cle={provide:Ps,useExisting:qn(()=>kc)};let kc=(()=>{class n extends Ps{get submitted(){return ua(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=vl(()=>this._submittedReactive()),this._submittedReactive=xa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return m_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ew(e.control||null,e,!1),function Jae(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),T6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new jae(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Hae(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ew(i||null,e),(n=>n instanceof __)(r)&&(m_(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);C6(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Qae(n,t){return Cw(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tx(this.form,this),this._oldForm&&Cw(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(oe($r,10),oe(Mc,10),oe(hu,8))}}static{this.\u0275dir=et({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([cle]),Rt,Hi]})}}return n})();const hle={provide:Fa,useExisting:qn(()=>v_)};let v_=(()=>{class n extends Fa{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new nn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rx(0,s)}ngOnChanges(e){this._added||this._setUpControl(),ix(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ww(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(oe(Ps,13),oe($r,10),oe(Mc,10),oe(Zs,10),oe(sx,8))}}static{this.\u0275dir=et({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bt([hle]),Rt,Hi]})}}return n})(),fu=(()=>{class n{constructor(){this._validator=fw}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fw,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,features:[Hi]})}}return n})();const wle={provide:$r,useExisting:qn(()=>qf),multi:!0};let qf=(()=>{class n extends fu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=rn,this.createValidator=e=>ZV}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&kn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Bt([wle]),Rt]})}}return n})(),W6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();class q6 extends bw{constructor(t,e,i){super(JA(e),ex(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){w6(this,0,t),t.forEach((i,r)=>{b6(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function K6(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ux=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return K6(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new h_(r,s)}record(e,i=null){const r=this._reduceControls(e);return new E6(r,i)}control(e,i,r){let s={};return this.useNonNullable?(K6(i)?s=i:(s.validators=i,s.asyncValidators=r),new __(e,{...s,nonNullable:!0})):new __(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new q6(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof __||e instanceof bw?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ale=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:hu,useValue:e.callSetDisabledState??f_}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[W6]})}}return n})(),Y6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sx,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:hu,useValue:e.callSetDisabledState??f_}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[W6]})}}return n})();function At(...n){return Yn(n,c_(n))}function mu(...n){const t=c_(n),e=$A(n),{args:i,keys:r}=HV(n);if(0===i.length)return Yn([],t);const s=new gn(function xle(n,t,e=Br){return i=>{Q6(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)Q6(t,()=>{const c=Yn(n[l],t);let u=!1;c.subscribe(ct(i,m=>{s[l]=m,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>GV(r,o):Br));return e?s.pipe(GA(e)):s}function Q6(n,t,e){n?Oa(e,n,t):t()}const Aw=on(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Lr(n,t,e=1/0){return dt(t)?Lr((i,r)=>st((s,o)=>t(i,s,r,o))(Sr(n(i,r))),e):("number"==typeof t&&(e=t),Ke((i,r)=>function Dle(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,m=!1;const v=()=>{m&&!l.length&&!c&&t.complete()},w=$=>c<i?A($):l.push($),A=$=>{s&&t.next($),c++;let ne=!1;Sr(e($,u++)).subscribe(ct(t,pe=>{r?.(pe),s?w(pe):t.next(pe)},()=>{ne=!0},void 0,()=>{if(ne)try{for(c--;l.length&&c<i;){const pe=l.shift();o?Oa(t,o,()=>A(pe)):A(pe)}v()}catch(pe){t.error(pe)}}))};return n.subscribe(ct(t,w,()=>{m=!0,v()})),()=>{a?.()}}(i,r,n,e)))}function Kf(n=1/0){return Lr(Br,n)}function xw(...n){return function Rle(){return Kf(1)}()(Yn(n,c_(n)))}function hx(n){return new gn(t=>{Sr(n()).subscribe(t)})}function Yf(n,t){const e=dt(n)?n:()=>n,i=r=>r.error(e());return new gn(t?r=>t.schedule(i,0,r):i)}const Os=new gn(n=>n.complete());function fx(){return Ke((n,t)=>{let e=null;n._refCount++;const i=ct(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class mx extends gn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ee(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xt;const e=this.getSubject();t.add(this.source.subscribe(ct(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xt.EMPTY)}return t}refCount(){return fx()(this)}}function Gi(n,t){return Ke((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(ct(i,l=>{r?.unsubscribe();let c=0;const u=s++;Sr(n(l,u)).subscribe(r=ct(i,m=>i.next(t?t(l,m,u,c++):m),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Js(n){return n<=0?()=>Os:Ke((t,e)=>{let i=0;t.subscribe(ct(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Sl(...n){const t=c_(n);return Ke((e,i)=>{(t?xw(n,e,t):xw(n,e)).subscribe(i)})}function Qn(n,t){return Ke((e,i)=>{let r=0;e.subscribe(ct(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Dw(n){return Ke((t,e)=>{let i=!1;t.subscribe(ct(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function X6(n=kle){return Ke((t,e)=>{let i=!1;t.subscribe(ct(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function kle(){return new Aw}function Pc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,s)=>n(r,s,i)):Br,Js(1),e?Dw(t):X6(()=>new Aw))}function pu(n,t){return dt(t)?Lr(n,t,1):Lr(n,1)}function nr(n,t,e){const i=dt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ke((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ct(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Br}function pa(n){return Ke((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ct(e,void 0,void 0,o=>{s=Sr(n(o,pa(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Qf(n,t){return Ke(function Ple(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(ct(o,u=>{const m=c++;l=a?n(l,u,m):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}function px(n){return n<=0?()=>Os:Ke((t,e)=>{let i=[];t.subscribe(ct(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Rw(n){return Ke((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function ir(n){return Ke((t,e)=>{Sr(n).subscribe(ct(e,()=>e.complete(),hi)),!e.closed&&t.subscribe(e)})}const wn="primary",b_=Symbol("RouteTitle");class Fle{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xf(n){return new Fle(n)}function Lle(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(":"===o[0])r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function La(n,t){const e=n?gx(n):void 0,i=t?gx(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Z6(n[r],t[r]))return!1;return!0}function gx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Z6(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function J6(n){return n.length>0?n[n.length-1]:null}function Oc(n){return function y_(n){return!!n&&(n instanceof gn||dt(n.lift)&&dt(n.subscribe))}(n)?n:Kg(n)?Yn(Promise.resolve(n)):At(n)}const Ble={exact:function n8(n,t,e){if(!_u(n.segments,t.segments)||!Mw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!n8(n.children[i],t.children[i],e))return!1;return!0},subset:i8},e8={exact:function Ule(n,t){return La(n,t)},subset:function zle(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Z6(n[e],t[e]))},ignored:()=>!0};function t8(n,t,e){return Ble[e.paths](n.root,t.root,e.matrixParams)&&e8[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function i8(n,t,e){return r8(n,t,t.segments,e)}function r8(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!_u(r,e)||t.hasChildren()||!Mw(r,e,i))}if(n.segments.length===e.length){if(!_u(n.segments,e)||!Mw(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!i8(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(_u(n.segments,r)&&Mw(n.segments,r,i)&&n.children[wn])&&r8(n.children[wn],t,s,i)}}function Mw(n,t,e){return t.every((i,r)=>e8[e](n[r].parameters,i.parameters))}class gu{constructor(t=new yi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xf(this.queryParams),this._queryParamMap}toString(){return $le.serialize(this)}}class yi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pw(this)}}class w_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Xf(this.parameters),this._parameterMap}toString(){return a8(this)}}function _u(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Zf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>new kw,providedIn:"root"})}}return n})();class kw{parse(t){const e=new tce(t);return new gu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${E_(t.root,!0)}`,i=function qle(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Ow(e)}=${Ow(r)}`).join("&"):`${Ow(e)}=${Ow(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Gle(n){return encodeURI(n)}(t.fragment)}`:""}`}}const $le=new kw;function Pw(n){return n.segments.map(t=>a8(t)).join("/")}function E_(n,t){if(!n.hasChildren())return Pw(n);if(t){const e=n.children[wn]?E_(n.children[wn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==wn&&i.push(`${r}:${E_(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Hle(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===wn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==wn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===wn?[E_(n.children[wn],!1)]:[`${r}:${E_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wn]?`${Pw(n)}/${e[0]}`:`${Pw(n)}/(${e.join("//")})`}}function s8(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ow(n){return s8(n).replace(/%3B/gi,";")}function _x(n){return s8(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nw(n){return decodeURIComponent(n)}function o8(n){return Nw(n.replace(/\+/g,"%20"))}function a8(n){return`${_x(n.path)}${function Wle(n){return Object.entries(n).map(([t,e])=>`;${_x(t)}=${_x(e)}`).join("")}(n.parameters)}`}const Kle=/^[^\/()?;#]+/;function vx(n){const t=n.match(Kle);return t?t[0]:""}const Yle=/^[^\/()?;=#]+/,Xle=/^[^=?&#]+/,Jle=/^[^&#]+/;class tce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yi([],{}):new yi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[wn]=new yi(t,e)),i}parseSegment(){const t=vx(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Se(4009,!1);return this.capture(t),new w_(Nw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Qle(n){const t=n.match(Yle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=vx(this.remaining);r&&(i=r,this.capture(i))}t[Nw(e)]=Nw(i)}parseQueryParam(t){const e=function Zle(n){const t=n.match(Xle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function ece(n){const t=n.match(Jle);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=o8(e),s=o8(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vx(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Se(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=wn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[wn]:new yi([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Se(4011,!1)}}function l8(n){return n.segments.length>0?new yi([],{[wn]:n}):n}function c8(n){const t={};for(const[i,r]of Object.entries(n.children)){const s=c8(r);if(i===wn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function nce(n){if(1===n.numberOfChildren&&n.children[wn]){const t=n.children[wn];return new yi(n.segments.concat(t.segments),t.children)}return n}(new yi(n.segments,t))}function vu(n){return n instanceof gu}function d8(n){let t;const r=l8(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new yi(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function u8(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return yx(r,r,r,e,i);const s=function rce(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new f8(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new f8(e,t,i)}(t);if(s.toRoot())return yx(r,r,new yi([],{}),e,i);const o=function sce(n,t,e){if(n.isAbsolute)return new Lw(t,!0,0);if(!e)return new Lw(t,!1,NaN);if(null===e.parent)return new Lw(e,!0,0);const i=Fw(n.commands[0])?0:1;return function oce(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Se(4005,!1);r=i.segments.length}return new Lw(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?C_(o.segmentGroup,o.index,s.commands):m8(o.segmentGroup,o.index,s.commands);return yx(r,o.segmentGroup,a,e,i)}function Fw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function I_(n){return"object"==typeof n&&null!=n&&n.outlets}function yx(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:h8(n,t,e);const a=l8(c8(o));return new gu(a,s,r)}function h8(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:h8(s,t,e)}),new yi(n.segments,i)}class f8{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Fw(i[0]))throw new Se(4003,!1);const r=i.find(I_);if(r&&r!==J6(i))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lw{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function m8(n,t,e){if(n??=new yi([],{}),0===n.segments.length&&n.hasChildren())return C_(n,t,e);const i=function lce(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(I_(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!g8(l,c,o))return s;i+=2}else{if(!g8(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new yi(n.segments.slice(0,i.pathIndex),{});return s.children[wn]=new yi(n.segments.slice(i.pathIndex),n.children),C_(s,0,r)}return i.match&&0===r.length?new yi(n.segments,{}):i.match&&!n.hasChildren()?bx(n,t,e):i.match?C_(n,0,r):bx(n,t,e)}function C_(n,t,e){if(0===e.length)return new yi(n.segments,{});{const i=function ace(n){return I_(n[0])?n[0].outlets:{[wn]:n}}(e),r={};if(Object.keys(i).some(s=>s!==wn)&&n.children[wn]&&1===n.numberOfChildren&&0===n.children[wn].segments.length){const s=C_(n.children[wn],t,e);return new yi(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=m8(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new yi(n.segments,r)}}function bx(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(I_(s)){const l=cce(s.outlets);return new yi(i,l)}if(0===r&&Fw(e[0])){i.push(new w_(n.segments[t].path,p8(e[0]))),r++;continue}const o=I_(s)?s.outlets[wn]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Fw(a)?(i.push(new w_(o,p8(a))),r+=2):(i.push(new w_(o,{})),r++)}return new yi(i,{})}function cce(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=bx(new yi([],{}),0,i))}),t}function p8(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function g8(n,t,e){return n==e.path&&La(t,e.parameters)}const T_="imperative";var zn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(zn||{});class Va{constructor(t,e){this.id=t,this.url=e}}class Vw extends Va{constructor(t,e,i="imperative",r=null){super(t,e),this.type=zn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends Va{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=zn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Io=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Io||{}),Bw=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Bw||{});class yu extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=zn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jf extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=zn.NavigationSkipped}}class wx extends Va{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=zn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _8 extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=zn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dce extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=zn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uce extends Va{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=zn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hce extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=zn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fce extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=zn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mce{constructor(t){this.route=t,this.type=zn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pce{constructor(t){this.route=t,this.type=zn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gce{constructor(t){this.snapshot=t,this.type=zn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ce{constructor(t){this.snapshot=t,this.type=zn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vce{constructor(t){this.snapshot=t,this.type=zn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yce{constructor(t){this.snapshot=t,this.type=zn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v8{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=zn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ex{}class Uw{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function ga(n){return n.outlet||wn}function S_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Tce{get injector(){return S_(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new A_(this.rootInjector),this.attachRef=null}}let A_=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Tce(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(Te(Zr))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class y8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ix(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ix(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Cx(t,this._root).map(e=>e.value)}}function Ix(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ix(n,e);if(i)return i}return null}function Cx(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Cx(n,e);if(i.length)return i.unshift(t),i}return[]}class _a{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function em(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class b8 extends y8{constructor(t,e){super(t),this.snapshot=e,Tx(this,t)}toString(){return this.snapshot.toString()}}function w8(n){const t=function Sce(n){const s=new jw([],{},{},"",{},wn,n,null,{});return new E8("",new _a(s,[]))}(n),e=new me([new w_("",{})]),i=new me({}),r=new me({}),s=new me({}),o=new me(""),a=new Nc(e,i,s,o,r,wn,n,t.root);return a.snapshot=t.root,new b8(new _a(a,[]),t)}class Nc{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(st(c=>c[b_]))??At(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(st(t=>Xf(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(st(t=>Xf(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zw(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&C8(r)&&(i.resolve[b_]=r.title),i}class jw{get title(){return this.data?.[b_]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class E8 extends y8{constructor(t,e){super(e),this.url=t,Tx(this,e)}toString(){return I8(this._root)}}function Tx(n,t){t.value._routerState=n,t.children.forEach(e=>Tx(n,e))}function I8(n){const t=n.children.length>0?` { ${n.children.map(I8).join(", ")} } `:"";return`${n.value}${t}`}function Sx(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,La(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),La(t.params,e.params)||n.paramsSubject.next(e.params),function Vle(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!La(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),La(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ax(n,t){const e=La(n.params,t.params)&&function jle(n,t){return _u(n,t)&&n.every((e,i)=>La(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ax(n.parent,t.parent))}function C8(n){return"string"==typeof n.title||null===n.title}let xx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wn,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.parentContexts=Ue(A_),this.location=Ue(Pr),this.changeDetector=Ue(Ir),this.inputBinder=Ue(Hw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Se(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Dx(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hi]})}}return n})();class Dx{__ngOutletInjector(t){return new Dx(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Nc?this.route:t===A_?this.childContexts:this.parent.get(t,e)}}const Hw=new xe("");let T8=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=mu([i.queryParams,i.params,i.data]).pipe(Gi(([s,o,a],l)=>(a={...s,...o,...a},0===l?At(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function jne(n){const t=bn(n);if(!t)return null;const e=new Ag(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();function x_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function xce(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return x_(n,i,r);return x_(n,i)})}(n,t,e);return new _a(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>x_(n,a)),o}}const i=function Dce(n){return new Nc(new me(n.url),new me(n.params),new me(n.queryParams),new me(n.fragment),new me(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>x_(n,s));return new _a(i,r)}}class Rx{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const S8="ngNavigationCancelingError";function $w(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=A8(!1,Io.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function A8(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[S8]=!0,e.cancellationCode=t,e}function x8(n){return!!n&&n[S8]}class kce{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Sx(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=em(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=em(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=em(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=em(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new yce(s.value.snapshot))}),t.children.length&&this.forwardEvent(new _ce(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Sx(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sx(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}}class D8{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gw{constructor(t,e){this.component=t,this.route=e}}function Pce(n,t,e){const i=n._root;return D_(i,t?t._root:null,e,[i.value])}function tm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function _C(n){return null!==Zl(n)}(n)?t.get(n):n:i}function D_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=em(t);return n.children.forEach(o=>{(function Nce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Fce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_u(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_u(n.url,t.url)||!La(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ax(n,t)||!La(n.queryParams,t.queryParams);default:return!Ax(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new D8(i)):(s.data=o.data,s._resolvedData=o._resolvedData),D_(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Gw(a.outlet.component,o))}else o&&R_(t,a,r),r.canActivateChecks.push(new D8(i)),D_(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>R_(a,e.getContext(o),r)),r}function R_(n,t,e){const i=em(n),r=n.value;Object.entries(i).forEach(([s,o])=>{R_(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Gw(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function M_(n){return"function"==typeof n}function R8(n){return n instanceof Aw||"EmptyError"===n?.name}const Ww=Symbol("INITIAL_VALUE");function nm(){return Gi(n=>mu(n.map(t=>t.pipe(Js(1),Sl(Ww)))).pipe(st(t=>{for(const e of t)if(!0!==e){if(e===Ww)return Ww;if(!1===e||Hce(e))return e}return!0}),Qn(t=>t!==Ww),Js(1)))}function Hce(n){return vu(n)||n instanceof Rx}function M8(n){return function Do(...n){return Ro(n)}(nr(t=>{if("boolean"!=typeof t)throw $w(0,t)}),st(t=>!0===t))}class Mx{constructor(t){this.segmentGroup=t||null}}class qw extends Error{constructor(t){super(),this.urlTree=t}}function im(n){return Yf(new Mx(n))}class nde{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return At(i);if(r.numberOfChildren>1||!r.children[wn])return Yf(new Se(4e3,!1));r=r.children[wn]}}applyRedirectCommands(t,e,i,r,s){if("string"!=typeof e){const a=e,{queryParams:l,fragment:c,routeConfig:u,url:m,outlet:v,params:w,data:A,title:$}=r,ne=Ts(s,()=>a({params:w,data:A,queryParams:l,fragment:c,routeConfig:u,url:m,outlet:v,title:$}));if(ne instanceof gu)throw new qw(ne);e=ne}const o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new qw(o);return o}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new gu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new yi(s,o)}createSegments(t,e,i,r){return e.map(s=>":"===s.path[0]?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Se(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const kx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ide(n,t,e,i,r){const s=k8(n,t,e);return s.matched?(i=function bce(n,t){return n.providers&&!n._injector&&(n._injector=n0(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Jce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?At(r.map(o=>{const a=tm(o,n);return Oc(function jce(n){return n&&M_(n.canMatch)}(a)?a.canMatch(t,e):Ts(n,()=>a(t,e)))})).pipe(nm(),M8()):At(!0)}(i,t,e).pipe(st(o=>!0===o?s:{...kx}))):At(s)}function k8(n,t,e){if("**"===t.path)return function rde(n){return{matched:!0,parameters:n.length>0?J6(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...kx}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Lle)(e,n,t);if(!r)return{...kx};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function P8(n,t,e,i){return e.length>0&&function ade(n,t,e){return e.some(i=>Kw(n,t,i)&&ga(i)!==wn)}(n,e,i)?{segmentGroup:new yi(t,ode(i,new yi(e,n.children))),slicedSegments:[]}:0===e.length&&function lde(n,t,e){return e.some(i=>Kw(n,t,i))}(n,e,i)?{segmentGroup:new yi(n.segments,sde(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new yi(n.segments,n.children),slicedSegments:e}}function sde(n,t,e,i){const r={};for(const s of e)if(Kw(n,t,s)&&!i[ga(s)]){const o=new yi([],{});r[ga(s)]=o}return{...i,...r}}function ode(n,t){const e={};e[wn]=t;for(const i of n)if(""===i.path&&ga(i)!==wn){const r=new yi([],{});e[ga(i)]=r}return e}function Kw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class dde{}class fde{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new nde(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Se(4002,`'${t.segmentGroup}'`)}recognize(){const t=P8(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(st(({children:e,rootSnapshot:i})=>{const r=new _a(i,e),s=new E8("",r),o=function ice(n,t,e=null,i=null){return u8(d8(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){const e=new jw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),wn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,wn,e).pipe(st(i=>({children:i,rootSnapshot:e})),pa(i=>{if(i instanceof qw)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Mx?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,s):this.processSegment(t,e,i,i.segments,r,!0,s).pipe(st(o=>o instanceof _a?[o]:[]))}processChildren(t,e,i,r){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return Yn(s).pipe(pu(o=>{const a=i.children[o],l=function Cce(n,t){const e=n.filter(i=>ga(i)===t);return e.push(...n.filter(i=>ga(i)!==t)),e}(e,o);return this.processSegmentGroup(t,l,a,o,r)}),Qf((o,a)=>(o.push(...a),o)),Dw(null),function Ole(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,s)=>n(r,s,i)):Br,px(1),e?Dw(t):X6(()=>new Aw))}(),Lr(o=>{if(null===o)return im(i);const a=O8(o);return function mde(n){n.sort((t,e)=>t.value.outlet===wn?-1:e.value.outlet===wn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),At(a)}))}processSegment(t,e,i,r,s,o,a){return Yn(e).pipe(pu(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,s,o,a).pipe(pa(c=>{if(c instanceof Mx)return At(null);throw c}))),Pc(l=>!!l),pa(l=>{if(R8(l))return function cde(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?At(new dde):im(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,s,o,a,l){return ga(i)===o||o!==wn&&Kw(r,s,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o,l):im(r):im(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o,a){const{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:m,remainingSegments:v}=k8(e,r,s);if(!l)return im(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const w=new jw(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N8(r),ga(r),r.component??r._loadedComponent??null,r,F8(r)),A=zw(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);const $=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,m,w,t);return this.applyRedirects.lineralizeSegments(r,$).pipe(Lr(ne=>this.processSegment(t,i,e,ne.concat(v),o,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,s,o){const a=ide(e,i,r,t);return"**"===i.path&&(e.children={}),a.pipe(Gi(l=>l.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(Gi(({routes:c})=>{const u=i._loadedInjector??t,{parameters:m,consumedSegments:v,remainingSegments:w}=l,A=new jw(v,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N8(i),ga(i),i.component??i._loadedComponent??null,i,F8(i)),$=zw(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze($.params),A.data=Object.freeze($.data);const{segmentGroup:ne,slicedSegments:pe}=P8(e,v,w,c);if(0===pe.length&&ne.hasChildren())return this.processChildren(u,c,ne,A).pipe(st(Oe=>new _a(A,Oe)));if(0===c.length&&0===pe.length)return At(new _a(A,[]));const ge=ga(i)===s;return this.processSegment(u,c,ne,pe,ge?wn:s,!0,A).pipe(st(Oe=>new _a(A,Oe instanceof _a?[Oe]:[])))})):im(e)))}getChildConfig(t,e,i){return e.children?At({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?At({routes:e._loadedRoutes,injector:e._loadedInjector}):function Zce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?At(!0):At(r.map(o=>{const a=tm(o,n);return Oc(function Vce(n){return n&&M_(n.canLoad)}(a)?a.canLoad(t,e):Ts(n,()=>a(t,e)))})).pipe(nm(),M8())}(t,e,i).pipe(Lr(r=>r?this.configLoader.loadChildren(t,e).pipe(nr(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function tde(){return Yf(A8(!1,Io.GuardRejected))}())):At({routes:[],injector:t})}}function pde(n){const t=n.value.routeConfig;return t&&""===t.path}function O8(n){const t=[],e=new Set;for(const i of n){if(!pde(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=O8(i.children);t.push(new _a(i.value,r))}return t.filter(i=>!e.has(i))}function N8(n){return n.data||{}}function F8(n){return n.resolve||{}}function L8(n){const t=n.children.map(e=>L8(e)).flat();return[n,...t]}function Px(n){return Gi(t=>{const e=n(t);return e?Yn(e).pipe(st(()=>t)):At(t)})}let V8=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===wn);return i}getResolvedTitleForRoute(e){return e.data[b_]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(wde),providedIn:"root"})}}return n})(),wde=(()=>{class n extends V8{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(Te(dse))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const rm=new xe("",{providedIn:"root",factory:()=>({})});let B8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hn({type:n,selectors:[["ng-component"]],standalone:!0,features:[xn],decls:1,vars:0,template:function(i,r){1&i&&Zt(0,"router-outlet")},dependencies:[xx],encapsulation:2})}}return n})();function Ox(n){const t=n.children&&n.children.map(Ox),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==wn&&(e.component=B8),e}const sm=new xe("");let Nx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ue(g3)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return At(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Oc(e.loadComponent()).pipe(st(U8),nr(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Rw(()=>{this.componentLoaders.delete(e)})),r=new mx(i,()=>new R).pipe(fx());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return At({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Ede(n,t,e,i){return Oc(n.loadChildren()).pipe(st(U8),Lr(r=>r instanceof xF||Array.isArray(r)?At(r):Yn(t.compileModuleAsync(r))),st(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(sm,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ox),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Rw(()=>{this.childrenLoaders.delete(i)})),o=new mx(s,()=>new R).pipe(fx());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U8(n){return function Ide(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Fx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(Cde),providedIn:"root"})}}return n})(),Cde=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const z8=new xe(""),j8=new xe("");function Tde(n,t,e){const i=n.get(j8),r=n.get(Sn);return n.get(Et).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),function Sde(n){return new Promise(t=>{Zd({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&Ts(n,()=>l({transition:a,from:t,to:e})),o})}const H8=new xe("");let Yw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new R,this.transitionAbortSubject=new R,this.configLoader=Ue(Nx),this.environmentInjector=Ue(Zr),this.urlSerializer=Ue(Zf),this.rootContexts=Ue(A_),this.location=Ue(Bf),this.inputBindingEnabled=null!==Ue(Hw,{optional:!0}),this.titleStrategy=Ue(V8),this.options=Ue(rm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ue(Fx),this.createViewTransition=Ue(z8,{optional:!0}),this.navigationErrorHandler=Ue(H8,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>At(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new pce(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new mce(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:T_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qn(s=>0!==s.id),st(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Gi(s=>{let o=!1,a=!1;return At(s).pipe(Gi(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Io.SupersededByNewNavigation),Os;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:"string"==typeof l.extras.browserUrl?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new Jf(l.id,this.urlSerializer.serialize(l.rawUrl),m,Bw.IgnoredSameUrlNavigation)),l.resolve(!1),Os}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return At(l).pipe(Gi(m=>{const v=this.transitions?.getValue();return this.events.next(new Vw(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Os:Promise.resolve(m)}),function gde(n,t,e,i,r,s){return Lr(o=>function ude(n,t,e,i,r,s,o="emptyOnly"){return new fde(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(st(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),nr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const v=new _8(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:v,source:w,restoredState:A,extras:$}=l,ne=new Vw(m,this.urlSerializer.serialize(v),w,A);this.events.next(ne);const pe=w8(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:pe,urlAfterRedirects:v,extras:{...$,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=v,At(s)}{const m="";return this.events.next(new Jf(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Bw.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Os}}),nr(l=>{const c=new dce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),st(l=>(this.currentTransition=s={...l,guards:Pce(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function $ce(n,t){return Lr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?At({...e,guardsResult:!0}):function Gce(n,t,e,i){return Yn(n).pipe(Lr(r=>function Xce(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?At(s.map(a=>{const l=S_(t)??r,c=tm(a,l);return Oc(function zce(n){return n&&M_(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):Ts(l,()=>c(n,t,e,i))).pipe(Pc())})).pipe(nm()):At(!0)}(r.component,r.route,e,t,i)),Pc(r=>!0!==r,!0))}(o,i,r,n).pipe(Lr(a=>a&&function Lce(n){return"boolean"==typeof n}(a)?function Wce(n,t,e,i){return Yn(t).pipe(pu(r=>xw(function Kce(n,t){return null!==n&&t&&t(new gce(n)),At(!0)}(r.route.parent,i),function qce(n,t){return null!==n&&t&&t(new vce(n)),At(!0)}(r.route,i),function Qce(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Oce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>hx(()=>At(o.guards.map(l=>{const c=S_(o.node)??e,u=tm(l,c);return Oc(function Uce(n){return n&&M_(n.canActivateChild)}(u)?u.canActivateChild(i,n):Ts(c,()=>u(i,n))).pipe(Pc())})).pipe(nm())));return At(s).pipe(nm())}(n,r.path,e),function Yce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return At(!0);const r=i.map(s=>hx(()=>{const o=S_(t)??e,a=tm(s,o);return Oc(function Bce(n){return n&&M_(n.canActivate)}(a)?a.canActivate(t,n):Ts(o,()=>a(t,n))).pipe(Pc())}));return At(r).pipe(nm())}(n,r.route,e))),Pc(r=>!0!==r,!0))}(i,s,n,t):At(a)),st(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),nr(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw $w(0,l.guardsResult);const c=new uce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Qn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Io.GuardRejected),!1)),Px(l=>{if(l.guards.canActivateChecks.length)return At(l).pipe(nr(c=>{const u=new hce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Gi(c=>{let u=!1;return At(c).pipe(function _de(n,t){return Lr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return At(e);const s=new Set(r.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of L8(l))o.add(c);let a=0;return Yn(o).pipe(pu(l=>s.has(l)?function vde(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!C8(r)&&(s[b_]=r.title),function yde(n,t,e,i){const r=gx(n);if(0===r.length)return At({});const s={};return Yn(r).pipe(Lr(o=>function bde(n,t,e,i){const r=S_(t)??i,s=tm(n,r);return Oc(s.resolve?s.resolve(t,e):Ts(r,()=>s(t,e)))}(n[o],t,e,i).pipe(Pc(),nr(a=>{if(a instanceof Rx)throw $w(new kw,a);s[o]=a}))),px(1),function Nle(n){return st(()=>n)}(s),pa(o=>R8(o)?Os:Yf(o)))}(s,n,t,i).pipe(st(o=>(n._resolvedData=o,n.data=zw(n,n.parent,e).resolve,null)))}(l,i,n,t):(l.data=zw(l,l.parent,n).resolve,At(void 0))),nr(()=>a++),px(1),Lr(l=>a===o.size?At(e):Os))})}(this.paramsInheritanceStrategy,this.environmentInjector),nr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Io.NoDataFromResolver)}}))}),nr(c=>{const u=new fce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Px(l=>{const c=u=>{const m=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(u.routeConfig).pipe(nr(v=>{u.component=v}),st(()=>{})));for(const v of u.children)m.push(...c(v));return m};return mu(c(l.targetSnapshot.root)).pipe(Dw(null),Js(1))}),Px(()=>this.afterPreactivation()),Gi(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Yn(u).pipe(st(()=>s)):At(s)}),st(l=>{const c=function Ace(n,t,e){const i=x_(n,t._root,e?e._root:void 0);return new b8(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),nr(()=>{this.events.next(new Ex)}),((n,t,e,i)=>st(r=>(new kce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Js(1),nr({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ir(this.transitionAbortSubject.pipe(nr(l=>{throw l}))),Rw(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Io.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pa(l=>{if(a=!0,x8(l))this.events.next(new yu(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Rce(n){return x8(n)&&vu(n.url)}(l)?this.events.next(new Uw(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{const c=new wx(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{const u=Ts(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Rx){const{message:m,cancellationCode:v}=$w(0,u);this.events.next(new yu(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new Uw(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);const m=e.errorHandler(l);s.resolve(!!m)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Os}))}))}cancelNavigationTransition(e,i,r){const s=new yu(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ade(n){return n!==T_}let xde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(Rde),providedIn:"root"})}}return n})();class Dde{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Rde=(()=>{class n extends Dde{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:()=>Ue(Mde),providedIn:"root"})}}return n})(),Mde=(()=>{class n extends $8{constructor(){super(...arguments),this.location=Ue(Bf),this.urlSerializer=Ue(Zf),this.options=Ue(rm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ue(Fx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=w8(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Vw)this.stateMemento=this.createStateMemento();else if(e instanceof Jf)this.rawUrlTree=i.initialUrl;else if(e instanceof _8){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof Ex?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof yu&&(e.code===Io.GuardRejected||e.code===Io.NoDataFromResolver)?this.restoreHistory(i):e instanceof wx?this.restoreHistory(i,!0):e instanceof Al&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof gu?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&0===s&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var k_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(k_||{});function G8(n,t){n.events.pipe(Qn(e=>e instanceof Al||e instanceof yu||e instanceof wx||e instanceof Jf),st(e=>e instanceof Al||e instanceof Jf?k_.COMPLETE:e instanceof yu&&(e.code===Io.Redirect||e.code===Io.SupersededByNewNavigation)?k_.REDIRECTING:k_.FAILED),Qn(e=>e!==k_.REDIRECTING),Js(1)).subscribe(()=>{t()})}function kde(n){throw n}const Pde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ode={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Ue(s3),this.stateManager=Ue($8),this.options=Ue(rm,{optional:!0})||{},this.pendingTasks=Ue(Ud),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ue(Yw),this.urlSerializer=Ue(Zf),this.location=Ue(Bf),this.urlHandlingStrategy=Ue(Fx),this._events=new R,this.errorHandler=this.options.errorHandler||kde,this.navigated=!1,this.routeReuseStrategy=Ue(xde),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ue(sm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ue(Hw,{optional:!0}),this.eventsSubscription=new xt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof yu&&i.code!==Io.Redirect&&i.code!==Io.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Al)this.navigated=!0;else if(i instanceof Uw){const o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ade(r.source),...o};this.scheduleNavigation(a,T_,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Fde(n){return!(n instanceof Ex||n instanceof Uw)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),T_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ox),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let m,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{m=d8(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),m=this.currentUrlTree.root}return u8(m,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vu(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,T_,null,i)}navigate(e,i={skipLocationChange:!1}){return function Nde(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new Se(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...Pde}:!1===i?{...Ode}:i,vu(e))return t8(this.currentUrlTree,e,r);const s=this.parseUrl(e);return t8(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((m,v)=>{a=m,l=v});const u=this.pendingTasks.add();return G8(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ba=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new R,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Al&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=vu(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function RO(n,t,e){return function SK(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?DO:xO}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.routerLinkInput?null:vu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(oe(es),oe(Nc),oa("tabindex"),oe(gl),oe(Ht),oe(ru))}}static{this.\u0275dir=et({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Xt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",rn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",rn],replaceUrl:[2,"replaceUrl","replaceUrl",rn],routerLink:"routerLink"},standalone:!0,features:[Ji,Hi]})}}return n})();class W8{}let Bde=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qn(e=>e instanceof Al),pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=n0(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Yn(r).pipe(Kf())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):At(null);const s=r.pipe(Lr(o=>null===o?At(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Yn([s,this.loader.loadComponent(i)]).pipe(Kf()):s})}static{this.\u0275fac=function(i){return new(i||n)(Te(es),Te(g3),Te(Zr),Te(W8),Te(Nx))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Lx=new xe("");let q8=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Al?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Jf&&e.code===Bw.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof v8&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new v8(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Bb()}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();function Ua(n,t){return{\u0275kind:n,\u0275providers:t}}function Y8(){const n=Ue(vi);return t=>{const e=n.get(da);if(t!==e.components[0])return;const i=n.get(es),r=n.get(Q8);1===n.get(Vx)&&i.initialNavigation(),n.get(X8,null,_n.Optional)?.setUpPreloading(),n.get(Lx,null,_n.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Q8=new xe("",{factory:()=>new R}),Vx=new xe("",{providedIn:"root",factory:()=>1}),X8=new xe("");function Hde(n){return Ua(0,[{provide:X8,useExisting:Bde},{provide:W8,useExisting:n}])}function Gde(n){return Ua(9,[{provide:z8,useValue:Tde},{provide:j8,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const Z8=new xe("ROUTER_FORROOT_GUARD"),Wde=[Bf,{provide:Zf,useClass:kw},es,A_,{provide:Nc,useFactory:function K8(n){return n.routerState.root},deps:[es]},Nx,[]];let P_=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Wde,[],{provide:sm,multi:!0,useValue:e},{provide:Z8,useFactory:Qde,deps:[[es,new cr,new il]]},{provide:rm,useValue:i||{}},i?.useHash?{provide:ru,useClass:qne}:{provide:ru,useClass:c5},{provide:Lx,useFactory:()=>{const n=Ue(dre),t=Ue(Et),e=Ue(rm),i=Ue(Yw),r=Ue(Zf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new q8(r,i,n,t,e)}},i?.preloadingStrategy?Hde(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Xde(i):[],i?.bindToComponentInputs?Ua(8,[T8,{provide:Hw,useExisting:T8}]).\u0275providers:[],i?.enableViewTransitions?Gde().\u0275providers:[],[{provide:J8,useFactory:Y8},{provide:I0,multi:!0,useExisting:J8}]]}}static forChild(e){return{ngModule:n,providers:[{provide:sm,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(Te(Z8,8))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();function Qde(n){return"guarded"}function Xde(n){return["disabled"===n.initialNavigation?Ua(3,[{provide:RS,multi:!0,useFactory:()=>{const t=Ue(es);return()=>{t.setUpLocationChangeListener()}}},{provide:Vx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ua(2,[{provide:Vx,useValue:0},{provide:RS,multi:!0,deps:[vi],useFactory:t=>{const e=t.get(Gne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(es),s=t.get(Q8);G8(r,()=>{i(!0)}),t.get(Yw).afterPreactivation=()=>(i(!0),s.closed?At(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const J8=new xe(""),Jde=[{path:"",redirectTo:"login",pathMatch:"full"}];let eue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[P_.forRoot(Jde,{useHash:!0}),P_]})}}return n})(),Qw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Ale,Y6,eue]})}}return n})();function eo(n){return null!=n&&"false"!=`${n}`}function O_(n,t=0){return function e9(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?t:0}function Xw(n){return Array.isArray(n)?n:[n]}function Ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function xl(n){return n instanceof Ht?n.nativeElement:n}const tue=["addListener","removeListener"],nue=["addEventListener","removeEventListener"],iue=["on","off"];function Bx(n,t,e,i){if(dt(e)&&(i=e,e=void 0),i)return Bx(n,t,e).pipe(GA(i));const[r,s]=function oue(n){return dt(n.addEventListener)&&dt(n.removeEventListener)}(n)?nue.map(o=>a=>n[o](t,a,e)):function rue(n){return dt(n.addListener)&&dt(n.removeListener)}(n)?tue.map(t9(n,t)):function sue(n){return dt(n.on)&&dt(n.off)}(n)?iue.map(t9(n,t)):[];if(!r&&jA(n))return Lr(o=>Bx(o,t,e))(Sr(n));if(!r)throw new TypeError("Invalid event target");return new gn(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function t9(n,t){return e=>i=>n[e](t,i)}class aue extends xt{constructor(t,e){super()}schedule(t,e=0){return this}}const Zw={setInterval(n,t,...e){const{delegate:i}=Zw;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Zw;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Jw extends aue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Zw.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Zw.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,an(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const N_={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=N_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new xt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=N_;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=N_;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Ux={now:()=>(Ux.delegate||Date).now(),delegate:void 0};class F_{constructor(t,e=F_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}F_.now=Ux.now;class eE extends F_{constructor(t,e=F_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class cue extends eE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class lue extends Jw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=N_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(N_.cancelAnimationFrame(e),t._scheduled=void 0)}});let zx,uue=1;const tE={};function n9(n){return n in tE&&(delete tE[n],!0)}const hue={setImmediate(n){const t=uue++;return tE[t]=!0,zx||(zx=Promise.resolve()),zx.then(()=>n9(t)&&n()),t},clearImmediate(n){n9(n)}},{setImmediate:fue,clearImmediate:mue}=hue,nE={setImmediate(...n){const{delegate:t}=nE;return(t?.setImmediate||fue)(...n)},clearImmediate(n){const{delegate:t}=nE;return(t?.clearImmediate||mue)(n)},delegate:void 0},om=(new class gue extends eE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class pue extends Jw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(nE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),new eE(Jw)),vue=om;function i9(n){return n instanceof Date&&!isNaN(n)}function r9(n,t=om){return function yue(n){return Ke((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(ct(e,c=>{i=!0,r=c,s||Sr(n(c)).subscribe(s=ct(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function bue(n=0,t,e=vue){let i=-1;return null!=t&&($V(t)?e=t:i=t),new gn(r=>{let s=i9(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let jx;try{jx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jx=!1}let am,Ni=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?x5(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(Te(No))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const s9=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function o9(){if(am)return am;if("object"!=typeof document||!document)return am=new Set(s9),am;let n=document.createElement("input");return am=new Set(s9.filter(t=>(n.setAttribute("type",t),n.type===t))),am}let L_,bu,Hx;function lm(n){return function wue(){if(null==L_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>L_=!0}))}finally{L_=L_||!1}return L_}()?n:!!n.capture}function Eue(){if(null==bu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bu=!1,bu;if("scrollBehavior"in document.documentElement.style)bu=!0;else{const n=Element.prototype.scrollTo;bu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bu}function za(n){return n.composedPath?n.composedPath()[0]:n.target}function $x(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Sue=new xe("cdk-dir-doc",{providedIn:"root",factory:function Aue(){return Ue(Sn)}}),xue=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wu=(()=>{class n{constructor(e){this.value="ltr",this.change=new nn,e&&(this.value=function Due(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?xue.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(Te(Sue,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),B_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),Mue=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new R,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new gn(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(r9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):At()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Qn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=xl(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Te(Et),Te(Ni),Te(Sn,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new R,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(r9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(Te(Ni),Te(Et),Te(Sn,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),Gx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[B_,cm,B_,cm]})}}return n})();function Eu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function sE(n,t=om){return Ke((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(ct(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Yx(n){return Qn((t,e)=>n<=e)}function oE(n,t=Br){return n=n??que,Ke((e,i)=>{let r,s=!0;e.subscribe(ct(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function que(n,t){return n===t}const d9=new Set;let Iu,Kue=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Que}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yue(n,t){if(!d9.has(n))try{Iu||(Iu=document.createElement("style"),t&&Iu.setAttribute("nonce",t),Iu.setAttribute("type","text/css"),document.head.appendChild(Iu)),Iu.sheet&&(Iu.sheet.insertRule(`@media ${n} {body{ }}`,0),d9.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(Ni),Te(A1,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Que(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let u9=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new R}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return h9(Xw(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=mu(h9(Xw(e)).map(o=>this._registerQuery(o).observable));return s=xw(s.pipe(Js(1)),s.pipe(Yx(1),sE(0))),s.pipe(st(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new gn(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Sl(i),st(({matches:o})=>({query:e,matches:o})),ir(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||n)(Te(Kue),Te(Et))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h9(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function m9(n,t,e){const i=p9(n,t);e=e.trim();const r=i.filter(s=>s!==e);r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function p9(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class g9{constructor(t,e){this._letterKeyStream=new R,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new R,this.selectedItem=this._selectedItem;const i="number"==typeof e?.debounceInterval?e.debounceInterval:200;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){const e=t.keyCode;t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(nr(e=>this._pressedLetters.push(e)),sE(t),Qn(()=>this._pressedLetters.length>0),st(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){const s=this._items[(this._selectedItemIndex+i)%this._items.length];if(!this._skipPredicateFn?.(s)&&0===s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)){this._selectedItem.next(s);break}}this._pressedLetters=[]})}}class _9{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=xa(null),this._wrap=!1,this._typeaheadSubscription=xt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new R,this.change=new R,t instanceof zd?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Jb(t)&&(this._effectRef=function s5(n,t){As("NgSignals"),!t?.injector&&Pi();const e=t?.injector??Ue(vi),i=!0!==t?.manualCleanup?e.get(Bd):null,r=new zne(e.get(Vne),n,typeof Zone>"u"?null:Zone.current,i,e,t?.allowSignalWrites??!1),s=e.get(Ir,null,{optional:!0});return s&&8&s._lView[Vt]?(s._lView[xd]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();const e=this._getItemsArray();return this._typeahead=new g9(e,{debounceInterval:"number"==typeof t?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Eu(t,"shiftKey"))&&this._typeahead?.handleKey(t))}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem.set(e[i]??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return Jb(this._items)?this._items():this._items instanceof zd?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);const e=this._activeItem();if(e){const i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}}class nhe extends _9{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class v9 extends _9{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function E9(n){return 0===n.buttons||0===n.detail}function I9(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const hhe=new xe("cdk-input-modality-detector-options"),fhe={ignoreKeys:[18,17,224,91,16]},dm=lm({passive:!0,capture:!0});let mhe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new me(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=za(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(E9(o)?"keyboard":"mouse"),this._mostRecentTarget=za(o))},this._onTouchstart=o=>{I9(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=za(o))},this._options={...fhe,...s},this.modalityDetected=this._modality.pipe(Yx(1)),this.modalityChanged=this.modalityDetected.pipe(oE()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dm),r.addEventListener("mousedown",this._onMousedown,dm),r.addEventListener("touchstart",this._onTouchstart,dm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dm),document.removeEventListener("mousedown",this._onMousedown,dm),document.removeEventListener("touchstart",this._onTouchstart,dm))}static{this.\u0275fac=function(i){return new(i||n)(Te(Ni),Te(Et),Te(Sn),Te(hhe,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const phe=new xe("liveAnnouncerElement",{providedIn:"root",factory:function ghe(){return null}}),_he=new xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let vhe=0,T9=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+vhe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(Te(phe,8),Te(Et),Te(Sn),Te(_he,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var aE=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(aE||{});const yhe=new xe("cdk-focus-monitor-default-options"),lE=lm({passive:!0,capture:!0});let Qx=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new R,this._rootNodeFocusAndBlurListener=a=>{for(let c=za(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||aE.IMMEDIATE}monitor(e,i=!1){const r=xl(e);if(!this._platform.isBrowser||1!==r.nodeType)return At();const s=function Cue(n){if(function Iue(){if(null==Hx){const n=typeof document<"u"?document.head:null;Hx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Hx}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new R,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=xl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=xl(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===aE.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===aE.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=za(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,lE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,lE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ir(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(Te(Et),Te(Ni),Te(mhe),Te(Sn,8),Te(yhe,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Cu||{});const S9="cdk-high-contrast-black-on-white",A9="cdk-high-contrast-white-on-black",Xx="cdk-high-contrast-active";let bhe=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ue(u9).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Cu.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Cu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Cu.BLACK_ON_WHITE}return Cu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Xx,S9,A9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Cu.BLACK_ON_WHITE?e.add(Xx,S9):i===Cu.WHITE_ON_BLACK&&e.add(Xx,A9)}}static{this.\u0275fac=function(i){return new(i||n)(Te(Ni),Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const whe=["text"],Ehe=[[["mat-icon"]],"*"],Ihe=["mat-icon","*"];function Che(n,t){if(1&n&&Zt(0,"mat-pseudo-checkbox",1),2&n){const e=$t();Tt("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function The(n,t){1&n&&Zt(0,"mat-pseudo-checkbox",3),2&n&&Tt("disabled",$t().disabled)}function She(n,t){if(1&n&&(Fe(0,"span",4),_t(1),He()),2&n){const e=$t();it(),Lo("(",e.group.label,")")}}const Ahe=["mat-internal-form-field",""],xhe=["*"],Rhe=new xe("mat-sanity-checks",{providedIn:"root",factory:function Dhe(){return!0}});let Pn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!$x()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(Te(bhe),Te(Rhe,8),Te(Sn))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[B_,B_]})}}return n})();class Zx{constructor(t,e,i,r,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}}let R9=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Pn]})}}return n})();var to=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(to||{});class Fhe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=to.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const k9=lm({passive:!0,capture:!0});class Lhe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=za(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,k9)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,k9)))}}const P9={enterDuration:225,exitDuration:150},O9=lm({passive:!0,capture:!0}),N9=["mousedown","touchstart"],F9=["mouseup","mouseleave","touchend","touchcancel"];class H_{static{this._eventManager=new Lhe}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...P9,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function Bhe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const m=window.getComputedStyle(u),w=m.transitionDuration,A="none"===m.transitionProperty||"0s"===w||"0s, 0s"===w||0===r.width&&0===r.height,$=new Fhe(this,u,i,A);u.style.transform="scale3d(1, 1, 1)",$.state=to.FADING_IN,i.persistent||(this._mostRecentTransientRipple=$);let ne=null;return!A&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pe=()=>{ne&&(ne.fallbackTimer=null),clearTimeout(Oe),this._finishRippleTransition($)},ge=()=>this._destroyRipple($),Oe=setTimeout(ge,c+100);u.addEventListener("transitionend",pe),u.addEventListener("transitioncancel",ge),ne={onTransitionEnd:pe,onTransitionCancel:ge,fallbackTimer:Oe}}),this._activeRipples.set($,ne),(A||!c)&&this._finishRippleTransition($),$}fadeOutRipple(t){if(t.state===to.FADING_OUT||t.state===to.HIDDEN)return;const e=t.element,i={...P9,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=to.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=xl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,N9.forEach(i=>{H_._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{F9.forEach(e=>{this._triggerElement.addEventListener(e,this,O9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===to.FADING_IN?this._startFadeOutTransition(t):t.state===to.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=to.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=to.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=E9(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!I9(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===to.VISIBLE||t.config.terminateOnPointerUp&&t.state===to.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(N9.forEach(e=>H_._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(F9.forEach(e=>t.removeEventListener(e,this,O9)),this._pointerUpEventsRegistered=!1))}}const $_=new xe("mat-ripple-global-options");let G_=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new H_(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Et),oe(Ni),oe($_,8),oe(fs,8))}}static{this.\u0275dir=et({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),W_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Pn]})}}return n})(),Uhe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Cn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[xn],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),L9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn]})}}return n})();const V9=new xe("MAT_OPTION_PARENT_COMPONENT"),B9=new xe("MatOptgroup");let zhe=0;class jhe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Jx=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+zhe++,this.onSelectionChange=new nn,this._stateChanges=new R}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Eu(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new jhe(this,e))}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ir),oe(V9,8),oe(B9,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&wi(whe,7),2&i){let s;Wt(s=qt())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Xt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(tu("id",r.id),kn("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Cn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",rn]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Ji,xn],ngContentSelectors:Ihe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&($i(Ehe),Ot(0,Che,1,2,"mat-pseudo-checkbox",1),Gt(1),Fe(2,"span",2,0),Gt(4,1),He(),Ot(5,The,1,1,"mat-pseudo-checkbox",3)(6,She,2,1,"span",4),Zt(7,"div",5)),2&i&&($n(r.multiple?0:-1),it(5),$n(r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),it(),$n(r.group&&r.group._inert?6:-1),it(),Tt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Uhe,G_],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),eD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[W_,Pn,L9]})}}return n})();const U9={capture:!0},z9=["focus","mousedown","mouseenter","touchstart"],tD="mat-ripple-loader-uninitialized",nD="mat-ripple-loader-class-name",j9="mat-ripple-loader-centered",cE="mat-ripple-loader-disabled";let Ghe=(()=>{class n{constructor(){this._document=Ue(Sn,{optional:!0}),this._animationMode=Ue(fs,{optional:!0}),this._globalRippleOptions=Ue($_,{optional:!0}),this._platform=Ue(Ni),this._ngZone=Ue(Et),this._hosts=new Map,this._onInteraction=e=>{const i=za(e);if(i instanceof HTMLElement){const r=i.closest(`[${tD}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of z9)this._document?.addEventListener(e,this._onInteraction,U9)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of z9)this._document?.removeEventListener(i,this._onInteraction,U9)}configureRipple(e,i){e.setAttribute(tD,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(nD))&&e.setAttribute(nD,i.className||""),i.centered&&e.setAttribute(j9,""),i.disabled&&e.setAttribute(cE,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(cE,""):e.removeAttribute(cE)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(nD)),e.append(r);const s=new G_(new Ht(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(j9),s.disabled=e.hasAttribute(cE),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(tD),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Whe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hn({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[xn],attrs:Ahe,ngContentSelectors:xhe,decls:1,vars:0,template:function(i,r){1&i&&($i(),Gt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})(),Khe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,cm,cm,Pn]})}}return n})(),iD=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=eo(e)}get inset(){return this._inset}set inset(e){this._inset=eo(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(kn("aria-orientation",r.vertical?"vertical":"horizontal"),Cn("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[xn],decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return n})(),H9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Pn]})}}return n})();const Yhe=["*",[["mat-toolbar-row"]]],Qhe=["*","mat-toolbar-row"];let $9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),Xhe=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ni),oe(Sn))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&di(s,$9,5),2&i){let o;Wt(o=qt())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Ma(r.color?"mat-"+r.color:""),Cn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[xn],ngContentSelectors:Qhe,decls:2,vars:0,template:function(i,r){1&i&&($i(Yhe),Gt(0),Gt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),Zhe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Pn]})}}return n})();const G9=lm({passive:!0});let Jhe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Os;const i=xl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new R,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,G9),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,G9)}}),s}stopMonitoring(e){const i=xl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(Te(Ni),Te(Et))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),efe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();function no(...n){const t=c_(n),e=function Dae(n,t){return"number"==typeof HA(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Sr(i[0]):Kf(e)(Yn(i,t)):Os}class W9 extends R{constructor(t=1/0,e=1/0,i=Ux){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function rD(n={}){const{connector:t=()=>new R,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,m=!1;const v=()=>{a?.unsubscribe(),a=void 0},w=()=>{v(),o=l=void 0,u=m=!1},A=()=>{const $=o;w(),$?.unsubscribe()};return Ke(($,ne)=>{c++,!m&&!u&&v();const pe=l=l??t();ne.add(()=>{c--,0===c&&!m&&!u&&(a=sD(A,r))}),pe.subscribe(ne),!o&&c>0&&(o=new Mi({next:ge=>pe.next(ge),error:ge=>{m=!0,v(),a=sD(w,e,ge),pe.error(ge)},complete:()=>{u=!0,v(),a=sD(w,i),pe.complete()}}),Sr($).subscribe(o))})(s)}}function sD(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Mi({next:()=>{i.unsubscribe(),n()}});return Sr(t(...e)).subscribe(i)}function oD(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,rD({connector:()=>new W9(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class tfe{constructor(t){this._box=t,this._destroyed=new R,this._resizeSubject=new R,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new gn(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Qn(e=>e.some(i=>i.target===t)),oD({bufferSize:1,refCount:!0}),ir(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let nfe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ue(Et)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new tfe(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),q9=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),K9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[q9]})}}return n})();const ofe=["notch"],afe=["matFormFieldNotchedOutline",""],lfe=["*"],cfe=["textField"],dfe=["iconPrefixContainer"],ufe=["textPrefixContainer"],hfe=["iconSuffixContainer"],ffe=["textSuffixContainer"],mfe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pfe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function gfe(n,t){1&n&&Zt(0,"span",21)}function _fe(n,t){if(1&n&&(Fe(0,"label",20),Gt(1,1),Ot(2,gfe,1,0,"span",21),He()),2&n){const e=$t(2);Tt("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),kn("for",e._control.disableAutomaticLabeling?null:e._control.id),it(2),$n(!e.hideRequiredMarker&&e._control.required?2:-1)}}function vfe(n,t){1&n&&Ot(0,_fe,3,5,"label",20),2&n&&$n($t()._hasFloatingLabel()?0:-1)}function yfe(n,t){1&n&&Zt(0,"div",7)}function bfe(n,t){}function wfe(n,t){1&n&&Ot(0,bfe,0,0,"ng-template",13),2&n&&($t(2),Tt("ngTemplateOutlet",ca(1)))}function Efe(n,t){if(1&n&&(Fe(0,"div",9),Ot(1,wfe,1,1,null,13),He()),2&n){const e=$t();Tt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),it(),$n(e._forceDisplayInfixLabel()?-1:1)}}function Ife(n,t){1&n&&(Fe(0,"div",10,2),Gt(2,2),He())}function Cfe(n,t){1&n&&(Fe(0,"div",11,3),Gt(2,3),He())}function Tfe(n,t){}function Sfe(n,t){1&n&&Ot(0,Tfe,0,0,"ng-template",13),2&n&&($t(),Tt("ngTemplateOutlet",ca(1)))}function Afe(n,t){1&n&&(Fe(0,"div",14,4),Gt(2,4),He())}function xfe(n,t){1&n&&(Fe(0,"div",15,5),Gt(2,5),He())}function Dfe(n,t){1&n&&Zt(0,"div",16)}function Rfe(n,t){1&n&&(Fe(0,"div",18),Gt(1,6),He()),2&n&&Tt("@transitionMessages",$t()._subscriptAnimationState)}function Mfe(n,t){if(1&n&&(Fe(0,"mat-hint",22),_t(1),He()),2&n){const e=$t(2);Tt("id",e._hintLabelId),it(),_o(e.hintLabel)}}function kfe(n,t){if(1&n&&(Fe(0,"div",19),Ot(1,Mfe,2,2,"mat-hint",22),Gt(2,7),Zt(3,"div",23),Gt(4,8),He()),2&n){const e=$t();Tt("@transitionMessages",e._subscriptAnimationState),it(),$n(e.hintLabel?1:-1)}}let Tu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})(),Pfe=0;const Y9=new xe("MatError");let aD=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+Pfe++,e||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||n)(oa("aria-live"),oe(Ht))}}static{this.\u0275dir=et({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&tu("id",r.id)},inputs:{id:"id"},standalone:!0,features:[Bt([{provide:Y9,useExisting:n}])]})}}return n})(),Ofe=0,Q9=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ofe++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(tu("id",r.id),kn("align",null),Cn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})();const Nfe=new xe("MatPrefix"),X9=new xe("MatSuffix");let Z9=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[Bt([{provide:X9,useExisting:n}])]})}}return n})();const J9=new xe("FloatingLabelParent");let e7=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ue(nfe),this._ngZone=Ue(Et),this._parent=Ue(J9),this._resizeSubscription=new xt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Ffe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht))}}static{this.\u0275dir=et({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();const t7="mdc-line-ripple--active",dE="mdc-line-ripple--deactivating";let n7=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(dE);"opacity"===r.propertyName&&o&&s.remove(t7,dE)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(dE),e.add(t7)}deactivate(){this._elementRef.nativeElement.classList.add(dE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Et))}}static{this.\u0275dir=et({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),i7=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Et))}}static{this.\u0275cmp=hn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&wi(ofe,5),2&i){let s;Wt(s=qt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[xn],attrs:afe,ngContentSelectors:lfe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&($i(),Zt(0,"div",1),Fe(1,"div",2,0),Gt(3),He(),Zt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const Lfe={transitionMessages:Cl("transitionMessages",[zo("enter",pr({opacity:1,transform:"translateY(0%)"})),bo("void => enter",[pr({opacity:0,transform:"translateY(-5px)"}),Uo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n})}}return n})();const cD=new xe("MatFormField"),Vfe=new xe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let r7=0,q_=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=eo(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._labelChild=sX(Tu),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+r7++,this._hintLabelId="mat-mdc-hint-"+r7++,this._subscriptAnimationState="",this._destroyed=new R,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Ue(vi),this.getLabelId=vl(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=vl(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){const i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(ir(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),no(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),GT(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(ir(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${a+l+c+u}px)`)}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ir),oe(Et),oe(wu),oe(Ni),oe(Vfe,8),oe(fs,8),oe(Sn))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(f4(s,r._labelChild,Tu,5),di(s,lD,5),di(s,Nfe,5),di(s,X9,5),di(s,Y9,5),di(s,Q9,5)),2&i){let o;(function m4(n=1){h(d()+n)})(),Wt(o=qt())&&(r._formFieldControl=o.first),Wt(o=qt())&&(r._prefixChildren=o),Wt(o=qt())&&(r._suffixChildren=o),Wt(o=qt())&&(r._errorChildren=o),Wt(o=qt())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(wi(cfe,5),wi(dfe,5),wi(ufe,5),wi(hfe,5),wi(ffe,5),wi(e7,5),wi(i7,5),wi(n7,5)),2&i){let s;Wt(s=qt())&&(r._textField=s.first),Wt(s=qt())&&(r._iconPrefixContainer=s.first),Wt(s=qt())&&(r._textPrefixContainer=s.first),Wt(s=qt())&&(r._iconSuffixContainer=s.first),Wt(s=qt())&&(r._textSuffixContainer=s.first),Wt(s=qt())&&(r._floatingLabel=s.first),Wt(s=qt())&&(r._notchedOutline=s.first),Wt(s=qt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Cn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Bt([{provide:cD,useExisting:n},{provide:J9,useExisting:n}]),xn],ngContentSelectors:pfe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const s=Nr();$i(mfe),Ot(0,vfe,1,1,"ng-template",null,0,Gg),Fe(2,"div",6,1),Xt("click",function(a){return li(s),ci(r._control.onContainerClick(a))}),Ot(4,yfe,1,0,"div",7),Fe(5,"div",8),Ot(6,Efe,2,2,"div",9)(7,Ife,3,0,"div",10)(8,Cfe,3,0,"div",11),Fe(9,"div",12),Ot(10,Sfe,1,1,null,13),Gt(11),He(),Ot(12,Afe,3,0,"div",14)(13,xfe,3,0,"div",15),He(),Ot(14,Dfe,1,0,"div",16),He(),Fe(15,"div",17),Ot(16,Rfe,2,1,"div",18)(17,kfe,5,2,"div",19),He()}if(2&i){let s;it(2),Cn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),it(2),$n(r._hasOutline()||r._control.disabled?-1:4),it(2),$n(r._hasOutline()?6:-1),it(),$n(r._hasIconPrefix?7:-1),it(),$n(r._hasTextPrefix?8:-1),it(2),$n(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),it(2),$n(r._hasTextSuffix?12:-1),it(),$n(r._hasIconSuffix?13:-1),it(),$n(r._hasOutline()?-1:14),it(),Cn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),it(),$n("error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[e7,i7,tA,n7,Q9],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Lfe.transitionMessages]},changeDetection:0})}}return n})(),dD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,El,K9,Pn]})}}return n})();const zfe=new xe("MAT_INPUT_VALUE_ACCESSOR"),jfe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Hfe=0,uD=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=eo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ho.required)??!1}set required(e){this._required=eo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&o9().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=eo(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,u,m){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=c,this._ngZone=u,this._formField=m,this._uid="mat-input-"+Hfe++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new R,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>o9().has(A)),this._iOSKeyupListener=A=>{const $=A.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const v=this._elementRef.nativeElement,w=v.nodeName.toLowerCase();this._inputValueAccessor=l||v,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Zx(a,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===w,this._isTextarea="textarea"===w,this._isInFormField=!!m,this._isNativeSelect&&(this.controlType=v.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){jfe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ni),oe(Fa,10),oe(g_,8),oe(kc,8),oe(R9),oe(zfe,10),oe(Jhe),oe(Et),oe(cD,8))}}static{this.\u0275dir=et({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Xt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(tu("id",r.id)("disabled",r.disabled)("required",r.required),kn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Cn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Bt([{provide:lD,useExisting:n}]),Hi]})}}return n})(),$fe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,dD,dD,efe,Pn]})}}return n})();const Gfe=["*"],Kfe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Yfe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Qfe=new xe("MAT_CARD_CONFIG");let Su=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(oe(Qfe,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[xn],ngContentSelectors:Gfe,decls:1,vars:0,template:function(i,r){1&i&&($i(),Gt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),Au=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})(),xu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[xn],ngContentSelectors:Yfe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&($i(Kfe),Gt(0),Fe(1,"div",0),Gt(2,1),He(),Gt(3,2))},encapsulation:2,changeDetection:0})}}return n})(),uE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}}return n})(),tme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,El,Pn]})}}return n})();class hD{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class fD extends hD{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class hE extends hD{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ime extends hD{constructor(t){super(),this.element=t instanceof Ht?t.nativeElement:t}}class mD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof fD?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ime?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rme extends mD{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||vi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let pD=(()=>{class n extends mD{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new nn,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(oe(gf),oe(Pr),oe(Sn))}}static{this.\u0275dir=et({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Rt]})}}return n})(),gD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();const a7=Eue();class sme{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ar(-this._previousScrollPosition.left),t.style.top=Ar(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),a7&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),a7&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class ome{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Qn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class l7{enable(){}disable(){}attach(){}}function _D(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function c7(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ame{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_D(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lme=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new l7,this.close=o=>new ome(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new sme(this._viewportRuler,this._document),this.reposition=o=>new ame(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(Te(Mue),Te(rE),Te(Et),Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class vD{constructor(t){if(this.scrollStrategy=new l7,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class cme{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let d7=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dme=(()=>{class n extends d7{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn),Te(Et,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ume=(()=>{class n extends d7{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=za(s)},this._clickListener=s=>{const o=za(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u7(u.overlayElement,o)||u7(u.overlayElement,a))break;const m=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn),Te(Ni),Te(Et,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function u7(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let h7=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||$x()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),$x()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(Te(Sn),Te(Ni))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class hme{constructor(t,e,i,r,s,o,a,l,c,u=!1,m){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=m,this._backdropElement=null,this._backdropClick=new R,this._attachments=new R,this._detachments=new R,this._locationChanges=xt.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new R,this._outsidePointerEvents=new R,this._renders=new R,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=ua(()=>GT(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Zd(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ar(this._config.width),t.height=Ar(this._config.height),t.minWidth=Ar(this._config.minWidth),t.minHeight=Ar(this._config.minHeight),t.maxWidth=Ar(this._config.maxWidth),t.maxHeight=Ar(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Xw(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(ir(no(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const f7="cdk-overlay-connected-position-bounding-box",fme=/([A-Za-z%]+)$/;class mme{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new R,this._resizeSubscription=xt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(f7),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Du(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(f7),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?o:a}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=p7(e);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let v=0-a,w=a+s.height-i.height,A=this._subtractOverflows(s.width,0-o,o+s.width-i.width),$=this._subtractOverflows(s.height,v,w),ne=A*$;return{visibleArea:ne,isCompletelyWithinViewport:s.width*s.height===ne,fitsInViewportVertically:$===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=m7(this._overlayRef.getConfig().minHeight),a=m7(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=p7(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0);let u=0,m=0;return u=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,m=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:u,y:m},{x:t.x+u,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function pme(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new cme(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,m,v;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const w=Math.min(i.bottom-t.y+i.top,t.y),A=this._lastBoundingBoxSize.height;s=2*w,o=t.y-w,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-A/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)v=i.width-t.x+2*this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)m=t.x,u=i.right-t.x;else{const w=Math.min(i.right-t.x+i.left,t.x),A=this._lastBoundingBoxSize.width;u=2*w,m=t.x-w,u>A&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-A/2)}return{top:o,left:m,bottom:a,right:v,width:u,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Ar(i.height),r.top=Ar(i.top),r.bottom=Ar(i.bottom),r.width=Ar(i.width),r.left=Ar(i.left),r.right=Ar(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ar(s)),o&&(r.maxWidth=Ar(o))}this._lastBoundingBoxSize=i,Du(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Du(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Du(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Du(i,this._getExactOverlayY(e,t,u)),Du(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Ar(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Ar(o.maxWidth):s&&(i.maxWidth="")),Du(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ar(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ar(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:c7(t,i),isOriginOutsideView:_D(t,i),isOverlayClipped:c7(e,i),isOverlayOutsideView:_D(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Xw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ht)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Du(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function m7(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(fme);return e&&"px"!==e?null:parseFloat(t)}return n||null}function p7(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const g7="cdk-global-overlay-wrapper";class gme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(g7),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,m=this._xOffset,v="rtl"===this._overlayRef.getConfig().direction;let w="",A="",$="";l?$="flex-start":"center"===u?($="center",v?A=m:w=m):v?"left"===u||"end"===u?($="flex-end",w=m):("right"===u||"start"===u)&&($="flex-start",A=m):"left"===u||"start"===u?($="flex-start",w=m):("right"===u||"end"===u)&&($="flex-end",A=m),t.position=this._cssPosition,t.marginLeft=l?"0":w,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":A,e.justifyContent=$,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(g7),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let _me=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new gme}flexibleConnectedTo(e){return new mme(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(Te(rE),Te(Sn),Te(Ni),Te(h7))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vme=0,Dl=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,m,v,w){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=m,this._outsideClickDispatcher=v,this._animationsModuleType=w}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new vD(e);return o.direction=o.direction||this._directionality.value,new hme(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(Zr))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+vme++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(da)),new rme(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(Te(lme),Te(h7),Te(gf),Te(_me),Te(dme),Te(vi),Te(Et),Te(Sn),Te(wu),Te(Bf),Te(ume),Te(fs,8))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const yme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_7=new xe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ue(Dl);return()=>n.scrollStrategies.reposition()}});let fE=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht))}}static{this.\u0275dir=et({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),v7=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._backdropSubscription=xt.EMPTY,this._attachSubscription=xt.EMPTY,this._detachSubscription=xt.EMPTY,this._positionSubscription=xt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=Ue(Et),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new nn,this.positionChange=new nn,this.attach=new nn,this.detach=new nn,this.overlayKeydown=new nn,this.overlayOutsideClick=new nn,this._templatePortal=new hE(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=yme);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Eu(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),s=za(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new vD({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof fE?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fE?this.origin.elementRef.nativeElement:this.origin instanceof Ht?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function nme(n,t=!1){return Ke((e,i)=>{let r=0;e.subscribe(ct(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe(Dl),oe(Er),oe(Pr),oe(_7),oe(wu,8))}}static{this.\u0275dir=et({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",rn],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",rn],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",rn],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",rn],push:[2,"cdkConnectedOverlayPush","push",rn],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",rn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ji,Hi]})}}return n})();const wme={provide:_7,deps:[Dl],useFactory:function bme(n){return()=>n.scrollStrategies.reposition()}};let yD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[Dl,wme],imports:[B_,gD,Gx,Gx]})}}return n})();const Tme={provide:new xe("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ue(Dl);return()=>n.scrollStrategies.reposition()}}),deps:[Dl],useFactory:function Cme(n){return()=>n.scrollStrategies.reposition()}};let Sme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[Tme],imports:[El,W_,Pn,yD,cm,Pn]})}}return n})();class bD{}class Rl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ame{encodeKey(t){return b7(t)}encodeValue(t){return b7(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Dme=/%(\d[a-f0-9])/gi,Rme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function b7(n){return encodeURIComponent(n).replace(Dme,(t,e)=>Rme[e]??t)}function mE(n){return`${n}`}class Fc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ame,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xme(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(mE):[mE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(mE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(mE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Mme{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function w7(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function E7(n){return typeof Blob<"u"&&n instanceof Blob}function I7(n){return typeof FormData<"u"&&n instanceof FormData}class K_{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kme(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Rl,this.context??=new Mme,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Fc,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||w7(this.body)||E7(this.body)||I7(this.body)||function Pme(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||I7(this.body)?null:E7(this.body)?this.body.type||null:w7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((v,w)=>v.set(w,t.setHeaders[w]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((v,w)=>v.set(w,t.setParams[w]),u)),new K_(e,i,o,{params:u,headers:c,context:m,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}}var ED=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ED||{});class ID{constructor(t,e=200,i="OK"){this.headers=t.headers||new Rl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Y_ extends ID{constructor(t={}){super(t),this.type=ED.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Y_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function CD(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let TD=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof K_)s=e;else{let l,c;l=r.headers instanceof Rl?r.headers:new Rl(r.headers),r.params&&(c=r.params instanceof Fc?r.params:new Fc({fromObject:r.params})),s=new K_(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=At(s).pipe(pu(l=>this.handler.handle(l)));if(e instanceof K_||"events"===r.observe)return o;const a=o.pipe(Qn(l=>l instanceof Y_));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(st(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(st(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(st(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(st(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Fc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,CD(r,i))}post(e,i,r={}){return this.request("POST",e,CD(r,i))}put(e,i,r={}){return this.request("PUT",e,CD(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Te(bD))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const spe=["*"];let _E;function Q_(n){return function ope(){if(void 0===_E&&(_E=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(_E=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return _E}()?.createHTML(n)||n}function B7(n){return Error(`Unable to find icon with the name "${n}"`)}function U7(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function z7(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let vE=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Mu(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const o=this._sanitizer.sanitize(Jr.HTML,r);if(!o)throw z7(r);const a=Q_(o);return this._addSvgIconConfig(e,i,new Mu("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Mu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Jr.HTML,i);if(!s)throw z7(i);const o=Q_(s);return this._addSvgIconSetConfig(e,new Mu("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Jr.RESOURCE_URL,e);if(!i)throw U7(e);const r=this._cachedIconsByUrl.get(i);return r?At(yE(r)):this._loadSvgIconFromConfig(new Mu(e,null)).pipe(nr(s=>this._cachedIconsByUrl.set(i,s)),st(s=>yE(s)))}getNamedSvgIcon(e,i=""){const r=j7(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):Yf(B7(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?At(yE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(st(i=>yE(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?At(r):WV(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(pa(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Jr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),At(null)})))).pipe(st(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw B7(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(nr(i=>e.svgText=i),st(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?At(null):this._fetchIcon(e).pipe(nr(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Q_("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Q_("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function ape(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Jr.RESOURCE_URL,i);if(!o)throw U7(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(st(c=>Q_(c)),Rw(()=>this._inProgressUrlFetches.delete(o)),rD());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(j7(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return cpe(s)?new Mu(s.url,null,s.options):new Mu(s,null)}}static{this.\u0275fac=function(i){return new(i||n)(Te(TD,8),Te(pA),Te(Sn,8),Te(Ss))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yE(n){return n.cloneNode(!0)}function j7(n,t){return n+":"+t}function cpe(n){return!(!n.url||!n.options)}const dpe=new xe("MAT_ICON_DEFAULT_OPTIONS"),upe=new xe("mat-icon-location",{providedIn:"root",factory:function hpe(){const n=Ue(Sn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),H7=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],fpe=H7.map(n=>`[${n}]`).join(", "),mpe=/^url\(['"]?#(.*?)['"]?\)$/;let um=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,o,a){this._elementRef=e,this._iconRegistry=i,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xt.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(fpe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)H7.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(mpe):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Js(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(vE),oa("aria-hidden"),oe(upe),oe(Ss),oe(dpe,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(kn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ma(r.color?"mat-"+r.color:""),Cn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",rn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ji,xn],ngContentSelectors:spe,decls:1,vars:0,template:function(i,r){1&i&&($i(),Gt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),ppe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Pn]})}}return n})();const $7=["mat-button",""],G7=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],W7=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],q7=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",_pe=["mat-icon-button",""],vpe=["*"],ype=new xe("MAT_BUTTON_CONFIG"),bpe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let xD=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,s){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=Ue(Qx),this._rippleLoader=Ue(Ghe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=Ue(ype,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=o?.disabledInteractive??!1,this.color=o?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:u}of bpe)a.hasAttribute(c)&&l.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){Bb()}}static{this.\u0275dir=et({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",rn],disabled:[2,"disabled","disabled",rn],ariaDisabled:[2,"aria-disabled","ariaDisabled",rn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",rn]},features:[Ji]})}}return n})(),wpe=(()=>{class n extends xD{constructor(e,i,r,s){super(e,i,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:this.disabled||null}static{this.\u0275fac=function(i){Bb()}}static{this.\u0275dir=et({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:vo(e)]},features:[Ji,Rt]})}}return n})(),ku=(()=>{class n extends xD{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ni),oe(Et),oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(kn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ma(r.color?"mat-"+r.color:""),Cn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Rt,xn],attrs:$7,ngContentSelectors:W7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&($i(G7),Zt(0,"span",0),Gt(1),Fe(2,"span",1),Gt(3,1),He(),Gt(4,2),Zt(5,"span",2)(6,"span",3)),2&i&&Cn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),DD=(()=>{class n extends wpe{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ni),oe(Et),oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,r){2&i&&(kn("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getAriaDisabled()),Ma(r.color?"mat-"+r.color:""),Cn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Rt,xn],attrs:$7,ngContentSelectors:W7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&($i(G7),Zt(0,"span",0),Gt(1),Fe(2,"span",1),Gt(3,1),He(),Gt(4,2),Zt(5,"span",2)(6,"span",3)),2&i&&Cn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',q7],encapsulation:2,changeDetection:0})}}return n})(),X_=(()=>{class n extends xD{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Ni),oe(Et),oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(kn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ma(r.color?"mat-"+r.color:""),Cn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Rt,xn],attrs:_pe,ngContentSelectors:vpe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&($i(),Zt(0,"span",0),Gt(1),Zt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',q7],encapsulation:2,changeDetection:0})}}return n})(),K7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,W_,Pn]})}}return n})();class MD{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new R,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}return t}}let Z7=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ope=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Gx]})}}return n})(),Wpe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,Ope,Pn]})}}return n})();const Kpe=["switch"],Ype=["*"];function Qpe(n,t){1&n&&(Fe(0,"span",10),mc(),Fe(1,"svg",12),Zt(2,"path",13),He(),Fe(3,"svg",14),Zt(4,"path",15),He()())}const Xpe=new xe("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Zpe={provide:Zs,useExisting:qn(()=>TE),multi:!0};class dB{constructor(t,e){this.source=t,this.checked=e}}let Jpe=0,TE=(()=>{class n{_createChangeEvent(e){return new dB(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,o,a){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new nn,this.toggleChange=new nn,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Jpe,this.hideIcon=o.hideIcon??!1,this.disabledInteractive=o.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new dB(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(Qx),oe(Ir),oa("tabindex"),oe(Xpe),oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&wi(Kpe,5),2&i){let s;Wt(s=qt())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(tu("id",r.id),kn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ma(r.color?"mat-"+r.color:""),Cn("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",rn],color:"color",disabled:[2,"disabled","disabled",rn],disableRipple:[2,"disableRipple","disableRipple",rn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:vo(e)],checked:[2,"checked","checked",rn],hideIcon:[2,"hideIcon","hideIcon",rn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",rn]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Bt([Zpe,{provide:$r,useExisting:n,multi:!0}]),Ji,Hi,xn],ngContentSelectors:Ype,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const s=Nr();$i(),Fe(0,"div",1)(1,"button",2,0),Xt("click",function(){return li(s),ci(r._handleClick())}),Zt(3,"span",3),Fe(4,"span",4)(5,"span",5)(6,"span",6),Zt(7,"span",7),He(),Fe(8,"span",8),Zt(9,"span",9),He(),Ot(10,Qpe,5,0,"span",10),He()()(),Fe(11,"label",11),Xt("click",function(a){return li(s),ci(a.stopPropagation())}),Gt(12),He()()}if(2&i){const s=ca(2);Tt("labelPosition",r.labelPosition),it(),Cn("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),Tt("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),kn("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),it(8),Tt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),it(),$n(r.hideIcon?-1:10),it(),Tt("for",r.buttonId),kn("id",r._labelId)}},dependencies:[G_,Whe],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}}return n})(),nge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[TE,Pn,Pn]})}}return n})();const ige=["trigger"],rge=["panel"],sge=[[["mat-select-trigger"]],"*"],oge=["mat-select-trigger","*"];function age(n,t){if(1&n&&(Fe(0,"span",4),_t(1),He()),2&n){const e=$t();it(),_o(e.placeholder)}}function lge(n,t){1&n&&Gt(0)}function cge(n,t){if(1&n&&(Fe(0,"span",11),_t(1),He()),2&n){const e=$t(2);it(),_o(e.triggerValue)}}function dge(n,t){if(1&n&&(Fe(0,"span",5),Ot(1,lge,1,0)(2,cge,2,1,"span",11),He()),2&n){const e=$t();it(),$n(e.customTrigger?1:2)}}function uge(n,t){if(1&n){const e=Nr();Fe(0,"div",12,1),Xt("@transformPanel.done",function(r){return li(e),ci($t()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return li(e),ci($t()._handleKeydown(r))}),Gt(2,1),He()}if(2&n){const e=$t();(function CL(n,t,e){la(Dr,ka,Af(Je(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Tt("ngClass",e.panelClass)("@transformPanel","showing"),kn("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const hge={transformPanelWrap:Cl("transformPanelWrap",[bo("* => void",_se("@transformPanel",[gse()],{optional:!0}))]),transformPanel:Cl("transformPanel",[zo("void",pr({opacity:0,transform:"scale(1, 0.8)"})),bo("void => showing",Uo("120ms cubic-bezier(0, 0, 0.2, 1)",pr({opacity:1,transform:"scale(1, 1)"}))),bo("* => void",Uo("100ms linear",pr({opacity:0})))])};let uB=0;const hB=new xe("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ue(Dl);return()=>n.scrollStrategies.reposition()}}),mge=new xe("MAT_SELECT_CONFIG"),pge={provide:hB,deps:[Dl],useFactory:function fge(n){return()=>n.scrollStrategies.reposition()}},gge=new xe("MatSelectTrigger");class _ge{constructor(t,e){this.source=t,this.value=e}}let fB=(()=>{class n{_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function Hhe(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===e&&1===s?0:function $he(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new _ge(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ho.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,u,m,v,w,A,$){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=a,this._parentFormField=u,this.ngControl=m,this._liveAnnouncer=A,this._defaultOptions=$,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ne,pe)=>ne===pe,this._uid="mat-select-"+uB++,this._triggerAriaLabelledBy=null,this._destroy=new R,this.stateChanges=new R,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+uB++,this._panelDoneAnimatingStream=new R,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new R,this.optionSelectionChanges=hx(()=>{const ne=this.options;return ne?ne.changes.pipe(Sl(ne),Gi(()=>no(...ne.map(pe=>pe.onSelectionChange)))):this._initialized.pipe(Gi(()=>this.optionSelectionChanges))}),this.openedChange=new nn,this._openedStream=this.openedChange.pipe(Qn(ne=>ne),st(()=>{})),this._closedStream=this.openedChange.pipe(Qn(ne=>!ne),st(()=>{})),this.selectionChange=new nn,this.valueChange=new nn,this._trackedModal=null,this._skipPredicate=ne=>!this.panelOpen&&ne.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=$?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=$.typeaheadDebounceInterval),this._errorStateTracker=new Zx(s,m,c,l,this.stateChanges),this._scrollStrategyFactory=w,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(v)||0,this.id=this.id}ngOnInit(){this._selectionModel=new MD(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(oE(),ir(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(ir(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ir(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Sl(null),ir(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&m9(this._trackedModal,"aria-owns",i),function Zue(n,t,e){const i=p9(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(m9(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Eu(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Eu(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Js(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof fE?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new nhe(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=no(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ir(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),no(...this.options.map(i=>i._stateChanges)).pipe(ir(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||n)(oe(rE),oe(Ir),oe(Et),oe(R9),oe(Ht),oe(wu,8),oe(g_,8),oe(kc,8),oe(cD,8),oe(Fa,10),oa("tabindex"),oe(hB),oe(T9),oe(mge,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(di(s,gge,5),di(s,Jx,5),di(s,B9,5)),2&i){let o;Wt(o=qt())&&(r.customTrigger=o.first),Wt(o=qt())&&(r.options=o),Wt(o=qt())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(1&i&&(wi(ige,5),wi(rge,5),wi(v7,5)),2&i){let s;Wt(s=qt())&&(r.trigger=s.first),Wt(s=qt())&&(r.panel=s.first),Wt(s=qt())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Xt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(kn("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Cn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",rn],disableRipple:[2,"disableRipple","disableRipple",rn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:vo(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",rn],placeholder:"placeholder",required:[2,"required","required",rn],multiple:[2,"multiple","multiple",rn],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",rn],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",vo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Bt([{provide:lD,useExisting:n},{provide:V9,useExisting:n}]),Ji,Hi,xn],ngContentSelectors:oge,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const s=Nr();$i(sge),Fe(0,"div",2,0),Xt("click",function(){return li(s),ci(r.open())}),Fe(3,"div",3),Ot(4,age,2,1,"span",4)(5,dge,3,1,"span",5),He(),Fe(6,"div",6)(7,"div",7),mc(),Fe(8,"svg",8),Zt(9,"path",9),He()()()(),Ot(10,uge,3,9,"ng-template",10),Xt("backdropClick",function(){return li(s),ci(r.close())})("attach",function(){return li(s),ci(r._onAttached())})("detach",function(){return li(s),ci(r.close())})}if(2&i){const s=ca(1);it(3),kn("id",r._valueId),it(),$n(r.empty?4:5),it(6),Tt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[fE,v7,b5],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[hge.transformPanel]},changeDetection:0})}}return n})(),vge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[pge],imports:[El,yD,eD,Pn,cm,dD,eD,Pn]})}}return n})();const mB=["*"];class bge{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new wge(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class wge{constructor(t,e){this.row=t,this.col=e}}const pB=new xe("MAT_GRID_LIST");let GD=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(O_(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(O_(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(pB,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&kn("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[xn],ngContentSelectors:mB,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&($i(),Fe(0,"div",0),Gt(1),He())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return n})();const Ege=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class WD{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=gB(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Pu(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,i,r,s),this.setRowStyles(t,e,r,s)}setColStyles(t,e,i,r){let s=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",Pu(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Ige extends WD{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=gB(this.fixedRowHeight),Ege.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Pu(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Pu(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Cge extends WD{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Pu(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Pu(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Tge extends WD{setRowStyles(t,e){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(s,e)),t._setStyle("height",Pu(this.getTileSize(s,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Pu(n){return`calc(${n})`}function gB(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let tv=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(O_(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Tge:e&&e.indexOf(":")>-1?new Cge(e):new Ige(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new bge);const e=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((s,o)=>{const a=e.positions[o];this._tileStyler.setStyle(s,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static{this.\u0275fac=function(i){return new(i||n)(oe(Ht),oe(wu,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,r,s){if(1&i&&di(s,GD,5),2&i){let o;Wt(o=qt())&&(r._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&kn("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[Bt([{provide:pB,useExisting:n}]),xn],ngContentSelectors:mB,decls:2,vars:0,template:function(i,r){1&i&&($i(),Fe(0,"div"),Gt(1),He())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return n})(),Age=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[M9,Pn,M9,Pn]})}}return n})();function xge(n,t){if(1&n){const e=Nr();Fe(0,"div",1)(1,"button",2),Xt("click",function(){return li(e),ci($t().action())}),_t(2),He()()}if(2&n){const e=$t();it(2),Lo(" ",e.data.action," ")}}const Dge=["label"];function Rge(n,t){}const Mge=Math.pow(2,31)-1;class qD{constructor(t,e){this._overlayRef=e,this._afterDismissed=new R,this._afterOpened=new R,this._onAction=new R,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Mge))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const _B=new xe("MatSnackBarData");class SE{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let vB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return n})(),yB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return n})(),bB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return n})(),wB=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(oe(qD),oe(_B))}}static{this.\u0275cmp=hn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[xn],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(Fe(0,"div",0),_t(1),He(),Ot(2,xge,3,1,"div",1)),2&i&&(it(),Lo(" ",r.data.message,"\n"),it(),$n(r.hasAction?2:-1))},dependencies:[ku,vB,yB,bB],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})();const kge={snackBarState:Cl("state",[zo("void, hidden",pr({transform:"scale(0.8)",opacity:0})),zo("visible",pr({transform:"scale(1)",opacity:1})),bo("* => visible",Uo("150ms cubic-bezier(0, 0, 0.2, 1)")),bo("* => void, * => hidden",Uo("75ms cubic-bezier(0.4, 0.0, 1, 1)",pr({opacity:0})))])};let Pge=0,EB=(()=>{class n extends mD{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=Ue(Sn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new R,this._onExit=new R,this._onEnter=new R,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Pge++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(oe(Et),oe(Ht),oe(Ir),oe(Ni),oe(SE))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(wi(pD,7),wi(Dge,7)),2&i){let s;Wt(s=qt())&&(r._portalOutlet=s.first),Wt(s=qt())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){1&i&&hS("@state.done",function(o){return r.onAnimationEnd(o)}),2&i&&cS("@state",r._animationState)},standalone:!0,features:[Rt,xn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Fe(0,"div",1)(1,"div",2,0)(3,"div",3),Ot(4,Rge,0,0,"ng-template",4),He(),Zt(5,"div"),He()()),2&i&&(it(5),kn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[pD],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[kge.snackBarState]}})}}return n})();const Nge=new xe("mat-snack-bar-default-options",{providedIn:"root",factory:function Oge(){return new SE}});let IB=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=wB,this.snackBarContainerComponent=EB,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=vi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:SE,useValue:i}]}),o=new fD(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new SE,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new qD(o,s);if(e instanceof Er){const l=new hE(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new fD(e,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ir(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new vD;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!o&&"center"!==e.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return vi.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:qD,useValue:i},{provide:_B,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||n)(Te(Dl),Te(T9),Te(vi),Te(u9),Te(n,12),Te(Nge))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({providers:[IB],imports:[yD,gD,K7,Pn,wB,Pn]})}}return n})(),Lge=0;const KD=new xe("CdkAccordion");let Vge=(()=>{class n{constructor(){this._stateChanges=new R,this._openCloseAllActions=new R,this.id="cdk-accordion-"+Lge++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",rn]},exportAs:["cdkAccordion"],standalone:!0,features:[Bt([{provide:KD,useExisting:n}]),Ji,Hi]})}}return n})(),Bge=0,Uge=(()=>{class n{get expanded(){return this._expanded}set expanded(e){this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=xt.EMPTY,this.closed=new nn,this.opened=new nn,this.destroyed=new nn,this.expandedChange=new nn,this.id="cdk-accordion-child-"+Bge++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(oe(KD,12),oe(Ir),oe(Z7))}}static{this.\u0275dir=et({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",rn],disabled:[2,"disabled","disabled",rn]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Bt([{provide:KD,useValue:void 0}]),Ji]})}}return n})(),zge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();const jge=["body"],Hge=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],$ge=["mat-expansion-panel-header","*","mat-action-row"];function Gge(n,t){}const Wge=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],qge=["mat-panel-title","mat-panel-description","*"];function Kge(n,t){1&n&&(Fe(0,"span",1),mc(),Fe(1,"svg",2),Zt(2,"path",3),He()()),2&n&&Tt("@indicatorRotate",$t()._getExpandedState())}const YD=new xe("MAT_ACCORDION"),CB="225ms cubic-bezier(0.4,0.0,0.2,1)",TB={indicatorRotate:Cl("indicatorRotate",[zo("collapsed, void",pr({transform:"rotate(0deg)"})),zo("expanded",pr({transform:"rotate(180deg)"})),bo("expanded <=> collapsed, void => collapsed",Uo(CB))]),bodyExpansion:Cl("bodyExpansion",[zo("collapsed, void",pr({height:"0px",visibility:"hidden"})),zo("expanded",pr({height:"*",visibility:""})),bo("expanded <=> collapsed, void => collapsed",Uo(CB))])},SB=new xe("MAT_EXPANSION_PANEL");let Yge=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(oe(Er),oe(SB,8))}}static{this.\u0275dir=et({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return n})(),Qge=0;const AB=new xe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let QD=(()=>{class n extends Uge{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,s,o,a,l){super(e,i,r),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new nn,this.afterCollapse=new nn,this._inputChanges=new R,this._headerId="mat-expansion-panel-header-"+Qge++,this.accordion=e,this._document=o,this._animationsDisabled="NoopAnimations"===a,l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Sl(null),Qn(()=>this.expanded&&!this._portal),Js(1)).subscribe(()=>{this._portal=new hE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_animationStarted(e){!xB(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){xB(e)||("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(i){return new(i||n)(oe(YD,12),oe(Ir),oe(Z7),oe(Pr),oe(Sn),oe(fs,8),oe(AB,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,s){if(1&i&&di(s,Yge,5),2&i){let o;Wt(o=qt())&&(r._lazyContent=o.first)}},viewQuery:function(i,r){if(1&i&&wi(jge,5),2&i){let s;Wt(s=qt())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&Cn("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",rn],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Bt([{provide:YD,useValue:void 0},{provide:SB,useExisting:n}]),Ji,Rt,Hi,xn],ngContentSelectors:$ge,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(1&i){const s=Nr();$i(Hge),Gt(0),Fe(1,"div",1,0),Xt("@bodyExpansion.start",function(a){return li(s),ci(r._animationStarted(a))})("@bodyExpansion.done",function(a){return li(s),ci(r._animationDone(a))}),Fe(3,"div",2),Gt(4,1),Ot(5,Gge,0,0,"ng-template",3),He(),Gt(6,2),He()}2&i&&(it(),Tt("@bodyExpansion",r._getExpandedState())("id",r.id),kn("aria-labelledby",r._headerId),it(4),Tt("cdkPortalOutlet",r._portal))},dependencies:[pD],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[TB.bodyExpansion]},changeDetection:0})}}return n})();function xB(n){return"void"===n.fromState}let XD=(()=>{class n{constructor(e,i,r,s,o,a,l){this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=xt.EMPTY,this.tabIndex=0;const c=e.accordion?e.accordion._stateChanges.pipe(Qn(u=>!(!u.hideToggle&&!u.togglePosition))):Os;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=no(e.opened,e.closed,c,e._inputChanges.pipe(Qn(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Qn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Eu(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(oe(QD,1),oe(Ht),oe(Qx),oe(Ir),oe(AB,8),oe(fs,8),oa("tabindex"))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Xt("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&i&&(kn("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ic("height",r._getHeaderHeight()),Cn("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:vo(e)]},standalone:!0,features:[Ji,xn],ngContentSelectors:qge,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&($i(Wge),Fe(0,"span",0),Gt(1),Gt(2,1),Gt(3,2),He(),Ot(4,Kge,3,1,"span",1)),2&i&&(Cn("mat-content-hide-toggle",!r._showToggle()),it(4),$n(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[TB.indicatorRotate]},changeDetection:0})}}return n})(),DB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=et({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return n})(),RB=(()=>{class n extends Vge{constructor(){super(...arguments),this._ownHeaders=new zd,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(Sl(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new v9(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275dir=et({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,s){if(1&i&&di(s,XD,5),2&i){let o;Wt(o=qt())&&(r._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",rn],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[Bt([{provide:YD,useExisting:n}]),Ji,Rt]})}}return n})(),Xge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,zge,gD]})}}return n})(),A_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[K9,El,Pn,W_,L9,H9]})}}return n})();const x_e=["knob"],D_e=["valueIndicatorContainer"];function R_e(n,t){if(1&n&&(Fe(0,"div",2,1)(2,"div",5)(3,"span",6),_t(4),He()()()),2&n){const e=$t();it(4),_o(e.valueIndicatorText)}}const M_e=["trackActive"],k_e=["*"];function P_e(n,t){if(1&n&&Zt(0,"div"),2&n){const e=t.$implicit,i=t.$index,r=$t(3);Ma(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Ic("transform",r._calcTickMarkTransform(i))}}function O_e(n,t){1&n&&function DL(n,t,e,i,r,s,o,a,l,c,u,m,v){As("NgControlFlow");const w=Je(),A=vn(),$=void 0!==l,ne=Je(),pe=a?o.bind(ne[Si][_i]):o,ge=new WZ($,pe);ne[Pt+n]=ge,Rg(w,A,n+1,t,e,i,r,Gs(A.consts,s)),$&&Rg(w,A,n+2,l,c,u,m,Gs(A.consts,v))}(0,P_e,1,4,"div",8,xL),2&n&&function RL(n){const t=M(null),e=Kn();try{const i=Je(),r=i[mt],s=i[e],o=e+1,a=f0(i,o);if(void 0===s.liveCollection){const c=lS(r,o);s.liveCollection=new qZ(a,i,c)}else s.liveCollection.reset();const l=s.liveCollection;if(function HZ(n,t,e){let i,r,s=0,o=n.length-1;if(Array.isArray(t)){let l=t.length-1;for(;s<=o&&s<=l;){const c=n.at(s),u=t[s],m=oS(s,c,s,u,e);if(0!==m){m<0&&n.updateValue(s,u),s++;continue}const v=n.at(o),w=t[l],A=oS(o,v,l,w,e);if(0!==A){A<0&&n.updateValue(o,w),o--,l--;continue}const $=e(s,c),ne=e(o,v),pe=e(s,u);if(Object.is(pe,ne)){const ge=e(l,w);Object.is(ge,$)?(n.swap(s,o),n.updateValue(o,w),l--,o--):n.move(o,s),n.updateValue(s,u),s++}else if(i??=new AL,r??=SL(n,s,o,e),aS(n,i,s,pe))n.updateValue(s,u),s++,o++;else if(r.has(pe))i.set($,n.detach(s)),o--;else{const ge=n.create(s,t[s]);n.attach(s,ge),s++,o++}}for(;s<=l;)TL(n,i,e,s,t[s]),s++}else if(null!=t){const l=t[Symbol.iterator]();let c=l.next();for(;!c.done&&s<=o;){const u=n.at(s),m=c.value,v=oS(s,u,s,m,e);if(0!==v)v<0&&n.updateValue(s,m),s++,c=l.next();else{i??=new AL,r??=SL(n,s,o,e);const w=e(s,m);if(aS(n,i,s,w))n.updateValue(s,m),s++,o++,c=l.next();else if(r.has(w)){const A=e(s,u);i.set(A,n.detach(s)),o--}else n.attach(s,n.create(s,m)),s++,o++,c=l.next()}}for(;!c.done;)TL(n,i,e,n.length,c.value),c=l.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(l=>{n.destroy(l)})}(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){const c=ho(),u=0===l.length;if(hr(i,c,u)){const m=e+2,v=f0(i,m);if(u){const w=lS(r,m),A=Yd(v,w.tView.ssrId);ff(v,hf(i,w,void 0,{dehydratedView:A}),0,qd(w,A))}else pT(v,0)}}}finally{M(t)}}($t(2)._tickMarks)}function N_e(n,t){if(1&n&&(Fe(0,"div",6,1),Ot(2,O_e,2,0),He()),2&n){const e=$t();it(2),$n(e._cachedWidth?2:-1)}}function F_e(n,t){if(1&n&&Zt(0,"mat-slider-visual-thumb",7),2&n){const e=$t();Tt("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var sn=function(n){return n[n.START=1]="START",n[n.END=2]="END",n}(sn||{}),mm=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.INACTIVE=1]="INACTIVE",n}(mm||{});const AE=new xe("_MatSlider"),NB=new xe("_MatSliderThumb"),FB=new xe("_MatSliderRangeThumb"),LB=new xe("_MatSliderVisualThumb");let L_e=(()=>{class n{constructor(e,i,r,s){this._cdr=e,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=Ue(Ni),this._onPointerMove=o=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(o,a);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=o=>{0===o.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){const e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{const i=this._sliderInputEl;i.addEventListener("pointermove",this._onPointerMove),i.addEventListener("pointerdown",this._onDragStart),i.addEventListener("pointerup",this._onDragEnd),i.addEventListener("pointerleave",this._onMouseLeave),i.addEventListener("focus",this._onFocus),i.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){const e=this._sliderInputEl;e&&(e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===to.FADING_IN||e?.state===to.VISIBLE}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===sn.START?sn.END:sn.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===sn.START?sn.END:sn.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static{this.\u0275fac=function(i){return new(i||n)(oe(Ir),oe(Et),oe(Ht),oe(AE))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(wi(G_,5),wi(x_e,5),wi(D_e,5)),2&i){let s;Wt(s=qt())&&(r._ripple=s.first),Wt(s=qt())&&(r._knob=s.first),Wt(s=qt())&&(r._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[Bt([{provide:LB,useExisting:n}]),xn],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(Ot(0,R_e,5,1,"div",2),Zt(1,"div",3,0)(3,"div",4)),2&i&&($n(r.discrete?0:-1),it(3),Tt("matRippleDisabled",!0))},dependencies:[G_],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}}return n})(),VB=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e;const i=this._getInput(sn.END),r=this._getInput(sn.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}get min(){return this._min}set min(e){const i=isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_updateMin(e){const i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const i=this._getInput(sn.END),r=this._getInput(sn.START),s=i.value,o=r.value;r.min=e.new,i.min=Math.max(e.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==i.value&&this._onValueChange(i),o!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const i=this._getInput(sn.END);if(i){const r=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){const i=isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_updateMax(e){const i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const i=this._getInput(sn.END),r=this._getInput(sn.START),s=i.value,o=r.value;i.max=e.new,r.max=Math.min(e.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),o!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const i=this._getInput(sn.END);if(i){const r=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){const i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(sn.END),i=this._getInput(sn.START),r=e.value,s=i.value,o=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<o?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),r!==e.value&&this._onValueChange(e),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const e=this._getInput(sn.END);if(e){const i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,r,s,o,a){this._ngZone=e,this._cdr=i,this._elementRef=r,this._dir=s,this._globalRippleOptions=o,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=Ue(Ni),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(sn.END),i=this._getInput(sn.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();const r=this._getThumb(sn.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(sn.END),i=this._getInput(sn.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(sn.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(sn.START)._isActive||this._getThumb(sn.END)._isActive}_getValue(e=sn.END){const i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(sn.START)?._skipUIUpdate&&!this._getInput(sn.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(sn.END),i=this._getInput(sn.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{const e=this._getInput(sn.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(sn.START),i=this._getInput(sn.END);return!(!e||!i)&&i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const i=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(e.thumbPosition===sn.END?sn.END:sn.START)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===sn.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(e.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(sn.END),i=this._getInput(sn.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const i=e.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/e),0),s=Math.max(Math.round((this.max-i)/e),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(mm.ACTIVE).concat(Array(s).fill(mm.INACTIVE))}_updateTickMarkUIRange(e){const i=this._getValue(),r=this._getValue(sn.START),s=Math.max(Math.round((r-this.min)/e),0),o=Math.max(Math.round((i-r)/e)+1,0),a=Math.max(Math.round((this.max-i)/e),0);this._tickMarks=Array(s).fill(mm.INACTIVE).concat(Array(o).fill(mm.ACTIVE),Array(a).fill(mm.INACTIVE))}_getInput(e){return e===sn.END&&this._input?this._input:this._inputs?.length?e===sn.START?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return e===sn.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){const r=i.width/2,l=e.clientY-(i.y+r);return Math.pow(e.clientX-(i.x+r),2)+Math.pow(l,2)<Math.pow(r,2)}static{this.\u0275fac=function(i){return new(i||n)(oe(Et),oe(Ir),oe(Ht),oe(wu,8),oe($_,8),oe(fs,8))}}static{this.\u0275cmp=hn({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,s){if(1&i&&(di(s,NB,5),di(s,FB,4)),2&i){let o;Wt(o=qt())&&(r._input=o.first),Wt(o=qt())&&(r._inputs=o)}},viewQuery:function(i,r){if(1&i&&(wi(M_e,5),wi(LB,5)),2&i){let s;Wt(s=qt())&&(r._trackActive=s.first),Wt(s=qt())&&(r._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){2&i&&(Ma("mat-"+(r.color||"primary")),Cn("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",rn],discrete:[2,"discrete","discrete",rn],showTickMarks:[2,"showTickMarks","showTickMarks",rn],min:[2,"min","min",vo],color:"color",disableRipple:[2,"disableRipple","disableRipple",rn],max:[2,"max","max",vo],step:[2,"step","step",vo],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[Bt([{provide:AE,useExisting:n}]),Ji,xn],ngContentSelectors:k_e,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){1&i&&($i(),Gt(0),Fe(1,"div",2),Zt(2,"div",3),Fe(3,"div",4),Zt(4,"div",5,0),He(),Ot(6,N_e,3,1,"div",6),He(),Ot(7,F_e,1,3,"mat-slider-visual-thumb",7),Zt(8,"mat-slider-visual-thumb",7)),2&i&&(it(6),$n(r.showTickMarks?6:-1),it(),$n(r._isRange?7:-1),it(),Tt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[L_e],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();const B_e={provide:Zs,useExisting:qn(()=>xE),multi:!0};let xE=(()=>{class n{get value(){return vo(this._hostElement.value,0)}set value(e){const i=(e=isNaN(e)?0:e)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return vo(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return vo(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return vo(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return rn(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,r,s){this._ngZone=e,this._elementRef=i,this._cdr=r,this._slider=s,this.valueChange=new nn,this.dragStart=new nn,this.dragEnd=new nn,this.thumbPosition=sn.END,this._valuetext=xa(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new R,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=Ue(Ni),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!this.disabled&&0===e.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const i=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,o=Math.floor((this._slider.max-this._slider.min)/s),c=Math.round((this._slider._isRtl?1-i/r:i/r)*o)/o*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/s)*s;if(u===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){const i=this._tickMarkOffset;return Math.max(Math.min(e,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static{this.\u0275fac=function(i){return new(i||n)(oe(Et),oe(Ht),oe(Ir),oe(AE))}}static{this.\u0275dir=et({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&Xt("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&kn("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",vo]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[Bt([B_e,{provide:NB,useExisting:n}]),Ji]})}}return n})(),j_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Pn,W_]})}}return n})(),DE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Khe,H9,Zhe,$fe,tme,Sme,ppe,K7,Wpe,nge,vge,eD,Age,Fge,Xge,A_e,j_e]})}}return n})();const JD=new class $_e extends eE{}(class H_e extends Jw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}});function BB(...n){const t=$A(n);return Ke((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Sr(n[l]).subscribe(ct(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Br))&&(o=null))},hi));e.subscribe(ct(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}function eR(n,t){const e=!t?.manualCleanup;e&&!t?.injector&&Pi();const i=e?t?.injector?.get(Bd)??Ue(Bd):null,r=function K_e(n=Object.is){return(t,e)=>1===t.kind&&1===e.kind&&n(t.value,e.value)}(t?.equal);let s;s=xa(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:r});const o=n.subscribe({next:a=>s.set({kind:1,value:a}),error:a=>{if(t?.rejectErrors)throw a;s.set({kind:2,error:a})}});if(t?.requireSync&&0===s().kind)throw new Se(601,!1);return i?.onDestroy(o.unsubscribe.bind(o)),vl(()=>{const a=s();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new Se(601,!1)}},{equal:t?.equal})}const nv={};function Ol(n,t){if(nv[n]=(nv[n]||0)+1,"function"==typeof t)return tR(n,(...i)=>({...t(...i),type:n}));switch(t?t._as:"empty"){case"empty":return tR(n,()=>({type:n}));case"props":return tR(n,i=>({...i,type:n}));default:throw new Error("Unexpected config.")}}function tR(n,t){return Object.defineProperty(t,"type",{value:n,writable:!1})}const RE="@ngrx/store/init";let Nl=(()=>{class n extends me{constructor(){super({type:RE})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof e>"u")throw new TypeError("Actions must be objects");if(typeof e.type>"u")throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const Z_e=[Nl],iR=new xe("@ngrx/store Internal Root Guard"),zB=new xe("@ngrx/store Internal Initial State"),ME=new xe("@ngrx/store Initial State"),jB=new xe("@ngrx/store Reducer Factory"),HB=new xe("@ngrx/store Internal Reducer Factory Provider"),$B=new xe("@ngrx/store Initial Reducers"),rR=new xe("@ngrx/store Internal Initial Reducers"),GB=new xe("@ngrx/store Store Features"),WB=new xe("@ngrx/store Internal Store Reducers"),sR=new xe("@ngrx/store Internal Feature Reducers"),qB=new xe("@ngrx/store Internal Feature Configs"),oR=new xe("@ngrx/store Internal Store Features"),KB=new xe("@ngrx/store Internal Feature Reducers Token"),aR=new xe("@ngrx/store Feature Reducers"),YB=new xe("@ngrx/store User Provided Meta Reducers"),kE=new xe("@ngrx/store Meta Reducers"),QB=new xe("@ngrx/store Internal Resolved Meta Reducers"),XB=new xe("@ngrx/store User Runtime Checks Config"),ZB=new xe("@ngrx/store Internal User Runtime Checks Config"),rv=new xe("@ngrx/store Internal Runtime Checks"),sv=new xe("@ngrx/store Check if Action types are unique");function cR(n,t={}){const e=Object.keys(n),i={};for(let s=0;s<e.length;s++){const o=e[s];"function"==typeof n[o]&&(i[o]=n[o])}const r=Object.keys(i);return function(o,a){o=void 0===o?t:o;let l=!1;const c={};for(let u=0;u<r.length;u++){const m=r[u],w=o[m],A=(0,i[m])(w,a);c[m]=A,l=l||A!==w}return l?c:o}}function eU(...n){return function(t){if(0===n.length)return t;const e=n[n.length-1];return n.slice(0,-1).reduceRight((r,s)=>s(r),e(t))}}function tU(n,t){return Array.isArray(t)&&t.length>0&&(n=eU.apply(null,[...t,n])),(e,i)=>{const r=n(e);return(s,o)=>r(s=void 0===s?i:s,o)}}new xe("@ngrx/store Root Store Provider"),new xe("@ngrx/store Feature State Provider");class ov extends gn{}class dR extends Nl{}const uR="@ngrx/store/update-reducers";let av=(()=>{class n extends me{get currentReducers(){return this.reducers}constructor(e,i,r,s){super(s(r,i)),this.dispatcher=e,this.initialState=i,this.reducers=r,this.reducerFactory=s}addFeature(e){this.addFeatures([e])}addFeatures(e){const i=e.reduce((r,{reducers:s,reducerFactory:o,metaReducers:a,initialState:l,key:c})=>{const u="function"==typeof s?function eve(n){const t=Array.isArray(n)&&n.length>0?eU(...n):e=>e;return(e,i)=>(e=t(e),(r,s)=>e(r=void 0===r?i:r,s))}(a)(s,l):tU(o,a)(s,l);return r[c]=u,r},{});this.addReducers(i)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(i=>i.key))}addReducer(e,i){this.addReducers({[e]:i})}addReducers(e){this.reducers={...this.reducers,...e},this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(i=>{this.reducers=function J_e(n,t){return Object.keys(n).filter(e=>e!==t).reduce((e,i)=>Object.assign(e,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:uR,features:e})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(i){return new(i||n)(Te(dR),Te(ME),Te($B),Te(jB))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const tve=[av,{provide:ov,useExisting:av},{provide:dR,useExisting:Nl}];let pm=(()=>{class n extends R{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const nve=[pm];class hR extends gn{}let nU=(()=>{class n extends me{static{this.INIT=RE}constructor(e,i,r,s){super(s);const c=e.pipe(Na(JD)).pipe(BB(i)).pipe(Qf(ive,{state:s}));this.stateSubscription=c.subscribe(({state:u,action:m})=>{this.next(u),r.next(m)}),this.state=eR(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(i){return new(i||n)(Te(Nl),Te(ov),Te(pm),Te(ME))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();function ive(n={state:void 0},[t,e]){const{state:i}=n;return{state:e(i,t),action:t}}const rve=[nU,{provide:hR,useExisting:nU}];let $o=(()=>{class n extends gn{constructor(e,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=e,this.state=e.state}select(e,...i){return ove.call(null,e,...i)(this)}selectSignal(e,i){return vl(()=>e(this.state()),i)}lift(e){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=e,i}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,i){this.reducerManager.addReducer(e,i)}removeReducer(e){this.reducerManager.removeReducer(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(hR),Te(Nl),Te(av))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const sve=[$o];function ove(n,t,...e){return function(r){let s;if("string"==typeof n){const o=[t,...e].filter(Boolean);s=r.pipe(function G_e(...n){const t=n.length;if(0===t)throw new Error("list of properties cannot be empty.");return st(e=>{let i=e;for(let r=0;r<t;r++){const s=i?.[n[r]];if(!(typeof s<"u"))return;i=s}return i})}(n,...o))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);s=r.pipe(st(o=>n(o,t)))}return s.pipe(oE())}}const fR="https://ngrx.io/guide/store/configuration/runtime-checks";function iU(n){return void 0===n}function rU(n){return null===n}function sU(n){return Array.isArray(n)}function oU(n){return"object"==typeof n&&null!==n}function mR(n){return"function"==typeof n}function pR(n,t){return n===t}function gR(n,t=pR,e=pR){let s,i=null,r=null;return{memoized:function c(){if(void 0!==s)return s.result;if(!i)return r=n.apply(null,arguments),i=arguments,r;if(!function mve(n,t,e){for(let i=0;i<n.length;i++)if(!e(n[i],t[i]))return!0;return!1}(arguments,i,t))return r;const u=n.apply(null,arguments);return i=arguments,e(r,u)?r:(r=u,u)},reset:function o(){i=null,r=null},setResult:function a(u=void 0){s={result:u}},clearResult:function l(){s=void 0}}}function PE(...n){return function gve(n,t={stateFn:pve}){return function(...e){let i=e;if(Array.isArray(i[0])){const[u,...m]=i;i=[...u,...m]}else 1===i.length&&function _ve(n){return!!n&&"object"==typeof n&&Object.values(n).every(t=>"function"==typeof t)}(i[0])&&(i=function vve(n){const t=Object.values(n),e=Object.keys(n);return[...t,(...r)=>e.reduce((s,o,a)=>({...s,[o]:r[a]}),{})]}(i[0]));const r=i.slice(0,i.length-1),s=i[i.length-1],o=r.filter(u=>u.release&&"function"==typeof u.release),a=n(function(...u){return s.apply(null,u)}),l=gR(function(u,m){return t.stateFn.apply(null,[u,r,m,a])});return Object.assign(l.memoized,{release:function c(){l.reset(),a.reset(),o.forEach(u=>u.release())},projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(gR)(...n)}function pve(n,t,e,i){if(void 0===e){const s=t.map(o=>o(n));return i.memoized.apply(null,s)}const r=t.map(s=>s(n,e));return i.memoized.apply(null,[...r,e])}function wve(n){return n instanceof xe?Ue(n):n}function Eve(n,t){return t.map((e,i)=>{if(n[i]instanceof xe){const r=Ue(n[i]);return{key:e.key,reducerFactory:r.reducerFactory?r.reducerFactory:cR,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return e})}function Ive(n){return n.map(t=>t instanceof xe?Ue(t):t)}function _R(n){return"function"==typeof n?n():n}function Cve(n,t){return n.concat(t)}function Tve(){if(Ue($o,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function vR(n){Object.freeze(n);const t=mR(n);return Object.getOwnPropertyNames(n).forEach(e=>{if(!e.startsWith("\u0275")&&function hve(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(n,e)&&(!t||"caller"!==e&&"callee"!==e&&"arguments"!==e)){const i=n[e];(oU(i)||mR(i))&&!Object.isFrozen(i)&&vR(i)}}),n}function yR(n,t=[]){return(iU(n)||rU(n))&&0===t.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const s=n[r];return function uve(n){return mR(n)&&n.hasOwnProperty("\u0275cmp")}(s)?i:!(iU(s)||rU(s)||function cve(n){return"number"==typeof n}(s)||function lve(n){return"boolean"==typeof n}(s)||function ave(n){return"string"==typeof n}(s)||sU(s))&&(function aU(n){if(!function dve(n){return oU(n)&&!sU(n)}(n))return!1;const t=Object.getPrototypeOf(n);return t===Object.prototype||null===t}(s)?yR(s,[...t,r]):{path:[...t,r],value:s})},!1)}function dU(n,t){if(!1===n)return;const e=n.path.join("."),i=new Error(`Detected unserializable ${t} at "${e}". ${fR}#strict${t}serializability`);throw i.value=n.value,i.unserializablePath=e,i}function Dve(n){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Rve({strictActionSerializability:n,strictStateSerializability:t}){return e=>n||t?function Ave(n,t){return function(e,i){t.action(i)&&dU(yR(i),"action");const r=n(e,i);return t.state()&&dU(yR(r),"state"),r}}(e,{action:i=>n&&!bR(i),state:()=>t}):e}function Mve({strictActionImmutability:n,strictStateImmutability:t}){return e=>n||t?function Sve(n,t){return function(e,i){const r=t.action(i)?vR(i):i,s=n(e,r);return t.state()?vR(s):s}}(e,{action:i=>n&&!bR(i),state:()=>t}):e}function bR(n){return n.type.startsWith("@ngrx")}function kve({strictActionWithinNgZone:n}){return t=>n?function xve(n,t){return function(e,i){if(t.action(i)&&!Et.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${fR}#strictactionwithinngzone`);return n(e,i)}}(t,{action:e=>n&&!bR(e)}):t}function Pve(n){return[{provide:ZB,useValue:n},{provide:XB,useFactory:Ove,deps:[ZB]},{provide:rv,deps:[XB],useFactory:Dve},{provide:kE,multi:!0,deps:[rv],useFactory:Mve},{provide:kE,multi:!0,deps:[rv],useFactory:Rve},{provide:kE,multi:!0,deps:[rv],useFactory:kve}]}function uU(){return[{provide:sv,multi:!0,deps:[rv],useFactory:Nve}]}function Ove(n){return n}function Nve(n){if(!n.strictActionTypeUniqueness)return;const t=Object.entries(nv).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${fR}#strictactiontypeuniqueness`)}function hU(n={},t={}){return[{provide:iR,useFactory:Tve},{provide:zB,useValue:t.initialState},{provide:ME,useFactory:_R,deps:[zB]},{provide:rR,useValue:n},{provide:WB,useExisting:n instanceof xe?n:rR},{provide:$B,deps:[rR,[new nc(WB)]],useFactory:wve},{provide:YB,useValue:t.metaReducers?t.metaReducers:[]},{provide:QB,deps:[kE,YB],useFactory:Cve},{provide:HB,useValue:t.reducerFactory?t.reducerFactory:cR},{provide:jB,deps:[HB,QB],useFactory:tU},Z_e,tve,nve,rve,sve,Pve(t.runtimeChecks),uU()]}function fU(n,t,e={}){return[{provide:qB,multi:!0,useValue:n instanceof Object?{}:e},{provide:GB,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:e instanceof xe||!e.reducerFactory?cR:e.reducerFactory,metaReducers:e instanceof xe||!e.metaReducers?[]:e.metaReducers,initialState:e instanceof xe||!e.initialState?void 0:e.initialState}},{provide:oR,deps:[qB,GB],useFactory:Eve},{provide:sR,multi:!0,useValue:n instanceof Object?n.reducer:t},{provide:KB,multi:!0,useExisting:t instanceof xe?t:sR},{provide:aR,multi:!0,deps:[sR,[new nc(KB)]],useFactory:Ive},uU()]}let OE=(()=>{class n{constructor(e,i,r,s,o,a){}static{this.\u0275fac=function(i){return new(i||n)(Te(Nl),Te(ov),Te(pm),Te($o),Te(iR,8),Te(sv,8))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),wR=(()=>{class n{constructor(e,i,r,s,o){this.features=e,this.featureReducers=i,this.reducerManager=r;const a=e.map((l,c)=>{const m=i.shift()[c];return{...l,reducers:m,initialState:_R(l.initialState)}});r.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(i){return new(i||n)(Te(oR),Te(aR),Te(av),Te(OE),Te(sv,8))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),mU=(()=>{class n{static forRoot(e,i){return{ngModule:OE,providers:[...hU(e,i)]}}static forFeature(e,i,r={}){return{ngModule:wR,providers:[...fU(e,i,r)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();function Ou(...n){return{reducer:n.pop(),types:n.map(i=>i.type)}}function zve(n,t){if(1&n&&(Fe(0,"div",3)(1,"mat-card-content")(2,"button",4)(3,"mat-icon"),_t(4),He()(),Fe(5,"div"),_t(6),He()()()),2&n){const e=t.$implicit;it(2),Tt("routerLink",e.path)("disabled",e.disabled),it(2),_o(e.icon),it(2),_o(e.title)}}let jve=(()=>{class n{constructor(e){this.store=e,this.apps=[],this.apps=[{id:1,title:"Tres en linea",disabled:!1,icon:"gamepad",path:"/game/tres-en-linea"},{id:2,title:"Smart toy",disabled:!0,icon:"smart_toy",path:"/game/smart-toy"},{id:3,title:"Basketball",disabled:!0,icon:"sports_volleyball",path:"/game/basketball"},{id:4,title:"Tetris",disabled:!1,icon:"sports_cricket",path:"/game/tetris"}]}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(oe($o))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"h2","my-3"],[1,"row"],["class","col col-6",4,"ngFor","ngForOf"],[1,"col","col-6"],["mat-icon-button","","color","primary",3,"routerLink","disabled"]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header")(2,"div",0),_t(3,"Mis aplicaciones"),He()(),Fe(4,"mat-card-content")(5,"div",1),Ot(6,zve,7,4,"div",2),He()()()),2&i&&(it(6),Tt("ngForOf",r.apps))},dependencies:[Y0,Su,Au,xu,um,X_,Ba],styles:["mat-card[_ngcontent-%COMP%]{margin:2em auto;justify-content:center}button[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1rem;transform:scale(3)}"]})}}return n})();const pU=function cU(n){return PE(t=>t[n],t=>t)}("auth"),Hve=PE(pU,n=>n.user),gU=PE(pU,n=>n.isAuthenticated);let _U=(()=>{class n{constructor(e,i){this.store=e,this.router=i}canActivate(){return console.log("[AuthenticateGuard.canActivate]"),this.store.select(gU).pipe(nr(e=>{e||this.router.navigate(["/login"])}))}static{this.\u0275fac=function(i){return new(i||n)(Te($o),Te(es))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $ve=[{path:"home",component:jve,canActivate:[_U]}];let Gve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[El,DE,Qw,P_.forRoot($ve,{useHash:!0})]})}}return n})();var Xe=q(467),Wve=q(2291);const vU=[{value:"Easy",text:"F\xe1cil"},{value:"Normal",text:"Normal"},{value:"Hard",text:"Dif\xedcil"}],yU=[{value:0,bgColor:"div0"},{value:1,bgColor:"div1"},{value:2,bgColor:"div2"},{value:3,bgColor:"div3"},{value:4,bgColor:"div4"},{value:5,bgColor:"div5"},{value:6,bgColor:"div6"},{value:7,bgColor:"div7"},{value:8,bgColor:"div8"}],NE={background:{enabled:!0,volume:25},endgame:{enabled:!0,volume:50}};let bU=(()=>{class n{constructor(){this.audios={}}getAudio(e){return this.audios[e]}initAudio(e,i,r=100,s=!1){if(this.audios[e])return void console.warn(`El audio con clave "${e}" ya est\xe1 inicializado.`);const o=new Audio(i);o.volume=this.convertVolumeToRange(r),o.loop=s,this.audios[e]=o}playAudio(e){const i=this.audios[e];i?i.play().catch(r=>{console.error(`Error al reproducir el audio "${e}":`,r)}):console.error(`No se encontr\xf3 el audio con clave "${e}".`)}stopAudio(e){const i=this.audios[e];i?(i.pause(),i.currentTime=0):console.error(`No se encontr\xf3 el audio con clave "${e}".`)}setAudioVolume(e,i){const r=this.audios[e];r?r.volume=this.convertVolumeToRange(i):console.error(`No se encontr\xf3 el audio con clave "${e}".`)}removeAudio(e){this.audios[e]?delete this.audios[e]:console.warn(`El audio con clave "${e}" no existe.`)}convertVolumeToRange(e){return Math.max(0,Math.min(e/100,1))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yve(n,t){if(1&n){const e=Nr();Fe(0,"button",31),Xt("click",function(){return li(e),ci($t(2).startGame(!0))}),_t(1,"Empezar"),He()}}function Qve(n,t){if(1&n&&(Fe(0,"mat-card-content")(1,"mat-grid-list",29)(2,"mat-grid-tile")(3,"div",8),Ot(4,Yve,2,0,"button",30),He()()()()),2&n){const e=$t();it(4),Tt("ngIf",!e.playing)}}function Xve(n,t){if(1&n){const e=Nr();Fe(0,"button",35),Xt("click",function(){return li(e),ci($t(2).restartGame(!0))}),_t(1,"Reiniciar"),He()}}function Zve(n,t){if(1&n){const e=Nr();Fe(0,"button",36),Xt("click",function(){return li(e),ci($t(2).endGame(!1))}),_t(1,"Terminar"),He()}}function Jve(n,t){if(1&n&&(Fe(0,"mat-card-content")(1,"mat-grid-list",32)(2,"mat-grid-tile")(3,"div",8),Ot(4,Xve,2,0,"button",33),He()(),Fe(5,"mat-grid-tile"),Ot(6,Zve,2,0,"button",34),He()()()),2&n){const e=$t();it(4),Tt("ngIf",e.playing),it(2),Tt("ngIf",e.playing)}}function eye(n,t){if(1&n){const e=Nr();Fe(0,"div",37),Xt("click",function(){const r=li(e).index;return ci($t().makeHumanMove(r))}),Fe(1,"div")(2,"div",38),_t(3),He()()()}if(2&n){const e=t.$implicit,i=t.index;it(),Ma("div"+i),it(2),Lo(" ","X"===e||"O"===e?e:""," ")}}function tye(n,t){if(1&n&&(Fe(0,"div")(1,"div",40),_t(2),He()()),2&n){const e=$t(2);it(2),_o(e.winner)}}function nye(n,t){if(1&n&&(Fe(0,"mat-card-content")(1,"mat-grid-list",39)(2,"mat-grid-tile"),Ot(3,tye,3,1,"div",6),He()()()),2&n){const e=$t();it(3),Tt("ngIf",!e.playing)}}function iye(n,t){if(1&n&&(Fe(0,"mat-option",41),_t(1),He()),2&n){const e=t.$implicit;Tt("value",e.value),it(),_o(e.text)}}const{GameStep:rye}=Wve.A;let sye=(()=>{class n{constructor(e,i){this.soundService=e,this.store=i,this.levels=vU,this.panelOpenState=!1,this.gameBoard=yU,this.gameState=[0,1,2,3,4,5,6,7,8],this.playing=!1,this.defaultLevel="Normal",this.defaultSettings=NE,this.breakpoint=1,this.breakpoint2=8,this.breakpoint3=6,this.computerFirst=!0}ngOnInit(){this.breakpoint=window.innerWidth<=319?3:1,this.soundService.initAudio("background","assets/sounds/theme_game.mp3",this.defaultSettings.background.volume,!0),this.soundService.initAudio("endgame","assets/sounds/end_game.mp3",this.defaultSettings.endgame.volume)}ngOnDestroy(){this.stopAudios()}defaultStartGame(e,i){this.panelOpenState=!1,this.gameBoard=yU,this.gameState=[0,1,2,3,4,5,6,7,8],this.winner=void 0,this.checkEnabled("background")&&this.soundService.playAudio("background"),e&&this.computerFirst&&this.makeComputerMove(),i&&i(),this.playing=e}endGame(e){var i=this;return(0,Xe.A)(function*(){console.log("[TresEnLineaComponent.endGame]"),i.playing=e,i.stopAudios()})()}restartGame(e){var i=this;return(0,Xe.A)(function*(){console.log("[TresEnLineaComponent.restartGame]"),i.soundService.stopAudio("background"),i.defaultStartGame(e)})()}startGame(e=!1){var i=this;return(0,Xe.A)(function*(){console.log("[TresEnLineaComponent.startGame]"),i.defaultStartGame(e)})()}stopAudios(){this.soundService.stopAudio("background"),this.soundService.stopAudio("endgame")}onResize(e){this.breakpoint=e.target.innerWidth<=319?2:1}formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":`${e}`}makeHumanMove(e){var i=this;!this.playing||"number"!=typeof this.gameState[e]||(this.gameState[e]="X",setTimeout((0,Xe.A)(function*(){yield i.makeComputerMove()}),250))}makeComputerMove(){var e=this;return(0,Xe.A)(function*(){const s=rye(e.gameState,{huPlayer:"X",aiPlayer:"O"},e.defaultLevel);e.gameState=s.board,s.winner&&(e.winner={huPlayer:"\xa1Ganaste t\xfa \u{1f9d1}!",aiPlayer:"\xa1Gan\xf3 el robot \u{1f916}!",draw:"\xa1Es un empate!"}[s.winner],e.playing=!1,e.soundService.getAudio("background")&&e.soundService.stopAudio("background"),NE.endgame.enabled&&e.soundService.playAudio("endgame"))})()}onToggleChange(e,i){i?NE[e].enabled&&this.soundService.playAudio(e):this.soundService.stopAudio(e)}checkEnabled(e){return NE[e].enabled}onVolumeChange(e,i){this.soundService.setAudioVolume(e,i)}static{this.\u0275fac=function(i){return new(i||n)(oe(bU),oe($o))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-tres-en-linea"]],decls:76,vars:18,consts:[[1,"my-3"],[1,"row"],[1,"col-2","my-auto"],["mat-icon-button","","routerLink","/home","color","primary","size","small"],[1,"col-10","my-auto"],[1,"h4","float-end"],[4,"ngIf"],["cols","2","rowHeight","12:2"],[2,"text-align","center"],[1,"h6"],[3,"resize","cols","rowHeight"],[1,"parent"],[3,"click",4,"ngFor","ngForOf"],[2,"background-color","#fce9f0",3,"expandedChange","opened","closed","expanded"],[1,"mx-0","px-0"],[1,"align-content-start","my-0"],[1,"float-start"],[1,"w-auto","align-content-start","my-3"],[1,"col-12","my-2"],[1,"w-100"],["color","primary",1,"float-start",3,"ngModelChange","ngModel"],["appearance","outline",1,"float-start","w-100"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","my-1"],["color","primary",1,"float-start",3,"ngModelChange","click","ngModel"],[1,"col-12","my-1","float-start"],["min","0","max","100","step","5","showTickMarks","","discrete","",1,"w-100",3,"click","displayWith","disabled"],["matSliderThumb","",3,"ngModelChange","ngModel"],["cols","1","rowHeight","12:3"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["cols","2","rowHeight","12:6"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"click"],[1,"playing",2,"align-items","center","display","flex","height","100%","justify-content","center","width","100%"],["cols","1","rowHeight","9:2"],[2,"font-weight","bold","font-size","1.25rem"],[3,"value"]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),_t(6,"arrow_back"),He()()(),Fe(7,"div",4)(8,"div",5),_t(9,"Tres en linea"),He()()()(),Ot(10,Qve,5,1,"mat-card-content",6)(11,Jve,7,2,"mat-card-content",6),Fe(12,"mat-card-content")(13,"mat-grid-list",7)(14,"mat-grid-tile")(15,"div",8)(16,"div",9),_t(17,"T\xfa: X"),He()()(),Fe(18,"mat-grid-tile")(19,"div",8)(20,"div",9),_t(21,"Robot: O"),He()()()()(),Fe(22,"mat-card-content")(23,"mat-grid-list",10),Xt("resize",function(o){return r.onResize(o)},0,W1),Fe(24,"mat-grid-tile")(25,"div",11),Ot(26,eye,4,3,"div",12),He()()()(),Ot(27,nye,4,1,"mat-card-content",6),Fe(28,"mat-card-content")(29,"mat-accordion")(30,"mat-expansion-panel",13),Rs("expandedChange",function(o){return Xs(r.panelOpenState,o)||(r.panelOpenState=o),o}),Xt("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),Fe(31,"mat-expansion-panel-header")(32,"mat-panel-title")(33,"div"),_t(34,"Ajustes del juego"),He()()(),Fe(35,"mat-card-content",14)(36,"p",15)(37,"span",16),_t(38,"General"),He()(),Zt(39,"mat-divider"),Fe(40,"div",17)(41,"div",1)(42,"div",18)(43,"div",19)(44,"mat-slide-toggle",20),Rs("ngModelChange",function(o){return Xs(r.computerFirst,o)||(r.computerFirst=o),o}),_t(45,"El Robot empieza primero "),He()()(),Fe(46,"div",18)(47,"mat-form-field",21)(48,"mat-label"),_t(49,"Nivel de Dificultad"),He(),Fe(50,"mat-select",22),Rs("ngModelChange",function(o){return Xs(r.defaultLevel,o)||(r.defaultLevel=o),o}),Ot(51,iye,2,2,"mat-option",23),He()()()()(),Fe(52,"p",15)(53,"span",16),_t(54,"Control de sonido"),He()(),Zt(55,"mat-divider"),Fe(56,"div",17)(57,"div",1)(58,"div",24)(59,"div",19)(60,"mat-slide-toggle",25),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.endgame.enabled,o)||(r.defaultSettings.endgame.enabled=o),o}),Xt("click",function(){return r.onToggleChange("endgame",r.defaultSettings.endgame.enabled)}),Fe(61,"span"),_t(62,"Sonido durante Sonido al terminar el juego"),He()()()(),Fe(63,"div",26)(64,"mat-slider",27),Xt("click",function(){return r.onVolumeChange("endgame",r.defaultSettings.endgame.volume)}),Fe(65,"input",28),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.endgame.volume,o)||(r.defaultSettings.endgame.volume=o),o}),He()()()()(),Fe(66,"div",17)(67,"div",1)(68,"div",24)(69,"div",19)(70,"mat-slide-toggle",25),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.background.enabled,o)||(r.defaultSettings.background.enabled=o),o}),Xt("click",function(){return r.onToggleChange("background",r.defaultSettings.background.enabled)}),Fe(71,"span"),_t(72,"Sonido durante el juego"),He()()()(),Fe(73,"div",26)(74,"mat-slider",27),Xt("click",function(){return r.onVolumeChange("background",r.defaultSettings.background.volume)}),Fe(75,"input",28),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.background.volume,o)||(r.defaultSettings.background.volume=o),o}),He()()()()()()()()()()),2&i&&(it(10),Tt("ngIf",!r.playing),it(),Tt("ngIf",r.playing),it(12),Tt("cols",r.breakpoint)("rowHeight",r.breakpoint2+":"+r.breakpoint3),it(3),Tt("ngForOf",r.gameState),it(),Tt("ngIf",!r.playing&&r.winner),it(3),Ds("expanded",r.panelOpenState),it(14),Ds("ngModel",r.computerFirst),it(6),Ds("ngModel",r.defaultLevel),it(),Tt("ngForOf",r.levels),it(9),Ds("ngModel",r.defaultSettings.endgame.enabled),it(4),Tt("displayWith",r.formatLabel)("disabled",!r.defaultSettings.endgame.enabled),it(),Ds("ngModel",r.defaultSettings.endgame.volume),it(5),Ds("ngModel",r.defaultSettings.background.enabled),it(4),Tt("displayWith",r.formatLabel)("disabled",!r.defaultSettings.background.enabled),it(),Ds("ngModel",r.defaultSettings.background.volume))},dependencies:[Y0,su,iD,q_,Tu,Su,Au,xu,um,ku,X_,TE,fB,Jx,tv,GD,RB,QD,XD,DB,VB,xE,Dc,$f,Tw,Ba],styles:[".parent[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);grid-column-gap:0;grid-row-gap:0;font-size:1.25rem}.div0[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:5rem;background-color:#f1f1f1}.div1[_ngcontent-%COMP%]{grid-area:1/2/2/3;width:100%;height:5rem;background-color:#f8f8f8}.div2[_ngcontent-%COMP%]{grid-area:1/3/2/4;width:100%;height:5rem;background-color:#f1f1f1}.div3[_ngcontent-%COMP%]{grid-area:2/1/3/2;width:100%;height:5rem;background-color:#f8f8f8}.div4[_ngcontent-%COMP%]{grid-area:2/2/3/3;width:100%;height:5rem;background-color:#f1f1f1}.div5[_ngcontent-%COMP%]{grid-area:2/3/3/4;width:100%;height:5rem;background-color:#f8f8f8}.div6[_ngcontent-%COMP%]{grid-area:3/1/4/2;width:100%;height:5rem;background-color:#f1f1f1}.div7[_ngcontent-%COMP%]{grid-area:3/2/4/3;width:100%;height:5rem;background-color:#f8f8f8}.div8[_ngcontent-%COMP%]{grid-area:3/3/4/4;width:100%;height:5rem;background-color:#f1f1f1}.playing[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();var oye=q(4877),FE=q.n(oye);const wU=[{shape:[[1,1,1,1]],color:"cyan"},{shape:[[1,1],[1,1]],color:"yellow"},{shape:[[0,1,0],[1,1,1]],color:"purple"},{shape:[[1,0,0],[1,1,1]],color:"green"},{shape:[[0,0,1],[1,1,1]],color:"red"},{shape:[[1,1,0],[0,1,1]],color:"blue"},{shape:[[0,1,1],[1,1,0]],color:"orange"}],EU={background:{enabled:!0,volume:15},endgame:{enabled:!0,volume:50}};function cye(n,t){if(1&n){const e=Nr();Fe(0,"button",28),Xt("click",function(){return li(e),ci($t(2).startGame(!0))}),_t(1,"Empezar"),He()}}function dye(n,t){if(1&n&&(Fe(0,"mat-card-content")(1,"mat-grid-list",25)(2,"mat-grid-tile")(3,"div",26),Ot(4,cye,2,0,"button",27),He()()()()),2&n){const e=$t();it(4),Tt("ngIf",!e.playing)}}function uye(n,t){if(1&n){const e=Nr();Fe(0,"button",32),Xt("click",function(){return li(e),ci($t(2).restartGame(!0))}),_t(1,"Reiniciar"),He()}}function hye(n,t){if(1&n){const e=Nr();Fe(0,"button",33),Xt("click",function(){return li(e),ci($t(2).endGame(!1))}),_t(1,"Terminar"),He()}}function fye(n,t){if(1&n&&(Fe(0,"mat-card-content")(1,"mat-grid-list",29)(2,"mat-grid-tile")(3,"div",26),Ot(4,uye,2,0,"button",30),He()(),Fe(5,"mat-grid-tile"),Ot(6,hye,2,0,"button",31),He()()()),2&n){const e=$t();it(4),Tt("ngIf",e.playing),it(2),Tt("ngIf",e.playing)}}function mye(n,t){if(1&n&&(Fe(0,"mat-option",34),_t(1),He()),2&n){const e=t.$implicit;Tt("value",e.value),it(),_o(e.text)}}const pye=[{path:"game",canActivate:[_U],children:[{path:"tres-en-linea",component:sye},{path:"tetris",component:(()=>{class n{constructor(e){this.soundService=e,this.boardWidth=12,this.boardHeight=20,this.cellSize=20,this.levels=vU,this.panelOpenState=!1,this.playing=!1,this.defaultLevel="Normal",this.defaultSettings=EU,this.board=[]}ngOnInit(){this.initBoard(),this.initKonva(),this.soundService.initAudio("background","assets/sounds/theme_game.mp3",this.defaultSettings.background.volume,!0),this.soundService.initAudio("endgame","assets/sounds/end_game.mp3",this.defaultSettings.endgame.volume)}ngOnDestroy(){clearInterval(this.gameInterval),this.stopAudios()}defaultStart(e=!1,i){this.spawnPiece(),this.gameInterval=setInterval(()=>{this.isGameOver()?(clearInterval(this.gameInterval),this.soundService.playAudio("endgame")):this.movePiece(0,1)},500),i&&i(),this.checkEnabled("background")&&this.soundService.playAudio("background"),this.playing=e}endGame(e){var i=this;return(0,Xe.A)(function*(){console.log("[TetrisComponent.endGame]"),i.playing=e,i.stopAudios(),i.gameInterval&&(clearInterval(i.gameInterval),i.initBoard(),i.initKonva())})()}restartGame(e){var i=this;return(0,Xe.A)(function*(){console.log("[TetrisComponent.restartGame]"),clearInterval(i.gameInterval),i.defaultStart(e)})()}startGame(e){var i=this;return(0,Xe.A)(function*(){console.log("[TetrisComponent.startGame]"),i.defaultStart(e)})()}stopAudios(){this.soundService.stopAudio("background"),this.soundService.stopAudio("endgame")}formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":`${e}`}initBoard(){this.board=Array.from({length:this.boardHeight},()=>new Array(this.boardWidth).fill(""))}initKonva(){this.stage=new(FE().Stage)({container:"tetris-board",width:this.boardWidth*this.cellSize,height:this.boardHeight*this.cellSize}),this.layer=new(FE().Layer),this.stage.add(this.layer),this.drawBoard()}drawBoard(){this.layer.destroyChildren();for(let e=0;e<this.boardHeight;e++)for(let i=0;i<this.boardWidth;i++){const r=new(FE().Rect)({x:i*this.cellSize,y:e*this.cellSize,width:this.cellSize,height:this.cellSize,fill:this.board[e][i]||"black",stroke:"grey",strokeWidth:1});this.layer.add(r)}this.layer.draw()}spawnPiece(){const e=wU[Math.floor(Math.random()*wU.length)];this.currentPiece={shape:e.shape,color:e.color,x:Math.floor(this.boardWidth/2)-1,y:0},this.draw()}draw(){this.drawBoard();const{shape:e,color:i,x:r,y:s}=this.currentPiece;for(let o=0;o<e.length;o++)for(let a=0;a<e[o].length;a++)if(e[o][a]){const l=new(FE().Rect)({x:(r+a)*this.cellSize,y:(s+o)*this.cellSize,width:this.cellSize,height:this.cellSize,fill:i,stroke:"grey",strokeWidth:1});this.layer.add(l)}this.layer.draw()}movePiece(e,i){this.currentPiece.x+=e,this.currentPiece.y+=i,this.canMove(0,0)||(this.currentPiece.x-=e,this.currentPiece.y-=i,1===i&&(this.mergePiece(),this.checkFullLines(),this.spawnPiece())),this.draw()}rotatePiece(){const e=this.currentPiece.shape[0].map((r,s)=>this.currentPiece.shape.map(o=>o[s]).reverse()),i=this.currentPiece.shape;this.currentPiece.shape=e,this.canMove(0,0)||(this.currentPiece.shape=i),this.draw()}handleKeyPress(e){switch(e.key){case"ArrowLeft":this.movePiece(-1,0);break;case"ArrowRight":this.movePiece(1,0);break;case"ArrowDown":this.movePiece(0,1);break;case"ArrowUp":this.rotatePiece()}}canMove(e,i){for(let r=0;r<this.currentPiece.shape.length;r++)for(let s=0;s<this.currentPiece.shape[r].length;s++){if(!this.currentPiece.shape[r][s])continue;const o=this.currentPiece.x+s+e,a=this.currentPiece.y+r+i;if(o<0||o>=this.boardWidth||a>=this.boardHeight||a>=0&&this.board[a][o])return!1}return!0}mergePiece(){for(let e=0;e<this.currentPiece.shape.length;e++)for(let i=0;i<this.currentPiece.shape[e].length;i++)this.currentPiece.shape[e][i]&&(this.board[this.currentPiece.y+e][this.currentPiece.x+i]=this.currentPiece.color)}checkFullLines(){for(let e=this.boardHeight-1;e>=0;e--)this.board[e].every(r=>""!==r)&&(this.board.splice(e,1),this.board.unshift(new Array(this.boardWidth).fill("")),e++)}isGameOver(){const e=this.board[0].some(i=>""!==i);return console.log({isBoardFull:e}),e}onToggleChange(e,i){i?this.checkEnabled(e)&&this.soundService.playAudio(e):this.soundService.stopAudio(e)}checkEnabled(e){return EU[e].enabled}onVolumeChange(e,i){this.soundService.setAudioVolume(e,i)}static{this.\u0275fac=function(i){return new(i||n)(oe(bU))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-tetris"]],hostBindings:function(i,r){1&i&&Xt("keydown",function(o){return r.handleKeyPress(o)},0,W1)},decls:61,vars:13,consts:[[1,"my-3"],[1,"row"],[1,"col-2","my-auto"],["mat-icon-button","","routerLink","/home","color","primary","size","small"],[1,"col-10","my-auto"],[1,"h4","float-end"],[4,"ngIf"],[1,"col-12","mx-auto","my-3"],["id","game-container"],["id","tetris-board"],[2,"background-color","#fce9f0",3,"expandedChange","opened","closed","expanded"],[1,"mx-0","px-0"],[1,"align-content-start","my-0"],[1,"float-start"],[1,"w-auto","align-content-start","my-3"],[1,"col-12","my-2"],["appearance","outline",1,"float-start","w-100"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","my-1"],[1,"w-100"],["color","primary",1,"float-start",3,"ngModelChange","click","ngModel"],[1,"col-12","my-1","float-start"],["min","0","max","100","step","5","showTickMarks","","discrete","",1,"w-100",3,"click","displayWith","disabled"],["matSliderThumb","",3,"ngModelChange","ngModel"],["cols","1","rowHeight","12:3"],[2,"text-align","center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["cols","2","rowHeight","12:6"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),_t(6,"arrow_back"),He()()(),Fe(7,"div",4)(8,"div",5),_t(9,"Tetris"),He()()()(),Ot(10,dye,5,1,"mat-card-content",6)(11,fye,7,2,"mat-card-content",6),Fe(12,"mat-card-content")(13,"div",1)(14,"div",7)(15,"div",8),Zt(16,"div",9),He()()()(),Fe(17,"mat-card-content")(18,"mat-accordion")(19,"mat-expansion-panel",10),Rs("expandedChange",function(o){return Xs(r.panelOpenState,o)||(r.panelOpenState=o),o}),Xt("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),Fe(20,"mat-expansion-panel-header")(21,"mat-panel-title")(22,"div"),_t(23,"Ajustes del juego"),He()()(),Fe(24,"mat-card-content",11)(25,"p",12)(26,"span",13),_t(27,"General"),He()(),Zt(28,"mat-divider"),Fe(29,"div",14)(30,"div",1)(31,"div",15)(32,"mat-form-field",16)(33,"mat-label"),_t(34,"Dificultad"),He(),Fe(35,"mat-select",17),Rs("ngModelChange",function(o){return Xs(r.defaultLevel,o)||(r.defaultLevel=o),o}),Ot(36,mye,2,2,"mat-option",18),He()()()()(),Fe(37,"p",12)(38,"span",13),_t(39,"Control de sonido"),He()(),Zt(40,"mat-divider"),Fe(41,"div",14)(42,"div",1)(43,"div",19)(44,"div",20)(45,"mat-slide-toggle",21),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.endgame.enabled,o)||(r.defaultSettings.endgame.enabled=o),o}),Xt("click",function(){return r.onToggleChange("endgame",r.defaultSettings.endgame.enabled)}),Fe(46,"span"),_t(47,"Sonido al terminar el juego"),He()()()(),Fe(48,"div",22)(49,"mat-slider",23),Xt("click",function(){return r.onVolumeChange("endgame",r.defaultSettings.endgame.volume)}),Fe(50,"input",24),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.endgame.volume,o)||(r.defaultSettings.endgame.volume=o),o}),He()()()()(),Fe(51,"div",14)(52,"div",1)(53,"div",19)(54,"div",20)(55,"mat-slide-toggle",21),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.background.enabled,o)||(r.defaultSettings.background.enabled=o),o}),Xt("click",function(){return r.onToggleChange("background",r.defaultSettings.background.enabled)}),Fe(56,"span"),_t(57,"Sonido durante el juego"),He()()()(),Fe(58,"div",22)(59,"mat-slider",23),Xt("click",function(){return r.onVolumeChange("background",r.defaultSettings.background.volume)}),Fe(60,"input",24),Rs("ngModelChange",function(o){return Xs(r.defaultSettings.background.volume,o)||(r.defaultSettings.background.volume=o),o}),He()()()()()()()()()()),2&i&&(it(10),Tt("ngIf",!r.playing),it(),Tt("ngIf",r.playing),it(8),Ds("expanded",r.panelOpenState),it(16),Ds("ngModel",r.defaultLevel),it(),Tt("ngForOf",r.levels),it(9),Ds("ngModel",r.defaultSettings.endgame.enabled),it(4),Tt("displayWith",r.formatLabel)("disabled",!r.defaultSettings.endgame.enabled),it(),Ds("ngModel",r.defaultSettings.endgame.volume),it(5),Ds("ngModel",r.defaultSettings.background.enabled),it(4),Tt("displayWith",r.formatLabel)("disabled",!r.defaultSettings.background.enabled),it(),Ds("ngModel",r.defaultSettings.background.volume))},dependencies:[Y0,su,iD,q_,Tu,Su,Au,xu,um,ku,X_,TE,fB,Jx,tv,GD,RB,QD,XD,DB,VB,xE,Dc,$f,Tw,Ba],styles:["#game-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f6f6f6}#tetris-board[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})()}]}];let gye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[El,DE,Qw,P_.forRoot(pye,{useHash:!0})]})}}return n})();class Fl{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return IU(this,t)}do(t,e,i){const{kind:r,value:s,error:o}=this;return"N"===r?t?.(s):"E"===r?e?.(o):i?.()}accept(t,e,i){var r;return dt(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,r="N"===t?At(e):"E"===t?Yf(()=>i):"C"===t?Os:0;if(!r)throw new TypeError(`Unexpected notification kind ${t}`);return r}static createNext(t){return new Fl("N",t)}static createError(t){return new Fl("E",void 0,t)}static createComplete(){return Fl.completeNotification}}function IU(n,t){var e,i,r;const{kind:s,value:o,error:a}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(e=t.next)||void 0===e||e.call(t,o):"E"===s?null===(i=t.error)||void 0===i||i.call(t,a):null===(r=t.complete)||void 0===r||r.call(t)}function CU(n,t,e,i){return Ke((r,s)=>{let o;t&&"function"!=typeof t?({duration:e,element:o,connector:i}=t):o=t;const a=new Map,l=A=>{a.forEach(A),A(s)},c=A=>l($=>$.error(A));let u=0,m=!1;const v=new jt(s,A=>{try{const $=n(A);let ne=a.get($);if(!ne){a.set($,ne=i?i():new R);const pe=function w(A,$){const ne=new gn(pe=>{u++;const ge=$.subscribe(pe);return()=>{ge.unsubscribe(),0==--u&&m&&v.unsubscribe()}});return ne.key=A,ne}($,ne);if(s.next(pe),e){const ge=ct(ne,()=>{ne.complete(),ge?.unsubscribe()},void 0,void 0,()=>a.delete($));v.add(Sr(e(pe)).subscribe(ge))}}ne.next(o?o(A):A)}catch($){c($)}},()=>l(A=>A.complete()),c,()=>a.clear(),()=>(m=!0,0===u));r.subscribe(v)})}function TU(n,t){return t?e=>e.pipe(TU((i,r)=>Sr(n(i,r)).pipe(st((s,o)=>t(i,s,r,o))))):Ke((e,i)=>{let r=0,s=null,o=!1;e.subscribe(ct(i,a=>{s||(s=ct(i,void 0,()=>{s=null,o&&i.complete()}),Sr(n(a,r++)).subscribe(s))},()=>{o=!0,!s&&i.complete()}))})}Fl.completeNotification=new Fl("C");const wye={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},LE="__@ngrx/effects_create__";function ER(n,t={}){const e=t.functional?n:n(),i={...wye,...t};return Object.defineProperty(e,LE,{value:i}),e}function AU(n){return Object.getPrototypeOf(n)}function IR(n){return"function"==typeof n}function CR(n){return n.filter(IR)}function Tye(n,t,e){const i=AU(n),s=i&&"Object"!==i.constructor.name?i.constructor.name:null,o=function SU(n){return function Eye(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(LE))&&n[i][LE].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][LE]}))}(n)}(n).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:c})=>{const u="function"==typeof n[a]?n[a]():n[a],m=c?e(u,t):u;return!1===l?m.pipe(function _ye(){return Ke((n,t)=>{n.subscribe(ct(t,hi))})}()):m.pipe(function yye(){return Ke((n,t)=>{n.subscribe(ct(t,e=>{t.next(Fl.createNext(e))},()=>{t.next(Fl.createComplete()),t.complete()},e=>{t.next(Fl.createError(e)),t.complete()}))})}()).pipe(st(w=>({effect:n[a],notification:w,propertyName:a,sourceName:s,sourceInstance:n})))});return no(...o)}function xU(n,t,e=10){return n.pipe(pa(i=>(t&&t.handleError(i),e<=1?n:xU(n,t,e-1))))}let Aye=(()=>{class n extends gn{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}static{this.\u0275fac=function(i){return new(i||n)(Te(pm))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function TR(...n){return Qn(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const DU=new xe("@ngrx/effects Internal Root Guard"),VE=new xe("@ngrx/effects User Provided Effects"),SR=new xe("@ngrx/effects Internal Root Effects"),RU=new xe("@ngrx/effects Internal Root Effects Instances"),MU=new xe("@ngrx/effects Internal Feature Effects"),kU=new xe("@ngrx/effects Internal Feature Effects Instance Groups"),xye=new xe("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>xU}),PU="@ngrx/effects/init";Ol(PU);function Bye(n){return AR(n,"ngrxOnInitEffects")}function AR(n,t){return n&&t in n&&"function"==typeof n[t]}let xR=(()=>{class n extends R{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(CU(e=>function Iye(n){return!!n.constructor&&"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(e)?AU(e):e),Lr(e=>e.pipe(CU(Uye))),Lr(e=>{const i=e.pipe(TU(s=>function zye(n,t){return e=>{const i=Tye(e,n,t);return function Lye(n){return AR(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),st(s=>(function Rye(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function Mye(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function kye({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return e?`"${e}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}(n)} dispatched an invalid action: ${function Pye(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(s,this.errorHandler),s.notification)),Qn(s=>"N"===s.kind&&null!=s.value),function bye(){return Ke((n,t)=>{n.subscribe(ct(t,e=>IU(e,t)))})}());return no(i,e.pipe(Js(1),Qn(Bye),st(s=>s.ngrxOnInitEffects())))}))}static{this.\u0275fac=function(i){return new(i||n)(Te(Ss),Te(xye))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Uye(n){return function Nye(n){return AR(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let DR=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Te(xR),Te($o))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OU=(()=>{class n{constructor(e,i,r,s,o,a,l){this.sources=e,i.start();for(const c of s)e.addEffects(c);r.dispatch({type:PU})}addEffects(e){this.sources.addEffects(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(xR),Te(DR),Te($o),Te(RU),Te(OE,8),Te(wR,8),Te(DU,8))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),jye=(()=>{class n{constructor(e,i,r,s){const o=i.flat();for(const a of o)e.addEffects(a)}static{this.\u0275fac=function(i){return new(i||n)(Te(OU),Te(kU),Te(OE,8),Te(wR,8))}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})(),NU=(()=>{class n{static forFeature(...e){const i=e.flat(),r=CR(i);return{ngModule:jye,providers:[r,{provide:MU,multi:!0,useValue:i},{provide:VE,multi:!0,useValue:[]},{provide:kU,multi:!0,useFactory:FU,deps:[MU,VE]}]}}static forRoot(...e){const i=e.flat(),r=CR(i);return{ngModule:OU,providers:[r,{provide:SR,useValue:[i]},{provide:DU,useFactory:Hye},{provide:VE,multi:!0,useValue:[]},{provide:RU,useFactory:FU,deps:[SR,VE]}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();function FU(n,t){const e=[];for(const i of n)e.push(...i);for(const i of t)e.push(...i);return e.map(i=>function Cye(n){return n instanceof xe||IR(n)}(i)?Ue(i):i)}function Hye(){const n=Ue(DR,{optional:!0,skipSelf:!0}),t=Ue(SR,{self:!0});if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const RR=Ol("[Auth] Login",{_as:"props",_p:void 0}),LU=Ol("[Auth] Login Success",{_as:"props",_p:void 0}),VU=Ol("[Auth] Login Failure",{_as:"props",_p:void 0}),MR=Ol("[Auth] Logout"),BU=Ol("[Auth] Logout Success"),UU=Ol("[Auth] Logout Failure",{_as:"props",_p:void 0}),zU=Ol("[Auth] Check Auth State");var ps=q(2979);(0,ps.registerVersion)("firebase","10.14.1","app");const lv=new Cc("ANGULARFIRE2_VERSION");function jU(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const kR=(n,t)=>{const e=t?[t]:(0,ps.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class BE{constructor(){return kR(Wye)}}const Wye="app-check";function gm(){}class HU{zone;delegate;constructor(t,e=JD){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class qye{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gm,{},gm,gm)),e.pipe(nr({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cv=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new HU(Zone.current)),this.insideAngular=e.run(()=>new HU(Zone.current,om)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Te(Et))};static \u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _m(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Nu(n){return _m().ngZone.run(()=>n())}function Co(n){return function Yye(n){return function(e){return(e=e.lift(new qye(n.ngZone))).pipe(du(n.outsideAngular),Na(n.insideAngular))}}(_m())(n)}const Qye=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Nu(()=>n.apply(void 0,i))},Go=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=Nu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gm,{},gm,gm))),i[s]=Qye(i[s],e));const r=function Kye(n){return _m().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof gn){const s=_m();return r.pipe(du(s.outsideAngular),Na(s.insideAngular))}return Nu(()=>r)}return r instanceof gn?r.pipe(Co):r instanceof Promise?Nu(()=>new Promise((s,o)=>r.then(a=>Nu(()=>s(a)),a=>Nu(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Nu(()=>r)};class dv{constructor(t){return t}}class PR{constructor(){return(0,ps.getApps)()}}const OR=new xe("angularfire2._apps"),Zye={provide:dv,useFactory:function Xye(n){return n&&1===n.length?n[0]:new dv((0,ps.getApp)())},deps:[[new cr,OR]]},Jye={provide:PR,deps:[[new cr,OR]]};function ebe(n){return(t,e)=>{const i=e.get(No);(0,ps.registerVersion)("angularfire",lv.full,"core"),(0,ps.registerVersion)("angularfire",lv.full,"app"),(0,ps.registerVersion)("angular",Jee.full,i.toString());const r=t.runOutsideAngular(()=>n(e));return new dv(r)}}function tbe(n,...t){return Ea([Zye,Jye,{provide:OR,useFactory:ebe(n),multi:!0,deps:[Et,vi,cv,...t]}])}const nbe=Go(ps.initializeApp,!0);var uv=q(443),Xn=q(1401),Ha=q(5398),$U=q(8779);class UE{constructor(t){return t}}class WU{constructor(){return kR("auth")}}const NR=new xe("angularfire2.auth-instances");function rbe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new UE(i)}}const sbe={provide:WU,deps:[[new cr,NR]]},obe={provide:UE,useFactory:function ibe(n,t){const e=jU("auth",n,t);return e&&new UE(e)},deps:[[new cr,NR],dv]};function abe(n,...t){return(0,ps.registerVersion)("angularfire",lv.full,"auth"),Ea([obe,sbe,{provide:NR,useFactory:rbe(n),multi:!0,deps:[Et,vi,cv,PR,[new cr,BE],...t]}])}const lbe=Go(uv.aa,!0),qU=Go(uv.o,!0),cbe=Go(uv.a5,!0),dbe=Go(uv.ab,!0),ube=Go(uv.C,!0);var Fu,QU,KU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YU={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(be,ue,Ie){Ie||(Ie=0);var Me=Array(16);if("string"==typeof ue)for(var Le=0;16>Le;++Le)Me[Le]=ue.charCodeAt(Ie++)|ue.charCodeAt(Ie++)<<8|ue.charCodeAt(Ie++)<<16|ue.charCodeAt(Ie++)<<24;else for(Le=0;16>Le;++Le)Me[Le]=ue[Ie++]|ue[Ie++]<<8|ue[Ie++]<<16|ue[Ie++]<<24;var je=be.g[3],Ce=(ue=be.g[0])+(je^(Ie=be.g[1])&((Le=be.g[2])^je))+Me[0]+3614090360&4294967295;Ce=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=(Ie=(Le=(je=(ue=Ie+(Ce<<7&4294967295|Ce>>>25))+((Ce=je+(Le^ue&(Ie^Le))+Me[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ie^je&(ue^Ie))+Me[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^Le&(je^ue))+Me[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(je^Ie&(Le^je))+Me[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=je+(Le^ue&(Ie^Le))+Me[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ie^je&(ue^Ie))+Me[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^Le&(je^ue))+Me[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(je^Ie&(Le^je))+Me[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=je+(Le^ue&(Ie^Le))+Me[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ie^je&(ue^Ie))+Me[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^Le&(je^ue))+Me[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(je^Ie&(Le^je))+Me[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=je+(Le^ue&(Ie^Le))+Me[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ie^je&(ue^Ie))+Me[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^Le&(je^ue))+Me[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(Le^je&(Ie^Le))+Me[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=je+(Ie^Le&(ue^Ie))+Me[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ue^Ie&(je^ue))+Me[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(je^ue&(Le^je))+Me[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Le^je&(Ie^Le))+Me[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=je+(Ie^Le&(ue^Ie))+Me[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ue^Ie&(je^ue))+Me[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(je^ue&(Le^je))+Me[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Le^je&(Ie^Le))+Me[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=je+(Ie^Le&(ue^Ie))+Me[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ue^Ie&(je^ue))+Me[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(je^ue&(Le^je))+Me[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Le^je&(Ie^Le))+Me[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=je+(Ie^Le&(ue^Ie))+Me[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ue^Ie&(je^ue))+Me[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(je^ue&(Le^je))+Me[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Ie^Le^je)+Me[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=je+(ue^Ie^Le)+Me[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(je^ue^Ie)+Me[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(Le^je^ue)+Me[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^Le^je)+Me[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=je+(ue^Ie^Le)+Me[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(je^ue^Ie)+Me[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(Le^je^ue)+Me[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^Le^je)+Me[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=je+(ue^Ie^Le)+Me[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(je^ue^Ie)+Me[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(Le^je^ue)+Me[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^Le^je)+Me[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=je+(ue^Ie^Le)+Me[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(je^ue^Ie)+Me[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(Le^je^ue)+Me[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Le^(Ie|~je))+Me[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=je+(Ie^(ue|~Le))+Me[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ue^(je|~Ie))+Me[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(je^(Le|~ue))+Me[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(Le^(Ie|~je))+Me[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=je+(Ie^(ue|~Le))+Me[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ue^(je|~Ie))+Me[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(je^(Le|~ue))+Me[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(Le^(Ie|~je))+Me[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=je+(Ie^(ue|~Le))+Me[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ue^(je|~Ie))+Me[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(je^(Le|~ue))+Me[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((je=(ue=Ie+((Ce=ue+(Le^(Ie|~je))+Me[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=je+(Ie^(ue|~Le))+Me[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Le=je+((Ce=Le+(ue^(je|~Ie))+Me[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~ue))+Me[9]+3951481745&4294967295,be.g[0]=be.g[0]+ue&4294967295,be.g[1]=be.g[1]+(Le+(Ce<<21&4294967295|Ce>>>11))&4294967295,be.g[2]=be.g[2]+Le&4294967295,be.g[3]=be.g[3]+je&4294967295}function o(be,ue){this.h=ue;for(var Ie=[],Me=!0,Le=be.length-1;0<=Le;Le--){var je=0|be[Le];Me&&je==ue||(Ie[Le]=je,Me=!1)}this.g=Ie}(function t(be,ue){function Ie(){}Ie.prototype=ue.prototype,be.D=ue.prototype,be.prototype=new Ie,be.prototype.constructor=be,be.C=function(Me,Le,je){for(var Ce=Array(arguments.length-2),qo=2;qo<arguments.length;qo++)Ce[qo-2]=arguments[qo];return ue.prototype[Le].apply(Me,Ce)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(be,ue){void 0===ue&&(ue=be.length);for(var Ie=ue-this.blockSize,Me=this.B,Le=this.h,je=0;je<ue;){if(0==Le)for(;je<=Ie;)r(this,be,je),je+=this.blockSize;if("string"==typeof be){for(;je<ue;)if(Me[Le++]=be.charCodeAt(je++),Le==this.blockSize){r(this,Me),Le=0;break}}else for(;je<ue;)if(Me[Le++]=be[je++],Le==this.blockSize){r(this,Me),Le=0;break}}this.h=Le,this.o+=ue},i.prototype.v=function(){var be=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);be[0]=128;for(var ue=1;ue<be.length-8;++ue)be[ue]=0;var Ie=8*this.o;for(ue=be.length-8;ue<be.length;++ue)be[ue]=255&Ie,Ie/=256;for(this.u(be),be=Array(16),ue=Ie=0;4>ue;++ue)for(var Me=0;32>Me;Me+=8)be[Ie++]=this.g[ue]>>>Me&255;return be};var a={};function l(be){return-128<=be&&128>be?function s(be,ue){var Ie=a;return Object.prototype.hasOwnProperty.call(Ie,be)?Ie[be]:Ie[be]=ue(be)}(be,function(ue){return new o([0|ue],0>ue?-1:0)}):new o([0|be],0>be?-1:0)}function c(be){if(isNaN(be)||!isFinite(be))return m;if(0>be)return ne(c(-be));for(var ue=[],Ie=1,Me=0;be>=Ie;Me++)ue[Me]=be/Ie|0,Ie*=4294967296;return new o(ue,0)}var m=l(0),v=l(1),w=l(16777216);function A(be){if(0!=be.h)return!1;for(var ue=0;ue<be.g.length;ue++)if(0!=be.g[ue])return!1;return!0}function $(be){return-1==be.h}function ne(be){for(var ue=be.g.length,Ie=[],Me=0;Me<ue;Me++)Ie[Me]=~be.g[Me];return new o(Ie,~be.h).add(v)}function pe(be,ue){return be.add(ne(ue))}function ge(be,ue){for(;(65535&be[ue])!=be[ue];)be[ue+1]+=be[ue]>>>16,be[ue]&=65535,ue++}function Oe(be,ue){this.g=be,this.h=ue}function Ge(be,ue){if(A(ue))throw Error("division by zero");if(A(be))return new Oe(m,m);if($(be))return ue=Ge(ne(be),ue),new Oe(ne(ue.g),ne(ue.h));if($(ue))return ue=Ge(be,ne(ue)),new Oe(ne(ue.g),ue.h);if(30<be.g.length){if($(be)||$(ue))throw Error("slowDivide_ only works with positive integers.");for(var Ie=v,Me=ue;0>=Me.l(be);)Ie=rt(Ie),Me=rt(Me);var Le=ut(Ie,1),je=ut(Me,1);for(Me=ut(Me,2),Ie=ut(Ie,2);!A(Me);){var Ce=je.add(Me);0>=Ce.l(be)&&(Le=Le.add(Ie),je=Ce),Me=ut(Me,1),Ie=ut(Ie,1)}return ue=pe(be,Le.j(ue)),new Oe(Le,ue)}for(Le=m;0<=be.l(ue);){for(Ie=Math.max(1,Math.floor(be.m()/ue.m())),Me=48>=(Me=Math.ceil(Math.log(Ie)/Math.LN2))?1:Math.pow(2,Me-48),Ce=(je=c(Ie)).j(ue);$(Ce)||0<Ce.l(be);)Ce=(je=c(Ie-=Me)).j(ue);A(je)&&(je=v),Le=Le.add(je),be=pe(be,Ce)}return new Oe(Le,be)}function rt(be){for(var ue=be.g.length+1,Ie=[],Me=0;Me<ue;Me++)Ie[Me]=be.i(Me)<<1|be.i(Me-1)>>>31;return new o(Ie,be.h)}function ut(be,ue){var Ie=ue>>5;ue%=32;for(var Me=be.g.length-Ie,Le=[],je=0;je<Me;je++)Le[je]=0<ue?be.i(je+Ie)>>>ue|be.i(je+Ie+1)<<32-ue:be.i(je+Ie);return new o(Le,be.h)}(n=o.prototype).m=function(){if($(this))return-ne(this).m();for(var be=0,ue=1,Ie=0;Ie<this.g.length;Ie++){var Me=this.i(Ie);be+=(0<=Me?Me:4294967296+Me)*ue,ue*=4294967296}return be},n.toString=function(be){if(2>(be=be||10)||36<be)throw Error("radix out of range: "+be);if(A(this))return"0";if($(this))return"-"+ne(this).toString(be);for(var ue=c(Math.pow(be,6)),Ie=this,Me="";;){var Le=Ge(Ie,ue).g,je=((0<(Ie=pe(Ie,Le.j(ue))).g.length?Ie.g[0]:Ie.h)>>>0).toString(be);if(A(Ie=Le))return je+Me;for(;6>je.length;)je="0"+je;Me=je+Me}},n.i=function(be){return 0>be?0:be<this.g.length?this.g[be]:this.h},n.l=function(be){return $(be=pe(this,be))?-1:A(be)?0:1},n.abs=function(){return $(this)?ne(this):this},n.add=function(be){for(var ue=Math.max(this.g.length,be.g.length),Ie=[],Me=0,Le=0;Le<=ue;Le++){var je=Me+(65535&this.i(Le))+(65535&be.i(Le)),Ce=(je>>>16)+(this.i(Le)>>>16)+(be.i(Le)>>>16);Me=Ce>>>16,Ie[Le]=(Ce&=65535)<<16|(je&=65535)}return new o(Ie,-2147483648&Ie[Ie.length-1]?-1:0)},n.j=function(be){if(A(this)||A(be))return m;if($(this))return $(be)?ne(this).j(ne(be)):ne(ne(this).j(be));if($(be))return ne(this.j(ne(be)));if(0>this.l(w)&&0>be.l(w))return c(this.m()*be.m());for(var ue=this.g.length+be.g.length,Ie=[],Me=0;Me<2*ue;Me++)Ie[Me]=0;for(Me=0;Me<this.g.length;Me++)for(var Le=0;Le<be.g.length;Le++){var je=this.i(Me)>>>16,Ce=65535&this.i(Me),qo=be.i(Le)>>>16,id=65535&be.i(Le);Ie[2*Me+2*Le]+=Ce*id,ge(Ie,2*Me+2*Le),Ie[2*Me+2*Le+1]+=je*id,ge(Ie,2*Me+2*Le+1),Ie[2*Me+2*Le+1]+=Ce*qo,ge(Ie,2*Me+2*Le+1),Ie[2*Me+2*Le+2]+=je*qo,ge(Ie,2*Me+2*Le+2)}for(Me=0;Me<ue;Me++)Ie[Me]=Ie[2*Me+1]<<16|Ie[2*Me];for(Me=ue;Me<2*ue;Me++)Ie[Me]=0;return new o(Ie,0)},n.A=function(be){return Ge(this,be).h},n.and=function(be){for(var ue=Math.max(this.g.length,be.g.length),Ie=[],Me=0;Me<ue;Me++)Ie[Me]=this.i(Me)&be.i(Me);return new o(Ie,this.h&be.h)},n.or=function(be){for(var ue=Math.max(this.g.length,be.g.length),Ie=[],Me=0;Me<ue;Me++)Ie[Me]=this.i(Me)|be.i(Me);return new o(Ie,this.h|be.h)},n.xor=function(be){for(var ue=Math.max(this.g.length,be.g.length),Ie=[],Me=0;Me<ue;Me++)Ie[Me]=this.i(Me)^be.i(Me);return new o(Ie,this.h^be.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QU=YU.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function u(be,ue){if(0==be.length)throw Error("number format error: empty string");if(2>(ue=ue||10)||36<ue)throw Error("radix out of range: "+ue);if("-"==be.charAt(0))return ne(u(be.substring(1),ue));if(0<=be.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ie=c(Math.pow(ue,8)),Me=m,Le=0;Le<be.length;Le+=8){var je=Math.min(8,be.length-Le),Ce=parseInt(be.substring(Le,Le+je),ue);8>je?(je=c(Math.pow(ue,je)),Me=Me.j(je).add(c(Ce))):Me=(Me=Me.j(Ie)).add(c(Ce))}return Me},Fu=YU.Integer=o}).apply(typeof KU<"u"?KU:typeof self<"u"?self:typeof window<"u"?window:{});var XU,hv,ZU,jE,FR,JU,ez,tz,zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ll={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,O){return f==Array.prototype||f==Object.prototype||(f[y]=O.value),f},i=function e(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zE&&zE];for(var y=0;y<f.length;++y){var O=f[y];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}(this);!function r(f,y){if(y)e:{var O=i;f=f.split(".");for(var ie=0;ie<f.length-1;ie++){var Be=f[ie];if(!(Be in O))break e;O=O[Be]}(y=y(ie=O[f=f[f.length-1]]))!=ie&&null!=y&&t(O,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function s(f,y){f instanceof String&&(f+="");var O=0,ie=!1,Be={next:function(){if(!ie&&O<f.length){var Qe=O++;return{value:y(Qe,f[Qe]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}(this,function(y,O){return O})}});var o=o||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function c(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function u(f,y,O){return f.call.apply(f.bind,arguments)}function m(f,y,O){if(!f)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,ie),f.apply(y,Be)}}return function(){return f.apply(y,arguments)}}function v(f,y,O){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:m).apply(null,arguments)}function w(f,y){var O=Array.prototype.slice.call(arguments,1);return function(){var ie=O.slice();return ie.push.apply(ie,arguments),f.apply(this,ie)}}function A(f,y){function O(){}O.prototype=y.prototype,f.aa=y.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(ie,Be,Qe){for(var yt=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)yt[Ti-2]=arguments[Ti];return y.prototype[Be].apply(ie,yt)}}function $(f){const y=f.length;if(0<y){const O=Array(y);for(let ie=0;ie<y;ie++)O[ie]=f[ie];return O}return[]}function ne(f,y){for(let O=1;O<arguments.length;O++){const ie=arguments[O];if(l(ie)){const Be=f.length||0,Qe=ie.length||0;f.length=Be+Qe;for(let yt=0;yt<Qe;yt++)f[Be+yt]=ie[yt]}else f.push(ie)}}function ge(f){return/^[\s\xa0]*$/.test(f)}function Oe(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function Ge(f){return Ge[" "](f),f}Ge[" "]=function(){};var rt=!(-1==Oe().indexOf("Gecko")||-1!=Oe().toLowerCase().indexOf("webkit")&&-1==Oe().indexOf("Edge")||-1!=Oe().indexOf("Trident")||-1!=Oe().indexOf("MSIE")||-1!=Oe().indexOf("Edge"));function ut(f,y,O){for(const ie in f)y.call(O,f[ie],ie,f)}function ue(f){const y={};for(const O in f)y[O]=f[O];return y}const Ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(f,y){let O,ie;for(let Be=1;Be<arguments.length;Be++){for(O in ie=arguments[Be],ie)f[O]=ie[O];for(let Qe=0;Qe<Ie.length;Qe++)O=Ie[Qe],Object.prototype.hasOwnProperty.call(ie,O)&&(f[O]=ie[O])}}function Le(f){var y=1;f=f.split(":");const O=[];for(;0<y&&f.length;)O.push(f.shift()),y--;return f.length&&O.push(f.join(":")),O}function je(f){a.setTimeout(()=>{throw f},0)}function Ce(){var f=On;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var id=new class pe{constructor(y,O){this.i=y,this.j=O,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new kt,f=>f.reset());class kt{constructor(){this.next=this.g=this.h=null}set(y,O){this.h=y,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,Kt=!1,On=new class qo{constructor(){this.h=this.g=null}add(y,O){const ie=id.get();ie.set(y,O),this.h?this.h.next=ie:this.g=ie,this.h=ie}},vr=()=>{const f=a.Promise.resolve(void 0);zt=()=>{f.then(Ko)}};var Ko=()=>{for(var f;f=Ce();){try{f.h.call(f.g)}catch(O){je(O)}var y=id;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}Kt=!1};function sr(){this.s=this.s,this.C=this.C}function Bi(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}sr.prototype.s=!1,sr.prototype.ma=function(){this.s||(this.s=!0,this.N())},sr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Bi.prototype.h=function(){this.defaultPrevented=!0};var Ui=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};a.addEventListener("test",O,y),a.removeEventListener("test",O,y)}catch{}return f}();function rd(f,y){if(Bi.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,ie=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(rt){e:{try{Ge(y.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(y=null)}}else"mouseover"==O?y=f.fromElement:"mouseout"==O&&(y=f.toElement);this.relatedTarget=y,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:w2[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&rd.aa.h.call(this)}}A(rd,Bi);var w2={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var or="closure_listenable_"+(1e6*Math.random()|0),ql=0;function so(f,y,O,ie,Be){this.listener=f,this.proxy=null,this.src=y,this.type=O,this.capture=!!ie,this.ha=Be,this.key=++ql,this.da=this.fa=!1}function Kl(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function sd(f){this.src=f,this.g={},this.h=0}function E2(f,y){var O=y.type;if(O in f.g){var Qe,ie=f.g[O],Be=Array.prototype.indexOf.call(ie,y,void 0);(Qe=0<=Be)&&Array.prototype.splice.call(ie,Be,1),Qe&&(Kl(y),0==f.g[O].length&&(delete f.g[O],f.h--))}}function I2(f,y,O,ie){for(var Be=0;Be<f.length;++Be){var Qe=f[Be];if(!Qe.da&&Qe.listener==y&&Qe.capture==!!O&&Qe.ha==ie)return Be}return-1}sd.prototype.add=function(f,y,O,ie,Be){var Qe=f.toString();(f=this.g[Qe])||(f=this.g[Qe]=[],this.h++);var yt=I2(f,y,ie,Be);return-1<yt?(y=f[yt],O||(y.fa=!1)):((y=new so(y,this.src,Qe,!!ie,Be)).fa=O,f.push(y)),y};var C2="closure_lm_"+(1e6*Math.random()|0),T2={};function NG(f,y,O,ie,Be){if(ie&&ie.once)return LG(f,y,O,ie,Be);if(Array.isArray(y)){for(var Qe=0;Qe<y.length;Qe++)NG(f,y[Qe],O,ie,Be);return null}return O=D2(O),f&&f[or]?f.K(y,O,c(ie)?!!ie.capture:!!ie,Be):FG(f,y,O,!1,ie,Be)}function FG(f,y,O,ie,Be,Qe){if(!y)throw Error("Invalid event type");var yt=c(Be)?!!Be.capture:!!Be,Ti=A2(f);if(Ti||(f[C2]=Ti=new sd(f)),(O=Ti.add(y,O,ie,yt,Qe)).proxy)return O;if(ie=function t1e(){const y=n1e;return function f(O){return y.call(f.src,f.listener,O)}}(),O.proxy=ie,ie.src=f,ie.listener=O,f.addEventListener)Ui||(Be=yt),void 0===Be&&(Be=!1),f.addEventListener(y.toString(),ie,Be);else if(f.attachEvent)f.attachEvent(BG(y.toString()),ie);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(ie)}return O}function LG(f,y,O,ie,Be){if(Array.isArray(y)){for(var Qe=0;Qe<y.length;Qe++)LG(f,y[Qe],O,ie,Be);return null}return O=D2(O),f&&f[or]?f.L(y,O,c(ie)?!!ie.capture:!!ie,Be):FG(f,y,O,!0,ie,Be)}function VG(f,y,O,ie,Be){if(Array.isArray(y))for(var Qe=0;Qe<y.length;Qe++)VG(f,y[Qe],O,ie,Be);else ie=c(ie)?!!ie.capture:!!ie,O=D2(O),f&&f[or]?(f=f.i,(y=String(y).toString())in f.g&&-1<(O=I2(Qe=f.g[y],O,ie,Be))&&(Kl(Qe[O]),Array.prototype.splice.call(Qe,O,1),0==Qe.length&&(delete f.g[y],f.h--))):f&&(f=A2(f))&&(y=f.g[y.toString()],f=-1,y&&(f=I2(y,O,ie,Be)),(O=-1<f?y[f]:null)&&S2(O))}function S2(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[or])E2(y.i,f);else{var O=f.type,ie=f.proxy;y.removeEventListener?y.removeEventListener(O,ie,f.capture):y.detachEvent?y.detachEvent(BG(O),ie):y.addListener&&y.removeListener&&y.removeListener(ie),(O=A2(y))?(E2(O,f),0==O.h&&(O.src=null,y[C2]=null)):Kl(f)}}}function BG(f){return f in T2?T2[f]:T2[f]="on"+f}function n1e(f,y){if(f.da)f=!0;else{y=new rd(y,this);var O=f.listener,ie=f.ha||f.src;f.fa&&S2(f),f=O.call(ie,y)}return f}function A2(f){return(f=f[C2])instanceof sd?f:null}var x2="__closure_events_fn_"+(1e9*Math.random()>>>0);function D2(f){return"function"==typeof f?f:(f[x2]||(f[x2]=function(y){return f.handleEvent(y)}),f[x2])}function bs(){sr.call(this),this.i=new sd(this),this.M=this,this.F=null}function Ls(f,y){var O,ie=f.F;if(ie)for(O=[];ie;ie=ie.F)O.push(ie);if(f=f.M,ie=y.type||y,"string"==typeof y)y=new Bi(y,f);else if(y instanceof Bi)y.target=y.target||f;else{var Be=y;Me(y=new Bi(ie,f),Be)}if(Be=!0,O)for(var Qe=O.length-1;0<=Qe;Qe--){var yt=y.g=O[Qe];Be=QI(yt,ie,!0,y)&&Be}if(Be=QI(yt=y.g=f,ie,!0,y)&&Be,Be=QI(yt,ie,!1,y)&&Be,O)for(Qe=0;Qe<O.length;Qe++)Be=QI(yt=y.g=O[Qe],ie,!1,y)&&Be}function QI(f,y,O,ie){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var Be=!0,Qe=0;Qe<y.length;++Qe){var yt=y[Qe];if(yt&&!yt.da&&yt.capture==O){var Ti=yt.listener,rs=yt.ha||yt.src;yt.fa&&E2(f.i,yt),Be=!1!==Ti.call(rs,ie)&&Be}}return Be&&!ie.defaultPrevented}function UG(f,y,O){if("function"==typeof f)O&&(f=v(f,O));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=v(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function zG(f){f.g=UG(()=>{f.g=null,f.i&&(f.i=!1,zG(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}A(bs,sr),bs.prototype[or]=!0,bs.prototype.removeEventListener=function(f,y,O,ie){VG(this,f,y,O,ie)},bs.prototype.N=function(){if(bs.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var O=f.g[y],ie=0;ie<O.length;ie++)Kl(O[ie]);delete f.g[y],f.h--}}this.F=null},bs.prototype.K=function(f,y,O,ie){return this.i.add(String(f),y,!1,O,ie)},bs.prototype.L=function(f,y,O,ie){return this.i.add(String(f),y,!0,O,ie)};class i1e extends sr{constructor(y,O){super(),this.m=y,this.l=O,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zG(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ry(f){sr.call(this),this.h=f,this.g={}}A(ry,sr);var jG=[];function HG(f){ut(f.g,function(y,O){this.g.hasOwnProperty(O)&&S2(y)},f),f.g={}}ry.prototype.N=function(){ry.aa.N.call(this),HG(this)},ry.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var R2=a.JSON.stringify,r1e=a.JSON.parse,s1e=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function M2(){}function GG(){}M2.prototype.h=null;var sy={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function k2(){Bi.call(this,"d")}function P2(){Bi.call(this,"c")}A(k2,Bi),A(P2,Bi);var rh={},WG=null;function XI(){return WG=WG||new bs}function qG(f){Bi.call(this,rh.La,f)}function oy(f){const y=XI();Ls(y,new qG(y))}function KG(f,y){Bi.call(this,rh.STAT_EVENT,f),this.stat=y}function Vs(f){const y=XI();Ls(y,new KG(y,f))}function YG(f,y){Bi.call(this,rh.Ma,f),this.size=y}function ay(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function ly(){this.g=!0}function ip(f,y,O,ie){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function c1e(f,y){if(!f.g)return y;if(!y)return null;try{var O=JSON.parse(y);if(O)for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var ie=O[f];if(!(2>ie.length)){var Be=ie[1];if(Array.isArray(Be)&&!(1>Be.length)){var Qe=Be[0];if("noop"!=Qe&&"stop"!=Qe&&"close"!=Qe)for(var yt=1;yt<Be.length;yt++)Be[yt]=""}}}return R2(O)}catch{return y}}(f,O)+(ie?" "+ie:"")})}rh.La="serverreachability",A(qG,Bi),rh.STAT_EVENT="statevent",A(KG,Bi),rh.Ma="timingevent",A(YG,Bi),ly.prototype.xa=function(){this.g=!1},ly.prototype.info=function(){};var O2,ZI={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QG={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function JI(){}function od(f,y,O,ie){this.j=f,this.i=y,this.l=O,this.R=ie||1,this.U=new ry(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new XG}function XG(){this.i=null,this.g="",this.h=!1}A(JI,M2),JI.prototype.g=function(){return new XMLHttpRequest},JI.prototype.i=function(){return{}},O2=new JI;var ZG={},N2={};function F2(f,y,O){f.L=1,f.v=iC(Yl(y)),f.m=O,f.P=!0,JG(f,null)}function JG(f,y){f.F=Date.now(),eC(f),f.A=Yl(f.v);var O=f.A,ie=f.R;Array.isArray(ie)||(ie=[String(ie)]),fW(O.i,"t",ie),f.C=0,O=f.j.J,f.h=new XG,f.g=MW(f.j,O?y:null,!f.m),0<f.O&&(f.M=new i1e(v(f.Y,f,f.g),f.O)),y=f.U,O=f.g,ie=f.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(jG[0]=Be.toString()),Be=jG);for(var Qe=0;Qe<Be.length;Qe++){var yt=NG(O,Be[Qe],ie||y.handleEvent,!1,y.h||y);if(!yt)break;y.g[yt.key]=yt}y=f.H?ue(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),oy(),function o1e(f,y,O,ie,Be,Qe){f.info(function(){if(f.g)if(Qe)for(var yt="",Ti=Qe.split("&"),rs=0;rs<Ti.length;rs++){var Zn=Ti[rs].split("=");if(1<Zn.length){var ws=Zn[0];Zn=Zn[1];var Es=ws.split("_");yt=2<=Es.length&&"type"==Es[1]?yt+(ws+"=")+Zn+"&":yt+(ws+"=redacted&")}}else yt=null;else yt=Qe;return"XMLHTTP REQ ("+ie+") [attempt "+Be+"]: "+y+"\n"+O+"\n"+yt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function eW(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function d1e(f,y){var O=f.C,ie=y.indexOf("\n",O);return-1==ie?N2:(O=Number(y.substring(O,ie)),isNaN(O)?ZG:(ie+=1)+O>y.length?N2:(y=y.slice(ie,ie+O),f.C=ie+O,y))}function eC(f){f.S=Date.now()+f.I,tW(f,f.I)}function tW(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=ay(v(f.ba,f),y)}function L2(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function cy(f){0==f.j.G||f.J||AW(f.j,f)}function sh(f){L2(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,HG(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function V2(f,y){try{var O=f.j;if(0!=O.G&&(O.g==f||B2(O.h,f)))if(!f.K&&B2(O.h,f)&&3==O.G){try{var ie=O.Da.g.parse(y)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var Be=ie;if(0==Be[0]){e:if(!O.u){if(O.g){if(!(O.g.F+3e3<f.F))break e;lC(O),oC(O)}H2(O),Vs(18)}}else O.za=Be[1],0<O.za-O.T&&37500>Be[2]&&O.F&&0==O.v&&!O.C&&(O.C=ay(v(O.Za,O),6e3));if(1>=rW(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else ah(O,11)}else if((f.K||O.g==f)&&lC(O),!ge(y))for(Be=O.Da.g.parse(y),y=0;y<Be.length;y++){let Zn=Be[y];if(O.T=Zn[0],Zn=Zn[1],2==O.G)if("c"==Zn[0]){O.K=Zn[1],O.ia=Zn[2];const ws=Zn[3];null!=ws&&(O.la=ws,O.j.info("VER="+O.la));const Es=Zn[4];null!=Es&&(O.Aa=Es,O.j.info("SVER="+O.Aa));const op=Zn[5];null!=op&&"number"==typeof op&&0<op&&(O.L=ie=1.5*op,O.j.info("backChannelRequestTimeoutMs_="+ie)),ie=O;const va=f.g;if(va){const dC=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dC){var Qe=ie.h;Qe.g||-1==dC.indexOf("spdy")&&-1==dC.indexOf("quic")&&-1==dC.indexOf("h2")||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(U2(Qe,Qe.h),Qe.h=null))}if(ie.D){const G2=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;G2&&(ie.ya=G2,zi(ie.I,ie.D,G2))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms"));var yt=f;if((ie=O).qa=RW(ie,ie.J?ie.ia:null,ie.W),yt.K){sW(ie.h,yt);var Ti=yt,rs=ie.L;rs&&(Ti.I=rs),Ti.B&&(L2(Ti),eC(Ti)),ie.g=yt}else TW(ie);0<O.i.length&&aC(O)}else"stop"!=Zn[0]&&"close"!=Zn[0]||ah(O,7);else 3==O.G&&("stop"==Zn[0]||"close"==Zn[0]?"stop"==Zn[0]?ah(O,7):j2(O):"noop"!=Zn[0]&&O.l&&O.l.ta(Zn),O.v=0)}oy()}catch{}}od.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==Ql(f)?y.j():this.Y(f)},od.prototype.Y=function(f){try{if(f==this.g)e:{const Es=Ql(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>Es)&&(3!=Es||this.g&&(this.h.h||this.g.oa()||bW(this.g)))){this.J||4!=Es||7==y||oy(),L2(this);var O=this.g.Z();this.X=O;t:if(eW(this)){var ie=bW(this.g);f="";var Be=ie.length,Qe=4==Ql(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sh(this),cy(this);var yt="";break t}this.h.i=new a.TextDecoder}for(y=0;y<Be;y++)this.h.h=!0,f+=this.h.i.decode(ie[y],{stream:!(Qe&&y==Be-1)});ie.length=0,this.h.g+=f,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=200==O,function a1e(f,y,O,ie,Be,Qe,yt){f.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Be+"]: "+y+"\n"+O+"\n"+Qe+" "+yt})}(this.i,this.u,this.A,this.l,this.R,Es,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ti,rs=this.g;if((Ti=rs.g?rs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Ti)){var Zn=Ti;break t}}Zn=null}if(!(O=Zn)){this.o=!1,this.s=3,Vs(12),sh(this),cy(this);break e}ip(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,V2(this,O)}if(this.P){let va;for(O=!0;!this.J&&this.C<yt.length;){if(va=d1e(this,yt),va==N2){4==Es&&(this.s=4,Vs(14),O=!1),ip(this.i,this.l,null,"[Incomplete Response]");break}if(va==ZG){this.s=4,Vs(15),ip(this.i,this.l,yt,"[Invalid Chunk]"),O=!1;break}ip(this.i,this.l,va,null),V2(this,va)}if(eW(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Es||0!=yt.length||this.h.h||(this.s=1,Vs(16),O=!1),this.o=this.o&&O,O){if(0<yt.length&&!this.W){this.W=!0;var ws=this.j;ws.g==this&&ws.ba&&!ws.M&&(ws.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),$2(ws),ws.M=!0,Vs(11))}}else ip(this.i,this.l,yt,"[Invalid Chunked Response]"),sh(this),cy(this)}else ip(this.i,this.l,yt,null),V2(this,yt);4==Es&&sh(this),this.o&&!this.J&&(4==Es?AW(this.j,this):(this.o=!1,eC(this)))}else(function A1e(f){const y={};f=(f.g&&2<=Ql(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<f.length;ie++){if(ge(f[ie]))continue;var O=Le(f[ie]);const Be=O[0];if("string"!=typeof(O=O[1]))continue;O=O.trim();const Qe=y[Be]||[];y[Be]=Qe,Qe.push(O)}!function be(f,y){for(const O in f)y.call(void 0,f[O],O,f)}(y,function(ie){return ie.join(", ")})})(this.g),400==O&&0<yt.indexOf("Unknown SID")?(this.s=3,Vs(12)):(this.s=0,Vs(13)),sh(this),cy(this)}}}catch{}},od.prototype.cancel=function(){this.J=!0,sh(this)},od.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function l1e(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(oy(),Vs(17)),sh(this),this.s=2,cy(this)):tW(this,this.S-f)};var u1e=class{constructor(f,y){this.g=f,this.map=y}};function nW(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iW(f){return!!f.h||!!f.g&&f.g.size>=f.j}function rW(f){return f.h?1:f.g?f.g.size:0}function B2(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function U2(f,y){f.g?f.g.add(y):f.h=y}function sW(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function oW(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const O of f.g.values())y=y.concat(O.D);return y}return $(f.i)}function aW(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var O=function f1e(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var O=0;O<f;O++)y.push(O);return y}y=[],O=0;for(const ie in f)y[O++]=ie;return y}}}(f),ie=function h1e(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],O=f.length,ie=0;ie<O;ie++)y.push(f[ie]);return y}for(ie in y=[],O=0,f)y[O++]=f[ie];return y}(f),Be=ie.length,Qe=0;Qe<Be;Qe++)y.call(void 0,ie[Qe],O&&O[Qe],f)}nW.prototype.cancel=function(){if(this.i=oW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var lW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof oh){this.h=f.h,tC(this,f.j),this.o=f.o,this.g=f.g,nC(this,f.s),this.l=f.l;var y=f.i,O=new hy;O.i=y.i,y.g&&(O.g=new Map(y.g),O.h=y.h),cW(this,O),this.m=f.m}else f&&(y=String(f).match(lW))?(this.h=!1,tC(this,y[1]||"",!0),this.o=dy(y[2]||""),this.g=dy(y[3]||"",!0),nC(this,y[4]),this.l=dy(y[5]||"",!0),cW(this,y[6]||"",!0),this.m=dy(y[7]||"")):(this.h=!1,this.i=new hy(null,this.h))}function Yl(f){return new oh(f)}function tC(f,y,O){f.j=O?dy(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function nC(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function cW(f,y,O){y instanceof hy?(f.i=y,function b1e(f,y){y&&!f.j&&(ad(f),f.i=null,f.g.forEach(function(O,ie){var Be=ie.toLowerCase();ie!=Be&&(uW(this,ie),fW(this,Be,O))},f)),f.j=y}(f.i,f.h)):(O||(y=uy(y,v1e)),f.i=new hy(y,f.h))}function zi(f,y,O){f.i.set(y,O)}function iC(f){return zi(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dy(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function uy(f,y,O){return"string"==typeof f?(f=encodeURI(f).replace(y,p1e),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function p1e(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}oh.prototype.toString=function(){var f=[],y=this.j;y&&f.push(uy(y,dW,!0),":");var O=this.g;return(O||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(uy(y,dW,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(O=this.s)&&f.push(":",String(O))),(O=this.l)&&(this.g&&"/"!=O.charAt(0)&&f.push("/"),f.push(uy(O,"/"==O.charAt(0)?_1e:g1e,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",uy(O,y1e)),f.join("")};var dW=/[#\/\?@]/g,g1e=/[#\?:]/g,_1e=/[#\?]/g,v1e=/[#\?@]/g,y1e=/#/g;function hy(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function ad(f){f.g||(f.g=new Map,f.h=0,f.i&&function m1e(f,y){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var ie=f[O].indexOf("="),Be=null;if(0<=ie){var Qe=f[O].substring(0,ie);Be=f[O].substring(ie+1)}else Qe=f[O];y(Qe,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}(f.i,function(y,O){f.add(decodeURIComponent(y.replace(/\+/g," ")),O)}))}function uW(f,y){ad(f),y=rp(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function hW(f,y){return ad(f),y=rp(f,y),f.g.has(y)}function fW(f,y,O){uW(f,y),0<O.length&&(f.i=null,f.g.set(rp(f,y),$(O)),f.h+=O.length)}function rp(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function ld(f,y,O,ie,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),ie(O)}catch{}}function I1e(){this.g=new s1e}function C1e(f,y,O){const ie=O||"";try{aW(f,function(Be,Qe){let yt=Be;c(Be)&&(yt=R2(Be)),y.push(ie+Qe+"="+encodeURIComponent(yt))})}catch(Be){throw y.push(ie+"type="+encodeURIComponent("_badmap")),Be}}function fy(f){this.l=f.Ub||null,this.j=f.eb||!1}function rC(f,y){bs.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function mW(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function my(f){f.readyState=4,f.l=null,f.j=null,f.v=null,py(f)}function py(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function pW(f){let y="";return ut(f,function(O,ie){y+=ie,y+=":",y+=O,y+="\r\n"}),y}function z2(f,y,O){e:{for(ie in O){var ie=!1;break e}ie=!0}ie||(O=pW(O),"string"==typeof f?null!=O&&encodeURIComponent(String(O)):zi(f,y,O))}function ar(f){bs.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=hy.prototype).add=function(f,y){ad(this),this.i=null,f=rp(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(y),this.h+=1,this},n.forEach=function(f,y){ad(this),this.g.forEach(function(O,ie){O.forEach(function(Be){f.call(y,Be,ie,this)},this)},this)},n.na=function(){ad(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),O=[];for(let ie=0;ie<y.length;ie++){const Be=f[ie];for(let Qe=0;Qe<Be.length;Qe++)O.push(y[ie])}return O},n.V=function(f){ad(this);let y=[];if("string"==typeof f)hW(this,f)&&(y=y.concat(this.g.get(rp(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)y=y.concat(f[O])}return y},n.set=function(f,y){return ad(this),this.i=null,hW(this,f=rp(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var O=0;O<y.length;O++){var ie=y[O];const Qe=encodeURIComponent(String(ie)),yt=this.V(ie);for(ie=0;ie<yt.length;ie++){var Be=Qe;""!==yt[ie]&&(Be+="="+encodeURIComponent(String(yt[ie]))),f.push(Be)}}return this.i=f.join("&")},A(fy,M2),fy.prototype.g=function(){return new rC(this.l,this.j)},fy.prototype.i=function(f){return function(){return f}}({}),A(rC,bs),(n=rC.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,py(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,my(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,py(this)),this.g&&(this.readyState=3,py(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mW(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?my(this):py(this),3==this.readyState&&mW(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,my(this))},n.Qa=function(f){this.g&&(this.response=f,my(this))},n.ga=function(){this.g&&my(this)},n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var O=y.next();!O.done;)f.push((O=O.value)[0]+": "+O[1]),O=y.next();return f.join("\r\n")},Object.defineProperty(rC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),A(ar,bs);var T1e=/^https?$/i,S1e=["POST","PUT"];function gW(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,_W(f),sC(f)}function _W(f){f.A||(f.A=!0,Ls(f,"complete"),Ls(f,"error"))}function vW(f){if(f.h&&typeof o<"u"&&(!f.v[1]||4!=Ql(f)||2!=f.Z()))if(f.u&&4==Ql(f))UG(f.Ea,0,f);else if(Ls(f,"readystatechange"),4==Ql(f)){f.h=!1;try{const yt=f.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var O;if(!(O=y)){var ie;if(ie=0===yt){var Be=String(f.D).match(lW)[1]||null;!Be&&a.self&&a.self.location&&(Be=a.self.location.protocol.slice(0,-1)),ie=!T1e.test(Be?Be.toLowerCase():"")}O=ie}if(O)Ls(f,"complete"),Ls(f,"success");else{f.m=6;try{var Qe=2<Ql(f)?f.g.statusText:""}catch{Qe=""}f.l=Qe+" ["+f.Z()+"]",_W(f)}}finally{sC(f)}}}function sC(f,y){if(f.g){yW(f);const O=f.g,ie=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ls(f,"ready");try{O.onreadystatechange=ie}catch{}}}function yW(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Ql(f){return f.g?f.g.readyState:0}function bW(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function gy(f,y,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||y}function wW(f){this.Aa=0,this.i=[],this.j=new ly,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gy("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gy("baseRetryDelayMs",5e3,f),this.cb=gy("retryDelaySeedMs",1e4,f),this.Wa=gy("forwardChannelMaxRetries",2,f),this.wa=gy("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new nW(f&&f.concurrentRequestLimit),this.Da=new I1e,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function j2(f){if(EW(f),3==f.G){var y=f.U++,O=Yl(f.I);if(zi(O,"SID",f.K),zi(O,"RID",y),zi(O,"TYPE","terminate"),_y(f,O),(y=new od(f,f.j,y)).L=2,y.v=iC(Yl(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!O&&a.Image&&((new Image).src=y.v,O=!0),O||(y.g=MW(y.j,null),y.g.ea(y.v)),y.F=Date.now(),eC(y)}DW(f)}function oC(f){f.g&&($2(f),f.g.cancel(),f.g=null)}function EW(f){oC(f),f.u&&(a.clearTimeout(f.u),f.u=null),lC(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function aC(f){if(!iW(f.h)&&!f.s){f.s=!0;var y=f.Ga;zt||vr(),Kt||(zt(),Kt=!0),On.add(y,f),f.B=0}}function IW(f,y){var O;O=y?y.l:f.U++;const ie=Yl(f.I);zi(ie,"SID",f.K),zi(ie,"RID",O),zi(ie,"AID",f.T),_y(f,ie),f.m&&f.o&&z2(ie,f.m,f.o),O=new od(f,f.j,O,f.B+1),null===f.m&&(O.H=f.o),y&&(f.i=y.D.concat(f.i)),y=CW(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),U2(f.h,O),F2(O,ie,y)}function _y(f,y){f.H&&ut(f.H,function(O,ie){zi(y,ie,O)}),f.l&&aW({},function(O,ie){zi(y,ie,O)})}function CW(f,y,O){O=Math.min(f.i.length,O);var ie=f.l?v(f.l.Na,f.l,f):null;e:{var Be=f.i;let Qe=-1;for(;;){const yt=["count="+O];-1==Qe?0<O?(Qe=Be[0].g,yt.push("ofs="+Qe)):Qe=0:yt.push("ofs="+Qe);let Ti=!0;for(let rs=0;rs<O;rs++){let Zn=Be[rs].g;const ws=Be[rs].map;if(Zn-=Qe,0>Zn)Qe=Math.max(0,Be[rs].g-100),Ti=!1;else try{C1e(ws,yt,"req"+Zn+"_")}catch{ie&&ie(ws)}}if(Ti){ie=yt.join("&");break e}}}return f=f.i.splice(0,O),y.D=f,ie}function TW(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;zt||vr(),Kt||(zt(),Kt=!0),On.add(y,f),f.v=0}}function H2(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=ay(v(f.Fa,f),xW(f,f.v)),f.v++,0))}function $2(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function SW(f){f.g=new od(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=Yl(f.qa);zi(y,"RID","rpc"),zi(y,"SID",f.K),zi(y,"AID",f.T),zi(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&zi(y,"TO",f.ja),zi(y,"TYPE","xmlhttp"),_y(f,y),f.m&&f.o&&z2(y,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=iC(Yl(y)),O.m=null,O.P=!0,JG(O,f)}function lC(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function AW(f,y){var O=null;if(f.g==y){lC(f),$2(f),f.g=null;var ie=2}else{if(!B2(f.h,y))return;O=y.D,sW(f.h,y),ie=1}if(0!=f.G)if(y.o)if(1==ie){O=y.m?y.m.length:0,y=Date.now()-y.F;var Be=f.B;Ls(ie=XI(),new YG(ie,O)),aC(f)}else TW(f);else if(3==(Be=y.s)||0==Be&&0<y.X||!(1==ie&&function x1e(f,y){return!(rW(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=ay(v(f.Ga,f,y),xW(f,f.B)),f.B++,0)))}(f,y)||2==ie&&H2(f)))switch(O&&0<O.length&&(y=f.h,y.i=y.i.concat(O)),Be){case 1:ah(f,5);break;case 4:ah(f,10);break;case 3:ah(f,6);break;default:ah(f,2)}}function xW(f,y){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*y}function ah(f,y){if(f.j.info("Error code "+y),2==y){var O=v(f.fb,f),ie=f.Xa;const Be=!ie;ie=new oh(ie||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tC(ie,"https"),iC(ie),Be?function w1e(f,y){const O=new ly;if(a.Image){const ie=new Image;ie.onload=w(ld,O,"TestLoadImage: loaded",!0,y,ie),ie.onerror=w(ld,O,"TestLoadImage: error",!1,y,ie),ie.onabort=w(ld,O,"TestLoadImage: abort",!1,y,ie),ie.ontimeout=w(ld,O,"TestLoadImage: timeout",!1,y,ie),a.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=f}else y(!1)}(ie.toString(),O):function E1e(f,y){new ly;const ie=new AbortController,Be=setTimeout(()=>{ie.abort(),ld(0,0,!1,y)},1e4);fetch(f,{signal:ie.signal}).then(Qe=>{clearTimeout(Be),ld(0,0,!!Qe.ok,y)}).catch(()=>{clearTimeout(Be),ld(0,0,!1,y)})}(ie.toString(),O)}else Vs(2);f.G=0,f.l&&f.l.sa(y),DW(f),EW(f)}function DW(f){if(f.G=0,f.ka=[],f.l){const y=oW(f.h);(0!=y.length||0!=f.i.length)&&(ne(f.ka,y),ne(f.ka,f.i),f.h.i.length=0,$(f.i),f.i.length=0),f.l.ra()}}function RW(f,y,O){var ie=O instanceof oh?Yl(O):new oh(O);if(""!=ie.g)y&&(ie.g=y+"."+ie.g),nC(ie,ie.s);else{var Be=a.location;ie=Be.protocol,y=y?y+"."+Be.hostname:Be.hostname,Be=+Be.port;var Qe=new oh(null);ie&&tC(Qe,ie),y&&(Qe.g=y),Be&&nC(Qe,Be),O&&(Qe.l=O),ie=Qe}return y=f.ya,(O=f.D)&&y&&zi(ie,O,y),zi(ie,"VER",f.la),_y(f,ie),ie}function MW(f,y,O){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new ar(f.Ca&&!f.pa?new fy({eb:O}):f.pa)).Ha(f.J),y}function kW(){}function cC(){}function xo(f,y){bs.call(this),this.g=new wW(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!ge(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ge(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new sp(this)}function PW(f){k2.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const O in y){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function OW(){P2.call(this),this.status=1}function sp(f){this.g=f}(n=ar.prototype).Ha=function(f){this.J=f},n.ea=function(f,y,O,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():O2.g(),this.v=function $G(f){return f.h||(f.h=f.i())}(this.o?this.o:O2),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Qe){return void gW(this,Qe)}if(f=O||"",O=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Be in ie)O.set(Be,ie[Be]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const Qe of ie.keys())O.set(Qe,ie.get(Qe))}ie=Array.from(O.keys()).find(Qe=>"content-type"==Qe.toLowerCase()),Be=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S1e,y,void 0))||ie||Be||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,yt]of O)this.g.setRequestHeader(Qe,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yW(this),this.u=!0,this.g.send(f),this.u=!1}catch(Qe){gW(this,Qe)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ls(this,"complete"),Ls(this,"abort"),sC(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sC(this,!0)),ar.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vW(this):this.bb())},n.bb=function(){vW(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ql(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),r1e(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=wW.prototype).la=8,n.G=1,n.connect=function(f,y,O,ie){Vs(0),this.W=f,this.H=y||{},O&&void 0!==ie&&(this.H.OSID=O,this.H.OAID=ie),this.F=this.X,this.I=RW(this,null,this.W),aC(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Be=new od(this,this.j,f);let Qe=this.o;if(this.S&&(Qe?(Qe=ue(Qe),Me(Qe,this.S)):Qe=this.S),null!==this.m||this.O||(Be.H=Qe,Qe=null),this.P)e:{for(var y=0,O=0;O<this.i.length;O++){var ie=this.i[O];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(y+=ie)){y=O;break e}if(4096===y||O===this.i.length-1){y=O+1;break e}}y=1e3}else y=1e3;y=CW(this,Be,y),zi(O=Yl(this.I),"RID",f),zi(O,"CVER",22),this.D&&zi(O,"X-HTTP-Session-Id",this.D),_y(this,O),Qe&&(this.O?y="headers="+encodeURIComponent(String(pW(Qe)))+"&"+y:this.m&&z2(O,this.m,Qe)),U2(this.h,Be),this.Ua&&zi(O,"TYPE","init"),this.P?(zi(O,"$req",y),zi(O,"SID","null"),Be.T=!0,F2(Be,O,null)):F2(Be,O,y),this.G=2}}else 3==this.G&&(f?IW(this,f):0==this.i.length||iW(this.h)||IW(this))},n.Fa=function(){if(this.u=null,SW(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ay(v(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vs(10),oC(this),SW(this))},n.Za=function(){null!=this.C&&(this.C=null,oC(this),H2(this),Vs(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Vs(2)):(this.j.info("Failed to ping google.com"),Vs(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=kW.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},cC.prototype.g=function(f,y){return new xo(f,y)},A(xo,bs),xo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xo.prototype.close=function(){j2(this.g)},xo.prototype.o=function(f){var y=this.g;if("string"==typeof f){var O={};O.__data__=f,f=O}else this.u&&((O={}).__data__=R2(f),f=O);y.i.push(new u1e(y.Ya++,f)),3==y.G&&aC(y)},xo.prototype.N=function(){this.g.l=null,delete this.j,j2(this.g),delete this.g,xo.aa.N.call(this)},A(PW,k2),A(OW,P2),A(sp,kW),sp.prototype.ua=function(){Ls(this.g,"a")},sp.prototype.ta=function(f){Ls(this.g,new PW(f))},sp.prototype.sa=function(f){Ls(this.g,new OW)},sp.prototype.ra=function(){Ls(this.g,"b")},cC.prototype.createWebChannel=cC.prototype.g,xo.prototype.send=xo.prototype.o,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,tz=Ll.createWebChannelTransport=function(){return new cC},ez=Ll.getStatEventTarget=function(){return XI()},JU=Ll.Event=rh,FR=Ll.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ZI.NO_ERROR=0,ZI.TIMEOUT=8,ZI.HTTP_ERROR=6,jE=Ll.ErrorCode=ZI,QG.COMPLETE="complete",ZU=Ll.EventType=QG,GG.EventType=sy,sy.OPEN="a",sy.CLOSE="b",sy.ERROR="c",sy.MESSAGE="d",bs.prototype.listen=bs.prototype.K,hv=Ll.WebChannel=GG,Ll.FetchXmlHttpFactory=fy,ar.prototype.listenOnce=ar.prototype.L,ar.prototype.getLastError=ar.prototype.Ka,ar.prototype.getLastErrorCode=ar.prototype.Ba,ar.prototype.getStatus=ar.prototype.Z,ar.prototype.getResponseJson=ar.prototype.Oa,ar.prototype.getResponseText=ar.prototype.oa,ar.prototype.send=ar.prototype.ea,ar.prototype.setWithCredentials=ar.prototype.Ha,XU=Ll.XhrIo=ar}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});const nz="@firebase/firestore";class Gr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let vm="10.14.0";const Vc=new Ha.Vy("@firebase/firestore");function ym(){return Vc.logLevel}function ht(n,...t){if(Vc.logLevel<=Ha.$b.DEBUG){const e=t.map(LR);Vc.debug(`Firestore (${vm}): ${n}`,...e)}}function gr(n,...t){if(Vc.logLevel<=Ha.$b.ERROR){const e=t.map(LR);Vc.error(`Firestore (${vm}): ${n}`,...e)}}function To(n,...t){if(Vc.logLevel<=Ha.$b.WARN){const e=t.map(LR);Vc.warn(`Firestore (${vm}): ${n}`,...e)}}function LR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const t=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: `+n;throw gr(t),new Error(t)}function Mt(n,t){n||Dt()}function vt(n,t){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Xn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class iz{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Gr.UNAUTHENTICATED))}shutdown(){}}class gbe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class _be{constructor(t){this.t=t,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;Mt(void 0===this.o);let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wr,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable((0,Xe.A)(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new iz(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mt(null===t||"string"==typeof t),new Gr(t)}}class vbe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ybe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new vbe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rz{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bbe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Mt(void 0===this.o);const i=s=>{null!=s.error&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mt("string"==typeof e.token),this.R=e.token,new rz(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wbe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class sz{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=wbe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function fn(n,t){return n<t?-1:n>t?1:0}function bm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function oz(n){return n+"\0"}class Wi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Wi.fromMillis(Date.now())}static fromDate(t){return Wi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Wi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?fn(this.nanoseconds,t.nanoseconds):fn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Wi(0,0))}static max(){return new Ut(new Wi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fv{constructor(t,e,i){void 0===e?e=0:e>t.length&&Dt(),void 0===i?i=t.length-e:i>t.length-e&&Dt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===fv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof fv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Fn extends fv{construct(t,e,i){return new Fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new lt(Ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Fn(e)}static emptyPath(){return new Fn([])}}const Ebe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends fv{construct(t,e,i){return new Fi(t,e,i)}static isValidIdentifier(t){return Ebe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new lt(Ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new lt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new lt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new lt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fi(e)}static emptyPath(){return new Fi([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(Fn.fromString(t))}static fromName(t){return new bt(Fn.fromString(t).popFirst(5))}static empty(){return new bt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new Fn(t.slice()))}}class wm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function VR(n){return n.fields.find(t=>2===t.kind)}function Lu(n){return n.fields.filter(t=>2!==t.kind)}wm.UNKNOWN_ID=-1;class Vu{constructor(t,e){this.fieldPath=t,this.kind=e}}class Em{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Em(0,So.min())}}function az(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ut.fromTimestamp(1e9===i?new Wi(e+1,0):new Wi(e,i));return new So(r,bt.empty(),t)}function lz(n){return new So(n.readTime,n.key,-1)}class So{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new So(Ut.min(),bt.empty(),-1)}static max(){return new So(Ut.max(),bt.empty(),-1)}}function BR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=bt.comparator(n.documentKey,t.documentKey),0!==e?e:fn(n.largestBatchId,t.largestBatchId))}const cz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Bc(n){return UR.apply(this,arguments)}function UR(){return(UR=(0,Xe.A)(function*(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==cz)throw n;ht("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ze{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ze((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ze?e:ze.resolve(e)}catch(e){return ze.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ze.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ze.reject(e)}static resolve(t){return new ze((e,i)=>{e(t)})}static reject(t){return new ze((e,i)=>{i(t)})}static waitFor(t){return new ze((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=ze.resolve(!1);for(const i of t)e=e.next(r=>r?ze.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ze((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new ze((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class HE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new mv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=zR(i.target.error);this.V.reject(new mv(t,r))}}static open(t,e,i,r){try{return new HE(e,t.transaction(r,i))}catch(s){throw new mv(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ht("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Sbe(e)}}class $a{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===$a.S((0,Xn.ZQ)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ht("SimpleDb","Removing database:",t),Bu(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Xn.zW)())return!1;if($a.v())return!0;const t=(0,Xn.ZQ)(),e=$a.S(t),i=0<e&&e<10,r=uz(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,Xe.A)(function*(){return e.db||(ht("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new mv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new lt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new lt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new mv(t,a))},s.onupgradeneeded=o=>{ht("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.O(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{ht("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Xe.A)(function*(){const o="readonly"===e;let a=0;for(;;){++a;try{s.db=yield s.M(t);const l=HE.open(s.db,t,o?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),ze.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(ht("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),s.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function uz(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class Tbe{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Bu(this.B.delete())}}class mv extends lt{constructor(t,e){super(Ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Uc(n){return"IndexedDbTransactionError"===n.name}class Sbe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ht("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ht("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Bu(i)}add(t){return ht("SimpleDb","ADD",this.store.name,t,t),Bu(this.store.add(t))}get(t){return Bu(this.store.get(t)).next(e=>(void 0===e&&(e=null),ht("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ht("SimpleDb","DELETE",this.store.name,t),Bu(this.store.delete(t))}count(){return ht("SimpleDb","COUNT",this.store.name),Bu(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const s=r.getAll(i.range);return new ze((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ze((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(t,e){ht("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new ze((i,r)=>{e.onerror=s=>{const o=zR(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(t,e){const i=[];return new ze((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new Tbe(a),c=e(a.primaryKey,a.value,l);if(c instanceof ze){const u=c.catch(m=>(l.done(),ze.reject(m)));i.push(u)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>ze.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Bu(n){return new ze((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=zR(i.target.error);e(r)}})}let hz=!1;function zR(n){const t=$a.S((0,Xn.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hz||(hz=!0,setTimeout(()=>{throw i},0)),i}}return n}class Abe{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;ht("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Xe.A)(function*(){e.task=null;try{ht("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){Uc(i)?ht("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Bc(i)}yield e.X(6e4)}))}}class xbe{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,Xe.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,s=!0;return ze.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return ht("IndexBackfiller",`Processing collection: ${o}`),this.ne(t,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.re(r,s)).next(a=>(ht("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>o.size)}))}re(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=lz(s);BR(o,i)>0&&(i=o)}),new So(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ao=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function pv(n){return null==n}function gv(n){return 0===n&&1/n==-1/0}function fz(n){return"number"==typeof n&&Number.isInteger(n)&&!gv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function gs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mz(t)),t=Dbe(n.get(e),t);return mz(t)}function Dbe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function mz(n){return n+"\x01\x01"}function Ga(n){const t=n.length;if(Mt(t>=2),2===t)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Dt(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Dt()}s=o+2}return new Fn(i)}const pz=["userId","batchId"];function $E(n,t){return[n,gs(t)]}function gz(n,t,e){return[n,gs(t),e]}const Rbe={},Mbe=["prefixPath","collectionGroup","readTime","documentId"],kbe=["prefixPath","collectionGroup","documentId"],Pbe=["collectionGroup","readTime","prefixPath","documentId"],Obe=["canonicalId","targetId"],Nbe=["targetId","path"],Fbe=["path","targetId"],Lbe=["collectionId","parent"],Vbe=["indexId","uid"],Bbe=["uid","sequenceNumber"],Ube=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zbe=["indexId","uid","orderedDocumentKey"],jbe=["userId","collectionPath","documentId"],Hbe=["userId","collectionPath","largestBatchId"],$be=["userId","collectionGroup","largestBatchId"],_z=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gbe=[..._z,"documentOverlays"],vz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yz=vz,jR=[...yz,"indexConfiguration","indexState","indexEntries"],Wbe=jR,qbe=[...jR,"globals"];class HR extends dz{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function Vr(n,t){const e=vt(n);return $a.F(e._e,t)}function bz(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ez(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Di{constructor(t,e){this.comparator=t,this.root=e||ts.EMPTY}insert(t,e){return new Di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(t){return new Di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ts.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new GE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new GE(this.root,t,this.comparator,!1)}getReverseIterator(){return new GE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new GE(this.root,t,this.comparator,!0)}}class GE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ts{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??ts.RED,this.left=r??ts.EMPTY,this.right=s??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new ts(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ts.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const t=this.left.check();if(t!==this.right.check())throw Dt();return t+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1,ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(t,e,i,r,s){return this}insert(t,e,i){return new ts(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(t){this.comparator=t,this.data=new Di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Iz(this.data.getIterator())}getIteratorFrom(t){return new Iz(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof bi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new bi(this.comparator);return e.data=t,e}}class Iz{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Im(n){return n.hasNext()?n.getNext():void 0}class io{constructor(t){this.fields=t,t.sort(Fi.comparator)}static empty(){return new io([])}unionWith(t){let e=new bi(Fi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new io(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Cz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cz("Invalid base64 string: "+s):s}}(t);return new rr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new rr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const Ybe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vl(n){if(Mt(!!n),"string"==typeof n){let t=0;const e=Ybe.exec(n);if(Mt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qi(n.seconds),nanos:qi(n.nanos)}}function qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bl(n){return"string"==typeof n?rr.fromBase64String(n):rr.fromUint8Array(n)}function WE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function qE(n){const t=n.mapValue.fields.__previous_value__;return WE(t)?qE(t):t}function _v(n){const t=Vl(n.mapValue.fields.__local_write_time__.timestampValue);return new Wi(t.seconds,t.nanos)}class Qbe{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof jc&&t.projectId===this.projectId&&t.database===this.database}}const Hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KE={nullValue:"NULL_VALUE"};function $c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WE(n)?4:Dz(n)?9007199254740991:XE(n)?10:11:Dt()}function Wa(n,t){if(n===t)return!0;const e=$c(n);if(e!==$c(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return _v(n).isEqual(_v(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Vl(r.timestampValue),a=Vl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Bl(n.bytesValue).isEqual(Bl(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return qi(r.geoPointValue.latitude)===qi(s.geoPointValue.latitude)&&qi(r.geoPointValue.longitude)===qi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return qi(r.integerValue)===qi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=qi(r.doubleValue),a=qi(s.doubleValue);return o===a?gv(o)===gv(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return bm(n.arrayValue.values||[],t.arrayValue.values||[],Wa);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(bz(o)!==bz(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Wa(o[l],a[l])))return!1;return!0}(n,t);default:return Dt()}var s}function vv(n,t){return void 0!==(n.values||[]).find(e=>Wa(e,t))}function Gc(n,t){if(n===t)return 0;const e=$c(n),i=$c(t);if(e!==i)return fn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=qi(s.integerValue||s.doubleValue),l=qi(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return Tz(n.timestampValue,t.timestampValue);case 4:return Tz(_v(n),_v(t));case 5:return fn(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Bl(s),l=Bl(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=fn(a[c],l[c]);if(0!==u)return u}return fn(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=fn(qi(s.latitude),qi(o.latitude));return 0!==a?a:fn(qi(s.longitude),qi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Sz(n.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,c,u;const w=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,A=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,$=fn((null===(c=w?.values)||void 0===c?void 0:c.length)||0,(null===(u=A?.values)||void 0===u?void 0:u.length)||0);return 0!==$?$:Sz(w,A)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Hc.mapValue&&o===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(o===Hc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let m=0;m<l.length&&m<u.length;++m){const v=fn(l[m],u[m]);if(0!==v)return v;const w=Gc(a[l[m]],c[u[m]]);if(0!==w)return w}return fn(l.length,u.length)}(n.mapValue,t.mapValue);default:throw Dt()}}function Tz(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return fn(n,t);const e=Vl(n),i=Vl(t),r=fn(e.seconds,i.seconds);return 0!==r?r:fn(e.nanos,i.nanos)}function Sz(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=Gc(e[r],i[r]);if(s)return s}return fn(e.length,i.length)}function Cm(n){return $R(n)}function $R(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Vl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bl(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=$R(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${$R(e.fields[o])}`;return r+"}"}(n.mapValue):Dt()}function Uu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function GR(n){return!!n&&"integerValue"in n}function yv(n){return!!n&&"arrayValue"in n}function Az(n){return!!n&&"nullValue"in n}function xz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function QE(n){return!!n&&"mapValue"in n}function XE(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function bv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=bv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Dz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const Rz={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Xbe(n){return"nullValue"in n?KE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uu(jc.empty(),bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?XE(n)?Rz:{mapValue:{}}:Dt()}function Zbe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uu(jc.empty(),bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Rz:"mapValue"in n?XE(n)?{mapValue:{}}:Hc:Dt()}function Mz(n,t){const e=Gc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function kz(n,t){const e=Gc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ns{constructor(t){this.value=t}static empty(){return new ns({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!QE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bv(e)}setAll(t){let e=Fi.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=bv(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());QE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Wa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];QE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){zc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ns(bv(this.value))}}function Pz(n){const t=[];return zc(n.fields,(e,i)=>{const r=new Fi([e]);if(QE(i)){const s=Pz(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new io(t)}class Li{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Li(t,0,Ut.min(),Ut.min(),Ut.min(),ns.empty(),0)}static newFoundDocument(t,e,i,r){return new Li(t,1,e,Ut.min(),i,r,0)}static newNoDocument(t,e){return new Li(t,2,e,Ut.min(),Ut.min(),ns.empty(),0)}static newUnknownDocument(t,e){return new Li(t,3,e,Ut.min(),Ut.min(),ns.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Li&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,e){this.position=t,this.inclusive=e}}function Oz(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?bt.comparator(bt.fromName(o.referenceValue),e.key):Gc(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Nz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Wa(n.position[e],t.position[e]))return!1;return!0}class wv{constructor(t,e="asc"){this.field=t,this.dir=e}}function Jbe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Fz{}class Ln extends Fz{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new e0e(t,e,i):"array-contains"===e?new i0e(t,i):"in"===e?new jz(t,i):"not-in"===e?new r0e(t,i):"array-contains-any"===e?new s0e(t,i):new Ln(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new t0e(t,i):new n0e(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Gc(e,this.value)):null!==e&&$c(this.value)===$c(e)&&this.matchesComparison(Gc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Fz{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new ui(t,e)}matches(t){return Tm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tm(n){return"and"===n.op}function WR(n){return"or"===n.op}function qR(n){return Lz(n)&&Tm(n)}function Lz(n){for(const t of n.filters)if(t instanceof ui)return!1;return!0}function KR(n){if(n instanceof Ln)return n.field.canonicalString()+n.op.toString()+Cm(n.value);if(qR(n))return n.filters.map(t=>KR(t)).join(",");{const t=n.filters.map(e=>KR(e)).join(",");return`${n.op}(${t})`}}function Vz(n,t){return n instanceof Ln?(i=n,(r=t)instanceof Ln&&i.op===r.op&&i.field.isEqual(r.field)&&Wa(i.value,r.value)):n instanceof ui?function(i,r){return r instanceof ui&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&Vz(o,r.filters[a]),!0)}(n,t):void Dt();var i,r}function Bz(n,t){const e=n.filters.concat(t);return ui.create(e,n.op)}function Uz(n){return n instanceof Ln?`${(e=n).field.canonicalString()} ${e.op} ${Cm(e.value)}`:n instanceof ui?function(e){return e.op.toString()+" {"+e.getFilters().map(Uz).join(" ,")+"}"}(n):"Filter";var e}class e0e extends Ln{constructor(t,e,i){super(t,e,i),this.key=bt.fromName(i.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class t0e extends Ln{constructor(t,e){super(t,"in",e),this.keys=zz(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class n0e extends Ln{constructor(t,e){super(t,"not-in",e),this.keys=zz(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zz(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>bt.fromName(i.referenceValue))}class i0e extends Ln{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yv(e)&&vv(e.arrayValue,this.value)}}class jz extends Ln{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&vv(this.value.arrayValue,e)}}class r0e extends Ln{constructor(t,e){super(t,"not-in",e)}matches(t){if(vv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!vv(this.value.arrayValue,e)}}class s0e extends Ln{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>vv(this.value.arrayValue,i))}}class o0e{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function YR(n,t=null,e=[],i=[],r=null,s=null,o=null){return new o0e(n,t,e,i,r,s,o)}function zu(n){const t=vt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>KR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),pv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Cm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Cm(i)).join(",")),t.ue=e}return t.ue}function Ev(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Jbe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Vz(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Nz(n.startAt,t.startAt)&&Nz(n.endAt,t.endAt)}function ZE(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function JE(n,t){return n.filters.filter(e=>e instanceof Ln&&e.field.isEqual(t))}function Hz(n,t,e){let i=KE,r=!0;for(const s of JE(n,t)){let o=KE,a=!0;switch(s.op){case"<":case"<=":o=Xbe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=KE}Mz({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];Mz({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function $z(n,t,e){let i=Hc,r=!0;for(const s of JE(n,t)){let o=Hc,a=!0;switch(s.op){case">=":case">":o=Zbe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hc}kz({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];kz({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class Ul{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function Gz(n,t,e,i,r,s,o,a){return new Ul(n,t,e,i,r,s,o,a)}function Sm(n){return new Ul(n)}function Wz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QR(n){return null!==n.collectionGroup}function Am(n){const t=vt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bi(Fi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new wv(s,i))}),e.has(Fi.keyField().canonicalString())||t.ce.push(new wv(Fi.keyField(),i))}return t.ce}function _s(n){const t=vt(n);return t.le||(t.le=function Kz(n,t){if("F"===n.limitType)return YR(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new wv(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wc(n.startAt.position,n.startAt.inclusive):null;return YR(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Am(n))),t.le}function XR(n,t){const e=n.filters.concat([t]);return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function eI(n,t,e){return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Iv(n,t){return Ev(_s(n),_s(t))&&n.limitType===t.limitType}function Yz(n){return`${zu(_s(n))}|lt:${n.limitType}`}function xm(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Uz(r)).join(", ")}]`),pv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Cm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Cm(r)).join(",")),`Target(${i})`}(_s(n))}; limitType=${n.limitType})`}function Cv(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):bt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Am(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=Oz(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Am(i),r)||i.endAt&&!function(o,a,l){const c=Oz(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Am(i),r)));var i,r}function Qz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Xz(n){return(t,e)=>{let i=!1;for(const r of Am(n)){const s=a0e(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function a0e(n,t,e){const i=n.field.isKeyField()?bt.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Gc(l,c):Dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt()}}class zl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Ez(this.inner)}size(){return this.innerSize}}const l0e=new Di(bt.comparator);function ro(){return l0e}const Zz=new Di(bt.comparator);function Tv(...n){let t=Zz;for(const e of n)t=t.insert(e.key,e);return t}function Jz(n){let t=Zz;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function qa(){return Sv()}function ej(){return Sv()}function Sv(){return new zl(n=>n.toString(),(n,t)=>n.isEqual(t))}const c0e=new Di(bt.comparator),d0e=new bi(bt.comparator);function yn(...n){let t=d0e;for(const e of n)t=t.add(e);return t}const u0e=new bi(fn);function ZR(){return u0e}function JR(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gv(t)?"-0":t}}function tj(n){return{integerValue:""+n}}function nj(n,t){return fz(t)?tj(t):JR(n,t)}class tI{constructor(){this._=void 0}}function h0e(n,t,e){return n instanceof Dm?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&WE(s)&&(s=qE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof ju?rj(n,t):n instanceof Hu?sj(n,t):function(r,s){const o=ij(r,s),a=oj(o)+oj(r.Pe);return GR(o)&&GR(r.Pe)?tj(a):JR(r.serializer,a)}(n,t)}function f0e(n,t,e){return n instanceof ju?rj(n,t):n instanceof Hu?sj(n,t):e}function ij(n,t){return n instanceof Rm?GR(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Dm extends tI{}class ju extends tI{constructor(t){super(),this.elements=t}}function rj(n,t){const e=aj(t);for(const i of n.elements)e.some(r=>Wa(r,i))||e.push(i);return{arrayValue:{values:e}}}class Hu extends tI{constructor(t){super(),this.elements=t}}function sj(n,t){let e=aj(t);for(const i of n.elements)e=e.filter(r=>!Wa(r,i));return{arrayValue:{values:e}}}class Rm extends tI{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function oj(n){return qi(n.integerValue||n.doubleValue)}function aj(n){return yv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Av{constructor(t,e){this.field=t,this.transform=e}}class p0e{constructor(t,e){this.version=t,this.transformResults=e}}class Ki{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ki}static exists(t){return new Ki(void 0,t)}static updateTime(t){return new Ki(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class iI{}function lj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new km(n.key,Ki.none()):new Mm(n.key,n.data,Ki.none());{const e=n.data,i=ns.empty();let r=new bi(Fi.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new jl(n.key,i,new io(r.toArray()),Ki.none())}}function g0e(n,t,e){n instanceof Mm?function(r,s,o){const a=r.value.clone(),l=uj(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof jl?function(r,s,o){if(!nI(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uj(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dj(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function xv(n,t,e,i){return n instanceof Mm?function(s,o,a,l){if(!nI(s.precondition,o))return a;const c=s.value.clone(),u=hj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof jl?function(s,o,a,l){if(!nI(s.precondition,o))return a;const c=hj(s.fieldTransforms,l,o),u=o.data;return u.setAll(dj(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,t,e,i):(a=e,nI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function _0e(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=ij(i.transform,r||null);null!=s&&(null===e&&(e=ns.empty()),e.set(i.field,s))}return e||null}function cj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&bm(i,r,(s,o)=>function m0e(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof ju&&r instanceof ju||i instanceof Hu&&r instanceof Hu?bm(i.elements,r.elements,Wa):i instanceof Rm&&r instanceof Rm?Wa(i.Pe,r.Pe):i instanceof Dm&&r instanceof Dm);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Mm extends iI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jl extends iI{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function uj(n,t,e){const i=new Map;Mt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,f0e(o,a,e[r]))}return i}function hj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,h0e(s,o,t))}return i}class km extends iI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eM extends iI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&g0e(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=xv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=xv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=ej();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=lj(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ut.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),yn())}isEqual(t){return this.batchId===t.batchId&&bm(this.mutations,t.mutations,(e,i)=>cj(e,i))&&bm(this.baseMutations,t.baseMutations,(e,i)=>cj(e,i))}}class nM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mt(t.mutations.length===i.length);let r=function(){return c0e}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new nM(t,e,i,r)}}class iM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class v0e{constructor(t,e){this.count=t,this.unchangedNames=e}}var xr,Gn;function mj(n){switch(n){default:return Dt();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function pj(n){if(void 0===n)return gr("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case xr.OK:return Ye.OK;case xr.CANCELLED:return Ye.CANCELLED;case xr.UNKNOWN:return Ye.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Ye.INTERNAL;case xr.UNAVAILABLE:return Ye.UNAVAILABLE;case xr.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case xr.NOT_FOUND:return Ye.NOT_FOUND;case xr.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case xr.ABORTED:return Ye.ABORTED;case xr.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case xr.DATA_LOSS:return Ye.DATA_LOSS;default:return Dt()}}(Gn=xr||(xr={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";function gj(){return new TextEncoder}const y0e=new Fu([4294967295,4294967295],0);function _j(n){const t=gj().encode(n),e=new QU;return e.update(t),new Uint8Array(e.digest())}function vj(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Fu([e,i],0),new Fu([r,s],0)]}class rM{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Dv(`Invalid padding: ${e}`);if(i<0)throw new Dv(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Dv(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Dv(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Fu.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(Fu.fromNumber(i)));return 1===r.compare(y0e)&&(r=new Fu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=_j(t),[i,r]=vj(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new rM(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Ie)return;const e=_j(t),[i,r]=vj(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Dv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rv{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Mv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Rv(Ut.min(),r,new Di(fn),ro(),yn())}}class Mv{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mv(i,e,yn(),yn(),yn())}}class sI{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class yj{constructor(t,e){this.targetId=t,this.me=e}}class bj{constructor(t,e,i=rr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wj{constructor(){this.fe=0,this.ge=Ij(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=yn(),e=yn(),i=yn();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Dt()}}),new Mv(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=Ij()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b0e{constructor(t){this.Le=t,this.Be=new Map,this.ke=ro(),this.qe=Ej(),this.Qe=new Di(fn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:Dt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const s=r.target;if(ZE(s))if(0===i){const o=new bt(s.path);this.Ue(e,o,Li.newNoDocument(o,Ut.min()))}else Mt(1===i);else{const o=this.Ye(e);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Bl(i).toUint8Array()}catch(l){if(l instanceof Cz)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rM(o,r,s)}catch(l){return To(l instanceof Dv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,s,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ZE(a.target)){const l=new bt(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,Li.newNoDocument(l,t))}s.be&&(e.set(o,s.ve()),s.Ce())}});let i=yn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new Rv(t,e,this.Qe,this.ke,i);return this.ke=ro(),this.qe=Ej(),this.Qe=new Di(fn),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new wj,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new bi(fn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||ht("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new wj),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Ej(){return new Di(bt.comparator)}function Ij(){return new Di(bt.comparator)}const w0e={asc:"ASCENDING",desc:"DESCENDING"},E0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I0e={and:"AND",or:"OR"};class C0e{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function sM(n,t){return n.useProto3Json||pv(t)?t:{value:t}}function Pm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cj(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function T0e(n,t){return Pm(n,t.toTimestamp())}function _r(n){return Mt(!!n),Ut.fromTimestamp(function(e){const i=Vl(e);return new Wi(i.seconds,i.nanos)}(n))}function oM(n,t){return aM(n,t).canonicalString()}function aM(n,t){const e=(r=n,new Fn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function Tj(n){const t=Fn.fromString(n);return Mt(Fj(t)),t}function kv(n,t){return oM(n.databaseId,t.path)}function Ka(n,t){const e=Tj(t);if(e.get(1)!==n.databaseId.projectId)throw new lt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new lt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(xj(e))}function Sj(n,t){return oM(n.databaseId,t)}function Aj(n){const t=Tj(n);return 4===t.length?Fn.emptyPath():xj(t)}function lM(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xj(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dj(n,t,e){return{name:kv(n,t),fields:e.value.mapValue.fields}}function Rj(n,t,e){const i=Ka(n,t.name),r=_r(t.updateTime),s=t.createTime?_r(t.createTime):Ut.min(),o=new ns({mapValue:{fields:t.fields}}),a=Li.newFoundDocument(i,r,s,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Pv(n,t){let e;if(t instanceof Mm)e={update:Dj(n,t.key,t.value)};else if(t instanceof km)e={delete:kv(n,t.key)};else if(t instanceof jl)e={update:Dj(n,t.key,t.data),updateMask:P0e(t.fieldMask)};else{if(!(t instanceof eM))return Dt();e={verify:kv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Dm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Dt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:T0e(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Dt()),e;var s}function cM(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Ki.updateTime(_r(s.updateTime)):void 0!==s.exists?Ki.exists(s.exists):Ki.none():Ki.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(Mt("REQUEST_TIME"===a.setToServerValue),l=new Dm):"appendMissingElements"in a?l=new ju(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Hu(a.removeAllFromArray.values||[]):"increment"in a?l=new Rm(o,a.increment):Dt();const c=Fi.fromServerFormat(a.fieldPath);return new Av(c,l)}(n,r)):[];var s;if(t.update){const r=Ka(n,t.update.name),s=new ns({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new io((t.updateMask.fieldPaths||[]).map(u=>Fi.fromServerFormat(u)));return new jl(r,s,o,e,i)}return new Mm(r,s,e,i)}if(t.delete){const r=Ka(n,t.delete);return new km(r,e)}if(t.verify){const r=Ka(n,t.verify);return new eM(r,e)}return Dt()}function Mj(n,t){return{documents:[Sj(n,t.path)]}}function oI(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Sj(n,r);const s=function(c){if(0!==c.length)return Nj(ui.create(c,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:qc((v=u).field),direction:R0e(v.dir)};var v})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=sM(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:r};var c}function Pj(n){let t=Aj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mt(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(m){const v=Oj(m);return v instanceof ui&&qR(v)?v.getFilters():[v]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(v=>{return new wv(Om((A=v).field),function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let a=null;e.limit&&(a=function(m){let v;return v="object"==typeof m?m.value:m,pv(v)?null:v}(e.limit));let l=null;var m;e.startAt&&(l=new Wc((m=e.startAt).values||[],!!m.before));let c=null;return e.endAt&&(c=function(m){return new Wc(m.values||[],!m.before)}(e.endAt)),Gz(t,r,o,s,a,"F",l,c)}function Oj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Om(e.unaryFilter.field);return Ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Om(e.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Om(e.unaryFilter.field);return Ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Om(e.unaryFilter.field);return Ln.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?Ln.create(Om((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ui.create(e.compositeFilter.filters.map(i=>Oj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(n):Dt();var e}function R0e(n){return w0e[n]}function M0e(n){return E0e[n]}function k0e(n){return I0e[n]}function qc(n){return{fieldPath:n.canonicalString()}}function Om(n){return Fi.fromServerFormat(n.fieldPath)}function Nj(n){return n instanceof Ln?function(e){if("=="===e.op){if(xz(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NAN"}};if(Az(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xz(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NAN"}};if(Az(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(e.field),op:M0e(e.op),value:e.value}}}(n):n instanceof ui?function(e){const i=e.getFilters().map(r=>Nj(r));return 1===i.length?i[0]:{compositeFilter:{op:k0e(e.op),filters:i}}}(n):Dt()}function P0e(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Fj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hl{constructor(t,e,i,r,s=Ut.min(),o=Ut.min(),a=rr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Hl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Lj{constructor(t){this.ct=t}}function Vj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:aI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:kv(s=n.ct,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Pm(s,o.version.toTimestamp()),createTime:Pm(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:$u(t.version)};else{if(!t.isUnknownDocument())return Dt();i.unknownDocument={path:e.path.toArray(),version:$u(t.version)}}var s,o;return i}function aI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function $u(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gu(n){const t=new Wi(n.seconds,n.nanoseconds);return Ut.fromTimestamp(t)}function Wu(n,t){const e=(t.baseMutations||[]).map(s=>cM(n.ct,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>cM(n.ct,s)),r=Wi.fromMillis(t.localWriteTimeMs);return new tM(t.batchId,r,e,i)}function Ov(n){const t=Gu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Gu(n.lastLimboFreeSnapshotVersion):Ut.min();let i;return i=void 0!==n.query.documents?(Mt(1===(s=n.query).documents.length),_s(Sm(Aj(s.documents[0])))):function(s){return _s(Pj(s))}(n.query),new Hl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,rr.fromBase64String(n.resumeToken));var s}function Bj(n,t){const e=$u(t.snapshotVersion),i=$u(t.lastLimboFreeSnapshotVersion);let r;r=ZE(t.target)?Mj(n.ct,t.target):oI(n.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zu(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function dM(n){const t=Pj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eI(t,t.limit,"L"):t}function uM(n,t){return new iM(t.largestBatchId,cM(n.ct,t.overlayMutation))}function Uj(n,t){const e=t.path.lastSegment();return[n,gs(t.path.popLast()),e]}function zj(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:$u(i.readTime),documentKey:gs(i.documentKey.path),largestBatchId:i.largestBatchId}}class N0e{getBundleMetadata(t,e){return jj(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Gu(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return jj(t).put({bundleId:(r=e).id,createTime:$u(_r(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Hj(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:dM(s.bundledQuery),readTime:Gu(s.readTime)};var s})}saveNamedQuery(t,e){return Hj(t).put({name:(r=e).name,readTime:$u(_r(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jj(n){return Vr(n,"bundles")}function Hj(n){return Vr(n,"namedQueries")}class lI{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new lI(t,e.uid||"")}getOverlay(t,e){return Nv(t).get(Uj(this.userId,e)).next(i=>i?uM(this.serializer,i):null)}getOverlays(t,e){const i=qa();return ze.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const a=new iM(e,o);r.push(this.ht(t,a))}),ze.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(gs(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Nv(t).j("collectionPathOverlayIndex",a))}),ze.waitFor(s)}getOverlaysForCollection(t,e,i){const r=qa(),s=gs(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Nv(t).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=uM(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=qa();let o;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Nv(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const m=uM(this.serializer,c);s.size()<r||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):u.done()}).next(()=>s)}ht(t,e){return Nv(t).put(function(r,s,o){const[a,l,c]=Uj(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pv(r.ct,o.mutation)}}(this.serializer,this.userId,e))}}function Nv(n){return Vr(n,"documentOverlays")}class F0e{Pt(t){return Vr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?rr.fromUint8Array(i):rr.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class qu{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(qi(t.integerValue));else if("doubleValue"in t){const i=qi(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),gv(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=Vl(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(Bl(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?Dz(t)?this.dt(e,Number.MAX_SAFE_INTEGER):XE(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):Dt()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const s=t.fields||{};this.dt(e,53);const o="value",a=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(qi(a)),this.Vt(o,e),this.Tt(s[o],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),bt.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function L0e(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function $j(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=L0e(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}qu.vt=new qu;class V0e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=$j(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=$j(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class B0e{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class U0e{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Fv{constructor(){this.jt=new V0e,this.Ht=new B0e(this.jt),this.Jt=new U0e(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ku{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Ku(this.indexId,this.documentKey,this.arrayValue,i)}}function Kc(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Gj(n.arrayValue,t.arrayValue),0!==e?e:(e=Gj(n.directionalValue,t.directionalValue),0!==e?e:bt.comparator(n.documentKey,t.documentKey)))}function Gj(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Wj{constructor(t){this.Xt=new bi((e,i)=>Fi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(Mt(t.collectionGroup===this.collectionId),this.nn)return!1;const e=VR(t);if(void 0!==e&&!this.sn(e))return!1;const i=Lu(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.sn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<i.length;++s)if(o>=this.en.length||!this._n(this.en[o++],i[s]))return!1;return!0}an(){if(this.nn)return null;let t=new bi(Fi.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Vu(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Vu(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Vu(i.field,"asc"===i.dir?0:1)));return new wm(wm.UNKNOWN_ID,this.collectionId,e,Em.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function qj(n){var t,e;if(Mt(n instanceof Ln||n instanceof ui),n instanceof Ln){if(n instanceof jz){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Ln.create(n.field,"==",s)))||[];return ui.create(r,"or")}return n}const i=n.filters.map(r=>qj(r));return ui.create(i,n.op)}function z0e(n){if(0===n.getFilters().length)return[];const t=mM(qj(n));return Mt(Kj(t)),hM(t)||fM(t)?[t]:t.getFilters()}function hM(n){return n instanceof Ln}function fM(n){return n instanceof ui&&qR(n)}function Kj(n){return hM(n)||fM(n)||function(e){if(e instanceof ui&&WR(e)){for(const i of e.getFilters())if(!hM(i)&&!fM(i))return!1;return!0}return!1}(n)}function mM(n){if(Mt(n instanceof Ln||n instanceof ui),n instanceof Ln)return n;if(1===n.filters.length)return mM(n.filters[0]);const t=n.filters.map(i=>mM(i));let e=ui.create(t,n.op);return e=cI(e),Kj(e)?e:(Mt(e instanceof ui),Mt(Tm(e)),Mt(e.filters.length>1),e.filters.reduce((i,r)=>pM(i,r)))}function pM(n,t){let e;return Mt(n instanceof Ln||n instanceof ui),Mt(t instanceof Ln||t instanceof ui),e=n instanceof Ln?t instanceof Ln?ui.create([n,t],"and"):Yj(n,t):t instanceof Ln?Yj(t,n):function(r,s){if(Mt(r.filters.length>0&&s.filters.length>0),Tm(r)&&Tm(s))return Bz(r,s.getFilters());const o=WR(r)?r:s,a=WR(r)?s:r,l=o.filters.map(c=>pM(c,a));return ui.create(l,"or")}(n,t),cI(e)}function Yj(n,t){if(Tm(t))return Bz(t,n.getFilters());{const e=t.filters.map(i=>pM(n,i));return ui.create(e,"or")}}function cI(n){if(Mt(n instanceof Ln||n instanceof ui),n instanceof Ln)return n;const t=n.getFilters();if(1===t.length)return cI(t[0]);if(Lz(n))return n;const e=t.map(r=>cI(r)),i=[];return e.forEach(r=>{r instanceof Ln?i.push(r):r instanceof ui&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ui.create(i,n.op)}class j0e{constructor(){this.un=new gM}addToCollectionParentIndex(t,e){return this.un.add(e),ze.resolve()}getCollectionParents(t,e){return ze.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ze.resolve()}deleteFieldIndex(t,e){return ze.resolve()}deleteAllFieldIndexes(t){return ze.resolve()}createTargetIndexes(t,e){return ze.resolve()}getDocumentsMatchingTarget(t,e){return ze.resolve(null)}getIndexType(t,e){return ze.resolve(0)}getFieldIndexes(t,e){return ze.resolve([])}getNextCollectionGroupToUpdate(t){return ze.resolve(null)}getMinOffset(t,e){return ze.resolve(So.min())}getMinOffsetFromCollectionGroup(t,e){return ze.resolve(So.min())}updateCollectionGroup(t,e,i){return ze.resolve()}updateIndexEntries(t,e){return ze.resolve()}}class gM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new bi(Fn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new bi(Fn.comparator)).toArray()}}const dI=new Uint8Array(0);class H0e{constructor(t,e){this.databaseId=e,this.cn=new gM,this.ln=new zl(i=>zu(i),(i,r)=>Ev(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const s={collectionId:i,parent:gs(r)};return Qj(t).put(s)}return ze.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[oz(e),""],!1,!0);return Qj(t).U(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(Ga(o.parent))}return i})}addFieldIndex(t,e){const i=Lv(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const o=Fm(t);return s.next(a=>{o.put(zj(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Lv(t),r=Fm(t),s=Nm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Lv(t),i=Nm(t),r=Fm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return ze.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new Wj(i).an();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=Nm(t);let r=!0;const s=new Map;return ze.forEach(this.hn(e),o=>this.Pn(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=yn();const a=[];return ze.forEach(s,(l,c)=>{var Oe;ht("IndexedDbIndexManager",`Using index ${Oe=l,`id=${Oe.indexId}|cg=${Oe.collectionGroup}|f=${Oe.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${zu(e)}`);const u=function(Oe,Ge){const rt=VR(Ge);if(void 0===rt)return null;for(const ut of JE(Oe,rt.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(c,l),m=function(Oe,Ge){const rt=new Map;for(const ut of Lu(Ge))for(const be of JE(Oe,ut.fieldPath))switch(be.op){case"==":case"in":rt.set(ut.fieldPath.canonicalString(),be.value);break;case"not-in":case"!=":return rt.set(ut.fieldPath.canonicalString(),be.value),Array.from(rt.values())}return null}(c,l),v=function(Oe,Ge){const rt=[];let ut=!0;for(const be of Lu(Ge)){const ue=0===be.kind?Hz(Oe,be.fieldPath,Oe.startAt):$z(Oe,be.fieldPath,Oe.startAt);rt.push(ue.value),ut&&(ut=ue.inclusive)}return new Wc(rt,ut)}(c,l),w=function(Oe,Ge){const rt=[];let ut=!0;for(const be of Lu(Ge)){const ue=0===be.kind?$z(Oe,be.fieldPath,Oe.endAt):Hz(Oe,be.fieldPath,Oe.endAt);rt.push(ue.value),ut&&(ut=ue.inclusive)}return new Wc(rt,ut)}(c,l),A=this.In(l,c,v),$=this.In(l,c,w),ne=this.Tn(l,c,m),pe=this.En(l.indexId,u,A,v.inclusive,$,w.inclusive,ne);return ze.forEach(pe,ge=>i.G(ge,e.limit).next(Oe=>{Oe.forEach(Ge=>{const rt=bt.fromSegments(Ge.documentKey);o.has(rt)||(o=o.add(rt),a.push(rt))})}))}).next(()=>a)}return ze.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:z0e(ui.create(t.filters,"and")).map(i=>YR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,s,o,a){const l=(null!=e?e.length:1)*Math.max(i.length,s.length),c=l/(null!=e?e.length:1),u=[];for(let m=0;m<l;++m){const v=e?this.dn(e[m/c]):dI,w=this.An(t,v,i[m%c],r),A=this.Rn(t,v,s[m%c],o),$=a.map(ne=>this.An(t,v,ne,!0));u.push(...this.createRange(w,A,$))}return u}An(t,e,i,r){const s=new Ku(t,bt.empty(),e,i);return r?s:s.Zt()}Rn(t,e,i,r){const s=new Ku(t,bt.empty(),e,i);return r?s.Zt():s}Pn(t,e){const i=new Wj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,e){let i=2;const r=this.hn(e);return ze.forEach(r,s=>this.Pn(t,s).next(o=>{o?0!==i&&o.fields.length<function(l){let c=new bi(Fi.comparator),u=!1;for(const m of l.filters)for(const v of m.getFlattenedFilters())v.field.isKeyField()||("array-contains"===v.op||"array-contains-any"===v.op?u=!0:c=c.add(v.field));for(const m of l.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(u?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new Fv;for(const r of Lu(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.Yt(r.kind);qu.vt.It(s,o)}return i.zt()}dn(t){const e=new Fv;return qu.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new Fv;return qu.vt.It(Uu(this.databaseId,e),i.Yt(function(s){const o=Lu(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new Fv);let s=0;for(const o of Lu(t)){const a=i[s++];for(const l of r)if(this.fn(e,o.fieldPath)&&yv(a))r=this.gn(r,o,a);else{const c=l.Yt(o.kind);qu.vt.It(a,c)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new Fv;l.seed(a.zt()),qu.vt.It(o,l.Yt(e.kind)),s.push(l)}return s}fn(t,e){return!!t.filters.find(i=>i instanceof Ln&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Lv(t),r=Fm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(s=>{const o=[];return ze.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(u,m){const v=m?new Em(m.sequenceNumber,new So(Gu(m.readTime),new bt(Ga(m.documentKey)),m.largestBatchId)):Em.empty(),w=u.fields.map(([A,$])=>new Vu(Fi.fromServerFormat(A),$));return new wm(u.indexId,u.collectionGroup,w,v)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:fn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Lv(t),s=Fm(t);return this.yn(t).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>ze.forEach(a,l=>s.put(zj(l.indexId,this.uid,o,i)))))}updateIndexEntries(t,e){const i=new Map;return ze.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?ze.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),ze.forEach(a,l=>this.wn(t,r,l).next(c=>{const u=this.Sn(s,l);return c.isEqual(u)?ze.resolve():this.bn(t,s,l,c,u)}))))})}Dn(t,e,i,r){return Nm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return Nm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Nm(t);let s=new bi(Kc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(o,a)=>{s=s.add(new Ku(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(t,e){let i=new bi(Kc);const r=this.Vn(e,t);if(null==r)return i;const s=VR(e);if(null!=s){const o=t.data.field(s.fieldPath);if(yv(o))for(const a of o.arrayValue.values||[])i=i.add(new Ku(e.indexId,t.key,this.dn(a),r))}else i=i.add(new Ku(e.indexId,t.key,dI,r));return i}bn(t,e,i,r,s){ht("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(l,c,u,m,v){const w=l.getIterator(),A=c.getIterator();let $=Im(w),ne=Im(A);for(;$||ne;){let pe=!1,ge=!1;if($&&ne){const Oe=u($,ne);Oe<0?ge=!0:Oe>0&&(pe=!0)}else null!=$?ge=!0:pe=!0;pe?(m(ne),ne=Im(A)):ge?(v($),$=Im(w)):($=Im(w),ne=Im(A))}}(r,s,Kc,a=>{o.push(this.Dn(t,e,i,a))},a=>{o.push(this.vn(t,e,i,a))}),ze.waitFor(o)}yn(t){let e=1;return Fm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,a)=>Kc(o,a)).filter((o,a,l)=>!a||0!==Kc(o,l[a-1]));const r=[];r.push(t);for(const o of i){const a=Kc(o,t),l=Kc(o,e);if(0===a)r[0]=t.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,dI,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,dI,[]]))}return s}Cn(t,e){return Kc(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Xj)}getMinOffset(t,e){return ze.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||Dt())).next(Xj)}}function Qj(n){return Vr(n,"collectionParents")}function Nm(n){return Vr(n,"indexEntries")}function Lv(n){return Vr(n,"indexConfiguration")}function Fm(n){return Vr(n,"indexState")}function Xj(n){Mt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;BR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new So(t.readTime,t.documentKey,e)}const Zj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new vs(t,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jj(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let a=0;const l=i.J({range:o},(u,m,v)=>(a++,v.delete()));s.push(l.next(()=>{Mt(1===a)}));const c=[];for(const u of e.mutations){const m=gz(t,u.key.path,e.batchId);s.push(r.delete(m)),c.push(u.key)}return ze.waitFor(s).next(()=>c)}function uI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Dt();t=n.noDocument}return JSON.stringify(t).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class hI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){Mt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new hI(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yc(t).J({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Lm(t),o=Yc(t);return o.add({}).next(a=>{Mt("number"==typeof a);const l=new tM(a,e,i,r),c=function(w,A,$){const ne=$.baseMutations.map(ge=>Pv(w.ct,ge)),pe=$.mutations.map(ge=>Pv(w.ct,ge));return{userId:A,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ne,mutations:pe}}(this.serializer,this.userId,l),u=[];let m=new bi((v,w)=>fn(v.canonicalString(),w.canonicalString()));for(const v of r){const w=gz(this.userId,v.key.path,a);m=m.add(v.key.path.popLast()),u.push(o.put(c)),u.push(s.put(w,Rbe))}return m.forEach(v=>{u.push(this.indexManager.addToCollectionParentIndex(t,v))}),t.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),ze.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return Yc(t).get(e).next(i=>i?(Mt(i.userId===this.userId),Wu(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?ze.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Yc(t).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Mt(a.batchId>=i),s=Wu(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yc(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yc(t).U("userMutationsIndex",e).next(i=>i.map(r=>Wu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=$E(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Lm(t).J({range:r},(o,a,l)=>{const[c,u,m]=o,v=Ga(u);if(c===this.userId&&e.path.isEqual(v))return Yc(t).get(m).next(w=>{if(!w)throw Dt();Mt(w.userId===this.userId),s.push(Wu(this.serializer,w))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new bi(fn);const r=[];return e.forEach(s=>{const o=$E(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Lm(t).J({range:a},(c,u,m)=>{const[v,w,A]=c,$=Ga(w);v===this.userId&&s.path.isEqual($)?i=i.add(A):m.done()});r.push(l)}),ze.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=$E(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new bi(fn);return Lm(t).J({range:o},(l,c,u)=>{const[m,v,w]=l,A=Ga(v);m===this.userId&&i.isPrefixOf(A)?A.length===r&&(a=a.add(w)):u.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Yc(t).get(s).next(o=>{if(null===o)throw Dt();Mt(o.userId===this.userId),i.push(Wu(this.serializer,o))}))}),ze.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Jj(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),ze.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ze.resolve();const i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return Lm(t).J({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=Ga(s[1]);r.push(l)}else a.done()}).next(()=>{Mt(0===r.length)})})}containsKey(t,e){return eH(t,this.userId,e)}Nn(t){return tH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eH(n,t,e){const i=$E(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Lm(n).J({range:s,H:!0},(a,l,c)=>{const[u,m,v]=a;u===t&&m===r&&(o=!0),c.done()}).next(()=>o)}function Yc(n){return Vr(n,"mutations")}function Lm(n){return Vr(n,"documentMutations")}function tH(n){return Vr(n,"mutationQueues")}class Yu{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yu(0)}static kn(){return new Yu(-1)}}class $0e{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new Yu(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>Ut.fromTimestamp(new Wi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Vm(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Vm(t).J((o,a)=>{const l=Ov(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>ze.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Vm(t).J((i,r)=>{const s=Ov(r);e(s)})}qn(t){return nH(t).get("targetGlobalKey").next(e=>(Mt(null!==e),e))}Qn(t,e){return nH(t).put("targetGlobalKey",e)}Kn(t,e){return Vm(t).put(Bj(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=zu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Vm(t).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=Ov(a);Ev(e,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Qc(t);return e.forEach(o=>{const a=gs(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,o))}),ze.waitFor(r)}removeMatchingKeys(t,e,i){const r=Qc(t);return ze.forEach(e,s=>{const o=gs(s.path);return ze.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Qc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qc(t);let s=yn();return r.J({range:i,H:!0},(o,a,l)=>{const c=Ga(o[1]),u=new bt(c);s=s.add(u)}).next(()=>s)}containsKey(t,e){const i=gs(e.path),r=IDBKeyRange.bound([i],[oz(i)],!1,!0);let s=0;return Qc(t).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ot(t,e){return Vm(t).get(e).next(i=>i?Ov(i):null)}}function Vm(n){return Vr(n,"targets")}function nH(n){return Vr(n,"targetGlobal")}function Qc(n){return Vr(n,"targetDocuments")}function iH([n,t],[e,i]){const r=fn(n,e);return 0===r?fn(t,i):r}class G0e{constructor(t){this.Un=t,this.buffer=new bi(iH),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();iH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class rH{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;ht("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Xe.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Uc(i)?ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Bc(i)}yield e.Hn(3e5)}))}}class W0e{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ze.resolve(Ao.oe);const i=new G0e(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Zj)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zj):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,a=Date.now(),this.removeTargets(t,i,e))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(c=Date.now(),ym()<=Ha.$b.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}class q0e{constructor(t,e){this.db=t,this.garbageCollector=function sH(n,t){return new W0e(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return fI(t,i)}removeReference(t,e,i){return fI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return fI(t,e)}nr(t,e){return function(r,s){let o=!1;return tH(r).Y(a=>eH(r,a,s).next(l=>(l&&(o=!0),ze.resolve(!l)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.tr(t,(o,a)=>{if(a<=e){const l=this.nr(t,o).next(c=>{if(!c)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,Ut.min()),Qc(t).delete([0,gs(o.path)])))});r.push(l)}}).next(()=>ze.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return fI(t,e)}tr(t,e){const i=Qc(t);let r,s=Ao.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==Ao.oe&&e(new bt(Ga(r)),s),s=c,r=l):s=Ao.oe}).next(()=>{s!==Ao.oe&&e(new bt(Ga(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function fI(n,t){return Qc(n).put((r=n.currentSequenceNumber,{targetId:0,path:gs(t.path),sequenceNumber:r}));var r}class oH{constructor(){this.changes=new zl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Li.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ze.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class K0e{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Qu(t).put(i)}removeEntry(t,e,i){return Qu(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],aI(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=Li.newInvalidDocument(e);return Qu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(e))},(r,s)=>{i=this.ir(e,s)}).next(()=>i)}sr(t,e){let i={size:0,document:Li.newInvalidDocument(e)};return Qu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(e))},(r,s)=>{i={document:this.ir(e,s),size:uI(s)}}).next(()=>i)}getEntries(t,e){let i=ro();return this._r(t,e,(r,s)=>{const o=this.ir(r,s);i=i.insert(r,o)}).next(()=>i)}ar(t,e){let i=ro(),r=new Di(bt.comparator);return this._r(t,e,(s,o)=>{const a=this.ir(s,o);i=i.insert(s,a),r=r.insert(s,uI(o))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return ze.resolve();let r=new bi(dH);e.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Vv(r.first()),Vv(r.last())),o=r.getIterator();let a=o.getNext();return Qu(t).J({index:"documentKeyIndex",range:s},(l,c,u)=>{const m=bt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&dH(a,m)<0;)i(a,null),a=o.getNext();a&&a.isEqual(m)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?u.$(Vv(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),aI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qu(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let u=ro();for(const m of c){const v=this.ir(bt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);v.isFoundDocument()&&(Cv(e,v)||r.has(v.key))&&(u=u.insert(v.key,v))}return u})}getAllFromCollectionGroup(t,e,i,r){let s=ro();const o=cH(e,i),a=cH(e,So.max());return Qu(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const m=this.ir(bt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(m.key,m),s.size===r&&u.done()}).next(()=>s)}newChangeBuffer(t){return new Y0e(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return lH(t).get("remoteDocumentGlobalKey").next(e=>(Mt(!!e),e))}rr(t,e){return lH(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function O0e(n,t){let e;if(t.document)e=Rj(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=bt.fromSegments(t.noDocument.path),r=Gu(t.noDocument.readTime);e=Li.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dt();{const i=bt.fromSegments(t.unknownDocument.path),r=Gu(t.unknownDocument.version);e=Li.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new Wi(r[0],r[1]);return Ut.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Ut.min()))return i}return Li.newInvalidDocument(t)}}function aH(n){return new K0e(n)}class Y0e extends oH{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new zl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new bi((s,o)=>fn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(e.push(this.cr.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=Vj(this.cr.serializer,o);r=r.add(s.path.popLast());const c=uI(l);i+=c-a.size,e.push(this.cr.addEntry(t,s,l))}else if(i-=a.size,this.trackRemovals){const l=Vj(this.cr.serializer,o.convertToNoDocument(Ut.min()));e.push(this.cr.addEntry(t,s,l))}}),r.forEach(s=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.cr.updateMetadata(t,i)),ze.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function lH(n){return Vr(n,"remoteDocumentGlobal")}function Qu(n){return Vr(n,"remoteDocumentsV14")}function Vv(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cH(n,t){const e=t.documentKey.path.toArray();return[n,aI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function dH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=fn(e[s],i[s]),r)return r;return r=fn(e.length,i.length),r||(r=fn(e[e.length-2],i[i.length-2]),r||fn(e[e.length-1],i[i.length-1]))}class Q0e{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class uH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&xv(i.mutation,r,io.empty(),Wi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,yn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=yn()){const r=qa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Tv();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=qa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,yn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=ro();const o=Sv(),a=Sv();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof jl)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),xv(u.mutation,c,u.mutation.getFieldMask(),Wi.now())):o.set(c.key,io.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var m;return a.set(c,new Q0e(u,null!==(m=o.get(c))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Sv();let r=new Di((o,a)=>o-a),s=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||io.empty();u=a.applyToLocalView(c,u),i.set(l,u);const m=(r.get(a.batchId)||yn()).add(l);r=r.insert(a.batchId,m)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,m=ej();u.forEach(v=>{if(!s.has(v)){const w=lj(e.get(v),i.get(v));null!==w&&m.set(v,w),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,m))}return ze.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return bt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):QR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ze.resolve(qa());let a=-1,l=s;return o.next(c=>ze.forEach(c,(u,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(t,u).next(v=>{l=l.insert(u,v)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,yn())).next(u=>({batchId:a,changes:Jz(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next(i=>{let r=Tv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Tv();return this.indexManager.getCollectionParents(t,s).next(a=>ze.forEach(a,l=>{const c=(m=e,v=l.child(s),new Ul(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((m,v)=>{o=o.insert(m,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Li.newInvalidDocument(u)))});let a=Tv();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&xv(u.mutation,c,io.empty(),Wi.now()),Cv(e,c)&&(a=a.insert(l,c))}),a})}}class X0e{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ze.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:_r(r.createTime)}),ze.resolve();var r}getNamedQuery(t,e){return ze.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:dM(r.bundledQuery),readTime:_r(r.readTime)}),ze.resolve();var r}}class Z0e{constructor(){this.overlays=new Di(bt.comparator),this.Ir=new Map}getOverlay(t,e){return ze.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qa();return ze.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ht(t,e,s)}),ze.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ze.resolve()}getOverlaysForCollection(t,e,i){const r=qa(),s=e.length+1,o=new bt(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ze.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Di((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=qa(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=qa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return ze.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new iM(e,i));let s=this.Ir.get(e);void 0===s&&(s=yn(),this.Ir.set(e,s)),this.Ir.set(e,s.add(i.key))}}class J0e{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(t){return ze.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ze.resolve()}}class _M{constructor(){this.Tr=new bi(qr.Er),this.dr=new bi(qr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new qr(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new qr(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new bt(new Fn([])),i=new qr(e,t),r=new qr(e,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new bt(new Fn([])),i=new qr(e,t),r=new qr(e,t+1);let s=yn();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new qr(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class qr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return bt.comparator(t.key,e.key)||fn(t.wr,e.wr)}static Ar(t,e){return fn(t.wr,e.wr)||bt.comparator(t.key,e.key)}}class ewe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new bi(qr.Er)}checkEmpty(t){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.Sr;this.Sr++;const o=new tM(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new qr(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ze.resolve(o)}lookupMutationBatch(t,e){return ze.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),s=r<0?0:r;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qr(e,0),r=new qr(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new bi(fn);return e.forEach(r=>{const s=new qr(r,0),o=new qr(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),ze.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;bt.isDocumentKey(s)||(s=s.child(""));const o=new qr(new bt(s),0);let a=new bi(fn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),ze.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Mt(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ze.forEach(e.mutations,r=>{const s=new qr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new qr(e,0),r=this.br.firstAfterOrEqual(i);return ze.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ze.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class twe{constructor(t){this.Mr=t,this.docs=new Di(bt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ze.resolve(i?i.document.mutableCopy():Li.newInvalidDocument(e))}getEntries(t,e){let i=ro();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Li.newInvalidDocument(r))}),ze.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ro();const o=e.path,a=new bt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||BR(lz(u),i)<=0||(r.has(u.key)||Cv(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Dt()}Or(t,e){return ze.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new nwe(this)}getSize(t){return ze.resolve(this.size)}}class nwe extends oH{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ze.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class iwe{constructor(t){this.persistence=t,this.Nr=new zl(e=>zu(e),Ev),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _M,this.targetCount=0,this.kr=Yu.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),ze.resolve()}getLastRemoteSnapshotVersion(t){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ze.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),ze.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Yu(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ze.resolve()}updateTargetData(t,e){return this.Kn(e),ze.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ze.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ze.waitFor(s).next(()=>r)}getTargetCount(t){return ze.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return ze.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),ze.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),ze.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ze.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return ze.resolve(i)}containsKey(t,e){return ze.resolve(this.Br.containsKey(e))}}class vM{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Ao(0),this.Kr=!1,this.Kr=!0,this.$r=new J0e,this.referenceDelegate=t(this),this.Ur=new iwe(this),this.indexManager=new j0e,this.remoteDocumentCache=new twe(i=>this.referenceDelegate.Wr(i)),this.serializer=new Lj(e),this.Gr=new X0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Z0e,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new ewe(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new rwe(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,e){return ze.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class rwe extends dz{constructor(t){super(),this.currentSequenceNumber=t}}class mI{constructor(t){this.persistence=t,this.Jr=new _M,this.Yr=null}static Zr(t){return new mI(t)}get Xr(){if(this.Yr)return this.Yr;throw Dt()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),ze.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),ze.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ze.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,i=>{const r=bt.fromPath(i);return this.ei(t,r).next(s=>{s||e.removeEntry(r,Ut.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ze.or([()=>ze.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class swe{constructor(t){this.serializer=t}O(t,e,i,r){const s=new HE("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pz,{unique:!0}),l.createObjectStore("documentMutations"),hH(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=ze.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),hH(t)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pz,{unique:!0});const m=c.store("mutations"),v=u.map(w=>m.put(w));return ze.waitFor(v)})}(t,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.ni(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ri(s)))),i<7&&r>=7&&(o=o.next(()=>this.ii(s))),i<8&&r>=8&&(o=o.next(()=>this.si(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.oi(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:jbe});c.createIndex("collectionPathOverlayIndex",Hbe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",$be,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Mbe});c.createIndex("documentKeyIndex",kbe),c.createIndex("collectionGroupIndex",Pbe)}(t)).next(()=>this._i(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ai(t,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Vbe}).createIndex("sequenceNumberIndex",Bbe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Ube}).createIndex("documentKeyIndex",zbe,{unique:!1})}(t))),i<16&&r>=16&&(o=o.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(t)})),o}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=uI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>ze.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>ze.forEach(a,l=>{Mt(l.userId===s.userId);const c=Wu(this.serializer,l);return Jj(t,s.userId,c).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((o,a)=>{const l=new Fn(o),c=[0,gs(l)];s.push(e.get(c).next(u=>u?ze.resolve():e.put({targetId:0,path:gs(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ze.waitFor(s))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Lbe});const i=e.store("collectionParents"),r=new gM,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:gs(l)})}};return e.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Fn(o);return s(l.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([o,a,l],c)=>{const u=Ga(a);return s(u.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const s=Ov(r),o=Bj(this.serializer,s);return e.put(o)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((s,o)=>{const a=e.store("remoteDocumentsV14"),l=(m=o,m.document?new bt(Fn.fromString(m.document.name).popFirst(5)):m.noDocument?bt.fromSegments(m.noDocument.path):m.unknownDocument?bt.fromSegments(m.unknownDocument.path):Dt()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;r.push(a.put(c))}).next(()=>ze.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=aH(this.serializer),s=new vM(mI.Zr,this.serializer.ct);return i.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:yn();Wu(this.serializer,l).keys().forEach(m=>u=u.add(m)),a.set(l.userId,u)}),ze.forEach(a,(l,c)=>{const u=new Gr(c),m=lI.lt(this.serializer,u),v=s.getIndexManager(u),w=hI.lt(u,this.serializer,v,s.referenceDelegate);return new uH(r,w,m,v).recalculateAndSaveOverlaysForDocumentKeys(new HR(e,Ao.oe),l).next()})})}}function hH(n){n.createObjectStore("targetDocuments",{keyPath:Nbe}).createIndex("documentTargetsIndex",Fbe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Obe,{unique:!0}),n.createObjectStore("targetGlobal")}const yM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bM{constructor(t,e,i,r,s,o,a,l,c,u,m=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=u,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=v=>Promise.resolve(),!bM.D())throw new lt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new q0e(this,r),this.Ai=e+"main",this.serializer=new Lj(l),this.Ri=new $a(this.Ai,this.hi,new swe(this.serializer)),this.$r=new F0e,this.Ur=new $0e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aH(this.serializer),this.Gr=new N0e,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===u&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(Ye.FAILED_PRECONDITION,yM);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Ao(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,Xe.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,Xe.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,Xe.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>gI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(Uc(t))return ht("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Bv(t).get("owner").next(e=>ze.resolve(this.vi(e)))}Ci(t){return gI(t).delete(this.clientId)}Fi(){var t=this;return(0,Xe.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vr(i,"clientMetadata");return r.U().next(s=>{const o=t.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return ze.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ze.resolve(!0):Bv(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new lt(Ye.FAILED_PRECONDITION,yM);return!1}}return!(!this.networkEnabled||!this.inForeground)||gI(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ht("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Xe.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new HR(e,Ao.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>gI(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return hI.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new H0e(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return lI.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){ht("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=17===(l=this.hi)?qbe:16===l?Wbe:15===l?jR:14===l?yz:13===l?vz:12===l?Gbe:11===l?_z:void Dt();var l;let o;return this.Ri.runTransaction(t,r,s,a=>(o=new HR(a,this.Qr?this.Qr.next():Ao.oe),"readwrite-primary"===e?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw gr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new lt(Ye.FAILED_PRECONDITION,cz);return i(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(t){return Bv(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lt(Ye.FAILED_PRECONDITION,yM)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bv(t).put("owner",e)}static D(){return $a.D()}bi(t){const e=Bv(t);return e.get("owner").next(i=>this.vi(i)?(ht("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ze.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(gr(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,Xn.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return ht("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){gr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Bv(n){return Vr(n,"owner")}function gI(n){return Vr(n,"clientMetadata")}function wM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class EM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=yn(),r=yn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new EM(t,e.fromCache,i,r)}}class owe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Xn.nr)()?8:uz((0,Xn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.Yi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new owe;return this.Xi(t,e,o).next(a=>{if(s.result=a,this.zi)return this.es(t,e,o,a.size)})}).next(()=>s.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(ym()<=Ha.$b.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",xm(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(ym()<=Ha.$b.DEBUG&&ht("QueryEngine","Query:",xm(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(ym()<=Ha.$b.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",xm(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_s(e))):ze.resolve())}Yi(t,e){if(Wz(e))return ze.resolve(null);let i=_s(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=eI(e,null,"F"),i=_s(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=yn(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.ts(e,a);return this.ns(e,c,o,l.readTime)?this.Yi(t,eI(e,null,"F")):this.rs(t,c,e,l)}))})))}Zi(t,e,i,r){return Wz(e)||r.isEqual(Ut.min())?ze.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(e,s);return this.ns(e,o,i,r)?ze.resolve(null):(ym()<=Ha.$b.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xm(e)),this.rs(t,o,e,az(r,-1)).next(a=>a))})}ts(t,e){let i=new bi(Xz(t));return e.forEach((r,s)=>{Cv(t,s)&&(i=i.add(s))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,e,i){return ym()<=Ha.$b.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",xm(e)),this.Ji.getDocumentsMatchingQuery(t,e,So.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class awe{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new Di(fn),this._s=new zl(s=>zu(s),Ev),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function mH(n,t,e,i){return new awe(n,t,e,i)}function pH(n,t){return IM.apply(this,arguments)}function IM(){return(IM=(0,Xe.A)(function*(n,t){const e=vt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=yn();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function gH(n){const t=vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function _H(n,t,e){let i=yn(),r=yn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=ro();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ht("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function dwe(n,t){const e=vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Bm(n,t){const e=vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(s=>s?(r=s,ze.resolve(r)):e.Ur.allocateTargetId(i).next(o=>(r=new Hl(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function Um(n,t,e){return CM.apply(this,arguments)}function CM(){return(CM=(0,Xe.A)(function*(n,t,e){const i=vt(n),r=i.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Uc(o))throw o;ht("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function _I(n,t,e){const i=vt(n);let r=Ut.min(),s=yn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const m=vt(l),v=m._s.get(u);return void 0!==v?ze.resolve(m.os.get(v)):m.Ur.getTargetData(c,u)}(i,o,_s(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,e?r:Ut.min(),e?s:yn())).next(a=>(bH(i,Qz(t),a),{documents:a,Ts:s})))}function vH(n,t){const e=vt(n),i=vt(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,t).next(o=>o?o.target:null))}function yH(n,t){const e=vt(n),i=e.us.get(t)||Ut.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,az(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(bH(e,t,r),r))}function bH(n,t,e){let i=n.us.get(t)||Ut.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(t,i)}function TM(){return(TM=(0,Xe.A)(function*(n,t,e,i){const r=vt(n);let s=yn(),o=ro();for(const c of e){const u=t.Es(c.metadata.name);c.document&&(s=s.add(u));const m=t.ds(c);m.setReadTime(t.As(c.metadata.readTime)),o=o.insert(u,m)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield Bm(r,(u=i,_s(Sm(Fn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>_H(c,a,o).next(u=>(a.apply(c),u)).next(u=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.Ps,u.Is)).next(()=>u.Ps)))})).apply(this,arguments)}function hwe(n,t){return SM.apply(this,arguments)}function SM(){return(SM=(0,Xe.A)(function*(n,t,e=yn()){const i=yield Bm(n,_s(dM(t.bundledQuery))),r=vt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=_r(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Gr.saveNamedQuery(s,t);const a=i.withResumeToken(rr.EMPTY_BYTE_STRING,o);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(s,a).next(()=>r.Ur.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ur.addMatchingKeys(s,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(s,t))})})).apply(this,arguments)}function wH(n,t){return`firestore_clients_${n}_${t}`}function EH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function AM(n,t){return`firestore_targets_${n}_${t}`}class vI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new lt(r.error.code,r.error.message))),o?new vI(t,e,r.state,s):(gr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Uv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new lt(i.error.code,i.error.message))),s?new Uv(t,i.state,r):(gr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=ZR();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=fz(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new yI(t,s):(gr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class xM{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new xM(e.clientId,e.onlineState):(gr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class DM{constructor(){this.activeTargetIds=ZR()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RM{constructor(t,e,i,r,s){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Di(fn),this.started=!1,this.bs=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=wH(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new DM),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Xe.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const s=t.getItem(wH(t.persistenceKey,r));if(s){const o=yI.Rs(r,s);o&&(t.Ss=t.Ss.insert(o.clientId,o))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(AM(this.persistenceKey,t));if(r){const s=Uv.Rs(t,r);s&&(i=s.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(AM(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ht("SharedClientState","READ",t,e),e}setItem(t,e){ht("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ht("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ht("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Xe.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(o){let a=Ao.oe;if(null!=o)try{const l=JSON.parse(o);Mt("number"==typeof l),a=l}catch(l){gr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Ao.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.eo(s)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new vI(this.currentUser,t,e,i),s=EH(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Vs())}Qs(t){const e=EH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=AM(this.persistenceKey,t),s=new Uv(t,e,i);this.setItem(r,s.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return yI.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return vI.Rs(new Gr(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return Uv.Rs(r,e)}Ls(t){return xM.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,Xe.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);ht("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),s=this.ks(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=ZR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class IH{constructor(){this.so=new DM,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new DM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fwe{_o(t){}shutdown(){}}class CH{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bI=null;function MM(){return null===bI?bI=268435456+Math.round(2147483648*Math.random()):bI++,"0x"+bI.toString(16)}const mwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pwe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const ys="WebChannelConnection";class gwe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(e,i,r,s,o){const a=MM(),l=this.xo(e,i.toUriEncodedString());ht("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(e,l,c,r).then(u=>(ht("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw To("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Lo(e,i,r,s,o,a){return this.Mo(e,i,r,s,o)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}xo(e,i){return`${this.Do}/v1/${i}:${mwe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const s=MM();return new Promise((o,a)=>{const l=new XU;l.setWithCredentials(!0),l.listenOnce(ZU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jE.NO_ERROR:const u=l.getResponseJson();ht(ys,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case jE.TIMEOUT:ht(ys,`RPC '${t}' ${s} timed out`),a(new lt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case jE.HTTP_ERROR:const m=l.getStatus();if(ht(ys,`RPC '${t}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v?.error;if(w&&w.status&&w.message){const A=function(ne){const pe=ne.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(pe)>=0?pe:Ye.UNKNOWN}(w.status);a(new lt(A,w.message))}else a(new lt(Ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new lt(Ye.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{ht(ys,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);ht(ys,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}Bo(t,e,i){const r=MM(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=tz(),a=ez(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");ht(ys,`Creating RPC '${t}' stream ${r}: ${u}`,l);const m=o.createWebChannel(u,l);let v=!1,w=!1;const A=new pwe({Io:ne=>{w?ht(ys,`Not sending because RPC '${t}' stream ${r} is closed:`,ne):(v||(ht(ys,`Opening RPC '${t}' stream ${r} transport.`),m.open(),v=!0),ht(ys,`RPC '${t}' stream ${r} sending:`,ne),m.send(ne))},To:()=>m.close()}),$=(ne,pe,ge)=>{ne.listen(pe,Oe=>{try{ge(Oe)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return $(m,hv.EventType.OPEN,()=>{w||(ht(ys,`RPC '${t}' stream ${r} transport opened.`),A.yo())}),$(m,hv.EventType.CLOSE,()=>{w||(w=!0,ht(ys,`RPC '${t}' stream ${r} transport closed`),A.So())}),$(m,hv.EventType.ERROR,ne=>{w||(w=!0,To(ys,`RPC '${t}' stream ${r} transport errored:`,ne),A.So(new lt(Ye.UNAVAILABLE,"The operation could not be completed")))}),$(m,hv.EventType.MESSAGE,ne=>{var pe;if(!w){const ge=ne.data[0];Mt(!!ge);const Ge=ge.error||(null===(pe=ge[0])||void 0===pe?void 0:pe.error);if(Ge){ht(ys,`RPC '${t}' stream ${r} received error:`,Ge);const rt=Ge.status;let ut=function(Ie){const Me=xr[Ie];if(void 0!==Me)return pj(Me)}(rt),be=Ge.message;void 0===ut&&(ut=Ye.INTERNAL,be="Unknown error status: "+rt+" with message "+Ge.message),w=!0,A.So(new lt(ut,be)),m.close()}else ht(ys,`RPC '${t}' stream ${r} received:`,ge),A.bo(ge)}}),$(a,JU.STAT_EVENT,ne=>{ne.stat===FR.PROXY?ht(ys,`RPC '${t}' stream ${r} detected buffering proxy`):ne.stat===FR.NOPROXY&&ht(ys,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function TH(){return typeof window<"u"?window:null}function wI(){return typeof document<"u"?document:null}function zv(n){return new C0e(n,!0)}class kM{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class SH{constructor(t,e,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kM(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Xe.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Xe.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,Xe.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===Ye.RESOURCE_EXHAUSTED?(gr(e.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===Ye.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new lt(Ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,Xe.A)(function*(){t.state=0,t.start()}))}I_(t){return ht("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _we extends SH{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function A0e(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Dt(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Mt(void 0===u||"string"==typeof u),rr.fromBase64String(u||"")):(Mt(void 0===u||u instanceof Buffer||u instanceof Uint8Array),rr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?Ye.UNKNOWN:pj(c.code);return new lt(u,c.message||"")}(o);e=new bj(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Ka(n,i.document.name),s=_r(i.document.updateTime),o=i.document.createTime?_r(i.document.createTime):Ut.min(),a=new ns({mapValue:{fields:i.document.fields}}),l=Li.newFoundDocument(r,s,o,a);e=new sI(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Ka(n,i.document),s=i.readTime?_r(i.readTime):Ut.min(),o=Li.newNoDocument(r,s);e=new sI([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=Ka(n,i.document);e=new sI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Dt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new v0e(r,s);e=new yj(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ut.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ut.min():o.readTime?_r(o.readTime):Ut.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=lM(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=ZE(l)?{documents:Mj(s,l)}:{query:oI(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Cj(s,o.resumeToken);const c=sM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ut.min())>0){a.readTime=Pm(s,o.snapshotVersion.toTimestamp());const c=sM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function D0e(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=lM(this.serializer),e.removeTarget=t,this.a_(e)}}class vwe extends SH{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,Mt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function x0e(n,t){return n&&n.length>0?(Mt(void 0!==t),n.map(e=>function(r,s){let o=_r(r.updateTime?r.updateTime:s);return o.isEqual(Ut.min())&&(o=_r(s)),new p0e(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=_r(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=lM(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Pv(this.serializer,i))};this.a_(e)}}class ywe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new lt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,aM(e,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Ye.UNKNOWN,s.toString())})}Lo(t,e,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,aM(e,i),r,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(Ye.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bwe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(e),this.D_=!1):ht("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wwe{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget((0,Xe.A)(function*(){var l;Xc(o)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Xe.A)(function*(u){const m=vt(u);m.L_.add(4),yield zm(m),m.q_.set("Unknown"),m.L_.delete(4),yield jv(m)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.q_=new bwe(i,r)}}function jv(n){return PM.apply(this,arguments)}function PM(){return(PM=(0,Xe.A)(function*(n){if(Xc(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function zm(n){return OM.apply(this,arguments)}function OM(){return(OM=(0,Xe.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function EI(n,t){const e=vt(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),LM(e)?FM(e):$m(e).r_()&&NM(e,t))}function jm(n,t){const e=vt(n),i=$m(e);e.N_.delete(t),i.r_()&&AH(e,t),0===e.N_.size&&(i.r_()?i.o_():Xc(e)&&e.q_.set("Unknown"))}function NM(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$m(n).A_(t)}function AH(n,t){n.Q_.xe(t),$m(n).R_(t)}function FM(n){n.Q_=new b0e({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),$m(n).start(),n.q_.v_()}function LM(n){return Xc(n)&&!$m(n).n_()&&n.N_.size>0}function Xc(n){return 0===vt(n).L_.size}function xH(n){n.Q_=void 0}function Ewe(n){return VM.apply(this,arguments)}function VM(){return(VM=(0,Xe.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function Iwe(n){return BM.apply(this,arguments)}function BM(){return(BM=(0,Xe.A)(function*(n){n.N_.forEach((t,e)=>{NM(n,t)})})).apply(this,arguments)}function Cwe(n,t){return UM.apply(this,arguments)}function UM(){return(UM=(0,Xe.A)(function*(n,t){xH(n),LM(n)?(n.q_.M_(t),FM(n)):n.q_.set("Unknown")})).apply(this,arguments)}function Twe(n,t,e){return zM.apply(this,arguments)}function zM(){return zM=(0,Xe.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof bj&&2===t.state&&t.cause)try{yield(i=(0,Xe.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){ht("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield II(n,i)}else if(t instanceof sI?n.Q_.Ke(t):t instanceof yj?n.Q_.He(t):n.Q_.We(t),!e.isEqual(Ut.min()))try{const i=yield gH(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(rr.EMPTY_BYTE_STRING,u.snapshotVersion)),AH(s,l);const m=new Hl(u.target,l,c,u.sequenceNumber);NM(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){ht("RemoteStore","Failed to raise snapshot:",i),yield II(n,i)}var i}),zM.apply(this,arguments)}function II(n,t,e){return jM.apply(this,arguments)}function jM(){return(jM=(0,Xe.A)(function*(n,t,e){if(!Uc(t))throw t;n.L_.add(1),yield zm(n),n.q_.set("Offline"),e||(e=()=>gH(n.localStore)),n.asyncQueue.enqueueRetryable((0,Xe.A)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield jv(n)}))})).apply(this,arguments)}function DH(n,t){return t().catch(e=>II(n,e,t))}function Hm(n){return HM.apply(this,arguments)}function HM(){return(HM=(0,Xe.A)(function*(n){const t=vt(n),e=Zc(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Swe(t);)try{const r=yield dwe(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,Awe(t,r)}catch(r){yield II(t,r)}RH(t)&&MH(t)})).apply(this,arguments)}function Swe(n){return Xc(n)&&n.O_.length<10}function Awe(n,t){n.O_.push(t);const e=Zc(n);e.r_()&&e.V_&&e.m_(t.mutations)}function RH(n){return Xc(n)&&!Zc(n).n_()&&n.O_.length>0}function MH(n){Zc(n).start()}function xwe(n){return $M.apply(this,arguments)}function $M(){return($M=(0,Xe.A)(function*(n){Zc(n).p_()})).apply(this,arguments)}function Dwe(n){return GM.apply(this,arguments)}function GM(){return(GM=(0,Xe.A)(function*(n){const t=Zc(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function Rwe(n,t,e){return WM.apply(this,arguments)}function WM(){return(WM=(0,Xe.A)(function*(n,t,e){const i=n.O_.shift(),r=nM.from(i,t,e);yield DH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Hm(n)})).apply(this,arguments)}function Mwe(n,t){return qM.apply(this,arguments)}function qM(){return qM=(0,Xe.A)(function*(n,t){var e;t&&Zc(n).V_&&(yield(e=(0,Xe.A)(function*(r,s){if(mj(a=s.code)&&a!==Ye.ABORTED){const o=r.O_.shift();Zc(r).s_(),yield DH(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Hm(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),RH(n)&&MH(n)}),qM.apply(this,arguments)}function kH(n,t){return KM.apply(this,arguments)}function KM(){return(KM=(0,Xe.A)(function*(n,t){const e=vt(n);e.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const i=Xc(e);e.L_.add(3),yield zm(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield jv(e)})).apply(this,arguments)}function YM(n,t){return QM.apply(this,arguments)}function QM(){return(QM=(0,Xe.A)(function*(n,t){const e=vt(n);t?(e.L_.delete(2),yield jv(e)):t||(e.L_.add(2),yield zm(e),e.q_.set("Unknown"))})).apply(this,arguments)}function $m(n){return n.K_||(n.K_=function(e,i,r){const s=vt(e);return s.w_(),new _we(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:Ewe.bind(null,n),Ro:Iwe.bind(null,n),mo:Cwe.bind(null,n),d_:Twe.bind(null,n)}),n.B_.push(function(){var t=(0,Xe.A)(function*(e){e?(n.K_.s_(),LM(n)?FM(n):n.q_.set("Unknown")):(yield n.K_.stop(),xH(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Zc(n){return n.U_||(n.U_=function(e,i,r){const s=vt(e);return s.w_(),new vwe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xwe.bind(null,n),mo:Mwe.bind(null,n),f_:Dwe.bind(null,n),g_:Rwe.bind(null,n)}),n.B_.push(function(){var t=(0,Xe.A)(function*(e){e?(n.U_.s_(),yield Hm(n)):(yield n.U_.stop(),n.O_.length>0&&(ht("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class XM{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new XM(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(Ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,t){if(gr("AsyncQueue",`${t}: ${n}`),Uc(n))return new lt(Ye.UNAVAILABLE,`${t}: ${n}`);throw n}class Wm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||bt.comparator(e.key,i.key):(e,i)=>bt.comparator(e.key,i.key),this.keyedMap=Tv(),this.sortedSet=new Di(this.comparator)}static emptySet(t){return new Wm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Wm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class PH{constructor(){this.W_=new Di(bt.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):Dt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class qm{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new qm(t,e,Wm.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Iv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class kwe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Pwe{constructor(){this.queries=OH(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=vt(e),s=r.queries;r.queries=OH(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})}(this,new lt(Ye.ABORTED,"Firestore shutting down"))}}function OH(){return new zl(n=>Yz(n),Iv)}function ZM(n,t){return JM.apply(this,arguments)}function JM(){return(JM=(0,Xe.A)(function*(n,t){const e=vt(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new kwe,i=t.J_()?0:1);try{switch(i){case 0:s.z_=yield e.onListen(r,!0);break;case 1:s.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){const a=Gm(o,`Initialization of query '${xm(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&nk(e)})).apply(this,arguments)}function ek(n,t){return tk.apply(this,arguments)}function tk(){return(tk=(0,Xe.A)(function*(n,t){const e=vt(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Owe(n,t){const e=vt(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&nk(e)}function Nwe(n,t,e){const i=vt(n),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(e);i.queries.delete(t)}function nk(n){n.Y_.forEach(t=>{t.next()})}var ik,NH;(NH=ik||(ik={})).ea="default",NH.Cache="cache";class rk{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new qm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=qm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==ik.Cache}}class Fwe{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class FH{constructor(t){this.serializer=t}Es(t){return Ka(this.serializer,t)}ds(t){return t.metadata.exists?Rj(this.serializer,t.document,!1):Li.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return _r(t)}}class Lwe{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LH(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=Fn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new FH(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.Es(r.metadata.name);for(const o of r.metadata.queries){const a=(e.get(o)||yn()).add(s);e.set(o,a)}}return e}complete(){var t=this;return(0,Xe.A)(function*(){const e=yield function uwe(n,t,e,i){return TM.apply(this,arguments)}(t.localStore,new FH(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield hwe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function LH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VH{constructor(t){this.key=t}}class BH{constructor(t){this.key=t}}class UH{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yn(),this.mutatedKeys=yn(),this.Aa=Xz(t),this.Ra=new Wm(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new PH,r=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,m)=>{const v=r.get(u),w=Cv(this.query,m)?m:null,A=!!v&&this.mutatedKeys.has(v.key),$=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let ne=!1;v&&w?v.data.isEqual(w.data)?A!==$&&(i.track({type:3,doc:w}),ne=!0):this.ga(v,w)||(i.track({type:2,doc:w}),ne=!0,(l&&this.Aa(w,l)>0||c&&this.Aa(w,c)<0)&&(a=!0)):!v&&w?(i.track({type:0,doc:w}),ne=!0):v&&!w&&(i.track({type:1,doc:v}),ne=!0,(l||c)&&(a=!0)),ne&&(w?(o=o.add(w),s=$?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((u,m)=>function(w,A){const $=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return $(w)-$(A)}(u.type,m.type)||this.Aa(u.doc,m.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new qm(this.query,t.Ra,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new PH,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=yn(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new BH(i))}),this.da.forEach(i=>{t.has(i)||e.push(new VH(i))}),e}ba(t){this.Ta=t.Ts,this.da=yn();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return qm.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Vwe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Bwe{constructor(t){this.key=t,this.va=!1}}class Uwe{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new zl(a=>Yz(a),Iv),this.Ma=new Map,this.xa=new Set,this.Oa=new Di(bt.comparator),this.Na=new Map,this.La=new _M,this.Ba={},this.ka=new Map,this.qa=Yu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function zwe(n,t){return sk.apply(this,arguments)}function sk(){return(sk=(0,Xe.A)(function*(n,t,e=!0){const i=CI(n);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield zH(i,t,e,!0),r})).apply(this,arguments)}function jwe(n,t){return ok.apply(this,arguments)}function ok(){return(ok=(0,Xe.A)(function*(n,t){const e=CI(n);yield zH(e,t,!0,!1)})).apply(this,arguments)}function zH(n,t,e,i){return ak.apply(this,arguments)}function ak(){return(ak=(0,Xe.A)(function*(n,t,e,i){const r=yield Bm(n.localStore,_s(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let a;return i&&(a=yield lk(n,t,s,"current"===o,r.resumeToken)),n.isPrimaryClient&&e&&EI(n.remoteStore,r),a})).apply(this,arguments)}function lk(n,t,e,i,r){return ck.apply(this,arguments)}function ck(){return ck=(0,Xe.A)(function*(n,t,e,i,r){n.Ka=(m,v,w)=>{return(A=(0,Xe.A)(function*(ne,pe,ge,Oe){let Ge=pe.view.ma(ge);Ge.ns&&(Ge=yield _I(ne.localStore,pe.query,!1).then(({documents:ue})=>pe.view.ma(ue,Ge)));const rt=Oe&&Oe.targetChanges.get(pe.targetId),ut=Oe&&null!=Oe.targetMismatches.get(pe.targetId),be=pe.view.applyChanges(Ge,ne.isPrimaryClient,rt,ut);return bk(ne,pe.targetId,be.wa),be.snapshot}),function $(ne,pe,ge,Oe){return A.apply(this,arguments)})(n,m,v,w);var A};const s=yield _I(n.localStore,t,!0),o=new UH(t,s.Ts),a=o.ma(s.documents),l=Mv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);bk(n,e,c.wa);const u=new Vwe(t,e,o);return n.Fa.set(t,u),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),c.snapshot}),ck.apply(this,arguments)}function Hwe(n,t,e){return dk.apply(this,arguments)}function dk(){return(dk=(0,Xe.A)(function*(n,t,e){const i=vt(n),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Iv(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Um(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&jm(i.remoteStore,r.targetId),Km(i,r.targetId)}).catch(Bc))):(Km(i,r.targetId),yield Um(i.localStore,r.targetId,!0))})).apply(this,arguments)}function $we(n,t){return uk.apply(this,arguments)}function uk(){return(uk=(0,Xe.A)(function*(n,t){const e=vt(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),jm(e.remoteStore,i.targetId))})).apply(this,arguments)}function hk(){return(hk=(0,Xe.A)(function*(n,t,e){const i=Mk(n);try{const r=yield function(o,a){const l=vt(o),c=Wi.now(),u=a.reduce((w,A)=>w.add(A.key),yn());let m,v;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=ro(),$=yn();return l.cs.getEntries(w,u).next(ne=>{A=ne,A.forEach((pe,ge)=>{ge.isValidDocument()||($=$.add(pe))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,A)).next(ne=>{m=ne;const pe=[];for(const ge of a){const Oe=_0e(ge,m.get(ge.key).overlayedDocument);null!=Oe&&pe.push(new jl(ge.key,Oe,Pz(Oe.value.mapValue),Ki.exists(!0)))}return l.mutationQueue.addMutationBatch(w,c,pe,a)}).next(ne=>{v=ne;const pe=ne.applyToLocalDocumentSet(m,$);return l.documentOverlayCache.saveOverlays(w,ne.batchId,pe)})}).then(()=>({batchId:v.batchId,changes:Jz(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Di(fn)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,e),yield $l(i,r.changes),yield Hm(i.remoteStore)}catch(r){const s=Gm(r,"Failed to persist write");e.reject(s)}})).apply(this,arguments)}function jH(n,t){return fk.apply(this,arguments)}function fk(){return(fk=(0,Xe.A)(function*(n,t){const e=vt(n);try{const i=yield function cwe(n,t){const e=vt(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((u,m)=>{const v=r.get(m);if(!v)return;a.push(e.Ur.removeMatchingKeys(s,u.removedDocuments,m).next(()=>e.Ur.addMatchingKeys(s,u.addedDocuments,m)));let w=v.withSequenceNumber(s.currentSequenceNumber);var $,ne,pe;null!==t.targetMismatches.get(m)?w=w.withResumeToken(rr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):u.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(u.resumeToken,i)),r=r.insert(m,w),ne=w,pe=u,(0===($=v).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(s,w))});let l=ro(),c=yn();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(_H(s,o,t.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!i.isEqual(Ut.min())){const u=e.Ur.getLastRemoteSnapshotVersion(s).next(m=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return ze.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.os=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Na.get(s);o&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Mt(o.va):r.removedDocuments.size>0&&(Mt(o.va),o.va=!1))}),yield $l(e,i,t)}catch(i){yield Bc(i)}})).apply(this,arguments)}function HH(n,t,e){const i=vt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=vt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,m)=>{for(const v of m.j_)v.Z_(a)&&(c=!0)}),c&&nk(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Wwe(n,t,e){return mk.apply(this,arguments)}function mk(){return(mk=(0,Xe.A)(function*(n,t,e){const i=vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Di(bt.comparator);o=o.insert(s,Li.newNoDocument(s,Ut.min()));const a=yn().add(s),l=new Rv(Ut.min(),new Map,new Di(fn),o,a);yield jH(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),wk(i)}else yield Um(i.localStore,t,!1).then(()=>Km(i,t,e)).catch(Bc)})).apply(this,arguments)}function qwe(n,t){return pk.apply(this,arguments)}function pk(){return(pk=(0,Xe.A)(function*(n,t){const e=vt(n),i=t.batch.batchId;try{const r=yield function lwe(n,t){const e=vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const m=c.batch,v=m.keys();let w=ze.resolve();return v.forEach(A=>{w=w.next(()=>u.getEntry(l,A)).next($=>{const ne=c.docVersions.get(A);Mt(null!==ne),$.version.compareTo(ne)<0&&(m.applyToRemoteDocument($,c),$.isValidDocument()&&($.setReadTime(c.commitVersion),u.addEntry($)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=yn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);yk(e,i,null),vk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield $l(e,r)}catch(r){yield Bc(r)}})).apply(this,arguments)}function Kwe(n,t,e){return gk.apply(this,arguments)}function gk(){return(gk=(0,Xe.A)(function*(n,t,e){const i=vt(n);try{const r=yield function(o,a){const l=vt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(Mt(null!==m),u=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);yk(i,t,e),vk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield $l(i,r)}catch(r){yield Bc(r)}})).apply(this,arguments)}function _k(){return(_k=(0,Xe.A)(function*(n,t){const e=vt(n);Xc(e.remoteStore)||ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=vt(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=Gm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function vk(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function yk(n,t,e){const i=vt(n);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Km(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||$H(n,i)})}function $H(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(jm(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),wk(n))}function bk(n,t,e){for(const i of e)i instanceof VH?(n.La.addReference(i.key,t),Qwe(n,i)):i instanceof BH?(ht("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||$H(n,i.key)):Dt()}function Qwe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(ht("SyncEngine","New document in limbo: "+e),n.xa.add(i),wk(n))}function wk(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new bt(Fn.fromString(t)),i=n.qa.next();n.Na.set(i,new Bwe(e)),n.Oa=n.Oa.insert(e,i),EI(n.remoteStore,new Hl(_s(Sm(e.path)),i,"TargetPurposeLimboResolution",Ao.oe))}}function $l(n,t,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Xe.A)(function*(n,t,e){const i=vt(n),r=[],s=[],o=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,e).then(c=>{var u;if((c||e)&&i.isPrimaryClient){const m=c?!c.fromCache:null===(u=e?.targetChanges.get(l.targetId))||void 0===u?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){r.push(c);const m=EM.Wi(l.targetId,c);s.push(m)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(a=(0,Xe.A)(function*(c,u){const m=vt(c);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ze.forEach(u,w=>ze.forEach(w.$i,A=>m.persistence.referenceDelegate.addReference(v,w.targetId,A)).next(()=>ze.forEach(w.Ui,A=>m.persistence.referenceDelegate.removeReference(v,w.targetId,A)))))}catch(v){if(!Uc(v))throw v;ht("LocalStore","Failed to update sequence numbers: "+v)}for(const v of u){const w=v.targetId;if(!v.fromCache){const A=m.os.get(w),ne=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);m.os=m.os.insert(w,ne)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),Ek.apply(this,arguments)}function Xwe(n,t){return Ik.apply(this,arguments)}function Ik(){return(Ik=(0,Xe.A)(function*(n,t){const e=vt(n);if(!e.currentUser.isEqual(t)){ht("SyncEngine","User change. New user:",t.toKey());const i=yield pH(e.localStore,t);e.currentUser=t,(s=e).ka.forEach(a=>{a.forEach(l=>{l.reject(new lt(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield $l(e,i.hs)}var s})).apply(this,arguments)}function Zwe(n,t){const e=vt(n),i=e.Na.get(t);if(i&&i.va)return yn().add(i.key);{let r=yn();const s=e.Ma.get(t);if(!s)return r;for(const o of s){const a=e.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function Jwe(n,t){return Ck.apply(this,arguments)}function Ck(){return(Ck=(0,Xe.A)(function*(n,t){const e=vt(n),i=yield _I(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&bk(e,t.targetId,r.wa),r})).apply(this,arguments)}function eEe(n,t){return Tk.apply(this,arguments)}function Tk(){return(Tk=(0,Xe.A)(function*(n,t){const e=vt(n);return yH(e.localStore,t).then(i=>$l(e,i))})).apply(this,arguments)}function tEe(n,t,e,i){return Sk.apply(this,arguments)}function Sk(){return(Sk=(0,Xe.A)(function*(n,t,e,i){const r=vt(n),s=yield function(a,l){const c=vt(a),u=vt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",m=>u.Mn(m,l).next(v=>v?c.localDocuments.getDocuments(m,v):ze.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield Hm(r.remoteStore):"acknowledged"===e||"rejected"===e?(yk(r,t,i||null),vk(r,t),l=t,vt(vt(r.localStore).mutationQueue).On(l)):Dt(),yield $l(r,s)):ht("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Ak(){return(Ak=(0,Xe.A)(function*(n,t){const e=vt(n);if(CI(e),Mk(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield GH(e,i.toArray());e.Qa=!0,yield YM(e.remoteStore,!0);for(const s of r)EI(e.remoteStore,s)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Km(e,o),Um(e.localStore,o,!0))),jm(e.remoteStore,o)}),yield r,yield GH(e,i),function(o){const a=vt(o);a.Na.forEach((l,c)=>{jm(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new Di(bt.comparator)}(e),e.Qa=!1,yield YM(e.remoteStore,!1)}})).apply(this,arguments)}function GH(n,t,e){return xk.apply(this,arguments)}function xk(){return(xk=(0,Xe.A)(function*(n,t,e){const i=vt(n),r=[],s=[];for(const o of t){let a;const l=i.Ma.get(o);if(l&&0!==l.length){a=yield Bm(i.localStore,_s(l[0]));for(const c of l){const u=i.Fa.get(c),m=yield Jwe(i,u);m.snapshot&&s.push(m.snapshot)}}else{const c=yield vH(i.localStore,o);a=yield Bm(i.localStore,c),yield lk(i,WH(c),o,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(s),r})).apply(this,arguments)}function WH(n){return Gz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iEe(n){return e=vt(n).localStore,vt(vt(e).persistence).Qi();var e}function rEe(n,t,e,i){return Dk.apply(this,arguments)}function Dk(){return(Dk=(0,Xe.A)(function*(n,t,e,i){const r=vt(n);if(r.Qa)return void ht("SyncEngine","Ignoring unexpected query state notification.");const s=r.Ma.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield yH(r.localStore,Qz(s[0])),a=Rv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,rr.EMPTY_BYTE_STRING);yield $l(r,o,a);break}case"rejected":yield Um(r.localStore,t,!0),Km(r,t,i);break;default:Dt()}})).apply(this,arguments)}function sEe(n,t,e){return Rk.apply(this,arguments)}function Rk(){return(Rk=(0,Xe.A)(function*(n,t,e){const i=CI(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){ht("SyncEngine","Adding an already active target "+r);continue}const s=yield vH(i.localStore,r),o=yield Bm(i.localStore,s);yield lk(i,WH(s),o.targetId,!1,o.resumeToken),EI(i.remoteStore,o)}for(const r of e)i.Ma.has(r)&&(yield Um(i.localStore,r,!1).then(()=>{jm(i.remoteStore,r),Km(i,r)}).catch(Bc))}})).apply(this,arguments)}function CI(n){const t=vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=jH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zwe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wwe.bind(null,t),t.Ca.d_=Owe.bind(null,t.eventManager),t.Ca.$a=Nwe.bind(null,t.eventManager),t}function Mk(n){const t=vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qwe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kwe.bind(null,t),t}let Ym=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,Xe.A)(function*(){i.serializer=zv(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return mH(this.persistence,new fH,e.initialUser,this.serializer)}Ga(e){return new vM(mI.Zr,this.serializer)}Wa(e){return new IH}terminate(){var e=this;return(0,Xe.A)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class kk extends Ym{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Xe.A)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield Mk(i.Ja.syncEngine),yield Hm(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return mH(this.persistence,new fH,t.initialUser,this.serializer)}ja(t,e){return new rH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new xbe(e,this.persistence);return new Abe(t.asyncQueue,i)}Ga(t){const e=wM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new bM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,TH(),wI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new IH}}class qH extends kk{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Xe.A)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof RM&&(i.sharedClientState.syncEngine={no:tEe.bind(null,r),ro:rEe.bind(null,r),io:sEe.bind(null,r),Qi:iEe.bind(null,r),eo:eEe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var s=(0,Xe.A)(function*(o){yield function nEe(n,t){return Ak.apply(this,arguments)}(i.Ja.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}Wa(t){const e=TH();if(!RM.D(e))throw new lt(Ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=wM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new RM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let Qm=(()=>{class n{initialize(e,i){var r=this;return(0,Xe.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>HH(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=Xwe.bind(null,r.syncEngine),yield YM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pwe}createDatastore(e){const i=zv(e.databaseInfo.databaseId),r=new gwe(e.databaseInfo);return new ywe(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,s=this.datastore,o=e.asyncQueue,a=i=>HH(this.syncEngine,i,0),l=CH.D()?new CH:new fwe,new wwe(r,s,o,a,l);var r,s,o,a,l}createSyncEngine(e,i){return function(s,o,a,l,c,u,m){const v=new Uwe(s,o,a,l,c,u);return m&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,Xe.A)(function*(){var i,r,s;yield(s=(0,Xe.A)(function*(a){const l=vt(a);ht("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield zm(l),l.k_.shutdown(),l.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function KH(n,t=10240){let e=0;return{read:()=>(0,Xe.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Xe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class lEe{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Wr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,Xe.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,Xe.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,Xe.A)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const s=yield t.iu(r);return new Fwe(JSON.parse(s),e.length+r)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,Xe.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,Xe.A)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,Xe.A)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class cEe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Xe.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new lt(Ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,Xe.A)(function*(o,a){const l=vt(o),c={documents:a.map(w=>kv(l.serializer,w))},u=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,Fn.emptyPath(),c,a.length),m=new Map;u.forEach(w=>{const A=function S0e(n,t){return"found"in t?function(i,r){Mt(!!r.found);const s=Ka(i,r.found.name),o=_r(r.found.updateTime),a=r.found.createTime?_r(r.found.createTime):Ut.min(),l=new ns({mapValue:{fields:r.found.fields}});return Li.newFoundDocument(s,o,a,l)}(n,t):"missing"in t?function(i,r){Mt(!!r.missing),Mt(!!r.readTime);const s=Ka(i,r.missing),o=_r(r.readTime);return Li.newNoDocument(s,o)}(n,t):Dt()}(l.serializer,w);m.set(A.key.toString(),A)});const v=[];return a.forEach(w=>{const A=m.get(w.toString());Mt(!!A),v.push(A)}),v}),function s(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new km(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Xe.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=bt.fromPath(r);t.mutations.push(new eM(s,t.precondition(s)))}),yield(i=(0,Xe.A)(function*(s,o){const a=vt(s),l={writes:o.map(c=>Pv(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,Fn.emptyPath(),l)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dt();e=Ut.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new lt(Ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ut.min())?Ki.exists(!1):Ki.updateTime(e):Ki.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ut.min()))throw new lt(Ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ki.updateTime(e)}return Ki.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class dEe{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new kM(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,Xe.A)(function*(){const e=new cEe(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.lu(s)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!pv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!mj(e)}return!1}}class uEe{constructor(t,e,i,r,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Gr.UNAUTHENTICATED,this.clientId=sz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var a=(0,Xe.A)(function*(l){ht("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(ht("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Xe.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Gm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Pk(n,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Xe.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Xe.A)(function*(s){i.isEqual(s)||(yield pH(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Ok.apply(this,arguments)}function YH(n,t){return Nk.apply(this,arguments)}function Nk(){return(Nk=(0,Xe.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Fk(n);ht("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>kH(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>kH(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function Fk(n){return Lk.apply(this,arguments)}function Lk(){return(Lk=(0,Xe.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pk(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===Ye.FAILED_PRECONDITION||r.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),yield Pk(n,new Ym)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),yield Pk(n,new Ym);var r;return n._offlineComponents})).apply(this,arguments)}function SI(n){return Vk.apply(this,arguments)}function Vk(){return(Vk=(0,Xe.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),yield YH(n,n._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),yield YH(n,new Qm))),n._onlineComponents})).apply(this,arguments)}function QH(n){return Fk(n).then(t=>t.persistence)}function Xm(n){return Fk(n).then(t=>t.localStore)}function XH(n){return SI(n).then(t=>t.remoteStore)}function Bk(n){return SI(n).then(t=>t.syncEngine)}function Zm(n){return Uk.apply(this,arguments)}function Uk(){return(Uk=(0,Xe.A)(function*(n){const t=yield SI(n),e=t.eventManager;return e.onListen=zwe.bind(null,t.syncEngine),e.onUnlisten=Hwe.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=jwe.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=$we.bind(null,t.syncEngine),e})).apply(this,arguments)}function JH(n,t,e={}){const i=new Wr;return n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return function(s,o,a,l,c){const u=new TI({next:v=>{u.Za(),o.enqueueAndForget(()=>ek(s,m));const w=v.docs.has(a);!w&&v.fromCache?c.reject(new lt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&l&&"server"===l.source?c.reject(new lt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(v)},error:v=>c.reject(v)}),m=new rk(Sm(a.path),u,{includeMetadataChanges:!0,_a:!0});return ZM(s,m)}(yield Zm(n),n.asyncQueue,t,e,i)})),i.promise}function e$(n,t,e={}){const i=new Wr;return n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return function(s,o,a,l,c){const u=new TI({next:v=>{u.Za(),o.enqueueAndForget(()=>ek(s,m)),v.fromCache&&"server"===l.source?c.reject(new lt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),m=new rk(a,u,{includeMetadataChanges:!0,_a:!0});return ZM(s,m)}(yield Zm(n),n.asyncQueue,t,e,i)})),i.promise}function t$(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const n$=new Map;function zk(n,t,e){if(!e)throw new lt(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function i$(n,t,e,i){if(!0===t&&!0===i)throw new lt(Ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function r$(n){if(!bt.isDocumentKey(n))throw new lt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s$(n){if(bt.isDocumentKey(n))throw new lt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Dt()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AI(n);throw new lt(Ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function o$(n,t){if(t<=0)throw new lt(Ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class a${constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new lt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=t$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hv{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a$({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new lt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a$(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new pbe;switch(i.type){case"firstParty":return new ybe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new lt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Xe.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=n$.get(e);i&&(ht("ComponentProvider","Removing Datastore"),n$.delete(e),i.terminate())}(this),Promise.resolve()}}function l$(n,t,e,i={}){var r;const s=(n=Dn(n,Hv))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Gr.MOCK_USER;else{a=(0,Xn.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new lt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gr(c)}n._authCredentials=new gbe(new iz(a,l))}}class is{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class Vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}}class Ya extends is{constructor(t,e,i){super(t,e,Sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new bt(t))}withConverter(t){return new Ya(this.firestore,t,this._path)}}function c$(n,t,...e){if(n=(0,Xn.Ku)(n),zk("collection","path",t),n instanceof Hv){const i=Fn.fromString(t,...e);return s$(i),new Ya(n,null,i)}{if(!(n instanceof Vi||n instanceof Ya))throw new lt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(t,...e));return s$(i),new Ya(n.firestore,null,i)}}function $v(n,t,...e){if(n=(0,Xn.Ku)(n),1===arguments.length&&(t=sz.newId()),zk("doc","path",t),n instanceof Hv){const i=Fn.fromString(t,...e);return r$(i),new Vi(n,null,new bt(i))}{if(!(n instanceof Vi||n instanceof Ya))throw new lt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(t,...e));return r$(i),new Vi(n.firestore,n instanceof Ya?n.converter:null,new bt(i))}}function d$(n,t){return n=(0,Xn.Ku)(n),t=(0,Xn.Ku)(t),(n instanceof Vi||n instanceof Ya)&&(t instanceof Vi||t instanceof Ya)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function jk(n,t){return n=(0,Xn.Ku)(n),t=(0,Xn.Ku)(t),n instanceof is&&t instanceof is&&n.firestore===t.firestore&&Iv(n._query,t._query)&&n.converter===t.converter}class u${constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kM(this,"async_queue_retry"),this.Vu=()=>{const i=wI();i&&ht("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=wI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=wI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Wr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Xe.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Uc(e))throw e;ht("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,gr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=XM.createAndSchedule(this,t,e,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Dt()}verifyOperationInProgress(){}wu(){var t=this;return(0,Xe.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function Hk(n){return function(e){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class CEe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ci extends Hv{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new u$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Xe.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new u$(e),t._firestoreClient=void 0,yield e}})()}}function SEe(n,t){const e="object"==typeof n?n:(0,ps.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,ps._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,Xn.yU)("firestore");s&&l$(r,...s)}return r}function Yi(n){if(n._terminated)throw new lt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h$(n),n._firestoreClient}function h$(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Qbe(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,t$(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new uEe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function $k(){return($k=(0,Xe.A)(function*(n){To("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();f$(n,Qm.provider,{build:e=>new qH(e,t.cacheSizeBytes)})})).apply(this,arguments)}function f$(n,t,e){if((n=Dn(n,Ci))._firestoreClient||n._terminated)throw new lt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new lt(Ye.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},h$(n)}class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(rr.fromBase64String(t))}catch(e){throw new lt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qa(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new lt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xu{constructor(t){this._methodName=t}}class xI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return fn(this._lat,t._lat)||fn(this._long,t._long)}}class DI{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}const FEe=/^__.*__$/;class LEe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new jl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Mm(t,this.data,e,this.fieldTransforms)}}class m${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new jl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function p$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class RI{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new RI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return PI(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(p$(this.Cu)&&FEe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class VEe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||zv(t)}Qu(t,e,i,r=!1){return new RI({Cu:t,methodName:e,qu:i,path:Fi.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(n){const t=n._freezeSettings(),e=zv(n._databaseId);return new VEe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function MI(n,t,e,i,r,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,t,e,r);Xk("Data must be an object, but it was:",o,i);const a=v$(i,o);let l,c;if(s.merge)l=new io(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const m of s.mergeFields){const v=qv(t,m,e);if(!o.contains(v))throw new lt(Ye.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);b$(u,v)||u.push(v)}l=new io(u),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new LEe(new ns(a),l,c)}class Wv extends Xu{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wv}}function g$(n,t,e){return new RI({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Gk extends Xu{_toFieldTransform(t){return new Av(t.path,new Dm)}isEqual(t){return t instanceof Gk}}class Wk extends Xu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=g$(this,t,!0),i=this.Ku.map(s=>Ju(s,e)),r=new ju(i);return new Av(t.path,r)}isEqual(t){return t instanceof Wk&&(0,Xn.bD)(this.Ku,t.Ku)}}class qk extends Xu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=g$(this,t,!0),i=this.Ku.map(s=>Ju(s,e)),r=new Hu(i);return new Av(t.path,r)}isEqual(t){return t instanceof qk&&(0,Xn.bD)(this.Ku,t.Ku)}}class Kk extends Xu{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new Rm(t.serializer,nj(t.serializer,this.$u));return new Av(t.path,e)}isEqual(t){return t instanceof Kk&&this.$u===t.$u}}function Yk(n,t,e,i){const r=n.Qu(1,t,e);Xk("Data must be an object, but it was:",r,i);const s=[],o=ns.empty();zc(i,(l,c)=>{const u=kI(t,l,e);c=(0,Xn.Ku)(c);const m=r.Nu(u);if(c instanceof Wv)s.push(u);else{const v=Ju(c,m);null!=v&&(s.push(u),o.set(u,v))}});const a=new io(s);return new m$(o,a,r.fieldTransforms)}function Qk(n,t,e,i,r,s){const o=n.Qu(1,t,e),a=[qv(t,i,e)],l=[r];if(s.length%2!=0)throw new lt(Ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(qv(t,s[v])),l.push(s[v+1]);const c=[],u=ns.empty();for(let v=a.length-1;v>=0;--v)if(!b$(c,a[v])){const w=a[v];let A=l[v];A=(0,Xn.Ku)(A);const $=o.Nu(w);if(A instanceof Wv)c.push(w);else{const ne=Ju(A,$);null!=ne&&(c.push(w),u.set(w,ne))}}const m=new io(c);return new m$(u,m,o.fieldTransforms)}function _$(n,t,e,i=!1){return Ju(e,n.Qu(i?4:3,t))}function Ju(n,t){if(y$(n=(0,Xn.Ku)(n)))return Xk("Unsupported field value:",t,n),v$(n,t);if(n instanceof Xu)return function(i,r){if(!p$(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Ju(a,r.Lu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,Xn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return nj(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Wi.fromDate(i);return{timestampValue:Pm(r.serializer,s)}}if(i instanceof Wi){const s=new Wi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pm(r.serializer,s)}}if(i instanceof xI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qa)return{bytesValue:Cj(r.serializer,i._byteString)};if(i instanceof Vi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oM(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof DI)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return JR(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${AI(i)}`)}(n,t)}function v$(n,t){const e={};return Ez(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zc(n,(i,r)=>{const s=Ju(r,t.Mu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function y$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wi||n instanceof xI||n instanceof Qa||n instanceof Vi||n instanceof Xu||n instanceof DI)}function Xk(n,t,e){if(!y$(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=AI(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function qv(n,t,e){if((t=(0,Xn.Ku)(t))instanceof Gl)return t._internalPath;if("string"==typeof t)return kI(n,t);throw PI("Field path arguments must be of type string or ",n,!1,void 0,e)}const BEe=new RegExp("[~\\*/\\[\\]]");function kI(n,t,e){if(t.search(BEe)>=0)throw PI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gl(...t.split("."))._internalPath}catch{throw PI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function PI(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new lt(Ye.INVALID_ARGUMENT,a+n+l)}function b$(n,t){return n.some(e=>e.isEqual(t))}class Kv{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new UEe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(OI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class UEe extends Kv{data(){return super.data()}}function OI(n,t){return"string"==typeof t?kI(n,t):t instanceof Gl?t._internalPath:t._delegate._internalPath}function w$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new lt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zk{}class Yv extends Zk{}function Jc(n,t,...e){let i=[];t instanceof Zk&&i.push(t),i=i.concat(e),function(s){const o=s.filter(l=>l instanceof Jm).length,a=s.filter(l=>l instanceof Qv).length;if(o>1||o>0&&a>0)throw new lt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Qv extends Yv{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Qv(t,e,i)}_apply(t){const e=this._parse(t);return T$(t._query,e),new is(t.firestore,t.converter,XR(t._query,e))}_parse(t){const e=Zu(t.firestore);return function(s,o,a,l,c,u,m){let v;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new lt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){C$(m,u);const w=[];for(const A of m)w.push(I$(l,s,A));v={arrayValue:{values:w}}}else v=I$(l,s,m)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||C$(m,u),v=_$(a,"where",m,"in"===u||"not-in"===u);return Ln.create(c,u,v)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Jm extends Zk{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Jm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:ui.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)T$(o,l),o=XR(o,l)}(t._query,e),new is(t.firestore,t.converter,XR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jk extends Yv{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Jk(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new lt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new lt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wv(s,o)}(t._query,this._field,this._direction);return new is(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ul(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class NI extends Yv{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new NI(t,e,i)}_apply(t){return new is(t.firestore,t.converter,eI(t._query,this._limit,this._limitType))}}class FI extends Yv{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new FI(t,e,i)}_apply(t){const e=E$(t,this.type,this._docOrFields,this._inclusive);return new is(t.firestore,t.converter,(s=e,new Ul((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class LI extends Yv{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new LI(t,e,i)}_apply(t){const e=E$(t,this.type,this._docOrFields,this._inclusive);return new is(t.firestore,t.converter,(s=e,new Ul((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function E$(n,t,e,i){if(e[0]=(0,Xn.Ku)(e[0]),e[0]instanceof Kv)return function(s,o,a,l,c){if(!l)throw new lt(Ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const m of Am(s))if(m.field.isKeyField())u.push(Uu(o,l.key));else{const v=l.data.field(m.field);if(WE(v))throw new lt(Ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const w=m.field.canonicalString();throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}u.push(v)}return new Wc(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Zu(n.firestore);return function(o,a,l,c,u,m){const v=o.explicitOrderBy;if(u.length>v.length)throw new lt(Ye.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<u.length;A++){const $=u[A];if(v[A].field.isKeyField()){if("string"!=typeof $)throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof $}`);if(!QR(o)&&-1!==$.indexOf("/"))throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${$}' contains a slash.`);const ne=o.path.child(Fn.fromString($));if(!bt.isDocumentKey(ne))throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const pe=new bt(ne);w.push(Uu(a,pe))}else{const ne=_$(l,c,$);w.push(ne)}}return new Wc(w,m)}(n._query,n.firestore._databaseId,r,t,e,i)}}function I$(n,t,e){if("string"==typeof(e=(0,Xn.Ku)(e))){if(""===e)throw new lt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(t)&&-1!==e.indexOf("/"))throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Fn.fromString(e));if(!bt.isDocumentKey(i))throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uu(n,new bt(i))}if(e instanceof Vi)return Uu(n,e._key);throw new lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AI(e)}.`)}function C$(n,t){if(!Array.isArray(n)||0===n.length)throw new lt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T$(n,t){const e=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new lt(Ye.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class e2{convertValue(t,e="none"){switch($c(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return zc(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>qi(o.doubleValue));return new DI(s)}convertGeoPoint(t){return new xI(qi(t.latitude),qi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=qE(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(_v(t));default:return null}}convertTimestamp(t){const e=Vl(t);return new Wi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Fn.fromString(t);Mt(Fj(i));const r=new jc(i.get(1),i.get(3)),s=new bt(i.popFirst(5));return r.isEqual(e)||gr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function VI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class YEe extends e2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,e)}}class eh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wl extends Kv{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(OI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Xv extends Wl{data(t={}){return super.data(t)}}class ed{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new eh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Xv(this._firestore,this._userDataWriter,i.key,i,new eh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Xv(r._firestore,r._userDataWriter,a.doc.key,a.doc,new eh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Xv(r._firestore,r._userDataWriter,a.doc.key,a.doc,new eh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:XEe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function XEe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function A$(n,t){return n instanceof Wl&&t instanceof Wl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ed&&t instanceof ed&&n._firestore===t._firestore&&jk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function x$(n){n=Dn(n,Vi);const t=Dn(n.firestore,Ci);return JH(Yi(t),n._key).then(e=>r2(t,n,e))}class td extends e2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,e)}}function t2(n,t,e){n=Dn(n,Vi);const i=Dn(n.firestore,Ci),r=VI(n.converter,t,e);return ep(i,[MI(Zu(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ki.none())])}function n2(n,t,e,...i){n=Dn(n,Vi);const r=Dn(n.firestore,Ci),s=Zu(r);let o;return o="string"==typeof(t=(0,Xn.Ku)(t))||t instanceof Gl?Qk(s,"updateDoc",n._key,t,e,i):Yk(s,"updateDoc",n._key,t),ep(r,[o.toMutation(n._key,Ki.exists(!0))])}function D$(n){return ep(Dn(n.firestore,Ci),[new km(n._key,Ki.none())])}function R$(n,...t){var e,i,r;n=(0,Xn.Ku)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof t[o]||Hk(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Hk(t[o])){const m=t[o];t[o]=null===(e=m.next)||void 0===e?void 0:e.bind(m),t[o+1]=null===(i=m.error)||void 0===i?void 0:i.bind(m),t[o+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}let l,c,u;if(n instanceof Vi)c=Dn(n.firestore,Ci),u=Sm(n._key.path),l={next:m=>{t[o]&&t[o](r2(c,n,m))},error:t[o+1],complete:t[o+2]};else{const m=Dn(n,is);c=Dn(m.firestore,Ci),u=m._query;const v=new td(c);l={next:w=>{t[o]&&t[o](new ed(c,v,m,w))},error:t[o+1],complete:t[o+2]},w$(n._query)}return function(v,w,A,$){const ne=new TI($),pe=new rk(w,ne,A);return v.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return ZM(yield Zm(v),pe)})),()=>{ne.Za(),v.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return ek(yield Zm(v),pe)}))}}(Yi(c),u,a,l)}function ep(n,t){return function(i,r){const s=new Wr;return i.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return function Gwe(n,t,e){return hk.apply(this,arguments)}(yield Bk(i),r,s)})),s.promise}(Yi(n),t)}function r2(n,t,e){const i=e.docs.get(t._key),r=new td(n);return new Wl(n,r,t._key,i,new eh(e.hasPendingWrites,e.fromCache),t.converter)}const fIe={maxAttempts:5};class M${constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Zu(t)}set(t,e,i){this._verifyNotCommitted();const r=nd(t,this._firestore),s=VI(r.converter,e,i),o=MI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,Ki.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=nd(t,this._firestore);let o;return o="string"==typeof(e=(0,Xn.Ku)(e))||e instanceof Gl?Qk(this._dataReader,"WriteBatch.update",s._key,e,i,r):Yk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ki.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=nd(t,this._firestore);return this._mutations=this._mutations.concat(new km(e._key,Ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nd(n,t){if((n=(0,Xn.Ku)(n)).firestore!==t)throw new lt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mIe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Zu(e)}get(e){const i=nd(e,this._firestore),r=new YEe(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Dt();const o=s[0];if(o.isFoundDocument())return new Kv(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Kv(this._firestore,r,i._key,null,i.converter);throw Dt()})}set(e,i,r){const s=nd(e,this._firestore),o=VI(s.converter,i,r),a=MI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(e,i,r,...s){const o=nd(e,this._firestore);let a;return a="string"==typeof(i=(0,Xn.Ku)(i))||i instanceof Gl?Qk(this._dataReader,"Transaction.update",o._key,i,r,s):Yk(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(e){const i=nd(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=nd(t,this._firestore),i=new td(this._firestore);return super.get(t).then(r=>new Wl(this._firestore,i,e._key,r._document,new eh(!1,!1),e.converter))}}!function(t,e=!0){vm=ps.SDK_VERSION,(0,ps._registerComponent)(new $U.uA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Ci(new _be(i.getProvider("auth-internal")),new bbe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new lt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,ps.registerVersion)(nz,"4.7.3",t),(0,ps.registerVersion)(nz,"4.7.3","esm2017")}();class UI{constructor(t){return t}}const N$="firestore",o2=new xe("angularfire2.firestore-instances");function CIe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new UI(i)}}const TIe={provide:class EIe{constructor(){return kR(N$)}},deps:[[new cr,o2]]},SIe={provide:UI,useFactory:function IIe(n,t){const e=jU(N$,n,t);return e&&new UI(e)},deps:[[new cr,o2],dv]};function AIe(n,...t){return(0,ps.registerVersion)("angularfire",lv.full,"fst"),Ea([SIe,TIe,{provide:o2,useFactory:CIe(n),multi:!0,deps:[Et,vi,cv,PR,[new cr,WU],[new cr,BE],...t]}])}const xIe=Go(D$,!0),zI=Go($v,!0),DIe=Go(x$,!0),RIe=Go(SEe,!0),MIe=Go(t2,!0),kIe=Go(n2,!0);let tp=(()=>{class n{constructor(e,i){this.firestore=e,this.router=i,this.isUserAuthenticated=!1,console.log("[AuthService.constructor]"),this.auth=qU()}registerUser(e,i,r){var s=this;return console.log("[AuthService.registerUser]",{email:e,password:i,userData:r}),Yn(lbe(this.auth,e,i).then(function(){var o=(0,Xe.A)(function*(a){const l=zI(s.firestore,`users/${a.user.uid}`);return yield MIe(l,r),a});return function(a){return o.apply(this,arguments)}}()))}loginUser(e,i){return console.log("[AuthService.loginUser]"),Yn(dbe(this.auth,e,i))}logout(){return console.log("[AuthService.logout]"),Yn(ube(this.auth)).pipe(nr(()=>{console.log("User logged out, redirecting to login..."),this.router.navigate(["/login"])}))}getUserData(e){const i=zI(this.firestore,`users/${e}`);return Yn(DIe(i).then(r=>r.data()))}updateUserData(e,i){const r=zI(this.firestore,`users/${e}`);return Yn(kIe(r,i))}deleteUserData(e){const i=zI(this.firestore,`users/${e}`);return Yn(xIe(i))}forgotPassword(e){return Yn(cbe(this.auth,e,{url:"https://alexchristianqr.github.io/game-apps/#/login"}))}static{this.\u0275fac=function(i){return new(i||n)(Te(UI),Te(es))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PIe=(()=>{class n{constructor(e,i,r,s,o){this.actions$=e,this.authService=i,this.auth=r,this.store=s,this.router=o,this.login$=ER(()=>this.actions$.pipe(TR(RR),Gi(({email:a,password:l})=>this.authService.loginUser(a,l).pipe(st(c=>LU({user:c.user})),pa(c=>At(VU({error:c.message}))))))),this.logout$=ER(()=>this.actions$.pipe(TR(MR),Gi(()=>this.authService.logout().pipe(st(()=>(this.router.navigate(["/login"]),BU())),pa(a=>(console.error("Error during logout",a),At(UU({error:a.message}))))))),{dispatch:!0}),this.checkAuthState$=ER(()=>this.actions$.pipe(TR(zU),st(()=>{})),{dispatch:!1})}static{this.\u0275fac=function(i){return new(i||n)(Te(Aye),Te(tp),Te(UE),Te($o),Te(es))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();function OIe(n,t){1&n&&(Fe(0,"mat-error"),_t(1,"El usuario o la contrase\xf1a no es v\xe1lido"),He())}function NIe(n,t){if(1&n){const e=Nr();Fe(0,"button",14),Xt("click",function(){return li(e),ci($t().onLoginSubmit())}),_t(1,"Entrar"),He()}}function FIe(n,t){1&n&&(Fe(0,"button",15),_t(1,"Entrando..."),He())}function VIe(n,t){1&n&&(Fe(0,"mat-error"),_t(1,"El usuario no se ha registrado, vuelve a intentarlo"),He())}function BIe(n,t){if(1&n){const e=Nr();Fe(0,"button",11),Xt("click",function(){return li(e),ci($t().onSubmit())}),_t(1,"Registar"),He()}}function UIe(n,t){1&n&&(Fe(0,"button",12),_t(1,"Registrando..."),He()),2&n&&Tt("disabled",!0)}function jIe(n,t){1&n&&(Fe(0,"mat-error"),_t(1,"No se ha enviado el enlace"),He())}function HIe(n,t){if(1&n){const e=Nr();Fe(0,"button",8),Xt("click",function(){return li(e),ci($t().onSubmit())}),_t(1,"Enviar enlace"),He()}}function $Ie(n,t){1&n&&(Fe(0,"button",9),_t(1,"Enviando..."),He()),2&n&&Tt("disabled",!0)}const GIe=[{path:"login",component:(()=>{class n{constructor(e,i,r,s){this.authService=i,this.store=r,this.router=s,this.loading=!1,this.hidePwd=!0,this.error=null,this.formGroup=e.group({email:e.control("invitado@gmail.com",[Ho.required,Ho.email]),password:e.control("Invitado2023.",[Ho.required])})}onLoginSubmit(){var e=this;return(0,Xe.A)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:i,password:r}=e.formGroup.value;console.log("[onLoginSubmit formGroup.value]",e.formGroup.value),e.store.dispatch(RR({email:i,password:r})),e.store.select("auth").subscribe(s=>{s&&e.router.navigate(["/home"])})})()}static{this.\u0275fac=function(i){return new(i||n)(oe(ux),oe(tp),oe($o),oe(es))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-login"]],features:[Bt([tp])],decls:36,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"row"],[1,"col","col-12"],[1,"float-end"],["mat-button","","routerLink","/forgot"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","disabled","",4,"ngIf"],["mat-button","","routerLink","/register"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","disabled",""]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header")(2,"h1"),_t(3,"Inicio de sesi\xf3n"),He()(),Fe(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),_t(9,"Email"),He(),Zt(10,"input",3),Fe(11,"mat-error"),_t(12,"Ingrese un email v\xe1lido"),He()(),Fe(13,"mat-form-field",2)(14,"mat-label"),_t(15,"Contrase\xf1a"),He(),Zt(16,"input",4),Fe(17,"button",5),Xt("click",function(){return r.hidePwd=!r.hidePwd}),Fe(18,"mat-icon"),_t(19),He()(),Fe(20,"mat-error"),_t(21,"Ingrese una contrase\xf1a v\xe1lida"),He()(),Fe(22,"div",6)(23,"div",7)(24,"div",8)(25,"a",9),_t(26,"Olvide mi contrase\xf1a"),He()()()(),Ot(27,OIe,2,0,"mat-error",10),He()()(),Fe(28,"mat-card-footer"),Ot(29,NIe,2,0,"button",11)(30,FIe,2,0,"button",12),He(),Fe(31,"mat-card-footer")(32,"div"),_t(33,"\xbfNo tienes una cuenta? "),Fe(34,"a",13),_t(35,"registrate"),He()()()()),2&i&&(it(5),Tt("formGroup",r.formGroup),it(11),Tt("type",r.hidePwd?"password":"text"),it(),kn("aria-label","Hide password")("aria-pressed",r.hidePwd),it(2),_o(r.hidePwd?"visibility_off":"visibility"),it(8),Tt("ngIf",!1===r.submitted),it(2),Tt("ngIf",!r.loading),it(),Tt("ngIf",r.loading))},dependencies:[su,uD,q_,Tu,aD,Z9,Su,Au,uE,xu,um,DD,ku,X_,tv,Sw,Dc,$f,pw,qf,kc,v_,Ba]})}}return n})()},{path:"register",component:(()=>{class n{constructor(e,i,r,s){this.formBuilder=e,this.route=i,this.router=r,this.authService=s,this.loading=!1,this.hidePwd=!0,this.formGroup=this.formBuilder.group({displayName:e.control(null,[Ho.required]),email:e.control(null,[Ho.required,Ho.email]),password:e.control(null,[Ho.required,Ho.minLength(6)])})}ngOnInit(){this.formGroup.reset({displayName:null,email:null,password:null,emailVerified:null,photoURL:null})}onSubmit(){var e=this;return(0,Xe.A)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:i,password:r}=e.formGroup.value;return e.authService.registerUser(i,r,{}).subscribe({next:s=>{console.log("[authService.registerUser]",s),e.submitted=!1,e.loading=!1},error:s=>{e.loading=!1,console.error(s)}})})()}static{this.\u0275fac=function(i){return new(i||n)(oe(ux),oe(Nc),oe(es),oe(tp))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-register"]],decls:37,vars:8,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["matInput","","formControlName","displayName","name","displayname","required",""],["matInput","","type","email","formControlName","email","name","email","required",""],["matInput","","formControlName","password","name","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header")(2,"h1"),_t(3,"Crear usuario"),He()(),Fe(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),_t(9,"Nombre completo"),He(),Zt(10,"input",3),Fe(11,"mat-error"),_t(12,"Ingrese un nombre v\xe1lido"),He()(),Fe(13,"mat-form-field",2)(14,"mat-label"),_t(15,"Email"),He(),Zt(16,"input",4),Fe(17,"mat-error"),_t(18,"Ingrese un email v\xe1lido"),He()(),Fe(19,"mat-form-field",2)(20,"mat-label"),_t(21,"Contrase\xf1a"),He(),Zt(22,"input",5),Fe(23,"button",6),Xt("click",function(){return r.hidePwd=!r.hidePwd}),Fe(24,"mat-icon"),_t(25),He()(),Fe(26,"mat-error"),_t(27,"Ingrese una contrase\xf1a v\xe1lida"),He()(),Ot(28,VIe,2,0,"mat-error",7),He()()(),Fe(29,"mat-card-footer"),Ot(30,BIe,2,0,"button",8)(31,UIe,2,1,"button",9),He(),Fe(32,"mat-card-footer")(33,"div"),_t(34,"Ya tengo una cuenta "),Fe(35,"a",10),_t(36,"Iniciar sesi\xf3n"),He()()()()),2&i&&(it(5),Tt("formGroup",r.formGroup),it(17),Tt("type",r.hidePwd?"password":"text"),it(),kn("aria-label","Hide password")("aria-pressed",r.hidePwd),it(2),_o(r.hidePwd?"visibility_off":"visibility"),it(3),Tt("ngIf",!1===r.submitted),it(2),Tt("ngIf",!r.loading),it(),Tt("ngIf",r.loading))},dependencies:[su,uD,q_,Tu,aD,Z9,Su,Au,uE,xu,um,DD,ku,X_,tv,Sw,Dc,$f,pw,qf,kc,v_,Ba]})}}return n})()},{path:"forgot",component:(()=>{class n{constructor(e,i,r,s,o){this.formBuilder=e,this.route=i,this.router=r,this.authService=s,this.snackBar=o,this.loading=!1,this.formGroup=e.group({email:e.control(null,[Ho.required,Ho.email])})}onSubmit(){var e=this;return(0,Xe.A)(function*(){if(e.submitted=!0,e.formGroup.invalid)return;e.loading=!0;const{email:i}=e.formGroup.value;return e.authService.forgotPassword(i).subscribe({next:r=>{console.log("[authService.forgotPassword]",r),e.submitted=!1,e.loading=!1,e.snackBar.open("Enlace enviado con \xe9xito, porfavor revise su correo","",{duration:3e3})},error:r=>{e.submitted=!1,e.loading=!1,console.error(r),e.snackBar.open("El enlace no se ha enviado","",{duration:3e3})}})})()}static{this.\u0275fac=function(i){return new(i||n)(oe(ux),oe(Nc),oe(es),oe(tp),oe(IB))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-forgot"]],decls:22,vars:4,consts:[[3,"formGroup"],["cols","2","rowHeight","2:1"],["appearance","fill"],["type","email","matInput","","formControlName","email","name","email","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(i,r){1&i&&(Fe(0,"mat-card")(1,"mat-card-header")(2,"h1"),_t(3,"\xbfOlvidaste tu contrase\xf1a?"),He()(),Fe(4,"mat-card-content")(5,"form",0)(6,"mat-grid-list",1)(7,"mat-form-field",2)(8,"mat-label"),_t(9,"Email"),He(),Zt(10,"input",3),Fe(11,"mat-error"),_t(12,"Ingrese un email v\xe1lido"),He()(),Ot(13,jIe,2,0,"mat-error",4),He()()(),Fe(14,"mat-card-footer"),Ot(15,HIe,2,0,"button",5)(16,$Ie,2,1,"button",6),He(),Fe(17,"mat-card-footer")(18,"div"),_t(19,"Ya tengo una cuenta "),Fe(20,"a",7),_t(21,"Iniciar sesi\xf3n"),He()()()()),2&i&&(it(5),Tt("formGroup",r.formGroup),it(8),Tt("ngIf",!1===r.submitted),it(2),Tt("ngIf",!r.loading),it(),Tt("ngIf",r.loading))},dependencies:[su,uD,q_,Tu,aD,Su,Au,uE,xu,DD,ku,tv,Sw,Dc,$f,pw,qf,kc,v_,Ba]})}}return n})()}],F$={user:null,isAuthenticated:!1,loading:!1,error:null},L$=function Uve(n,...t){const e=new Map;for(const i of t)for(const r of i.types){const s=e.get(r);e.set(r,s?(a,l)=>i.reducer(s(a,l),l):i.reducer)}return function(i=n,r){const s=e.get(r.type);return s?s(i,r):i}}(F$,Ou(RR,n=>({...n,isAuthenticated:!0,loading:!0,error:null})),Ou(LU,(n,{user:t})=>({...n,user:t,isAuthenticated:!0,loading:!1,error:null})),Ou(VU,(n,{error:t})=>({...n,user:null,isAuthenticated:!1,loading:!1,error:t})),Ou(MR,()=>F$),Ou(BU,n=>({...n,user:null,isAuthenticated:!1,loading:!1,error:null})),Ou(UU,(n,{error:t})=>({...n,user:null,isAuthenticated:!1,loading:!1,error:t})),Ou(zU,n=>({...n,user:n.user,isAuthenticated:!!n.user,loading:!1,error:null})));let WIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[El,DE,Qw,P_.forRoot(GIe,{useHash:!0}),mU.forFeature("auth",L$),NU.forFeature([PIe])]})}}return n})(),qIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({imports:[Y6,Gve,gye,WIe]})}}return n})();function KIe(n,t){1&n&&(Fe(0,"button",7)(1,"mat-icon"),_t(2,"home"),He(),_t(3,"Inicio"),He())}function YIe(n,t){if(1&n){const e=Nr();Fe(0,"button",8),Xt("click",function(){return li(e),ci($t().onLogout())}),Fe(1,"mat-icon"),_t(2,"exit_to_app"),He(),_t(3," Salir "),He()}}let QIe=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.store=r,this.title="GAME APPS",this.destroySub=new R,this.user$=this.store.select(Hve),this.isAuthenticated$=this.store.select(gU),console.log(this.isAuthenticated$,"alexxxxxxxxxxxxxxxx")}ngOnInit(){}ngOnDestroy(){this.destroySub.next()}get isAuthenticated(){return this.authService.isUserAuthenticated}onLogout(){var e=this;return(0,Xe.A)(function*(){e.store.dispatch(MR())})()}static{this.\u0275fac=function(i){return new(i||n)(oe(tp),oe(es),oe($o))}}static{this.\u0275cmp=hn({type:n,selectors:[["app-root"]],decls:14,vars:7,consts:[["color","primary",1,"border-0"],["role","button","mat-button","","routerLink","/"],[1,"bg-transparent"],["color","accent",1,"border-0"],["mat-button","","routerLink","/home",4,"ngIf"],[1,"example-spacer"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/home"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(Fe(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"button",1)(3,"mat-icon"),_t(4,"grid_view"),He(),_t(5),He()()(),Zt(6,"mat-divider",2),Fe(7,"mat-toolbar",3),Ot(8,KIe,4,0,"button",4),bS(9,"async"),Zt(10,"span",5),Ot(11,YIe,4,0,"button",6),bS(12,"async"),He(),Zt(13,"router-outlet")),2&i&&(it(5),Lo(" ",r.title," "),it(3),Tt("ngIf",wS(9,3,r.isAuthenticated$)),it(3),Tt("ngIf",wS(12,5,r.isAuthenticated$)))},dependencies:[su,xx,Ba,iD,Xhe,$9,um,ku,T5],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#000!important}"]})}}return n})();const XIe=on(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function JIe(n){throw new XIe(n)}const Zv="PERFORM_ACTION",B$="ROLLBACK",j$="TOGGLE_ACTION",$$="JUMP_TO_STATE",G$="JUMP_TO_ACTION",a2="IMPORT_STATE",W$="LOCK_CHANGES",q$="PAUSE_RECORDING";class jI{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=Zv,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class tCe{constructor(){this.type="REFRESH"}}class nCe{constructor(t){this.timestamp=t,this.type="RESET"}}class iCe{constructor(t){this.timestamp=t,this.type=B$}}class rCe{constructor(t){this.timestamp=t,this.type="COMMIT"}}class sCe{constructor(){this.type="SWEEP"}}class oCe{constructor(t){this.id=t,this.type=j$}}class aCe{constructor(t){this.index=t,this.type=$$}}class lCe{constructor(t){this.actionId=t,this.type=G$}}class cCe{constructor(t){this.nextLiftedState=t,this.type=a2}}class dCe{constructor(t){this.status=t,this.type=W$}}class uCe{constructor(t){this.status=t,this.type=q$}}const HI=new xe("@ngrx/store-devtools Options"),K$=new xe("@ngrx/store-devtools Initial Config");function Y$(){return null}const hCe="NgRx Store DevTools";function fCe(n){const t={maxAge:!1,monitor:Y$,actionSanitizer:void 0,stateSanitizer:void 0,name:hCe,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e="function"==typeof n?n():n,r=e.features||!!e.logOnly&&{pause:!0,export:!0,test:!0}||t.features;!0===r.import&&(r.import="custom");const s=Object.assign({},t,{features:r},e);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function Q$(n,t){return n.filter(e=>t.indexOf(e)<0)}function X$(n){const{computedStates:t,currentStateIndex:e}=n;if(e>=t.length){const{state:r}=t[t.length-1];return r}const{state:i}=t[e];return i}function Jv(n){return new jI(n,+Date.now())}function mCe(n,t){return Object.keys(t).reduce((e,i)=>{const r=Number(i);return e[r]=Z$(n,t[r],r),e},{})}function Z$(n,t,e){return{...t,action:n(t.action,e)}}function pCe(n,t){return t.map((e,i)=>({state:J$(n,e.state,i),error:e.error}))}function J$(n,t,e){return n(t,e)}function eG(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function l2(n,t,e,i,r){const s=e&&!e(n,t.action),o=i&&!t.action.type.match(i.map(l=>tG(l)).join("|")),a=r&&t.action.type.match(r.map(l=>tG(l)).join("|"));return s||o||a}function tG(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nG(n){return{ngZone:n?Ue(Et):null,connectInZone:n}}let $I=(()=>{class n extends Nl{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=In(n)))(r||n)}})()}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const c2=new xe("@ngrx/store-devtools Redux Devtools Extension");let iG=(()=>{class n{constructor(e,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=nG(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,i){if(this.devtoolsExtension)if(e.type===Zv){if(i.isLocked||i.isPaused)return;const r=X$(i);if(eG(this.config)&&l2(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const s=this.config.stateSanitizer?J$(this.config.stateSanitizer,r,i.currentStateIndex):r,o=this.config.actionSanitizer?Z$(this.config.actionSanitizer,e,i.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(o,s))}else{const r={...i,stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?mCe(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?pCe(this.config.stateSanitizer,i.computedStates):i.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new gn(e=>{const i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>e.next(r)),i.unsubscribe}):Os}createActionStreams(){const e=this.createChangesObservable().pipe(rD()),i=e.pipe(Qn(c=>"START"===c.type)),r=e.pipe(Qn(c=>"STOP"===c.type)),s=e.pipe(Qn(c=>"DISPATCH"===c.type),st(c=>this.unwrapAction(c.payload)),pu(c=>c.type===a2?this.dispatcher.pipe(Qn(u=>u.type===uR),function ZIe(n,t){const{first:e,each:i,with:r=JIe,scheduler:s=t??om,meta:o=null}=i9(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return Ke((a,l)=>{let c,u,m=null,v=0;const w=A=>{u=Oa(l,s,()=>{try{c.unsubscribe(),Sr(r({meta:o,lastValue:m,seen:v})).subscribe(l)}catch($){l.error($)}},A)};c=a.subscribe(ct(l,A=>{u?.unsubscribe(),v++,l.next(m=A),i>0&&w(i)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),m=null})),!v&&w(null!=e?"number"==typeof e?e:+e-s.now():i)})}(1e3),sE(1e3),st(()=>c),pa(()=>At(c)),Js(1)):At(c))),a=e.pipe(Qn(c=>"ACTION"===c.type),st(c=>this.unwrapAction(c.payload))).pipe(ir(r)),l=s.pipe(ir(r));this.start$=i.pipe(ir(r)),this.actions$=this.start$.pipe(Gi(()=>a)),this.liftedActions$=this.start$.pipe(Gi(()=>l))}unwrapAction(e){return"string"==typeof e?(0,eval)(`(${e})`):e}getExtensionConfig(e){const i={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return!1!==e.maxAge&&(i.maxAge=e.maxAge),i}sendToReduxDevtools(e){try{e()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static{this.\u0275fac=function(i){return new(i||n)(Te(c2),Te(HI),Te($I))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();const WI={type:RE},_Ce={type:"@ngrx/store-devtools/recompute"};function rG(n,t,e,i,r){if(i)return{state:e,error:"Interrupted by an error up the chain"};let o,s=e;try{s=n(e,t)}catch(a){o=a.toString(),r.handleError(a)}return{state:s,error:o}}function qI(n,t,e,i,r,s,o,a,l){if(t>=n.length&&n.length===s.length)return n;const c=n.slice(0,t),u=s.length-(l?1:0);for(let m=t;m<u;m++){const v=s[m],w=r[v].action,A=c[m-1],$=A?A.state:i,ne=A?A.error:void 0,ge=o.indexOf(v)>-1?A:rG(e,w,$,ne,a);c.push(ge)}return l&&c.push(n[n.length-1]),c}let sG=(()=>{class n{constructor(e,i,r,s,o,a,l,c){const u=function vCe(n,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Jv(WI)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(l,c.monitor),m=function yCe(n,t,e,i,r={}){return s=>(o,a)=>{let{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:m,skippedActionIds:v,committedState:w,currentStateIndex:A,computedStates:$,isLocked:ne,isPaused:pe}=o||t;function ge(rt){let ut=rt,be=m.slice(1,ut+1);for(let ue=0;ue<be.length;ue++){if($[ue+1].error){ut=ue,be=m.slice(1,ut+1);break}delete c[be[ue]]}v=v.filter(ue=>-1===be.indexOf(ue)),m=[0,...m.slice(ut+1)],w=$[ut].state,$=$.slice(ut),A=A>ut?A-ut:0}function Oe(){c={0:Jv(WI)},u=1,m=[0],v=[],w=$[A].state,A=0,$=[]}o||(c=Object.create(c));let Ge=0;switch(a.type){case W$:ne=a.status,Ge=1/0;break;case q$:pe=a.status,pe?(m=[...m,u],c[u]=new jI({type:"@ngrx/devtools/pause"},+Date.now()),u++,Ge=m.length-1,$=$.concat($[$.length-1]),A===m.length-2&&A++,Ge=1/0):Oe();break;case"RESET":c={0:Jv(WI)},u=1,m=[0],v=[],w=n,A=0,$=[];break;case"COMMIT":Oe();break;case B$:c={0:Jv(WI)},u=1,m=[0],v=[],A=0,$=[];break;case j$:{const{id:rt}=a;v=-1===v.indexOf(rt)?[rt,...v]:v.filter(be=>be!==rt),Ge=m.indexOf(rt);break}case"SET_ACTIONS_ACTIVE":{const{start:rt,end:ut,active:be}=a,ue=[];for(let Ie=rt;Ie<ut;Ie++)ue.push(Ie);v=be?Q$(v,ue):[...v,...ue],Ge=m.indexOf(rt);break}case $$:A=a.index,Ge=1/0;break;case G$:{const rt=m.indexOf(a.actionId);-1!==rt&&(A=rt),Ge=1/0;break}case"SWEEP":m=Q$(m,v),v=[],A=Math.min(A,m.length-1);break;case Zv:{if(ne)return o||t;if(pe||o&&l2(o.computedStates[A],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){const ut=$[$.length-1];$=[...$.slice(0,-1),rG(s,a.action,ut.state,ut.error,e)],Ge=1/0;break}r.maxAge&&m.length===r.maxAge&&ge(1),A===m.length-1&&A++;const rt=u++;c[rt]=a,m=[...m,rt],Ge=m.length-1;break}case a2:({monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:m,skippedActionIds:v,committedState:w,currentStateIndex:A,computedStates:$,isLocked:ne,isPaused:pe}=a.nextLiftedState);break;case RE:Ge=0,r.maxAge&&m.length>r.maxAge&&($=qI($,Ge,s,w,c,m,v,e,pe),ge(m.length-r.maxAge),Ge=1/0);break;case uR:if($.filter(ut=>ut.error).length>0)Ge=0,r.maxAge&&m.length>r.maxAge&&($=qI($,Ge,s,w,c,m,v,e,pe),ge(m.length-r.maxAge),Ge=1/0);else{if(!pe&&!ne){A===m.length-1&&A++;const ut=u++;c[ut]=new jI(a,+Date.now()),m=[...m,ut],Ge=m.length-1,$=qI($,Ge,s,w,c,m,v,e,pe)}$=$.map(ut=>({...ut,state:s(ut.state,_Ce)})),A=m.length-1,r.maxAge&&m.length>r.maxAge&&ge(m.length-r.maxAge),Ge=1/0}break;default:Ge=1/0}return $=qI($,Ge,s,w,c,m,v,e,pe),l=i(l,a),{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:m,skippedActionIds:v,committedState:w,currentStateIndex:A,computedStates:$,isLocked:ne,isPaused:pe}}}(l,u,a,c.monitor,c),v=no(no(i.asObservable().pipe(Yx(1)),s.actions$).pipe(st(Jv)),e,s.liftedActions$).pipe(Na(JD)),w=r.pipe(st(m)),A=nG(c.connectInZone),$=new W9(1);this.liftedStateSubscription=v.pipe(BB(w),oG(A),Qf(({state:ge},[Oe,Ge])=>{let rt=Ge(ge,Oe);return Oe.type!==Zv&&eG(c)&&(rt=function gCe(n,t,e,i){const r=[],s={},o=[];return n.stagedActionIds.forEach((a,l)=>{const c=n.actionsById[a];c&&(l&&l2(n.computedStates[l],c,t,e,i)||(s[a]=c,r.push(a),o.push(n.computedStates[l])))}),{...n,stagedActionIds:r,actionsById:s,computedStates:o}}(rt,c.predicate,c.actionsSafelist,c.actionsBlocklist)),s.notify(Oe,rt),{state:rt,action:Oe}},{state:u,action:null})).subscribe(({state:ge,action:Oe})=>{$.next(ge),Oe.type===Zv&&o.next(Oe.action)}),this.extensionStartSubscription=s.start$.pipe(oG(A)).subscribe(()=>{this.refresh()});const ne=$.asObservable(),pe=ne.pipe(st(X$));Object.defineProperty(pe,"state",{value:eR(pe,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=ne,this.state=pe}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new jI(e,+Date.now()))}refresh(){this.dispatch(new tCe)}reset(){this.dispatch(new nCe(+Date.now()))}rollback(){this.dispatch(new iCe(+Date.now()))}commit(){this.dispatch(new rCe(+Date.now()))}sweep(){this.dispatch(new sCe)}toggleAction(e){this.dispatch(new oCe(e))}jumpToAction(e){this.dispatch(new lCe(e))}jumpToState(e){this.dispatch(new aCe(e))}importState(e){this.dispatch(new cCe(e))}lockChanges(e){this.dispatch(new dCe(e))}pauseRecording(e){this.dispatch(new uCe(e))}static{this.\u0275fac=function(i){return new(i||n)(Te($I),Te(Nl),Te(ov),Te(iG),Te(pm),Te(Ss),Te(ME),Te(HI))}}static{this.\u0275prov=at({token:n,factory:n.\u0275fac})}}return n})();function oG({ngZone:n,connectInZone:t}){return e=>t?new gn(i=>e.subscribe({next:r=>n.run(()=>i.next(r)),error:r=>n.run(()=>i.error(r)),complete:()=>n.run(()=>i.complete())})):e}const bCe=new xe("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function wCe(n,t){return!!n||t.monitor!==Y$}function ECe(){const n="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[n]<"u"?window[n]:null}function ICe(n={}){return Ea([iG,$I,sG,{provide:K$,useValue:n},{provide:bCe,deps:[c2,HI],useFactory:wCe},{provide:c2,useFactory:ECe},{provide:HI,deps:[K$],useFactory:fCe},{provide:hR,deps:[sG],useFactory:CCe},{provide:dR,useExisting:$I}])}function CCe(n){return n.state}let TCe=(()=>{class n{static instrument(e={}){return{ngModule:n,providers:[ICe(e)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n})}static{this.\u0275inj=Lt({})}}return n})();var ey=q(9574);ey.A.registerVersion("firebase","10.14.1","app-compat");const xCe=["ngOnDestroy"];class aG{constructor(t){return t}}const u2=new xe("angularfire2.app.options"),h2=new xe("angularfire2.app.name");function f2(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=ey.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>ey.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;MCe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new aG(o)}const MCe=(n,...t)=>{};function lG(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function kCe(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(cG("error",`${t} was already initialized on the ${e} Firebase App with different settings.${PCe?" You may need to reload as Firebase is not HMR aware.":""}`),cG("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const PCe=typeof module<"u"&&!!module.hot,cG=(n,...t)=>{};function dG(n,t){return dt(t)?Gi(()=>n,t):Gi(()=>n)}globalThis.\u0275AngularfireInstanceCache||=[],q(5046);const uG=new xe("angularfire2.auth.use-emulator"),hG=new xe("angularfire2.auth.settings"),fG=new xe("angularfire2.auth.tenant-id"),mG=new xe("angularfire2.auth.langugage-code"),pG=new xe("angularfire2.auth.use-device-language"),gG=new xe("angularfire.auth.persistence"),_G=(n,t,e,i,r,s,o,a)=>lG(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[c,u]of Object.entries(o))l.settings[c]=u;return a&&l.setPersistence(a),l},[e,i,r,s,o,a]);let vG=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,a,l,c,u,m,v,w){const A=new R,$=At(void 0).pipe(Na(o.outsideAngular),Gi(()=>s.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,5046)))),st(()=>f2(e,s,i)),st(ne=>_G(ne,s,a,c,u,m,l,v)),oD({bufferSize:1,refCount:!1}));if(Q0(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=At(null);else{$.pipe(Pc()).subscribe();const ne=$.pipe(Gi(Oe=>Oe.getRedirectResult().then(Ge=>Ge,()=>null)),Co,oD({bufferSize:1,refCount:!1})),pe=$.pipe(Gi(Oe=>new gn(Ge=>({unsubscribe:s.runOutsideAngular(()=>Oe.onAuthStateChanged(rt=>Ge.next(rt),rt=>Ge.error(rt),()=>Ge.complete()))})))),ge=$.pipe(Gi(Oe=>new gn(Ge=>({unsubscribe:s.runOutsideAngular(()=>Oe.onIdTokenChanged(rt=>Ge.next(rt),rt=>Ge.error(rt),()=>Ge.complete()))}))));this.authState=ne.pipe(dG(pe),du(o.outsideAngular),Na(o.insideAngular)),this.user=ne.pipe(dG(ge),du(o.outsideAngular),Na(o.insideAngular)),this.idToken=this.user.pipe(Gi(Oe=>Oe?Yn(Oe.getIdToken()):At(null))),this.idTokenResult=this.user.pipe(Gi(Oe=>Oe?Yn(Oe.getIdTokenResult()):At(null))),this.credential=no(ne,A,this.authState.pipe(Qn(Oe=>!Oe))).pipe(st(Oe=>Oe?.user?Oe:null),du(o.outsideAngular),Na(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(xCe.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(u=>{const m=u?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,m),m})})})}))(this,$,s,{spy:{apply:(ne,pe,ge)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&ge.then(Oe=>A.next(Oe))}}})}static \u0275fac=function(i){return new(i||n)(Te(u2),Te(h2,8),Te(No),Te(Et),Te(cv),Te(uG,8),Te(hG,8),Te(fG,8),Te(mG,8),Te(pG,8),Te(gG,8),Te(BE,8))};static \u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function m2(){return Ke((n,t)=>{let e,i=!1;n.subscribe(ct(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function p2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function yG(){if(typeof Uint8Array>"u")throw new lt("unimplemented","Uint8Arrays are not available in this environment.")}function bG(){if(!function Kbe(){return typeof atob<"u"}())throw new lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ty{constructor(t){this._delegate=t}static fromBase64String(t){return bG(),new ty(Qa.fromBase64String(t))}static fromUint8Array(t){return yG(),new ty(Qa.fromUint8Array(t))}toBase64(){return bG(),this._delegate.toBase64()}toUint8Array(){return yG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function g2(n){return function LCe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class VCe{enableIndexedDbPersistence(t,e){return function AEe(n,t){To("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return f$(n,Qm.provider,{build:i=>new kk(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function xEe(n){return $k.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function DEe(n){if(n._initialized&&!n._terminated)throw new lt(Ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Xe.A)(function*(){try{yield(e=(0,Xe.A)(function*(r){if(!$a.D())return Promise.resolve();const s=r+"main";yield $a.delete(s)}),function i(r){return e.apply(this,arguments)})(wM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class wG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof jc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&To("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){l$(this._delegate,t,e,i)}enableNetwork(){return function MEe(n){return function hEe(n){return n.asyncQueue.enqueue((0,Xe.A)(function*(){const t=yield QH(n),e=yield XH(n);return t.setNetworkEnabled(!0),function(r){const s=vt(r);return s.L_.delete(0),jv(s)}(e)}))}(Yi(n=Dn(n,Ci)))}(this._delegate)}disableNetwork(){return function kEe(n){return function fEe(n){return n.asyncQueue.enqueue((0,Xe.A)(function*(){const t=yield QH(n),e=yield XH(n);return t.setNetworkEnabled(!1),(i=(0,Xe.A)(function*(s){const o=vt(s);o.L_.add(0),yield zm(o),o.q_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(Yi(n=Dn(n,Ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,i$("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function REe(n){return function(e){const i=new Wr;return e.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return function Ywe(n,t){return _k.apply(this,arguments)}(yield Bk(e),i)})),i.promise}(Yi(n=Dn(n,Ci)))}(this._delegate)}onSnapshotsInSync(t){return function rIe(n,t){return function _Ee(n,t){const e=new TI(t);return n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return r=yield Zm(n),s=e,vt(r).Y_.add(s),void s.next();var r,s})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return r=yield Zm(n),s=e,void vt(r).Y_.delete(s);var r,s}))}}(Yi(n=Dn(n,Ci)),Hk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new np(this,c$(this._delegate,t))}catch(e){throw Ns(e,"collection()","Firestore.collection()")}}doc(t){try{return new Wo(this,$v(this._delegate,t))}catch(e){throw Ns(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Fs(this,function IEe(n,t){if(n=Dn(n,Hv),zk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lt(Ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(i=t,new Ul(Fn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Ns(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function pIe(n,t,e){n=Dn(n,Ci);const i=Object.assign(Object.assign({},fIe),e);return function(s){if(s.maxAttempts<1)throw new lt(Ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new Wr;return s.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){const c=yield function ZH(n){return SI(n).then(t=>t.datastore)}(s);new dEe(s.asyncQueue,c,a,o,l).au()})),l.promise}(Yi(n),r=>t(new mIe(n,r)),i)}(this._delegate,e=>t(new EG(this,e)))}batch(){return Yi(this._delegate),new IG(new M$(this._delegate,t=>ep(this._delegate,t)))}loadBundle(t){return function PEe(n,t){const e=Yi(n=Dn(n,Ci)),i=new CEe;return function vEe(n,t,e,i){const r=function(o,a){let l;return l="string"==typeof o?gj().encode(o):o,u=function(u,m){if(u instanceof Uint8Array)return KH(u,m);if(u instanceof ArrayBuffer)return KH(new Uint8Array(u),m);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new lEe(u,a);var u}(e,zv(t));n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){!function oEe(n,t,e){const i=vt(n);var r;(r=(0,Xe.A)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(A,$){const ne=vt(A),pe=_r($.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",ge=>ne.Gr.getBundleMetadata(ge,$.id)).then(ge=>!!ge&&ge.createTime.compareTo(pe)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(A=c).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);l._updateProgress(LH(c));const u=new Lwe(c,o.localStore,a.serializer);let m=yield a.Ua();for(;m;){const w=yield u.la(m);w&&l._updateProgress(w),m=yield a.Ua()}const v=yield u.complete();return yield $l(o,v.Ia,void 0),yield function(A,$){const ne=vt(A);return ne.persistence.runTransaction("Save bundle","readwrite",pe=>ne.Gr.saveBundleMetadata(pe,$))}(o.localStore,c),l._completeWith(v.progress),Promise.resolve(v.Pa)}catch(c){return To("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var A}),function s(o,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Bk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function OEe(n,t){return function yEe(n,t){return n.asyncQueue.enqueue((0,Xe.A)(function*(){return function(i,r){const s=vt(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield Xm(n),t)}))}(Yi(n=Dn(n,Ci)),t).then(e=>e?new is(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Fs(this,e):null)}}class KI extends e2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ty(new Qa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Wo.forKey(e,this.firestore,null)}}class EG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new KI(t)}get(t){const e=nh(t);return this._delegate.get(e).then(i=>new ny(this._firestore,new Wl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=nh(t);return i?(p2("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=nh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=nh(t);return this._delegate.delete(e),this}}class IG{constructor(t){this._delegate=t}set(t,e,i){const r=nh(t);return i?(p2("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=nh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=nh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class th{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Xv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new iy(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=th.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new th(t,new KI(t),e),r.set(e,s)),s}}th.INSTANCES=new WeakMap;class Wo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new KI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Wo(e,new Vi(e._delegate,i,new bt(t)))}static forKey(t,e,i){return new Wo(e,new Vi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new np(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new np(this.firestore,c$(this._delegate,t))}catch(e){throw Ns(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Xn.Ku)(t))instanceof Vi&&d$(this._delegate,t)}set(t,e){e=p2("DocumentReference.set",e);try{return e?t2(this._delegate,t,e):t2(this._delegate,t)}catch(i){throw Ns(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?n2(this._delegate,t):n2(this._delegate,t,e,...i)}catch(r){throw Ns(r,"updateDoc()","DocumentReference.update()")}}delete(){return D$(this._delegate)}onSnapshot(...t){const e=CG(t),i=TG(t,r=>new ny(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return R$(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function ZEe(n){n=Dn(n,Vi);const t=Dn(n.firestore,Ci),e=Yi(t),i=new td(t);return function mEe(n,t){const e=new Wr;return n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return(i=(0,Xe.A)(function*(s,o,a){try{const l=yield function(u,m){const v=vt(u);return v.persistence.runTransaction("read document","readonly",w=>v.localDocuments.getDocument(w,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new lt(Ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Gm(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Wl(t,i,n._key,r,new eh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function JEe(n){n=Dn(n,Vi);const t=Dn(n.firestore,Ci);return JH(Yi(t),n._key,{source:"server"}).then(e=>r2(t,n,e))}(this._delegate):x$(this._delegate),e.then(i=>new ny(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Wo(this.firestore,this._delegate.withConverter(t?th.getInstance(this.firestore,t):null))}}function Ns(n,t,e){return n.message=n.message.replace(t,e),n}function CG(n){for(const t of n)if("object"==typeof t&&!g2(t))return t;return{}}function TG(n,t){var e,i;let r;return r=g2(n[0])?n[0]:g2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ny{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return A$(this._delegate,t._delegate)}}class iy extends ny{data(t){const e=this._delegate.data(t);return this._delegate._converter||function mbe(n){n||Dt()}(void 0!==e),e}}class Fs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new KI(t)}where(t,e,i){try{return new Fs(this.firestore,Jc(this._delegate,function zEe(n,t,e){const i=t,r=OI("where",n);return Qv._create(r,i,e)}(t,e,i)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Fs(this.firestore,Jc(this._delegate,function jEe(n,t="asc"){const e=t,i=OI("orderBy",n);return Jk._create(i,e)}(t,e)))}catch(i){throw Ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Fs(this.firestore,Jc(this._delegate,function HEe(n){return o$("limit",n),NI._create("limit",n,"F")}(t)))}catch(e){throw Ns(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Fs(this.firestore,Jc(this._delegate,function $Ee(n){return o$("limitToLast",n),NI._create("limitToLast",n,"L")}(t)))}catch(e){throw Ns(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Fs(this.firestore,Jc(this._delegate,function GEe(...n){return FI._create("startAt",n,!0)}(...t)))}catch(e){throw Ns(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Fs(this.firestore,Jc(this._delegate,function WEe(...n){return FI._create("startAfter",n,!1)}(...t)))}catch(e){throw Ns(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Fs(this.firestore,Jc(this._delegate,function qEe(...n){return LI._create("endBefore",n,!1)}(...t)))}catch(e){throw Ns(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Fs(this.firestore,Jc(this._delegate,function KEe(...n){return LI._create("endAt",n,!0)}(...t)))}catch(e){throw Ns(e,"endAt()","Query.endAt()")}}isEqual(t){return jk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function tIe(n){n=Dn(n,is);const t=Dn(n.firestore,Ci),e=Yi(t),i=new td(t);return function pEe(n,t){const e=new Wr;return n.asyncQueue.enqueueAndForget((0,Xe.A)(function*(){return(i=(0,Xe.A)(function*(s,o,a){try{const l=yield _I(s,o,!0),c=new UH(o,l.Ts),u=c.ma(l.documents),m=c.applyChanges(u,!1);a.resolve(m.snapshot)}catch(l){const c=Gm(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ed(t,i,n,r))}(this._delegate):"server"===t?.source?function nIe(n){n=Dn(n,is);const t=Dn(n.firestore,Ci),e=Yi(t),i=new td(t);return e$(e,n._query,{source:"server"}).then(r=>new ed(t,i,n,r))}(this._delegate):function eIe(n){n=Dn(n,is);const t=Dn(n.firestore,Ci),e=Yi(t),i=new td(t);return w$(n._query),e$(e,n._query).then(r=>new ed(t,i,n,r))}(this._delegate),e.then(i=>new _2(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=CG(t),i=TG(t,r=>new _2(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return R$(this._delegate,e,i)}withConverter(t){return new Fs(this.firestore,this._delegate.withConverter(t?th.getInstance(this.firestore,t):null))}}class UCe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new iy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new iy(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new UCe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new iy(this._firestore,i))})}isEqual(t){return A$(this._delegate,t._delegate)}}class np extends Fs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Wo(this.firestore,t):null}doc(t){try{return new Wo(this.firestore,void 0===t?$v(this._delegate):$v(this._delegate,t))}catch(e){throw Ns(e,"doc()","CollectionReference.doc()")}}add(t){return function iIe(n,t){const e=Dn(n.firestore,Ci),i=$v(n),r=VI(n.converter,t);return ep(e,[MI(Zu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ki.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Wo(this.firestore,e))}isEqual(t){return d$(this._delegate,t._delegate)}withConverter(t){return new np(this.firestore,this._delegate.withConverter(t?th.getInstance(this.firestore,t):null))}}function nh(n){return Dn(n,Vi)}class v2{constructor(...t){this._delegate=new Gl(...t)}static documentId(){return new v2(Fi.keyField().canonicalString())}isEqual(t){return(t=(0,Xn.Ku)(t))instanceof Gl&&this._delegate._internalPath.isEqual(t._internalPath)}}class ih{constructor(t){this._delegate=t}static serverTimestamp(){const t=function _Ie(){return new Gk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ih(t)}static delete(){const t=function gIe(){return new Wv("deleteField")}();return t._methodName="FieldValue.delete",new ih(t)}static arrayUnion(...t){const e=function vIe(...n){return new Wk("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ih(e)}static arrayRemove(...t){const e=function yIe(...n){return new qk("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ih(e)}static increment(t){const e=function bIe(n){return new Kk("increment",n)}(t);return e._methodName="FieldValue.increment",new ih(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const zCe={Firestore:wG,GeoPoint:xI,Timestamp:Wi,Blob:ty,Transaction:EG,WriteBatch:IG,DocumentReference:Wo,DocumentSnapshot:ny,Query:Fs,QueryDocumentSnapshot:iy,QuerySnapshot:_2,CollectionReference:np,FieldPath:v2,FieldValue:ih,setLogLevel:function BCe(n){!function fbe(n){Vc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function SG(n,t){return function $Ce(n,t=om){return new gn(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function y2(n,t){return SG(n,t).pipe(st(e=>({payload:e,type:"query"})))}!function HCe(n){(function jCe(n,t){n.INTERNAL.registerComponent(new $U.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},zCe)))})(n,(t,e)=>new wG(t,e,new VCe)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(ey.A);class AG{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=PG(i,e);return new RG(r,s,this.afs)}snapshotChanges(){return function GCe(n,t){return SG(n,t).pipe(Sl(void 0),m2(),st(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Co)}valueChanges(t={}){return this.snapshotChanges().pipe(st(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return Yn(this.ref.get(t)).pipe(Co)}}function YI(n,t){return y2(n,t).pipe(Sl(void 0),m2(),st(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=s.find(m=>m.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(m=>m.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function xG(n,t,e){return YI(n,e).pipe(Qf((i,r)=>function WCe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function qCe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return b2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return b2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return b2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),oE(),st(i=>i.map(r=>({type:r.type,payload:r}))))}function b2(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function DG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class RG{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=YI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(st(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Sl(void 0),m2(),Qn(([i,r])=>r.length>0||!i),st(([,i])=>i),Co)}auditTrail(t){return this.stateChanges(t).pipe(Qf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=DG(t);return xG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Co)}valueChanges(t={}){return y2(this.query,this.afs.schedulers.outsideAngular).pipe(st(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),Co)}get(t){return Yn(this.query.get(t)).pipe(Co)}add(t){return this.ref.add(t)}doc(t){return new AG(this.ref.doc(t),this.afs)}}class KCe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YI(this.query,this.afs.schedulers.outsideAngular).pipe(st(e=>e.filter(i=>t.indexOf(i.type)>-1)),Qn(e=>e.length>0),Co):YI(this.query,this.afs.schedulers.outsideAngular).pipe(Co)}auditTrail(t){return this.stateChanges(t).pipe(Qf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=DG(t);return xG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Co)}valueChanges(t={}){return y2(this.query,this.afs.schedulers.outsideAngular).pipe(st(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Co)}get(t){return Yn(this.query.get(t)).pipe(Co)}}const MG=new xe("angularfire2.enableFirestorePersistence"),kG=new xe("angularfire2.firestore.persistenceSettings"),YCe=new xe("angularfire2.firestore.settings"),QCe=new xe("angularfire2.firestore.use-emulator");function PG(n,t=e=>e){return{query:t(n),ref:n}}let XCe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,a,l,c,u,m,v,w,A,$,ne,pe,ge){this.schedulers=l;const Oe=f2(e,a,i),Ge=u;m&&_G(Oe,a,v,A,$,ne,w,pe),[this.firestore,this.persistenceEnabled$]=lG(`${Oe.name}.firestore`,"AngularFirestore",Oe.name,()=>{const rt=a.runOutsideAngular(()=>Oe.firestore());if(s&&rt.settings(s),Ge&&rt.useEmulator(...Ge),r&&!Q0(o)){const ut=()=>{try{return Yn(rt.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(be){return typeof console<"u"&&console.warn(be),At(!1)}};return[rt,a.runOutsideAngular(ut)]}return[rt,At(!1)]},[s,Ge,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=PG(r,i),a=this.schedulers.ngZone.run(()=>s);return new RG(a,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new KCe(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AG(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(Te(u2),Te(h2,8),Te(MG,8),Te(YCe,8),Te(No),Te(Et),Te(cv),Te(kG,8),Te(QCe,8),Te(vG,8),Te(uG,8),Te(hG,8),Te(fG,8),Te(mG,8),Te(pG,8),Te(gG,8),Te(BE,8))};static \u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),OG=(()=>{class n{constructor(){ey.A.registerVersion("angularfire",lv.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:MG,useValue:!0},{provide:kG,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ft({type:n});static \u0275inj=Lt({providers:[XCe]})}return n})();const ZCe={auth:L$},JCe={apiKey:"AIzaSyAdPpQH5iwVufuPLpIoOeCNlnCaF3aOefU",authDomain:"game-apps-e5fcc.firebaseapp.com",projectId:"game-apps-e5fcc",storageBucket:"game-apps-e5fcc.appspot.com",messagingSenderId:"698497390636",appId:"1:698497390636:web:6b7f0c2dfc99e884115989",measurementId:"G-2RY0T555GP",databaseURL:"null"};let e1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ft({type:n,bootstrap:[QIe]})}static{this.\u0275inj=Lt({providers:[tbe(()=>nbe(JCe)),AIe(()=>RIe()),abe(()=>qU())],imports:[dae,X5,qIe,Qw,DE,OG,mU.forRoot(ZCe),NU.forRoot([]),TCe.instrument({maxAge:50,logOnly:true}),OG]})}}return n})();lse().bootstrapModule(e1e).catch(n=>console.error(n))},9323:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Animation=void 0;const b=q(1354),W=q(3773),E=b.glob.performance&&b.glob.performance.now?function(){return b.glob.performance.now()}:function(){return(new Date).getTime()};class se{constructor(M,F){this.id=se.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:E(),frameRate:0},this.func=M,this.setLayers(F)}setLayers(M){let F=[];return M&&(F=Array.isArray(M)?M:[M]),this.layers=F,this}getLayers(){return this.layers}addLayer(M){const F=this.layers,x=F.length;for(let L=0;L<x;L++)if(F[L]._id===M._id)return!1;return this.layers.push(M),!0}isRunning(){const F=se.animations,x=F.length;for(let L=0;L<x;L++)if(F[L].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=E(),se._addAnimation(this),this}stop(){return se._removeAnimation(this),this}_updateFrameObject(M){this.frame.timeDiff=M-this.frame.lastTime,this.frame.lastTime=M,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(M){this.animations.push(M),this._handleAnimation()}static _removeAnimation(M){const F=M.id,x=this.animations,L=x.length;for(let C=0;C<L;C++)if(x[C].id===F){this.animations.splice(C,1);break}}static _runFrames(){const M={},F=this.animations;for(let x=0;x<F.length;x++){const L=F[x],C=L.layers,D=L.func;L._updateFrameObject(E());const V=C.length;let k;if(k=!D||!1!==D.call(L,L.frame),k)for(let T=0;T<V;T++){const S=C[T];void 0!==S._id&&(M[S._id]=S)}}for(const x in M)M.hasOwnProperty(x)&&M[x].batchDraw()}static _animationLoop(){const M=se;M.animations.length?(M._runFrames(),W.Util.requestAnimFrame(M._animationLoop)):M.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,W.Util.requestAnimFrame(this._animationLoop))}}Y.Animation=se,se.animations=[],se.animIdCounter=0,se.animRunning=!1},1381:(It,Y)=>{function W(K,M,F){const x=E(1,F,K),L=E(1,F,M);return Math.sqrt(x*x+L*L)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.t2length=Y.getQuadraticArcLength=Y.getCubicArcLength=Y.binomialCoefficients=Y.cValues=Y.tValues=void 0,Y.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Y.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Y.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],Y.getCubicArcLength=(K,M,F)=>{let x,L;const D=F/2;x=0;for(let V=0;V<20;V++)L=D*Y.tValues[20][V]+D,x+=Y.cValues[20][V]*W(K,M,L);return D*x},Y.getQuadraticArcLength=(K,M,F)=>{void 0===F&&(F=1);const x=K[0]-2*K[1]+K[2],L=M[0]-2*M[1]+M[2],C=2*K[1]-2*K[0],D=2*M[1]-2*M[0],V=4*(x*x+L*L),k=4*(x*C+L*D),T=C*C+D*D;if(0===V)return F*Math.sqrt(Math.pow(K[2]-K[0],2)+Math.pow(M[2]-M[0],2));const S=k/(2*V),U=F+S,te=T/V-S*S,_=U*U+te>0?Math.sqrt(U*U+te):0,P=S*S+te>0?Math.sqrt(S*S+te):0,G=S+Math.sqrt(S*S+te)!==0?te*Math.log(Math.abs((U+_)/(S+P))):0;return Math.sqrt(V)/2*(U*_-S*P+G)};const E=(K,M,F)=>{const x=F.length-1;let L,C;if(0===x)return 0;if(0===K){C=0;for(let D=0;D<=x;D++)C+=Y.binomialCoefficients[x][D]*Math.pow(1-M,x-D)*Math.pow(M,D)*F[D];return C}L=new Array(x);for(let D=0;D<x;D++)L[D]=x*(F[D+1]-F[D]);return E(K-1,M,L)};Y.t2length=(K,M,F)=>{let x=1,L=K/M,C=(K-F(L))/M,D=0;for(;x>.001;){const V=F(L+C),k=Math.abs(K-V)/M;if(k<x)x=k,L+=C;else{const T=F(L-C),S=Math.abs(K-T)/M;S<x?(x=S,L-=C):C/=2}if(D++,D>500)break}return L}},6029:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.HitCanvas=Y.SceneCanvas=Y.Canvas=void 0;const b=q(3773),W=q(1722),E=q(1354),se=q(7271),K=q(662);let M;class x{constructor(V){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const T=(V||{}).pixelRatio||E.Konva.pixelRatio||function F(){if(M)return M;const D=b.Util.createCanvasElement(),V=D.getContext("2d");return M=(E.Konva._global.devicePixelRatio||1)/(V.webkitBackingStorePixelRatio||V.mozBackingStorePixelRatio||V.msBackingStorePixelRatio||V.oBackingStorePixelRatio||V.backingStorePixelRatio||1),b.Util.releaseCanvas(D),M}();this.pixelRatio=T,this._canvas=b.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(V){const k=this.pixelRatio;this.pixelRatio=V,this.setSize(this.getWidth()/k,this.getHeight()/k)}setWidth(V){this.width=this._canvas.width=V*this.pixelRatio,this._canvas.style.width=V+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}setHeight(V){this.height=this._canvas.height=V*this.pixelRatio,this._canvas.style.height=V+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}getWidth(){return this.width}getHeight(){return this.height}setSize(V,k){this.setWidth(V||0),this.setHeight(k||0)}toDataURL(V,k){try{return this._canvas.toDataURL(V,k)}catch{try{return this._canvas.toDataURL()}catch(S){return b.Util.error("Unable to get data URL. "+S.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Y.Canvas=x,se.Factory.addGetterSetter(x,"pixelRatio",void 0,(0,K.getNumberValidator)()),Y.SceneCanvas=class L extends x{constructor(V={width:0,height:0,willReadFrequently:!1}){super(V),this.context=new W.SceneContext(this,{willReadFrequently:V.willReadFrequently}),this.setSize(V.width,V.height)}},Y.HitCanvas=class C extends x{constructor(V={width:0,height:0}){super(V),this.hitCanvas=!0,this.context=new W.HitContext(this),this.setSize(V.width,V.height)}}},4502:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Container=void 0;const b=q(7271),W=q(1541),E=q(662);class se extends W.Node{constructor(){super(...arguments),this.children=[]}getChildren(M){if(!M)return this.children||[];const x=[];return(this.children||[]).forEach(function(L){M(L)&&x.push(L)}),x}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(M=>{M.parent=null,M.index=0,M.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(M=>{M.parent=null,M.index=0,M.destroy()}),this.children=[],this._requestDraw(),this}add(...M){if(0===M.length)return this;if(M.length>1){for(let x=0;x<M.length;x++)this.add(M[x]);return this}const F=M[0];return F.getParent()?(F.moveTo(this),this):(this._validateAdd(F),F.index=this.getChildren().length,F.parent=this,F._clearCaches(),this.getChildren().push(F),this._fire("add",{child:F}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(M){return this._generalFind(M,!1)}findOne(M){const F=this._generalFind(M,!0);return F.length>0?F[0]:void 0}_generalFind(M,F){const x=[];return this._descendants(L=>{const C=L._isMatch(M);return C&&x.push(L),!(!C||!F)}),x}_descendants(M){let F=!1;const x=this.getChildren();for(const L of x){if(F=M(L),F)return!0;if(L.hasChildren()&&(F=L._descendants(M),F))return!0}return!1}toObject(){const M=W.Node.prototype.toObject.call(this);return M.children=[],this.getChildren().forEach(F=>{M.children.push(F.toObject())}),M}isAncestorOf(M){let F=M.getParent();for(;F;){if(F._id===this._id)return!0;F=F.getParent()}return!1}clone(M){const F=W.Node.prototype.clone.call(this,M);return this.getChildren().forEach(function(x){F.add(x.clone())}),F}getAllIntersections(M){const F=[];return this.find("Shape").forEach(x=>{x.isVisible()&&x.intersects(M)&&F.push(x)}),F}_clearSelfAndDescendantCache(M){var F;super._clearSelfAndDescendantCache(M),!this.isCached()&&(null===(F=this.children)||void 0===F||F.forEach(function(x){x._clearSelfAndDescendantCache(M)}))}_setChildrenIndices(){var M;null===(M=this.children)||void 0===M||M.forEach(function(F,x){F.index=x}),this._requestDraw()}drawScene(M,F,x){const L=this.getLayer(),C=M||L&&L.getCanvas(),D=C&&C.getContext(),V=this._getCanvasCache(),k=V&&V.scene,T=C&&C.isCache;if(!this.isVisible()&&!T)return this;if(k){D.save();const S=this.getAbsoluteTransform(F).getMatrix();D.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(D),D.restore()}else this._drawChildren("drawScene",C,F,x);return this}drawHit(M,F){if(!this.shouldDrawHit(F))return this;const x=this.getLayer(),L=M||x&&x.hitCanvas,C=L&&L.getContext(),D=this._getCanvasCache();if(D&&D.hit){C.save();const k=this.getAbsoluteTransform(F).getMatrix();C.transform(k[0],k[1],k[2],k[3],k[4],k[5]),this._drawCachedHitCanvas(C),C.restore()}else this._drawChildren("drawHit",L,F);return this}_drawChildren(M,F,x,L){var C;const D=F&&F.getContext(),V=this.clipWidth(),k=this.clipHeight(),T=this.clipFunc(),S="number"==typeof V&&"number"==typeof k||T,B=x===this;if(S){D.save();const te=this.getAbsoluteTransform(x);let P,_=te.getMatrix();if(D.transform(_[0],_[1],_[2],_[3],_[4],_[5]),D.beginPath(),T)P=T.call(this,D,this);else{const G=this.clipX(),ee=this.clipY();D.rect(G||0,ee||0,V,k)}D.clip.apply(D,P),_=te.copy().invert().getMatrix(),D.transform(_[0],_[1],_[2],_[3],_[4],_[5])}const U=!B&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===M;U&&(D.save(),D._applyGlobalCompositeOperation(this)),null===(C=this.children)||void 0===C||C.forEach(function(te){te[M](F,x,L)}),U&&D.restore(),S&&D.restore()}getClientRect(M={}){var F;const x=M.skipTransform,L=M.relativeTo;let C,D,V,k,T={x:1/0,y:1/0,width:0,height:0};const S=this;null===(F=this.children)||void 0===F||F.forEach(function(te){if(!te.visible())return;const _=te.getClientRect({relativeTo:S,skipShadow:M.skipShadow,skipStroke:M.skipStroke});0===_.width&&0===_.height||(void 0===C?(C=_.x,D=_.y,V=_.x+_.width,k=_.y+_.height):(C=Math.min(C,_.x),D=Math.min(D,_.y),V=Math.max(V,_.x+_.width),k=Math.max(k,_.y+_.height)))});const B=this.find("Shape");let U=!1;for(let te=0;te<B.length;te++)if(B[te]._isVisible(this)){U=!0;break}return T=U&&void 0!==C?{x:C,y:D,width:V-C,height:k-D}:{x:0,y:0,width:0,height:0},x?T:this._transformedRect(T,L)}}Y.Container=se,b.Factory.addComponentsGetterSetter(se,"clip",["x","y","width","height"]),b.Factory.addGetterSetter(se,"clipX",void 0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(se,"clipY",void 0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(se,"clipWidth",void 0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(se,"clipHeight",void 0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(se,"clipFunc")},1722:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.HitContext=Y.SceneContext=Y.Context=void 0;const b=q(3773),W=q(1354),V=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class S{constructor(_){this.canvas=_,W.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(_){_.fillEnabled()&&this._fill(_)}_fill(_){}strokeShape(_){_.hasStroke()&&this._stroke(_)}_stroke(_){}fillStrokeShape(_){_.attrs.fillAfterStrokeEnabled?(this.strokeShape(_),this.fillShape(_)):(this.fillShape(_),this.strokeShape(_))}getTrace(_,P){let X,ve,ce,z,G=this.traceArr,ee=G.length,fe="";for(X=0;X<ee;X++)ve=G[X],ce=ve.method,ce?(z=ve.args,fe+=ce,_?fe+="()":b.Util._isArray(z[0])?fe+="(["+z.join(",")+"])":(P&&(z=z.map(ae=>"number"==typeof ae?Math.floor(ae):ae)),fe+="("+z.join(",")+")")):(fe+=ve.property,_||(fe+="="+ve.val)),fe+=";";return fe}clearTrace(){this.traceArr=[]}_trace(_){let G,P=this.traceArr;P.push(_),G=P.length,G>=100&&P.shift()}reset(){const _=this.getCanvas().getPixelRatio();this.setTransform(1*_,0,0,1*_,0,0)}getCanvas(){return this.canvas}clear(_){const P=this.getCanvas();_?this.clearRect(_.x||0,_.y||0,_.width||0,_.height||0):this.clearRect(0,0,P.getWidth()/P.pixelRatio,P.getHeight()/P.pixelRatio)}_applyLineCap(_){const P=_.attrs.lineCap;P&&this.setAttr("lineCap",P)}_applyOpacity(_){const P=_.getAbsoluteOpacity();1!==P&&this.setAttr("globalAlpha",P)}_applyLineJoin(_){const P=_.attrs.lineJoin;P&&this.setAttr("lineJoin",P)}setAttr(_,P){this._context[_]=P}arc(_,P,G,ee,fe,X){this._context.arc(_,P,G,ee,fe,X)}arcTo(_,P,G,ee,fe){this._context.arcTo(_,P,G,ee,fe)}beginPath(){this._context.beginPath()}bezierCurveTo(_,P,G,ee,fe,X){this._context.bezierCurveTo(_,P,G,ee,fe,X)}clearRect(_,P,G,ee){this._context.clearRect(_,P,G,ee)}clip(..._){this._context.clip.apply(this._context,_)}closePath(){this._context.closePath()}createImageData(_,P){const G=arguments;return 2===G.length?this._context.createImageData(_,P):1===G.length?this._context.createImageData(_):void 0}createLinearGradient(_,P,G,ee){return this._context.createLinearGradient(_,P,G,ee)}createPattern(_,P){return this._context.createPattern(_,P)}createRadialGradient(_,P,G,ee,fe,X){return this._context.createRadialGradient(_,P,G,ee,fe,X)}drawImage(_,P,G,ee,fe,X,ve,ce,z){const ae=arguments,we=this._context;3===ae.length?we.drawImage(_,P,G):5===ae.length?we.drawImage(_,P,G,ee,fe):9===ae.length&&we.drawImage(_,P,G,ee,fe,X,ve,ce,z)}ellipse(_,P,G,ee,fe,X,ve,ce){this._context.ellipse(_,P,G,ee,fe,X,ve,ce)}isPointInPath(_,P,G,ee){return G?this._context.isPointInPath(G,_,P,ee):this._context.isPointInPath(_,P,ee)}fill(..._){this._context.fill.apply(this._context,_)}fillRect(_,P,G,ee){this._context.fillRect(_,P,G,ee)}strokeRect(_,P,G,ee){this._context.strokeRect(_,P,G,ee)}fillText(_,P,G,ee){ee?this._context.fillText(_,P,G,ee):this._context.fillText(_,P,G)}measureText(_){return this._context.measureText(_)}getImageData(_,P,G,ee){return this._context.getImageData(_,P,G,ee)}lineTo(_,P){this._context.lineTo(_,P)}moveTo(_,P){this._context.moveTo(_,P)}rect(_,P,G,ee){this._context.rect(_,P,G,ee)}roundRect(_,P,G,ee,fe){this._context.roundRect(_,P,G,ee,fe)}putImageData(_,P,G){this._context.putImageData(_,P,G)}quadraticCurveTo(_,P,G,ee){this._context.quadraticCurveTo(_,P,G,ee)}restore(){this._context.restore()}rotate(_){this._context.rotate(_)}save(){this._context.save()}scale(_,P){this._context.scale(_,P)}setLineDash(_){this._context.setLineDash?this._context.setLineDash(_):"mozDash"in this._context?this._context.mozDash=_:"webkitLineDash"in this._context&&(this._context.webkitLineDash=_)}getLineDash(){return this._context.getLineDash()}setTransform(_,P,G,ee,fe,X){this._context.setTransform(_,P,G,ee,fe,X)}stroke(_){_?this._context.stroke(_):this._context.stroke()}strokeText(_,P,G,ee){this._context.strokeText(_,P,G,ee)}transform(_,P,G,ee,fe,X){this._context.transform(_,P,G,ee,fe,X)}translate(_,P){this._context.translate(_,P)}_enableTrace(){let ee,fe,_=this,P=V.length,G=this.setAttr;const X=function(ve){let z,ce=_[ve];_[ve]=function(){return fe=function E(te){const _=[],P=te.length,G=b.Util;for(let ee=0;ee<P;ee++){let fe=te[ee];G._isNumber(fe)?fe=Math.round(1e3*fe)/1e3:G._isString(fe)||(fe+=""),_.push(fe)}return _}(Array.prototype.slice.call(arguments,0)),z=ce.apply(_,arguments),_._trace({method:ve,args:fe}),z}};for(ee=0;ee<P;ee++)X(V[ee]);_.setAttr=function(){G.apply(_,arguments);const ve=arguments[0];let ce=arguments[1];("shadowOffsetX"===ve||"shadowOffsetY"===ve||"shadowBlur"===ve)&&(ce/=this.canvas.getPixelRatio()),_._trace({property:ve,val:ce})}}_applyGlobalCompositeOperation(_){const P=_.attrs.globalCompositeOperation;!P||"source-over"===P||this.setAttr("globalCompositeOperation",P)}}Y.Context=S,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(te){Object.defineProperty(S.prototype,te,{get(){return this._context[te]},set(_){this._context[te]=_}})}),Y.SceneContext=class B extends S{constructor(_,{willReadFrequently:P=!1}={}){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:P})}_fillColor(_){const P=_.fill();this.setAttr("fillStyle",P),_._fillFunc(this)}_fillPattern(_){this.setAttr("fillStyle",_._getFillPattern()),_._fillFunc(this)}_fillLinearGradient(_){const P=_._getLinearGradient();P&&(this.setAttr("fillStyle",P),_._fillFunc(this))}_fillRadialGradient(_){const P=_._getRadialGradient();P&&(this.setAttr("fillStyle",P),_._fillFunc(this))}_fill(_){const P=_.fill(),G=_.getFillPriority();if(P&&"color"===G)return void this._fillColor(_);const ee=_.getFillPatternImage();if(ee&&"pattern"===G)return void this._fillPattern(_);const fe=_.getFillLinearGradientColorStops();if(fe&&"linear-gradient"===G)return void this._fillLinearGradient(_);const X=_.getFillRadialGradientColorStops();X&&"radial-gradient"===G?this._fillRadialGradient(_):P?this._fillColor(_):ee?this._fillPattern(_):fe?this._fillLinearGradient(_):X&&this._fillRadialGradient(_)}_strokeLinearGradient(_){const P=_.getStrokeLinearGradientStartPoint(),G=_.getStrokeLinearGradientEndPoint(),ee=_.getStrokeLinearGradientColorStops(),fe=this.createLinearGradient(P.x,P.y,G.x,G.y);if(ee){for(let X=0;X<ee.length;X+=2)fe.addColorStop(ee[X],ee[X+1]);this.setAttr("strokeStyle",fe)}}_stroke(_){const P=_.dash(),G=_.getStrokeScaleEnabled();if(_.hasStroke()){if(!G){this.save();const fe=this.getCanvas().getPixelRatio();this.setTransform(fe,0,0,fe,0,0)}this._applyLineCap(_),P&&_.dashEnabled()&&(this.setLineDash(P),this.setAttr("lineDashOffset",_.dashOffset())),this.setAttr("lineWidth",_.strokeWidth()),_.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),_.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(_):this.setAttr("strokeStyle",_.stroke()),_._strokeFunc(this),G||this.restore()}}_applyShadow(_){var P,G,ee;const fe=null!==(P=_.getShadowRGBA())&&void 0!==P?P:"black",X=null!==(G=_.getShadowBlur())&&void 0!==G?G:5,ve=null!==(ee=_.getShadowOffset())&&void 0!==ee?ee:{x:0,y:0},ce=_.getAbsoluteScale(),z=this.canvas.getPixelRatio(),ae=ce.x*z,we=ce.y*z;this.setAttr("shadowColor",fe),this.setAttr("shadowBlur",X*Math.min(Math.abs(ae),Math.abs(we))),this.setAttr("shadowOffsetX",ve.x*ae),this.setAttr("shadowOffsetY",ve.y*we)}},Y.HitContext=class U extends S{constructor(_){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:!0})}_fill(_){this.save(),this.setAttr("fillStyle",_.colorKey),_._fillFuncHit(this),this.restore()}strokeShape(_){_.hasHitStroke()&&this._stroke(_)}_stroke(_){if(_.hasHitStroke()){const P=_.getStrokeScaleEnabled();if(!P){this.save();const fe=this.getCanvas().getPixelRatio();this.setTransform(fe,0,0,fe,0,0)}this._applyLineCap(_);const G=_.hitStrokeWidth(),ee="auto"===G?_.strokeWidth():G;this.setAttr("lineWidth",ee),this.setAttr("strokeStyle",_.colorKey),_._strokeFuncHit(this),P||this.restore()}}}},9255:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.DD=void 0;const b=q(1354),W=q(3773);Y.DD={get isDragging(){let E=!1;return Y.DD._dragElements.forEach(se=>{"dragging"===se.dragStatus&&(E=!0)}),E},justDragged:!1,get node(){let E;return Y.DD._dragElements.forEach(se=>{E=se.node}),E},_dragElements:new Map,_drag(E){const se=[];Y.DD._dragElements.forEach((K,M)=>{const{node:F}=K,x=F.getStage();x.setPointersPositions(E),void 0===K.pointerId&&(K.pointerId=W.Util._getFirstPointerId(E));const L=x._changedPointerPositions.find(C=>C.id===K.pointerId);if(L){if("dragging"!==K.dragStatus){const C=F.dragDistance();if(Math.max(Math.abs(L.x-K.startPointerPos.x),Math.abs(L.y-K.startPointerPos.y))<C||(F.startDrag({evt:E}),!F.isDragging()))return}F._setDragPosition(E,K),se.push(F)}}),se.forEach(K=>{K.fire("dragmove",{type:"dragmove",target:K,evt:E},!0)})},_endDragBefore(E){const se=[];Y.DD._dragElements.forEach(K=>{const{node:M}=K,F=M.getStage();if(E&&F.setPointersPositions(E),!F._changedPointerPositions.find(C=>C.id===K.pointerId))return;("dragging"===K.dragStatus||"stopped"===K.dragStatus)&&(Y.DD.justDragged=!0,b.Konva._mouseListenClick=!1,b.Konva._touchListenClick=!1,b.Konva._pointerListenClick=!1,K.dragStatus="stopped");const L=K.node.getLayer()||K.node instanceof b.Konva.Stage&&K.node;L&&-1===se.indexOf(L)&&se.push(L)}),se.forEach(K=>{K.draw()})},_endDragAfter(E){Y.DD._dragElements.forEach((se,K)=>{"stopped"===se.dragStatus&&se.node.fire("dragend",{type:"dragend",target:se.node,evt:E},!0),"dragging"!==se.dragStatus&&Y.DD._dragElements.delete(K)})}},b.Konva.isBrowser&&(window.addEventListener("mouseup",Y.DD._endDragBefore,!0),window.addEventListener("touchend",Y.DD._endDragBefore,!0),window.addEventListener("touchcancel",Y.DD._endDragBefore,!0),window.addEventListener("mousemove",Y.DD._drag),window.addEventListener("touchmove",Y.DD._drag),window.addEventListener("mouseup",Y.DD._endDragAfter,!1),window.addEventListener("touchend",Y.DD._endDragAfter,!1),window.addEventListener("touchcancel",Y.DD._endDragAfter,!1))},7271:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Factory=void 0;const b=q(3773),W=q(662),E="get",se="set";Y.Factory={addGetterSetter(K,M,F,x,L){Y.Factory.addGetter(K,M,F),Y.Factory.addSetter(K,M,x,L),Y.Factory.addOverloadedGetterSetter(K,M)},addGetter(K,M,F){var x=E+b.Util._capitalize(M);K.prototype[x]=K.prototype[x]||function(){const L=this.attrs[M];return void 0===L?F:L}},addSetter(K,M,F,x){var L=se+b.Util._capitalize(M);K.prototype[L]||Y.Factory.overWriteSetter(K,M,F,x)},overWriteSetter(K,M,F,x){var L=se+b.Util._capitalize(M);K.prototype[L]=function(C){return F&&null!=C&&(C=F.call(this,C,M)),this._setAttr(M,C),x&&x.call(this),this}},addComponentsGetterSetter(K,M,F,x,L){const C=F.length,D=b.Util._capitalize,V=E+D(M),k=se+D(M);K.prototype[V]=function(){const S={};for(let B=0;B<C;B++){const U=F[B];S[U]=this.getAttr(M+D(U))}return S};const T=(0,W.getComponentValidator)(F);K.prototype[k]=function(S){const B=this.attrs[M];x&&(S=x.call(this,S,M)),T&&T.call(this,S,M);for(const U in S)S.hasOwnProperty(U)&&this._setAttr(M+D(U),S[U]);return S||F.forEach(U=>{this._setAttr(M+D(U),void 0)}),this._fireChangeEvent(M,B,S),L&&L.call(this),this},Y.Factory.addOverloadedGetterSetter(K,M)},addOverloadedGetterSetter(K,M){var F=b.Util._capitalize(M),x=se+F,L=E+F;K.prototype[M]=function(){return arguments.length?(this[x](arguments[0]),this):this[L]()}},addDeprecatedGetterSetter(K,M,F,x){b.Util.error("Adding deprecated "+M);const L=E+b.Util._capitalize(M),C=M+" property is deprecated and will be removed soon. Look at Konva change log for more information.";K.prototype[L]=function(){b.Util.error(C);const D=this.attrs[M];return void 0===D?F:D},Y.Factory.addSetter(K,M,x,function(){b.Util.error(C)}),Y.Factory.addOverloadedGetterSetter(K,M)},backCompat(K,M){b.Util.each(M,function(F,x){const L=K.prototype[x],C=E+b.Util._capitalize(F),D=se+b.Util._capitalize(F);function V(){L.apply(this,arguments),b.Util.error('"'+F+'" method is deprecated and will be removed soon. Use ""'+x+'" instead.')}K.prototype[F]=V,K.prototype[C]=V,K.prototype[D]=V})},afterSetFilter(){this._filterUpToDate=!1}}},8938:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.FastLayer=void 0;const b=q(3773),W=q(9224),E=q(1354);class se extends W.Layer{constructor(M){super(M),this.listening(!1),b.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Y.FastLayer=se,se.prototype.nodeType="FastLayer",(0,E._registerNode)(se)},1354:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y._registerNode=Y.Konva=Y.glob=void 0;const q=Math.PI/180;Y.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Y.Konva={_global:Y.glob,version:"9.3.18",isBrowser:function b(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(E){}.toString()),dblClickWindow:400,getAngle:E=>Y.Konva.angleDeg?E*q:E,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>Y.Konva.DD.isDragging,isTransforming(){var E;return null===(E=Y.Konva.Transformer)||void 0===E?void 0:E.isTransforming()},isDragReady:()=>!!Y.Konva.DD.node,releaseCanvasOnDestroy:!0,document:Y.glob.document,_injectGlobal(E){Y.glob.Konva=E}},Y._registerNode=E=>{Y.Konva[E.prototype.getClassName()]=E},Y.Konva._injectGlobal(Y.Konva)},2626:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Group=void 0;const b=q(3773),W=q(4502),E=q(1354);class se extends W.Container{_validateAdd(M){const F=M.getType();"Group"!==F&&"Shape"!==F&&b.Util.throw("You may only add groups and shapes to groups.")}}Y.Group=se,se.prototype.nodeType="Group",(0,E._registerNode)(se)},9224:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Layer=void 0;const b=q(3773),W=q(4502),E=q(1541),se=q(7271),K=q(6029),M=q(662),F=q(2040),x=q(1354),V=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],k=V.length;class T extends W.Container{constructor(B){super(B),this.canvas=new K.SceneCanvas,this.hitCanvas=new K.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(B){return this.getContext().clear(B),this.getHitCanvas().getContext().clear(B),this}setZIndex(B){super.setZIndex(B);const U=this.getStage();return U&&U.content&&(U.content.removeChild(this.getNativeCanvasElement()),B<U.children.length-1?U.content.insertBefore(this.getNativeCanvasElement(),U.children[B+1].getCanvas()._canvas):U.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){E.Node.prototype.moveToTop.call(this);const B=this.getStage();return B&&B.content&&(B.content.removeChild(this.getNativeCanvasElement()),B.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!E.Node.prototype.moveUp.call(this))return!1;const U=this.getStage();return!(!U||!U.content||(U.content.removeChild(this.getNativeCanvasElement()),this.index<U.children.length-1?U.content.insertBefore(this.getNativeCanvasElement(),U.children[this.index+1].getCanvas()._canvas):U.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(E.Node.prototype.moveDown.call(this)){const B=this.getStage();if(B){const U=B.children;B.content&&(B.content.removeChild(this.getNativeCanvasElement()),B.content.insertBefore(this.getNativeCanvasElement(),U[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(E.Node.prototype.moveToBottom.call(this)){const B=this.getStage();if(B){const U=B.children;B.content&&(B.content.removeChild(this.getNativeCanvasElement()),B.content.insertBefore(this.getNativeCanvasElement(),U[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const B=this.getNativeCanvasElement();return E.Node.prototype.remove.call(this),B&&B.parentNode&&b.Util._isInDocument(B)&&B.parentNode.removeChild(B),this}getStage(){return this.parent}setSize({width:B,height:U}){return this.canvas.setSize(B,U),this.hitCanvas.setSize(B,U),this._setSmoothEnabled(),this}_validateAdd(B){const U=B.getType();"Group"!==U&&"Shape"!==U&&b.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(B){return(B=B||{}).width=B.width||this.getWidth(),B.height=B.height||this.getHeight(),B.x=void 0!==B.x?B.x:this.x(),B.y=void 0!==B.y?B.y:this.y(),E.Node.prototype._toKonvaCanvas.call(this,B)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){b.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){b.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,b.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(B){if(!this.isListening()||!this.isVisible())return null;let U=1,te=!1;for(;;){for(let _=0;_<k;_++){const P=V[_],G=this._getIntersection({x:B.x+P.x*U,y:B.y+P.y*U}),ee=G.shape;if(ee)return ee;if(te=!!G.antialiased,!G.antialiased)break}if(!te)return null;U+=1}}_getIntersection(B){const U=this.hitCanvas.pixelRatio,te=this.hitCanvas.context.getImageData(Math.round(B.x*U),Math.round(B.y*U),1,1).data,_=te[3];if(255===_){const P=b.Util._rgbToHex(te[0],te[1],te[2]),G=F.shapes["#"+P];return G?{shape:G}:{antialiased:!0}}return _>0?{antialiased:!0}:{}}drawScene(B,U){const te=this.getLayer(),_=B||te&&te.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&_.getContext().clear(),W.Container.prototype.drawScene.call(this,_,U),this._fire("draw",{node:this}),this}drawHit(B,U){const te=this.getLayer(),_=B||te&&te.hitCanvas;return te&&te.clearBeforeDraw()&&te.getHitCanvas().getContext().clear(),W.Container.prototype.drawHit.call(this,_,U),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(B){b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(B)}getHitGraphEnabled(B){return b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const B=this.parent;this.hitCanvas._canvas.parentNode?B.content.removeChild(this.hitCanvas._canvas):B.content.appendChild(this.hitCanvas._canvas)}destroy(){return b.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Y.Layer=T,T.prototype.nodeType="Layer",(0,x._registerNode)(T),se.Factory.addGetterSetter(T,"imageSmoothingEnabled",!0),se.Factory.addGetterSetter(T,"clearBeforeDraw",!0),se.Factory.addGetterSetter(T,"hitGraphEnabled",!0,(0,M.getBooleanValidator)())},1541:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Node=void 0;const b=q(3773),W=q(7271),E=q(6029),se=q(1354),K=q(9255),M=q(662),F="absoluteOpacity",x="allEventListeners",L="absoluteTransform",C="absoluteScale",D="canvas",S="listening",B="mouseenter",U="mouseleave",P="Shape",G=" ",fe="transform",ve="visible",ce=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(G);let z=1;class ae{constructor(I){this._id=z++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(I),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(I){I!==fe&&I!==L||!this._cache.get(I)?I?this._cache.delete(I):this._cache.clear():this._cache.get(I).dirty=!0}_getCache(I,j){let J=this._cache.get(I);return(void 0===J||(I===fe||I===L)&&!0===J.dirty)&&(J=j.call(this),this._cache.set(I,J)),J}_calculate(I,j,J){if(!this._attachedDepsListeners.get(I)){const de=j.map(Re=>Re+"Change.konva").join(G);this.on(de,()=>{this._clearCache(I)}),this._attachedDepsListeners.set(I,!0)}return this._getCache(I,J)}_getCanvasCache(){return this._cache.get(D)}_clearSelfAndDescendantCache(I){this._clearCache(I),I===L&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(D)){const{scene:I,filter:j,hit:J}=this._cache.get(D);b.Util.releaseCanvas(I,j,J),this._cache.delete(D)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(I){const j=I||{};let J={};(void 0===j.x||void 0===j.y||void 0===j.width||void 0===j.height)&&(J=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let de=Math.ceil(j.width||J.width),Re=Math.ceil(j.height||J.height),ke=j.pixelRatio,tt=void 0===j.x?Math.floor(J.x):j.x,he=void 0===j.y?Math.floor(J.y):j.y,_e=j.offset||0,le=j.drawBorder||!1,ye=j.hitCanvasPixelRatio||1;if(!de||!Re)return void b.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");de+=2*_e+(Math.abs(Math.round(J.x)-tt)>.5?1:0),Re+=2*_e+(Math.abs(Math.round(J.y)-he)>.5?1:0),tt-=_e,he-=_e;const De=new E.SceneCanvas({pixelRatio:ke,width:de,height:Re}),Ze=new E.SceneCanvas({pixelRatio:ke,width:0,height:0,willReadFrequently:!0}),wt=new E.HitCanvas({pixelRatio:ye,width:de,height:Re}),qe=De.getContext(),ft=wt.getContext();return wt.isCache=!0,De.isCache=!0,this._cache.delete(D),this._filterUpToDate=!1,!1===j.imageSmoothingEnabled&&(De.getContext()._context.imageSmoothingEnabled=!1,Ze.getContext()._context.imageSmoothingEnabled=!1),qe.save(),ft.save(),qe.translate(-tt,-he),ft.translate(-tt,-he),this._isUnderCache=!0,this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(C),this.drawScene(De,this),this.drawHit(wt,this),this._isUnderCache=!1,qe.restore(),ft.restore(),le&&(qe.save(),qe.beginPath(),qe.rect(0,0,de,Re),qe.closePath(),qe.setAttr("strokeStyle","red"),qe.setAttr("lineWidth",5),qe.stroke(),qe.restore()),this._cache.set(D,{scene:De,filter:Ze,hit:wt,x:tt,y:he}),this._requestDraw(),this}isCached(){return this._cache.has(D)}getClientRect(I){throw new Error('abstract "getClientRect" method call')}_transformedRect(I,j){const J=[{x:I.x,y:I.y},{x:I.x+I.width,y:I.y},{x:I.x+I.width,y:I.y+I.height},{x:I.x,y:I.y+I.height}];let de=1/0,Re=1/0,ke=-1/0,tt=-1/0;const he=this.getAbsoluteTransform(j);return J.forEach(function(_e){const le=he.point(_e);void 0===de&&(de=ke=le.x,Re=tt=le.y),de=Math.min(de,le.x),Re=Math.min(Re,le.y),ke=Math.max(ke,le.x),tt=Math.max(tt,le.y)}),{x:de,y:Re,width:ke-de,height:tt-Re}}_drawCachedSceneCanvas(I){I.save(),I._applyOpacity(this),I._applyGlobalCompositeOperation(this);const j=this._getCanvasCache();I.translate(j.x,j.y);const J=this._getCachedSceneCanvas(),de=J.pixelRatio;I.drawImage(J._canvas,0,0,J.width/de,J.height/de),I.restore()}_drawCachedHitCanvas(I){const j=this._getCanvasCache(),J=j.hit;I.save(),I.translate(j.x,j.y),I.drawImage(J._canvas,0,0,J.width/J.pixelRatio,J.height/J.pixelRatio),I.restore()}_getCachedSceneCanvas(){let ke,tt,he,_e,I=this.filters(),j=this._getCanvasCache(),J=j.scene,de=j.filter,Re=de.getContext();if(I){if(!this._filterUpToDate){const le=J.pixelRatio;de.setSize(J.width/J.pixelRatio,J.height/J.pixelRatio);try{for(ke=I.length,Re.clear(),Re.drawImage(J._canvas,0,0,J.getWidth()/le,J.getHeight()/le),tt=Re.getImageData(0,0,de.getWidth(),de.getHeight()),he=0;he<ke;he++)_e=I[he],"function"==typeof _e?(_e.call(this,tt),Re.putImageData(tt,0,0)):b.Util.error("Filter should be type of function, but got "+typeof _e+" instead. Please check correct filters")}catch(ye){b.Util.error("Unable to apply filter. "+ye.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return de}return J}on(I,j){if(this._cache&&this._cache.delete(x),3===arguments.length)return this._delegate.apply(this,arguments);let Re,ke,tt,he,_e,J=I.split(G),de=J.length;for(Re=0;Re<de;Re++)ke=J[Re],tt=ke.split("."),he=tt[0],_e=tt[1]||"",this.eventListeners[he]||(this.eventListeners[he]=[]),this.eventListeners[he].push({name:_e,handler:j});return this}off(I,j){let Re,ke,tt,he,_e,le,J=(I||"").split(G),de=J.length;if(this._cache&&this._cache.delete(x),!I)for(ke in this.eventListeners)this._off(ke);for(Re=0;Re<de;Re++)if(tt=J[Re],he=tt.split("."),_e=he[0],le=he[1],_e)this.eventListeners[_e]&&this._off(_e,le,j);else for(ke in this.eventListeners)this._off(ke,le,j);return this}dispatchEvent(I){return this.fire(I.type,{target:this,type:I.type,evt:I}),this}addEventListener(I,j){return this.on(I,function(J){j.call(this,J.evt)}),this}removeEventListener(I){return this.off(I),this}_delegate(I,j,J){const de=this;this.on(I,function(Re){const ke=Re.target.findAncestors(j,!0,de);for(let tt=0;tt<ke.length;tt++)(Re=b.Util.cloneObject(Re)).currentTarget=ke[tt],J.call(ke[tt],Re)})}remove(){return this.isDragging()&&this.stopDrag(),K.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(ve),this._clearSelfAndDescendantCache(S)}_remove(){this._clearCaches();const I=this.getParent();I&&I.children&&(I.children.splice(this.index,1),I._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(I){const j="get"+b.Util._capitalize(I);return b.Util._isFunction(this[j])?this[j]():this.attrs[I]}getAncestors(){let I=this.getParent(),j=[];for(;I;)j.push(I),I=I.getParent();return j}getAttrs(){return this.attrs||{}}setAttrs(I){return this._batchTransformChanges(()=>{let j,J;if(!I)return this;for(j in I)"children"!==j&&(J="set"+b.Util._capitalize(j),b.Util._isFunction(this[J])?this[J](I[j]):this._setAttr(j,I[j]))}),this}isListening(){return this._getCache(S,this._isListening)}_isListening(I){if(!this.listening())return!1;const J=this.getParent();return!J||J===I||this===I||J._isListening(I)}isVisible(){return this._getCache(ve,this._isVisible)}_isVisible(I){if(!this.visible())return!1;const J=this.getParent();return!J||J===I||this===I||J._isVisible(I)}shouldDrawHit(I,j=!1){if(I)return this._isVisible(I)&&this._isListening(I);const J=this.getLayer();let de=!1;K.DD._dragElements.forEach(ke=>{"dragging"===ke.dragStatus&&("Stage"===ke.node.nodeType||ke.node.getLayer()===J)&&(de=!0)});const Re=!j&&!se.Konva.hitOnDragEnabled&&(de||se.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!Re}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let de,Re,ke,tt,I=this.getDepth(),j=this,J=0;const _e=this.getStage();return"Stage"!==j.nodeType&&_e&&function he(le){for(de=[],Re=le.length,ke=0;ke<Re;ke++)tt=le[ke],J++,tt.nodeType!==P&&(de=de.concat(tt.getChildren().slice())),tt._id===j._id&&(ke=Re);de.length>0&&de[0].getDepth()<=I&&he(de)}(_e.getChildren()),J}getDepth(){let I=0,j=this.parent;for(;j;)I++,j=j.parent;return I}_batchTransformChanges(I){this._batchingTransformChange=!0,I(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(fe),this._clearSelfAndDescendantCache(L)),this._needClearTransformCache=!1}setPosition(I){return this._batchTransformChanges(()=>{this.x(I.x),this.y(I.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const I=this.getStage();if(!I)return null;const j=I.getPointerPosition();if(!j)return null;const J=this.getAbsoluteTransform().copy();return J.invert(),J.point(j)}getAbsolutePosition(I){let j=!1,J=this.parent;for(;J;){if(J.isCached()){j=!0;break}J=J.parent}j&&!I&&(I=!0);const de=this.getAbsoluteTransform(I).getMatrix(),Re=new b.Transform,ke=this.offset();return Re.m=de.slice(),Re.translate(ke.x,ke.y),Re.getTranslation()}setAbsolutePosition(I){const{x:j,y:J,...de}=this._clearTransform();this.attrs.x=j,this.attrs.y=J,this._clearCache(fe);const Re=this._getAbsoluteTransform().copy();return Re.invert(),Re.translate(I.x,I.y),I={x:this.attrs.x+Re.getTranslation().x,y:this.attrs.y+Re.getTranslation().y},this._setTransform(de),this.setPosition({x:I.x,y:I.y}),this._clearCache(fe),this._clearSelfAndDescendantCache(L),this}_setTransform(I){let j;for(j in I)this.attrs[j]=I[j]}_clearTransform(){const I={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,I}move(I){let j=I.x,J=I.y,de=this.x(),Re=this.y();return void 0!==j&&(de+=j),void 0!==J&&(Re+=J),this.setPosition({x:de,y:Re}),this}_eachAncestorReverse(I,j){let Re,ke,J=[],de=this.getParent();if(!j||j._id!==this._id){for(J.unshift(this);de&&(!j||de._id!==j._id);)J.unshift(de),de=de.parent;for(Re=J.length,ke=0;ke<Re;ke++)I(J[ke])}}rotate(I){return this.rotation(this.rotation()+I),this}moveToTop(){if(!this.parent)return b.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const I=this.index;return I<this.parent.getChildren().length-1&&(this.parent.children.splice(I,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return b.Util.warn("Node has no parent. moveUp function is ignored."),!1;const I=this.index;return I<this.parent.getChildren().length-1&&(this.parent.children.splice(I,1),this.parent.children.splice(I+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return b.Util.warn("Node has no parent. moveDown function is ignored."),!1;const I=this.index;return I>0&&(this.parent.children.splice(I,1),this.parent.children.splice(I-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return b.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const I=this.index;return I>0&&(this.parent.children.splice(I,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(I){return this.parent?((I<0||I>=this.parent.children.length)&&b.Util.warn("Unexpected value "+I+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(I,0,this),this.parent._setChildrenIndices(),this):(b.Util.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(F,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let I=this.opacity();const j=this.getParent();return j&&!j._isUnderCache&&(I*=j.getAbsoluteOpacity()),I}moveTo(I){return this.getParent()!==I&&(this._remove(),I.add(this)),this}toObject(){let j,J,de,Re,ke,I=this.getAttrs();const tt={attrs:{},className:this.getClassName()};for(j in I)J=I[j],ke=b.Util.isObject(J)&&!b.Util._isPlainObject(J)&&!b.Util._isArray(J),!ke&&(de="function"==typeof this[j]&&this[j],delete I[j],Re=de?de.call(this):null,I[j]=J,Re!==J&&(tt.attrs[j]=J));return b.Util._prepareToStringify(tt)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(I,j,J){const de=[];j&&this._isMatch(I)&&de.push(this);let Re=this.parent;for(;Re;){if(Re===J)return de;Re._isMatch(I)&&de.push(Re),Re=Re.parent}return de}isAncestorOf(I){return!1}findAncestor(I,j,J){return this.findAncestors(I,j,J)[0]}_isMatch(I){if(!I)return!1;if("function"==typeof I)return I(this);let de,Re,j=I.replace(/ /g,"").split(","),J=j.length;for(de=0;de<J;de++)if(Re=j[de],b.Util.isValidSelector(Re)||(b.Util.warn('Selector "'+Re+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),b.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),b.Util.warn("Konva is awesome, right?")),"#"===Re.charAt(0)){if(this.id()===Re.slice(1))return!0}else if("."===Re.charAt(0)){if(this.hasName(Re.slice(1)))return!0}else if(this.className===Re||this.nodeType===Re)return!0;return!1}getLayer(){const I=this.getParent();return I?I.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){const I=this.getParent();return I?I.getStage():null}fire(I,j={},J){return j.target=j.target||this,J?this._fireAndBubble(I,j):this._fire(I,j),this}getAbsoluteTransform(I){return I?this._getAbsoluteTransform(I):this._getCache(L,this._getAbsoluteTransform)}_getAbsoluteTransform(I){let j;if(I)return j=new b.Transform,this._eachAncestorReverse(function(J){const de=J.transformsEnabled();"all"===de?j.multiply(J.getTransform()):"position"===de&&j.translate(J.x()-J.offsetX(),J.y()-J.offsetY())},I),j;{j=this._cache.get(L)||new b.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(j):j.reset();const J=this.transformsEnabled();return"all"===J?j.multiply(this.getTransform()):"position"===J&&j.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),j.dirty=!1,j}}getAbsoluteScale(I){let j=this;for(;j;)j._isUnderCache&&(I=j),j=j.getParent();const de=this.getAbsoluteTransform(I).decompose();return{x:de.scaleX,y:de.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(fe,this._getTransform)}_getTransform(){var I,j;const J=this._cache.get(fe)||new b.Transform;J.reset();const de=this.x(),Re=this.y(),ke=se.Konva.getAngle(this.rotation()),tt=null!==(I=this.attrs.scaleX)&&void 0!==I?I:1,he=null!==(j=this.attrs.scaleY)&&void 0!==j?j:1,_e=this.attrs.skewX||0,le=this.attrs.skewY||0,ye=this.attrs.offsetX||0,Ne=this.attrs.offsetY||0;return(0!==de||0!==Re)&&J.translate(de,Re),0!==ke&&J.rotate(ke),(0!==_e||0!==le)&&J.skew(_e,le),(1!==tt||1!==he)&&J.scale(tt,he),(0!==ye||0!==Ne)&&J.translate(-1*ye,-1*Ne),J.dirty=!1,J}clone(I){let J,de,Re,ke,tt,j=b.Util.cloneObject(this.attrs);for(J in I)j[J]=I[J];const he=new this.constructor(j);for(J in this.eventListeners)for(de=this.eventListeners[J],Re=de.length,ke=0;ke<Re;ke++)tt=de[ke],tt.name.indexOf("konva")<0&&(he.eventListeners[J]||(he.eventListeners[J]=[]),he.eventListeners[J].push(tt));return he}_toKonvaCanvas(I){I=I||{};const j=this.getClientRect(),J=this.getStage(),de=void 0!==I.x?I.x:Math.floor(j.x),Re=void 0!==I.y?I.y:Math.floor(j.y),ke=I.pixelRatio||1,tt=new E.SceneCanvas({width:I.width||Math.ceil(j.width)||(J?J.width():0),height:I.height||Math.ceil(j.height)||(J?J.height():0),pixelRatio:ke}),he=tt.getContext(),_e=new E.SceneCanvas({width:tt.width/tt.pixelRatio+Math.abs(de),height:tt.height/tt.pixelRatio+Math.abs(Re),pixelRatio:tt.pixelRatio});return!1===I.imageSmoothingEnabled&&(he._context.imageSmoothingEnabled=!1),he.save(),(de||Re)&&he.translate(-1*de,-1*Re),this.drawScene(tt,void 0,_e),he.restore(),tt}toCanvas(I){return this._toKonvaCanvas(I)._canvas}toDataURL(I){const j=(I=I||{}).mimeType||null,J=I.quality||null,de=this._toKonvaCanvas(I).toDataURL(j,J);return I.callback&&I.callback(de),de}toImage(I){return new Promise((j,J)=>{try{const de=I?.callback;de&&delete I.callback,b.Util._urlToImage(this.toDataURL(I),function(Re){j(Re),de?.(Re)})}catch(de){J(de)}})}toBlob(I){return new Promise((j,J)=>{try{const de=I?.callback;de&&delete I.callback,this.toCanvas(I).toBlob(Re=>{j(Re),de?.(Re)},I?.mimeType,I?.quality)}catch(de){J(de)}})}setSize(I){return this.width(I.width),this.height(I.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():se.Konva.dragDistance}_off(I,j,J){let Re,ke,tt,de=this.eventListeners[I];for(Re=0;Re<de.length;Re++)if(ke=de[Re].name,tt=de[Re].handler,!("konva"===ke&&"konva"!==j||j&&ke!==j||J&&J!==tt)){if(de.splice(Re,1),0===de.length){delete this.eventListeners[I];break}Re--}}_fireChangeEvent(I,j,J){this._fire(I+"Change",{oldVal:j,newVal:J})}addName(I){if(!this.hasName(I)){const j=this.name();this.name(j?j+" "+I:I)}return this}hasName(I){if(!I)return!1;const j=this.name();return!!j&&-1!==(j||"").split(/\s/g).indexOf(I)}removeName(I){const j=(this.name()||"").split(/\s/g),J=j.indexOf(I);return-1!==J&&(j.splice(J,1),this.name(j.join(" "))),this}setAttr(I,j){const J=this["set"+b.Util._capitalize(I)];return b.Util._isFunction(J)?J.call(this,j):this._setAttr(I,j),this}_requestDraw(){if(se.Konva.autoDrawEnabled){const I=this.getLayer()||this.getStage();I?.batchDraw()}}_setAttr(I,j){const J=this.attrs[I];J===j&&!b.Util.isObject(j)||(null==j?delete this.attrs[I]:this.attrs[I]=j,this._shouldFireChangeEvents&&this._fireChangeEvent(I,J,j),this._requestDraw())}_setComponentAttr(I,j,J){let de;void 0!==J&&(de=this.attrs[I],de||(this.attrs[I]=this.getAttr(I)),this.attrs[I][j]=J,this._fireChangeEvent(I,de,J))}_fireAndBubble(I,j,J){if(j&&this.nodeType===P&&(j.target=this),I!==B&&I!==U||!(J&&(this===J||this.isAncestorOf&&this.isAncestorOf(J))||"Stage"===this.nodeType&&!J)){this._fire(I,j);const Re=(I===B||I===U)&&J&&J.isAncestorOf&&J.isAncestorOf(this)&&!J.isAncestorOf(this.parent);(j&&!j.cancelBubble||!j)&&this.parent&&this.parent.isListening()&&!Re&&(J&&J.parent?this._fireAndBubble.call(this.parent,I,j,J):this._fireAndBubble.call(this.parent,I,j))}}_getProtoListeners(I){var j,J,de;const Re=null!==(j=this._cache.get(x))&&void 0!==j?j:{};let ke=Re?.[I];if(void 0===ke){ke=[];let tt=Object.getPrototypeOf(this);for(;tt;){const he=null!==(de=null===(J=tt.eventListeners)||void 0===J?void 0:J[I])&&void 0!==de?de:[];ke.push(...he),tt=Object.getPrototypeOf(tt)}Re[I]=ke,this._cache.set(x,Re)}return ke}_fire(I,j){(j=j||{}).currentTarget=this,j.type=I;const J=this._getProtoListeners(I);if(J)for(var de=0;de<J.length;de++)J[de].handler.call(this,j);const Re=this.eventListeners[I];if(Re)for(de=0;de<Re.length;de++)Re[de].handler.call(this,j)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(I){const j=I?I.pointerId:void 0,J=this.getStage(),de=this.getAbsolutePosition();if(!J)return;const Re=J._getPointerById(j)||J._changedPointerPositions[0]||de;K.DD._dragElements.set(this._id,{node:this,startPointerPos:Re,offset:{x:Re.x-de.x,y:Re.y-de.y},dragStatus:"ready",pointerId:j})}startDrag(I,j=!0){K.DD._dragElements.has(this._id)||this._createDragElement(I),K.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:I&&I.evt},j)}_setDragPosition(I,j){const J=this.getStage()._getPointerById(j.pointerId);if(!J)return;let de={x:J.x-j.offset.x,y:J.y-j.offset.y};const Re=this.dragBoundFunc();if(void 0!==Re){const ke=Re.call(this,de,I);ke?de=ke:b.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==de.x||this._lastPos.y!==de.y)&&(this.setAbsolutePosition(de),this._requestDraw()),this._lastPos=de}stopDrag(I){const j=K.DD._dragElements.get(this._id);j&&(j.dragStatus="stopped"),K.DD._endDragBefore(I),K.DD._endDragAfter(I)}setDraggable(I){this._setAttr("draggable",I),this._dragChange()}isDragging(){const I=K.DD._dragElements.get(this._id);return!!I&&"dragging"===I.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(I){if(!(void 0===I.evt.button||se.Konva.dragButtons.indexOf(I.evt.button)>=0)||this.isDragging())return;let de=!1;K.DD._dragElements.forEach(Re=>{this.isAncestorOf(Re.node)&&(de=!0)}),de||this._createDragElement(I)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const j=K.DD._dragElements.get(this._id),de=j&&"ready"===j.dragStatus;j&&"dragging"===j.dragStatus?this.stopDrag():de&&K.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(I={x:0,y:0}){const j=this.getStage();if(!j)return!1;const J={x:-I.x,y:-I.y,width:j.width()+2*I.x,height:j.height()+2*I.y};return b.Util.haveIntersection(J,this.getClientRect())}static create(I,j){return b.Util._isString(I)&&(I=JSON.parse(I)),this._createNode(I,j)}static _createNode(I,j){let Re,ke,tt,J=ae.prototype.getClassName.call(I),de=I.children;if(j&&(I.attrs.container=j),se.Konva[J]||(b.Util.warn('Can not find a node with class name "'+J+'". Fallback to "Shape".'),J="Shape"),Re=new(0,se.Konva[J])(I.attrs),de)for(ke=de.length,tt=0;tt<ke;tt++)Re.add(ae._createNode(de[tt]));return Re}}Y.Node=ae,ae.prototype.nodeType="Node",ae.prototype._attrsAffectingSize=[],ae.prototype.eventListeners={},ae.prototype.on.call(ae.prototype,ce,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(fe),this._clearSelfAndDescendantCache(L))}),ae.prototype.on.call(ae.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ve)}),ae.prototype.on.call(ae.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S)}),ae.prototype.on.call(ae.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(F)});const we=W.Factory.addGetterSetter;we(ae,"zIndex"),we(ae,"absolutePosition"),we(ae,"position"),we(ae,"x",0,(0,M.getNumberValidator)()),we(ae,"y",0,(0,M.getNumberValidator)()),we(ae,"globalCompositeOperation","source-over",(0,M.getStringValidator)()),we(ae,"opacity",1,(0,M.getNumberValidator)()),we(ae,"name","",(0,M.getStringValidator)()),we(ae,"id","",(0,M.getStringValidator)()),we(ae,"rotation",0,(0,M.getNumberValidator)()),W.Factory.addComponentsGetterSetter(ae,"scale",["x","y"]),we(ae,"scaleX",1,(0,M.getNumberValidator)()),we(ae,"scaleY",1,(0,M.getNumberValidator)()),W.Factory.addComponentsGetterSetter(ae,"skew",["x","y"]),we(ae,"skewX",0,(0,M.getNumberValidator)()),we(ae,"skewY",0,(0,M.getNumberValidator)()),W.Factory.addComponentsGetterSetter(ae,"offset",["x","y"]),we(ae,"offsetX",0,(0,M.getNumberValidator)()),we(ae,"offsetY",0,(0,M.getNumberValidator)()),we(ae,"dragDistance",void 0,(0,M.getNumberValidator)()),we(ae,"width",0,(0,M.getNumberValidator)()),we(ae,"height",0,(0,M.getNumberValidator)()),we(ae,"listening",!0,(0,M.getBooleanValidator)()),we(ae,"preventDefault",!0,(0,M.getBooleanValidator)()),we(ae,"filters",void 0,function(Pe){return this._filterUpToDate=!1,Pe}),we(ae,"visible",!0,(0,M.getBooleanValidator)()),we(ae,"transformsEnabled","all",(0,M.getStringValidator)()),we(ae,"size"),we(ae,"dragBoundFunc"),we(ae,"draggable",!1,(0,M.getBooleanValidator)()),W.Factory.backCompat(ae,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},5197:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getCapturedShape=function se(L){return W.get(L)},Y.createEvent=K,Y.hasPointerCapture=function M(L,C){return W.get(L)===C},Y.setPointerCapture=function F(L,C){x(L),C.getStage()&&(W.set(L,C),E&&C._fire("gotpointercapture",K(new PointerEvent("gotpointercapture"))))},Y.releaseCapture=x;const b=q(1354),W=new Map,E=void 0!==b.Konva._global.PointerEvent;function K(L){return{evt:L,pointerId:L.pointerId}}function x(L,C){const D=W.get(L);D&&(D.getStage(),W.delete(L),E&&D._fire("lostpointercapture",K(new PointerEvent("lostpointercapture"))))}},2040:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Shape=Y.shapes=void 0;const b=q(1354),W=q(3773),E=q(7271),se=q(1541),K=q(662),M=q(1354),F=q(5197),x="hasShadow",L="shadowRGBA",C="patternImage",D="linearGradient",V="radialGradient";let k;function T(){return k||(k=W.Util.createCanvasElement().getContext("2d"),k)}Y.shapes={};class X extends se.Node{constructor(ce){let z;for(super(ce);z=W.Util.getRandomColor(),!z||z in Y.shapes;);this.colorKey=z,Y.shapes[z]=this}getContext(){return W.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return W.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(x,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(C,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const z=T().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(z&&z.setTransform){const ae=new W.Transform;ae.translate(this.fillPatternX(),this.fillPatternY()),ae.rotate(b.Konva.getAngle(this.fillPatternRotation())),ae.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),ae.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const we=ae.getMatrix(),Pe=typeof DOMMatrix>"u"?{a:we[0],b:we[1],c:we[2],d:we[3],e:we[4],f:we[5]}:new DOMMatrix(we);z.setTransform(Pe)}return z}}_getLinearGradient(){return this._getCache(D,this.__getLinearGradient)}__getLinearGradient(){const ce=this.fillLinearGradientColorStops();if(ce){const z=T(),ae=this.fillLinearGradientStartPoint(),we=this.fillLinearGradientEndPoint(),Pe=z.createLinearGradient(ae.x,ae.y,we.x,we.y);for(let I=0;I<ce.length;I+=2)Pe.addColorStop(ce[I],ce[I+1]);return Pe}}_getRadialGradient(){return this._getCache(V,this.__getRadialGradient)}__getRadialGradient(){const ce=this.fillRadialGradientColorStops();if(ce){const z=T(),ae=this.fillRadialGradientStartPoint(),we=this.fillRadialGradientEndPoint(),Pe=z.createRadialGradient(ae.x,ae.y,this.fillRadialGradientStartRadius(),we.x,we.y,this.fillRadialGradientEndRadius());for(let I=0;I<ce.length;I+=2)Pe.addColorStop(ce[I],ce[I+1]);return Pe}}getShadowRGBA(){return this._getCache(L,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const ce=W.Util.colorToRGBA(this.shadowColor());return ce?"rgba("+ce.r+","+ce.g+","+ce.b+","+ce.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const ce=this.hitStrokeWidth();return"auto"===ce?this.hasStroke():this.strokeEnabled()&&!!ce}intersects(ce){const z=this.getStage();if(!z)return!1;const ae=z.bufferHitCanvas;return ae.getContext().clear(),this.drawHit(ae,void 0,!0),ae.context.getImageData(Math.round(ce.x),Math.round(ce.y),1,1).data[3]>0}destroy(){return se.Node.prototype.destroy.call(this),delete Y.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(ce){var z;if(null!==(z=this.attrs.perfectDrawEnabled)&&void 0!==z&&!z)return!1;const we=ce||this.hasFill(),Pe=this.hasStroke(),I=1!==this.getAbsoluteOpacity();if(we&&Pe&&I)return!0;const j=this.hasShadow(),J=this.shadowForStrokeEnabled();return!!(we&&Pe&&j&&J)}setStrokeHitEnabled(ce){W.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(ce?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const ce=this.size();return{x:this._centroid?-ce.width/2:0,y:this._centroid?-ce.height/2:0,width:ce.width,height:ce.height}}getClientRect(ce={}){let z=!1,ae=this.getParent();for(;ae;){if(ae.isCached()){z=!0;break}ae=ae.getParent()}const we=ce.skipTransform,Pe=ce.relativeTo||z&&this.getStage()||void 0,I=this.getSelfRect(),J=!ce.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,de=I.width+J,Re=I.height+J,ke=!ce.skipShadow&&this.hasShadow(),tt=ke?this.shadowOffsetX():0,he=ke?this.shadowOffsetY():0,_e=de+Math.abs(tt),le=Re+Math.abs(he),ye=ke&&this.shadowBlur()||0,De={width:_e+2*ye,height:le+2*ye,x:-(J/2+ye)+Math.min(tt,0)+I.x,y:-(J/2+ye)+Math.min(he,0)+I.y};return we?De:this._transformedRect(De,Pe)}drawScene(ce,z,ae){const we=this.getLayer();let Re,ke,Pe=ce||we.getCanvas(),I=Pe.getContext(),j=this._getCanvasCache(),J=this.getSceneFunc(),de=this.hasShadow();const tt=Pe.isCache,he=z===this;if(!this.isVisible()&&!he)return this;if(j){I.save();const le=this.getAbsoluteTransform(z).getMatrix();return I.transform(le[0],le[1],le[2],le[3],le[4],le[5]),this._drawCachedSceneCanvas(I),I.restore(),this}if(!J)return this;if(I.save(),this._useBufferCanvas()&&!tt){Re=this.getStage();const le=ae||Re.bufferCanvas;ke=le.getContext(),ke.clear(),ke.save(),ke._applyLineJoin(this);var _e=this.getAbsoluteTransform(z).getMatrix();ke.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]),J.call(this,ke,this),ke.restore();const ye=le.pixelRatio;de&&I._applyShadow(this),I._applyOpacity(this),I._applyGlobalCompositeOperation(this),I.drawImage(le._canvas,0,0,le.width/ye,le.height/ye)}else I._applyLineJoin(this),he||(_e=this.getAbsoluteTransform(z).getMatrix(),I.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]),I._applyOpacity(this),I._applyGlobalCompositeOperation(this)),de&&I._applyShadow(this),J.call(this,I,this);return I.restore(),this}drawHit(ce,z,ae=!1){if(!this.shouldDrawHit(z,ae))return this;const we=this.getLayer(),Pe=ce||we.hitCanvas,I=Pe&&Pe.getContext(),j=this.hitFunc()||this.sceneFunc(),J=this._getCanvasCache(),de=J&&J.hit;if(this.colorKey||W.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),de){I.save();const ke=this.getAbsoluteTransform(z).getMatrix();return I.transform(ke[0],ke[1],ke[2],ke[3],ke[4],ke[5]),this._drawCachedHitCanvas(I),I.restore(),this}if(!j)return this;if(I.save(),I._applyLineJoin(this),this!==z){const ke=this.getAbsoluteTransform(z).getMatrix();I.transform(ke[0],ke[1],ke[2],ke[3],ke[4],ke[5])}return j.call(this,I,this),I.restore(),this}drawHitFromCache(ce=0){const z=this._getCanvasCache(),ae=this._getCachedSceneCanvas(),we=z.hit,Pe=we.getContext(),I=we.getWidth(),j=we.getHeight();Pe.clear(),Pe.drawImage(ae._canvas,0,0,I,j);try{const J=Pe.getImageData(0,0,I,j),de=J.data,Re=de.length,ke=W.Util._hexToRgb(this.colorKey);for(let tt=0;tt<Re;tt+=4)de[tt+3]>ce?(de[tt]=ke.r,de[tt+1]=ke.g,de[tt+2]=ke.b,de[tt+3]=255):de[tt+3]=0;Pe.putImageData(J,0,0)}catch(J){W.Util.error("Unable to draw hit graph from cached scene canvas. "+J.message)}return this}hasPointerCapture(ce){return F.hasPointerCapture(ce,this)}setPointerCapture(ce){F.setPointerCapture(ce,this)}releaseCapture(ce){F.releaseCapture(ce,this)}}Y.Shape=X,X.prototype._fillFunc=function S(ve){const ce=this.attrs.fillRule;ce?ve.fill(ce):ve.fill()},X.prototype._strokeFunc=function B(ve){ve.stroke()},X.prototype._fillFuncHit=function U(ve){const ce=this.attrs.fillRule;ce?ve.fill(ce):ve.fill()},X.prototype._strokeFuncHit=function te(ve){ve.stroke()},X.prototype._centroid=!1,X.prototype.nodeType="Shape",(0,M._registerNode)(X),X.prototype.eventListeners={},X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function _(){this._clearCache(x)}),X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function P(){this._clearCache(L)}),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function G(){this._clearCache(C)}),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function ee(){this._clearCache(D)}),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function fe(){this._clearCache(V)}),E.Factory.addGetterSetter(X,"stroke",void 0,(0,K.getStringOrGradientValidator)()),E.Factory.addGetterSetter(X,"strokeWidth",2,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillAfterStrokeEnabled",!1),E.Factory.addGetterSetter(X,"hitStrokeWidth","auto",(0,K.getNumberOrAutoValidator)()),E.Factory.addGetterSetter(X,"strokeHitEnabled",!0,(0,K.getBooleanValidator)()),E.Factory.addGetterSetter(X,"perfectDrawEnabled",!0,(0,K.getBooleanValidator)()),E.Factory.addGetterSetter(X,"shadowForStrokeEnabled",!0,(0,K.getBooleanValidator)()),E.Factory.addGetterSetter(X,"lineJoin"),E.Factory.addGetterSetter(X,"lineCap"),E.Factory.addGetterSetter(X,"sceneFunc"),E.Factory.addGetterSetter(X,"hitFunc"),E.Factory.addGetterSetter(X,"dash"),E.Factory.addGetterSetter(X,"dashOffset",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"shadowColor",void 0,(0,K.getStringValidator)()),E.Factory.addGetterSetter(X,"shadowBlur",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"shadowOpacity",1,(0,K.getNumberValidator)()),E.Factory.addComponentsGetterSetter(X,"shadowOffset",["x","y"]),E.Factory.addGetterSetter(X,"shadowOffsetX",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"shadowOffsetY",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillPatternImage"),E.Factory.addGetterSetter(X,"fill",void 0,(0,K.getStringOrGradientValidator)()),E.Factory.addGetterSetter(X,"fillPatternX",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillPatternY",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillLinearGradientColorStops"),E.Factory.addGetterSetter(X,"strokeLinearGradientColorStops"),E.Factory.addGetterSetter(X,"fillRadialGradientStartRadius",0),E.Factory.addGetterSetter(X,"fillRadialGradientEndRadius",0),E.Factory.addGetterSetter(X,"fillRadialGradientColorStops"),E.Factory.addGetterSetter(X,"fillPatternRepeat","repeat"),E.Factory.addGetterSetter(X,"fillEnabled",!0),E.Factory.addGetterSetter(X,"strokeEnabled",!0),E.Factory.addGetterSetter(X,"shadowEnabled",!0),E.Factory.addGetterSetter(X,"dashEnabled",!0),E.Factory.addGetterSetter(X,"strokeScaleEnabled",!0),E.Factory.addGetterSetter(X,"fillPriority","color"),E.Factory.addComponentsGetterSetter(X,"fillPatternOffset",["x","y"]),E.Factory.addGetterSetter(X,"fillPatternOffsetX",0,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillPatternOffsetY",0,(0,K.getNumberValidator)()),E.Factory.addComponentsGetterSetter(X,"fillPatternScale",["x","y"]),E.Factory.addGetterSetter(X,"fillPatternScaleX",1,(0,K.getNumberValidator)()),E.Factory.addGetterSetter(X,"fillPatternScaleY",1,(0,K.getNumberValidator)()),E.Factory.addComponentsGetterSetter(X,"fillLinearGradientStartPoint",["x","y"]),E.Factory.addComponentsGetterSetter(X,"strokeLinearGradientStartPoint",["x","y"]),E.Factory.addGetterSetter(X,"fillLinearGradientStartPointX",0),E.Factory.addGetterSetter(X,"strokeLinearGradientStartPointX",0),E.Factory.addGetterSetter(X,"fillLinearGradientStartPointY",0),E.Factory.addGetterSetter(X,"strokeLinearGradientStartPointY",0),E.Factory.addComponentsGetterSetter(X,"fillLinearGradientEndPoint",["x","y"]),E.Factory.addComponentsGetterSetter(X,"strokeLinearGradientEndPoint",["x","y"]),E.Factory.addGetterSetter(X,"fillLinearGradientEndPointX",0),E.Factory.addGetterSetter(X,"strokeLinearGradientEndPointX",0),E.Factory.addGetterSetter(X,"fillLinearGradientEndPointY",0),E.Factory.addGetterSetter(X,"strokeLinearGradientEndPointY",0),E.Factory.addComponentsGetterSetter(X,"fillRadialGradientStartPoint",["x","y"]),E.Factory.addGetterSetter(X,"fillRadialGradientStartPointX",0),E.Factory.addGetterSetter(X,"fillRadialGradientStartPointY",0),E.Factory.addComponentsGetterSetter(X,"fillRadialGradientEndPoint",["x","y"]),E.Factory.addGetterSetter(X,"fillRadialGradientEndPointX",0),E.Factory.addGetterSetter(X,"fillRadialGradientEndPointY",0),E.Factory.addGetterSetter(X,"fillPatternRotation",0),E.Factory.addGetterSetter(X,"fillRule",void 0,(0,K.getStringValidator)()),E.Factory.backCompat(X,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},4703:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Stage=Y.stages=void 0;const b=q(3773),W=q(7271),E=q(4502),se=q(1354),K=q(6029),M=q(9255),F=q(1354),x=q(5197),k="mouseleave",T="mouseover",S="mouseenter",B="mousemove",U="mousedown",te="mouseup",_="pointermove",P="pointerdown",G="pointerup",ee="pointercancel",X="pointerout",ve="pointerleave",ce="pointerover",z="pointerenter",ae="contextmenu",we="touchstart",Pe="touchend",I="touchmove",j="touchcancel",J="wheel",Re=[[S,"_pointerenter"],[U,"_pointerdown"],[B,"_pointermove"],[te,"_pointerup"],[k,"_pointerleave"],[we,"_pointerdown"],[I,"_pointermove"],[Pe,"_pointerup"],[j,"_pointercancel"],[T,"_pointerover"],[J,"_wheel"],[ae,"_contextmenu"],[P,"_pointerdown"],[_,"_pointermove"],[G,"_pointerup"],[ee,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],ke={mouse:{[X]:"mouseout",[ve]:k,[ce]:T,[z]:S,[_]:B,[P]:U,[G]:te,[ee]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[X]:"touchout",[ve]:"touchleave",[ce]:"touchover",[z]:"touchenter",[_]:I,[P]:we,[G]:Pe,[ee]:j,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[X]:X,[ve]:ve,[ce]:ce,[z]:z,[_]:_,[P]:P,[G]:G,[ee]:ee,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},tt=Ne=>Ne.indexOf("pointer")>=0?"pointer":Ne.indexOf("touch")>=0?"touch":"mouse",he=Ne=>{const re=tt(Ne);return"pointer"===re?se.Konva.pointerEventsEnabled&&ke.pointer:"touch"===re?ke.touch:"mouse"===re?ke.mouse:void 0};function _e(Ne={}){return(Ne.clipFunc||Ne.clipWidth||Ne.clipHeight)&&b.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ne}Y.stages=[];class ye extends E.Container{constructor(re){super(_e(re)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Y.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{_e(this.attrs)}),this._checkVisibility()}_validateAdd(re){const De="Layer"===re.getType(),Ze="FastLayer"===re.getType();De||Ze||b.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const re=this.visible()?"":"none";this.content.style.display=re}setContainer(re){if("string"==typeof re){if("."===re.charAt(0)){const Ze=re.slice(1);re=document.getElementsByClassName(Ze)[0]}else{var De;De="#"!==re.charAt(0)?re:re.slice(1),re=document.getElementById(De)}if(!re)throw"Can not find container in document with id "+De}return this._setAttr("container",re),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),re.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const re=this.children,De=re.length;for(let Ze=0;Ze<De;Ze++)re[Ze].clear();return this}clone(re){return re||(re={}),re.container=typeof document<"u"&&document.createElement("div"),E.Container.prototype.clone.call(this,re)}destroy(){super.destroy();const re=this.content;re&&b.Util._isInDocument(re)&&this.container().removeChild(re);const De=Y.stages.indexOf(this);return De>-1&&Y.stages.splice(De,1),b.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const re=this._pointerPositions[0]||this._changedPointerPositions[0];return re?{x:re.x,y:re.y}:(b.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(re){return this._pointerPositions.find(De=>De.id===re)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(re){(re=re||{}).x=re.x||0,re.y=re.y||0,re.width=re.width||this.width(),re.height=re.height||this.height();const De=new K.SceneCanvas({width:re.width,height:re.height,pixelRatio:re.pixelRatio||1}),Ze=De.getContext()._context,wt=this.children;return(re.x||re.y)&&Ze.translate(-1*re.x,-1*re.y),wt.forEach(function(qe){if(!qe.isVisible())return;const ft=qe._toKonvaCanvas(re);Ze.drawImage(ft._canvas,re.x,re.y,ft.getWidth()/ft.getPixelRatio(),ft.getHeight()/ft.getPixelRatio())}),De}getIntersection(re){if(!re)return null;const De=this.children;for(let qe=De.length-1;qe>=0;qe--){const ft=De[qe].getIntersection(re);if(ft)return ft}return null}_resizeDOM(){const re=this.width(),De=this.height();this.content&&(this.content.style.width=re+"px",this.content.style.height=De+"px"),this.bufferCanvas.setSize(re,De),this.bufferHitCanvas.setSize(re,De),this.children.forEach(Ze=>{Ze.setSize({width:re,height:De}),Ze.draw()})}add(re,...De){if(arguments.length>1){for(let wt=0;wt<arguments.length;wt++)this.add(arguments[wt]);return this}super.add(re);const Ze=this.children.length;return Ze>5&&b.Util.warn("The stage has "+Ze+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),re.setSize({width:this.width(),height:this.height()}),re.draw(),se.Konva.isBrowser&&this.content.appendChild(re.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(re){return x.hasPointerCapture(re,this)}setPointerCapture(re){x.setPointerCapture(re,this)}releaseCapture(re){x.releaseCapture(re,this)}getLayers(){return this.children}_bindContentEvents(){se.Konva.isBrowser&&Re.forEach(([re,De])=>{this.content.addEventListener(re,Ze=>{this[De](Ze)},{passive:!1})})}_pointerenter(re){this.setPointersPositions(re);const De=he(re.type);De&&this._fire(De.pointerenter,{evt:re,target:this,currentTarget:this})}_pointerover(re){this.setPointersPositions(re);const De=he(re.type);De&&this._fire(De.pointerover,{evt:re,target:this,currentTarget:this})}_getTargetShape(re){let De=this[re+"targetShape"];return De&&!De.getStage()&&(De=null),De}_pointerleave(re){const De=he(re.type),Ze=tt(re.type);if(!De)return;this.setPointersPositions(re);const wt=this._getTargetShape(Ze),qe=!(se.Konva.isDragging()||se.Konva.isTransforming())||se.Konva.hitOnDragEnabled;wt&&qe?(wt._fireAndBubble(De.pointerout,{evt:re}),wt._fireAndBubble(De.pointerleave,{evt:re}),this._fire(De.pointerleave,{evt:re,target:this,currentTarget:this}),this[Ze+"targetShape"]=null):qe&&(this._fire(De.pointerleave,{evt:re,target:this,currentTarget:this}),this._fire(De.pointerout,{evt:re,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(re){const De=he(re.type),Ze=tt(re.type);if(!De)return;this.setPointersPositions(re);let wt=!1;this._changedPointerPositions.forEach(qe=>{const ft=this.getIntersection(qe);if(M.DD.justDragged=!1,se.Konva["_"+Ze+"ListenClick"]=!0,!ft||!ft.isListening())return void(this[Ze+"ClickStartShape"]=void 0);se.Konva.capturePointerEventsEnabled&&ft.setPointerCapture(qe.id),this[Ze+"ClickStartShape"]=ft,ft._fireAndBubble(De.pointerdown,{evt:re,pointerId:qe.id}),wt=!0;const dt=re.type.indexOf("touch")>=0;ft.preventDefault()&&re.cancelable&&dt&&re.preventDefault()}),wt||this._fire(De.pointerdown,{evt:re,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(re){const De=he(re.type),Ze=tt(re.type);if(!De||(se.Konva.isDragging()&&M.DD.node.preventDefault()&&re.cancelable&&re.preventDefault(),this.setPointersPositions(re),(se.Konva.isDragging()||se.Konva.isTransforming())&&!se.Konva.hitOnDragEnabled))return;const qe={};let ft=!1;const dt=this._getTargetShape(Ze);this._changedPointerPositions.forEach(on=>{const pt=x.getCapturedShape(on.id)||this.getIntersection(on),an=on.id,xt={evt:re,pointerId:an},ln=dt!==pt;if(ln&&dt&&(dt._fireAndBubble(De.pointerout,{...xt},pt),dt._fireAndBubble(De.pointerleave,{...xt},pt)),pt){if(qe[pt._id])return;qe[pt._id]=!0}pt&&pt.isListening()?(ft=!0,ln&&(pt._fireAndBubble(De.pointerover,{...xt},dt),pt._fireAndBubble(De.pointerenter,{...xt},dt),this[Ze+"targetShape"]=pt),pt._fireAndBubble(De.pointermove,{...xt})):dt&&(this._fire(De.pointerover,{evt:re,target:this,currentTarget:this,pointerId:an}),this[Ze+"targetShape"]=null)}),ft||this._fire(De.pointermove,{evt:re,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(re){const De=he(re.type),Ze=tt(re.type);if(!De)return;this.setPointersPositions(re);const wt=this[Ze+"ClickStartShape"],qe=this[Ze+"ClickEndShape"],ft={};let dt=!1;this._changedPointerPositions.forEach(on=>{const pt=x.getCapturedShape(on.id)||this.getIntersection(on);if(pt){if(pt.releaseCapture(on.id),ft[pt._id])return;ft[pt._id]=!0}const an=on.id,xt={evt:re,pointerId:an};let ln=!1;se.Konva["_"+Ze+"InDblClickWindow"]?(ln=!0,clearTimeout(this[Ze+"DblTimeout"])):M.DD.justDragged||(se.Konva["_"+Ze+"InDblClickWindow"]=!0,clearTimeout(this[Ze+"DblTimeout"])),this[Ze+"DblTimeout"]=setTimeout(function(){se.Konva["_"+Ze+"InDblClickWindow"]=!1},se.Konva.dblClickWindow),pt&&pt.isListening()?(dt=!0,this[Ze+"ClickEndShape"]=pt,pt._fireAndBubble(De.pointerup,{...xt}),se.Konva["_"+Ze+"ListenClick"]&&wt&&wt===pt&&(pt._fireAndBubble(De.pointerclick,{...xt}),ln&&qe&&qe===pt&&pt._fireAndBubble(De.pointerdblclick,{...xt}))):(this[Ze+"ClickEndShape"]=null,se.Konva["_"+Ze+"ListenClick"]&&this._fire(De.pointerclick,{evt:re,target:this,currentTarget:this,pointerId:an}),ln&&this._fire(De.pointerdblclick,{evt:re,target:this,currentTarget:this,pointerId:an}))}),dt||this._fire(De.pointerup,{evt:re,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),se.Konva["_"+Ze+"ListenClick"]=!1,re.cancelable&&"touch"!==Ze&&"pointer"!==Ze&&re.preventDefault()}_contextmenu(re){this.setPointersPositions(re);const De=this.getIntersection(this.getPointerPosition());De&&De.isListening()?De._fireAndBubble(ae,{evt:re}):this._fire(ae,{evt:re,target:this,currentTarget:this})}_wheel(re){this.setPointersPositions(re);const De=this.getIntersection(this.getPointerPosition());De&&De.isListening()?De._fireAndBubble(J,{evt:re}):this._fire(J,{evt:re,target:this,currentTarget:this})}_pointercancel(re){this.setPointersPositions(re);const De=x.getCapturedShape(re.pointerId)||this.getIntersection(this.getPointerPosition());De&&De._fireAndBubble(G,x.createEvent(re)),x.releaseCapture(re.pointerId)}_lostpointercapture(re){x.releaseCapture(re.pointerId)}setPointersPositions(re){const De=this._getContentPosition();let Ze=null,wt=null;void 0!==(re=re||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(re.touches,qe=>{this._pointerPositions.push({id:qe.identifier,x:(qe.clientX-De.left)/De.scaleX,y:(qe.clientY-De.top)/De.scaleY})}),Array.prototype.forEach.call(re.changedTouches||re.touches,qe=>{this._changedPointerPositions.push({id:qe.identifier,x:(qe.clientX-De.left)/De.scaleX,y:(qe.clientY-De.top)/De.scaleY})})):(Ze=(re.clientX-De.left)/De.scaleX,wt=(re.clientY-De.top)/De.scaleY,this.pointerPos={x:Ze,y:wt},this._pointerPositions=[{x:Ze,y:wt,id:b.Util._getFirstPointerId(re)}],this._changedPointerPositions=[{x:Ze,y:wt,id:b.Util._getFirstPointerId(re)}])}_setPointerPosition(re){b.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(re)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const re=this.content.getBoundingClientRect();return{top:re.top,left:re.left,scaleX:re.width/this.content.clientWidth||1,scaleY:re.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new K.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new K.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!se.Konva.isBrowser)return;const re=this.container();if(!re)throw"Stage has no container. A container is required.";re.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),re.appendChild(this.content),this._resizeDOM()}cache(){return b.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(re){re.batchDraw()}),this}}Y.Stage=ye,ye.prototype.nodeType="Stage",(0,F._registerNode)(ye),W.Factory.addGetterSetter(ye,"container"),se.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{Y.stages.forEach(Ne=>{Ne.batchDraw()})})},8842:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Easings=Y.Tween=void 0;const b=q(3773),W=q(9323),E=q(1541),se=q(1354),K={node:1,duration:1,easing:1,onFinish:1,yoyo:1},L=["fill","stroke","shadowColor"];let C=0;class D{constructor(T,S,B,U,te,_,P){this.prop=T,this.propFunc=S,this.begin=U,this._pos=U,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=P,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=B,this._change=te-this.begin,this.pause()}fire(T){const S=this[T];S&&S()}setTime(T){T>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():T<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=T,this.update())}getTime(){return this._time}setPosition(T){this.prevPos=this._pos,this.propFunc(T),this._pos=T}getPosition(T){return void 0===T&&(T=this._time),this.func(T,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(T){this.pause(),this._time=T,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const T=this.getTimer()-this._startTime;2===this.state?this.setTime(T):3===this.state&&this.setTime(this.duration-T)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class V{constructor(T){const S=this,B=T.node,U=B._id,te=T.easing||Y.Easings.Linear,_=!!T.yoyo;let P,G;P=typeof T.duration>"u"?.3:0===T.duration?.001:T.duration,this.node=B,this._id=C++;const ee=B.getLayer()||(B instanceof se.Konva.Stage?B.getLayers():null);for(G in ee||b.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new W.Animation(function(){S.tween.onEnterFrame()},ee),this.tween=new D(G,function(fe){S._tweenFunc(fe)},te,0,1,1e3*P,_),this._addListeners(),V.attrs[U]||(V.attrs[U]={}),V.attrs[U][this._id]||(V.attrs[U][this._id]={}),V.tweens[U]||(V.tweens[U]={}),T)void 0===K[G]&&this._addAttr(G,T[G]);this.reset(),this.onFinish=T.onFinish,this.onReset=T.onReset,this.onUpdate=T.onUpdate}_addAttr(T,S){const B=this.node,U=B._id;let te,_,P,G,ee;const fe=V.tweens[U][T];fe&&delete V.attrs[U][fe][T];let X=B.getAttr(T);if(b.Util._isArray(S))if(te=[],_=Math.max(S.length,X.length),"points"===T&&S.length!==X.length&&(S.length>X.length?(G=X,X=b.Util._prepareArrayForTween(X,S,B.closed())):(P=S,S=b.Util._prepareArrayForTween(S,X,B.closed()))),0===T.indexOf("fill"))for(let ve=0;ve<_;ve++)if(ve%2==0)te.push(S[ve]-X[ve]);else{const ce=b.Util.colorToRGBA(X[ve]);ee=b.Util.colorToRGBA(S[ve]),X[ve]=ce,te.push({r:ee.r-ce.r,g:ee.g-ce.g,b:ee.b-ce.b,a:ee.a-ce.a})}else for(let ve=0;ve<_;ve++)te.push(S[ve]-X[ve]);else-1!==L.indexOf(T)?(X=b.Util.colorToRGBA(X),ee=b.Util.colorToRGBA(S),te={r:ee.r-X.r,g:ee.g-X.g,b:ee.b-X.b,a:ee.a-X.a}):te=S-X;V.attrs[U][this._id][T]={start:X,diff:te,end:S,trueEnd:P,trueStart:G},V.tweens[U][T]=this._id}_tweenFunc(T){const S=this.node,B=V.attrs[S._id][this._id];let U,te,_,P,G,ee,fe,X;for(U in B){if(te=B[U],_=te.start,P=te.diff,X=te.end,b.Util._isArray(_))if(G=[],fe=Math.max(_.length,X.length),0===U.indexOf("fill"))for(ee=0;ee<fe;ee++)G.push(ee%2==0?(_[ee]||0)+P[ee]*T:"rgba("+Math.round(_[ee].r+P[ee].r*T)+","+Math.round(_[ee].g+P[ee].g*T)+","+Math.round(_[ee].b+P[ee].b*T)+","+(_[ee].a+P[ee].a*T)+")");else for(ee=0;ee<fe;ee++)G.push((_[ee]||0)+P[ee]*T);else G=-1!==L.indexOf(U)?"rgba("+Math.round(_.r+P.r*T)+","+Math.round(_.g+P.g*T)+","+Math.round(_.b+P.b*T)+","+(_.a+P.a*T)+")":_+P*T;S.setAttr(U,G)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const T=this.node,S=V.attrs[T._id][this._id];S.points&&S.points.trueEnd&&T.setAttr("points",S.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const T=this.node,S=V.attrs[T._id][this._id];S.points&&S.points.trueStart&&T.points(S.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(T){return this.tween.seek(1e3*T),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const T=this.node._id,S=this._id,B=V.tweens[T];this.pause();for(const U in B)delete V.tweens[T][U];delete V.attrs[T][S]}}Y.Tween=V,V.attrs={},V.tweens={},E.Node.prototype.to=function(k){const T=k.onFinish;k.node=this,k.onFinish=function(){this.destroy(),T&&T()},new V(k).play()},Y.Easings={BackEaseIn:(k,T,S,B)=>S*(k/=B)*k*(2.70158*k-1.70158)+T,BackEaseOut:(k,T,S,B)=>S*((k=k/B-1)*k*(2.70158*k+1.70158)+1)+T,BackEaseInOut(k,T,S,B){let U=1.70158;return(k/=B/2)<1?S/2*(k*k*((1+(U*=1.525))*k-U))+T:S/2*((k-=2)*k*((1+(U*=1.525))*k+U)+2)+T},ElasticEaseIn(k,T,S,B,U,te){let _=0;return 0===k?T:1==(k/=B)?T+S:(te||(te=.3*B),!U||U<Math.abs(S)?(U=S,_=te/4):_=te/(2*Math.PI)*Math.asin(S/U),-U*Math.pow(2,10*(k-=1))*Math.sin((k*B-_)*(2*Math.PI)/te)+T)},ElasticEaseOut(k,T,S,B,U,te){let _=0;return 0===k?T:1==(k/=B)?T+S:(te||(te=.3*B),!U||U<Math.abs(S)?(U=S,_=te/4):_=te/(2*Math.PI)*Math.asin(S/U),U*Math.pow(2,-10*k)*Math.sin((k*B-_)*(2*Math.PI)/te)+S+T)},ElasticEaseInOut(k,T,S,B,U,te){let _=0;return 0===k?T:2==(k/=B/2)?T+S:(te||(te=B*(.3*1.5)),!U||U<Math.abs(S)?(U=S,_=te/4):_=te/(2*Math.PI)*Math.asin(S/U),k<1?U*Math.pow(2,10*(k-=1))*Math.sin((k*B-_)*(2*Math.PI)/te)*-.5+T:U*Math.pow(2,-10*(k-=1))*Math.sin((k*B-_)*(2*Math.PI)/te)*.5+S+T)},BounceEaseOut:(k,T,S,B)=>(k/=B)<1/2.75?S*(7.5625*k*k)+T:k<2/2.75?S*(7.5625*(k-=1.5/2.75)*k+.75)+T:k<2.5/2.75?S*(7.5625*(k-=2.25/2.75)*k+.9375)+T:S*(7.5625*(k-=2.625/2.75)*k+.984375)+T,BounceEaseIn:(k,T,S,B)=>S-Y.Easings.BounceEaseOut(B-k,0,S,B)+T,BounceEaseInOut:(k,T,S,B)=>k<B/2?.5*Y.Easings.BounceEaseIn(2*k,0,S,B)+T:.5*Y.Easings.BounceEaseOut(2*k-B,0,S,B)+.5*S+T,EaseIn:(k,T,S,B)=>S*(k/=B)*k+T,EaseOut:(k,T,S,B)=>-S*(k/=B)*(k-2)+T,EaseInOut:(k,T,S,B)=>(k/=B/2)<1?S/2*k*k+T:-S/2*(--k*(k-2)-1)+T,StrongEaseIn:(k,T,S,B)=>S*(k/=B)*k*k*k*k+T,StrongEaseOut:(k,T,S,B)=>S*((k=k/B-1)*k*k*k*k+1)+T,StrongEaseInOut:(k,T,S,B)=>(k/=B/2)<1?S/2*k*k*k*k*k+T:S/2*((k-=2)*k*k*k*k+2)+T,Linear:(k,T,S,B)=>S*k/B+T}},3773:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Util=Y.Transform=void 0;const b=q(1354);class W{constructor(P=[1,0,0,1,0,0]){this.dirty=!1,this.m=P&&P.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new W(this.m)}copyInto(P){P.m[0]=this.m[0],P.m[1]=this.m[1],P.m[2]=this.m[2],P.m[3]=this.m[3],P.m[4]=this.m[4],P.m[5]=this.m[5]}point(P){const G=this.m;return{x:G[0]*P.x+G[2]*P.y+G[4],y:G[1]*P.x+G[3]*P.y+G[5]}}translate(P,G){return this.m[4]+=this.m[0]*P+this.m[2]*G,this.m[5]+=this.m[1]*P+this.m[3]*G,this}scale(P,G){return this.m[0]*=P,this.m[1]*=P,this.m[2]*=G,this.m[3]*=G,this}rotate(P){const G=Math.cos(P),ee=Math.sin(P),X=this.m[1]*G+this.m[3]*ee,ve=this.m[0]*-ee+this.m[2]*G,ce=this.m[1]*-ee+this.m[3]*G;return this.m[0]=this.m[0]*G+this.m[2]*ee,this.m[1]=X,this.m[2]=ve,this.m[3]=ce,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(P,G){const fe=this.m[1]+this.m[3]*G,X=this.m[2]+this.m[0]*P,ve=this.m[3]+this.m[1]*P;return this.m[0]=this.m[0]+this.m[2]*G,this.m[1]=fe,this.m[2]=X,this.m[3]=ve,this}multiply(P){const ee=this.m[1]*P.m[0]+this.m[3]*P.m[1],fe=this.m[0]*P.m[2]+this.m[2]*P.m[3],X=this.m[1]*P.m[2]+this.m[3]*P.m[3],ve=this.m[0]*P.m[4]+this.m[2]*P.m[5]+this.m[4],ce=this.m[1]*P.m[4]+this.m[3]*P.m[5]+this.m[5];return this.m[0]=this.m[0]*P.m[0]+this.m[2]*P.m[1],this.m[1]=ee,this.m[2]=fe,this.m[3]=X,this.m[4]=ve,this.m[5]=ce,this}invert(){const P=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),ee=-this.m[1]*P,fe=-this.m[2]*P,X=this.m[0]*P,ve=P*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),ce=P*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*P,this.m[1]=ee,this.m[2]=fe,this.m[3]=X,this.m[4]=ve,this.m[5]=ce,this}getMatrix(){return this.m}decompose(){const P=this.m[0],G=this.m[1],ee=this.m[2],fe=this.m[3],ce=P*fe-G*ee,z={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=P||0!=G){const ae=Math.sqrt(P*P+G*G);z.rotation=G>0?Math.acos(P/ae):-Math.acos(P/ae),z.scaleX=ae,z.scaleY=ce/ae,z.skewX=(P*ee+G*fe)/ce,z.skewY=0}else if(0!=ee||0!=fe){const ae=Math.sqrt(ee*ee+fe*fe);z.rotation=Math.PI/2-(fe>0?Math.acos(-ee/ae):-Math.acos(ee/ae)),z.scaleX=ce/ae,z.scaleY=ae,z.skewX=0,z.skewY=(P*ee+G*fe)/ce}return z.rotation=Y.Util._getRotation(z.rotation),z}}Y.Transform=W;const F=Math.PI/180,x=180/Math.PI,k="Konva error: ",S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},B=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let U=[];const te=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_){setTimeout(_,60)};Y.Util={_isElement:_=>!(!_||1!=_.nodeType),_isFunction:_=>!!(_&&_.constructor&&_.call&&_.apply),_isPlainObject:_=>!!_&&_.constructor===Object,_isArray:_=>"[object Array]"===Object.prototype.toString.call(_),_isNumber:_=>"[object Number]"===Object.prototype.toString.call(_)&&!isNaN(_)&&isFinite(_),_isString:_=>"[object String]"===Object.prototype.toString.call(_),_isBoolean:_=>"[object Boolean]"===Object.prototype.toString.call(_),isObject:_=>_ instanceof Object,isValidSelector(_){if("string"!=typeof _)return!1;const P=_[0];return"#"===P||"."===P||P===P.toUpperCase()},_sign:_=>0===_||_>0?1:-1,requestAnimFrame(_){U.push(_),1===U.length&&te(function(){const P=U;U=[],P.forEach(function(G){G()})})},createCanvasElement(){const _=document.createElement("canvas");try{_.style=_.style||{}}catch{}return _},createImageElement:()=>document.createElement("img"),_isInDocument(_){for(;_=_.parentNode;)if(_==document)return!0;return!1},_urlToImage(_,P){const G=Y.Util.createImageElement();G.onload=function(){P(G)},G.src=_},_rgbToHex:(_,P,G)=>((1<<24)+(_<<16)+(P<<8)+G).toString(16).slice(1),_hexToRgb(_){_=_.replace("#","");const P=parseInt(_,16);return{r:P>>16&255,g:P>>8&255,b:255&P}},getRandomColor(){let _=(16777215*Math.random()|0).toString(16);for(;_.length<6;)_="0"+_;return"#"+_},getRGB(_){let P;return _ in S?(P=S[_],{r:P[0],g:P[1],b:P[2]}):"#"===_[0]?this._hexToRgb(_.substring(1)):"rgb("===_.substr(0,4)?(P=B.exec(_.replace(/ /g,"")),{r:parseInt(P[1],10),g:parseInt(P[2],10),b:parseInt(P[3],10)}):{r:0,g:0,b:0}},colorToRGBA:_=>Y.Util._namedColorToRBA(_=_||"black")||Y.Util._hex3ColorToRGBA(_)||Y.Util._hex4ColorToRGBA(_)||Y.Util._hex6ColorToRGBA(_)||Y.Util._hex8ColorToRGBA(_)||Y.Util._rgbColorToRGBA(_)||Y.Util._rgbaColorToRGBA(_)||Y.Util._hslColorToRGBA(_),_namedColorToRBA(_){const P=S[_.toLowerCase()];return P?{r:P[0],g:P[1],b:P[2],a:1}:null},_rgbColorToRGBA(_){if(0===_.indexOf("rgb(")){const P=(_=_.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:P[0],g:P[1],b:P[2],a:1}}},_rgbaColorToRGBA(_){if(0===_.indexOf("rgba(")){const P=(_=_.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((G,ee)=>"%"===G.slice(-1)?3===ee?parseInt(G)/100:parseInt(G)/100*255:Number(G));return{r:P[0],g:P[1],b:P[2],a:P[3]}}},_hex8ColorToRGBA(_){if("#"===_[0]&&9===_.length)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:parseInt(_.slice(7,9),16)/255}},_hex6ColorToRGBA(_){if("#"===_[0]&&7===_.length)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:1}},_hex4ColorToRGBA(_){if("#"===_[0]&&5===_.length)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:parseInt(_[4]+_[4],16)/255}},_hex3ColorToRGBA(_){if("#"===_[0]&&4===_.length)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:1}},_hslColorToRGBA(_){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_)){const[P,...G]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_),ee=Number(G[0])/360,fe=Number(G[1])/100,X=Number(G[2])/100;let ve,ce,z;if(0===fe)return z=255*X,{r:Math.round(z),g:Math.round(z),b:Math.round(z),a:1};ve=X<.5?X*(1+fe):X+fe-X*fe;const ae=2*X-ve,we=[0,0,0];for(let Pe=0;Pe<3;Pe++)ce=ee+1/3*-(Pe-1),ce<0&&ce++,ce>1&&ce--,z=6*ce<1?ae+6*(ve-ae)*ce:2*ce<1?ve:3*ce<2?ae+(ve-ae)*(2/3-ce)*6:ae,we[Pe]=255*z;return{r:Math.round(we[0]),g:Math.round(we[1]),b:Math.round(we[2]),a:1}}},haveIntersection:(_,P)=>!(P.x>_.x+_.width||P.x+P.width<_.x||P.y>_.y+_.height||P.y+P.height<_.y),cloneObject(_){const P={};for(const G in _)P[G]=this._isPlainObject(_[G])?this.cloneObject(_[G]):this._isArray(_[G])?this.cloneArray(_[G]):_[G];return P},cloneArray:_=>_.slice(0),degToRad:_=>_*F,radToDeg:_=>_*x,_degToRad:_=>(Y.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Y.Util.degToRad(_)),_radToDeg:_=>(Y.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Y.Util.radToDeg(_)),_getRotation:_=>b.Konva.angleDeg?Y.Util.radToDeg(_):_,_capitalize:_=>_.charAt(0).toUpperCase()+_.slice(1),throw(_){throw new Error(k+_)},error(_){console.error(k+_)},warn(_){b.Konva.showWarnings&&console.warn("Konva warning: "+_)},each(_,P){for(const G in _)P(G,_[G])},_inRange:(_,P,G)=>P<=_&&_<G,_getProjectionToSegment(_,P,G,ee,fe,X){let ve,ce,z;const ae=(_-G)*(_-G)+(P-ee)*(P-ee);if(0==ae)ve=_,ce=P,z=(fe-G)*(fe-G)+(X-ee)*(X-ee);else{const we=((fe-_)*(G-_)+(X-P)*(ee-P))/ae;we<0?(ve=_,ce=P,z=(_-fe)*(_-fe)+(P-X)*(P-X)):we>1?(ve=G,ce=ee,z=(G-fe)*(G-fe)+(ee-X)*(ee-X)):(ve=_+we*(G-_),ce=P+we*(ee-P),z=(ve-fe)*(ve-fe)+(ce-X)*(ce-X))}return[ve,ce,z]},_getProjectionToLine(_,P,G){const ee=Y.Util.cloneObject(_);let fe=Number.MAX_VALUE;return P.forEach(function(X,ve){if(!G&&ve===P.length-1)return;const ce=P[(ve+1)%P.length],z=Y.Util._getProjectionToSegment(X.x,X.y,ce.x,ce.y,_.x,_.y),we=z[1],Pe=z[2];Pe<fe&&(ee.x=z[0],ee.y=we,fe=Pe)}),ee},_prepareArrayForTween(_,P,G){const ee=[],fe=[];if(_.length>P.length){const ve=P;P=_,_=ve}for(let ve=0;ve<_.length;ve+=2)ee.push({x:_[ve],y:_[ve+1]});for(let ve=0;ve<P.length;ve+=2)fe.push({x:P[ve],y:P[ve+1]});const X=[];return fe.forEach(function(ve){const ce=Y.Util._getProjectionToLine(ve,ee,G);X.push(ce.x),X.push(ce.y)}),X},_prepareToStringify(_){let P;_.visitedByCircularReferenceRemoval=!0;for(const G in _)if(_.hasOwnProperty(G)&&_[G]&&"object"==typeof _[G])if(P=Object.getOwnPropertyDescriptor(_,G),_[G].visitedByCircularReferenceRemoval||Y.Util._isElement(_[G])){if(!P.configurable)return null;delete _[G]}else if(null===Y.Util._prepareToStringify(_[G])){if(!P.configurable)return null;delete _[G]}return delete _.visitedByCircularReferenceRemoval,_},_assign(_,P){for(const G in P)_[G]=P[G];return _},_getFirstPointerId:_=>_.touches?_.changedTouches[0].identifier:_.pointerId||999,releaseCanvas(..._){b.Konva.releaseCanvasOnDestroy&&_.forEach(P=>{P.width=0,P.height=0})},drawRoundedRectPath(_,P,G,ee){let fe=0,X=0,ve=0,ce=0;"number"==typeof ee?fe=X=ve=ce=Math.min(ee,P/2,G/2):(fe=Math.min(ee[0]||0,P/2,G/2),X=Math.min(ee[1]||0,P/2,G/2),ce=Math.min(ee[2]||0,P/2,G/2),ve=Math.min(ee[3]||0,P/2,G/2)),_.moveTo(fe,0),_.lineTo(P-X,0),_.arc(P-X,X,X,3*Math.PI/2,0,!1),_.lineTo(P,G-ce),_.arc(P-ce,G-ce,ce,0,Math.PI/2,!1),_.lineTo(ve,G),_.arc(ve,G-ve,ve,Math.PI/2,Math.PI,!1),_.lineTo(0,fe),_.arc(fe,fe,fe,Math.PI,3*Math.PI/2,!1)}}},662:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.RGBComponent=function se(S){return S>255?255:S<0?0:Math.round(S)},Y.alphaComponent=function K(S){return S>1?1:S<1e-4?1e-4:S},Y.getNumberValidator=function M(){if(b.Konva.isUnminified)return function(S,B){return W.Util._isNumber(S)||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a number.'),S}},Y.getNumberOrArrayOfNumbersValidator=function F(S){if(b.Konva.isUnminified)return function(B,U){let te=W.Util._isNumber(B),_=W.Util._isArray(B)&&B.length==S;return!te&&!_&&W.Util.warn(E(B)+' is a not valid value for "'+U+'" attribute. The value should be a number or Array<number>('+S+")"),B}},Y.getNumberOrAutoValidator=function x(){if(b.Konva.isUnminified)return function(S,B){return W.Util._isNumber(S)||"auto"===S||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a number or "auto".'),S}},Y.getStringValidator=function L(){if(b.Konva.isUnminified)return function(S,B){return W.Util._isString(S)||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a string.'),S}},Y.getStringOrGradientValidator=function C(){if(b.Konva.isUnminified)return function(S,B){const U=W.Util._isString(S),te="[object CanvasGradient]"===Object.prototype.toString.call(S)||S&&S.addColorStop;return U||te||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a string or a native gradient.'),S}},Y.getFunctionValidator=function D(){if(b.Konva.isUnminified)return function(S,B){return W.Util._isFunction(S)||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a function.'),S}},Y.getNumberArrayValidator=function V(){if(b.Konva.isUnminified)return function(S,B){const U=Int8Array?Object.getPrototypeOf(Int8Array):null;return U&&S instanceof U||(W.Util._isArray(S)?S.forEach(function(te){W.Util._isNumber(te)||W.Util.warn('"'+B+'" attribute has non numeric element '+te+". Make sure that all elements are numbers.")}):W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a array of numbers.')),S}},Y.getBooleanValidator=function k(){if(b.Konva.isUnminified)return function(S,B){return!0===S||!1===S||W.Util.warn(E(S)+' is a not valid value for "'+B+'" attribute. The value should be a boolean.'),S}},Y.getComponentValidator=function T(S){if(b.Konva.isUnminified)return function(B,U){return null==B||W.Util.isObject(B)||W.Util.warn(E(B)+' is a not valid value for "'+U+'" attribute. The value should be an object with properties '+S),B}};const b=q(1354),W=q(3773);function E(S){return W.Util._isString(S)?'"'+S+'"':"[object Number]"===Object.prototype.toString.call(S)||W.Util._isBoolean(S)?S:Object.prototype.toString.call(S)}},6897:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Konva=void 0;const b=q(1354),W=q(3773),E=q(1541),se=q(4502),K=q(4703),M=q(9224),F=q(8938),x=q(2626),L=q(9255),C=q(2040),D=q(9323),V=q(8842),k=q(1722),T=q(6029);Y.Konva=W.Util._assign(b.Konva,{Util:W.Util,Transform:W.Transform,Node:E.Node,Container:se.Container,Stage:K.Stage,stages:K.stages,Layer:M.Layer,FastLayer:F.FastLayer,Group:x.Group,DD:L.DD,Shape:C.Shape,shapes:C.shapes,Animation:D.Animation,Tween:V.Tween,Easings:V.Easings,Context:k.Context,Canvas:T.Canvas}),Y.default=Y.Konva},263:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Konva=void 0;const b=q(6897),W=q(2472),E=q(9801),se=q(2882),K=q(4306),M=q(4029),F=q(8942),x=q(2444),L=q(3049),C=q(8004),D=q(1132),V=q(5328),k=q(9971),T=q(9554),S=q(8401),B=q(8854),U=q(575),te=q(668),_=q(6880),P=q(9698),G=q(471),ee=q(4274),fe=q(6187),X=q(3790),ve=q(6002),ce=q(5680),z=q(2757),ae=q(5180),we=q(9533),Pe=q(5275),I=q(605),j=q(9744),J=q(6734),de=q(4019),Re=q(3443),ke=q(3400),tt=q(8742);Y.Konva=b.Konva.Util._assign(b.Konva,{Arc:W.Arc,Arrow:E.Arrow,Circle:se.Circle,Ellipse:K.Ellipse,Image:M.Image,Label:F.Label,Tag:F.Tag,Line:x.Line,Path:L.Path,Rect:C.Rect,RegularPolygon:D.RegularPolygon,Ring:V.Ring,Sprite:k.Sprite,Star:T.Star,Text:S.Text,TextPath:B.TextPath,Transformer:U.Transformer,Wedge:te.Wedge,Filters:{Blur:_.Blur,Brighten:P.Brighten,Contrast:G.Contrast,Emboss:ee.Emboss,Enhance:fe.Enhance,Grayscale:X.Grayscale,HSL:ve.HSL,HSV:ce.HSV,Invert:z.Invert,Kaleidoscope:ae.Kaleidoscope,Mask:we.Mask,Noise:Pe.Noise,Pixelate:I.Pixelate,Posterize:j.Posterize,RGB:J.RGB,RGBA:de.RGBA,Sepia:Re.Sepia,Solarize:ke.Solarize,Threshold:tt.Threshold}})},6880:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Blur=void 0;const b=q(7271),W=q(1541),E=q(662);function se(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const K=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],M=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Y.Blur=function(C){const D=Math.round(this.blurRadius());D>0&&function F(L,C){const D=L.data,V=L.width,k=L.height;let T,S,B,U,te,_,P,G,ee,fe,X,ve,ce,z,ae,we,Pe,I,j,J,de,Re,ke,tt;const he=C+C+1,_e=V-1,le=k-1,ye=C+1,Ne=ye*(ye+1)/2,re=new se,De=K[C],Ze=M[C];let wt=null,qe=re,ft=null,dt=null;for(B=1;B<he;B++)qe=qe.next=new se,B===ye&&(wt=qe);for(qe.next=re,P=_=0,S=0;S<k;S++){for(we=Pe=I=j=G=ee=fe=X=0,ve=ye*(J=D[_]),ce=ye*(de=D[_+1]),z=ye*(Re=D[_+2]),ae=ye*(ke=D[_+3]),G+=Ne*J,ee+=Ne*de,fe+=Ne*Re,X+=Ne*ke,qe=re,B=0;B<ye;B++)qe.r=J,qe.g=de,qe.b=Re,qe.a=ke,qe=qe.next;for(B=1;B<ye;B++)U=_+((_e<B?_e:B)<<2),G+=(qe.r=J=D[U])*(tt=ye-B),ee+=(qe.g=de=D[U+1])*tt,fe+=(qe.b=Re=D[U+2])*tt,X+=(qe.a=ke=D[U+3])*tt,we+=J,Pe+=de,I+=Re,j+=ke,qe=qe.next;for(ft=re,dt=wt,T=0;T<V;T++)D[_+3]=ke=X*De>>Ze,0!==ke?(ke=255/ke,D[_]=(G*De>>Ze)*ke,D[_+1]=(ee*De>>Ze)*ke,D[_+2]=(fe*De>>Ze)*ke):D[_]=D[_+1]=D[_+2]=0,G-=ve,ee-=ce,fe-=z,X-=ae,ve-=ft.r,ce-=ft.g,z-=ft.b,ae-=ft.a,U=P+((U=T+C+1)<_e?U:_e)<<2,we+=ft.r=D[U],Pe+=ft.g=D[U+1],I+=ft.b=D[U+2],j+=ft.a=D[U+3],G+=we,ee+=Pe,fe+=I,X+=j,ft=ft.next,ve+=J=dt.r,ce+=de=dt.g,z+=Re=dt.b,ae+=ke=dt.a,we-=J,Pe-=de,I-=Re,j-=ke,dt=dt.next,_+=4;P+=V}for(T=0;T<V;T++){for(Pe=I=j=we=ee=fe=X=G=0,_=T<<2,ve=ye*(J=D[_]),ce=ye*(de=D[_+1]),z=ye*(Re=D[_+2]),ae=ye*(ke=D[_+3]),G+=Ne*J,ee+=Ne*de,fe+=Ne*Re,X+=Ne*ke,qe=re,B=0;B<ye;B++)qe.r=J,qe.g=de,qe.b=Re,qe.a=ke,qe=qe.next;for(te=V,B=1;B<=C;B++)_=te+T<<2,G+=(qe.r=J=D[_])*(tt=ye-B),ee+=(qe.g=de=D[_+1])*tt,fe+=(qe.b=Re=D[_+2])*tt,X+=(qe.a=ke=D[_+3])*tt,we+=J,Pe+=de,I+=Re,j+=ke,qe=qe.next,B<le&&(te+=V);for(_=T,ft=re,dt=wt,S=0;S<k;S++)U=_<<2,D[U+3]=ke=X*De>>Ze,ke>0?(ke=255/ke,D[U]=(G*De>>Ze)*ke,D[U+1]=(ee*De>>Ze)*ke,D[U+2]=(fe*De>>Ze)*ke):D[U]=D[U+1]=D[U+2]=0,G-=ve,ee-=ce,fe-=z,X-=ae,ve-=ft.r,ce-=ft.g,z-=ft.b,ae-=ft.a,U=T+((U=S+ye)<le?U:le)*V<<2,G+=we+=ft.r=D[U],ee+=Pe+=ft.g=D[U+1],fe+=I+=ft.b=D[U+2],X+=j+=ft.a=D[U+3],ft=ft.next,ve+=J=dt.r,ce+=de=dt.g,z+=Re=dt.b,ae+=ke=dt.a,we-=J,Pe-=de,I-=Re,j-=ke,dt=dt.next,_+=V}}(C,D)},b.Factory.addGetterSetter(W.Node,"blurRadius",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},9698:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Brighten=void 0;const b=q(7271),W=q(1541),E=q(662);Y.Brighten=function(K){const M=255*this.brightness(),F=K.data,x=F.length;for(let L=0;L<x;L+=4)F[L]+=M,F[L+1]+=M,F[L+2]+=M},b.Factory.addGetterSetter(W.Node,"brightness",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},471:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Contrast=void 0;const b=q(7271),W=q(1541),E=q(662);Y.Contrast=function(K){const M=Math.pow((this.contrast()+100)/100,2),F=K.data,x=F.length;let L=150,C=150,D=150;for(let V=0;V<x;V+=4)L=F[V],C=F[V+1],D=F[V+2],L/=255,L-=.5,L*=M,L+=.5,L*=255,C/=255,C-=.5,C*=M,C+=.5,C*=255,D/=255,D-=.5,D*=M,D+=.5,D*=255,L=L<0?0:L>255?255:L,C=C<0?0:C>255?255:C,D=D<0?0:D>255?255:D,F[V]=L,F[V+1]=C,F[V+2]=D},b.Factory.addGetterSetter(W.Node,"contrast",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},4274:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Emboss=void 0;const b=q(7271),W=q(1541),E=q(3773),se=q(662);Y.Emboss=function(M){const F=10*this.embossStrength(),x=255*this.embossWhiteLevel(),L=this.embossDirection(),C=this.embossBlend(),D=M.data,V=M.width,k=M.height,T=4*V;let S=0,B=0,U=k;switch(L){case"top-left":S=-1,B=-1;break;case"top":S=-1,B=0;break;case"top-right":S=-1,B=1;break;case"right":S=0,B=1;break;case"bottom-right":S=1,B=1;break;case"bottom":S=1,B=0;break;case"bottom-left":S=1,B=-1;break;case"left":S=0,B=-1;break;default:E.Util.error("Unknown emboss direction: "+L)}do{const te=(U-1)*T;let _=S;U+_<1&&(_=0),U+_>k&&(_=0);const P=(U-1+_)*V*4;let G=V;do{const ee=te+4*(G-1);let fe=B;G+fe<1&&(fe=0),G+fe>V&&(fe=0);const X=P+4*(G-1+fe),ce=D[ee+1]-D[X+1],z=D[ee+2]-D[X+2];let ae=D[ee]-D[X];const we=ae>0?ae:-ae;if((ce>0?ce:-ce)>we&&(ae=ce),(z>0?z:-z)>we&&(ae=z),ae*=F,C){const j=D[ee]+ae,J=D[ee+1]+ae,de=D[ee+2]+ae;D[ee]=j>255?255:j<0?0:j,D[ee+1]=J>255?255:J<0?0:J,D[ee+2]=de>255?255:de<0?0:de}else{let j=x-ae;j<0?j=0:j>255&&(j=255),D[ee]=D[ee+1]=D[ee+2]=j}}while(--G)}while(--U)},b.Factory.addGetterSetter(W.Node,"embossStrength",.5,(0,se.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"embossWhiteLevel",.5,(0,se.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"embossDirection","top-left",void 0,b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"embossBlend",!1,void 0,b.Factory.afterSetFilter)},6187:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Enhance=void 0;const b=q(7271),W=q(1541),E=q(662);function se(M,F,x,L,C){const D=x-F,V=C-L;if(0===D)return L+V/2;if(0===V)return L;let k=(M-F)/D;return k=V*k+L,k}Y.Enhance=function(M){const F=M.data,x=F.length;let D,T,U,L=F[0],C=L,V=F[1],k=V,S=F[2],B=S;const te=this.enhance();if(0===te)return;for(let ae=0;ae<x;ae+=4)D=F[ae+0],D<L?L=D:D>C&&(C=D),T=F[ae+1],T<V?V=T:T>k&&(k=T),U=F[ae+2],U<S?S=U:U>B&&(B=U);let _,P,G,ee,fe,X,ve,ce,z;C===L&&(C=255,L=0),k===V&&(k=255,V=0),B===S&&(B=255,S=0),te>0?(P=C+te*(255-C),G=L-te*(L-0),fe=k+te*(255-k),X=V-te*(V-0),ce=B+te*(255-B),z=S-te*(S-0)):(_=.5*(C+L),P=C+te*(C-_),G=L+te*(L-_),ee=.5*(k+V),fe=k+te*(k-ee),X=V+te*(V-ee),ve=.5*(B+S),ce=B+te*(B-ve),z=S+te*(S-ve));for(let ae=0;ae<x;ae+=4)F[ae+0]=se(F[ae+0],L,C,G,P),F[ae+1]=se(F[ae+1],V,k,X,fe),F[ae+2]=se(F[ae+2],S,B,z,ce)},b.Factory.addGetterSetter(W.Node,"enhance",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},3790:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Grayscale=void 0,Y.Grayscale=function(b){const W=b.data,E=W.length;for(let se=0;se<E;se+=4){const K=.34*W[se]+.5*W[se+1]+.16*W[se+2];W[se]=K,W[se+1]=K,W[se+2]=K}}},6002:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.HSL=void 0;const b=q(7271),W=q(1541),E=q(662);b.Factory.addGetterSetter(W.Node,"hue",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"saturation",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"luminance",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter),Y.HSL=function(K){const M=K.data,F=M.length,L=Math.pow(2,this.saturation()),C=Math.abs(this.hue()+360)%360,D=127*this.luminance(),V=1*L*Math.cos(C*Math.PI/180),k=1*L*Math.sin(C*Math.PI/180),T=.299+.701*V+.167*k,S=.587-.587*V+.33*k,B=.114-.114*V-.497*k,U=.299-.299*V-.328*k,te=.587+.413*V+.035*k,_=.114-.114*V+.293*k,P=.299-.3*V+1.25*k,G=.587-.586*V-1.05*k,ee=.114+.886*V-.2*k;let fe,X,ve,ce;for(let z=0;z<F;z+=4)fe=M[z+0],X=M[z+1],ve=M[z+2],ce=M[z+3],M[z+0]=T*fe+S*X+B*ve+D,M[z+1]=U*fe+te*X+_*ve+D,M[z+2]=P*fe+G*X+ee*ve+D,M[z+3]=ce}},5680:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.HSV=void 0;const b=q(7271),W=q(1541),E=q(662);Y.HSV=function(K){const M=K.data,F=M.length,x=Math.pow(2,this.value()),L=Math.pow(2,this.saturation()),C=Math.abs(this.hue()+360)%360,D=x*L*Math.cos(C*Math.PI/180),V=x*L*Math.sin(C*Math.PI/180),k=.299*x+.701*D+.167*V,T=.587*x-.587*D+.33*V,S=.114*x-.114*D-.497*V,B=.299*x-.299*D-.328*V,U=.587*x+.413*D+.035*V,te=.114*x-.114*D+.293*V,_=.299*x-.3*D+1.25*V,P=.587*x-.586*D-1.05*V,G=.114*x+.886*D-.2*V;let ee,fe,X,ve;for(let ce=0;ce<F;ce+=4)ee=M[ce+0],fe=M[ce+1],X=M[ce+2],ve=M[ce+3],M[ce+0]=k*ee+T*fe+S*X,M[ce+1]=B*ee+U*fe+te*X,M[ce+2]=_*ee+P*fe+G*X,M[ce+3]=ve},b.Factory.addGetterSetter(W.Node,"hue",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"saturation",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"value",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},2757:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Invert=void 0,Y.Invert=function(b){const W=b.data,E=W.length;for(let se=0;se<E;se+=4)W[se]=255-W[se],W[se+1]=255-W[se+1],W[se+2]=255-W[se+2]}},5180:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Kaleidoscope=void 0;const b=q(7271),W=q(1541),E=q(3773),se=q(662);Y.Kaleidoscope=function(x){const L=x.width,C=x.height;let D,V,k,T,S,B,U,te,_,P,G=Math.round(this.kaleidoscopePower());const ee=Math.round(this.kaleidoscopeAngle()),fe=Math.floor(L*(ee%360)/360);if(G<1)return;const X=E.Util.createCanvasElement();X.width=L,X.height=C;const ve=X.getContext("2d").getImageData(0,0,L,C);E.Util.releaseCanvas(X),function(x,L,C){const D=x.data,V=L.data,k=x.width,T=x.height,S=C.polarCenterX||k/2,B=C.polarCenterY||T/2;let U=Math.sqrt(S*S+B*B),te=k-S,_=T-B;const P=Math.sqrt(te*te+_*_);U=P>U?P:U;const G=T,ee=k,fe=360/ee*Math.PI/180;for(let X=0;X<ee;X+=1){const ve=Math.sin(X*fe),ce=Math.cos(X*fe);for(let z=0;z<G;z+=1){te=Math.floor(S+U*z/G*ce),_=Math.floor(B+U*z/G*ve);let ae=4*(_*k+te);const we=D[ae+0],Pe=D[ae+1],I=D[ae+2],j=D[ae+3];ae=4*(X+z*k),V[ae+0]=we,V[ae+1]=Pe,V[ae+2]=I,V[ae+3]=j}}}(x,ve,{polarCenterX:L/2,polarCenterY:C/2});let ce=L/Math.pow(2,G);for(;ce<=8;)ce*=2,G-=1;ce=Math.ceil(ce);let z=ce,ae=0,we=z,Pe=1;for(fe+ce>L&&(ae=z,we=0,Pe=-1),V=0;V<C;V+=1)for(D=ae;D!==we;D+=Pe)k=Math.round(D+fe)%L,_=4*(L*V+k),S=ve.data[_+0],B=ve.data[_+1],U=ve.data[_+2],te=ve.data[_+3],P=4*(L*V+D),ve.data[P+0]=S,ve.data[P+1]=B,ve.data[P+2]=U,ve.data[P+3]=te;for(V=0;V<C;V+=1)for(z=Math.floor(ce),T=0;T<G;T+=1){for(D=0;D<z+1;D+=1)_=4*(L*V+D),S=ve.data[_+0],B=ve.data[_+1],U=ve.data[_+2],te=ve.data[_+3],P=4*(L*V+2*z-D-1),ve.data[P+0]=S,ve.data[P+1]=B,ve.data[P+2]=U,ve.data[P+3]=te;z*=2}!function(x,L,C){const D=x.data,V=L.data,k=x.width,T=x.height,S=C.polarCenterX||k/2,B=C.polarCenterY||T/2;let U=Math.sqrt(S*S+B*B),te=k-S,_=T-B;const P=Math.sqrt(te*te+_*_);U=P>U?P:U;const G=T,ee=k,fe=C.polarRotation||0;let X,ve;for(te=0;te<k;te+=1)for(_=0;_<T;_+=1){const ce=te-S,z=_-B,ae=Math.sqrt(ce*ce+z*z)*G/U;let we=(180*Math.atan2(z,ce)/Math.PI+360+fe)%360;we=we*ee/360,X=Math.floor(we),ve=Math.floor(ae);let Pe=4*(ve*k+X);const I=D[Pe+0],j=D[Pe+1],J=D[Pe+2],de=D[Pe+3];Pe=4*(_*k+te),V[Pe+0]=I,V[Pe+1]=j,V[Pe+2]=J,V[Pe+3]=de}}(ve,x,{polarRotation:0})},b.Factory.addGetterSetter(W.Node,"kaleidoscopePower",2,(0,se.getNumberValidator)(),b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"kaleidoscopeAngle",0,(0,se.getNumberValidator)(),b.Factory.afterSetFilter)},9533:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Mask=void 0;const b=q(7271),W=q(1541),E=q(662);function se(k,T,S){let B=4*(S*k.width+T);const U=[];return U.push(k.data[B++],k.data[B++],k.data[B++],k.data[B++]),U}function K(k,T){return Math.sqrt(Math.pow(k[0]-T[0],2)+Math.pow(k[1]-T[1],2)+Math.pow(k[2]-T[2],2))}Y.Mask=function(k){let S=function F(k,T){const S=se(k,0,0),B=se(k,k.width-1,0),U=se(k,0,k.height-1),te=se(k,k.width-1,k.height-1),_=T||10;if(K(S,B)<_&&K(B,te)<_&&K(te,U)<_&&K(U,S)<_){const P=function M(k){const T=[0,0,0];for(let S=0;S<k.length;S++)T[0]+=k[S][0],T[1]+=k[S][1],T[2]+=k[S][2];return T[0]/=k.length,T[1]/=k.length,T[2]/=k.length,T}([B,S,te,U]),G=[];for(let ee=0;ee<k.width*k.height;ee++){const fe=K(P,[k.data[4*ee],k.data[4*ee+1],k.data[4*ee+2]]);G[ee]=fe<_?0:255}return G}}(k,this.threshold());return S&&(S=function L(k,T,S){const B=[1,1,1,1,0,1,1,1,1],U=Math.round(Math.sqrt(B.length)),te=Math.floor(U/2),_=[];for(let P=0;P<S;P++)for(let G=0;G<T;G++){const ee=P*T+G;let fe=0;for(let X=0;X<U;X++)for(let ve=0;ve<U;ve++){const ce=P+X-te,z=G+ve-te;ce>=0&&ce<S&&z>=0&&z<T&&(fe+=k[ce*T+z]*B[X*U+ve])}_[ee]=2040===fe?255:0}return _}(S,k.width,k.height),S=function C(k,T,S){const B=[1,1,1,1,1,1,1,1,1],U=Math.round(Math.sqrt(B.length)),te=Math.floor(U/2),_=[];for(let P=0;P<S;P++)for(let G=0;G<T;G++){const ee=P*T+G;let fe=0;for(let X=0;X<U;X++)for(let ve=0;ve<U;ve++){const ce=P+X-te,z=G+ve-te;ce>=0&&ce<S&&z>=0&&z<T&&(fe+=k[ce*T+z]*B[X*U+ve])}_[ee]=fe>=1020?255:0}return _}(S,k.width,k.height),S=function D(k,T,S){const B=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],U=Math.round(Math.sqrt(B.length)),te=Math.floor(U/2),_=[];for(let P=0;P<S;P++)for(let G=0;G<T;G++){const ee=P*T+G;let fe=0;for(let X=0;X<U;X++)for(let ve=0;ve<U;ve++){const ce=P+X-te,z=G+ve-te;ce>=0&&ce<S&&z>=0&&z<T&&(fe+=k[ce*T+z]*B[X*U+ve])}_[ee]=fe}return _}(S,k.width,k.height),function x(k,T){for(let S=0;S<k.width*k.height;S++)k.data[4*S+3]=T[S]}(k,S)),k},b.Factory.addGetterSetter(W.Node,"threshold",0,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},5275:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Noise=void 0;const b=q(7271),W=q(1541),E=q(662);Y.Noise=function(K){const M=255*this.noise(),F=K.data,x=F.length,L=M/2;for(let C=0;C<x;C+=4)F[C+0]+=L-2*L*Math.random(),F[C+1]+=L-2*L*Math.random(),F[C+2]+=L-2*L*Math.random()},b.Factory.addGetterSetter(W.Node,"noise",.2,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},605:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Pixelate=void 0;const b=q(7271),W=q(3773),E=q(1541),se=q(662);Y.Pixelate=function(M){let C,D,V,k,T,S,B,_,P,G,ee,fe,X,ve,F=Math.ceil(this.pixelSize()),x=M.width,L=M.height,U=Math.ceil(x/F),te=Math.ceil(L/F),ce=M.data;if(F<=0)W.Util.error("pixelSize value can not be <= 0");else for(fe=0;fe<U;fe+=1)for(X=0;X<te;X+=1){for(k=0,T=0,S=0,B=0,_=fe*F,P=_+F,G=X*F,ee=G+F,ve=0,C=_;C<P;C+=1)if(!(C>=x))for(D=G;D<ee;D+=1)D>=L||(V=4*(x*D+C),k+=ce[V+0],T+=ce[V+1],S+=ce[V+2],B+=ce[V+3],ve+=1);for(k/=ve,T/=ve,S/=ve,B/=ve,C=_;C<P;C+=1)if(!(C>=x))for(D=G;D<ee;D+=1)D>=L||(V=4*(x*D+C),ce[V+0]=k,ce[V+1]=T,ce[V+2]=S,ce[V+3]=B)}},b.Factory.addGetterSetter(E.Node,"pixelSize",8,(0,se.getNumberValidator)(),b.Factory.afterSetFilter)},9744:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Posterize=void 0;const b=q(7271),W=q(1541),E=q(662);Y.Posterize=function(K){const M=Math.round(254*this.levels())+1,F=K.data,x=F.length,L=255/M;for(let C=0;C<x;C+=1)F[C]=Math.floor(F[C]/L)*L},b.Factory.addGetterSetter(W.Node,"levels",.5,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},6734:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.RGB=void 0;const b=q(7271),W=q(1541),E=q(662);Y.RGB=function(K){const M=K.data,F=M.length,x=this.red(),L=this.green(),C=this.blue();for(let D=0;D<F;D+=4){const V=(.34*M[D]+.5*M[D+1]+.16*M[D+2])/255;M[D]=V*x,M[D+1]=V*L,M[D+2]=V*C,M[D+3]=M[D+3]}},b.Factory.addGetterSetter(W.Node,"red",0,function(K){return this._filterUpToDate=!1,K>255?255:K<0?0:Math.round(K)}),b.Factory.addGetterSetter(W.Node,"green",0,function(K){return this._filterUpToDate=!1,K>255?255:K<0?0:Math.round(K)}),b.Factory.addGetterSetter(W.Node,"blue",0,E.RGBComponent,b.Factory.afterSetFilter)},4019:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.RGBA=void 0;const b=q(7271),W=q(1541),E=q(662);Y.RGBA=function(K){const M=K.data,F=M.length,x=this.red(),L=this.green(),C=this.blue(),D=this.alpha();for(let V=0;V<F;V+=4){const k=1-D;M[V]=x*D+M[V]*k,M[V+1]=L*D+M[V+1]*k,M[V+2]=C*D+M[V+2]*k}},b.Factory.addGetterSetter(W.Node,"red",0,function(K){return this._filterUpToDate=!1,K>255?255:K<0?0:Math.round(K)}),b.Factory.addGetterSetter(W.Node,"green",0,function(K){return this._filterUpToDate=!1,K>255?255:K<0?0:Math.round(K)}),b.Factory.addGetterSetter(W.Node,"blue",0,E.RGBComponent,b.Factory.afterSetFilter),b.Factory.addGetterSetter(W.Node,"alpha",1,function(K){return this._filterUpToDate=!1,K>1?1:K<0?0:K})},3443:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Sepia=void 0,Y.Sepia=function(b){const W=b.data,E=W.length;for(let se=0;se<E;se+=4){const K=W[se+0],M=W[se+1],F=W[se+2];W[se+0]=Math.min(255,.393*K+.769*M+.189*F),W[se+1]=Math.min(255,.349*K+.686*M+.168*F),W[se+2]=Math.min(255,.272*K+.534*M+.131*F)}}},3400:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Solarize=void 0,Y.Solarize=function(b){const W=b.data,E=b.width,K=4*E;let M=b.height;do{const F=(M-1)*K;let x=E;do{const L=F+4*(x-1);let C=W[L],D=W[L+1],V=W[L+2];C>127&&(C=255-C),D>127&&(D=255-D),V>127&&(V=255-V),W[L]=C,W[L+1]=D,W[L+2]=V}while(--x)}while(--M)}},8742:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Threshold=void 0;const b=q(7271),W=q(1541),E=q(662);Y.Threshold=function(K){const M=255*this.threshold(),F=K.data,x=F.length;for(let L=0;L<x;L+=1)F[L]=F[L]<M?0:255},b.Factory.addGetterSetter(W.Node,"threshold",.5,(0,E.getNumberValidator)(),b.Factory.afterSetFilter)},4877:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0});const b=q(263);It.exports=b.Konva},2472:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Arc=void 0;const b=q(7271),W=q(2040),E=q(1354),se=q(662),K=q(1354);class M extends W.Shape{_sceneFunc(x){const L=E.Konva.getAngle(this.angle()),C=this.clockwise();x.beginPath(),x.arc(0,0,this.outerRadius(),0,L,C),x.arc(0,0,this.innerRadius(),L,0,!C),x.closePath(),x.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(x){this.outerRadius(x/2)}setHeight(x){this.outerRadius(x/2)}getSelfRect(){const x=this.innerRadius(),L=this.outerRadius(),C=this.clockwise(),D=E.Konva.getAngle(C?360-this.angle():this.angle()),V=Math.cos(Math.min(D,Math.PI)),T=Math.sin(Math.min(Math.max(Math.PI,D),3*Math.PI/2)),S=Math.sin(Math.min(D,Math.PI/2)),B=V*(V>0?x:L),te=T*(T>0?x:L),_=S*(S>0?L:x);return{x:B,y:C?-1*_:te,width:1*L-B,height:_-te}}}Y.Arc=M,M.prototype._centroid=!0,M.prototype.className="Arc",M.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,K._registerNode)(M),b.Factory.addGetterSetter(M,"innerRadius",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"outerRadius",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"angle",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"clockwise",!1,(0,se.getBooleanValidator)())},9801:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Arrow=void 0;const b=q(7271),W=q(2444),E=q(662),se=q(1354),K=q(3049);class M extends W.Line{_sceneFunc(x){super._sceneFunc(x);const L=2*Math.PI,C=this.points();let D=C;const V=0!==this.tension()&&C.length>4;V&&(D=this.getTensionPoints());const k=this.pointerLength(),T=C.length;let S,B;if(V){const _=[D[D.length-4],D[D.length-3],D[D.length-2],D[D.length-1],C[T-2],C[T-1]],P=K.Path.calcLength(D[D.length-4],D[D.length-3],"C",_),G=K.Path.getPointOnQuadraticBezier(Math.min(1,1-k/P),_[0],_[1],_[2],_[3],_[4],_[5]);S=C[T-2]-G.x,B=C[T-1]-G.y}else S=C[T-2]-C[T-4],B=C[T-1]-C[T-3];const U=(Math.atan2(B,S)+L)%L,te=this.pointerWidth();this.pointerAtEnding()&&(x.save(),x.beginPath(),x.translate(C[T-2],C[T-1]),x.rotate(U),x.moveTo(0,0),x.lineTo(-k,te/2),x.lineTo(-k,-te/2),x.closePath(),x.restore(),this.__fillStroke(x)),this.pointerAtBeginning()&&(x.save(),x.beginPath(),x.translate(C[0],C[1]),V?(S=(D[0]+D[2])/2-C[0],B=(D[1]+D[3])/2-C[1]):(S=C[2]-C[0],B=C[3]-C[1]),x.rotate((Math.atan2(-B,-S)+L)%L),x.moveTo(0,0),x.lineTo(-k,te/2),x.lineTo(-k,-te/2),x.closePath(),x.restore(),this.__fillStroke(x))}__fillStroke(x){const L=this.dashEnabled();L&&(this.attrs.dashEnabled=!1,x.setLineDash([])),x.fillStrokeShape(this),L&&(this.attrs.dashEnabled=!0)}getSelfRect(){const x=super.getSelfRect(),L=this.pointerWidth()/2;return{x:x.x,y:x.y-L,width:x.width,height:x.height+2*L}}}Y.Arrow=M,M.prototype.className="Arrow",(0,se._registerNode)(M),b.Factory.addGetterSetter(M,"pointerLength",10,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(M,"pointerWidth",10,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(M,"pointerAtBeginning",!1),b.Factory.addGetterSetter(M,"pointerAtEnding",!0)},2882:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Circle=void 0;const b=q(7271),W=q(2040),E=q(662),se=q(1354);class K extends W.Shape{_sceneFunc(F){F.beginPath(),F.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),F.closePath(),F.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(F){this.radius()!==F/2&&this.radius(F/2)}setHeight(F){this.radius()!==F/2&&this.radius(F/2)}}Y.Circle=K,K.prototype._centroid=!0,K.prototype.className="Circle",K.prototype._attrsAffectingSize=["radius"],(0,se._registerNode)(K),b.Factory.addGetterSetter(K,"radius",0,(0,E.getNumberValidator)())},4306:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Ellipse=void 0;const b=q(7271),W=q(2040),E=q(662),se=q(1354);class K extends W.Shape{_sceneFunc(F){const x=this.radiusX(),L=this.radiusY();F.beginPath(),F.save(),x!==L&&F.scale(1,L/x),F.arc(0,0,x,0,2*Math.PI,!1),F.restore(),F.closePath(),F.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(F){this.radiusX(F/2)}setHeight(F){this.radiusY(F/2)}}Y.Ellipse=K,K.prototype.className="Ellipse",K.prototype._centroid=!0,K.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,se._registerNode)(K),b.Factory.addComponentsGetterSetter(K,"radius",["x","y"]),b.Factory.addGetterSetter(K,"radiusX",0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(K,"radiusY",0,(0,E.getNumberValidator)())},4029:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Image=void 0;const b=q(3773),W=q(7271),E=q(2040),se=q(1354),K=q(662);class M extends E.Shape{constructor(x){super(x),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const x=this.image();x&&x.complete||x&&4===x.readyState||x&&x.addEventListener&&x.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const x=!!this.cornerRadius(),L=this.hasShadow();return!(!x||!L)||super._useBufferCanvas(!0)}_sceneFunc(x){const L=this.getWidth(),C=this.getHeight(),D=this.cornerRadius(),V=this.attrs.image;let k;if(V){const T=this.attrs.cropWidth,S=this.attrs.cropHeight;k=T&&S?[V,this.cropX(),this.cropY(),T,S,0,0,L,C]:[V,0,0,L,C]}(this.hasFill()||this.hasStroke()||D)&&(x.beginPath(),D?b.Util.drawRoundedRectPath(x,L,C,D):x.rect(0,0,L,C),x.closePath(),x.fillStrokeShape(this)),V&&(D&&x.clip(),x.drawImage.apply(x,k))}_hitFunc(x){const L=this.width(),C=this.height(),D=this.cornerRadius();x.beginPath(),D?b.Util.drawRoundedRectPath(x,L,C,D):x.rect(0,0,L,C),x.closePath(),x.fillStrokeShape(this)}getWidth(){var x,L;return null!==(x=this.attrs.width)&&void 0!==x?x:null===(L=this.image())||void 0===L?void 0:L.width}getHeight(){var x,L;return null!==(x=this.attrs.height)&&void 0!==x?x:null===(L=this.image())||void 0===L?void 0:L.height}static fromURL(x,L,C=null){const D=b.Util.createImageElement();D.onload=function(){const V=new M({image:D});L(V)},D.onerror=C,D.crossOrigin="Anonymous",D.src=x}}Y.Image=M,M.prototype.className="Image",(0,se._registerNode)(M),W.Factory.addGetterSetter(M,"cornerRadius",0,(0,K.getNumberOrArrayOfNumbersValidator)(4)),W.Factory.addGetterSetter(M,"image"),W.Factory.addComponentsGetterSetter(M,"crop",["x","y","width","height"]),W.Factory.addGetterSetter(M,"cropX",0,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(M,"cropY",0,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(M,"cropWidth",0,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(M,"cropHeight",0,(0,K.getNumberValidator)())},8942:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Tag=Y.Label=void 0;const b=q(7271),W=q(2040),E=q(2626),se=q(662),K=q(1354),M=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],L="up",C="right",D="down",V="left",k=M.length;class T extends E.Group{constructor(U){super(U),this.on("add.konva",function(te){this._addListeners(te.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(U){let _,te=this;const P=function(){te._sync()};for(_=0;_<k;_++)U.on(M[_]+"Change.konva",P)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let _,P,G,ee,fe,X,ve,U=this.getText(),te=this.getTag();if(U&&te){switch(_=U.width(),P=U.height(),G=te.pointerDirection(),ee=te.pointerWidth(),ve=te.pointerHeight(),fe=0,X=0,G){case L:fe=_/2,X=-1*ve;break;case C:fe=_+ee,X=P/2;break;case D:fe=_/2,X=P+ve;break;case V:fe=-1*ee,X=P/2}te.setAttrs({x:-1*fe,y:-1*X,width:_,height:P}),U.setAttrs({x:-1*fe,y:-1*X})}}}Y.Label=T,T.prototype.className="Label",(0,K._registerNode)(T);class S extends W.Shape{_sceneFunc(U){const te=this.width(),_=this.height(),P=this.pointerDirection(),G=this.pointerWidth(),ee=this.pointerHeight(),fe=this.cornerRadius();let X=0,ve=0,ce=0,z=0;"number"==typeof fe?X=ve=ce=z=Math.min(fe,te/2,_/2):(X=Math.min(fe[0]||0,te/2,_/2),ve=Math.min(fe[1]||0,te/2,_/2),z=Math.min(fe[2]||0,te/2,_/2),ce=Math.min(fe[3]||0,te/2,_/2)),U.beginPath(),U.moveTo(X,0),P===L&&(U.lineTo((te-G)/2,0),U.lineTo(te/2,-1*ee),U.lineTo((te+G)/2,0)),U.lineTo(te-ve,0),U.arc(te-ve,ve,ve,3*Math.PI/2,0,!1),P===C&&(U.lineTo(te,(_-ee)/2),U.lineTo(te+G,_/2),U.lineTo(te,(_+ee)/2)),U.lineTo(te,_-z),U.arc(te-z,_-z,z,0,Math.PI/2,!1),P===D&&(U.lineTo((te+G)/2,_),U.lineTo(te/2,_+ee),U.lineTo((te-G)/2,_)),U.lineTo(ce,_),U.arc(ce,_-ce,ce,Math.PI/2,Math.PI,!1),P===V&&(U.lineTo(0,(_+ee)/2),U.lineTo(-1*G,_/2),U.lineTo(0,(_-ee)/2)),U.lineTo(0,X),U.arc(X,X,X,Math.PI,3*Math.PI/2,!1),U.closePath(),U.fillStrokeShape(this)}getSelfRect(){let U=0,te=0,_=this.pointerWidth(),P=this.pointerHeight(),G=this.pointerDirection(),ee=this.width(),fe=this.height();return G===L?(te-=P,fe+=P):G===D?fe+=P:G===V?(U-=1.5*_,ee+=_):G===C&&(ee+=1.5*_),{x:U,y:te,width:ee,height:fe}}}Y.Tag=S,S.prototype.className="Tag",(0,K._registerNode)(S),b.Factory.addGetterSetter(S,"pointerDirection","none"),b.Factory.addGetterSetter(S,"pointerWidth",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(S,"pointerHeight",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(S,"cornerRadius",0,(0,se.getNumberOrArrayOfNumbersValidator)(4))},2444:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Line=void 0;const b=q(7271),W=q(1354),E=q(2040),se=q(662);function K(x,L,C,D,V,k,T){const S=Math.sqrt(Math.pow(C-x,2)+Math.pow(D-L,2)),B=Math.sqrt(Math.pow(V-C,2)+Math.pow(k-D,2)),U=T*S/(S+B),te=T*B/(S+B);return[C-U*(V-x),D-U*(k-L),C+te*(V-x),D+te*(k-L)]}function M(x,L){const C=x.length,D=[];for(let V=2;V<C-2;V+=2){const k=K(x[V-2],x[V-1],x[V],x[V+1],x[V+2],x[V+3],L);isNaN(k[0])||(D.push(k[0]),D.push(k[1]),D.push(x[V]),D.push(x[V+1]),D.push(k[2]),D.push(k[3]))}return D}class F extends E.Shape{constructor(L){super(L),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(L){let S,B,U,C=this.points(),D=C.length,V=this.tension(),k=this.closed(),T=this.bezier();if(D){if(L.beginPath(),L.moveTo(C[0],C[1]),0!==V&&D>4){for(S=this.getTensionPoints(),B=S.length,U=k?0:4,k||L.quadraticCurveTo(S[0],S[1],S[2],S[3]);U<B-2;)L.bezierCurveTo(S[U++],S[U++],S[U++],S[U++],S[U++],S[U++]);k||L.quadraticCurveTo(S[B-2],S[B-1],C[D-2],C[D-1])}else if(T)for(U=2;U<D;)L.bezierCurveTo(C[U++],C[U++],C[U++],C[U++],C[U++],C[U++]);else for(U=2;U<D;U+=2)L.lineTo(C[U],C[U+1]);k?(L.closePath(),L.fillStrokeShape(this)):L.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():M(this.points(),this.tension())}_getTensionPointsClosed(){const L=this.points(),C=L.length,D=this.tension(),V=K(L[C-2],L[C-1],L[0],L[1],L[2],L[3],D),k=K(L[C-4],L[C-3],L[C-2],L[C-1],L[0],L[1],D),T=M(L,D);return[V[2],V[3]].concat(T).concat([k[0],k[1],L[C-2],L[C-1],k[2],k[3],V[0],V[1],L[0],L[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let L=this.points();if(L.length<4)return{x:L[0]||0,y:L[1]||0,width:0,height:0};L=0!==this.tension()?[L[0],L[1],...this._getTensionPoints(),L[L.length-2],L[L.length-1]]:this.points();let T,S,C=L[0],D=L[0],V=L[1],k=L[1];for(let B=0;B<L.length/2;B++)T=L[2*B],S=L[2*B+1],C=Math.min(C,T),D=Math.max(D,T),V=Math.min(V,S),k=Math.max(k,S);return{x:C,y:V,width:D-C,height:k-V}}}Y.Line=F,F.prototype.className="Line",F.prototype._attrsAffectingSize=["points","bezier","tension"],(0,W._registerNode)(F),b.Factory.addGetterSetter(F,"closed",!1),b.Factory.addGetterSetter(F,"bezier",!1),b.Factory.addGetterSetter(F,"tension",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(F,"points",[],(0,se.getNumberArrayValidator)())},3049:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Path=void 0;const b=q(7271),W=q(2040),E=q(1354),se=q(1381);class K extends W.Shape{constructor(F){super(F),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=K.parsePathData(this.data()),this.pathLength=K.getPathLength(this.dataArray)}_sceneFunc(F){const x=this.dataArray;F.beginPath();let L=!1;for(let G=0;G<x.length;G++){const fe=x[G].points;switch(x[G].command){case"L":F.lineTo(fe[0],fe[1]);break;case"M":F.moveTo(fe[0],fe[1]);break;case"C":F.bezierCurveTo(fe[0],fe[1],fe[2],fe[3],fe[4],fe[5]);break;case"Q":F.quadraticCurveTo(fe[0],fe[1],fe[2],fe[3]);break;case"A":var C=fe[0],D=fe[1],V=fe[2],k=fe[3],T=fe[4],S=fe[5],B=fe[6],U=fe[7],te=V>k?V:k,_=V>k?1:V/k,P=V>k?k/V:1;F.translate(C,D),F.rotate(B),F.scale(_,P),F.arc(0,0,te,T,T+S,1-U),F.scale(1/_,1/P),F.rotate(-B),F.translate(-C,-D);break;case"z":L=!0,F.closePath()}}L||this.hasFill()?F.fillStrokeShape(this):F.strokeShape(this)}getSelfRect(){let F=[];this.dataArray.forEach(function(T){if("A"===T.command){const S=T.points[4],B=T.points[5],U=T.points[4]+B;let te=Math.PI/180;if(Math.abs(S-U)<te&&(te=Math.abs(S-U)),B<0)for(let _=S-te;_>U;_-=te){const P=K.getPointOnEllipticalArc(T.points[0],T.points[1],T.points[2],T.points[3],_,0);F.push(P.x,P.y)}else for(let _=S+te;_<U;_+=te){const P=K.getPointOnEllipticalArc(T.points[0],T.points[1],T.points[2],T.points[3],_,0);F.push(P.x,P.y)}}else if("C"===T.command)for(let S=0;S<=1;S+=.01){const B=K.getPointOnCubicBezier(S,T.start.x,T.start.y,T.points[0],T.points[1],T.points[2],T.points[3],T.points[4],T.points[5]);F.push(B.x,B.y)}else F=F.concat(T.points)});let V,k,x=F[0],L=F[0],C=F[1],D=F[1];for(let T=0;T<F.length/2;T++)V=F[2*T],k=F[2*T+1],isNaN(V)||(x=Math.min(x,V),L=Math.max(L,V)),isNaN(k)||(C=Math.min(C,k),D=Math.max(D,k));return{x,y:C,width:L-x,height:D-C}}getLength(){return this.pathLength}getPointAtLength(F){return K.getPointAtLengthOfDataArray(F,this.dataArray)}static getLineLength(F,x,L,C){return Math.sqrt((L-F)*(L-F)+(C-x)*(C-x))}static getPathLength(F){let x=0;for(let L=0;L<F.length;++L)x+=F[L].pathLength;return x}static getPointAtLengthOfDataArray(F,x){let L,C=0,D=x.length;if(!D)return null;for(;C<D&&F>x[C].pathLength;)F-=x[C].pathLength,++C;if(C===D)return L=x[C-1].points.slice(-2),{x:L[0],y:L[1]};if(F<.01)return L=x[C].points.slice(0,2),{x:L[0],y:L[1]};const V=x[C],k=V.points;switch(V.command){case"L":return K.getPointOnLine(F,V.start.x,V.start.y,k[0],k[1]);case"C":return K.getPointOnCubicBezier((0,se.t2length)(F,K.getPathLength(x),G=>(0,se.getCubicArcLength)([V.start.x,k[0],k[2],k[4]],[V.start.y,k[1],k[3],k[5]],G)),V.start.x,V.start.y,k[0],k[1],k[2],k[3],k[4],k[5]);case"Q":return K.getPointOnQuadraticBezier((0,se.t2length)(F,K.getPathLength(x),G=>(0,se.getQuadraticArcLength)([V.start.x,k[0],k[2]],[V.start.y,k[1],k[3]],G)),V.start.x,V.start.y,k[0],k[1],k[2],k[3]);case"A":var te=k[4];return K.getPointOnEllipticalArc(k[0],k[1],k[2],k[3],te+=k[5]*F/V.pathLength,k[6])}return null}static getPointOnLine(F,x,L,C,D,V,k){V=V??x,k=k??L;const T=this.getLineLength(x,L,C,D);if(T<1e-10)return{x,y:L};if(C===x)return{x:V,y:k+(D>L?F:-F)};const S=(D-L)/(C-x),B=Math.sqrt(F*F/(1+S*S))*(C<x?-1:1),U=S*B;if(Math.abs(k-L-S*(V-x))<1e-10)return{x:V+B,y:k+U};const te=((V-x)*(C-x)+(k-L)*(D-L))/(T*T),_=x+te*(C-x),P=L+te*(D-L),G=this.getLineLength(V,k,_,P),ee=Math.sqrt(F*F-G*G),fe=Math.sqrt(ee*ee/(1+S*S))*(C<x?-1:1);return{x:_+fe,y:P+S*fe}}static getPointOnCubicBezier(F,x,L,C,D,V,k,T,S){function B(ee){return ee*ee*ee}function U(ee){return 3*ee*ee*(1-ee)}function te(ee){return 3*ee*(1-ee)*(1-ee)}function _(ee){return(1-ee)*(1-ee)*(1-ee)}return{x:T*B(F)+V*U(F)+C*te(F)+x*_(F),y:S*B(F)+k*U(F)+D*te(F)+L*_(F)}}static getPointOnQuadraticBezier(F,x,L,C,D,V,k){function T(_){return _*_}function S(_){return 2*_*(1-_)}function B(_){return(1-_)*(1-_)}return{x:V*T(F)+C*S(F)+x*B(F),y:k*T(F)+D*S(F)+L*B(F)}}static getPointOnEllipticalArc(F,x,L,C,D,V){const k=Math.cos(V),T=Math.sin(V),S_x=L*Math.cos(D),S_y=C*Math.sin(D);return{x:F+(S_x*k-S_y*T),y:x+(S_x*T+S_y*k)}}static parsePathData(F){if(!F)return[];let x=F;const L=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];x=x.replace(new RegExp(" ","g"),",");for(var C=0;C<L.length;C++)x=x.replace(new RegExp(L[C],"g"),"|"+L[C]);const D=x.split("|"),V=[],k=[];let T=0,S=0;const B=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let U;for(C=1;C<D.length;C++){let Pe=D[C],I=Pe.charAt(0);for(Pe=Pe.slice(1),k.length=0;U=B.exec(Pe);)k.push(U[0]);const j=[];for(let J=0,de=k.length;J<de;J++){if("00"===k[J]){j.push(0,0);continue}const Re=parseFloat(k[J]);isNaN(Re)?j.push(0):j.push(Re)}for(;j.length>0&&!isNaN(j[0]);){let J="",de=[];const Re=T,ke=S;var te,_,P,G,ee,fe,X,ve,ce,z;switch(I){case"l":T+=j.shift(),S+=j.shift(),J="L",de.push(T,S);break;case"L":T=j.shift(),S=j.shift(),de.push(T,S);break;case"m":var ae=j.shift(),we=j.shift();if(T+=ae,S+=we,J="M",V.length>2&&"z"===V[V.length-1].command)for(let tt=V.length-2;tt>=0;tt--)if("M"===V[tt].command){T=V[tt].points[0]+ae,S=V[tt].points[1]+we;break}de.push(T,S),I="l";break;case"M":T=j.shift(),S=j.shift(),J="M",de.push(T,S),I="L";break;case"h":T+=j.shift(),J="L",de.push(T,S);break;case"H":T=j.shift(),J="L",de.push(T,S);break;case"v":S+=j.shift(),J="L",de.push(T,S);break;case"V":S=j.shift(),J="L",de.push(T,S);break;case"C":de.push(j.shift(),j.shift(),j.shift(),j.shift()),T=j.shift(),S=j.shift(),de.push(T,S);break;case"c":de.push(T+j.shift(),S+j.shift(),T+j.shift(),S+j.shift()),T+=j.shift(),S+=j.shift(),J="C",de.push(T,S);break;case"S":_=T,P=S,"C"===(te=V[V.length-1]).command&&(_=T+(T-te.points[2]),P=S+(S-te.points[3])),de.push(_,P,j.shift(),j.shift()),T=j.shift(),S=j.shift(),J="C",de.push(T,S);break;case"s":_=T,P=S,"C"===(te=V[V.length-1]).command&&(_=T+(T-te.points[2]),P=S+(S-te.points[3])),de.push(_,P,T+j.shift(),S+j.shift()),T+=j.shift(),S+=j.shift(),J="C",de.push(T,S);break;case"Q":de.push(j.shift(),j.shift()),T=j.shift(),S=j.shift(),de.push(T,S);break;case"q":de.push(T+j.shift(),S+j.shift()),T+=j.shift(),S+=j.shift(),J="Q",de.push(T,S);break;case"T":_=T,P=S,"Q"===(te=V[V.length-1]).command&&(_=T+(T-te.points[0]),P=S+(S-te.points[1])),T=j.shift(),S=j.shift(),J="Q",de.push(_,P,T,S);break;case"t":_=T,P=S,"Q"===(te=V[V.length-1]).command&&(_=T+(T-te.points[0]),P=S+(S-te.points[1])),T+=j.shift(),S+=j.shift(),J="Q",de.push(_,P,T,S);break;case"A":G=j.shift(),ee=j.shift(),fe=j.shift(),X=j.shift(),ve=j.shift(),ce=T,z=S,T=j.shift(),S=j.shift(),J="A",de=this.convertEndpointToCenterParameterization(ce,z,T,S,X,ve,G,ee,fe);break;case"a":G=j.shift(),ee=j.shift(),fe=j.shift(),X=j.shift(),ve=j.shift(),ce=T,z=S,T+=j.shift(),S+=j.shift(),J="A",de=this.convertEndpointToCenterParameterization(ce,z,T,S,X,ve,G,ee,fe)}V.push({command:J||I,points:de,start:{x:Re,y:ke},pathLength:this.calcLength(Re,ke,J||I,de)})}("z"===I||"Z"===I)&&V.push({command:"z",points:[],start:void 0,pathLength:0})}return V}static calcLength(F,x,L,C){let D,V,k,T;const S=K;switch(L){case"L":return S.getLineLength(F,x,C[0],C[1]);case"C":return(0,se.getCubicArcLength)([F,C[0],C[2],C[4]],[x,C[1],C[3],C[5]],1);case"Q":return(0,se.getQuadraticArcLength)([F,C[0],C[2]],[x,C[1],C[3]],1);case"A":D=0;var B=C[4],U=C[5],te=C[4]+U,_=Math.PI/180;if(Math.abs(B-te)<_&&(_=Math.abs(B-te)),V=S.getPointOnEllipticalArc(C[0],C[1],C[2],C[3],B,0),U<0)for(T=B-_;T>te;T-=_)k=S.getPointOnEllipticalArc(C[0],C[1],C[2],C[3],T,0),D+=S.getLineLength(V.x,V.y,k.x,k.y),V=k;else for(T=B+_;T<te;T+=_)k=S.getPointOnEllipticalArc(C[0],C[1],C[2],C[3],T,0),D+=S.getLineLength(V.x,V.y,k.x,k.y),V=k;return k=S.getPointOnEllipticalArc(C[0],C[1],C[2],C[3],te,0),D+=S.getLineLength(V.x,V.y,k.x,k.y),D}return 0}static convertEndpointToCenterParameterization(F,x,L,C,D,V,k,T,S){const B=S*(Math.PI/180),U=Math.cos(B)*(F-L)/2+Math.sin(B)*(x-C)/2,te=-1*Math.sin(B)*(F-L)/2+Math.cos(B)*(x-C)/2,_=U*U/(k*k)+te*te/(T*T);_>1&&(k*=Math.sqrt(_),T*=Math.sqrt(_));let P=Math.sqrt((k*k*(T*T)-k*k*(te*te)-T*T*(U*U))/(k*k*(te*te)+T*T*(U*U)));D===V&&(P*=-1),isNaN(P)&&(P=0);const G=P*k*te/T,ee=P*-T*U/k,fe=(F+L)/2+Math.cos(B)*G-Math.sin(B)*ee,X=(x+C)/2+Math.sin(B)*G+Math.cos(B)*ee,ve=function(j){return Math.sqrt(j[0]*j[0]+j[1]*j[1])},ce=function(j,J){return(j[0]*J[0]+j[1]*J[1])/(ve(j)*ve(J))},z=function(j,J){return(j[0]*J[1]<j[1]*J[0]?-1:1)*Math.acos(ce(j,J))},ae=z([1,0],[(U-G)/k,(te-ee)/T]),we=[(U-G)/k,(te-ee)/T],Pe=[(-1*U-G)/k,(-1*te-ee)/T];let I=z(we,Pe);return ce(we,Pe)<=-1&&(I=Math.PI),ce(we,Pe)>=1&&(I=0),0===V&&I>0&&(I-=2*Math.PI),1===V&&I<0&&(I+=2*Math.PI),[fe,X,k,T,ae,I,B,V]}}Y.Path=K,K.prototype.className="Path",K.prototype._attrsAffectingSize=["data"],(0,E._registerNode)(K),b.Factory.addGetterSetter(K,"data")},8004:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Rect=void 0;const b=q(7271),W=q(2040),E=q(1354),se=q(3773),K=q(662);class M extends W.Shape{_sceneFunc(x){const L=this.cornerRadius(),C=this.width(),D=this.height();x.beginPath(),L?se.Util.drawRoundedRectPath(x,C,D,L):x.rect(0,0,C,D),x.closePath(),x.fillStrokeShape(this)}}Y.Rect=M,M.prototype.className="Rect",(0,E._registerNode)(M),b.Factory.addGetterSetter(M,"cornerRadius",0,(0,K.getNumberOrArrayOfNumbersValidator)(4))},1132:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.RegularPolygon=void 0;const b=q(7271),W=q(2040),E=q(662),se=q(1354);class K extends W.Shape{_sceneFunc(F){const x=this._getPoints();F.beginPath(),F.moveTo(x[0].x,x[0].y);for(let L=1;L<x.length;L++)F.lineTo(x[L].x,x[L].y);F.closePath(),F.fillStrokeShape(this)}_getPoints(){const F=this.attrs.sides,x=this.attrs.radius||0,L=[];for(let C=0;C<F;C++)L.push({x:x*Math.sin(2*C*Math.PI/F),y:-1*x*Math.cos(2*C*Math.PI/F)});return L}getSelfRect(){const F=this._getPoints();let x=F[0].x,L=F[0].y,C=F[0].x,D=F[0].y;return F.forEach(V=>{x=Math.min(x,V.x),L=Math.max(L,V.x),C=Math.min(C,V.y),D=Math.max(D,V.y)}),{x,y:C,width:L-x,height:D-C}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(F){this.radius(F/2)}setHeight(F){this.radius(F/2)}}Y.RegularPolygon=K,K.prototype.className="RegularPolygon",K.prototype._centroid=!0,K.prototype._attrsAffectingSize=["radius"],(0,se._registerNode)(K),b.Factory.addGetterSetter(K,"radius",0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(K,"sides",0,(0,E.getNumberValidator)())},5328:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Ring=void 0;const b=q(7271),W=q(2040),E=q(662),se=q(1354),K=2*Math.PI;class M extends W.Shape{_sceneFunc(x){x.beginPath(),x.arc(0,0,this.innerRadius(),0,K,!1),x.moveTo(this.outerRadius(),0),x.arc(0,0,this.outerRadius(),K,0,!0),x.closePath(),x.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(x){this.outerRadius(x/2)}setHeight(x){this.outerRadius(x/2)}}Y.Ring=M,M.prototype.className="Ring",M.prototype._centroid=!0,M.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,se._registerNode)(M),b.Factory.addGetterSetter(M,"innerRadius",0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(M,"outerRadius",0,(0,E.getNumberValidator)())},9971:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Sprite=void 0;const b=q(7271),W=q(2040),E=q(9323),se=q(662),K=q(1354);class M extends W.Shape{constructor(x){super(x),this._updated=!0,this.anim=new E.Animation(()=>{const L=this._updated;return this._updated=!1,L}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(x){const L=this.animation(),C=this.frameIndex(),D=4*C,V=this.animations()[L],k=this.frameOffsets(),T=V[D+0],S=V[D+1],B=V[D+2],U=V[D+3],te=this.image();if((this.hasFill()||this.hasStroke())&&(x.beginPath(),x.rect(0,0,B,U),x.closePath(),x.fillStrokeShape(this)),te)if(k){const _=k[L],P=2*C;x.drawImage(te,T,S,B,U,_[P+0],_[P+1],B,U)}else x.drawImage(te,T,S,B,U,0,0,B,U)}_hitFunc(x){const L=this.animation(),C=this.frameIndex(),D=4*C,V=this.animations()[L],k=this.frameOffsets(),T=V[D+2],S=V[D+3];if(x.beginPath(),k){const B=k[L],U=2*C;x.rect(B[U+0],B[U+1],T,S)}else x.rect(0,0,T,S);x.closePath(),x.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const x=this;this.interval=setInterval(function(){x._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const x=this.getLayer();this.anim.setLayers(x),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const x=this.frameIndex(),L=this.animation(),C=this.animations();this.frameIndex(x<C[L].length/4-1?x+1:0)}}Y.Sprite=M,M.prototype.className="Sprite",(0,K._registerNode)(M),b.Factory.addGetterSetter(M,"animation"),b.Factory.addGetterSetter(M,"animations"),b.Factory.addGetterSetter(M,"frameOffsets"),b.Factory.addGetterSetter(M,"image"),b.Factory.addGetterSetter(M,"frameIndex",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"frameRate",17,(0,se.getNumberValidator)()),b.Factory.backCompat(M,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},9554:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Star=void 0;const b=q(7271),W=q(2040),E=q(662),se=q(1354);class K extends W.Shape{_sceneFunc(F){const x=this.innerRadius(),L=this.outerRadius(),C=this.numPoints();F.beginPath(),F.moveTo(0,0-L);for(let D=1;D<2*C;D++){const V=D%2==0?L:x,k=V*Math.sin(D*Math.PI/C),T=-1*V*Math.cos(D*Math.PI/C);F.lineTo(k,T)}F.closePath(),F.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(F){this.outerRadius(F/2)}setHeight(F){this.outerRadius(F/2)}}Y.Star=K,K.prototype.className="Star",K.prototype._centroid=!0,K.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,se._registerNode)(K),b.Factory.addGetterSetter(K,"numPoints",5,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(K,"innerRadius",0,(0,E.getNumberValidator)()),b.Factory.addGetterSetter(K,"outerRadius",0,(0,E.getNumberValidator)())},8401:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Text=void 0,Y.stringToArray=F;const b=q(3773),W=q(7271),E=q(2040),se=q(1354),K=q(662),M=q(1354);function F(_e){return[..._e].reduce((le,ye,Ne,re)=>{if(new RegExp("\\p{Emoji}","u").test(ye)){const De=re[Ne+1];De&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(De)?(le.push(ye+De),re[Ne+1]=""):le.push(ye)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ye+(re[Ne+1]||""))?le.push(ye+re[Ne+1]):Ne>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ye)?le[le.length-1]+=ye:ye&&le.push(ye);return le},[])}const x="auto",C="inherit",D="justify",S="left",P="middle",G="normal",Pe=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],I=Pe.length;let J;function de(){return J||(J=b.Util.createCanvasElement().getContext("2d"),J)}class he extends E.Shape{constructor(le){super(function tt(_e){return!(_e=_e||{}).fillLinearGradientColorStops&&!_e.fillRadialGradientColorStops&&!_e.fillPatternImage&&(_e.fill=_e.fill||"black"),_e}(le)),this._partialTextX=0,this._partialTextY=0;for(let ye=0;ye<I;ye++)this.on(Pe[ye]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(le){const ye=this.textArr,Ne=ye.length;if(!this.text())return;let si,re=this.padding(),De=this.fontSize(),Ze=this.lineHeight()*De,wt=this.verticalAlign(),qe=this.direction(),ft=0,dt=this.align(),on=this.getWidth(),pt=this.letterSpacing(),an=this.fill(),xt=this.textDecoration(),ln=-1!==xt.indexOf("underline"),jn=-1!==xt.indexOf("line-through");qe=qe===C?le.direction:qe;let Vn=Ze/2,yr=P;if(se.Konva._fixTextRendering){const ai=this.measureSize("M");yr="alphabetic",Vn=(ai.fontBoundingBoxAscent-ai.fontBoundingBoxDescent)/2+Ze/2}var Hn=0,hi=0;for("rtl"===qe&&le.setAttr("direction",qe),le.setAttr("font",this._getContextFont()),le.setAttr("textBaseline",yr),le.setAttr("textAlign",S),wt===P?ft=(this.getHeight()-Ne*Ze-2*re)/2:"bottom"===wt&&(ft=this.getHeight()-Ne*Ze-2*re),le.translate(re,ft+re),si=0;si<Ne;si++){Hn=0,hi=0;var An,er,fi=ye[si],br=fi.text,Wn=fi.width,oi=fi.lastInParagraph;if(le.save(),"right"===dt?Hn+=on-Wn-2*re:"center"===dt&&(Hn+=(on-Wn-2*re)/2),ln){le.save(),le.beginPath();const pn=Hn,Mi=Vn+hi+(se.Konva._fixTextRendering?Math.round(De/4):Math.round(De/2));le.moveTo(pn,Mi),An=br.split(" ").length-1,er=dt!==D||oi?Wn:on-2*re,le.lineTo(pn+Math.round(er),Mi),le.lineWidth=De/15;const Kr=this._getLinearGradient();le.strokeStyle=Kr||an,le.stroke(),le.restore()}if(jn){le.save(),le.beginPath();const Ri=se.Konva._fixTextRendering?-Math.round(De/4):0;le.moveTo(Hn,Vn+hi+Ri),An=br.split(" ").length-1,er=dt!==D||oi?Wn:on-2*re,le.lineTo(Hn+Math.round(er),Vn+hi+Ri),le.lineWidth=De/15;const pn=this._getLinearGradient();le.strokeStyle=pn||an,le.stroke(),le.restore()}if("rtl"===qe||0===pt&&dt!==D)0!==pt&&le.setAttr("letterSpacing",`${pt}px`),this._partialTextX=Hn,this._partialTextY=Vn+hi,this._partialText=br,le.fillStrokeShape(this);else{An=br.split(" ").length-1;const Ri=F(br);for(let pn=0;pn<Ri.length;pn++){const Mi=Ri[pn];" "===Mi&&!oi&&dt===D&&(Hn+=(on-2*re-Wn)/An),this._partialTextX=Hn,this._partialTextY=Vn+hi,this._partialText=Mi,le.fillStrokeShape(this),Hn+=this.measureSize(Mi).width+pt}}le.restore(),Ne>1&&(Vn+=Ze)}}_hitFunc(le){const ye=this.getWidth(),Ne=this.getHeight();le.beginPath(),le.rect(0,0,ye,Ne),le.closePath(),le.fillStrokeShape(this)}setText(le){const ye=b.Util._isString(le)?le:null==le?"":le+"";return this._setAttr("text",ye),this}getWidth(){return this.attrs.width===x||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===x||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return b.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(le){var ye,Ne,re,De,Ze,wt,qe,ft,dt,on,pt;let ln,an=de(),xt=this.fontSize();an.save(),an.font=this._getContextFont(),ln=an.measureText(le),an.restore();const jn=xt/100;return{actualBoundingBoxAscent:null!==(ye=ln.actualBoundingBoxAscent)&&void 0!==ye?ye:71.58203125*jn,actualBoundingBoxDescent:null!==(Ne=ln.actualBoundingBoxDescent)&&void 0!==Ne?Ne:0,actualBoundingBoxLeft:null!==(re=ln.actualBoundingBoxLeft)&&void 0!==re?re:-7.421875*jn,actualBoundingBoxRight:null!==(De=ln.actualBoundingBoxRight)&&void 0!==De?De:75.732421875*jn,alphabeticBaseline:null!==(Ze=ln.alphabeticBaseline)&&void 0!==Ze?Ze:0,emHeightAscent:null!==(wt=ln.emHeightAscent)&&void 0!==wt?wt:100*jn,emHeightDescent:null!==(qe=ln.emHeightDescent)&&void 0!==qe?qe:-20*jn,fontBoundingBoxAscent:null!==(ft=ln.fontBoundingBoxAscent)&&void 0!==ft?ft:91*jn,fontBoundingBoxDescent:null!==(dt=ln.fontBoundingBoxDescent)&&void 0!==dt?dt:21*jn,hangingBaseline:null!==(on=ln.hangingBaseline)&&void 0!==on?on:72.80000305175781*jn,ideographicBaseline:null!==(pt=ln.ideographicBaseline)&&void 0!==pt?pt:-21*jn,width:ln.width,height:xt}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+function j(_e){return _e.split(",").map(le=>{const ye=(le=le.trim()).indexOf(" ")>=0,Ne=le.indexOf('"')>=0||le.indexOf("'")>=0;return ye&&!Ne&&(le=`"${le}"`),le}).join(", ")}(this.fontFamily())}_addTextLine(le){this.align()===D&&(le=le.trim());const Ne=this._getTextWidth(le);return this.textArr.push({text:le,width:Ne,lastInParagraph:!1})}_getTextWidth(le){const ye=this.letterSpacing(),Ne=le.length;return de().measureText(le).width+ye*Ne}_setTextData(){let le=this.text().split("\n"),ye=+this.fontSize(),Ne=0,re=this.lineHeight()*ye,De=this.attrs.width,Ze=this.attrs.height,wt=De!==x&&void 0!==De,qe=Ze!==x&&void 0!==Ze,ft=this.padding(),dt=De-2*ft,on=Ze-2*ft,pt=0,an=this.wrap(),ln="char"!==an&&"none"!==an,jn=this.ellipsis();this.textArr=[],de().font=this._getContextFont();const si=jn?this._getTextWidth("\u2026"):0;for(let Vn=0,yr=le.length;Vn<yr;++Vn){let Hn=le[Vn],hi=this._getTextWidth(Hn);if(wt&&hi>dt)for(;Hn.length>0;){let fi=0,br=F(Hn).length,Wn="",oi=0;for(;fi<br;){const An=fi+br>>>1,er=F(Hn).slice(0,An+1).join(""),ai=this._getTextWidth(er)+si;ai<=dt?(fi=An+1,Wn=er,oi=ai):br=An}if(!Wn)break;if(ln){const er=F(Hn),ai=F(Wn),Is=er[ai.length];let pn;if((" "===Is||"-"===Is)&&oi<=dt)pn=ai.length;else{const Mi=ai.lastIndexOf(" "),Kr=ai.lastIndexOf("-");pn=Math.max(Mi,Kr)+1}pn>0&&(fi=pn,Wn=er.slice(0,fi).join(""),oi=this._getTextWidth(Wn))}if(Wn=Wn.trimRight(),this._addTextLine(Wn),Ne=Math.max(Ne,oi),pt+=re,this._shouldHandleEllipsis(pt)){this._tryToAddEllipsisToLastLine();break}if(Hn=F(Hn).slice(fi).join("").trimLeft(),Hn.length>0&&(hi=this._getTextWidth(Hn),hi<=dt)){this._addTextLine(Hn),pt+=re,Ne=Math.max(Ne,hi);break}}else this._addTextLine(Hn),pt+=re,Ne=Math.max(Ne,hi),this._shouldHandleEllipsis(pt)&&Vn<yr-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),qe&&pt+re>on)break}this.textHeight=ye,this.textWidth=Ne}_shouldHandleEllipsis(le){const ye=+this.fontSize(),Ne=this.lineHeight()*ye,re=this.attrs.height,De=re!==x&&void 0!==re,wt=re-2*this.padding();return!("none"!==this.wrap())||De&&le+Ne>wt}_tryToAddEllipsisToLastLine(){const le=this.attrs.width,ye=le!==x&&void 0!==le,re=le-2*this.padding(),De=this.ellipsis(),Ze=this.textArr[this.textArr.length-1];!Ze||!De||(ye&&(this._getTextWidth(Ze.text+"\u2026")<re||(Ze.text=Ze.text.slice(0,Ze.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Ze.text+"\u2026"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const le=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),ye=this.hasShadow();return!(!le||!ye)||super._useBufferCanvas()}}Y.Text=he,he.prototype._fillFunc=function Re(_e){_e.fillText(this._partialText,this._partialTextX,this._partialTextY)},he.prototype._strokeFunc=function ke(_e){_e.setAttr("miterLimit",2),_e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},he.prototype.className="Text",he.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,M._registerNode)(he),W.Factory.overWriteSetter(he,"width",(0,K.getNumberOrAutoValidator)()),W.Factory.overWriteSetter(he,"height",(0,K.getNumberOrAutoValidator)()),W.Factory.addGetterSetter(he,"direction",C),W.Factory.addGetterSetter(he,"fontFamily","Arial"),W.Factory.addGetterSetter(he,"fontSize",12,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(he,"fontStyle",G),W.Factory.addGetterSetter(he,"fontVariant",G),W.Factory.addGetterSetter(he,"padding",0,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(he,"align",S),W.Factory.addGetterSetter(he,"verticalAlign","top"),W.Factory.addGetterSetter(he,"lineHeight",1,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(he,"wrap","word"),W.Factory.addGetterSetter(he,"ellipsis",!1,(0,K.getBooleanValidator)()),W.Factory.addGetterSetter(he,"letterSpacing",0,(0,K.getNumberValidator)()),W.Factory.addGetterSetter(he,"text","",(0,K.getStringValidator)()),W.Factory.addGetterSetter(he,"textDecoration","")},8854:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.TextPath=void 0;const b=q(3773),W=q(7271),E=q(2040),se=q(3049),K=q(8401),M=q(662),F=q(1354),L="normal";function C(k){k.fillText(this.partialText,0,0)}function D(k){k.strokeText(this.partialText,0,0)}class V extends E.Shape{constructor(T){super(T),this.dummyCanvas=b.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return se.Path.getPathLength(this.dataArray)}_getPointAtLength(T){return this.attrs.data?T-1>this.pathLength?null:se.Path.getPointAtLengthOfDataArray(T,this.dataArray):null}_readDataAttribute(){this.dataArray=se.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(T){T.setAttr("font",this._getContextFont()),T.setAttr("textBaseline",this.textBaseline()),T.setAttr("textAlign","left"),T.save();const S=this.textDecoration(),B=this.fill(),U=this.fontSize(),te=this.glyphInfo;"underline"===S&&T.beginPath();for(let _=0;_<te.length;_++){T.save();const P=te[_].p0;T.translate(P.x,P.y),T.rotate(te[_].rotation),this.partialText=te[_].text,T.fillStrokeShape(this),"underline"===S&&(0===_&&T.moveTo(0,U/2+1),T.lineTo(U,U/2+1)),T.restore()}"underline"===S&&(T.strokeStyle=B,T.lineWidth=U/20,T.stroke()),T.restore()}_hitFunc(T){T.beginPath();const S=this.glyphInfo;if(S.length>=1){const B=S[0].p0;T.moveTo(B.x,B.y)}for(let B=0;B<S.length;B++){const U=S[B].p1;T.lineTo(U.x,U.y)}T.setAttr("lineWidth",this.fontSize()),T.setAttr("strokeStyle",this.colorKey),T.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return b.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(T){return K.Text.prototype.setText.call(this,T)}_getContextFont(){return K.Text.prototype._getContextFont.call(this)}_getTextSize(T){const B=this.dummyCanvas.getContext("2d");B.save(),B.font=this._getContextFont();const U=B.measureText(T);return B.restore(),{width:U.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:T,height:S}=this._getTextSize(this.attrs.text);if(this.textWidth=T,this.textHeight=S,this.glyphInfo=[],!this.attrs.data)return null;const B=this.letterSpacing(),U=this.align(),te=this.kerningFunc(),_=Math.max(this.textWidth+((this.attrs.text||"").length-1)*B,0);let P=0;"center"===U&&(P=Math.max(0,this.pathLength/2-_/2)),"right"===U&&(P=Math.max(0,this.pathLength-_));const G=(0,K.stringToArray)(this.text());let ee=P;for(let fe=0;fe<G.length;fe++){const X=this._getPointAtLength(ee);if(!X)return;let ve=this._getTextSize(G[fe]).width+B;if(" "===G[fe]&&"justify"===U){const I=this.text().split(" ").length-1;ve+=(this.pathLength-_)/I}const ce=this._getPointAtLength(ee+ve);if(!ce)return;const z=se.Path.getLineLength(X.x,X.y,ce.x,ce.y);let ae=0;if(te)try{ae=te(G[fe-1],G[fe])*this.fontSize()}catch{ae=0}X.x+=ae,ce.x+=ae,this.textWidth+=ae;const we=se.Path.getPointOnLine(ae+z/2,X.x,X.y,ce.x,ce.y),Pe=Math.atan2(ce.y-X.y,ce.x-X.x);this.glyphInfo.push({transposeX:we.x,transposeY:we.y,text:G[fe],rotation:Pe,p0:X,p1:ce}),ee+=ve}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const T=[];this.glyphInfo.forEach(function(ee){T.push(ee.p0.x),T.push(ee.p0.y),T.push(ee.p1.x),T.push(ee.p1.y)});let _,P,S=T[0]||0,B=T[0]||0,U=T[1]||0,te=T[1]||0;for(let ee=0;ee<T.length/2;ee++)_=T[2*ee],P=T[2*ee+1],S=Math.min(S,_),B=Math.max(B,_),U=Math.min(U,P),te=Math.max(te,P);const G=this.fontSize();return{x:S-G/2,y:U-G/2,width:B-S+G,height:te-U+G}}destroy(){return b.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Y.TextPath=V,V.prototype._fillFunc=C,V.prototype._strokeFunc=D,V.prototype._fillFuncHit=C,V.prototype._strokeFuncHit=D,V.prototype.className="TextPath",V.prototype._attrsAffectingSize=["text","fontSize","data"],(0,F._registerNode)(V),W.Factory.addGetterSetter(V,"data"),W.Factory.addGetterSetter(V,"fontFamily","Arial"),W.Factory.addGetterSetter(V,"fontSize",12,(0,M.getNumberValidator)()),W.Factory.addGetterSetter(V,"fontStyle",L),W.Factory.addGetterSetter(V,"align","left"),W.Factory.addGetterSetter(V,"letterSpacing",0,(0,M.getNumberValidator)()),W.Factory.addGetterSetter(V,"textBaseline","middle"),W.Factory.addGetterSetter(V,"fontVariant",L),W.Factory.addGetterSetter(V,"text",""),W.Factory.addGetterSetter(V,"textDecoration",""),W.Factory.addGetterSetter(V,"kerningFunc",void 0)},575:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Transformer=void 0;const b=q(3773),W=q(7271),E=q(1541),se=q(2040),K=q(8004),M=q(2626),F=q(1354),x=q(662),L=q(1354),C="tr-konva",D=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(ce=>ce+`.${C}`).join(" "),V="nodesRect",k=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],T={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},S="ontouchstart"in F.Konva._global,U=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],te=1e8;function P(ce,z,ae){const we=ae.x+(ce.x-ae.x)*Math.cos(z)-(ce.y-ae.y)*Math.sin(z),Pe=ae.y+(ce.x-ae.x)*Math.sin(z)+(ce.y-ae.y)*Math.cos(z);return{...ce,rotation:ce.rotation+z,x:we,y:Pe}}let fe=0;class X extends M.Group{constructor(z){super(z),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(D,this.update),this.getNode()&&this.update()}attachTo(z){return this.setNode(z),this}setNode(z){return b.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([z])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return C+this._id}setNodes(z=[]){this._nodes&&this._nodes.length&&this.detach();const ae=z.filter(Pe=>!Pe.isAncestorOf(this)||(b.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=z=ae,1===z.length&&this.useSingleNodeRotation()?this.rotation(z[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Pe=>{const I=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},j=Pe._attrsAffectingSize.map(J=>J+"Change."+this._getEventNamespace()).join(" ");Pe.on(j,I),Pe.on(k.map(J=>J+`.${this._getEventNamespace()}`).join(" "),I),Pe.on(`absoluteTransformChange.${this._getEventNamespace()}`,I),this._proxyDrag(Pe)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(z){let ae;z.on(`dragstart.${this._getEventNamespace()}`,we=>{ae=z.getAbsolutePosition(),!this.isDragging()&&z!==this.findOne(".back")&&this.startDrag(we,!1)}),z.on(`dragmove.${this._getEventNamespace()}`,we=>{if(!ae)return;const Pe=z.getAbsolutePosition(),I=Pe.x-ae.x,j=Pe.y-ae.y;this.nodes().forEach(J=>{if(J===z||J.isDragging())return;const de=J.getAbsolutePosition();J.setAbsolutePosition({x:de.x+I,y:de.y+j}),J.startDrag(we)}),ae=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(z=>{z.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(V),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(V,this.__getNodeRect)}__getNodeShape(z,ae=this.rotation(),we){const Pe=z.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),I=z.getAbsoluteScale(we),j=z.getAbsolutePosition(we),J=Pe.x*I.x-z.offsetX()*I.x,de=Pe.y*I.y-z.offsetY()*I.y,Re=(F.Konva.getAngle(z.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return P({x:j.x+J*Math.cos(Re)+de*Math.sin(-Re),y:j.y+de*Math.cos(Re)+J*Math.sin(Re),width:Pe.width*I.x,height:Pe.height*I.y,rotation:Re},-F.Konva.getAngle(ae),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-te,y:-te,width:0,height:0,rotation:0};const ae=[];this.nodes().map(Re=>{const ke=Re.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),tt=[{x:ke.x,y:ke.y},{x:ke.x+ke.width,y:ke.y},{x:ke.x+ke.width,y:ke.y+ke.height},{x:ke.x,y:ke.y+ke.height}],he=Re.getAbsoluteTransform();tt.forEach(function(_e){const le=he.point(_e);ae.push(le)})});const we=new b.Transform;we.rotate(-F.Konva.getAngle(this.rotation()));let Pe=1/0,I=1/0,j=-1/0,J=-1/0;ae.forEach(function(Re){const ke=we.point(Re);void 0===Pe&&(Pe=j=ke.x,I=J=ke.y),Pe=Math.min(Pe,ke.x),I=Math.min(I,ke.y),j=Math.max(j,ke.x),J=Math.max(J,ke.y)}),we.invert();const de=we.point({x:Pe,y:I});return{x:de.x,y:de.y,width:j-Pe,height:J-I,rotation:F.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),U.forEach(z=>{this._createAnchor(z)}),this._createAnchor("rotater")}_createAnchor(z){const ae=new K.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:z+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:S?10:"auto"}),we=this;ae.on("mousedown touchstart",function(Pe){we._handleMouseDown(Pe)}),ae.on("dragstart",Pe=>{ae.stopDrag(),Pe.cancelBubble=!0}),ae.on("dragend",Pe=>{Pe.cancelBubble=!0}),ae.on("mouseenter",()=>{const Pe=F.Konva.getAngle(this.rotation()),I=this.rotateAnchorCursor(),j=function B(ce,z,ae){if("rotater"===ce)return ae;z+=b.Util.degToRad(T[ce]||0);const we=(b.Util.radToDeg(z)%360+360)%360;return b.Util._inRange(we,337.5,360)||b.Util._inRange(we,0,22.5)?"ns-resize":b.Util._inRange(we,22.5,67.5)?"nesw-resize":b.Util._inRange(we,67.5,112.5)?"ew-resize":b.Util._inRange(we,112.5,157.5)?"nwse-resize":b.Util._inRange(we,157.5,202.5)?"ns-resize":b.Util._inRange(we,202.5,247.5)?"nesw-resize":b.Util._inRange(we,247.5,292.5)?"ew-resize":b.Util._inRange(we,292.5,337.5)?"nwse-resize":(b.Util.error("Transformer has unknown angle for cursor detection: "+we),"pointer")}(z,Pe,I);ae.getStage().content&&(ae.getStage().content.style.cursor=j),this._cursorChange=!0}),ae.on("mouseout",()=>{ae.getStage().content&&(ae.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(ae)}_createBack(){const z=new se.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(ae,we){const Pe=we.getParent(),I=Pe.padding();ae.beginPath(),ae.rect(-I,-I,we.width()+2*I,we.height()+2*I),ae.moveTo(we.width()/2,-I),Pe.rotateEnabled()&&Pe.rotateLineVisible()&&ae.lineTo(we.width()/2,-Pe.rotateAnchorOffset()*b.Util._sign(we.height())-I),ae.fillStrokeShape(we)},hitFunc:(ae,we)=>{if(!this.shouldOverdrawWholeArea())return;const Pe=this.padding();ae.beginPath(),ae.rect(-Pe,-Pe,we.width()+2*Pe,we.height()+2*Pe),ae.fillStrokeShape(we)}});this.add(z),this._proxyDrag(z),z.on("dragstart",ae=>{ae.cancelBubble=!0}),z.on("dragmove",ae=>{ae.cancelBubble=!0}),z.on("dragend",ae=>{ae.cancelBubble=!0}),this.on("dragmove",ae=>{this.update()})}_handleMouseDown(z){if(this._transforming)return;this._movingAnchorName=z.target.name().split(" ")[0];const ae=this._getNodeRect(),we=ae.width,Pe=ae.height,I=Math.sqrt(Math.pow(we,2)+Math.pow(Pe,2));this.sin=Math.abs(Pe/I),this.cos=Math.abs(we/I),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const j=z.target.getAbsolutePosition(),J=z.target.getStage().getPointerPosition();this._anchorDragOffset={x:J.x-j.x,y:J.y-j.y},fe++,this._fire("transformstart",{evt:z.evt,target:this.getNode()}),this._nodes.forEach(de=>{de._fire("transformstart",{evt:z.evt,target:de})})}_handleMouseMove(z){let ae,we,Pe;const I=this.findOne("."+this._movingAnchorName),j=I.getStage();j.setPointersPositions(z);const J=j.getPointerPosition();let de={x:J.x-this._anchorDragOffset.x,y:J.y-this._anchorDragOffset.y};const Re=I.getAbsolutePosition();this.anchorDragBoundFunc()&&(de=this.anchorDragBoundFunc()(Re,de,z)),I.setAbsolutePosition(de);const ke=I.getAbsolutePosition();if(Re.x===ke.x&&Re.y===ke.y)return;if("rotater"===this._movingAnchorName){const qe=this._getNodeRect();ae=I.x()-qe.width/2,we=-I.y()+qe.height/2;let ft=Math.atan2(-we,ae)+Math.PI/2;qe.height<0&&(ft-=Math.PI);const on=F.Konva.getAngle(this.rotation())+ft,pt=F.Konva.getAngle(this.rotationSnapTolerance()),xt=function ee(ce,z,ae){let we=z;for(let Pe=0;Pe<ce.length;Pe++){const I=F.Konva.getAngle(ce[Pe]),j=Math.abs(I-z)%(2*Math.PI);Math.min(j,2*Math.PI-j)<ae&&(we=I)}return we}(this.rotationSnaps(),on,pt)-qe.rotation,ln=function G(ce,z){const ae=function _(ce){return{x:ce.x+ce.width/2*Math.cos(ce.rotation)+ce.height/2*Math.sin(-ce.rotation),y:ce.y+ce.height/2*Math.cos(ce.rotation)+ce.width/2*Math.sin(ce.rotation)}}(ce);return P(ce,z,ae)}(qe,xt);return void this._fitNodesInto(ln,z)}const tt=this.shiftBehavior();let he;he="inverted"===tt?this.keepRatio()&&!z.shiftKey:"none"===tt?this.keepRatio():this.keepRatio()||z.shiftKey;var re=this.centeredScaling()||z.altKey;if("top-left"===this._movingAnchorName){if(he){var _e=re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Pe=Math.sqrt(Math.pow(_e.x-I.x(),2)+Math.pow(_e.y-I.y(),2));var le=this.findOne(".top-left").x()>_e.x?-1:1,ye=this.findOne(".top-left").y()>_e.y?-1:1;ae=Pe*this.cos*le,we=Pe*this.sin*ye,this.findOne(".top-left").x(_e.x-ae),this.findOne(".top-left").y(_e.y-we)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(I.y());else if("top-right"===this._movingAnchorName){he&&(_e=re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},Pe=Math.sqrt(Math.pow(I.x()-_e.x,2)+Math.pow(_e.y-I.y(),2)),le=this.findOne(".top-right").x()<_e.x?-1:1,ye=this.findOne(".top-right").y()>_e.y?-1:1,ae=Pe*this.cos*le,we=Pe*this.sin*ye,this.findOne(".top-right").x(_e.x+ae),this.findOne(".top-right").y(_e.y-we));var Ne=I.position();this.findOne(".top-left").y(Ne.y),this.findOne(".bottom-right").x(Ne.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(I.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(I.x()):"bottom-left"===this._movingAnchorName?(he&&(_e=re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},Pe=Math.sqrt(Math.pow(_e.x-I.x(),2)+Math.pow(I.y()-_e.y,2)),le=_e.x<I.x()?-1:1,ye=I.y()<_e.y?-1:1,ae=Pe*this.cos*le,we=Pe*this.sin*ye,I.x(_e.x-ae),I.y(_e.y+we)),Ne=I.position(),this.findOne(".top-left").x(Ne.x),this.findOne(".bottom-right").y(Ne.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(I.y()):"bottom-right"===this._movingAnchorName?he&&(_e=re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},Pe=Math.sqrt(Math.pow(I.x()-_e.x,2)+Math.pow(I.y()-_e.y,2)),le=this.findOne(".bottom-right").x()<_e.x?-1:1,ye=this.findOne(".bottom-right").y()<_e.y?-1:1,ae=Pe*this.cos*le,we=Pe*this.sin*ye,this.findOne(".bottom-right").x(_e.x+ae),this.findOne(".bottom-right").y(_e.y+we)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(re=this.centeredScaling()||z.altKey){const qe=this.findOne(".top-left"),ft=this.findOne(".bottom-right"),dt=qe.x(),on=qe.y(),pt=this.getWidth()-ft.x(),an=this.getHeight()-ft.y();ft.move({x:-dt,y:-on}),qe.move({x:pt,y:an})}const De=this.findOne(".top-left").getAbsolutePosition();ae=De.x,we=De.y;const Ze=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),wt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:ae,y:we,width:Ze,height:wt,rotation:F.Konva.getAngle(this.rotation())},z)}_handleMouseUp(z){this._removeEvents(z)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(z){var ae;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const we=this.getNode();fe--,this._fire("transformend",{evt:z,target:we}),null===(ae=this.getLayer())||void 0===ae||ae.batchDraw(),we&&this._nodes.forEach(Pe=>{var I;Pe._fire("transformend",{evt:z,target:Pe}),null===(I=Pe.getLayer())||void 0===I||I.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(z,ae){const we=this._getNodeRect();if(b.Util._inRange(z.width,2*-this.padding()-1,1))return void this.update();if(b.Util._inRange(z.height,2*-this.padding()-1,1))return void this.update();const I=new b.Transform;if(I.rotate(F.Konva.getAngle(this.rotation())),this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("left")>=0){const he=I.point({x:2*-this.padding(),y:0});z.x+=he.x,z.y+=he.y,z.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=he.x,this._anchorDragOffset.y-=he.y}else if(this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("right")>=0){const he=I.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=he.x,this._anchorDragOffset.y-=he.y,z.width+=2*this.padding()}if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("top")>=0){const he=I.point({x:0,y:2*-this.padding()});z.x+=he.x,z.y+=he.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=he.x,this._anchorDragOffset.y-=he.y,z.height+=2*this.padding()}else if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const he=I.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=he.x,this._anchorDragOffset.y-=he.y,z.height+=2*this.padding()}if(this.boundBoxFunc()){const he=this.boundBoxFunc()(we,z);he?z=he:b.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const j=1e7,J=new b.Transform;J.translate(we.x,we.y),J.rotate(we.rotation),J.scale(we.width/j,we.height/j);const de=new b.Transform,Re=z.width/j,ke=z.height/j;!1===this.flipEnabled()?(de.translate(z.x,z.y),de.rotate(z.rotation),de.translate(z.width<0?z.width:0,z.height<0?z.height:0),de.scale(Math.abs(Re),Math.abs(ke))):(de.translate(z.x,z.y),de.rotate(z.rotation),de.scale(Re,ke));const tt=de.multiply(J.invert());this._nodes.forEach(he=>{var _e;const le=he.getParent().getAbsoluteTransform(),ye=he.getTransform().copy();ye.translate(he.offsetX(),he.offsetY());const Ne=new b.Transform;Ne.multiply(le.copy().invert()).multiply(tt).multiply(le).multiply(ye);const re=Ne.decompose();he.setAttrs(re),null===(_e=he.getLayer())||void 0===_e||_e.batchDraw()}),this.rotation(b.Util._getRotation(z.rotation)),this._nodes.forEach(he=>{this._fire("transform",{evt:ae,target:he}),he._fire("transform",{evt:ae,target:he})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(z,ae){this.findOne(z).setAttrs(ae)}update(){var z;const ae=this._getNodeRect();this.rotation(b.Util._getRotation(ae.rotation));const we=ae.width,Pe=ae.height,I=this.enabledAnchors(),j=this.resizeEnabled(),J=this.padding(),de=this.anchorSize(),Re=this.find("._anchor");Re.forEach(tt=>{tt.setAttrs({width:de,height:de,offsetX:de/2,offsetY:de/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:de/2+J,offsetY:de/2+J,visible:j&&I.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:we/2,y:0,offsetY:de/2+J,visible:j&&I.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:we,y:0,offsetX:de/2-J,offsetY:de/2+J,visible:j&&I.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Pe/2,offsetX:de/2+J,visible:j&&I.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:we,y:Pe/2,offsetX:de/2-J,visible:j&&I.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Pe,offsetX:de/2+J,offsetY:de/2-J,visible:j&&I.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:we/2,y:Pe,offsetY:de/2-J,visible:j&&I.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:we,y:Pe,offsetX:de/2-J,offsetY:de/2-J,visible:j&&I.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:we/2,y:-this.rotateAnchorOffset()*b.Util._sign(Pe)-J,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:we,height:Pe,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const ke=this.anchorStyleFunc();ke&&Re.forEach(tt=>{ke(tt)}),null===(z=this.getLayer())||void 0===z||z.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const z=this.findOne("."+this._movingAnchorName);z&&z.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),M.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return E.Node.prototype.toObject.call(this)}clone(z){return E.Node.prototype.clone.call(this,z)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Y.Transformer=X,X.isTransforming=()=>fe>0,X.prototype.className="Transformer",(0,L._registerNode)(X),W.Factory.addGetterSetter(X,"enabledAnchors",U,function ve(ce){return ce instanceof Array||b.Util.warn("enabledAnchors value should be an array"),ce instanceof Array&&ce.forEach(function(z){-1===U.indexOf(z)&&b.Util.warn("Unknown anchor name: "+z+". Available names are: "+U.join(", "))}),ce||[]}),W.Factory.addGetterSetter(X,"flipEnabled",!0,(0,x.getBooleanValidator)()),W.Factory.addGetterSetter(X,"resizeEnabled",!0),W.Factory.addGetterSetter(X,"anchorSize",10,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"rotateEnabled",!0),W.Factory.addGetterSetter(X,"rotateLineVisible",!0),W.Factory.addGetterSetter(X,"rotationSnaps",[]),W.Factory.addGetterSetter(X,"rotateAnchorOffset",50,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"rotateAnchorCursor","crosshair"),W.Factory.addGetterSetter(X,"rotationSnapTolerance",5,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"borderEnabled",!0),W.Factory.addGetterSetter(X,"anchorStroke","rgb(0, 161, 255)"),W.Factory.addGetterSetter(X,"anchorStrokeWidth",1,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"anchorFill","white"),W.Factory.addGetterSetter(X,"anchorCornerRadius",0,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"borderStroke","rgb(0, 161, 255)"),W.Factory.addGetterSetter(X,"borderStrokeWidth",1,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"borderDash"),W.Factory.addGetterSetter(X,"keepRatio",!0),W.Factory.addGetterSetter(X,"shiftBehavior","default"),W.Factory.addGetterSetter(X,"centeredScaling",!1),W.Factory.addGetterSetter(X,"ignoreStroke",!1),W.Factory.addGetterSetter(X,"padding",0,(0,x.getNumberValidator)()),W.Factory.addGetterSetter(X,"nodes"),W.Factory.addGetterSetter(X,"node"),W.Factory.addGetterSetter(X,"boundBoxFunc"),W.Factory.addGetterSetter(X,"anchorDragBoundFunc"),W.Factory.addGetterSetter(X,"anchorStyleFunc"),W.Factory.addGetterSetter(X,"shouldOverdrawWholeArea",!1),W.Factory.addGetterSetter(X,"useSingleNodeRotation",!0),W.Factory.backCompat(X,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},668:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Wedge=void 0;const b=q(7271),W=q(2040),E=q(1354),se=q(662),K=q(1354);class M extends W.Shape{_sceneFunc(x){x.beginPath(),x.arc(0,0,this.radius(),0,E.Konva.getAngle(this.angle()),this.clockwise()),x.lineTo(0,0),x.closePath(),x.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(x){this.radius(x/2)}setHeight(x){this.radius(x/2)}}Y.Wedge=M,M.prototype.className="Wedge",M.prototype._centroid=!0,M.prototype._attrsAffectingSize=["radius"],(0,K._registerNode)(M),b.Factory.addGetterSetter(M,"radius",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"angle",0,(0,se.getNumberValidator)()),b.Factory.addGetterSetter(M,"clockwise",!1),b.Factory.backCompat(M,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},624:(It,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0});var q=function(){function E(se,K){for(var M=0;M<K.length;M++){var F=K[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(se,F.key,F)}}return function(se,K,M){return K&&E(se.prototype,K),M&&E(se,M),se}}(),W=function(){function E(){!function b(E,se){if(!(E instanceof se))throw new TypeError("Cannot call a class as a function")}(this,E)}return q(E,null,[{key:"playerWon",value:function(K,M){return K[0]===M&&K[1]===M&&K[2]===M||K[3]===M&&K[4]===M&&K[5]===M||K[6]===M&&K[7]===M&&K[8]===M||K[0]===M&&K[3]===M&&K[6]===M||K[1]===M&&K[4]===M&&K[7]===M||K[2]===M&&K[5]===M&&K[8]===M||K[0]===M&&K[4]===M&&K[8]===M||K[2]===M&&K[4]===M&&K[6]===M}},{key:"isGameFinished",value:function(K,M){if(!this.isMovesLeft(K,M))return!0;var x=M.aiPlayer;return!(!this.playerWon(K,M.huPlayer)&&!this.playerWon(K,x))}},{key:"getEmptyIndexies",value:function(K,M){var F=M.huPlayer,x=M.aiPlayer;return K.filter(function(L){return L!==F&&L!==x})}},{key:"isMovesLeft",value:function(K,M){return 0!==this.getEmptyIndexies(K,M).length}}]),E}();Y.default=W},2599:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function K(M,F,x){var L=F.huPlayer,C=F.aiPlayer;function V(U,te){var _=function D(){return W.default.playerWon(M,L)?-10:W.default.playerWon(M,C)?10:0}();if(10===Math.abs(_))return _;if(!W.default.isMovesLeft(M,F))return 0;var P=se,G=W.default.getEmptyIndexies(M,F);return te?(P*=-1,G.forEach(function(ee){M[ee]=C;var fe=V(U+1,!1);P=Math.max(P,fe),M[ee]=ee}),P):(G.forEach(function(ee){M[ee]=L;var fe=V(U+1,!0);P=Math.min(P,fe),M[ee]=ee}),P)}function k(){var U=-1*se,te=void 0;return W.default.getEmptyIndexies(M,F).forEach(function(P){M[P]=C;var G=V(0,!1);M[P]=P,G>U&&(te=P,U=G)}),te}function T(){var U=W.default.getEmptyIndexies(M,F);return U[Math.floor(Math.random()*U.length)]}var B=-1;switch(x){case"Easy":B=T();break;case"Normal":B=function S(){var U=k(),te=T();return Math.random()<.75?U:te}();break;case"Hard":B=k();break;default:throw Error("Difficulty not valid!")}return B};var W=function E(M){return M&&M.__esModule?M:{default:M}}(q(624)),se=99999999},6359:(It,Y,q)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function M(F,x,L){var S,B,C={winner:null,board:null};if(W.default.isGameFinished(F,x)){var V=(S=W.default.playerWon(F,x.huPlayer),B=W.default.playerWon(F,x.aiPlayer),S?"huPlayer":B?"aiPlayer":"draw");C.board=F,C.winner=V}else{var k=function D(){var S=(0,se.default)(F,x,L),B=Array.from(F);return void 0!==S&&(B[S]=x.aiPlayer),B}();if(W.default.isGameFinished(k,x)){var T=W.default.playerWon(k,x.aiPlayer)?"aiPlayer":"draw";C.board=k,C.winner=T}else C.board=k}return C};var W=K(q(624)),se=K(q(2599));function K(F){return F&&F.__esModule?F:{default:F}}},2291:(It,Y,q)=>{var E=M(q(2599)),K=M(q(6359));function M(x){return x&&x.__esModule?x:{default:x}}Y.A={ComputerMove:E.default,GameStep:K.default}},9574:(It,Y,q)=>{q.d(Y,{A:()=>S});var b=q(1401),W=q(8779),E=q(2979),se=q(5398);class K{constructor(U,te){this._delegate=U,this.firebase=te,(0,E._addComponent)(U,new W.uA("app-compat",()=>this,"PUBLIC")),this.container=U.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this._delegate.automaticDataCollectionEnabled=U}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(U=>{this._delegate.checkDestroyed(),U()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(U,te=E._DEFAULT_ENTRY_NAME){var _;this._delegate.checkDestroyed();const P=this._delegate.container.getProvider(U);return!P.isInitialized()&&"EXPLICIT"===(null===(_=P.getComponent())||void 0===_?void 0:_.instantiationMode)&&P.initialize(),P.getImmediate({identifier:te})}_removeServiceInstance(U,te=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(U).clearInstance(te)}_addComponent(U){(0,E._addComponent)(this._delegate,U)}_addOrOverwriteComponent(U){(0,E._addOrOverwriteComponent)(this._delegate,U)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const F=new b.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),C=function L(){const B=function x(B){const U={},te={__esModule:!0,initializeApp:function G(ve,ce={}){const z=E.initializeApp(ve,ce);if((0,b.gR)(U,z.name))return U[z.name];const ae=new B(z,te);return U[z.name]=ae,ae},app:P,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function fe(ve){const ce=ve.name,z=ce.replace("-compat","");if(E._registerComponent(ve)&&"PUBLIC"===ve.type){const ae=(we=P())=>{if("function"!=typeof we[z])throw F.create("invalid-app-argument",{appName:ce});return we[z]()};void 0!==ve.serviceProps&&(0,b.zw)(ae,ve.serviceProps),te[z]=ae,B.prototype[z]=function(...we){return this._getService.bind(this,ce).apply(this,ve.multipleInstances?we:[])}}return"PUBLIC"===ve.type?te[z]:null},removeApp:function _(ve){delete U[ve]},useAsService:function X(ve,ce){return"serverAuth"===ce?null:ce},modularAPIs:E}};function P(ve){if(!(0,b.gR)(U,ve=ve||E._DEFAULT_ENTRY_NAME))throw F.create("no-app",{appName:ve});return U[ve]}return te.default=te,Object.defineProperty(te,"apps",{get:function ee(){return Object.keys(U).map(ve=>U[ve])}}),P.App=B,te}(K);return B.INTERNAL=Object.assign(Object.assign({},B.INTERNAL),{createFirebaseNamespace:L,extendNamespace:function U(te){(0,b.zw)(B,te)},createSubscribe:b.tD,ErrorFactory:b.FA,deepExtend:b.zw}),B}(),D=new se.Vy("@firebase/app-compat");try{const B=(0,b.mS)();if(void 0!==B.firebase){D.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const U=B.firebase.SDK_VERSION;U&&U.indexOf("LITE")>=0&&D.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const S=C;!function T(B){(0,E.registerVersion)("@firebase/app-compat","0.2.43",B)}()},2979:(It,Y,q)=>{q.r(Y),q.d(Y,{FirebaseError:()=>se.g,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>fi,_addComponent:()=>wr,_addOrOverwriteComponent:()=>er,_apps:()=>Wn,_clearComponents:()=>Kr,_components:()=>An,_getProvider:()=>Is,_isFirebaseApp:()=>pn,_isFirebaseServerApp:()=>Mi,_registerComponent:()=>ai,_removeServiceInstance:()=>Ri,_serverApps:()=>oi,deleteApp:()=>Mo,getApp:()=>gn,getApps:()=>Xa,initializeApp:()=>Do,initializeServerApp:()=>Ro,onLog:()=>R,registerVersion:()=>Q,setLogLevel:()=>H});var b=q(467),W=q(8779),E=q(5398),se=q(1401);const K=(We,Ve)=>Ve.some(nt=>We instanceof nt);let M,F;const C=new WeakMap,D=new WeakMap,V=new WeakMap,k=new WeakMap,T=new WeakMap;let U={get(We,Ve,nt){if(We instanceof IDBTransaction){if("done"===Ve)return D.get(We);if("objectStoreNames"===Ve)return We.objectStoreNames||V.get(We);if("store"===Ve)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return G(We[Ve])},set:(We,Ve,nt)=>(We[Ve]=nt,!0),has:(We,Ve)=>We instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in We};function P(We){return"function"==typeof We?function _(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Ve){return We.apply(ee(this),Ve),G(C.get(this))}:function(...Ve){return G(We.apply(ee(this),Ve))}:function(Ve,...nt){const gt=We.call(ee(this),Ve,...nt);return V.set(gt,Ve.sort?Ve.sort():[Ve]),G(gt)}}(We):(We instanceof IDBTransaction&&function B(We){if(D.has(We))return;const Ve=new Promise((nt,gt)=>{const cn=()=>{We.removeEventListener("complete",St),We.removeEventListener("error",En),We.removeEventListener("abort",En)},St=()=>{nt(),cn()},En=()=>{gt(We.error||new DOMException("AbortError","AbortError")),cn()};We.addEventListener("complete",St),We.addEventListener("error",En),We.addEventListener("abort",En)});D.set(We,Ve)}(We),K(We,function x(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,U):We)}function G(We){if(We instanceof IDBRequest)return function S(We){const Ve=new Promise((nt,gt)=>{const cn=()=>{We.removeEventListener("success",St),We.removeEventListener("error",En)},St=()=>{nt(G(We.result)),cn()},En=()=>{gt(We.error),cn()};We.addEventListener("success",St),We.addEventListener("error",En)});return Ve.then(nt=>{nt instanceof IDBCursor&&C.set(nt,We)}).catch(()=>{}),T.set(Ve,We),Ve}(We);if(k.has(We))return k.get(We);const Ve=P(We);return Ve!==We&&(k.set(We,Ve),T.set(Ve,We)),Ve}const ee=We=>T.get(We),ve=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],z=new Map;function ae(We,Ve){if(!(We instanceof IDBDatabase)||Ve in We||"string"!=typeof Ve)return;if(z.get(Ve))return z.get(Ve);const nt=Ve.replace(/FromIndex$/,""),gt=Ve!==nt,cn=ce.includes(nt);if(!(nt in(gt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ve.includes(nt))return;const St=function(){var En=(0,b.A)(function*(ki,...Yt){const Mn=this.transaction(ki,cn?"readwrite":"readonly");let pi=Mn.store;return gt&&(pi=pi.index(Yt.shift())),(yield Promise.all([pi[nt](...Yt),cn&&Mn.done]))[0]});return function(Yt){return En.apply(this,arguments)}}();return z.set(Ve,St),St}!function te(We){U=We(U)}(We=>({...We,get:(Ve,nt,gt)=>ae(Ve,nt)||We.get(Ve,nt,gt),has:(Ve,nt)=>!!ae(Ve,nt)||We.has(Ve,nt)}));class we{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function Pe(We){const Ve=We.getComponent();return"VERSION"===Ve?.type}(nt)){const gt=nt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(nt=>nt).join(" ")}}const I="@firebase/app",j="0.10.13",J=new E.Vy("@firebase/app"),de="@firebase/app-compat",Re="@firebase/analytics-compat",ke="@firebase/analytics",tt="@firebase/app-check-compat",he="@firebase/app-check",_e="@firebase/auth",le="@firebase/auth-compat",ye="@firebase/database",Ne="@firebase/data-connect",re="@firebase/database-compat",De="@firebase/functions",Ze="@firebase/functions-compat",wt="@firebase/installations",qe="@firebase/installations-compat",ft="@firebase/messaging",dt="@firebase/messaging-compat",on="@firebase/performance",pt="@firebase/performance-compat",an="@firebase/remote-config",xt="@firebase/remote-config-compat",ln="@firebase/storage",jn="@firebase/storage-compat",si="@firebase/firestore",Vn="@firebase/vertexai-preview",yr="@firebase/firestore-compat",Hn="firebase",fi="[DEFAULT]",br={[I]:"fire-core",[de]:"fire-core-compat",[ke]:"fire-analytics",[Re]:"fire-analytics-compat",[he]:"fire-app-check",[tt]:"fire-app-check-compat",[_e]:"fire-auth",[le]:"fire-auth-compat",[ye]:"fire-rtdb",[Ne]:"fire-data-connect",[re]:"fire-rtdb-compat",[De]:"fire-fn",[Ze]:"fire-fn-compat",[wt]:"fire-iid",[qe]:"fire-iid-compat",[ft]:"fire-fcm",[dt]:"fire-fcm-compat",[on]:"fire-perf",[pt]:"fire-perf-compat",[an]:"fire-rc",[xt]:"fire-rc-compat",[ln]:"fire-gcs",[jn]:"fire-gcs-compat",[si]:"fire-fst",[yr]:"fire-fst-compat",[Vn]:"fire-vertex","fire-js":"fire-js",[Hn]:"fire-js-all"},Wn=new Map,oi=new Map,An=new Map;function wr(We,Ve){try{We.container.addComponent(Ve)}catch(nt){J.debug(`Component ${Ve.name} failed to register with FirebaseApp ${We.name}`,nt)}}function er(We,Ve){We.container.addOrOverwriteComponent(Ve)}function ai(We){const Ve=We.name;if(An.has(Ve))return J.debug(`There were multiple attempts to register component ${Ve}.`),!1;An.set(Ve,We);for(const nt of Wn.values())wr(nt,We);for(const nt of oi.values())wr(nt,We);return!0}function Is(We,Ve){const nt=We.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),We.container.getProvider(Ve)}function Ri(We,Ve,nt=fi){Is(We,Ve).clearInstance(nt)}function pn(We){return void 0!==We.options}function Mi(We){return void 0!==We.settings}function Kr(){An.clear()}const Jn=new se.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(Ve,nt,gt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new W.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}class Bs extends Yr{constructor(Ve,nt,gt,cn){const St=void 0!==nt.automaticDataCollectionEnabled&&nt.automaticDataCollectionEnabled,En={name:gt,automaticDataCollectionEnabled:St};super(void 0!==Ve.apiKey?Ve:Ve.options,En,cn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:St},nt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,nt.releaseOnDeref=void 0,Q(I,j,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ve){this.isDeleted||(this._refCount++,void 0!==Ve&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Ve,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Mo(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jn.create("server-app-deleted")}}const Br="10.14.1";function Do(We,Ve={}){let nt=We;"object"!=typeof Ve&&(Ve={name:Ve});const gt=Object.assign({name:fi,automaticDataCollectionEnabled:!1},Ve),cn=gt.name;if("string"!=typeof cn||!cn)throw Jn.create("bad-app-name",{appName:String(cn)});if(nt||(nt=(0,se.T9)()),!nt)throw Jn.create("no-options");const St=Wn.get(cn);if(St){if((0,se.bD)(nt,St.options)&&(0,se.bD)(gt,St.config))return St;throw Jn.create("duplicate-app",{appName:cn})}const En=new W.h1(cn);for(const Yt of An.values())En.addComponent(Yt);const ki=new Yr(nt,gt,En);return Wn.set(cn,ki),ki}function Ro(We,Ve){if((0,se.Bd)()&&!(0,se.p7)())throw Jn.create("invalid-server-app-environment");let nt;void 0===Ve.automaticDataCollectionEnabled&&(Ve.automaticDataCollectionEnabled=!1),nt=pn(We)?We.options:We;const gt=Object.assign(Object.assign({},Ve),nt);if(void 0!==gt.releaseOnDeref&&delete gt.releaseOnDeref,void 0!==Ve.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Jn.create("finalization-registry-not-supported",{});const St=""+(Mn=JSON.stringify(gt),[...Mn].reduce((pi,Xo)=>Math.imul(31,pi)+Xo.charCodeAt(0)|0,0)),En=oi.get(St);var Mn;if(En)return En.incRefCount(Ve.releaseOnDeref),En;const ki=new W.h1(St);for(const Mn of An.values())ki.addComponent(Mn);const Yt=new Bs(nt,Ve,St,ki);return oi.set(St,Yt),Yt}function gn(We=fi){const Ve=Wn.get(We);if(!Ve&&We===fi&&(0,se.T9)())return Do();if(!Ve)throw Jn.create("no-app",{appName:We});return Ve}function Xa(){return Array.from(Wn.values())}function Mo(We){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,b.A)(function*(We){let Ve=!1;const nt=We.name;Wn.has(nt)?(Ve=!0,Wn.delete(nt)):oi.has(nt)&&We.decRefCount()<=0&&(oi.delete(nt),Ve=!0),Ve&&(yield Promise.all(We.container.getProviders().map(gt=>gt.delete())),We.isDeleted=!0)})).apply(this,arguments)}function Q(We,Ve,nt){var gt;let cn=null!==(gt=br[We])&&void 0!==gt?gt:We;nt&&(cn+=`-${nt}`);const St=cn.match(/\s|\//),En=Ve.match(/\s|\//);if(St||En){const ki=[`Unable to register library "${cn}" with version "${Ve}":`];return St&&ki.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),St&&En&&ki.push("and"),En&&ki.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void J.warn(ki.join(" "))}ai(new W.uA(`${cn}-version`,()=>({library:cn,version:Ve}),"VERSION"))}function R(We,Ve){if(null!==We&&"function"!=typeof We)throw Jn.create("invalid-log-argument");(0,E.Ey)(We,Ve)}function H(We){(0,E.He)(We)}const me="firebase-heartbeat-database",Ee=1,Ke="firebase-heartbeat-store";let ct=null;function jt(){return ct||(ct=function fe(We,Ve,{blocked:nt,upgrade:gt,blocking:cn,terminated:St}={}){const En=indexedDB.open(We,Ve),ki=G(En);return gt&&En.addEventListener("upgradeneeded",Yt=>{gt(G(En.result),Yt.oldVersion,Yt.newVersion,G(En.transaction),Yt)}),nt&&En.addEventListener("blocked",Yt=>nt(Yt.oldVersion,Yt.newVersion,Yt)),ki.then(Yt=>{St&&Yt.addEventListener("close",()=>St()),cn&&Yt.addEventListener("versionchange",Mn=>cn(Mn.oldVersion,Mn.newVersion,Mn))}).catch(()=>{}),ki}(me,Ee,{upgrade:(We,Ve)=>{if(0===Ve)try{We.createObjectStore(Ke)}catch(nt){console.warn(nt)}}}).catch(We=>{throw Jn.create("idb-open",{originalErrorMessage:We.message})})),ct}function Rn(){return(Rn=(0,b.A)(function*(We){try{const nt=(yield jt()).transaction(Ke),gt=yield nt.objectStore(Ke).get(ei(We));return yield nt.done,gt}catch(Ve){if(Ve instanceof se.g)J.warn(Ve.message);else{const nt=Jn.create("idb-get",{originalErrorMessage:Ve?.message});J.warn(nt.message)}}})).apply(this,arguments)}function mi(We,Ve){return Se.apply(this,arguments)}function Se(){return(Se=(0,b.A)(function*(We,Ve){try{const gt=(yield jt()).transaction(Ke,"readwrite");yield gt.objectStore(Ke).put(Ve,ei(We)),yield gt.done}catch(nt){if(nt instanceof se.g)J.warn(nt.message);else{const gt=Jn.create("idb-set",{originalErrorMessage:nt?.message});J.warn(gt.message)}}})).apply(this,arguments)}function ei(We){return`${We.name}!${We.options.appId}`}class lh{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new ss(nt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Ve=this;return(0,b.A)(function*(){var nt,gt;try{const St=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),En=ch();return null==(null===(nt=Ve._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise,null==(null===(gt=Ve._heartbeatsCache)||void 0===gt?void 0:gt.heartbeats))||Ve._heartbeatsCache.lastSentHeartbeatDate===En||Ve._heartbeatsCache.heartbeats.some(ki=>ki.date===En)?void 0:(Ve._heartbeatsCache.heartbeats.push({date:En,agent:St}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(ki=>{const Yt=new Date(ki.date).valueOf();return Date.now()-Yt<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache))}catch(cn){J.warn(cn)}})()}getHeartbeatsHeader(){var Ve=this;return(0,b.A)(function*(){var nt;try{if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null==(null===(nt=Ve._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)||0===Ve._heartbeatsCache.heartbeats.length)return"";const gt=ch(),{heartbeatsToSend:cn,unsentEntries:St}=function cd(We,Ve=1024){const nt=[];let gt=We.slice();for(const cn of We){const St=nt.find(En=>En.agent===cn.agent);if(St){if(St.dates.push(cn.date),Qo(nt)>Ve){St.dates.pop();break}}else if(nt.push({agent:cn.agent,dates:[cn.date]}),Qo(nt)>Ve){nt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:gt}}(Ve._heartbeatsCache.heartbeats),En=(0,se.Uj)(JSON.stringify({version:2,heartbeats:cn}));return Ve._heartbeatsCache.lastSentHeartbeatDate=gt,St.length>0?(Ve._heartbeatsCache.heartbeats=St,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),En}catch(gt){return J.warn(gt),""}})()}}function ch(){return(new Date).toISOString().substring(0,10)}class ss{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,se.zW)()&&(0,se.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,b.A)(function*(){if(yield Ve._canUseIndexedDBPromise){const gt=yield function st(We){return Rn.apply(this,arguments)}(Ve.app);return gt?.heartbeats?gt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ve){var nt=this;return(0,b.A)(function*(){var gt;if(yield nt._canUseIndexedDBPromise){const St=yield nt.read();return mi(nt.app,{lastSentHeartbeatDate:null!==(gt=Ve.lastSentHeartbeatDate)&&void 0!==gt?gt:St.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var nt=this;return(0,b.A)(function*(){var gt;if(yield nt._canUseIndexedDBPromise){const St=yield nt.read();return mi(nt.app,{lastSentHeartbeatDate:null!==(gt=Ve.lastSentHeartbeatDate)&&void 0!==gt?gt:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...Ve.heartbeats]})}})()}}function Qo(We){return(0,se.Uj)(JSON.stringify({version:2,heartbeats:We})).length}!function ya(We){ai(new W.uA("platform-logger",Ve=>new we(Ve),"PRIVATE")),ai(new W.uA("heartbeat",Ve=>new lh(Ve),"PRIVATE")),Q(I,j,We),Q(I,j,"esm2017"),Q("fire-js","")}("")},8779:(It,Y,q)=>{q.d(Y,{h1:()=>x,uA:()=>E});var b=q(467),W=q(1401);class E{constructor(C,D,V){this.name=C,this.instanceFactory=D,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const se="[DEFAULT]";class K{constructor(C,D){this.name=C,this.container=D,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const D=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(D)){const V=new W.cY;if(this.instancesDeferred.set(D,V),this.isInitialized(D)||this.shouldAutoInitialize())try{const k=this.getOrInitializeService({instanceIdentifier:D});k&&V.resolve(k)}catch{}}return this.instancesDeferred.get(D).promise}getImmediate(C){var D;const V=this.normalizeInstanceIdentifier(C?.identifier),k=null!==(D=C?.optional)&&void 0!==D&&D;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(T){if(k)return null;throw T}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function F(L){return"EAGER"===L.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[D,V]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(D);try{const T=this.getOrInitializeService({instanceIdentifier:k});V.resolve(T)}catch{}}}}clearInstance(C=se){this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}delete(){var C=this;return(0,b.A)(function*(){const D=Array.from(C.instances.values());yield Promise.all([...D.filter(V=>"INTERNAL"in V).map(V=>V.INTERNAL.delete()),...D.filter(V=>"_delete"in V).map(V=>V._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(C=se){return this.instances.has(C)}getOptions(C=se){return this.instancesOptions.get(C)||{}}initialize(C={}){const{options:D={}}=C,V=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:V,options:D});for(const[T,S]of this.instancesDeferred.entries())V===this.normalizeInstanceIdentifier(T)&&S.resolve(k);return k}onInit(C,D){var V;const k=this.normalizeInstanceIdentifier(D),T=null!==(V=this.onInitCallbacks.get(k))&&void 0!==V?V:new Set;T.add(C),this.onInitCallbacks.set(k,T);const S=this.instances.get(k);return S&&C(S,k),()=>{T.delete(C)}}invokeOnInitCallbacks(C,D){const V=this.onInitCallbacks.get(D);if(V)for(const k of V)try{k(C,D)}catch{}}getOrInitializeService({instanceIdentifier:C,options:D={}}){let V=this.instances.get(C);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(L=C,L===se?void 0:L),options:D}),this.instances.set(C,V),this.instancesOptions.set(C,D),this.invokeOnInitCallbacks(V,C),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,C,V)}catch{}var L;return V||null}normalizeInstanceIdentifier(C=se){return this.component?this.component.multipleInstances?C:se:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class x{constructor(C){this.name=C,this.providers=new Map}addComponent(C){const D=this.getProvider(C.name);if(D.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);D.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.addComponent(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const D=new K(C,this);return this.providers.set(C,D),D}getProviders(){return Array.from(this.providers.values())}}},5398:(It,Y,q)=>{q.d(Y,{$b:()=>W,Ey:()=>L,He:()=>x,Vy:()=>F});const b=[];var W=function(C){return C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C}(W||{});const E={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},se=W.INFO,K={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},M=(C,D,...V)=>{if(D<C.logLevel)return;const k=(new Date).toISOString(),T=K[D];if(!T)throw new Error(`Attempted to log a message with an invalid logType (value: ${D})`);console[T](`[${k}]  ${C.name}:`,...V)};class F{constructor(D){this.name=D,this._logLevel=se,this._logHandler=M,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(D){if(!(D in W))throw new TypeError(`Invalid value "${D}" assigned to \`logLevel\``);this._logLevel=D}setLogLevel(D){this._logLevel="string"==typeof D?E[D]:D}get logHandler(){return this._logHandler}set logHandler(D){if("function"!=typeof D)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=D}get userLogHandler(){return this._userLogHandler}set userLogHandler(D){this._userLogHandler=D}debug(...D){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...D),this._logHandler(this,W.DEBUG,...D)}log(...D){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...D),this._logHandler(this,W.VERBOSE,...D)}info(...D){this._userLogHandler&&this._userLogHandler(this,W.INFO,...D),this._logHandler(this,W.INFO,...D)}warn(...D){this._userLogHandler&&this._userLogHandler(this,W.WARN,...D),this._logHandler(this,W.WARN,...D)}error(...D){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...D),this._logHandler(this,W.ERROR,...D)}}function x(C){b.forEach(D=>{D.setLogLevel(C)})}function L(C,D){for(const V of b){let k=null;D&&D.level&&(k=E[D.level]),V.userLogHandler=null===C?null:(T,S,...B)=>{const U=B.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch{return null}}).filter(te=>te).join(" ");S>=(k??T.logLevel)&&C({level:W[S].toLowerCase(),message:U,args:B,type:T.name})}}}},5046:(It,Y,q)=>{var b=q(467),W=q(9574),E=q(443),se=q(1401),F=(q(2979),q(5398),q(8779));function x(){return window}function D(){return D=(0,b.A)(function*(Q,R,H){var me;const{BuildInfo:Ee}=x();(0,E.au)(R.sessionId,"AuthEvent did not contain a session ID");const Ke=yield function te(Q){return _.apply(this,arguments)}(R.sessionId),ct={};return(0,E.av)()?ct.ibi=Ee.packageName:(0,E.aw)()?ct.apn=Ee.packageName:(0,E.ax)(Q,"operation-not-supported-in-this-environment"),Ee.displayName&&(ct.appDisplayName=Ee.displayName),ct.sessionId=Ke,(0,E.ay)(Q,H,R.type,void 0,null!==(me=R.eventId)&&void 0!==me?me:void 0,ct)}),D.apply(this,arguments)}function k(){return(k=(0,b.A)(function*(Q){const{BuildInfo:R}=x(),H={};(0,E.av)()?H.iosBundleId=R.packageName:(0,E.aw)()?H.androidPackageName=R.packageName:(0,E.ax)(Q,"operation-not-supported-in-this-environment"),yield(0,E.az)(Q,H)})).apply(this,arguments)}function B(){return(B=(0,b.A)(function*(Q,R,H){const{cordova:me}=x();let Ee=()=>{};try{yield new Promise((Ke,ct)=>{let jt=null;function st(){var Se;Ke();const ei=null===(Se=me.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof ei&&ei(),"function"==typeof H?.close&&H.close()}function Rn(){jt||(jt=window.setTimeout(()=>{ct((0,E.aB)(Q,"redirect-cancelled-by-user"))},2e3))}function mi(){"visible"===document?.visibilityState&&Rn()}R.addPassiveListener(st),document.addEventListener("resume",Rn,!1),(0,E.aw)()&&document.addEventListener("visibilitychange",mi,!1),Ee=()=>{R.removePassiveListener(st),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",mi,!1),jt&&window.clearTimeout(jt)}})}finally{Ee()}})).apply(this,arguments)}function _(){return(_=(0,b.A)(function*(Q){const R=function P(Q){if((0,E.au)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const R=new ArrayBuffer(Q.length),H=new Uint8Array(R);for(let me=0;me<Q.length;me++)H[me]=Q.charCodeAt(me);return H}(Q),H=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(H)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ee extends E.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInitialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInitialized(),this.passiveListeners.forEach(H=>H(R)),super.onEvent(R)}initialized(){var R=this;return(0,b.A)(function*(){yield R.initPromise})()}}function ve(Q){return ce.apply(this,arguments)}function ce(){return(ce=(0,b.A)(function*(Q){const R=yield we()._get(Pe(Q));return R&&(yield we()._remove(Pe(Q))),R})).apply(this,arguments)}function ae(){const Q=[];for(let H=0;H<20;H++){const me=Math.floor(62*Math.random());Q.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(me))}return Q.join("")}function we(){return(0,E.aE)(E.b)}function Pe(Q){return(0,E.aF)("authEvent",Q.config.apiKey,Q.name)}function J(Q){if(!Q?.includes("?"))return{};const[R,...H]=Q.split("?");return(0,se.I9)(H.join("?"))}const ke=class Re{constructor(){this._redirectPersistence=E.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E.aG,this._overrideRedirectResult=E.aH}_initialize(R){var H=this;return(0,b.A)(function*(){const me=R._key();let Ee=H.eventManagers.get(me);return Ee||(Ee=new ee(R),H.eventManagers.set(me,Ee),H.attachCallbackListeners(R,Ee)),Ee})()}_openPopup(R){(0,E.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,H,me,Ee){var Ke=this;return(0,b.A)(function*(){!function U(Q){var R,H,me,Ee,Ke,ct,jt,st,Rn,mi;const Se=x();(0,E.aC)("function"==typeof(null===(R=Se?.universalLinks)||void 0===R?void 0:R.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,E.aC)(typeof(null===(H=Se?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,E.aC)("function"==typeof(null===(Ke=null===(Ee=null===(me=Se?.cordova)||void 0===me?void 0:me.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Ke?void 0:Ke.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aC)("function"==typeof(null===(st=null===(jt=null===(ct=Se?.cordova)||void 0===ct?void 0:ct.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===st?void 0:st.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aC)("function"==typeof(null===(mi=null===(Rn=Se?.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===mi?void 0:mi.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ct=yield Ke._initialize(R);yield ct.initialized(),ct.resetRedirect(),(0,E.aI)(),yield Ke._originValidation(R);const jt=function fe(Q,R,H=null){return{type:R,eventId:H,urlResponse:null,sessionId:ae(),postBody:null,tenantId:Q.tenantId,error:(0,E.aB)(Q,"no-auth-event")}}(R,me,Ee);yield function X(Q,R){return we()._set(Pe(Q),R)}(R,jt);const st=yield function C(Q,R,H){return D.apply(this,arguments)}(R,jt,H),Rn=yield function T(Q){const{cordova:R}=x();return new Promise(H=>{R.plugins.browsertab.isAvailable(me=>{let Ee=null;me?R.plugins.browsertab.openUrl(Q):Ee=R.InAppBrowser.open(Q,(0,E.aA)()?"_blank":"_system","location=yes"),H(Ee)})})}(st);return function S(Q,R,H){return B.apply(this,arguments)}(R,ct,Rn)})()}_isIframeWebStorageSupported(R,H){throw new Error("Method not implemented.")}_originValidation(R){const H=R._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function V(Q){return k.apply(this,arguments)}(R)),this.originValidationPromises[H]}attachCallbackListeners(R,H){const{universalLinks:me,handleOpenURL:Ee,BuildInfo:Ke}=x(),ct=setTimeout((0,b.A)(function*(){yield ve(R),H.onEvent(tt())}),500),jt=function(){var mi=(0,b.A)(function*(Se){clearTimeout(ct);const ei=yield ve(R);let Qr=null;ei&&Se?.url&&(Qr=function z(Q,R){var H,me;const Ee=function j(Q){const R=J(Q),H=R.link?decodeURIComponent(R.link):void 0,me=J(H).link,Ee=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return J(Ee).link||Ee||me||H||Q}(R);if(Ee.includes("/__/auth/callback")){const Ke=J(Ee),ct=Ke.firebaseError?function I(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(Ke.firebaseError)):null,jt=null===(me=null===(H=ct?.code)||void 0===H?void 0:H.split("auth/"))||void 0===me?void 0:me[1],st=jt?(0,E.aB)(jt):null;return st?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:st,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:Ee,postBody:null}}return null}(ei,Se.url)),H.onEvent(Qr||tt())});return function(ei){return mi.apply(this,arguments)}}();typeof me<"u"&&"function"==typeof me.subscribe&&me.subscribe(null,jt);const st=Ee,Rn=`${Ke.packageName.toLowerCase()}://`;x().handleOpenURL=function(){var mi=(0,b.A)(function*(Se){if(Se.toLowerCase().startsWith(Rn)&&jt({url:Se}),"function"==typeof st)try{st(Se)}catch(ei){console.error(ei)}});return function(Se){return mi.apply(this,arguments)}}()}};function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,E.aB)("no-auth-event")}}function Ne(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function De(Q=(0,se.ZQ)()){return!("file:"!==Ne()&&"ionic:"!==Ne()&&"capacitor:"!==Ne()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function dt(){try{const Q=self.localStorage,R=E.aN();if(Q)return Q.setItem(R,"1"),Q.removeItem(R),!function ft(Q=(0,se.ZQ)()){return function wt(){return(0,se.lT)()&&11===document?.documentMode}()||function qe(Q=(0,se.ZQ)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,se.zW)()}catch{return on()&&(0,se.zW)()}return!1}function on(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pt(){return(function re(){return"http:"===Ne()||"https:"===Ne()}()||(0,se.sr)()||De())&&!function Ze(){return(0,se.lV)()||(0,se.Ll)()}()&&dt()&&!on()}function an(){return De()&&typeof document<"u"}function ln(){return(ln=(0,b.A)(function*(){return!!an()&&new Promise(Q=>{const R=setTimeout(()=>{Q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),Q(!0)})})})).apply(this,arguments)}const si={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=E.aC,yr="persistence";function hi(Q){return fi.apply(this,arguments)}function fi(){return(fi=(0,b.A)(function*(Q){yield Q._initializationPromise;const R=Wn(),H=E.aF(yr,Q.config.apiKey,Q.name);R&&R.setItem(H,Q._getPersistence())})).apply(this,arguments)}function Wn(){var Q;try{return(null===(Q=function jn(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const oi=E.aC;class An{constructor(){this.browserResolver=E.aE(E.k),this.cordovaResolver=E.aE(ke),this.underlyingResolver=null,this._redirectPersistence=E.a,this._completeRedirectFn=E.aG,this._overrideRedirectResult=E.aH}_initialize(R){var H=this;return(0,b.A)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,H,me,Ee){var Ke=this;return(0,b.A)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(R,H,me,Ee)})()}_openRedirect(R,H,me,Ee){var Ke=this;return(0,b.A)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(R,H,me,Ee)})()}_isIframeWebStorageSupported(R,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,H)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return an()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,b.A)(function*(){if(R.underlyingResolver)return;const H=yield function xt(){return ln.apply(this,arguments)}();R.underlyingResolver=H?R.cordovaResolver:R.browserResolver})()}}function wr(Q){return Q.unwrap()}function ai(Q){return Ri(Q)}function Ri(Q){const{_tokenResponse:R}=Q instanceof se.g?Q.customData:Q;if(!R)return null;if(!(Q instanceof se.g)&&"temporaryProof"in R&&"phoneNumber"in R)return E.P.credentialFromResult(Q);const H=R.providerId;if(!H||H===E.p.PASSWORD)return null;let me;switch(H){case E.p.GOOGLE:me=E.X;break;case E.p.FACEBOOK:me=E.W;break;case E.p.GITHUB:me=E.Y;break;case E.p.TWITTER:me=E.$;break;default:const{oauthIdToken:Ee,oauthAccessToken:Ke,oauthTokenSecret:ct,pendingToken:jt,nonce:st}=R;return Ke||ct||Ee||jt?jt?H.startsWith("saml.")?E.aQ._create(H,jt):E.N._fromParams({providerId:H,signInMethod:H,pendingToken:jt,idToken:Ee,accessToken:Ke}):new E.Z(H).credential({idToken:Ee,accessToken:Ke,rawNonce:st}):null}return Q instanceof se.g?me.credentialFromError(Q):me.credentialFromResult(Q)}function pn(Q,R){return R.catch(H=>{throw H instanceof se.g&&function Is(Q,R){var H;const me=null===(H=R.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new Xl(Q,E.as(Q,R));else if(me){const Ee=Ri(R),Ke=R;Ee&&(Ke.credential=Ee,Ke.tenantId=me.tenantId||void 0,Ke.email=me.email||void 0,Ke.phoneNumber=me.phoneNumber||void 0)}}(Q,H),H}).then(H=>{const Ee=H.user;return{operationType:H.operationType,credential:ai(H),additionalUserInfo:E.aq(H),user:Jn.getOrCreate(Ee)}})}function Mi(Q,R){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,b.A)(function*(Q,R){const H=yield R;return{verificationId:H.verificationId,confirm:me=>pn(Q,H.confirm(me))}})).apply(this,arguments)}class Xl{constructor(R,H){this.resolver=H,this.auth=function er(Q){return Q.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return pn(wr(this.auth),this.resolver.resolveSignIn(R))}}class Jn{constructor(R){this._delegate=R,this.multiFactor=E.at(R)}static getOrCreate(R){return Jn.USER_MAP.has(R)||Jn.USER_MAP.set(R,new Jn(R)),Jn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var H=this;return(0,b.A)(function*(){return pn(H.auth,E.a2(H._delegate,R))})()}linkWithPhoneNumber(R,H){var me=this;return(0,b.A)(function*(){return Mi(me.auth,E.l(me._delegate,R,H))})()}linkWithPopup(R){var H=this;return(0,b.A)(function*(){return pn(H.auth,E.d(H._delegate,R,An))})()}linkWithRedirect(R){var H=this;return(0,b.A)(function*(){return yield hi(E.aJ(H.auth)),E.g(H._delegate,R,An)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var H=this;return(0,b.A)(function*(){return pn(H.auth,E.a3(H._delegate,R))})()}reauthenticateWithPhoneNumber(R,H){return Mi(this.auth,E.r(this._delegate,R,H))}reauthenticateWithPopup(R){return pn(this.auth,E.e(this._delegate,R,An))}reauthenticateWithRedirect(R){var H=this;return(0,b.A)(function*(){return yield hi(E.aJ(H.auth)),E.h(H._delegate,R,An)})()}sendEmailVerification(R){return E.ag(this._delegate,R)}unlink(R){var H=this;return(0,b.A)(function*(){return yield E.ap(H._delegate,R),H})()}updateEmail(R){return E.al(this._delegate,R)}updatePassword(R){return E.am(this._delegate,R)}updatePhoneNumber(R){return E.u(this._delegate,R)}updateProfile(R){return E.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,H){return E.ah(this._delegate,R,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jn.USER_MAP=new WeakMap;const Yr=E.aC;let Bs=(()=>{class Q{constructor(H,me){if(this.app=H,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=H.options;Yr(Ee,"invalid-api-key",{appName:H.name}),Yr(Ee,"invalid-api-key",{appName:H.name});const Ke=typeof window<"u"?An:void 0;this._delegate=me.initialize({options:{persistence:Do(Ee,H.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(E.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,me){E.K(this._delegate,H,me)}applyActionCode(H){return E.a7(this._delegate,H)}checkActionCode(H){return E.a8(this._delegate,H)}confirmPasswordReset(H,me){return E.a6(this._delegate,H,me)}createUserWithEmailAndPassword(H,me){var Ee=this;return(0,b.A)(function*(){return pn(Ee._delegate,E.aa(Ee._delegate,H,me))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return E.af(this._delegate,H)}isSignInWithEmailLink(H){return E.ad(this._delegate,H)}getRedirectResult(){var H=this;return(0,b.A)(function*(){Yr(pt(),H._delegate,"operation-not-supported-in-this-environment");const me=yield E.j(H._delegate,An);return me?pn(H._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function he(Q,R){(0,E.aJ)(Q)._logFramework(R)}(this._delegate,H)}onAuthStateChanged(H,me,Ee){const{next:Ke,error:ct,complete:jt}=Br(H,me,Ee);return this._delegate.onAuthStateChanged(Ke,ct,jt)}onIdTokenChanged(H,me,Ee){const{next:Ke,error:ct,complete:jt}=Br(H,me,Ee);return this._delegate.onIdTokenChanged(Ke,ct,jt)}sendSignInLinkToEmail(H,me){return E.ac(this._delegate,H,me)}sendPasswordResetEmail(H,me){return E.a5(this._delegate,H,me||void 0)}setPersistence(H){var me=this;return(0,b.A)(function*(){let Ee;switch(function Hn(Q,R){Vn(Object.values(si).includes(R),Q,"invalid-persistence-type"),(0,se.lV)()?Vn(R!==si.SESSION,Q,"unsupported-persistence-type"):(0,se.Ll)()?Vn(R===si.NONE,Q,"unsupported-persistence-type"):on()?Vn(R===si.NONE||R===si.LOCAL&&(0,se.zW)(),Q,"unsupported-persistence-type"):Vn(R===si.NONE||dt(),Q,"unsupported-persistence-type")}(me._delegate,H),H){case si.SESSION:Ee=E.a;break;case si.LOCAL:Ee=(yield E.aE(E.i)._isAvailable())?E.i:E.b;break;case si.NONE:Ee=E.U;break;default:return E.ax("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return pn(this._delegate,E.a0(this._delegate))}signInWithCredential(H){return pn(this._delegate,E.a1(this._delegate,H))}signInWithCustomToken(H){return pn(this._delegate,E.a4(this._delegate,H))}signInWithEmailAndPassword(H,me){return pn(this._delegate,E.ab(this._delegate,H,me))}signInWithEmailLink(H,me){return pn(this._delegate,E.ae(this._delegate,H,me))}signInWithPhoneNumber(H,me){return Mi(this._delegate,E.s(this._delegate,H,me))}signInWithPopup(H){var me=this;return(0,b.A)(function*(){return Yr(pt(),me._delegate,"operation-not-supported-in-this-environment"),pn(me._delegate,E.c(me._delegate,H,An))})()}signInWithRedirect(H){var me=this;return(0,b.A)(function*(){return Yr(pt(),me._delegate,"operation-not-supported-in-this-environment"),yield hi(me._delegate),E.f(me._delegate,H,An)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return E.a9(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=si,Q})();function Br(Q,R,H){let me=Q;"function"!=typeof Q&&({next:me,error:R,complete:H}=Q);const Ee=me;return{next:ct=>Ee(ct&&Jn.getOrCreate(ct)),error:R,complete:H}}function Do(Q,R){const H=function br(Q,R){const H=Wn();if(!H)return[];const me=E.aF(yr,Q,R);switch(H.getItem(me)){case si.NONE:return[E.U];case si.LOCAL:return[E.i,E.a];case si.SESSION:return[E.a];default:return[]}}(Q,R);if(typeof self<"u"&&!H.includes(E.i)&&H.push(E.i),typeof window<"u")for(const me of[E.b,E.a])H.includes(me)||H.push(me);return H.includes(E.U)||H.push(E.U),H}class Ro{constructor(){this.providerId="phone",this._delegate=new E.P(wr(W.A.auth()))}static credential(R,H){return E.P.credential(R,H)}verifyPhoneNumber(R,H){return this._delegate.verifyPhoneNumber(R,H)}unwrap(){return this._delegate}}Ro.PHONE_SIGN_IN_METHOD=E.P.PHONE_SIGN_IN_METHOD,Ro.PROVIDER_ID=E.P.PROVIDER_ID;const gn=E.aC;class Xa{constructor(R,H,me=W.A.app()){var Ee;gn(null===(Ee=me.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:me.name}),this._delegate=new E.R(me.auth(),R,H),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yo(Q){Q.INTERNAL.registerComponent(new F.uA("auth-compat",R=>{const H=R.getProvider("app-compat").getImmediate(),me=R.getProvider("auth");return new Bs(H,me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:E.A.EMAIL_SIGNIN,PASSWORD_RESET:E.A.PASSWORD_RESET,RECOVER_EMAIL:E.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:E.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:E.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:E.A.VERIFY_EMAIL}},EmailAuthProvider:E.V,FacebookAuthProvider:E.W,GithubAuthProvider:E.Y,GoogleAuthProvider:E.X,OAuthProvider:E.Z,SAMLAuthProvider:E._,PhoneAuthProvider:Ro,PhoneMultiFactorGenerator:E.m,RecaptchaVerifier:Xa,TwitterAuthProvider:E.$,Auth:Bs,AuthCredential:E.L,Error:se.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.5.14")}(W.A)},467:(It,Y,q)=>{function b(E,se,K,M,F,x,L){try{var C=E[x](L),D=C.value}catch(V){return void K(V)}C.done?se(D):Promise.resolve(D).then(M,F)}function W(E){return function(){var se=this,K=arguments;return new Promise(function(M,F){var x=E.apply(se,K);function L(D){b(x,M,F,L,C,"next",D)}function C(D){b(x,M,F,L,C,"throw",D)}L(void 0)})}}q.d(Y,{A:()=>W})},1635:(It,Y,q)=>{function se(he,_e){var le={};for(var ye in he)Object.prototype.hasOwnProperty.call(he,ye)&&_e.indexOf(ye)<0&&(le[ye]=he[ye]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(ye=Object.getOwnPropertySymbols(he);Ne<ye.length;Ne++)_e.indexOf(ye[Ne])<0&&Object.prototype.propertyIsEnumerable.call(he,ye[Ne])&&(le[ye[Ne]]=he[ye[Ne]])}return le}function V(he,_e,le,ye){return new(le||(le=Promise))(function(re,De){function Ze(ft){try{qe(ye.next(ft))}catch(dt){De(dt)}}function wt(ft){try{qe(ye.throw(ft))}catch(dt){De(dt)}}function qe(ft){ft.done?re(ft.value):function Ne(re){return re instanceof le?re:new le(function(De){De(re)})}(ft.value).then(Ze,wt)}qe((ye=ye.apply(he,_e||[])).next())})}function G(he){return this instanceof G?(this.v=he,this):new G(he)}function ee(he,_e,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ye=le.apply(he,_e||[]),re=[];return Ne=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ze("next"),Ze("throw"),Ze("return",function De(pt){return function(an){return Promise.resolve(an).then(pt,dt)}}),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Ze(pt,an){ye[pt]&&(Ne[pt]=function(xt){return new Promise(function(ln,jn){re.push([pt,xt,ln,jn])>1||wt(pt,xt)})},an&&(Ne[pt]=an(Ne[pt])))}function wt(pt,an){try{!function qe(pt){pt.value instanceof G?Promise.resolve(pt.value.v).then(ft,dt):on(re[0][2],pt)}(ye[pt](an))}catch(xt){on(re[0][3],xt)}}function ft(pt){wt("next",pt)}function dt(pt){wt("throw",pt)}function on(pt,an){pt(an),re.shift(),re.length&&wt(re[0][0],re[0][1])}}function X(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,_e=he[Symbol.asyncIterator];return _e?_e.call(he):(he=function B(he){var _e="function"==typeof Symbol&&Symbol.iterator,le=_e&&he[_e],ye=0;if(le)return le.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&ye>=he.length&&(he=void 0),{value:he&&he[ye++],done:!he}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),le={},ye("next"),ye("throw"),ye("return"),le[Symbol.asyncIterator]=function(){return this},le);function ye(re){le[re]=he[re]&&function(De){return new Promise(function(Ze,wt){!function Ne(re,De,Ze,wt){Promise.resolve(wt).then(function(qe){re({value:qe,done:Ze})},De)}(Ze,wt,(De=he[re](De)).done,De.value)})}}}q.d(Y,{AQ:()=>ee,N3:()=>G,Tt:()=>se,sH:()=>V,xN:()=>X}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=5713)}]);